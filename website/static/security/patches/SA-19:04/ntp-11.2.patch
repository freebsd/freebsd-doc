--- contrib/ntp/COPYRIGHT.orig
+++ contrib/ntp/COPYRIGHT
@@ -1,16 +1,15 @@
 This file is automatically generated from html/copyright.html
+  Copyright Notice
 
-  Copyright Notice
-  
    jpg "Clone me," says Dolly sheepishly.
-   
+
    Last update: 2-Jan-2017 11:58 UTC
-     _________________________________________________________________
-   
-   The following copyright notice applies to all files collectively
-   called the Network Time Protocol Version 4 Distribution. Unless
-   specifically declared otherwise in an individual file, this entire
-   notice applies as if the text was explicitly included in the file.
+     __________________________________________________________________
+
+   The following copyright notice applies to all files collectively called
+   the Network Time Protocol Version 4 Distribution. Unless specifically
+   declared otherwise in an individual file, this entire notice applies as
+   if the text was explicitly included in the file.
 ***********************************************************************
 *                                                                     *
 * Copyright (c) University of Delaware 1992-2015                      *
@@ -62,13 +61,13 @@
 ***********************************************************************
 
    The following individuals contributed in part to the Network Time
-   Protocol Distribution Version 4 and are acknowledged as authors of
-   this work.
+   Protocol Distribution Version 4 and are acknowledged as authors of this
+   work.
     1. [1]Takao Abe <takao_abe@xurb.jp> Clock driver for JJY receivers
     2. [2]Mark Andrews <mark_andrews@isc.org> Leitch atomic clock
        controller
-    3. [3]Bernd Altmeier <altmeier@atlsoft.de> hopf Elektronik serial
-       line and PCI-bus devices
+    3. [3]Bernd Altmeier <altmeier@atlsoft.de> hopf Elektronik serial line
+       and PCI-bus devices
     4. [4]Viraj Bais <vbais@mailman1.intel.com> and [5]Clayton Kirkwood
        <kirkwood@striderfm.intel.com> port to WindowsNT 3.5
     5. [6]Michael Barone <michael,barone@lmco.com> GPSVME fixes
@@ -84,13 +83,12 @@
        <Jean-Francois.Boudreault@viagenie.qc.ca> IPv6 support
    12. [13]Reg Clemens <reg@dwf.com> Oncore driver (Current maintainer)
    13. [14]Steve Clift <clift@ml.csiro.au> OMEGA clock driver
-   14. [15]Casey Crellin <casey@csc.co.za> vxWorks (Tornado) port and
-       help with target configuration
+   14. [15]Casey Crellin <casey@csc.co.za> vxWorks (Tornado) port and help
+       with target configuration
    15. [16]Sven Dietrich <sven_dietrich@trimble.com> Palisade reference
        clock driver, NT adj. residuals, integrated Greg's Winnt port.
    16. [17]John A. Dundas III <dundas@salt.jpl.nasa.gov> Apple A/UX port
-   17. [18]Torsten Duwe <duwe@immd4.informatik.uni-erlangen.de> Linux
-       port
+   17. [18]Torsten Duwe <duwe@immd4.informatik.uni-erlangen.de> Linux port
    18. [19]Dennis Ferguson <dennis@mrbill.canet.ca> foundation code for
        NTP Version 2 as specified in RFC-1119
    19. [20]John Hay <jhay@icomtek.csir.co.za> IPv6 support and testing
@@ -122,9 +120,8 @@
        code for Version 3 as specified in RFC-1305
    36. [39]Danny Mayer <mayer@ntp.org>Network I/O, Windows Port, Code
        Maintenance
-   37. [40]David L. Mills <mills@udel.edu> Version 4 foundation,
-       precision kernel; clock drivers: 1, 3, 4, 6, 7, 11, 13, 18, 19,
-       22, 36
+   37. [40]David L. Mills <mills@udel.edu> Version 4 foundation, precision
+       kernel; clock drivers: 1, 3, 4, 6, 7, 11, 13, 18, 19, 22, 36
    38. [41]Wolfgang Moeller <moeller@gwdgv1.dnet.gwdg.de> VMS port
    39. [42]Jeffrey Mogul <mogul@pa.dec.com> ntptrace utility
    40. [43]Tom Moore <tmoore@fievel.daytonoh.ncr.com> i386 svr4 port
@@ -136,22 +133,18 @@
    44. [48]Rainer Pruy <Rainer.Pruy@informatik.uni-erlangen.de>
        monitoring/trap scripts, statistics file handling
    45. [49]Dirce Richards <dirce@zk3.dec.com> Digital UNIX V4.0 port
-   46. [50]Wilfredo Sánchez <wsanchez@apple.com> added support for
-       NetInfo
+   46. [50]Wilfredo Sánchez <wsanchez@apple.com> added support for NetInfo
    47. [51]Nick Sayer <mrapple@quack.kfu.com> SunOS streams modules
    48. [52]Jack Sasportas <jack@innovativeinternet.com> Saved a Lot of
        space on the stuff in the html/pic/ subdirectory
    49. [53]Ray Schnitzler <schnitz@unipress.com> Unixware1 port
    50. [54]Michael Shields <shields@tembel.org> USNO clock driver
-   51. [55]Jeff Steinman <jss@pebbles.jpl.nasa.gov> Datum PTS clock
-       driver
+   51. [55]Jeff Steinman <jss@pebbles.jpl.nasa.gov> Datum PTS clock driver
    52. [56]Harlan Stenn <harlan@pfcs.com> GNU automake/autoconfigure
        makeover, various other bits (see the ChangeLog)
    53. [57]Kenneth Stone <ken@sdd.hp.com> HP-UX port
-   54. [58]Ajit Thyagarajan <ajit@ee.udel.edu>IP multicast/anycast
-       support
-   55. [59]Tomoaki TSURUOKA <tsuruoka@nc.fukuoka-u.ac.jp>TRAK clock
-       driver
+   54. [58]Ajit Thyagarajan <ajit@ee.udel.edu>IP multicast/anycast support
+   55. [59]Tomoaki TSURUOKA <tsuruoka@nc.fukuoka-u.ac.jp>TRAK clock driver
    56. [60]Brian Utterback <brian.utterback@oracle.com> General codebase,
        Solaris issues
    57. [61]Loganaden Velvindron <loganaden@gmail.com> Sandboxing
@@ -160,7 +153,7 @@
        TrueTime clock driver
    59. [63]Ulrich Windl <Ulrich.Windl@rz.uni-regensburg.de> corrected and
        validated HTML documents according to the HTML DTD
-     _________________________________________________________________
+     __________________________________________________________________
 
 References
 
--- contrib/ntp/ChangeLog.orig
+++ contrib/ntp/ChangeLog
@@ -1,5 +1,114 @@
 ---
+(4.2.8p13) 2019/03/07 Released by Harlan Stenn <stenn@ntp.org>
 
+* [Sec 3565] Crafted null dereference attack in authenticated
+	     mode 6 packet <perlinger@ntp.org>
+  - reported by Magnus Stubman
+* [Bug 3560] Fix build when HAVE_DROPROOT is not defined <perlinger@ntp.org>
+  - applied patch by Ian Lepore
+* [Bug 3558] Crash and integer size bug <perlinger@ntp.org>
+  - isolate and fix linux/windows specific code issue
+* [Bug 3556] ntp_loopfilter.c snprintf compilation warnings <perlinger@ntp.org>
+  - provide better function for incremental string formatting
+* [Bug 3555] Tidy up print alignment of debug output from ntpdate <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3554] config revoke stores incorrect value <perlinger@ntp.org>
+  - original finding by Gerry Garvey, additional cleanup needed
+* [Bug 3549] Spurious initgroups() error message <perlinger@ntp.org>
+  - patch by Christous Zoulas
+* [Bug 3548] Signature not verified on windows system <perlinger@ntp.org>
+  - finding by Chen Jiabin, plus another one by me
+* [Bug 3541] patch to fix STA_NANO struct timex units <perlinger@ntp.org>
+  - applied patch by Maciej Szmigiero
+* [Bug 3540] Cannot set minsane to 0 anymore <perlinger@ntp.org>
+  - applied patch by Andre Charbonneau
+* [Bug 3539] work_fork build fails when droproot is not supported <perlinger@ntp.org>
+  - applied patch by Baruch Siach
+* [Bug 3538] Build fails for no-MMU targets <perlinger@ntp.org>
+  - applied patch by Baruch Siach
+* [Bug 3535] libparse won't handle GPS week rollover <perlinger@ntp.org>
+  - refactored handling of GPS era based on 'tos basedate' for
+    parse (TSIP) and JUPITER clocks
+* [Bug 3529] Build failures on Mac OS X 10.13 (High Sierra) <perlinger@ntp.org>
+  - patch by Daniel J. Luke; this does not fix a potential linker
+    regression issue on MacOS.
+* [Bug 3527 - Backward Incompatible] mode7 clockinfo fudgeval2 packet
+  anomaly <perlinger@ntp.org>, reported by GGarvey.
+  - --enable-bug3527-fix support by HStenn
+* [Bug 3526] Incorrect poll interval in packet <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3471] Check for openssl/[ch]mac.h.  <perlinger@ntp.org>
+  - added missing check, reported by Reinhard Max <perlinger@ntp.org>
+* [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+  - this is a variant of [bug 3558] and should be fixed with it
+* Implement --disable-signalled-io
+
+---
+(4.2.8p12) 2018/08/14 Released by Harlan Stenn <stenn@ntp.org>
+
+* [Sec 3505] CVE-2018-12327 - Arbitrary Code Execution Vulnerability
+  - fixed stack buffer overflow in the openhost() command-line call
+    of NTPQ/NTPDC <perlinger@ntp.org>
+* [Sec 3012] noepeer tweaks.  <stenn@ntp.org>
+* [Bug 3521] Fix a logic bug in the INVALIDNAK checks.  <stenn@ntp.org>
+* [Bug 3509] Add support for running as non-root on FreeBSD, Darwin,
+             other TrustedBSD platforms
+  - applied patch by Ian Lepore <perlinger@ntp.org>
+* [Bug 3506] Service Control Manager interacts poorly with NTPD <perlinger@ntp.org>
+  - changed interaction with SCM to signal pending startup
+* [Bug 3486] Buffer overflow in ntpq/ntpq.c:tstflags() <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3485] Undefined sockaddr used in error messages in ntp_config.c <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3484] ntpq response from ntpd is incorrect when REFID is null <perlinger@ntp.org>
+  - rework of ntpq 'nextvar()' key/value parsing
+* [Bug 3482] Fixes for compilation warnings (ntp_io.c & ntpq-subs.c) <perlinger@ntp.org>
+  - applied patch by Gerry Garvey (with mods)
+* [Bug 3480] Refclock sample filter not cleared on clock STEP <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3479] ctl_putrefid() allows unsafe characters through to ntpq <perlinger@ntp.org>
+  - applied patch by Gerry Garvey (with mods)
+* [Bug 3476]ctl_putstr() sends empty unquoted string [...] <perlinger@ntp.org>
+  - applied patch by Gerry Garvey (with mods); not sure if that's bug or feature, though
+* [Bug 3475] modify prettydate() to suppress output of zero time <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3474] Missing pmode in mode7 peer info response <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3471] Check for openssl/[ch]mac.h.  HStenn.
+  - add #define ENABLE_CMAC support in configure.  HStenn.
+* [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL <perlinger@ntp.org>
+* [Bug 3469] Incomplete string compare [...] in is_refclk_addr <perlinger@ntp.org>
+  - patch by Stephen Friedl
+* [Bug 3467] Potential memory fault in ntpq [...] <perlinger@ntp.org>
+  - fixed IO redirection and CTRL-C handling in ntq and ntpdc
+* [Bug 3465] Default TTL values cannot be used <perlinger@ntp.org>
+* [Bug 3461] refclock_shm.c: clear error status on clock recovery <perlinger@ntp.org>
+  - initial patch by Hal Murray; also fixed refclock_report() trouble
+* [Bug 3460] Fix typo in ntpq.texi, reported by Kenyon Ralph.  <stenn@ntp.org>
+* [Bug 3456] Use uintptr_t rather than size_t to store an integer in a pointer
+  - According to Brooks Davis, there was only one location <perlinger@ntp.org>
+* [Bug 3449] ntpq - display "loop" instead of refid [...] <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3445] Symmetric peer won't sync on startup <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3442] Fixes for ntpdate as suggested by Gerry Garvey,
+  with modifications
+  New macro REFID_ISTEXT() which is also used in ntpd/ntp_control.c.
+* [Bug 3434] ntpd clears STA_UNSYNC on start <perlinger@ntp.org>
+  - applied patch by Miroslav Lichvar
+* [Bug 3426] ntpdate.html -t default is 2 seconds.  Leonid Evdokimov.
+* [Bug 3121] Drop root privileges for the forked DNS worker <perlinger@ntp.org>
+  - integrated patch by  Reinhard Max
+* [Bug 2821] minor build issues <perlinger@ntp.org>
+  - applied patches by Christos Zoulas, including real bug fixes
+* html/authopt.html: cleanup, from <stenn@ntp.org>
+* ntpd/ntpd.c: DROPROOT cleanup.  <stenn@ntp.org>
+* Symmetric key range is 1-65535.  Update docs.  <stenn@ntp.org>
+* html/authentic.html: cleanup, from <stenn@ntp.org>
+
+---
+(4.2.8p11) 2018/02/27 Released by Harlan Stenn <stenn@ntp.org>
+
 * [Sec 3454] Unauthenticated packet can reset authenticated interleave
   associations.  HStenn.
 * [Sec 3453] Interleaved symmetric mode cannot recover from bad state.  HStenn.
@@ -14,16 +123,16 @@
  - applied patch by Sean Haugh 
 * [Bug 3452] PARSE driver prints uninitialized memory. <perlinger@ntp.org>
 * [Bug 3450] Dubious error messages from plausibility checks in get_systime()
- - removed error log caused by rounding/slew, ensured postcondition <perlinger@ntp.org>
+  - removed error log caused by rounding/slew, ensured postcondition <perlinger@ntp.org>
 * [Bug 3447] AES-128-CMAC (fixes) <perlinger@ntp.org>
   - refactoring the MAC code, too
 * [Bug 3441] Validate the assumption that AF_UNSPEC is 0.  stenn@ntp.org
 * [Bug 3439] When running multiple commands / hosts in ntpq... <perlinger@ntp.org>
- - applied patch by ggarvey
+  - applied patch by ggarvey
 * [Bug 3438] Negative values and values > 999 days in... <perlinger@ntp.org>
- - applied patch by ggarvey (with minor mods)
+  - applied patch by ggarvey (with minor mods)
 * [Bug 3437] ntpd tries to open socket with AF_UNSPEC domain
- - applied patch (with mods) by Miroslav Lichvar <perlinger@ntp.org>
+  - applied patch (with mods) by Miroslav Lichvar <perlinger@ntp.org>
 * [Bug 3435] anchor NTP era alignment <perlinger@ntp.org>
 * [Bug 3433] sntp crashes when run with -a.  <stenn@ntp.org>
 * [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
--- contrib/ntp/CommitLog.orig
+++ contrib/ntp/CommitLog
@@ -1,363 +1,6898 @@
-ChangeSet@1.3729, 2017-02-01 07:39:35-05:00, stenn@deacon.udel.edu
+ChangeSet@1.3849, 2019-02-20 17:13:36-08:00, harlan@ntp-build.tal1.ntfo.org
+  Update NEWS file
+
+  NEWS@1.200 +3 -0
+    Update NEWS file
+
+ChangeSet@1.3848, 2019-02-20 09:44:58-08:00, harlan@ntp-build.tal1.ntfo.org
+  build system cleanups
+
+  build@1.50 +1 -1
+    build system cleanups
+
+  scripts/build/check--help@1.4 +2 -2
+    build system cleanups
+
+  sntp/libopts/autoopts/options.h@1.31 +1 -1
+    build system cleanups
+
+  sntp/libopts/genshell.h@1.31 +1 -1
+    build system cleanups
+
+ChangeSet@1.3847, 2019-02-18 22:26:26-08:00, harlan@ntp-build.tal1.ntfo.org
+  ChangeLog and NEWS description cleanups
+
+  ChangeLog@1.1971 +4 -4
+    ChangeLog and NEWS description cleanups
+
+  NEWS@1.199 +4 -2
+    ChangeLog and NEWS description cleanups
+
+ChangeSet@1.3844.1.4, 2019-02-18 20:10:25-08:00, harlan@ntp-build.tal1.ntfo.org
+  NEWS file update
+
+  NEWS@1.198 +49 -2
+    NEWS file update
+
+ChangeSet@1.3844.1.3, 2019-02-16 07:36:50+00:00, stenn@stenn.ntp.org
+  Improve messages around signalled IO handling in configure
+
+  sntp/m4/ntp_libntp.m4@1.38 +5 -0
+    Improve messages around signalled IO handling in configure
+
+ChangeSet@1.3844.1.2, 2019-02-15 13:27:05+00:00, stenn@stenn.ntp.org
+  Implement --disable-signalled-io
+
+  ChangeLog@1.1968.1.2 +1 -0
+    Implement --disable-signalled-io
+
+  sntp/m4/ntp_libntp.m4@1.37 +22 -2
+    Implement --disable-signalled-io
+
+ChangeSet@1.3844.1.1, 2019-01-17 04:16:52+00:00, stenn@psp-deb1.ntp.org
+  Cleanup
+
+  ChangeLog@1.1968.1.1 +0 -1
+    Cleanup
+
+ChangeSet@1.3845, 2019-01-16 21:42:59+01:00, perlinger@ntp.org
+  [Sec 3565] null pointer crash by remote attack
+
+  ChangeLog@1.1969 +3 -0
+    [Sec 3565] null pointer crash by remote attack
+
+  ntpd/ntp_control.c@1.233 +17 -9
+    [Sec 3565] null pointer crash by remote attack
+
+ChangeSet@1.3827.1.2, 2018-12-15 13:25:25+00:00, stenn@psp-deb1.ntp.org
+  bug3527 fixes
+
+  ChangeLog@1.1952.1.2 +3 -3
+    bug3527 fixes
+
+  configure.ac@1.614.1.1 +18 -0
+    bug3527 fixes
+
+  ntpd/ntp_request.c@1.129 +7 -4
+    bug3527 fixes
+
+  ntpdc/ntpdc_ops.c@1.85 +8 -3
+    bug3527 fixes
+
+ChangeSet@1.3827.15.1, 2018-12-12 07:37:12+01:00, perlinger@ntp.org
+  [Bug 3560] Fix build when HAVE_DROPROOT is not defined
+
+  ChangeLog@1.1952.15.1 +4 -0
+    [Bug 3560] Fix build when HAVE_DROPROOT is not defined
+
+  libntp/work_fork.c@1.20.2.1 +2 -0
+    [Bug 3560] Fix build when HAVE_DROPROOT is not defined
+
+ChangeSet@1.3827.14.1, 2018-12-11 07:42:01+01:00, perlinger@ntp.org
+  [Bug 3558] Crash and integer size bug
+  [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+   - isolate & fix LP64/LLP64 problem with BANCOMM SDK
+
+  ChangeLog@1.1952.14.1 +6 -0
+    [Bug 3558] Crash and integer size bug
+    [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+     - isolate & fix LP64/LLP64 problem with BANCOMM SDK
+
+  configure.ac@1.615 +1 -0
+    [Bug 3558] Crash and integer size bug
+    [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+     - search for BANCOMM SDK lib
+
+  ntpd/refclock_bancomm.c@1.17 +96 -23
+    [Bug 3558] Crash and integer size bug
+    [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+     - isolate & fix LP64/LLP64 problem with BANCOMM SDK
+
+ChangeSet@1.3827.11.2, 2018-12-05 06:58:13+01:00, perlinger@ntp.org
+  Bug 3556 - ntp_loopfilter.c snprintf compilation warnings
+   - stricter buffer range checks
+
+  libntp/xsbprintf.c@1.2 +11 -13
+    Bug 3556 - ntp_loopfilter.c snprintf compilation warnings
+     - stricter buffer range checks
+
+  tests/libntp/run-sbprintf.c@1.2 +8 -4
+    Bug 3556 - ntp_loopfilter.c snprintf compilation warnings
+     - stricter buffer range checks
+
+  tests/libntp/sbprintf.c@1.2 +28 -0
+    Bug 3556 - ntp_loopfilter.c snprintf compilation warnings
+     - stricter buffer range checks
+
+ChangeSet@1.3827.10.2, 2018-12-03 02:29:24-05:00, stenn@psp-fb1.ntp.org
+  Update Changelog for latest fix for 3471
+
+  ChangeLog@1.1952.10.2 +6 -1
+    Update Changelog for latest fix for 3471
+
+ChangeSet@1.3827.13.1, 2018-12-02 09:05:37+01:00, perlinger@ntp.org
+  [Bug 3555] Tidy up print alignment of debug output from ntpdate
+
+  ChangeLog@1.1952.13.1 +4 -0
+    [Bug 3555] Tidy up print alignment of debug output from ntpdate
+
+  ntpdate/ntpdate.c@1.102 +12 -9
+    [Bug 3555] Tidy up print alignment of debug output from ntpdate
+
+ChangeSet@1.3827.12.1, 2018-12-02 08:17:05+01:00, perlinger@ntp.org
+  [Bug 3554] config revoke stores incorrect value
+   - plus some additional cleanup
+
+  ChangeLog@1.1952.12.1 +4 -0
+    [Bug 3554] config revoke stores incorrect value
+
+  include/ntpd.h@1.204 +2 -2
+    [Bug 3554] config revoke stores incorrect value
+     - sys_{revoke,automax} hold positive log2 value -- unsigned char is enough.
+
+  ntpd/ntp_config.c@1.365.2.1 +12 -3
+    [Bug 3554] config revoke stores incorrect value
+     - sys_{revoke,automax} hold positive log2 value for shift; clamp values
+
+  ntpd/ntp_crypto.c@1.190.1.1 +2 -2
+    [Bug 3554] config revoke stores incorrect value
+     - avoid possible integer truncation
+
+  ntpd/ntp_timer.c@1.97 +4 -4
+    [Bug 3554] config revoke stores incorrect value
+     - sys_{revoke,automax} hold positive log2 value -- unsigned char is enough.
+     - avoid possible integer truncation
+
+ChangeSet@1.3827.11.1, 2018-12-01 12:10:51+01:00, perlinger@ntp.org
+  [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+   - provide better function for incremental string formatting
+
+  ChangeLog@1.1952.11.1 +4 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - provide better function for incremental string formatting
+
+  include/ntp_stdlib.h@1.87 +3 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - provide better API for incremental string formatting
+
+  libntp/Makefile.am@1.82 +1 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  libntp/xsbprintf.c@1.1 +77 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - implement new API for incremental string formatting
+
+  libntp/xsbprintf.c@1.0 +0 -0
+
+  ntpd/ntp_loopfilter.c@1.192 +18 -14
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - use new API for incremental string formatting
+
+  ports/winnt/vs2005/libntp.vcproj@1.27 +4 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  ports/winnt/vs2008/libntp/libntp.vcproj@1.58 +4 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  ports/winnt/vs2013/libntp/libntp.vcxproj@1.14 +3 -2
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  ports/winnt/vs2013/libntp/libntp.vcxproj.filters@1.12 +5 -2
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  ports/winnt/vs2015/libntp/libntp.vcxproj@1.4 +3 -2
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  ports/winnt/vs2015/libntp/libntp.vcxproj.filters@1.4 +5 -2
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add source of new API for incremental string formatting
+
+  tests/libntp/Makefile.am@1.100 +12 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add string buffer formatting tests
+
+  tests/libntp/run-sbprintf.c@1.1 +72 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add string buffer formatting tests
+
+  tests/libntp/run-sbprintf.c@1.0 +0 -0
+
+  tests/libntp/sbprintf.c@1.1 +67 -0
+    [Bug 3556] ntp_loopfilter.c snprintf compilation warnings
+     - add string buffer formatting tests
+
+  tests/libntp/sbprintf.c@1.0 +0 -0
+
+ChangeSet@1.3827.10.1, 2018-11-30 06:34:35+01:00, perlinger@ntp.org
+  [Bug 3471] Check for openssl/[ch]mac.h
+   - added missing check in code
+
+  ChangeLog@1.1952.10.1 +1 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - added missing check in code
+
+  libntp/authreadkeys.c@1.33 +2 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - added missing check in code
+
+ChangeSet@1.3827.9.1, 2018-11-11 12:03:14+01:00, perlinger@ntp.org
+  [Bug 3549] Spurious initgroups() error message
+
+  ChangeLog@1.1952.9.1 +4 -0
+    [Bug 3549] Spurious initgroups() error message
+
+  ntpd/ntpd.c@1.177.2.1 +33 -17
+    [Bug 3549] Spurious initgroups() error message
+     - make 'set_user_group_ids()' idempotent: If we're already there, don't complain.
+
+ChangeSet@1.3827.8.1, 2018-11-11 11:07:23+01:00, perlinger@ntp.org
+  [Bug 3548] Signature not verified on windows system
+
+  ChangeLog@1.1952.8.1 +4 -0
+    [Bug 3548] Signature not verified on windows system
+
+  ntpd/ntp_crypto.c@1.191 +2 -1
+    [Bug 3548] Signature not verified on windows system
+     - ntohl() can be a macro
+
+  sntp/networking.c@1.70 +2 -1
+    [Bug 3548] Signature not verified on windows system
+     - ntohl() can be a macro
+
+ChangeSet@1.3827.7.1, 2018-11-11 09:56:34+01:00, perlinger@ntp.org
+  [Bug 3541] patch to fix STA_NANO struct timex units
+
+  ChangeLog@1.1952.7.1 +4 -0
+    [Bug 3541] patch to fix STA_NANO struct timex units
+
+  ntpd/ntp_control.c@1.232 +9 -7
+    [Bug 3541] patch to fix STA_NANO struct timex units
+
+  ntpdc/ntpdc_ops.c@1.83.1.1 +7 -7
+    [Bug 3541] patch to fix STA_NANO struct timex units
+
+  util/ntptime.c@1.28 +0 -4
+    [Bug 3541] patch to fix STA_NANO struct timex units
+
+ChangeSet@1.3827.6.1, 2018-10-27 11:00:56+02:00, perlinger@ntp.org
+  [Bug 3540] Cannot set minsane to 0 anymore
+
+  ChangeLog@1.1952.6.1 +4 -0
+    [Bug 3540] Cannot set minsane to 0 anymore
+
+  ntpd/ntp_config.c@1.365.1.1 +2 -2
+    [Bug 3540] Cannot set minsane to 0 anymore
+
+ChangeSet@1.3827.5.1, 2018-10-27 10:33:55+02:00, perlinger@ntp.org
+  [Bug 3539] work_fork build fails when droproot is not supported
+
+  ChangeLog@1.1952.5.1 +4 -0
+    [Bug 3539] work_fork build fails when droproot is not supported
+
+  libntp/work_fork.c@1.20.1.1 +2 -0
+    [Bug 3539] work_fork build fails when droproot is not supported
+
+ChangeSet@1.3827.4.1, 2018-10-27 10:23:05+02:00, perlinger@ntp.org
+  [Bug 3538] Build fails for no-MMU targets
+
+  ChangeLog@1.1952.4.1 +4 -0
+    [Bug 3538] Build fails for no-MMU targets
+
+  ntpd/ntpd.c@1.177.1.1 +2 -0
+    [Bug 3538] Build fails for no-MMU targets
+
+ChangeSet@1.3827.3.1, 2018-10-13 08:03:48+02:00, perlinger@ntp.org
+  [Bug 3535] libparse won't handle GPS week rollover
+
+  ChangeLog@1.1952.3.1 +5 -0
+    [Bug 3535] libparse won't handle GPS week rollover
+
+  include/ntp_calendar.h@1.20 +21 -3
+    [Bug 3535] libparse won't handle GPS week rollover
+     - GPS week era support
+
+  include/parse.h@1.15 +0 -1
+    [Bug 3535] libparse won't handle GPS week rollover
+     - remove GPSWRAP definition to avoid lurking uses
+
+  libntp/calyearstart.c@1.7 +1 -1
+    [Bug 3535] libparse won't handle GPS week rollover
+
+  libntp/ntp_calendar.c@1.21 +38 -0
+    [Bug 3535] libparse won't handle GPS week rollover
+     - set GPS base week as first Sunday on or after base date
+
+  libparse/clk_trimtsip.c@1.15 +5 -9
+    [Bug 3535] libparse won't handle GPS week rollover
+     - use centralized week expansion code
+
+  libparse/gpstolfp.c@1.14 +0 -5
+    [Bug 3535] libparse won't handle GPS week rollover
+     - don't try to expand weeks in the conversion
+
+  ntpd/ntp_config.c@1.366 +4 -0
+    [Bug 3535] libparse won't handle GPS week rollover
+     - set basedate based on build stamp if not set explicitely
+
+  ntpd/refclock_jupiter.c@1.32 +1 -56
+    [Bug 3535] libparse won't handle GPS week rollover
+     - use centralized week expansion code instead of local copy
+
+  ntpd/refclock_parse.c@1.87 +1 -2
+    [Bug 3535] libparse won't handle GPS week rollover
+     - use centralized week expansion code
+
+ChangeSet@1.3827.2.1, 2018-10-02 18:03:33+02:00, perlinger@ntp.org
+  [Bug 3529] Build failures on Mac OS X 10.13 (High Sierra)
+
+  ChangeLog@1.1952.2.1 +5 -0
+    [Bug 3529] Build failures on Mac OS X 10.13 (High Sierra)
+
+  libntp/work_fork.c@1.21 +6 -3
+    [Bug 3529] Build failures on Mac OS X 10.13 (High Sierra)
+     - make existence of 'set_user_group_ids()' depend on HAVE_DROPROOT
+
+ChangeSet@1.3827.1.1, 2018-10-02 17:38:18+02:00, perlinger@ntp.org
+  [Bug 3527] fudgeval2 anomaly in mode7 clock info packet
+
+  ChangeLog@1.1952.1.1 +5 -0
+    [Bug 3527] fudgeval2 anomaly in mode7 clock info packet
+
+  ntpd/ntp_request.c@1.128 +5 -0
+    [Bug 3527] fudgeval2 anomaly in mode7 clock info packet
+
+  ntpdc/ntpdc_ops.c@1.84 +4 -0
+    [Bug 3527] fudgeval2 anomaly in mode7 clock info packet
+
+ChangeSet@1.3828, 2018-09-12 22:52:00+02:00, perlinger@ntp.org
+  [Bug 3526] Incorrect poll interval in packet
+
+  ChangeLog@1.1953 +4 -0
+    [Bug 3526] Incorrect poll interval in packet
+
+  ntpd/ntp_proto.c@1.423 +4 -4
+    [Bug 3526] Incorrect poll interval in packet
+
+  ntpd/ntpd.c@1.178 +4 -4
+    [Bug 3526] Incorrect poll interval in packet
+     (side kick: fix function prototypes. C is not C++.)
+
+  sntp/main.c@1.104 +2 -3
+    [Bug 3526] Incorrect poll interval in packet
+     (side kick: fix function prototypes. C is not C++.)
+
+ChangeSet@1.3827, 2018-08-14 08:31:08-04:00, stenn@deacon.udel.edu
+  NTP_4_2_8P12
+  TAG: NTP_4_2_8P12
+
+  ChangeLog@1.1952 +1 -0
+    NTP_4_2_8P12
+
+  ntpd/invoke-ntp.conf.texi@1.217 +1 -1
+    NTP_4_2_8P12
+
+  ntpd/invoke-ntp.keys.texi@1.202 +1 -1
+    NTP_4_2_8P12
+
+  ntpd/invoke-ntpd.texi@1.516 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntp.conf.5man@1.251 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntp.conf.5mdoc@1.251 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntp.conf.html@1.200 +92 -105
+    NTP_4_2_8P12
+
+  ntpd/ntp.conf.man.in@1.251 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntp.conf.mdoc.in@1.251 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntp.keys.5man@1.236 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntp.keys.5mdoc@1.236 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntp.keys.html@1.199 +17 -29
+    NTP_4_2_8P12
+
+  ntpd/ntp.keys.man.in@1.236 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntp.keys.mdoc.in@1.236 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntpd-opts.c@1.538 +7 -7
+    NTP_4_2_8P12
+
+  ntpd/ntpd-opts.h@1.537 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntpd.1ntpdman@1.345 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntpd.1ntpdmdoc@1.345 +2 -2
+    NTP_4_2_8P12
+
+  ntpd/ntpd.html@1.191 +101 -145
+    NTP_4_2_8P12
+
+  ntpd/ntpd.man.in@1.345 +3 -3
+    NTP_4_2_8P12
+
+  ntpd/ntpd.mdoc.in@1.345 +2 -2
+    NTP_4_2_8P12
+
+  ntpdc/invoke-ntpdc.texi@1.513 +2 -2
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc-opts.c@1.531 +7 -7
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc-opts.h@1.530 +3 -3
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc.1ntpdcman@1.344 +3 -3
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.344 +2 -2
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc.html@1.359 +57 -77
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc.man.in@1.344 +3 -3
+    NTP_4_2_8P12
+
+  ntpdc/ntpdc.mdoc.in@1.344 +2 -2
+    NTP_4_2_8P12
+
+  ntpq/invoke-ntpq.texi@1.523 +2 -2
+    NTP_4_2_8P12
+
+  ntpq/ntpq-opts.c@1.540 +7 -7
+    NTP_4_2_8P12
+
+  ntpq/ntpq-opts.h@1.538 +3 -3
+    NTP_4_2_8P12
+
+  ntpq/ntpq.1ntpqman@1.351 +3 -3
+    NTP_4_2_8P12
+
+  ntpq/ntpq.1ntpqmdoc@1.351 +2 -2
+    NTP_4_2_8P12
+
+  ntpq/ntpq.html@1.190 +105 -129
+    NTP_4_2_8P12
+
+  ntpq/ntpq.man.in@1.351 +3 -3
+    NTP_4_2_8P12
+
+  ntpq/ntpq.mdoc.in@1.351 +2 -2
+    NTP_4_2_8P12
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.515 +1 -1
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.533 +7 -7
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.532 +3 -3
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.344 +3 -3
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.344 +2 -2
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd.html@1.185 +10 -14
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd.man.in@1.344 +3 -3
+    NTP_4_2_8P12
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.344 +2 -2
+    NTP_4_2_8P12
+
+  packageinfo.sh@1.542 +2 -2
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.105 +3 -3
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.106 +2 -2
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/calc_tickadj.html@1.106 +1 -1
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.104 +3 -3
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.106 +2 -2
+    NTP_4_2_8P12
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.109 +1 -1
+    NTP_4_2_8P12
+
+  scripts/invoke-plot_summary.texi@1.127 +2 -2
+    NTP_4_2_8P12
+
+  scripts/invoke-summary.texi@1.126 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.336 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait-opts@1.72 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.333 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.334 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait.html@1.355 +31 -49
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait.man.in@1.333 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.334 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.124 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep-opts@1.74 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.112 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.112 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep.html@1.127 +33 -44
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep.man.in@1.112 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.113 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.125 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace-opts@1.74 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.112 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.113 +2 -2
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace.html@1.128 +27 -36
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace.man.in@1.112 +3 -3
+    NTP_4_2_8P12
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.114 +2 -2
+    NTP_4_2_8P12
+
+  scripts/plot_summary-opts@1.75 +2 -2
+    NTP_4_2_8P12
+
+  scripts/plot_summary.1plot_summaryman@1.125 +3 -3
+    NTP_4_2_8P12
+
+  scripts/plot_summary.1plot_summarymdoc@1.125 +2 -2
+    NTP_4_2_8P12
+
+  scripts/plot_summary.html@1.130 +29 -47
+    NTP_4_2_8P12
+
+  scripts/plot_summary.man.in@1.125 +3 -3
+    NTP_4_2_8P12
+
+  scripts/plot_summary.mdoc.in@1.125 +2 -2
+    NTP_4_2_8P12
+
+  scripts/summary-opts@1.74 +2 -2
+    NTP_4_2_8P12
+
+  scripts/summary.1summaryman@1.124 +3 -3
+    NTP_4_2_8P12
+
+  scripts/summary.1summarymdoc@1.124 +2 -2
+    NTP_4_2_8P12
+
+  scripts/summary.html@1.129 +27 -39
+    NTP_4_2_8P12
+
+  scripts/summary.man.in@1.124 +3 -3
+    NTP_4_2_8P12
+
+  scripts/summary.mdoc.in@1.124 +2 -2
+    NTP_4_2_8P12
+
+  scripts/update-leap/invoke-update-leap.texi@1.25 +1 -1
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap-opts@1.25 +2 -2
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap.1update-leapman@1.25 +3 -3
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.25 +2 -2
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap.html@1.27 +35 -59
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap.man.in@1.25 +3 -3
+    NTP_4_2_8P12
+
+  scripts/update-leap/update-leap.mdoc.in@1.25 +2 -2
+    NTP_4_2_8P12
+
+  sntp/invoke-sntp.texi@1.515 +23 -27
+    NTP_4_2_8P12
+
+  sntp/sntp-opts.c@1.534 +7 -7
+    NTP_4_2_8P12
+
+  sntp/sntp-opts.h@1.532 +3 -3
+    NTP_4_2_8P12
+
+  sntp/sntp.1sntpman@1.350 +3 -3
+    NTP_4_2_8P12
+
+  sntp/sntp.1sntpmdoc@1.350 +2 -2
+    NTP_4_2_8P12
+
+  sntp/sntp.html@1.531 +106 -134
+    NTP_4_2_8P12
+
+  sntp/sntp.man.in@1.350 +3 -3
+    NTP_4_2_8P12
+
+  sntp/sntp.mdoc.in@1.350 +2 -2
+    NTP_4_2_8P12
+
+  util/invoke-ntp-keygen.texi@1.518 +2 -2
+    NTP_4_2_8P12
+
+  util/ntp-keygen-opts.c@1.536 +7 -7
+    NTP_4_2_8P12
+
+  util/ntp-keygen-opts.h@1.534 +3 -3
+    NTP_4_2_8P12
+
+  util/ntp-keygen.1ntp-keygenman@1.346 +3 -3
+    NTP_4_2_8P12
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.346 +2 -2
+    NTP_4_2_8P12
+
+  util/ntp-keygen.html@1.191 +148 -206
+    NTP_4_2_8P12
+
+  util/ntp-keygen.man.in@1.346 +3 -3
+    NTP_4_2_8P12
+
+  util/ntp-keygen.mdoc.in@1.346 +2 -2
+    NTP_4_2_8P12
+
+ChangeSet@1.3826, 2018-08-14 07:16:23-04:00, stenn@deacon.udel.edu
+  Trigger the release of ntp-4.2.8p12
+
+  packageinfo.sh@1.541 +1 -1
+    Trigger the release of ntp-4.2.8p12
+
+ChangeSet@1.3825, 2018-08-13 04:31:37+00:00, stenn@psp-deb1.ntp.org
+  NEWS update
+
+  NEWS@1.197 +1 -1
+    NEWS update
+
+ChangeSet@1.3812.1.10, 2018-08-04 10:31:58+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3521] Fix a logic bug in the INVALIDNAK checks
+
+  ChangeLog@1.1942.1.9 +1 -0
+    [Bug 3521] Fix a logic bug in the INVALIDNAK checks
+
+  NEWS@1.192.1.2 +1 -0
+    [Bug 3521] Fix a logic bug in the INVALIDNAK checks
+
+  ntpd/ntp_proto.c@1.422 +46 -35
+    [Bug 3521] Fix a logic bug in the INVALIDNAK checks
+
+ChangeSet@1.3823, 2018-07-28 05:03:57+00:00, stenn@psp-deb1.ntp.org
+  3505 description updates
+
+  ChangeLog@1.1950 +2 -1
+    3505 description updates
+
+  NEWS@1.195 +2 -2
+    3505 description updates
+
+ChangeSet@1.3812.1.9, 2018-07-25 09:56:39+00:00, stenn@psp-deb1.ntp.org
+  updates
+
+  ChangeLog@1.1942.1.8 +1 -0
+    updates
+
+  NEWS@1.192.1.1 +2 -2
+    updates
+
+  html/authentic.html@1.18 +219 -87
+    updates
+
+ChangeSet@1.3821, 2018-07-25 07:41:01+00:00, stenn@psp-deb1.ntp.org
+  updates
+
+  ntpd/ntp.conf.html@1.199 +104 -91
+    updates
+
+  ntpd/ntp.keys.html@1.198 +28 -16
+    updates
+
+  ntpd/ntpd.html@1.190 +145 -101
+    updates
+
+  ntpdc/ntpdc.html@1.358 +75 -55
+    updates
+
+  ntpsnmpd/ntpsnmpd.html@1.184 +13 -9
+    updates
+
+  scripts/ntp-wait/ntp-wait.html@1.354 +47 -29
+    updates
+
+  scripts/ntpsweep/ntpsweep.html@1.126 +42 -31
+    updates
+
+  scripts/ntptrace/ntptrace.html@1.127 +34 -25
+    updates
+
+  scripts/plot_summary.html@1.129 +45 -27
+    updates
+
+  scripts/summary.html@1.128 +37 -25
+    updates
+
+  scripts/update-leap/update-leap.html@1.26 +132 -34
+    updates
+
+  sntp/sntp.html@1.530 +107 -83
+    updates
+
+ChangeSet@1.3820, 2018-07-25 07:38:42+00:00, stenn@psp-deb1.ntp.org
+  Bug 3509 tweaks
+
+  NEWS@1.193 +6 -1
+    Bug 3509 tweaks
+
+  sntp/m4/ntp_libntp.m4@1.36 +1 -1
+    Bug 3509 tweaks
+
+ChangeSet@1.3816.1.1, 2018-07-25 07:08:13+02:00, perlinger@ntp.org
+  [Bug 3509] Add support for running as non-root on FreeBSD, Darwin, other TrustedBSD platforms
+
+  ChangeLog@1.1946.1.1 +3 -0
+    [Bug 3509] Add support for running as non-root on FreeBSD, Darwin, other TrustedBSD platforms
+
+  ntpd/ntpd.c@1.177 +20 -2
+    [Bug 3509] Add support for running as non-root on FreeBSD, Darwin, other TrustedBSD platforms
+
+  sntp/m4/ntp_libntp.m4@1.35 +22 -1
+    [Bug 3509] Add support for running as non-root on FreeBSD, Darwin, other TrustedBSD platforms
+
+ChangeSet@1.3812.1.8, 2018-07-24 09:16:25+00:00, stenn@psp-deb1.ntp.org
+  Symmetric key range is 1-65535.  Update docs.
+
+  html/authentic.html@1.17 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/invoke-ntp.conf.texi@1.216 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.5man@1.250 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.5mdoc@1.250 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.def@1.33 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.html@1.198 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.man.in@1.250 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.mdoc.in@1.250 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+ChangeSet@1.3812.1.7, 2018-07-24 07:38:08+00:00, stenn@psp-deb1.ntp.org
+  Symmetric key range is 1-65535.  Update docs.
+
+  ChangeLog@1.1942.1.7 +1 -0
+    Symmetric key range is 1-65535.  Update docs.
+
+  NEWS@1.192 +66 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  html/authopt.html@1.76 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  html/confopt.html@1.64 +2 -2
+    Symmetric key range is 1-65535.  Update docs.
+
+  html/keygen.html@1.37 +2 -2
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/complete.conf.in@1.34 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/invoke-ntp.conf.texi@1.215 +2 -2
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/invoke-ntp.keys.texi@1.201 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.5man@1.249 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.5mdoc@1.249 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.def@1.32 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.html@1.197 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.man.in@1.249 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.conf.mdoc.in@1.249 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.5man@1.235 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.5mdoc@1.235 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.def@1.13 +2 -2
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.html@1.197 +2 -2
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.man.in@1.235 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpd/ntp.keys.mdoc.in@1.235 +5 -5
+    Symmetric key range is 1-65535.  Update docs.
+
+  ntpq/ntpq.html@1.189 +129 -105
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/invoke-ntp-keygen.texi@1.517 +21 -19
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen-opts.c@1.535 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen-opts.def@1.32 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen-opts.h@1.533 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.1ntp-keygenman@1.345 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.345 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.html@1.190 +208 -150
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.man.in@1.345 +4 -4
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.mdoc.in@1.345 +3 -3
+    Symmetric key range is 1-65535.  Update docs.
+
+  util/ntp-keygen.texi@1.3 +1 -1
+    Symmetric key range is 1-65535.  Update docs.
+
+ChangeSet@1.3812.1.6, 2018-07-21 07:59:28+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3460] Fix typo in ntpq.texi, reported by Kenyon Ralph.  <stenn@ntp.org>
+
+  ChangeLog@1.1942.1.6 +1 -0
+    [Bug 3460] Fix typo in ntpq.texi, reported by Kenyon Ralph.  <stenn@ntp.org>
+
+  ntpq/ntpq.texi@1.6 +1 -1
+    [Bug 3460] Fix typo in ntpq.texi, reported by Kenyon Ralph.  <stenn@ntp.org>
+
+ChangeSet@1.3812.1.5, 2018-07-21 04:25:55+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3426] ntpdate.html -t default is 2 seconds.  Leonid Evdokimov.
+
+  ChangeLog@1.1942.1.5 +2 -1
+    [Bug 3426] ntpdate.html -t default is 2 seconds.  Leonid Evdokimov.
+
+  html/ntpdate.html@1.29 +2 -2
+    [Bug 3426] ntpdate.html -t default is 2 seconds.  Leonid Evdokimov.
+
+ChangeSet@1.3812.1.3, 2018-07-20 08:57:05+00:00, stenn@psp-deb1.ntp.org
+  Tweak the description of bug 3506
+
+  ChangeLog@1.1942.1.3 +1 -1
+    Tweak the description of bug 3506
+
+ChangeSet@1.3812.1.1, 2018-07-03 22:51:08+02:00, perlinger@ntp.org
+  [Bug 3506] NTPD/SCM interact not well
+
+  ChangeLog@1.1942.1.1 +2 -0
+    [Bug 3506] NTPD/SCM interact not well
+
+  ntpd/ntpd.c@1.176 +14 -1
+    [Bug 3506] NTPD/SCM interact not well
+     - changed interaction with SCM to signal pending startup
+
+  ports/winnt/include/ntservice.h@1.5 +1 -0
+    [Bug 3506] NTPD/SCM interact not well
+     - changed interaction with SCM to signal pending startup
+
+  ports/winnt/ntpd/nt_clockstuff.c@1.67 +0 -6
+    [Bug 3506] NTPD/SCM interact not well
+     - changed interaction with SCM to signal pending startup
+
+  ports/winnt/ntpd/ntservice.c@1.32 +52 -17
+    [Bug 3506] NTPD/SCM interact not well
+     - changed interaction with SCM to signal pending startup
+
+ChangeSet@1.3813, 2018-07-03 18:46:27+02:00, perlinger@ntp.org
+  [Sec 3505] CVE-2018-12327 - Arbitrary Code Execution Vulnerability
+
+  ChangeLog@1.1943 +2 -0
+    [Sec 3505] CVE-2018-12327 - Arbitrary Code Execution Vulnerability
+
+  ntpdc/ntpdc.c@1.112 +11 -14
+    [Sec 3505] CVE-2018-12327 - Arbitrary Code Execution Vulnerability
+
+  ntpq/ntpq.c@1.188 +10 -13
+    [Sec 3505] CVE-2018-12327 - Arbitrary Code Execution Vulnerability
+
+ChangeSet@1.3790.6.3, 2018-06-19 13:00:54+02:00, burnicki@pc-martin4.py.meinberg.de
+  Fixes for ntpdate as discussed in bug #3442.
+
+  ChangeLog@1.1920.6.2 +2 -0
+    Fixes for ntpdate as discussed in bug #3442.
+
+  ntpdate/ntpdate.c@1.101 +96 -73
+    Fixes for ntpdate as discussed in bug #3442.
+
+ChangeSet@1.3790.6.2, 2018-06-19 12:30:58+02:00, burnicki@pc-martin4.py.meinberg.de
+  New macro REFID_IS_TEXT().
+
+  ChangeLog@1.1920.6.1 +3 -1
+    New macro REFID_IS_TEXT().
+
+  include/ntp.h@1.231 +12 -0
+    New macro REFID_IS_TEXT().
+
+  ntpd/ntp_control.c@1.226.1.2 +6 -7
+    Use new macro REFID_IS_TEXT().
+
+ChangeSet@1.3790.6.1, 2018-06-19 11:40:42+02:00, burnicki@pc-martin4.py.meinberg.de
+  Removed trailing spaces in some files.
+
+  ntpd/ntp_config.c@1.360.2.1 +9 -9
+    Removed trailing spaces.
+
+  ntpd/ntp_control.c@1.226.1.1 +26 -26
+    Removed trailing spaces.
+
+  ntpdate/ntpdate.c@1.100 +10 -10
+    Removed trailing spaces.
+
+ChangeSet@1.3812, 2018-06-16 02:42:06-07:00, harlan@max.pfcs.com
+  [Sec 3012] noepeer tweaks
+
+  ChangeLog@1.1942 +1 -0
+    [Sec 3012] noepeer tweaks
+
+  ntpd/ntp_proto.c@1.421 +45 -29
+    [Sec 3012] noepeer tweaks
+
+ChangeSet@1.3808.3.2, 2018-06-13 04:41:27+00:00, stenn@psp-deb1.ntp.org
+  ntpd/ntpd.c: DROPROOT cleanup
+
+  ChangeLog@1.1938.3.2 +1 -0
+    ntpd/ntpd.c: DROPROOT cleanup
+
+  ntpd/ntpd.c@1.175 +2 -0
+    ntpd/ntpd.c: DROPROOT cleanup
+
+ChangeSet@1.3808.3.1, 2018-06-13 04:38:41+00:00, stenn@psp-deb1.ntp.org
+  Cleanup html/authopt.html
+
+  ChangeLog@1.1938.3.1 +1 -0
+    Cleanup html/authopt.html
+
+  html/authopt.html@1.75 +23 -22
+    Cleanup html/authopt.html
+
+ChangeSet@1.3808.2.1, 2018-05-05 09:07:30+02:00, perlinger@ntp.org
+  [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+   - rework of ntpq 'nextvar()' key/value parsing
+
+  ChangeLog@1.1938.2.1 +1 -0
+    [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+     - rework of ntpq 'nextvar()' key/value parsing
+
+  ntpq/ntpq-subs.c@1.127 +12 -14
+    [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+     - rework of ntpq 'nextvar()' key/value parsing
+
+  ntpq/ntpq.c@1.186.1.1 +246 -78
+    [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+     - rework of ntpq 'nextvar()' key/value parsing
+
+ChangeSet@1.3808.1.1, 2018-04-21 11:48:47+02:00, perlinger@ntp.org
+  [Bug 3486] Buffer overflow in ntpq/ntpq.c:tstflags()
+
+  ChangeLog@1.1938.1.1 +2 -0
+    [Bug 3486] Buffer overflow in ntpq/ntpq.c:tstflags()
+
+  ntpq/ntpq.c@1.187 +39 -22
+    [Bug 3486] Buffer overflow in ntpq/ntpq.c:tstflags()
+
+ChangeSet@1.3809, 2018-04-21 11:30:19+02:00, perlinger@ntp.org
+  [Bug 3445] Symmetric peer won't sync on startup
+
+  ChangeLog@1.1939 +2 -0
+    [Bug 3445] Symmetric peer won't sync on startup
+
+  ntpd/ntp_proto.c@1.420 +8 -2
+    [Bug 3445] Symmetric peer won't sync on startup
+
+ChangeSet@1.3806.2.1, 2018-04-14 08:18:38+02:00, perlinger@ntp.org
+  [Bug 3121] Drop root privileges for the forked DNS worker
+
+  ChangeLog@1.1936.2.1 +2 -0
+    [Bug 3121] Drop root privileges for the forked DNS worker
+
+  libntp/work_fork.c@1.20 +4 -0
+    [Bug 3121] Drop root privileges for the forked DNS worker
+
+  ntpd/ntpd.c@1.174 +218 -145
+    [Bug 3121] Drop root privileges for the forked DNS worker
+
+  sntp/main.c@1.103 +7 -0
+    [Bug 3121] Drop root privileges for the forked DNS worker
+
+ChangeSet@1.3806.1.1, 2018-04-13 22:57:11+02:00, perlinger@ntp.org
+  [Bug 3434] ntpd clears STA_UNSYNC on start
+
+  ChangeLog@1.1936.1.1 +2 -0
+    [Bug 3434] ntpd clears STA_UNSYNC on start
+
+  ntpd/ntp_loopfilter.c@1.191 +8 -4
+    [Bug 3434] ntpd clears STA_UNSYNC on start
+
+ChangeSet@1.3807, 2018-04-13 22:38:02+02:00, perlinger@ntp.org
+  B[ug 3449] ntpq - display "loop" instead of refid for peers which are flagged as loops
+
+  ChangeLog@1.1937 +2 -0
+    B[ug 3449] ntpq - display "loop" instead of refid for peers which are flagged as loops
+
+  ntpq/ntpq-subs.c@1.126 +6 -1
+    B[ug 3449] ntpq - display "loop" instead of refid for peers which are flagged as loops
+
+ChangeSet@1.3806, 2018-04-11 19:26:04+02:00, perlinger@ntp.org
+  [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+
+  ChangeLog@1.1936 +1 -0
+    [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+
+  ntpd/ntp_control.c@1.230 +6 -6
+    [Bug 3484] ntpq response from ntpd is incorrect when REFID is null
+
+ChangeSet@1.3805, 2018-04-11 18:38:12+02:00, perlinger@ntp.org
+  [Bug 3475] modify prettydate() to suppress output of zero time
+
+  ChangeLog@1.1935 +2 -0
+    [Bug 3475] modify prettydate() to suppress output of zero time
+
+  libntp/prettydate.c@1.21 +5 -0
+    [Bug 3475] modify prettydate() to suppress output of zero time
+
+ChangeSet@1.3804, 2018-04-11 18:23:03+02:00, perlinger@ntp.org
+  [Bug 3482] Fixes for compilation warnings (ntp_io.c & ntpq-subs.c)
+
+  ChangeLog@1.1934 +2 -0
+    [Bug 3482] Fixes for compilation warnings (ntp_io.c & ntpq-subs.c)
+
+  ntpq/ntpq-subs.c@1.125 +15 -7
+    [Bug 3482] Fixes for compilation warnings (ntp_io.c & ntpq-subs.c)
+
+ChangeSet@1.3803, 2018-04-11 07:59:51+02:00, perlinger@ntp.org
+  [Bug 3485] Undefined sockaddr used in error messages in ntp_config.c
+
+  ChangeLog@1.1933 +2 -0
+    [Bug 3485] Undefined sockaddr used in error messages in ntp_config.c
+
+  ntpd/ntp_config.c@1.364 +3 -5
+    [Bug 3485] Undefined sockaddr used in error messages in ntp_config.c
+
+ChangeSet@1.3802, 2018-04-11 07:39:36+02:00, perlinger@ntp.org
+  [Bug 3476] ctl_putstr() sends empty unquoted string if data is Null / zero length
+
+  ChangeLog@1.1932 +2 -0
+    [Bug 3476] ctl_putstr() sends empty unquoted string if data is Null / zero length
+
+  ntpd/ntp_control.c@1.229 +3 -1
+    [Bug 3476] ctl_putstr() sends empty unquoted string if data is Null / zero length
+
+ChangeSet@1.3801, 2018-04-11 06:47:08+02:00, perlinger@ntp.org
+  [Bug 3469] Incomplete string compare [...] in is_refclk_addr
+
+  ChangeLog@1.1931 +2 -0
+    [Bug 3469] Incomplete string compare [...] in is_refclk_addr
+
+  ntpd/ntp_config.c@1.363 +1 -1
+    [Bug 3469] Incomplete string compare [...] in is_refclk_addr
+
+ChangeSet@1.3800, 2018-04-10 08:19:44+02:00, perlinger@ntp.org
+  [Bug 3474] Missing pmode in mode7 peer info response
+
+  ChangeLog@1.1930 +2 -0
+    [Bug 3474] Missing pmode in mode7 peer info response
+
+  ntpd/ntp_request.c@1.127 +1 -0
+    [Bug 3474] Missing pmode in mode7 peer info response
+
+ChangeSet@1.3799, 2018-04-10 08:10:56+02:00, perlinger@ntp.org
+  [Bug 3479] ctl_putrefid() allows unsafe characters through to ntpq
+
+  ChangeLog@1.1929 +2 -0
+    [Bug 3479] ctl_putrefid() allows unsafe characters through to ntpq
+
+  ntpd/ntp_control.c@1.228 +3 -1
+    [Bug 3479] ctl_putrefid() allows unsafe characters through to ntpq
+
+ChangeSet@1.3798, 2018-04-10 08:09:59+02:00, perlinger@ntp.org
+  [Bug 3480] Refclock sample filter not cleared on clock STEP
+
+  ChangeLog@1.1928 +2 -0
+    [Bug 3480] Refclock sample filter not cleared on clock STEP
+
+  ntpd/ntp_proto.c@1.419 +4 -0
+    [Bug 3480] Refclock sample filter not cleared on clock STEP
+
+ChangeSet@1.3797, 2018-04-08 12:17:35+02:00, perlinger@ntp.org
+  [Bug 3461] refclock_shm.c: clear error status on clock recovery
+
+  ChangeLog@1.1927 +2 -0
+    [Bug 3461] refclock_shm.c: clear error status on clock recovery
+
+  ntpd/ntp_io.c@1.429 +1 -1
+    [Bug 3461] refclock_shm.c: clear error status on clock recovery
+     - fixed minor (non-functional) regression
+
+  ntpd/ntp_refclock.c@1.127 +1 -1
+    [Bug 3461] refclock_shm.c: clear error status on clock recovery
+     - dont't step 'lastevent' if NOMINAL
+
+  ntpd/refclock_shm.c@1.40 +1 -0
+    [Bug 3461] refclock_shm.c: clear error status on clock recovery
+
+ChangeSet@1.3794.1.1, 2018-04-08 09:13:33+00:00, stenn@psp-deb1.ntp.org
+  cleanup ChangeLog
+
+  ChangeLog@1.1924.1.1 +2 -4
+    cleanup
+
+ChangeSet@1.3795, 2018-04-08 11:07:13+02:00, perlinger@ntp.org
+  [Bug 3467] Potential memory fault in ntpq [...]
+
+  ChangeLog@1.1925 +4 -4
+    [Bug 3467] Potential memory fault in ntpq [...]
+
+  configure.ac@1.614 +4 -0
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - check for presence of sigsetjmp/siglongjmp in setjmp.h
+
+  libntp/syssignal.c@1.16 +4 -3
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - installing and removing CTRL-C handlers is sequence order sensitive
+
+  ntpd/ntp_parser.c@1.113 +339 -338
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - sidekick: add missing header decl
+
+  ntpd/ntp_parser.h@1.75 +1 -1
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - sidekick: add missing header decl
+
+  ntpd/ntp_parser.y@1.101 +1 -0
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - sidekick: add missing header decl
+
+  ntpdc/ntpdc.c@1.111 +37 -16
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - closed file handles become NULL, check bfore writing
+     - use 'sig{set,long}jmp()' instead of '{set,long}jmp()' when possible
+     - unclutter jumping out of signal handler
+
+  ntpq/ntpq-subs.c@1.124 +1 -1
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - removed leading linefeed
+
+  ntpq/ntpq.c@1.186 +234 -211
+    [Bug 3467] Potential memory fault in ntpq [...]
+     - closed file handles become NULL, check bfore writing
+     - use 'sig{set,long}jmp()' instead of '{set,long}jmp()' when possible
+     - unclutter jumping out of signal handler
+
+ChangeSet@1.3790.5.2, 2018-04-07 09:39:54+00:00, stenn@psp-deb1.ntp.org
+  tweak the Changelog
+
+  ChangeLog@1.1920.5.2 +1 -0
+    tweak
+
+ChangeSet@1.3790.5.1, 2018-04-07 10:03:14+02:00, jnperlin@hydra.localnet
+  [Bug 2821] minor build issues
+   + bug fixes
+
+  ChangeLog@1.1920.5.1 +4 -0
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  libntp/ntp_calendar.c@1.20 +1 -1
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/ntp_config.c@1.360.1.1 +2 -2
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/ntp_control.c@1.227 +6 -6
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/ntp_io.c@1.428 +47 -6
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/rc_cmdlength.c@1.3 +2 -0
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/refclock_datum.c@1.24 +2 -1
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/refclock_gpsdjson.c@1.29 +2 -2
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/refclock_jupiter.c@1.31 +1 -2
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpd/refclock_true.c@1.26 +1 -1
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpdc/ntpdc.c@1.110 +1 -1
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpq/ntpq-subs.c@1.123 +1 -1
+    [Bug 2821] minor build issues
+     + bug fixes
+
+  ntpq/ntpq.c@1.183.1.1 +5 -5
+    [Bug 2821] minor build issues
+     + bug fixes
+
+ChangeSet@1.3790.4.1, 2018-03-16 06:37:19+01:00, perlinger@ntp.org
+  [Bug 3471] Check for openssl/[ch]mac.h
+   - cond-compile if CMAC not supported
+   - fix tests when CMAC not available
+   - add #define ENABLE_CMAC support in configure
+
+  ChangeLog@1.1920.4.1 +4 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+    ---
+    Bug 3471: add --enable-cmac support in configure
+    ---
+    Bug 3471: add #define ENABLE_CMAC support in configure
+
+  configure.ac@1.610.1.1 +11 -0
+    Bug 3471: add --enable-cmac support in configure
+     - add #define ENABLE_CMAC support in configure
+
+  include/ntp_md5.h@1.14 +6 -1
+    [Bug 3471] Check for openssl/[ch]mac.h
+    ---
+    cleanup
+
+  libntp/a_md5encrypt.c@1.49.1.1 +6 -9
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - cond-compile if CMAC not supported
+    ---
+    cleanup
+
+  libntp/ssl_init.c@1.30 +17 -10
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - cond-compile if CMAC not supported
+
+  ntpq/ntpq.c@1.184 +15 -12
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - cond-compile if CMAC not supported
+
+  sntp/crypto.c@1.38 +1 -8
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - cond-compile if CMAC not supported
+
+  sntp/m4/ntp_openssl.m4@1.29.1.1 +1 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - header lookup
+
+  sntp/tests/crypto.c@1.16 +2 -2
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - fix tests when CMAC not available
+
+  sntp/tests/packetProcessing.c@1.17 +8 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - fix tests when CMAC not available
+
+  tests/libntp/ssl_init.c@1.11 +4 -4
+    [Bug 3471] Check for openssl/[ch]mac.h
+     - fix tests when CMAC not available
+
+ChangeSet@1.3790.3.3, 2018-03-15 23:16:22+00:00, stenn@psp-deb1.ntp.org
+  Bug 3471: add #define ENABLE_CMAC support in configure
+
+  ChangeLog@1.1920.3.3 +1 -1
+    Bug 3471: add #define ENABLE_CMAC support in configure
+
+  configure.ac@1.612 +6 -13
+    Bug 3471: add #define ENABLE_CMAC support in configure
+
+ChangeSet@1.3790.3.2, 2018-03-15 07:55:58+00:00, stenn@psp-deb1.ntp.org
+  Bug 3471: add --enable-cmac support in configure
+
+  ChangeLog@1.1920.3.2 +1 -0
+    Bug 3471: add --enable-cmac support in configure
+
+  configure.ac@1.611 +18 -0
+    Bug 3471: add --enable-cmac support in configure
+
+ChangeSet@1.3790.3.1, 2018-03-15 06:55:28+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3471] Check for openssl/[ch]mac.h
+
+  ChangeLog@1.1920.3.1 +3 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+
+  sntp/m4/ntp_openssl.m4@1.30 +1 -0
+    [Bug 3471] Check for openssl/[ch]mac.h
+
+ChangeSet@1.3790.2.1, 2018-03-12 16:36:51+01:00, perlinger@ntp.org
+  [Bug 3456] Use uintptr_t rather than size_t to store an integer in a pointer
+
+  ChangeLog@1.1920.2.1 +4 -0
+    [Bug 3456] Use uintptr_t rather than size_t to store an integer in a pointer
+
+  libntp/work_thread.c@1.23 +15 -2
+    [Bug 3456] Use uintptr_t rather than size_t to store an integer in a pointer
+     (sidekick: Check return value of write-to-pipe)
+
+ChangeSet@1.3790.1.1, 2018-03-12 08:28:18+01:00, perlinger@ntp.org
+  [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL
+
+  ChangeLog@1.1920.1.1 +3 -0
+    [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL
+
+  libntp/a_md5encrypt.c@1.50 +1 -1
+    [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL
+
+  util/sht.c@1.6 +4 -4
+    [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL
+
+ChangeSet@1.3791, 2018-03-08 18:59:17+01:00, perlinger@ntp.org
+  [Bug 3465] Default TTL values cannot be used
+
+  ChangeLog@1.1921 +3 -0
+    [Bug 3465] Default TTL values cannot be used
+
+  ntpd/ntp_config.c@1.361 +6 -1
+    [Bug 3465] Default TTL values cannot be used
+     - config_ttl(): update 'sys_ttlmax' only when there was a table update, too! 
+
+ChangeSet@1.3790, 2018-02-27 18:21:17-05:00, stenn@deacon.udel.edu
+  NTP_4_2_8P11
+  TAG: NTP_4_2_8P11
+
+  ChangeLog@1.1920 +1 -0
+    NTP_4_2_8P11
+
+  ntpd/invoke-ntp.conf.texi@1.214 +1 -1
+    NTP_4_2_8P11
+
+  ntpd/invoke-ntp.keys.texi@1.200 +1 -1
+    NTP_4_2_8P11
+
+  ntpd/invoke-ntpd.texi@1.515 +2 -2
+    NTP_4_2_8P11
+
+  ntpd/ntp.conf.5man@1.248 +3 -3
+    NTP_4_2_8P11
+
+  ntpd/ntp.conf.5mdoc@1.248 +1 -1
+    NTP_4_2_8P11
+
+  ntpd/ntp.conf.html@1.196 +95 -108
+    NTP_4_2_8P11
+
+  ntpd/ntp.conf.man.in@1.248 +3 -3
+    NTP_4_2_8P11
+
+  ntpd/ntp.conf.mdoc.in@1.248 +1 -1
+    NTP_4_2_8P11
+
+  ntpd/ntp.keys.5man@1.234 +2 -2
+    NTP_4_2_8P11
+
+  ntpd/ntp.keys.5mdoc@1.234 +2 -2
+    NTP_4_2_8P11
+
+  ntpd/ntp.keys.html@1.196 +17 -29
+    NTP_4_2_8P11
+
+  ntpd/ntp.keys.man.in@1.234 +2 -2
+    NTP_4_2_8P11
+
+  ntpd/ntp.keys.mdoc.in@1.234 +2 -2
+    NTP_4_2_8P11
+
+  ntpd/ntpd-opts.c@1.537 +7 -7
+    NTP_4_2_8P11
+
+  ntpd/ntpd-opts.h@1.536 +3 -3
+    NTP_4_2_8P11
+
+  ntpd/ntpd.1ntpdman@1.344 +3 -3
+    NTP_4_2_8P11
+
+  ntpd/ntpd.1ntpdmdoc@1.344 +1 -1
+    NTP_4_2_8P11
+
+  ntpd/ntpd.html@1.189 +101 -145
+    NTP_4_2_8P11
+
+  ntpd/ntpd.man.in@1.344 +3 -3
+    NTP_4_2_8P11
+
+  ntpd/ntpd.mdoc.in@1.344 +1 -1
+    NTP_4_2_8P11
+
+  ntpdc/invoke-ntpdc.texi@1.512 +2 -2
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc-opts.c@1.530 +7 -7
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc-opts.h@1.529 +3 -3
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc.1ntpdcman@1.343 +3 -3
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.343 +1 -1
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc.html@1.357 +57 -77
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc.man.in@1.343 +3 -3
+    NTP_4_2_8P11
+
+  ntpdc/ntpdc.mdoc.in@1.343 +1 -1
+    NTP_4_2_8P11
+
+  ntpq/invoke-ntpq.texi@1.522 +2 -2
+    NTP_4_2_8P11
+
+  ntpq/ntpq-opts.c@1.539 +7 -7
+    NTP_4_2_8P11
+
+  ntpq/ntpq-opts.h@1.537 +3 -3
+    NTP_4_2_8P11
+
+  ntpq/ntpq.1ntpqman@1.350 +3 -3
+    NTP_4_2_8P11
+
+  ntpq/ntpq.1ntpqmdoc@1.350 +1 -1
+    NTP_4_2_8P11
+
+  ntpq/ntpq.html@1.188 +106 -130
+    NTP_4_2_8P11
+
+  ntpq/ntpq.man.in@1.350 +3 -3
+    NTP_4_2_8P11
+
+  ntpq/ntpq.mdoc.in@1.350 +1 -1
+    NTP_4_2_8P11
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.514 +11 -10
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.532 +7 -7
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.531 +3 -3
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.343 +3 -3
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.343 +1 -1
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd.html@1.183 +10 -14
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd.man.in@1.343 +3 -3
+    NTP_4_2_8P11
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.343 +1 -1
+    NTP_4_2_8P11
+
+  packageinfo.sh@1.540 +2 -2
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.104 +3 -3
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.105 +1 -1
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/calc_tickadj.html@1.105 +22 -34
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.103 +3 -3
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.105 +1 -1
+    NTP_4_2_8P11
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.108 +1 -1
+    NTP_4_2_8P11
+
+  scripts/invoke-plot_summary.texi@1.126 +2 -2
+    NTP_4_2_8P11
+
+  scripts/invoke-summary.texi@1.125 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.335 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait-opts@1.71 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.332 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.333 +1 -1
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait.html@1.353 +31 -49
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait.man.in@1.332 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.333 +1 -1
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.123 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep-opts@1.73 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.111 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.111 +1 -1
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep.html@1.125 +33 -44
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep.man.in@1.111 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.112 +1 -1
+    NTP_4_2_8P11
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.124 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace-opts@1.73 +2 -2
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.111 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.112 +1 -1
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace.html@1.126 +27 -36
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace.man.in@1.111 +3 -3
+    NTP_4_2_8P11
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.113 +1 -1
+    NTP_4_2_8P11
+
+  scripts/plot_summary-opts@1.74 +2 -2
+    NTP_4_2_8P11
+
+  scripts/plot_summary.1plot_summaryman@1.124 +3 -3
+    NTP_4_2_8P11
+
+  scripts/plot_summary.1plot_summarymdoc@1.124 +1 -1
+    NTP_4_2_8P11
+
+  scripts/plot_summary.html@1.128 +29 -47
+    NTP_4_2_8P11
+
+  scripts/plot_summary.man.in@1.124 +3 -3
+    NTP_4_2_8P11
+
+  scripts/plot_summary.mdoc.in@1.124 +1 -1
+    NTP_4_2_8P11
+
+  scripts/summary-opts@1.73 +2 -2
+    NTP_4_2_8P11
+
+  scripts/summary.1summaryman@1.123 +3 -3
+    NTP_4_2_8P11
+
+  scripts/summary.1summarymdoc@1.123 +1 -1
+    NTP_4_2_8P11
+
+  scripts/summary.html@1.127 +27 -39
+    NTP_4_2_8P11
+
+  scripts/summary.man.in@1.123 +3 -3
+    NTP_4_2_8P11
+
+  scripts/summary.mdoc.in@1.123 +1 -1
+    NTP_4_2_8P11
+
+  scripts/update-leap/invoke-update-leap.texi@1.24 +75 -1
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap-opts@1.24 +2 -2
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap.1update-leapman@1.24 +3 -3
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.24 +1 -1
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap.html@1.25 +35 -59
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap.man.in@1.24 +3 -3
+    NTP_4_2_8P11
+
+  scripts/update-leap/update-leap.mdoc.in@1.24 +1 -1
+    NTP_4_2_8P11
+
+  sntp/invoke-sntp.texi@1.514 +27 -23
+    NTP_4_2_8P11
+
+  sntp/sntp-opts.c@1.533 +7 -7
+    NTP_4_2_8P11
+
+  sntp/sntp-opts.h@1.531 +3 -3
+    NTP_4_2_8P11
+
+  sntp/sntp.1sntpman@1.349 +3 -3
+    NTP_4_2_8P11
+
+  sntp/sntp.1sntpmdoc@1.349 +1 -1
+    NTP_4_2_8P11
+
+  sntp/sntp.html@1.529 +110 -130
+    NTP_4_2_8P11
+
+  sntp/sntp.man.in@1.349 +3 -3
+    NTP_4_2_8P11
+
+  sntp/sntp.mdoc.in@1.349 +1 -1
+    NTP_4_2_8P11
+
+  util/invoke-ntp-keygen.texi@1.516 +18 -20
+    NTP_4_2_8P11
+
+  util/ntp-keygen-opts.c@1.534 +7 -7
+    NTP_4_2_8P11
+
+  util/ntp-keygen-opts.h@1.532 +3 -3
+    NTP_4_2_8P11
+
+  util/ntp-keygen.1ntp-keygenman@1.344 +3 -3
+    NTP_4_2_8P11
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.344 +1 -1
+    NTP_4_2_8P11
+
+  util/ntp-keygen.html@1.189 +149 -207
+    NTP_4_2_8P11
+
+  util/ntp-keygen.man.in@1.344 +3 -3
+    NTP_4_2_8P11
+
+  util/ntp-keygen.mdoc.in@1.344 +1 -1
+    NTP_4_2_8P11
+
+ChangeSet@1.3789, 2018-02-27 16:55:23-05:00, stenn@deacon.udel.edu
+  update-leap: check for -h/--help early.  HStenn
+
+  ChangeLog@1.1919 +1 -0
+    update-leap: check for -h/--help early.  HStenn
+
+  scripts/update-leap/update-leap.in@1.6 +7 -7
+    update-leap: check for -h/--help early.  HStenn
+
+ChangeSet@1.3788, 2018-02-27 09:58:39-05:00, stenn@deacon.udel.edu
+  Some tests need LIBM on some OSes
+
+  ChangeLog@1.1918 +1 -0
+    Some tests need LIBM on some OSes
+
+  tests/bug-2803/Makefile.am@1.19 +1 -0
+    Some tests need LIBM on some OSes
+
+  tests/sandbox/Makefile.am@1.13 +1 -0
+    Some tests need LIBM on some OSes
+
+  tests/sec-2853/Makefile.am@1.9 +1 -0
+    Some tests need LIBM on some OSes
+
+ChangeSet@1.3787, 2018-02-27 08:09:05-05:00, stenn@deacon.udel.edu
+  ntp-4.2.8p11 prep
+
+  NEWS@1.191 +1 -1
+    ntp-4.2.8p11 prep
+
+  packageinfo.sh@1.539 +1 -1
+    ntp-4.2.8p11 prep
+
+ChangeSet@1.3720.59.1, 2018-02-27 05:59:07-05:00, stenn@deacon.udel.edu
+  Tweaks to UpdatePoint
+
+  scripts/build/UpdatePoint@1.8 +21 -1
+    Tweaks to UpdatePoint
+
+ChangeSet@1.3785, 2018-02-27 07:54:59+00:00, stenn@psp-deb1.ntp.org
+  p11 prep
+
+  ntpd/invoke-ntp.conf.texi@1.213 +4 -4
+    p11 prep
+
+  ntpd/invoke-ntp.keys.texi@1.199 +1 -1
+    p11 prep
+
+  ntpd/invoke-ntpd.texi@1.514 +1 -1
+    p11 prep
+
+  ntpd/ntp.conf.5man@1.247 +5 -5
+    p11 prep
+
+  ntpd/ntp.conf.5mdoc@1.247 +5 -5
+    p11 prep
+
+  ntpd/ntp.conf.html@1.195 +193 -184
+    p11 prep
+
+  ntpd/ntp.conf.man.in@1.247 +5 -5
+    p11 prep
+
+  ntpd/ntp.conf.mdoc.in@1.247 +5 -5
+    p11 prep
+
+  ntpd/ntp.keys.5man@1.233 +2 -2
+    p11 prep
+
+  ntpd/ntp.keys.5mdoc@1.233 +2 -2
+    p11 prep
+
+  ntpd/ntp.keys.man.in@1.233 +2 -2
+    p11 prep
+
+  ntpd/ntp.keys.mdoc.in@1.233 +2 -2
+    p11 prep
+
+  ntpd/ntpd-opts.c@1.536 +1 -1
+    p11 prep
+
+  ntpd/ntpd-opts.h@1.535 +1 -1
+    p11 prep
+
+  ntpd/ntpd.1ntpdman@1.343 +2 -2
+    p11 prep
+
+  ntpd/ntpd.1ntpdmdoc@1.343 +2 -2
+    p11 prep
+
+  ntpd/ntpd.man.in@1.343 +2 -2
+    p11 prep
+
+  ntpd/ntpd.mdoc.in@1.343 +2 -2
+    p11 prep
+
+  ntpdc/invoke-ntpdc.texi@1.511 +1 -1
+    p11 prep
+
+  ntpdc/ntpdc-opts.c@1.529 +1 -1
+    p11 prep
+
+  ntpdc/ntpdc-opts.h@1.528 +1 -1
+    p11 prep
+
+  ntpdc/ntpdc.1ntpdcman@1.342 +2 -2
+    p11 prep
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.342 +2 -2
+    p11 prep
+
+  ntpdc/ntpdc.man.in@1.342 +2 -2
+    p11 prep
+
+  ntpdc/ntpdc.mdoc.in@1.342 +2 -2
+    p11 prep
+
+  ntpq/invoke-ntpq.texi@1.521 +2 -2
+    p11 prep
+
+  ntpq/ntpq-opts.c@1.538 +7 -7
+    p11 prep
+
+  ntpq/ntpq-opts.h@1.536 +3 -3
+    p11 prep
+
+  ntpq/ntpq.1ntpqman@1.349 +2 -2
+    p11 prep
+
+  ntpq/ntpq.1ntpqmdoc@1.349 +2 -2
+    p11 prep
+
+  ntpq/ntpq.html@1.187 +4 -2
+    p11 prep
+
+  ntpq/ntpq.man.in@1.349 +2 -2
+    p11 prep
+
+  ntpq/ntpq.mdoc.in@1.349 +2 -2
+    p11 prep
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.513 +2 -2
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.531 +1 -1
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.530 +1 -1
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.342 +2 -2
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.342 +2 -2
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd.man.in@1.342 +2 -2
+    p11 prep
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.342 +2 -2
+    p11 prep
+
+  packageinfo.sh@1.538 +1 -1
+    p11 prep
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.103 +2 -2
+    p11 prep
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.104 +2 -2
+    p11 prep
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.102 +2 -2
+    p11 prep
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.104 +2 -2
+    p11 prep
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.107 +1 -1
+    p11 prep
+
+  scripts/invoke-plot_summary.texi@1.125 +1 -1
+    p11 prep
+
+  scripts/invoke-summary.texi@1.124 +1 -1
+    p11 prep
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.334 +1 -1
+    p11 prep
+
+  scripts/ntp-wait/ntp-wait-opts@1.70 +1 -1
+    p11 prep
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.331 +2 -2
+    p11 prep
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.332 +2 -2
+    p11 prep
+
+  scripts/ntp-wait/ntp-wait.man.in@1.331 +2 -2
+    p11 prep
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.332 +2 -2
+    p11 prep
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.122 +1 -1
+    p11 prep
+
+  scripts/ntpsweep/ntpsweep-opts@1.72 +1 -1
+    p11 prep
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.110 +2 -2
+    p11 prep
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.110 +2 -2
+    p11 prep
+
+  scripts/ntpsweep/ntpsweep.man.in@1.110 +2 -2
+    p11 prep
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.111 +2 -2
+    p11 prep
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.123 +1 -1
+    p11 prep
+
+  scripts/ntptrace/ntptrace-opts@1.72 +1 -1
+    p11 prep
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.110 +2 -2
+    p11 prep
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.111 +2 -2
+    p11 prep
+
+  scripts/ntptrace/ntptrace.man.in@1.110 +2 -2
+    p11 prep
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.112 +2 -2
+    p11 prep
+
+  scripts/plot_summary-opts@1.73 +1 -1
+    p11 prep
+
+  scripts/plot_summary.1plot_summaryman@1.123 +2 -2
+    p11 prep
+
+  scripts/plot_summary.1plot_summarymdoc@1.123 +2 -2
+    p11 prep
+
+  scripts/plot_summary.man.in@1.123 +2 -2
+    p11 prep
+
+  scripts/plot_summary.mdoc.in@1.123 +2 -2
+    p11 prep
+
+  scripts/summary-opts@1.72 +1 -1
+    p11 prep
+
+  scripts/summary.1summaryman@1.122 +2 -2
+    p11 prep
+
+  scripts/summary.1summarymdoc@1.122 +2 -2
+    p11 prep
+
+  scripts/summary.man.in@1.122 +2 -2
+    p11 prep
+
+  scripts/summary.mdoc.in@1.122 +2 -2
+    p11 prep
+
+  scripts/update-leap/invoke-update-leap.texi@1.23 +1 -50
+    p11 prep
+
+  scripts/update-leap/update-leap-opts@1.23 +1 -1
+    p11 prep
+
+  scripts/update-leap/update-leap.1update-leapman@1.23 +2 -2
+    p11 prep
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.23 +2 -2
+    p11 prep
+
+  scripts/update-leap/update-leap.html@1.24 +1 -50
+    p11 prep
+
+  scripts/update-leap/update-leap.man.in@1.23 +2 -2
+    p11 prep
+
+  scripts/update-leap/update-leap.mdoc.in@1.23 +2 -2
+    p11 prep
+
+  sntp/invoke-sntp.texi@1.513 +1 -1
+    p11 prep
+
+  sntp/sntp-opts.c@1.532 +1 -1
+    p11 prep
+
+  sntp/sntp-opts.h@1.530 +1 -1
+    p11 prep
+
+  sntp/sntp.1sntpman@1.348 +2 -2
+    p11 prep
+
+  sntp/sntp.1sntpmdoc@1.348 +2 -2
+    p11 prep
+
+  sntp/sntp.man.in@1.348 +2 -2
+    p11 prep
+
+  sntp/sntp.mdoc.in@1.348 +2 -2
+    p11 prep
+
+  util/invoke-ntp-keygen.texi@1.515 +2 -2
+    p11 prep
+
+  util/ntp-keygen-opts.c@1.533 +174 -174
+    p11 prep
+
+  util/ntp-keygen-opts.h@1.531 +3 -3
+    p11 prep
+
+  util/ntp-keygen.1ntp-keygenman@1.343 +2 -2
+    p11 prep
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.343 +2 -2
+    p11 prep
+
+  util/ntp-keygen.man.in@1.343 +2 -2
+    p11 prep
+
+  util/ntp-keygen.mdoc.in@1.343 +2 -2
+    p11 prep
+
+ChangeSet@1.3784, 2018-02-24 06:46:21+00:00, stenn@psp-deb1.ntp.org
+  VU # update to NEWS file
+
+  NEWS@1.190 +5 -5
+    VU # update to NEWS file
+
+ChangeSet@1.3783, 2018-02-21 00:51:56+00:00, stenn@psp-deb1.ntp.org
+  Add CVEs for security bugs in p11
+
+  NEWS@1.189 +6 -5
+    Add CVEs for security bugs in p11
+
+ChangeSet@1.3782, 2018-02-16 02:47:21-08:00, harlan@mb6.tal1.ntfo.org
+  Update description of Bug 3454 in the NEWS file.
+
+  NEWS@1.188 +37 -1
+    Update description of Bug 3454 in the NEWS file.
+
+ChangeSet@1.3781, 2018-02-16 02:45:50-08:00, harlan@mb6.tal1.ntfo.org
+  ntp_proto.c:receive(): Fix typos in 2 diagnostic debug lines
+
+  ntpd/ntp_proto.c@1.418 +2 -2
+    ntp_proto.c:receive(): Fix typos in 2 diagnostic debug lines
+
+ChangeSet@1.3780, 2018-02-13 01:31:39+00:00, stenn@psp-deb1.ntp.org
+  NEWS file updates
+
+  NEWS@1.187 +256 -10
+    NEWS file updates
+
+ChangeSet@1.3779, 2018-02-11 11:02:07+00:00, stenn@psp-deb1.ntp.org
+  Use consistent 4th arg type for [gs]etsockopt
+
+  ChangeLog@1.1917 +1 -0
+    Use consistent 4th arg type for [gs]etsockopt
+
+  NEWS@1.186 +1 -1
+    Use consistent 4th arg type for [gs]etsockopt
+
+  packageinfo.sh@1.537 +1 -1
+    Use consistent 4th arg type for [gs]etsockopt
+
+ChangeSet@1.3777, 2018-02-11 11:47:25+01:00, perlinger@ntp.org
+  getsockopt: 4th argument should be (void*)
+
+  ntpd/refclock_gpsdjson.c@1.28 +1 -1
+    getsockopt: 4th argument should be (void*)
+
+  ports/winnt/ntpd/ntp_iocompletionport.c@1.80 +1 -1
+    getsockopt: 4th argument should be (void*)
+
+ChangeSet@1.3775.1.1, 2018-02-11 02:20:02-08:00, harlan@mb6.tal1.ntfo.org
+  Initialize ippeerlimit in restrict_def[46].  HStenn
+
+  ntpd/ntp_restrict.c@1.46 +6 -0
+    Initialize ippeerlimit in restrict_def[46].  HStenn
+
+ChangeSet@1.3776, 2018-02-11 09:26:47+01:00, perlinger@ntp.org
+  consistent casting of 'setsockopt' argument
+
+  ntpd/ntp_io.c@1.427 +20 -20
+    consistent casting of 'setsockopt' argument
+
+  ntpd/refclock_gpsdjson.c@1.27 +1 -1
+    consistent casting of 'setsockopt' argument
+
+  ntpdc/ntpdc.c@1.109 +2 -2
+    consistent casting of 'setsockopt' argument
+
+  ntpq/ntpq.c@1.183 +2 -2
+    consistent casting of 'setsockopt' argument
+
+ChangeSet@1.3772.1.1, 2018-02-09 16:05:30-08:00, harlan@mb6.tal1.ntfo.org
+  Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ChangeLog@1.1913.1.1 +2 -0
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  include/ntp.h@1.230 +12 -9
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  include/ntp_request.h@1.51 +1 -1
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  include/ntpd.h@1.203 +2 -1
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_config.c@1.360 +72 -59
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_control.c@1.224.1.1 +2 -1
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_io.c@1.424.1.1 +2 -2
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_peer.c@1.165 +6 -0
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_request.c@1.126 +17 -5
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpd/ntp_restrict.c@1.45 +134 -27
+    Rename restrict flags to rflags.  Use an enum for their values.  Provide dump_restricts().
+
+  ntpdc/layout.std@1.14 +1 -1
+    Rename restrict flags to rflags
+
+  ntpdc/ntpdc_ops.c@1.83 +3 -3
+    Rename restrict flags to rflags
+
+  tests/ntpd/ntp_restrict.c@1.7 +8 -8
+    Rename restrict flags to rflags
+
+ChangeSet@1.3773, 2018-02-07 08:14:35+01:00, perlinger@ntp.org
+  [Bug 3457] OpenSSL FIPS mode regression
+
+  ChangeLog@1.1914 +1 -0
+    [Bug 3457] OpenSSL FIPS mode regression
+
+  libntp/a_md5encrypt.c@1.49 +7 -4
+    [Bug 3457] OpenSSL FIPS mode regression
+
+  ntpd/ntp_control.c@1.225 +6 -0
+    [Bug 3457] OpenSSL FIPS mode regression
+
+  ntpd/ntp_crypto.c@1.190 +12 -0
+    [Bug 3457] OpenSSL FIPS mode regression
+
+  sntp/crypto.c@1.37 +14 -5
+    [Bug 3457] OpenSSL FIPS mode regression
+
+ChangeSet@1.3772, 2018-02-05 02:18:59-08:00, harlan@psp-at0.tal1.ntfo.org
+  libntp/ssl_init.h only needs MD5_LENGTH if we don't have OpenSSL
+
+  libntp/ssl_init.c@1.29 +2 -1
+    libntp/ssl_init.h only needs MD5_LENGTH if we don't have OpenSSL
+
+ChangeSet@1.3771, 2018-02-04 03:54:19-08:00, harlan@max.pfcs.com
+  [Sec 3453] Interleaved symmetric mode cannot recover from bad state
+
+  ChangeLog@1.1913 +1 -0
+    [Sec 3453] Interleaved symmetric mode cannot recover from bad state
+
+  ntpd/ntp_proto.c@1.417 +2 -0
+    [Sec 3453] Interleaved symmetric mode cannot recover from bad state
+
+ChangeSet@1.3768.2.2, 2018-02-03 01:35:05-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Sec 3454] Unauthenticated packet can reset authenticated interleave associations
+
+  ChangeLog@1.1910.2.1 +2 -0
+    [Sec 3454] Unauthenticated packet can reset authenticated interleave associations
+
+  ntpd/ntp_proto.c@1.416 +142 -15
+    [Sec 3454] Unauthenticated packet can reset authenticated interleave associations
+
+ChangeSet@1.3768.2.1, 2018-02-03 01:22:07-08:00, harlan@psp-at0.tal1.ntfo.org
+  cleanup
+
+  ntpd/ntp.conf.def@1.31 +3 -3
+    cleanup
+
+ChangeSet@1.3768.1.2, 2018-02-02 07:37:12+01:00, perlinger@ntp.org
+  [Bug 3455] ntpd doesn't use scope id when binding multicast
+
+  ChangeLog@1.1910.1.1 +2 -0
+    [Bug 3455] ntpd doesn't use scope id when binding multicast
+
+  ntpd/ntp_io.c@1.425 +1 -0
+    [Bug 3455] ntpd doesn't use scope id when binding multicast
+
+ChangeSet@1.3768.1.1, 2018-01-26 16:58:55-08:00, harlan@psp-at0.tal1.ntfo.org
+  type
+
+  ntpd/ntp.conf.def@1.30 +1 -1
+    type
+
+ChangeSet@1.3769, 2018-01-26 17:12:19+01:00, perlinger@ntp.org
+  [Bug 3452] PARSE driver prints uninitialized memory
+
+  ChangeLog@1.1911 +1 -0
+    [Bug 3452] PARSE driver prints uninitialized memory
+
+  ntpd/refclock_parse.c@1.86 +10 -3
+    [Bug 3452] PARSE driver prints uninitialized memory
+     - avoid underflow in buffer length calculation
+
+ChangeSet@1.3768, 2018-01-25 22:47:05-08:00, harlan@psp-at0.tal1.ntfo.org
+  Properly set ippeerlimit in hack_restrict()
+
+  ntpd/ntp_restrict.c@1.44 +1 -0
+    Properly set ippeerlimit in hack_restrict()
+
+ChangeSet@1.3767, 2018-01-26 05:24:23+00:00, stenn@psp-deb1.ntp.org
+  Show ippeerlimit for the address of the incoming packet
+
+  ntpd/ntp_proto.c@1.415 +2 -2
+    Show ippeerlimit for the address of the incoming packet
+
+ChangeSet@1.3766, 2018-01-24 08:44:24+00:00, stenn@psp-deb1.ntp.org
+  Update ntpq peer documentation to describe the 'p' type
+
+  ChangeLog@1.1910 +1 -0
+    Update ntpq peer documentation to describe the 'p' type
+
+  NEWS@1.185 +1 -1
+    Update ntpq peer documentation to describe the 'p' type
+
+  html/ntpq.html@1.52 +11 -4
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/invoke-ntpq.texi@1.520 +4 -2
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq-opts.c@1.537 +7 -7
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq-opts.def@1.32 +2 -0
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq-opts.h@1.535 +3 -3
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq.1ntpqman@1.348 +4 -2
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq.1ntpqmdoc@1.348 +4 -2
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq.html@1.186 +1 -1
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq.man.in@1.348 +4 -2
+    Update ntpq peer documentation to describe the 'p' type
+
+  ntpq/ntpq.mdoc.in@1.348 +4 -2
+    Update ntpq peer documentation to describe the 'p' type
+
+ChangeSet@1.3765, 2018-01-24 07:51:14+00:00, stenn@psp-deb1.ntp.org
+  NEWS update
+
+  NEWS@1.184 +15 -16
+    NEWS update
+
+ChangeSet@1.3761.1.1, 2018-01-23 23:03:23-08:00, harlan@psp-at0.tal1.ntfo.org
+  Pass ippeerlimit to all newpeer() calls.
+
+  ntpd/ntp_proto.c@1.414 +14 -12
+    Pass ippeerlimit to all newpeer() calls.
+
+ChangeSet@1.3763, 2018-01-23 12:43:17+00:00, stenn@psp-deb1.ntp.org
+  Update NEWS file
+
+  NEWS@1.183 +39 -3
+    Update NEWS file
+
+ChangeSet@1.3762, 2018-01-22 12:35:36+00:00, stenn@psp-deb1.ntp.org
+  Update the documentation for ippeerlimit and noepeer
+
+  html/accopt.html@1.47 +139 -45
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/invoke-ntp.conf.texi@1.212 +26 -18
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/ntp.conf.5man@1.246 +28 -20
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/ntp.conf.5mdoc@1.246 +30 -8
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/ntp.conf.def@1.29 +28 -6
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/ntp.conf.man.in@1.246 +28 -20
+    Update the documentation for ippeerlimit and noepeer
+
+  ntpd/ntp.conf.mdoc.in@1.246 +30 -8
+    Update the documentation for ippeerlimit and noepeer
+
+  tests/ntpd/run-ntp_restrict.c@1.8 +6 -6
+    Update the test runner for the updated restrictions() code
+
+ChangeSet@1.3761, 2018-01-22 02:55:41-08:00, harlan@psp-at0.tal1.ntfo.org
+  restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ChangeLog@1.1909 +1 -0
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  include/ntp.h@1.229 +6 -0
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  include/ntpd.h@1.202 +7 -7
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntp_config.c@1.359 +7 -0
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntp_peer.c@1.164 +15 -1
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntp_proto.c@1.413 +18 -13
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntp_request.c@1.125 +4 -1
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntp_restrict.c@1.43 +16 -10
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  ntpd/ntpsim.c@1.33 +1 -0
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+  tests/ntpd/ntp_restrict.c@1.6 +21 -8
+    restrictions() must return restrict flags and ippeerlimit.  Implement ippeerlimit.
+
+ChangeSet@1.3760, 2018-01-21 12:45:31+00:00, stenn@psp-deb1.ntp.org
+  ntp.conf.def tweaks
+
+  ntpd/invoke-ntp.conf.texi@1.211 +6 -6
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.5man@1.245 +3358 -6
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.5mdoc@1.245 +3192 -6
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.def@1.28 +5 -5
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.html@1.194 +267 -68
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.man.in@1.245 +3358 -6
+    ntp.conf.def tweaks
+
+  ntpd/ntp.conf.mdoc.in@1.245 +3192 -6
+    ntp.conf.def tweaks
+
+  ntpd/ntp.keys.html@1.195 +10 -2
+    ntp.conf.def tweaks
+
+ChangeSet@1.3759, 2018-01-21 03:34:08-08:00, harlan@psp-at0.tal1.ntfo.org
+  ntp_parser.y, ntp_parser.c, ChangeLog:
+    Warn the user if deprecated "driftfile name WanderThreshold" is used
+  Many files:
+    Update the documentation in ntp.conf.def
+
+  ChangeLog@1.1908 +1 -0
+    Update the documentation in ntp.conf.def
+
+  ChangeLog@1.1907 +1 -0
+    Warn the user if deprecated "driftfile name WanderThreshold" is used
+
+  ntpd/invoke-ntp.conf.texi@1.210 +238 -22
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp.conf.5man@1.244 +2 -2
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp.conf.5mdoc@1.244 +2 -2
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp.conf.def@1.27 +269 -27
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp.conf.man.in@1.244 +2 -2
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp.conf.mdoc.in@1.244 +2 -2
+    Update the documentation in ntp.conf.def
+
+  ntpd/ntp_parser.c@1.112 +107 -103
+    Warn the user if deprecated "driftfile name WanderThreshold" is used
+
+  ntpd/ntp_parser.y@1.100 +4 -0
+    Warn the user if deprecated "driftfile name WanderThreshold" is used
+
+ChangeSet@1.3758, 2018-01-20 20:45:47-08:00, harlan@psp-at1.tal1.ntfo.org
+  Decode interface flags on receive() debug output
+
+  ChangeLog@1.1906 +1 -0
+    Decode interface flags on receive() debug output
+
+  include/ntp.h@1.228 +2 -1
+    Decode interface flags on receive() debug output
+
+  ntpd/ntp_config.c@1.358 +92 -19
+    Decode interface flags on receive() debug output
+
+  ntpd/ntp_proto.c@1.412 +3 -2
+    Decode interface flags on receive() debug output
+
+ChangeSet@1.3757, 2018-01-20 03:41:34-08:00, harlan@psp-at1.tal1.ntfo.org
+  Decode restrict flags on receive() debug output
+
+  ChangeLog@1.1905 +1 -0
+    Decode restrict flags on receive() debug output
+
+  include/ntp.h@1.227 +3 -0
+    Decode restrict flags on receive() debug output
+
+  ntpd/ntp_config.c@1.357 +141 -4
+    Decode restrict flags on receive() debug output
+
+  ntpd/ntp_proto.c@1.411 +3 -2
+    Decode restrict flags on receive() debug output
+
+ChangeSet@1.3756, 2018-01-20 00:35:52-08:00, harlan@mb6.tal1.ntfo.org
+  typo
+
+  ntpd/ntp_config.c@1.356 +2 -2
+    typo
+
+ChangeSet@1.3755, 2018-01-20 00:33:06-08:00, harlan@mb6.tal1.ntfo.org
+  When dumping restrict nodes, use const char * for address and mask
+
+  ntpd/ntp_config.c@1.355 +5 -2
+    When dumping restrict nodes, use const char * for address and mask
+
+ChangeSet@1.3754, 2018-01-19 23:19:41-08:00, harlan@mb6.tal1.ntfo.org
+  Improve saveconfig output
+
+  ChangeLog@1.1904 +1 -0
+    Improve saveconfig output
+
+  ntpd/ntp_config.c@1.354 +33 -3
+    Improve saveconfig output
+
+ChangeSet@1.3753, 2018-01-17 22:12:36-08:00, harlan@psp-at0.tal1.ntfo.org
+  Rename the configuration flag fifo variables
+
+  ChangeLog@1.1903 +1 -0
+    Rename the configuration flag fifo variables
+
+  include/ntp_config.h@1.86 +1 -1
+    Rename the configuration flag fifo variables
+
+  ntpd/ntp_config.c@1.353 +21 -21
+    Rename the configuration flag fifo variables
+
+ChangeSet@1.3752, 2018-01-17 04:34:17-08:00, harlan@psp-at1.tal1.ntfo.org
+  Add DPRINTF(2,...) lines to receive() for packet drops
+
+  ChangeLog@1.1902 +1 -0
+    Add DPRINTF(2,...) lines to receive() for packet drops
+
+  ntpd/ntp_proto.c@1.410 +49 -1
+    Add DPRINTF(2,...) lines to receive() for packet drops
+
+ChangeSet@1.3751, 2018-01-16 20:06:43-08:00, harlan@psp-at1.tal1.ntfo.org
+  ippeerlimt: hook in ip_count support
+
+  include/ntpd.h@1.201 +1 -1
+    ippeerlimt: hook in ip_count support
+
+  ntpd/ntp_config.c@1.352 +2 -2
+    ippeerlimt: hook in ip_count support
+
+  ntpd/ntp_peer.c@1.163 +27 -12
+    ippeerlimt: hook in ip_count support
+
+  ntpd/ntp_proto.c@1.409 +6 -6
+    ippeerlimt: hook in ip_count support
+
+  ntpd/ntp_refclock.c@1.126 +2 -2
+    ippeerlimt: hook in ip_count support
+
+  ntpd/ntp_request.c@1.124 +9 -9
+    ippeerlimt: hook in ip_count support
+
+ChangeSet@1.3750, 2018-01-15 23:35:22-08:00, harlan@psp-at1.tal1.ntfo.org
+  Bug 3415: implement ippeerlimit
+
+  ChangeLog@1.1901 +1 -1
+    Bug 3415: implement ippeerlimit
+
+  include/ntp.h@1.226 +6 -5
+    Bug 3415: implement ippeerlimit
+
+  include/ntp_config.h@1.85 +7 -5
+    Bug 3415: implement ippeerlimit
+
+  include/ntp_request.h@1.50 +1 -0
+    Bug 3415: implement ippeerlimit
+
+  include/ntpd.h@1.200 +1 -1
+    Bug 3415: implement ippeerlimit
+
+  ntpd/complete.conf.in@1.33 +8 -8
+    Bug 3415: implement ippeerlimit
+
+  ntpd/keyword-gen-utd@1.32 +1 -1
+    Bug 3415: implement ippeerlimit
+
+  ntpd/keyword-gen.c@1.38 +1 -0
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_config.c@1.351 +17 -11
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_io.c@1.424 +2 -2
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_keyword.h@1.34 +784 -774
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_parser.c@1.111 +1089 -1055
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_parser.h@1.74 +274 -272
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_parser.y@1.99 +36 -13
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_request.c@1.123 +2 -1
+    Bug 3415: implement ippeerlimit
+
+  ntpd/ntp_restrict.c@1.42 +8 -5
+    Bug 3415: implement ippeerlimit
+
+  ntpdc/layout.std@1.13 +7 -6
+    Bug 3415: implement ippeerlimit
+
+  tests/ntpd/ntp_restrict.c@1.5 +12 -12
+    Bug 3415: implement ippeerlimit
+
+ChangeSet@1.3747.1.1, 2018-01-13 00:42:58-08:00, harlan@psp-at0.tal1.ntfo.org
+  Cleanup description of Sec 3415
+
+  ChangeLog@1.1898.1.1 +2 -1
+    Cleanup description of Sec 3415
+
+ChangeSet@1.3747, 2018-01-12 01:29:33-08:00, harlan@psp-at0.tal1.ntfo.org
+  Distribute testconf.yml
+
+  ChangeLog@1.1898 +1 -0
+    Distribute testconf.yml
+
+  sntp/tests/Makefile.am@1.72 +1 -0
+    Distribute testconf.yml
+
+  tests/bug-2803/Makefile.am@1.18 +4 -0
+    Distribute testconf.yml
+
+  tests/libntp/Makefile.am@1.99 +4 -0
+    Distribute testconf.yml
+
+  tests/ntpd/Makefile.am@1.36 +4 -0
+    Distribute testconf.yml
+
+  tests/ntpq/Makefile.am@1.14 +4 -0
+    Distribute testconf.yml
+
+  tests/sandbox/Makefile.am@1.12 +4 -0
+    Distribute testconf.yml
+
+  tests/sec-2853/Makefile.am@1.8 +4 -0
+    Distribute testconf.yml
+
+ChangeSet@1.3746, 2018-01-12 01:24:20-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Sec 3415] Multiple authenticated ephemeral associations.
+
+  ChangeLog@1.1897 +1 -0
+    [Sec 3415] Multiple authenticated ephemeral associations.
+
+ChangeSet@1.3745, 2018-01-11 12:25:17+00:00, stenn@psp-deb1.ntp.org
+  sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ChangeLog@1.1896 +2 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  NEWS@1.182 +3 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  html/keygen.html@1.36 +350 -138
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  include/ntp_request.h@1.49 +2 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  include/ntpd.h@1.199 +10 -9
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  libntp/systime.c@1.74 +12 -6
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/invoke-ntp.keys.texi@1.198 +11 -3
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp.keys.5man@1.232 +12 -4
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp.keys.5mdoc@1.232 +12 -4
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp.keys.def@1.12 +10 -2
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp.keys.man.in@1.232 +12 -4
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp.keys.mdoc.in@1.232 +12 -4
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp_control.c@1.224 +109 -97
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp_parser.c@1.110 +154 -154
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp_parser.h@1.73 +4 -4
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp_proto.c@1.408 +2 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpd/ntp_request.c@1.122 +2 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpdc/layout.std@1.12 +3 -1
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+  ntpq/ntpq-subs.c@1.122 +4 -0
+    sys_lamport and sys_tsrounding.  Document .../N in ntp.keys
+
+ChangeSet@1.3744, 2018-01-10 17:48:26+01:00, perlinger@ntp.org
+  [Bug 3450] Dubious error messages from plausibility checks in get_systime()
+
+  ChangeLog@1.1895 +2 -0
+    [Bug 3450] Dubious error messages from plausibility checks in get_systime()
+
+  libntp/systime.c@1.73 +31 -31
+    [Bug 3450] Dubious error messages from plausibility checks in get_systime()
+     - use ceiling when converting sys_fuzz to nsecs
+     - make sure the time stamps in l_fp format increase when truncation errors hit
+     - use DPRINTF() instead of syslog -- this is expected to happen from time to time
+
+ChangeSet@1.3743, 2018-01-08 04:20:20-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Sec 3012] Sybil vulnerability: noepeer support
+
+  ChangeLog@1.1894 +1 -1
+    [Sec 3012] Sybil vulnerability: noepeer support
+
+ChangeSet@1.3742, 2018-01-08 00:02:07-08:00, harlan@psp-at0.tal1.ntfo.org
+  Document noepeer
+
+  html/accopt.html@1.46 +2 -2
+    Document noepeer
+
+  ntpd/invoke-ntp.conf.texi@1.209 +10 -6
+    Document noepeer
+
+  ntpd/ntp.conf.5man@1.243 +9 -3127
+    Document noepeer
+
+  ntpd/ntp.conf.5mdoc@1.243 +7 -2947
+    Document noepeer
+
+  ntpd/ntp.conf.def@1.26 +9 -5
+    Document noepeer
+
+  ntpd/ntp.conf.man.in@1.243 +9 -3127
+    Document noepeer
+
+  ntpd/ntp.conf.mdoc.in@1.243 +7 -2947
+    Document noepeer
+
+ChangeSet@1.3741, 2018-01-06 03:43:02-08:00, harlan@psp-at0.tal1.ntfo.org
+  noepeer support
+
+  ChangeLog@1.1893 +1 -0
+    noepeer support
+
+  html/accopt.html@1.45 +3 -1
+    noepeer support
+
+  include/ntp.h@1.225 +12 -10
+    noepeer support
+
+  libntp/statestr.c@1.30 +147 -137
+    noepeer support
+
+  ntpd/keyword-gen-utd@1.31 +1 -1
+    noepeer support
+
+  ntpd/keyword-gen.c@1.37 +2 -0
+    noepeer support
+
+  ntpd/ntp_config.c@1.350 +5 -1
+    noepeer support
+
+  ntpd/ntp_keyword.h@1.33 +902 -891
+    noepeer support
+
+  ntpd/ntp_parser.c@1.109 +1120 -1120
+    noepeer support
+
+  ntpd/ntp_parser.h@1.72 +326 -322
+    noepeer support
+
+  ntpd/ntp_parser.y@1.98 +5 -1
+    noepeer support
+
+  ntpd/ntp_proto.c@1.407 +36 -28
+    noepeer support
+
+ChangeSet@1.3737.1.2, 2018-01-02 14:59:21+01:00, perlinger@ntp.org
+  fix typo / warning for VisualC
+
+  libntp/a_md5encrypt.c@1.48 +2 -2
+    fix typo / warning for VisualC
+
+ChangeSet@1.3739, 2017-12-31 02:49:37-08:00, harlan@psp-at0.tal1.ntfo.org
+  authistrustedip() - use it in more places
+
+  ChangeLog@1.1892 +2 -1
+    authistrustedip() - use it in more places
+
+  ntpd/ntp_control.c@1.223 +1 -1
+    authistrustedip() - use it in more places
+
+  ntpd/ntp_request.c@1.121 +1 -0
+    authistrustedip() - use it in more places
+
+ChangeSet@1.3737.1.1, 2017-12-31 11:03:00+01:00, perlinger@ntp.org
+  make 'authistrustedip()' more flexible
+
+  libntp/authkeys.c@1.41 +6 -7
+    make 'authistrustedip()' more flexible
+
+ChangeSet@1.3726.6.1, 2017-12-30 03:54:30-08:00, harlan@psp-at0.tal1.ntfo.org
+  record_raw_stats cleanup
+
+  ntpd/ntp_proto.c@1.406 +53 -4
+    record_raw_stats cleanup
+
+ChangeSet@1.3737, 2017-12-30 10:01:53+01:00, perlinger@ntp.org
+  unit tests: avoid CD to source dir when calling ruby
+
+  sntp/tests/Makefile.am@1.71 +10 -10
+    unit tests: avoid CD to source dir when calling ruby
+
+  sntp/unity/auto/generate_test_runner.rb@1.12 +2 -2
+    generator emits only module name, not module path, to generated code
+
+  tests/bug-2803/Makefile.am@1.17 +2 -2
+    unit tests: avoid CD to source dir when calling ruby
+
+  tests/libntp/Makefile.am@1.98 +40 -40
+    unit tests: avoid CD to source dir when calling ruby
+
+  tests/ntpd/Makefile.am@1.35 +7 -7
+    unit tests: avoid CD to source dir when calling ruby
+
+  tests/ntpq/Makefile.am@1.13 +2 -2
+    unit tests: avoid CD to source dir when calling ruby
+
+  tests/sandbox/Makefile.am@1.11 +4 -4
+    unit tests: avoid CD to source dir when calling ruby
+
+  tests/sec-2853/Makefile.am@1.7 +2 -2
+    unit tests: avoid CD to source dir when calling ruby
+
+ChangeSet@1.3736, 2017-12-30 08:10:36+00:00, stenn@psp-deb1.ntp.org
+  Clean up directory paths for test programs
+
+  sntp/tests/Makefile.am@1.70 +3 -3
+    Clean up directory paths for test programs
+
+  tests/bug-2803/Makefile.am@1.16 +3 -3
+    Clean up directory paths for test programs
+
+  tests/libntp/Makefile.am@1.97 +3 -3
+    Clean up directory paths for test programs
+
+  tests/ntpd/Makefile.am@1.34 +3 -3
+    Clean up directory paths for test programs
+
+  tests/ntpq/Makefile.am@1.12 +3 -3
+    Clean up directory paths for test programs
+
+  tests/sandbox/Makefile.am@1.10 +3 -3
+    Clean up directory paths for test programs
+
+  tests/sec-2853/Makefile.am@1.6 +3 -3
+    Clean up directory paths for test programs
+
+ChangeSet@1.3735, 2017-12-30 07:49:54+01:00, perlinger@ntp.org
+  address matching: cleanup & unit tests
+
+  libntp/authkeys.c@1.40 +29 -3
+    address matching: cleanup & unit tests
+     - improve handling of invalid addresses
+
+  tests/libntp/authkeys.c@1.16 +173 -45
+    address matching: cleanup & unit tests
+     - add test cases
+
+  tests/libntp/run-authkeys.c@1.14 +19 -7
+    address matching: cleanup & unit tests
+     - update auto-generated file
+
+ChangeSet@1.3734, 2017-12-29 10:53:55+01:00, perlinger@ntp.org
+  implement mask/prefix match on addresses for key lookup
+
+  include/ntp_keyacc.h@1.4 +6 -2
+    implement mask/prefix match on addresses for key lookup
+
+  libntp/authkeys.c@1.39 +73 -2
+    implement mask/prefix match on addresses for key lookup
+
+  libntp/authreadkeys.c@1.32 +13 -19
+    cleanup of mask parsing, accept excessive masks
+
+  libntp/ssl_init.c@1.28 +1 -2
+    cleanup use of loval vars
+
+ChangeSet@1.3730.1.9, 2017-12-28 22:48:21-08:00, harlan@psp-at0.tal1.ntfo.org
+  Allow .../N to specify subnet bits for IPs in ntp.keys
+
+  ChangeLog@1.1891 +1 -0
+    Allow .../N to specify subnet bits for IPs in ntp.keys
+
+  include/ntp_keyacc.h@1.3 +3 -1
+    Allow .../N to specify subnet bits for IPs in ntp.keys
+
+  libntp/authkeys.c@1.38 +4 -1
+    Allow .../N to specify subnet bits for IPs in ntp.keys
+
+  libntp/authreadkeys.c@1.31 +47 -7
+    Allow .../N to specify subnet bits for IPs in ntp.keys
+
+ChangeSet@1.3730.1.8, 2017-12-28 22:42:07-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Bug 2900] libntp build order problem
+
+  ChangeLog@1.1890 +1 -0
+    [Bug 2900] libntp build order problem
+
+  Makefile.am@1.136 +1 -1
+    [Bug 2900] libntp build order problem
+
+  sntp/check-libntp.mf@1.3 +0 -1
+    [Bug 2900] libntp build order problem
+
+ChangeSet@1.3730.1.7, 2017-12-28 00:09:57-08:00, harlan@psp-at1.tal1.ntfo.org
+  sntp: show the IP of who sent us a crypto-NAK
+
+  ChangeLog@1.1889 +1 -0
+    sntp: show the IP of who sent us a crypto-NAK
+
+  sntp/networking.c@1.69 +6 -2
+    sntp: show the IP of who sent us a crypto-NAK
+
+ChangeSet@1.3730.1.6, 2017-12-25 19:53:47-08:00, harlan@psp-at0.tal1.ntfo.org
+  Clean up libevent configure checks
+
+  ChangeLog@1.1888 +1 -0
+    Clean up libevent configure checks
+
+  sntp/m4/ntp_libevent.m4@1.20 +6 -7
+    Clean up libevent configure checks
+
+ChangeSet@1.3730.1.5, 2017-12-25 18:07:37-08:00, harlan@psp-at0.tal1.ntfo.org
+  prepend "yes, " to the displayed value of pkg-config --modversion
+
+  sntp/m4/ntp_libevent.m4@1.19 +1 -1
+    prepend "yes, " to the displayed value of pkg-config --modversion
+
+  sntp/m4/ntp_openssl.m4@1.29 +1 -1
+    prepend "yes, " to the displayed value of pkg-config --modversion
+
+ChangeSet@1.3730.2.1, 2017-12-25 04:53:42-08:00, harlan@psp-at1.tal1.ntfo.org
+  When using pkg-config, report --modversion
+
+  ChangeLog@1.1887 +1 -0
+    When using pkg-config, report --modversion
+
+  sntp/m4/ntp_libevent.m4@1.18 +6 -1
+    When using pkg-config, report --modversion
+
+  sntp/m4/ntp_openssl.m4@1.28 +6 -1
+    When using pkg-config, report --modversion
+
+ChangeSet@1.3726.5.2, 2017-12-22 14:53:55+01:00, perlinger@ntp.org
+  SNTP: separate MAC computation from copy or compare
+
+  sntp/crypto.c@1.36 +85 -56
+    separate MAC computation from copy or compare
+
+ChangeSet@1.3726.4.1, 2017-12-21 07:59:17+01:00, perlinger@ntp.org
+  zero-pad or truncate AES128CMAC keys to exactly 16byte
+
+  libntp/a_md5encrypt.c@1.47 +14 -6
+    zero-pad or truncate AES128CMAC keys to exactly 16byte
+
+  sntp/crypto.c@1.32.1.1 +15 -23
+    zero-pad or truncate AES128CMAC keys to exactly 16byte
+
+ChangeSet@1.3726.1.17, 2017-12-13 20:30:41-08:00, harlan@psp-at0.tal1.ntfo.org
+  update-leap: updates from Paul McMath
+
+  ChangeLog@1.1885 +1 -0
+    update-leap: updates from Paul McMath
+
+  scripts/update-leap/update-leap.in@1.5 +13 -12
+    update-leap: updates from Paul McMath
+
+ChangeSet@1.3726.3.9, 2017-12-13 03:21:32-08:00, harlan@psp-at0.tal1.ntfo.org
+  sntp: pkt_output(): Improve debug output.
+
+  ChangeLog@1.1876.5.8 +1 -0
+    sntp: pkt_output(): Improve debug output.
+
+  libntp/authreadkeys.c@1.27.1.2 +1 -0
+    Minor cleanup
+
+  sntp/utilities.c@1.20 +1 -1
+    sntp: pkt_output(): Improve debug output.
+
+ChangeSet@1.3726.3.8, 2017-12-13 02:14:15-08:00, harlan@psp-at0.tal1.ntfo.org
+  sntp: tweak key file logging.
+
+  ChangeLog@1.1876.5.7 +1 -0
+    sntp: tweak key file logging.
+
+  sntp/crypto.c@1.25.1.4 +10 -4
+    sntp: tweak key file logging.
+
+  sntp/main.c@1.102 +1 -2
+    sntp: tweak key file logging.
+
+ChangeSet@1.3726.3.7, 2017-12-12 19:15:09-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Bug 3405] update-leap.in: general cleanup, HTTPS support.  Paul McMath.
+
+  ChangeLog@1.1876.5.6 +1 -0
+    [Bug 3405] update-leap.in: general cleanup, HTTPS support.  Paul McMath.
+
+  NEWS@1.181 +6 -0
+    [Bug 3405] update-leap.in: general cleanup, HTTPS support.  Paul McMath.
+
+  scripts/update-leap/update-leap.in@1.4 +358 -312
+    [Bug 3405] update-leap.in: general cleanup, HTTPS support.  Paul McMath.
+
+ChangeSet@1.3726.3.6, 2017-12-11 11:55:35+00:00, stenn@psp-deb1.ntp.org
+  Deal with NULL src when calling record_raw_stats()
+
+  ntpd/ntp_io.c@1.423 +1 -1
+    Deal with NULL src when calling record_raw_stats()
+
+ChangeSet@1.3726.3.5, 2017-12-11 03:31:22-08:00, harlan@psp-at0.tal1.ntfo.org
+  Handle a null srcadr in record_raw_stats()
+
+  ntpd/ntp_util.c@1.119 +2 -1
+    Handle a null srcadr in record_raw_stats()
+
+ChangeSet@1.3726.1.14, 2017-12-11 08:52:38+00:00, stenn@psp-deb1.ntp.org
+  merge cleanup
+
+  sntp/invoke-sntp.texi@1.512 +1 -1
+    merge cleanup
+
+  sntp/sntp-opts.c@1.531 +95 -92
+    merge cleanup
+
+  sntp/sntp-opts.h@1.529 +1 -1
+    merge cleanup
+
+  sntp/sntp.1sntpman@1.347 +7 -2
+    merge cleanup
+
+  sntp/sntp.1sntpmdoc@1.347 +7 -2
+    merge cleanup
+
+  sntp/sntp.man.in@1.347 +7 -2
+    merge cleanup
+
+  sntp/sntp.mdoc.in@1.347 +7 -2
+    merge cleanup
+
+ChangeSet@1.3726.1.12, 2017-12-09 10:39:12+01:00, jnperlin@hydra.localnet
+  [Bug 2878] Tests are cluttering up syslog
+
+  ChangeLog@1.1882 +1 -0
+    [Bug 2878] Tests are cluttering up syslog
+
+  sntp/tests/Makefile.am@1.69 +3 -2
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  sntp/tests/run-crypto.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-keyFile.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-kodDatabase.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-kodFile.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-networking.c@1.4 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-packetHandling.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-packetProcessing.c@1.13 +8 -0
+    Bug 2878 - Tests are cluttering up syslog
+
+  sntp/tests/run-t-log.c@1.6 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/run-utilities.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  sntp/tests/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  sntp/tests/testconf.yml@1.0 +0 -0
+
+  sntp/unity/auto/generate_test_runner.rb@1.11 +1 -1
+    [Bug 2878] Tests are cluttering up syslog
+     - fix prototype of generated 'suite_setup()' function
+
+  tests/bug-2803/Makefile.am@1.15 +2 -1
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/bug-2803/run-bug-2803.c@1.10 +8 -2
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/bug-2803/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/bug-2803/testconf.yml@1.0 +0 -0
+
+  tests/bug-3102/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/bug-3102/testconf.yml@1.0 +0 -0
+
+  tests/libntp/Makefile.am@1.96 +3 -2
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/libntp/run-a_md5encrypt.c@1.16 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-atoint.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-atouint.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-authkeys.c@1.13 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-buftvtots.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-calendar.c@1.13 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-caljulian.c@1.14 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-caltontp.c@1.6 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-calyearstart.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-clocktime.c@1.11 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-decodenetnum.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-hextoint.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-hextolfp.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-humandate.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-lfpfunc.c@1.20 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-lfptostr.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-modetoa.c@1.13 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-msyslog.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-netof.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-numtoa.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-numtohost.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-octtoint.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-prettydate.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-recvbuff.c@1.6 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-refidsmear.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-refnumtoa.c@1.10 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-sfptostr.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-socktoa.c@1.15 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-ssl_init.c@1.10 +17 -5
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-statestr.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-strtolfp.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-timespecops.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-timevalops.c@1.15 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-tsafememcmp.c@1.2 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-tstotv.c@1.6 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-tvtots.c@1.7 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-uglydate.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-vi64ops.c@1.9 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/run-ymd2yd.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/libntp/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/libntp/testconf.yml@1.0 +0 -0
+
+  tests/ntpd/Makefile.am@1.33 +2 -1
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/ntpd/run-leapsec.c@1.6.1.1 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/run-ntp_prio_q.c@1.4.1.1 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/run-ntp_restrict.c@1.5.1.1 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/run-rc_cmdlength.c@1.4.1.1 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/run-t-ntp_scanner.c@1.5.1.1 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/run-t-ntp_signd.c@1.12 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpd/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/ntpd/testconf.yml@1.0 +0 -0
+
+  tests/ntpq/Makefile.am@1.11 +2 -1
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/ntpq/run-t-ntpq.c@1.4 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/ntpq/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/ntpq/testconf.yml@1.0 +0 -0
+
+  tests/sandbox/Makefile.am@1.9 +2 -1
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/sandbox/run-modetoa.c@1.4 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/sandbox/run-uglydate.c@1.8 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/sandbox/run-ut-2803.c@1.3 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/sandbox/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/sandbox/testconf.yml@1.0 +0 -0
+
+  tests/sec-2853/Makefile.am@1.5 +4 -2
+    [Bug 2878] Tests are cluttering up syslog
+     - use YAML config to setup test suites
+
+  tests/sec-2853/run-sec-2853.c@1.6 +8 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - auto-regenerated test driver
+
+  tests/sec-2853/testconf.yml@1.1 +9 -0
+    [Bug 2878] Tests are cluttering up syslog
+     - generator configuration to redirect syslog to stderr
+
+  tests/sec-2853/testconf.yml@1.0 +0 -0
+
+ChangeSet@1.3726.1.11, 2017-12-08 07:14:36+01:00, perlinger@ntp.org
+  [Bug 3447] AES-128-CMAC (fixes)
+   - refactoring the MAC code, too
+
+  ChangeLog@1.1881 +1 -0
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+  include/ntp_stdlib.h@1.86 +2 -2
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+  libntp/a_md5encrypt.c@1.46 +163 -174
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+  libntp/authkeys.c@1.37 +6 -3
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+  libntp/libssl_compat.c@1.5 +4 -1
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+  tests/libntp/a_md5encrypt.c@1.16 +4 -8
+    [Bug 3447] AES-128-CMAC (fixes)
+     - refactoring the MAC code, too
+
+ChangeSet@1.3726.3.4, 2017-12-07 10:56:10+00:00, stenn@psp-deb1.ntp.org
+  Update monopt.html with the new rawstats information
+
+  html/monopt.html@1.41 +21 -5
+    Update monopt.html with the new rawstats information
+
+ChangeSet@1.3726.1.10, 2017-12-06 21:15:12+01:00, perlinger@ntp.org
+  [Bug 3447] AES-128-CMAC (fixes)
+
+  ChangeLog@1.1880 +1 -0
+    [Bug 3447] AES-128-CMAC (fixes)
+
+  libntp/a_md5encrypt.c@1.45 +151 -168
+    [Bug 3447] AES-128-CMAC (fixes)
+
+  sntp/crypto.c@1.32 +77 -82
+    [Bug 3447] AES-128-CMAC (fixes)
+
+ChangeSet@1.3726.3.3, 2017-12-05 20:23:17-08:00, harlan@psp-at0.tal1.ntfo.org
+  [Bug 3433] sntp crashes when run with -a
+
+  ChangeLog@1.1876.5.5 +1 -0
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/crypto.c@1.25.1.3 +1 -0
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/invoke-sntp.texi@1.509.1.1 +1 -1
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/main.c@1.101 +19 -7
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp-opts.c@1.528.1.1 +95 -92
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp-opts.def@1.48 +1 -0
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp-opts.h@1.526.1.1 +1 -1
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp.1sntpman@1.342.1.3 +8 -3
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp.1sntpmdoc@1.342.1.3 +7 -2
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp.html@1.523.2.3 +104 -80
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp.man.in@1.342.1.3 +8 -3
+    [Bug 3433] sntp crashes when run with -a
+
+  sntp/sntp.mdoc.in@1.342.1.3 +7 -2
+    [Bug 3433] sntp crashes when run with -a
+
+ChangeSet@1.3726.3.2, 2017-12-05 18:48:06-08:00, harlan@psp-at0.tal1.ntfo.org
+  Add comment about client-mode pkt->rootdisp
+
+  ntpd/ntp_io.c@1.422 +1 -0
+    Add comment about client-mode pkt->rootdisp
+
+ChangeSet@1.3726.3.1, 2017-12-04 00:24:49-08:00, harlan@psp-at0.tal1.ntfo.org
+  record_raw_stats(): Log entire packet.  Log writes.
+
+  ChangeLog@1.1876.5.4 +1 -0
+    record_raw_stats(): Log entire packet.  Log writes.
+
+  include/ntpd.h@1.198 +1 -1
+    record_raw_stats(): Log entire packet.  Log writes.
+
+  ntpd/ntp_io.c@1.421 +13 -0
+    record_raw_stats(): Log entire packet.  Log writes.
+
+  ntpd/ntp_proto.c@1.405 +2 -1
+    record_raw_stats(): Log entire packet.  Log writes.
+
+  ntpd/ntp_util.c@1.118 +15 -2
+    record_raw_stats(): Log entire packet.  Log writes.
+
+ChangeSet@1.3726.1.9, 2017-12-03 02:49:10-08:00, harlan@psp-at0.tal1.ntfo.org
+  Many files:
+    new file
+
+  libntp/aes/FROM@1.1 +1 -0
+    BitKeeper file libntp/aes/FROM
+
+  libntp/aes/FROM@1.0 +0 -0
+
+  libntp/aes/Makefile.am@1.1 +24 -0
+    BitKeeper file libntp/aes/Makefile.am
+
+  libntp/aes/Makefile.am@1.0 +0 -0
+
+  libntp/aes/README@1.1 +56 -0
+    BitKeeper file libntp/aes/README
+
+  libntp/aes/README@1.0 +0 -0
+
+  libntp/aes/aes-omac1.c@1.1 +118 -0
+    BitKeeper file libntp/aes/aes-omac1.c
+
+  libntp/aes/aes-omac1.c@1.0 +0 -0
+
+  libntp/aes/aes.h@1.1 +21 -0
+    BitKeeper file libntp/aes/aes.h
+
+  libntp/aes/aes.h@1.0 +0 -0
+
+  libntp/aes/aes_wrap.h@1.1 +64 -0
+    BitKeeper file libntp/aes/aes_wrap.h
+
+  libntp/aes/aes_wrap.h@1.0 +0 -0
+
+  libntp/aes/ar-lib@1.1 +270 -0
+    BitKeeper file libntp/aes/ar-lib
+
+  libntp/aes/ar-lib@1.0 +0 -0
+
+  libntp/aes/build_config.h@1.1 +77 -0
+    BitKeeper file libntp/aes/build_config.h
+
+  libntp/aes/build_config.h@1.0 +0 -0
+
+  libntp/aes/common.h@1.1 +489 -0
+    BitKeeper file libntp/aes/common.h
+
+  libntp/aes/common.h@1.0 +0 -0
+
+  libntp/aes/compile@1.1 +347 -0
+    BitKeeper file libntp/aes/compile
+
+  libntp/aes/compile@1.0 +0 -0
+
+  libntp/aes/configure.ac@1.1 +37 -0
+    BitKeeper file libntp/aes/configure.ac
+
+  libntp/aes/configure.ac@1.0 +0 -0
+
+  libntp/aes/depcomp@1.1 +791 -0
+    BitKeeper file libntp/aes/depcomp
+
+  libntp/aes/depcomp@1.0 +0 -0
+
+  libntp/aes/includes.h@1.1 +50 -0
+    BitKeeper file libntp/aes/includes.h
+
+  libntp/aes/includes.h@1.0 +0 -0
+
+  libntp/aes/missing@1.1 +215 -0
+    BitKeeper file libntp/aes/missing
+
+  libntp/aes/missing@1.0 +0 -0
+
+  libntp/aes/os.h@1.1 +539 -0
+    BitKeeper file libntp/aes/os.h
+
+  libntp/aes/os.h@1.0 +0 -0
+
+  libntp/aes/rfc4493-test.c@1.1 +256 -0
+    BitKeeper file libntp/aes/rfc4493-test.c
+
+  libntp/aes/rfc4493-test.c@1.0 +0 -0
+
+  libntp/aes/test-aes-libtomcrypt.c@1.1 +101 -0
+    BitKeeper file libntp/aes/test-aes-libtomcrypt.c
+
+  libntp/aes/test-aes-libtomcrypt.c@1.0 +0 -0
+
+  libntp/aes/test-aes-openssl.c@1.1 +71 -0
+    BitKeeper file libntp/aes/test-aes-openssl.c
+
+  libntp/aes/test-aes-openssl.c@1.0 +0 -0
+
+  libntp/aes/validate-aes.c@1.1 +122 -0
+    BitKeeper file libntp/aes/validate-aes.c
+
+  libntp/aes/validate-aes.c@1.0 +0 -0
+
+  libntp/aes/wpa_debug.c@1.1 +688 -0
+    BitKeeper file libntp/aes/wpa_debug.c
+
+  libntp/aes/wpa_debug.c@1.0 +0 -0
+
+  libntp/aes/wpa_debug.h@1.1 +291 -0
+    BitKeeper file libntp/aes/wpa_debug.h
+
+  libntp/aes/wpa_debug.h@1.0 +0 -0
+
+  libntp/aes/wpabuf.c@1.1 +303 -0
+    BitKeeper file libntp/aes/wpabuf.c
+
+  libntp/aes/wpabuf.c@1.0 +0 -0
+
+  libntp/aes/wpabuf.h@1.1 +162 -0
+    BitKeeper file libntp/aes/wpabuf.h
+
+  libntp/aes/wpabuf.h@1.0 +0 -0
+
+ChangeSet@1.3726.1.8, 2017-11-28 08:44:31+00:00, stenn@psp-deb1.ntp.org
+  Identify AES-128-CMAC workers
+
+  ChangeLog@1.1879 +1 -1
+    Identify AES-128-CMAC workers
+
+ChangeSet@1.3726.1.7, 2017-11-28 00:12:53-08:00, harlan@mb6.tal1.ntfo.org
+  Continue AES-128-CMAC test development
+
+  sntp/tests/crypto.c@1.15 +10 -6
+    Continue AES-128-CMAC test development
+
+ChangeSet@1.3726.2.1, 2017-11-28 07:08:15+00:00, stenn@psp-deb1.ntp.org
+  Merge cleanup
+
+  libntp/ssl_init.c@1.27 +1 -0
+    Merge cleanup
+
+  ntpd/ntpd.html@1.188 +1 -1
+    Merge cleanup
+
+  ntpq/ntpq.c@1.181 +1 -0
+    Merge cleanup
+
+  ntpq/ntpq.html@1.185 +1 -1
+    Merge cleanup
+
+  sntp/crypto.c@1.30 +13 -13
+    Merge cleanup
+
+  sntp/crypto.h@1.14 +2 -1
+    Merge cleanup
+
+  sntp/tests/crypto.c@1.13 +2 -2
+    Merge cleanup
+
+  sntp/tests/packetProcessing.c@1.16 +1 -1
+    Merge cleanup
+
+  sntp/tests/run-crypto.c@1.7 +10 -6
+    Merge cleanup
+
+  sntp/tests/run-packetProcessing.c@1.12 +20 -18
+    Merge cleanup
+
+ChangeSet@1.3720.58.1, 2017-11-27 22:35:12-08:00, harlan@mb6.tal1.ntfo.org
+  aes-128-cmac support
+
+  sntp/crypto.c@1.28.1.1 +23 -15
+    aes-128-cmac support
+
+  sntp/tests/crypto.c@1.11.1.1 +27 -4
+    aes-128-cmac support
+
+ChangeSet@1.3726.1.3, 2017-11-13 22:54:14-08:00, harlan@psp-at0.tal1.ntfo.org
+  Fix bug in the override portion of the compiler hardening macro
+
+  ChangeLog@1.1876.5.3 +1 -0
+    Fix bug in the override portion of the compiler hardening macro
+
+  html/access.html@1.3, harlan@max.pfcs.com +2 -2
+    whitespace cleanup
+
+  html/accopt.html@1.44, harlan@max.pfcs.com +4 -4
+    whitespace cleanup
+
+  sntp/m4/ntp_harden.m4@1.2 +6 -6
+    Fix bug in the override portion of the compiler hardening macro
+
+ChangeSet@1.3731, 2017-10-31 07:33:33+01:00, perlinger@ntp.org
+  Fix trivial warnings from 'make check'
+   - printf format clashes
+
+  tests/libntp/timespecops.c@1.12 +9 -6
+    Fix trivial warnings from 'make check'
+     - printf format clashes
+
+  tests/libntp/timevalops.c@1.15 +8 -8
+    Fix trivial warnings from 'make check'
+     - printf format clashes
+
+ChangeSet@1.3730, 2017-10-30 09:46:03+01:00, perlinger@ntp.org
+  Fix trivial warnings from 'make check'
+
+  ChangeLog@1.1876.1.7 +1 -0
+    Fix trivial warnings from 'make check'
+
+  tests/ntpd/leapsec.c@1.5 +97 -193
+    Fix trivial warnings from 'make check'
+
+  tests/ntpd/ntp_prio_q.c@1.4 +24 -16
+    Fix trivial warnings from 'make check'
+
+  tests/ntpd/ntp_restrict.c@1.4 +34 -22
+    Fix trivial warnings from 'make check'
+
+  tests/ntpd/rc_cmdlength.c@1.4 +3 -4
+    Fix trivial warnings from 'make check'
+
+  tests/ntpd/run-leapsec.c@1.7 +34 -33
+    Fix trivial warnings from 'make check' (auto-regenerated file)
+
+  tests/ntpd/run-ntp_prio_q.c@1.5 +6 -6
+    Fix trivial warnings from 'make check' (auto-regenerated file)
+
+  tests/ntpd/run-ntp_restrict.c@1.6 +8 -8
+    Fix trivial warnings from 'make check' (auto-regenerated file)
+
+  tests/ntpd/run-rc_cmdlength.c@1.5 +1 -1
+    Fix trivial warnings from 'make check' (auto-regenerated file)
+
+  tests/ntpd/run-t-ntp_scanner.c@1.6 +11 -11
+    Fix trivial warnings from 'make check' (auto-regenerated file)
+
+  tests/ntpd/t-ntp_scanner.c@1.8 +33 -37
+    Fix trivial warnings from 'make check'
+
+ChangeSet@1.3726.1.2, 2017-10-27 04:01:06-04:00, stenn@psp-deb2.ntp.org
+  Build ntpq and libntpq.a with NTP_HARD_*FLAGS
+
+  ChangeLog@1.1876.5.2 +1 -0
+    Build ntpq and libntpq.a with NTP_HARD_*FLAGS
+
+  ntpq/Makefile.am@1.73 +5 -1
+    Build ntpq and libntpq.a with NTP_HARD_*FLAGS
+
+ChangeSet@1.3726.1.1, 2017-10-15 07:52:15+00:00, stenn@psp-deb1.ntp.org
+  refclock_jjy.c: Add missing "%s" to an msyslog() call
+
+  ChangeLog@1.1876.5.1 +1 -0
+    refclock_jjy.c: Add missing "%s" to an msyslog() call
+
+  ntpd/refclock_jjy.c@1.36 +1 -1
+    refclock_jjy.c: Add missing "%s" to an msyslog() call
+
+ChangeSet@1.3720.56.9, 2017-10-15 04:51:52+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3441] Validate the assumption that AF_UNSPEC is 0
+
+  ChangeLog@1.1876.4.8 +1 -0
+    [Bug 3441] Validate the assumption that AF_UNSPEC is 0
+
+  configure.ac@1.610 +2 -0
+    [Bug 3441] Validate the assumption that AF_UNSPEC is 0
+
+  sntp/m4/ntp_af_unspec.m4@1.2 +1 -1
+    [Bug 3441] Validate the assumption that AF_UNSPEC is 0
+
+  sntp/m4/ntp_af_unspec.m4@1.1 +23 -0
+    BitKeeper file sntp/m4/ntp_af_unspec.m4
+
+  sntp/m4/ntp_af_unspec.m4@1.0 +0 -0
+
+ChangeSet@1.3720.56.8, 2017-10-15 01:07:22+00:00, stenn@psp-deb1.ntp.org
+  regenerate ntp_parser.[ch]
+
+  ntpd/ntp_parser.c@1.108 +1176 -1157
+    regenerate ntp_parser.[ch]
+
+  ntpd/ntp_parser.h@1.71 +5 -5
+    regenerate ntp_parser.[ch]
+
+ChangeSet@1.3720.53.2, 2017-10-14 08:37:26+02:00, perlinger@ntp.org
+  [Bug 3435] anchor NTP era alignment
+
+  html/miscopt.html@1.87.1.2 +1 -1
+    [Bug 3435] anchor NTP era alignment
+
+  ntpd/ntp_config.c@1.348 +16 -5
+    [Bug 3435] anchor NTP era alignment
+
+ChangeSet@1.3720.56.6, 2017-10-13 08:17:25+00:00, stenn@psp-deb1.ntp.org
+  cleanup
+
+  ChangeLog@1.1876.4.6 +2 -2
+    cleanup
+
+ChangeSet@1.3720.57.1, 2017-10-13 09:18:19+02:00, perlinger@ntp.org
+  [Bug 3437] ntpd tries to open socket with AF_UNSPEC domain
+
+  ChangeLog@1.1873.23.1 +4 -0
+    [Bug 3437] ntpd tries to open socket with AF_UNSPEC domain
+
+  ntpd/ntp_io.c@1.420 +11 -0
+    [Bug 3437] ntpd tries to open socket with AF_UNSPEC domain
+
+ChangeSet@1.3720.29.23, 2017-10-13 03:35:03+00:00, stenn@psp-deb1.ntp.org
+  Note 3412 is a Security bug
+
+  ChangeLog@1.1876.2.16 +1 -1
+    Note 3412 is a Security bug
+
+ChangeSet@1.3720.29.22, 2017-10-13 03:31:58+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3412] ctl_getitem(): Don't compare names past NUL
+
+  ChangeLog@1.1876.2.15 +1 -0
+    [Bug 3412] ctl_getitem(): Don't compare names past NUL
+
+  ntpd/ntp_control.c@1.222 +3 -1
+    [Bug 3412] ctl_getitem(): Don't compare names past NUL
+
+ChangeSet@1.3720.29.19, 2017-10-13 02:20:50+00:00, stenn@psp-deb1.ntp.org
+  test_ntp_scanner_LDADD needs ntpd/ntp_io.o
+
+  ChangeLog@1.1876.2.12 +1 -0
+    test_ntp_scanner_LDADD needs ntpd/ntp_io.o
+
+  tests/ntpd/Makefile.am@1.32 +1 -0
+    test_ntp_scanner_LDADD needs ntpd/ntp_io.o
+
+ChangeSet@1.3720.55.2, 2017-10-12 12:55:29+02:00, perlinger@ntp.org
+  [Bug 3439] (ntpq) When running multiple commands / hosts in ntpq...
+
+  ChangeLog@1.1873.22.2 +2 -0
+    [Bug 3439] (ntpq) When running multiple commands / hosts in ntpq...
+
+  ntpq/ntpq.c@1.174.3.1 +8 -2
+    [Bug 3439] (ntpq) When running multiple commands / hosts in ntpq...
+     - applied patch by ggarvey
+
+ChangeSet@1.3720.55.1, 2017-10-12 12:51:50+02:00, perlinger@ntp.org
+  [Bug 3438] (ntpq) Negative values and values > 999 days in...
+   - make sure negative values are curbed and excessive days are converted to years
+
+  ChangeLog@1.1873.22.1 +4 -0
+    [Bug 3438] (ntpq) Negative values and values > 999 days in...
+
+  ntpq/ntpq-subs.c@1.119.4.1 +10 -1
+    [Bug 3438] (ntpq) Negative values and values > 999 days in...
+     - make sure negative values are curbed and excessive days are converted to years
+
+ChangeSet@1.3720.29.12, 2017-10-12 09:35:01+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3365] Updates driver40(-ja).html and miscopt.html <abe@ntp.org>
+
+  html/drivers/driver40-ja.html@1.7 +1 -1
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html <abe@ntp.org>
+
+  html/drivers/driver40.html@1.22 +1 -1
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html <abe@ntp.org>
+
+  html/miscopt.html@1.89 +1 -2
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html <abe@ntp.org>
+
+ChangeSet@1.3720.29.9, 2017-10-12 08:21:13+00:00, stenn@psp-deb1.ntp.org
+  [Bug 2737] Wrong phone number listed for USNO
+
+  html/drivers/driver18.html@1.22 +1 -1
+    [Bug 2737] Wrong phone number listed for USNO
+
+ChangeSet@1.3720.29.6, 2017-10-12 07:26:49+00:00, stenn@psp-deb1.ntp.org
+  [Bug 948] Trustedkey config directive leaks memory
+
+  ChangeLog@1.1876.2.1 +1 -0
+    [Bug 948] Trustedkey config directive leaks memory
+
+  include/ntp_config.h@1.84 +13 -0
+    [Bug 948] Trustedkey config directive leaks memory
+
+  ntpd/ntp_config.c@1.346.1.1 +35 -3
+    [Bug 948] Trustedkey config directive leaks memory
+
+  ntpd/ntp_parser.c@1.105.1.1 +551 -548
+    [Bug 948] Trustedkey config directive leaks memory
+
+  ntpd/ntp_parser.h@1.68.1.1 +3 -3
+    [Bug 948] Trustedkey config directive leaks memory
+
+  ntpd/ntp_parser.y@1.95.1.1 +7 -6
+    [Bug 948] Trustedkey config directive leaks memory
+
+ChangeSet@1.3720.53.1, 2017-10-10 08:44:16+02:00, perlinger@ntp.org
+  [Bug 3435] anchor NTP era alignment
+
+  ChangeLog@1.1873.21.1 +3 -0
+    [Bug 3435] anchor NTP era alignment
+
+  html/miscopt.html@1.87.1.1 +3 -1
+    [Bug 3435] anchor NTP era alignment
+     - explain "tos basedate"
+
+  include/ntp_calendar.h@1.19 +23 -0
+    [Bug 3435] anchor NTP era alignment
+     - add support far 'basedate' calculations
+
+  include/ntp_fp.h@1.34 +1 -0
+    [Bug 3435] anchor NTP era alignment
+     - check/clamp system time based on 'basedate'
+
+  libntp/ntp_calendar.c@1.19 +109 -0
+    [Bug 3435] anchor NTP era alignment
+     - add support far 'basedate' calculations
+
+  libntp/systime.c@1.72 +173 -95
+    [Bug 3435] anchor NTP era alignment
+     - check/clamp system time based on 'basedate'
+
+  ntpd/keyword-gen-utd@1.30 +1 -1
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' keyword
+
+  ntpd/keyword-gen.c@1.36 +1 -0
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' keyword
+
+  ntpd/ntp_config.c@1.347 +56 -3
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' statement to TOS line
+
+  ntpd/ntp_keyword.h@1.32 +1082 -1074
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' keyword
+
+  ntpd/ntp_parser.c@1.106 +1176 -1155
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' statement to TOS line
+
+  ntpd/ntp_parser.h@1.69 +377 -375
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' statement to TOS line
+
+  ntpd/ntp_parser.y@1.96 +7 -0
+    [Bug 3435] anchor NTP era alignment
+     - add 'basedate' statement to TOS line
+
+ChangeSet@1.3720.44.2, 2017-09-11 09:37:31+02:00, perlinger@ntp.org
+  [Bug 3424] Trimble Thunderbolt 1024 week millenium bug
+   - fix type & annoying but harmless signed/unsigned clash
+
+  ntpd/refclock_palisade.c@1.45 +2 -2
+    [Bug 3424] Trimble Thunderbolt 1024 week millenium bug
+     - fix type & annoying but harmless signed/unsigned clash
+
+ChangeSet@1.3720.52.1, 2017-09-09 08:05:52+02:00, perlinger@ntp.org
+  [Bug 2737] Wrong phone number listed for USNO
+
+  ChangeLog@1.1873.20.1 +3 -0
+    [Bug 2737] Wrong phone number listed for USNO
+
+  html/drivers/driver18.html@1.21 +1 -1
+    [Bug 2737] Wrong phone number listed for USNO
+
+ChangeSet@1.3720.51.1, 2017-09-08 07:54:24+02:00, perlinger@ntp.org
+  [Bug 3411] problem about SIGN(6) packet handling for ntp-4.2.8p10
+
+  ChangeLog@1.1873.19.1 +4 -0
+    [Bug 3411] problem about SIGN(6) packet handling for ntp-4.2.8p10
+
+  include/recvbuff.h@1.27 +3 -2
+    [Bug 3411] problem about SIGN(6) packet handling for ntp-4.2.8p10
+     - raised receive buffer size to 1200
+
+ChangeSet@1.3720.37.2, 2017-09-07 15:47:26+02:00, perlinger@ntp.org
+  [Bug 3397] ctl_putstr() asserts that data fits in its buffer
+   - restore logic of 'ctl_putstr()'/'ctl_putunqstr()' for empty strings (just name, no assign)
+
+  ntpd/ntp_control.c@1.221 +20 -14
+    [Bug 3397] ctl_putstr() asserts that data fits in its buffer
+     - restore logic of 'ctl_putstr()'/'ctl_putunqstr()' for empty strings (just name, no assign)
+
+ChangeSet@1.3720.50.4, 2017-09-07 15:44:14+02:00, perlinger@ntp.org
+  [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+   - side kick: missing linefeed in 'ifstat' warning messes up screen
+
+  ntpq/ntpq-subs.c@1.119.3.1 +2 -2
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - side kick: missing linefeed in 'ifstat' warning messes up screen
+
+ChangeSet@1.3720.50.3, 2017-09-07 11:11:08+02:00, perlinger@ntp.org
+  [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+   - sidekick: permit longer key type (hash algo names) for SNTP
+
+  sntp/crypto.c@1.25.1.2 +1 -1
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - sidekick: permit longer key type (hash algo names) for SNTP
+
+  sntp/crypto.h@1.11.1.2 +1 -1
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - sidekick: permit longer key type (hash algo names) for SNTP
+
+ChangeSet@1.3720.50.2, 2017-09-06 13:10:55+02:00, perlinger@ntp.org
+  [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+   - fix MD5 fallback: only 'M' as keytype accepted
+   - provide full digest list with MSVC for OpenSSL v1.0.1 and above
+
+  libntp/ssl_init.c@1.22.1.2 +1 -1
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - fix MD5 fallback: only 'M' as keytype accepted
+
+  ntpq/ntpq.c@1.174.2.2 +6 -0
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - with MSVC, enable HAVE_EVP_MD_DO_ALL_SORTED for OpenSSL v1.0.1 and above
+
+ChangeSet@1.3720.50.1, 2017-09-06 10:16:25+02:00, perlinger@ntp.org
+  [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+
+  ChangeLog@1.1873.18.1 +5 -0
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+
+  include/ntp.h@1.224 +6 -4
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - macros for key id size & max digest size in MAC
+
+  include/ntp_request.h@1.48 +2 -2
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - use macro for max digest size
+
+  libntp/a_md5encrypt.c@1.40.1.1 +10 -9
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - use macros for key id size & max digest size in MAC
+
+  libntp/authreadkeys.c@1.27.1.1 +1 -6
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - 'keytype_from_text' only returns valid algorithms
+
+  libntp/ssl_init.c@1.22.1.1 +35 -39
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - separate OpenSSL and non-SSL code in 'keytype_from_text'
+     - assure the algorithm is valid, not just known
+     - drop length check (we support truncated hashes)
+
+  ntpq/ntpq.c@1.174.2.1 +28 -37
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - keep key type selection in sync with NTPD
+
+  sntp/crypto.c@1.25.1.1 +17 -10
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - decode & check hash algo only when reading the key file (early error detection)
+     - support truncated digest for long hash algos
+     - use macros for key and digest size
+
+  sntp/crypto.h@1.11.1.1 +2 -1
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - decode & check hash algo only when reading the key file
+
+  sntp/main.c@1.100 +2 -3
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - use macros for key and digest size
+
+  sntp/tests/crypto.c@1.10.1.1 +13 -7
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - resolve algorithm before running MAC
+     - use strlcpy(), not memcpy() for string values
+
+  sntp/tests/keyFile.c@1.14 +3 -3
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - resolve algorithm before running MAC
+     - use strlcpy(), not memcpy() for string values
+
+  sntp/tests/packetHandling.c@1.7 +3 -2
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - resolve algorithm before running MAC
+     - use strlcpy(), not memcpy() for string values
+     - fix sizing bug
+
+  sntp/tests/packetProcessing.c@1.12.3.1 +10 -8
+    [Bug 3430] ntpq dumps core (SIGSEGV) for "keytype md2"
+     - resolve algorithm before running MAC
+     - use strlcpy(), not memcpy() for string values
+     - use macros for key & digest size
+
+ChangeSet@1.3720.49.1, 2017-09-05 08:40:47+02:00, perlinger@ntp.org
+  [Bug 3394] Leap second deletion does not work on ntpd clients
+
+  ChangeLog@1.1873.17.1 +4 -0
+    [Bug 3394] Leap second deletion does not work on ntpd clients
+
+  ntpd/ntp_leapsec.c@1.23 +16 -6
+    [Bug 3394] Leap second deletion does not work on ntpd clients
+     - fixed handling of dynamic deletion w/o leap file
+
+ChangeSet@1.3720.48.1, 2017-08-25 21:32:40+00:00, perlinger@ntp.org
+  [Bug 3399] NTP: linker error in 4.2.8p10 during Linux cross-compilation
+
+  ChangeLog@1.1873.16.1 +4 -0
+    [Bug 3399] NTP: linker error in 4.2.8p10 during Linux cross-compilation
+
+  sntp/harden/linux@1.2 +2 -2
+    [Bug 3399] NTP: linker error in 4.2.8p10 during Linux cross-compilation
+     - changed '-z foo' to '-Wl,-z,foo' for portability (older GCC, CLANG)
+     - '-pie' is linker flag, '-fPIE' or '-fpie' is code generation: '-pie' moved to linker flags
+
+  tests/ntpd/Makefile.am@1.31 +6 -1
+    Bug 3399 - SNTP: linker error in 4.2.8p10 during Linux cross-compilation
+     - missing forward of AM_CFLAGS for individual targets broke link
+
+ChangeSet@1.3720.47.1, 2017-08-25 21:48:38+02:00, perlinger@ntp.org
+  [Bug 2557] Thunderbolt init is wrong
+
+  ChangeLog@1.1873.15.1 +3 -0
+    [Bug 2557] Thunderbolt init is wrong
+
+  ntpd/refclock_palisade.c@1.43.1.1 +1 -1
+    [Bug 2557] Thunderbolt init is wrong
+
+ChangeSet@1.3720.46.1, 2017-08-25 07:24:59+02:00, perlinger@ntp.org
+  [Bug 3423] QNX adjtime() implementation error checking is wrong
+
+  ChangeLog@1.1873.14.1 +3 -0
+    [Bug 3423] QNX adjtime() implementation error checking is wrong
+
+  libntp/adjtime.c@1.8 +2 -2
+    [Bug 3423] QNX adjtime() implementation error checking is wrong
+
+ChangeSet@1.3720.45.1, 2017-08-25 06:15:17+02:00, perlinger@ntp.org
+  [Bug 3016] wrong error position reported for bad ":config pool"
+
+  ChangeLog@1.1873.13.1 +4 -0
+    [Bug 3016] wrong error position reported for bad ":config pool"
+
+  ntpd/ntp_scanner.c@1.51 +1 -0
+    [Bug 3016] wrong error position reported for bad ":config pool"
+     - fixed location count (get/unget imbalance)
+
+  ntpq/ntpq-subs.c@1.119.2.1 +6 -7
+    [Bug 3016] wrong error position reported for bad ":config pool"
+     - changed error indicator output
+
+ChangeSet@1.3720.44.1, 2017-08-24 20:04:12+00:00, perlinger@psp-deb1.ntp.org
+  [Bug 3424] Trimble Thunderbolt 1024 week millenium bug
+
+  ChangeLog@1.1873.12.1 +4 -0
+    [Bug 3424] Trimble Thunderbolt 1024 week millenium bug
+
+  ntpd/refclock_palisade.c@1.44 +82 -38
+    [Bug 3424] Trimble Thunderbolt 1024 week millenium bug
+     - if necessary, warp effective time stamp by GPS cycles to be on or after build date
+     - adjusted code to print/log the effective resulting date
+     - made sure the leap second check uses the adjusted dates, too
+
+ChangeSet@1.3720.43.1, 2017-08-21 19:46:03+02:00, perlinger@ntp.org
+  [Bug 3367] Faulty LinuxPPS NMEA clock support in 4.2.8
+
+  ChangeLog@1.1873.11.1 +4 -0
+    [Bug 3367] Faulty LinuxPPS NMEA clock support in 4.2.8
+
+  ntpd/ntp_refclock.c@1.123.1.1 +13 -5
+    [Bug 3367] Faulty LinuxPPS NMEA clock support in 4.2.8
+     - revert handling of 'time_pps_kcbind()' and flag3 to state of revision 1.118
+
+ChangeSet@1.3720.42.1, 2017-08-20 07:49:58+02:00, perlinger@ntp.org
+  [Bug 3398] tests fail with core dump
+
+  ChangeLog@1.1873.10.1 +4 -0
+    [Bug 3398] tests fail with core dump
+
+  sntp/tests/packetProcessing.c@1.12.2.1 +1 -1
+    [Bug 3398] tests fail with core dump
+     - use srtlcpy() to set ASCIIZ string
+
+ChangeSet@1.3720.41.1, 2017-07-23 10:53:14+02:00, perlinger@ntp.org
+  [Bug 3417] ntpq ifstats packet counters can be negative
+
+  ChangeLog@1.1873.9.1 +4 -0
+    [Bug 3417] ntpq ifstats packet counters can be negative
+
+  ntpq/ntpq-subs.c@1.119.1.1 +13 -13
+    [Bug 3417] ntpq ifstats packet counters can be negative
+     - made IFSTATS counter quantities unsigned & adjusted scan/print formats
+
+ChangeSet@1.3720.29.5, 2017-07-12 06:40:04-04:00, stenn@psp-deb2.ntp.org
+  Use strlcpy() to copy strings, not memcpy()
+
+  ChangeLog@1.1876.1.1 +1 -0
+    Use strlcpy() to copy strings, not memcpy()
+
+  sntp/tests/packetProcessing.c@1.12.1.1 +1 -1
+    Use strlcpy() to copy strings, not memcpy()
+
+ChangeSet@1.3720.40.1, 2017-07-08 00:43:56+02:00, perlinger@ntp.org
+  [Sec 3414] ntpq: decodearr() can write beyond its 'buf' limits
+
+  ChangeLog@1.1873.8.1 +4 -0
+    [Sec 3414] ntpq: decodearr() can write beyond its 'buf' limits
+
+  ntpq/ntpq.c@1.174.1.2 +62 -48
+    [Sec 3414] ntpq: decodearr() can write beyond its 'buf' limits
+     - dest-length limited copy
+     - many buggy casts in calls to CTYPE 'isfoobar()' functions
+
+ChangeSet@1.3724, 2017-07-07 02:35:10-07:00, harlan@max.pfcs.com
+  typo
+
+  ChangeLog@1.1873.7.1 +4 -2
+    typo
+
+  html/monopt.html@1.40 +2 -2
+    typo
+
+  libntp/work_thread.c@1.22 +1 -1
+    typo
+
+  ntpsnmpd/netsnmp_daemonize.c@1.6 +1 -1
+    typo
+
+ChangeSet@1.3720.39.2, 2017-07-02 09:42:42+02:00, perlinger@ntp.org
+  [Bug 3404] revert change
+
+  include/ssl_applink.c@1.6 +3 -1
+    [Bug 3404] revert change
+
+ChangeSet@1.3720.39.1, 2017-07-02 09:16:39+02:00, perlinger@ntp.org
+  [Bug 3404] Fix openSSL DLL usage under Windows
+
+  ChangeLog@1.1873.6.1 +4 -0
+    [Bug 3404] Fix openSSL DLL usage under Windows
+
+  include/ssl_applink.c@1.5 +14 -12
+    [Bug 3404] Fix openSSL DLL usage under Windows
+
+  ports/winnt/include/msvc_ssl_autolib.h@1.2 +23 -9
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - DON'T use tagged libraries by default
+
+  ports/winnt/vs2008/debug-x64.vsprops@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2008/debug.vsprops@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2008/release-x64.vsprops@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2008/release.vsprops@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2013/debug-x64.props@1.4 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2013/debug.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2013/release-x64.props@1.4 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2013/release.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2015/debug-x64.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2015/debug.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2015/release-x64.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+  ports/winnt/vs2015/release.props@1.3 +1 -1
+    [Bug 3404] Fix openSSL DLL usage under Windows
+     - fix/drop assumptions on OpenSSL libs directory layout
+
+ChangeSet@1.3720.33.6, 2017-05-29 13:41:48-06:00, bwi@nwtime.org
+  libntp/a_md5encrypt.c(MD5authdecrypt) force AES 128 key size
+
+  libntp/a_md5encrypt.c@1.43 +1 -1
+    libntp/a_md5encrypt.c(MD5authdecrypt) force AES 128 key size
+
+ChangeSet@1.3720.33.5, 2017-05-29 19:23:32+01:00, Brian@bwinglisd.
+  libntp/a_md5encrypt.c(MD5authencrypt): force CMAC AES 128 key size
+
+  libntp/a_md5encrypt.c@1.42 +3 -2
+    libntp/a_md5encrypt.c(MD5authencrypt): force CMAC AES 128 key size
+
+ChangeSet@1.3720.33.4, 2017-05-26 19:28:01+01:00, Brian@bwinglisd.
+  libntp/a_md5encrypt.c: add AES128CMAC and better OpenSSL support,
+  libntp/authreadkeys.c: add AES128CMAC support,
+  ports/winnt/ntpd/nt_ppsimpl.c: fix environment termination
+
+  libntp/a_md5encrypt.c@1.41 +176 -13
+    add AES128CMAC and better OpenSSL support 
+
+  libntp/authreadkeys.c@1.28 +2 -1
+    add AES128CMAC support
+
+  ports/winnt/ntpd/nt_ppsimpl.c@1.3 +3 -2
+    fix environment termination
+
+ChangeSet@1.3720.1.42, 2017-05-19 12:38:05+00:00, stenn@psp-deb1.ntp.org
+  autogen updates
+
+  ntpd/invoke-ntp.conf.texi@1.208 +1 -1
+    autogen updates
+
+  ntpd/invoke-ntp.keys.texi@1.197 +1 -1
+    autogen updates
+
+  ntpd/invoke-ntpd.texi@1.513 +2 -2
+    autogen updates
+
+  ntpd/ntp.conf.5man@1.242 +3 -3
+    autogen updates
+
+  ntpd/ntp.conf.5mdoc@1.242 +2 -2
+    autogen updates
+
+  ntpd/ntp.conf.html@1.193 +1 -1
+    autogen updates
+
+  ntpd/ntp.conf.man.in@1.242 +3 -3
+    autogen updates
+
+  ntpd/ntp.conf.mdoc.in@1.242 +2 -2
+    autogen updates
+
+  ntpd/ntp.keys.5man@1.231 +2 -2
+    autogen updates
+
+  ntpd/ntp.keys.5mdoc@1.231 +3 -3
+    autogen updates
+
+  ntpd/ntp.keys.html@1.194 +1 -1
+    autogen updates
+
+  ntpd/ntp.keys.man.in@1.231 +2 -2
+    autogen updates
+
+  ntpd/ntp.keys.mdoc.in@1.231 +3 -3
+    autogen updates
+
+  ntpd/ntpd-opts.c@1.535 +1 -1
+    autogen updates
+
+  ntpd/ntpd-opts.h@1.534 +1 -1
+    autogen updates
+
+  ntpd/ntpd.1ntpdman@1.342 +3 -3
+    autogen updates
+
+  ntpd/ntpd.1ntpdmdoc@1.342 +2 -2
+    autogen updates
+
+  ntpd/ntpd.html@1.187 +2 -2
+    autogen updates
+
+  ntpd/ntpd.man.in@1.342 +3 -3
+    autogen updates
+
+  ntpd/ntpd.mdoc.in@1.342 +2 -2
+    autogen updates
+
+  ntpdc/invoke-ntpdc.texi@1.510 +2 -2
+    autogen updates
+
+  ntpdc/ntpdc-opts.c@1.528 +1 -1
+    autogen updates
+
+  ntpdc/ntpdc-opts.h@1.527 +1 -1
+    autogen updates
+
+  ntpdc/ntpdc.1ntpdcman@1.341 +3 -3
+    autogen updates
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.341 +2 -2
+    autogen updates
+
+  ntpdc/ntpdc.html@1.356 +2 -2
+    autogen updates
+
+  ntpdc/ntpdc.man.in@1.341 +3 -3
+    autogen updates
+
+  ntpdc/ntpdc.mdoc.in@1.341 +2 -2
+    autogen updates
+
+  ntpq/invoke-ntpq.texi@1.519 +3 -3
+    autogen updates
+
+  ntpq/ntpq-opts.c@1.536 +114 -114
+    autogen updates
+
+  ntpq/ntpq-opts.h@1.534 +3 -3
+    autogen updates
+
+  ntpq/ntpq.1ntpqman@1.347 +3 -3
+    autogen updates
+
+  ntpq/ntpq.1ntpqmdoc@1.347 +3 -3
+    autogen updates
+
+  ntpq/ntpq.html@1.184 +254 -171
+    autogen updates
+
+  ntpq/ntpq.man.in@1.347 +3 -3
+    autogen updates
+
+  ntpq/ntpq.mdoc.in@1.347 +3 -3
+    autogen updates
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.512 +10 -11
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.530 +1 -1
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.529 +1 -1
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.341 +3 -3
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.341 +2 -2
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd.html@1.182 +1 -1
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd.man.in@1.341 +3 -3
+    autogen updates
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.341 +2 -2
+    autogen updates
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.102 +3 -3
+    autogen updates
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.103 +2 -2
+    autogen updates
+
+  scripts/calc_tickadj/calc_tickadj.html@1.104 +33 -21
+    autogen updates
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.101 +3 -3
+    autogen updates
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.103 +2 -2
+    autogen updates
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.106 +1 -1
+    autogen updates
+
+  scripts/invoke-plot_summary.texi@1.124 +1 -1
+    autogen updates
+
+  scripts/invoke-summary.texi@1.123 +1 -1
+    autogen updates
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.333 +1 -1
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait-opts@1.69 +1 -1
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.330 +3 -3
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.331 +2 -2
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait.html@1.352 +2 -2
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait.man.in@1.330 +3 -3
+    autogen updates
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.331 +2 -2
+    autogen updates
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.121 +1 -1
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep-opts@1.71 +1 -1
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.109 +3 -3
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.109 +2 -2
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep.html@1.124 +2 -2
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep.man.in@1.109 +3 -3
+    autogen updates
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.110 +2 -2
+    autogen updates
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.122 +1 -1
+    autogen updates
+
+  scripts/ntptrace/ntptrace-opts@1.71 +1 -1
+    autogen updates
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.109 +3 -3
+    autogen updates
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.110 +2 -2
+    autogen updates
+
+  scripts/ntptrace/ntptrace.html@1.125 +2 -2
+    autogen updates
+
+  scripts/ntptrace/ntptrace.man.in@1.109 +3 -3
+    autogen updates
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.111 +2 -2
+    autogen updates
+
+  scripts/plot_summary-opts@1.72 +1 -1
+    autogen updates
+
+  scripts/plot_summary.1plot_summaryman@1.122 +3 -3
+    autogen updates
+
+  scripts/plot_summary.1plot_summarymdoc@1.122 +2 -2
+    autogen updates
+
+  scripts/plot_summary.html@1.127 +2 -2
+    autogen updates
+
+  scripts/plot_summary.man.in@1.122 +3 -3
+    autogen updates
+
+  scripts/plot_summary.mdoc.in@1.122 +2 -2
+    autogen updates
+
+  scripts/summary-opts@1.71 +1 -1
+    autogen updates
+
+  scripts/summary.1summaryman@1.121 +3 -3
+    autogen updates
+
+  scripts/summary.1summarymdoc@1.121 +2 -2
+    autogen updates
+
+  scripts/summary.html@1.126 +2 -2
+    autogen updates
+
+  scripts/summary.man.in@1.121 +3 -3
+    autogen updates
+
+  scripts/summary.mdoc.in@1.121 +2 -2
+    autogen updates
+
+  scripts/update-leap/invoke-update-leap.texi@1.22 +1 -1
+    autogen updates
+
+  scripts/update-leap/update-leap-opts@1.22 +1 -1
+    autogen updates
+
+  scripts/update-leap/update-leap.1update-leapman@1.22 +3 -3
+    autogen updates
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.22 +2 -2
+    autogen updates
+
+  scripts/update-leap/update-leap.html@1.23 +1 -1
+    autogen updates
+
+  scripts/update-leap/update-leap.man.in@1.22 +3 -3
+    autogen updates
+
+  scripts/update-leap/update-leap.mdoc.in@1.22 +2 -2
+    autogen updates
+
+  sntp/invoke-sntp.texi@1.510 +1 -1
+    autogen updates
+
+  sntp/sntp-opts.c@1.529 +1 -1
+    autogen updates
+
+  sntp/sntp-opts.h@1.527 +1 -1
+    autogen updates
+
+  sntp/sntp.1sntpman@1.345 +3 -3
+    autogen updates
+
+  sntp/sntp.1sntpmdoc@1.345 +2 -2
+    autogen updates
+
+  sntp/sntp.html@1.527 +2 -2
+    autogen updates
+
+  sntp/sntp.man.in@1.345 +3 -3
+    autogen updates
+
+  sntp/sntp.mdoc.in@1.345 +2 -2
+    autogen updates
+
+  util/invoke-ntp-keygen.texi@1.514 +2 -2
+    autogen updates
+
+  util/ntp-keygen-opts.c@1.532 +173 -173
+    autogen updates
+
+  util/ntp-keygen-opts.h@1.530 +3 -3
+    autogen updates
+
+  util/ntp-keygen.1ntp-keygenman@1.342 +2 -2
+    autogen updates
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.342 +2 -2
+    autogen updates
+
+  util/ntp-keygen.html@1.188 +608 -448
+    autogen updates
+
+  util/ntp-keygen.man.in@1.342 +2 -2
+    autogen updates
+
+  util/ntp-keygen.mdoc.in@1.342 +2 -2
+    autogen updates
+
+ChangeSet@1.3720.38.1, 2017-05-07 02:38:45+00:00, abe@psp-deb1.ntp.org
+  refclock_jjy.c, ChangeLog:
+    [Bug 3408]  refclock_jjy.c : Avoid a wrong report of the coverity static analysis tool.
+
+  ChangeLog@1.1873.5.1 +3 -0
+    [Bug 3408]  refclock_jjy.c : Avoid a wrong report of the coverity static analysis tool.
+
+  ntpd/refclock_jjy.c@1.35 +24 -4
+    [Bug 3408]  refclock_jjy.c : Avoid a wrong report of the coverity static analysis tool.
+
+ChangeSet@1.3720.37.1, 2017-05-01 07:36:51+02:00, perlinger@ntp.org
+  [Bug 3397] ctl_putstr() asserts that data fits in its buffer
+
+  ChangeLog@1.1873.4.1 +5 -0
+    [Bug 3397] ctl_putstr() asserts that data fits in its buffer
+
+  ntpd/ntp_control.c@1.220 +131 -102
+    [Bug 3397] ctl_putstr() asserts that data fits in its buffer
+      rework of formatting & data transfer stuff in 'ntp_control.c'
+      avoids unecessary buffers and size limitations.
+
+ChangeSet@1.3720.1.39, 2017-03-28 02:51:14+00:00, stenn@psp-deb1.ntp.org
+  Note in the ChangeLog that this repo contains the AES-128-CMAC work
+
+  ChangeLog@1.1873.3.1 +4 -0
+    Note in the ChangeLog that this repo contains the AES-128-CMAC work
+
+ChangeSet@1.3720.36.1, 2017-03-27 08:33:02+02:00, perlinger@ntp.org
+  [Bug 3391] ntpd segfaults on startup due to small warmup thread stack size
+
+  ChangeLog@1.1873.2.1 +4 -0
+    [Bug 3391] ntpd segfaults on startup due to small warmup thread stack size
+
+  ntpd/ntpd.c@1.173 +10 -5
+    [Bug 3391] ntpd segfaults on startup due to small warmup thread stack size
+     - increased mimimum stack size to 32kB
+
+ChangeSet@1.3720.31.11, 2017-03-23 07:36:54+00:00, stenn@psp-deb1.ntp.org
+  cleanup
+
+  ChangeLog@1.1873.1.5 +1 -2
+    cleanup
+
+ChangeSet@1.3720.29.2, 2017-03-23 05:45:08+00:00, stenn@psp-deb1.ntp.org
+  [Bug 3358] Spurious KoD log messages in .INIT. phase
+
+  ntpd/ntp_proto.c@1.404 +8 -6
+    [Bug 3358] Spurious KoD log messages in .INIT. phase
+
+ChangeSet@1.3720.31.10, 2017-03-21 11:01:54-04:00, stenn@deacon.udel.edu
+  NTP_4_2_8P10
+  TAG: NTP_4_2_8P10
+
+  ntpd/invoke-ntp.conf.texi@1.205.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/invoke-ntp.keys.texi@1.194.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/invoke-ntpd.texi@1.510.1.2 +17 -22
+    NTP_4_2_8P10
+
+  ntpd/ntp.conf.5man@1.239.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpd/ntp.conf.5mdoc@1.239.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntp.conf.html@1.189.2.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntp.conf.man.in@1.239.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpd/ntp.conf.mdoc.in@1.239.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntp.keys.5man@1.228.1.2 +2 -2
+    NTP_4_2_8P10
+
+  ntpd/ntp.keys.5mdoc@1.228.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntp.keys.html@1.190.2.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntp.keys.man.in@1.228.1.2 +2 -2
+    NTP_4_2_8P10
+
+  ntpd/ntp.keys.mdoc.in@1.228.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntpd-opts.c@1.532.1.2 +245 -245
+    NTP_4_2_8P10
+
+  ntpd/ntpd-opts.h@1.531.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpd/ntpd.1ntpdman@1.339.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpd/ntpd.1ntpdmdoc@1.339.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpd/ntpd.html@1.183.2.2 +2 -2
+    NTP_4_2_8P10
+
+  ntpd/ntpd.man.in@1.339.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpd/ntpd.mdoc.in@1.339.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpdc/invoke-ntpdc.texi@1.507.1.2 +16 -22
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc-opts.c@1.525.1.2 +107 -107
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc-opts.h@1.524.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc.1ntpdcman@1.338.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.338.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc.html@1.352.2.2 +16 -22
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc.man.in@1.338.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpdc/ntpdc.mdoc.in@1.338.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpq/invoke-ntpq.texi@1.515.2.2 +21 -18
+    NTP_4_2_8P10
+
+  ntpq/ntpq-opts.c@1.532.2.2 +114 -114
+    NTP_4_2_8P10
+
+  ntpq/ntpq-opts.h@1.530.2.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpq/ntpq.1ntpqman@1.343.2.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpq/ntpq.1ntpqmdoc@1.343.2.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpq/ntpq.html@1.180.2.2 +2 -2
+    NTP_4_2_8P10
+
+  ntpq/ntpq.man.in@1.343.2.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpq/ntpq.mdoc.in@1.343.2.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.511 +1 -1
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.529 +68 -68
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.528 +3 -3
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.338.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.338.1.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd.html@1.178.2.2 +1 -1
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd.man.in@1.338.1.2 +3 -3
+    NTP_4_2_8P10
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.338.1.2 +1 -1
+    NTP_4_2_8P10
+
+  packageinfo.sh@1.534.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.99.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.100.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/calc_tickadj.html@1.101.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.98.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.100.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.105 +1 -1
+    NTP_4_2_8P10
+
+  scripts/invoke-plot_summary.texi@1.121.1.2 +74 -56
+    NTP_4_2_8P10
+
+  scripts/invoke-summary.texi@1.120.1.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.330.1.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait-opts@1.68 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.327.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.328.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait.html@1.348.2.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait.man.in@1.327.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.328.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.118.1.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep-opts@1.70 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.106.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.106.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep.html@1.120.2.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep.man.in@1.106.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.107.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.119.1.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace-opts@1.70 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.106.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.107.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace.html@1.121.2.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace.man.in@1.106.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.108.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/plot_summary-opts@1.71 +2 -2
+    NTP_4_2_8P10
+
+  scripts/plot_summary.1plot_summaryman@1.119.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/plot_summary.1plot_summarymdoc@1.119.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/plot_summary.html@1.123.2.2 +87 -61
+    NTP_4_2_8P10
+
+  scripts/plot_summary.man.in@1.119.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/plot_summary.mdoc.in@1.119.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/summary-opts@1.70 +2 -2
+    NTP_4_2_8P10
+
+  scripts/summary.1summaryman@1.118.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/summary.1summarymdoc@1.118.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/summary.html@1.122.2.2 +2 -2
+    NTP_4_2_8P10
+
+  scripts/summary.man.in@1.118.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/summary.mdoc.in@1.118.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/update-leap/invoke-update-leap.texi@1.21 +1 -1
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap-opts@1.21 +2 -2
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap.1update-leapman@1.19.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.19.1.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap.html@1.19.2.2 +1 -1
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap.man.in@1.19.1.2 +3 -3
+    NTP_4_2_8P10
+
+  scripts/update-leap/update-leap.mdoc.in@1.19.1.2 +1 -1
+    NTP_4_2_8P10
+
+  sntp/invoke-sntp.texi@1.509 +23 -27
+    NTP_4_2_8P10
+
+  sntp/sntp-opts.c@1.528 +159 -159
+    NTP_4_2_8P10
+
+  sntp/sntp-opts.h@1.526 +3 -3
+    NTP_4_2_8P10
+
+  sntp/sntp.1sntpman@1.342.1.2 +3 -3
+    NTP_4_2_8P10
+
+  sntp/sntp.1sntpmdoc@1.342.1.2 +1 -1
+    NTP_4_2_8P10
+
+  sntp/sntp.html@1.523.2.2 +23 -27
+    NTP_4_2_8P10
+
+  sntp/sntp.man.in@1.342.1.2 +3 -3
+    NTP_4_2_8P10
+
+  sntp/sntp.mdoc.in@1.342.1.2 +1 -1
+    NTP_4_2_8P10
+
+  util/invoke-ntp-keygen.texi@1.510.2.2 +17 -15
+    NTP_4_2_8P10
+
+  util/ntp-keygen-opts.c@1.528.2.2 +173 -173
+    NTP_4_2_8P10
+
+  util/ntp-keygen-opts.h@1.526.2.2 +3 -3
+    NTP_4_2_8P10
+
+  util/ntp-keygen.1ntp-keygenman@1.338.2.2 +3 -3
+    NTP_4_2_8P10
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.338.2.2 +1 -1
+    NTP_4_2_8P10
+
+  util/ntp-keygen.html@1.184.2.2 +2 -2
+    NTP_4_2_8P10
+
+  util/ntp-keygen.man.in@1.338.2.2 +3 -3
+    NTP_4_2_8P10
+
+  util/ntp-keygen.mdoc.in@1.338.2.2 +1 -1
+    NTP_4_2_8P10
+
+ChangeSet@1.3720.31.9, 2017-03-21 09:40:52-04:00, stenn@deacon.udel.edu
+  NTP_4_2_8P10_WIN_BETA1
+  TAG: NTP_4_2_8P10_WIN_BETA1
+
+  ChangeLog@1.1873.1.4 +1 -0
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/invoke-ntp.conf.texi@1.205.1.1 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/invoke-ntp.keys.texi@1.194.1.1 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/invoke-ntpd.texi@1.510.1.1 +22 -17
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.conf.5man@1.239.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.conf.5mdoc@1.239.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.conf.html@1.189.2.1 +1192 -1541
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.conf.man.in@1.239.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.conf.mdoc.in@1.239.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.keys.5man@1.228.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.keys.5mdoc@1.228.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.keys.html@1.190.2.1 +115 -162
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.keys.man.in@1.228.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntp.keys.mdoc.in@1.228.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd-opts.c@1.532.1.1 +245 -245
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd-opts.h@1.531.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd.1ntpdman@1.339.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd.1ntpdmdoc@1.339.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd.html@1.183.2.1 +677 -752
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd.man.in@1.339.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpd/ntpd.mdoc.in@1.339.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/invoke-ntpdc.texi@1.507.1.1 +22 -16
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc-opts.c@1.525.1.1 +107 -107
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc-opts.h@1.524.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc.1ntpdcman@1.338.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.338.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc.html@1.352.2.1 +371 -434
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc.man.in@1.338.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpdc/ntpdc.mdoc.in@1.338.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/invoke-ntpq.texi@1.515.2.1 +18 -21
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq-opts.c@1.532.2.1 +114 -114
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq-opts.h@1.530.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq.1ntpqman@1.343.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq.1ntpqmdoc@1.343.2.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq.html@1.180.2.1 +1283 -1438
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq.man.in@1.343.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpq/ntpq.mdoc.in@1.343.2.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.510 +11 -10
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.528 +68 -68
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.527 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.338.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.338.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd.html@1.178.2.1 +59 -92
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd.man.in@1.338.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.338.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  packageinfo.sh@1.534.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.99.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.100.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/calc_tickadj.html@1.101.1.1 +22 -34
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.98.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.100.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.104 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/invoke-plot_summary.texi@1.121.1.1 +56 -74
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/invoke-summary.texi@1.120.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.330.1.1 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait-opts@1.67 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.327.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.328.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait.html@1.348.2.1 +141 -189
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait.man.in@1.327.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.328.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.118.1.1 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep-opts@1.69 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.106.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.106.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep.html@1.120.2.1 +148 -196
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep.man.in@1.106.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.107.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.119.1.1 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace-opts@1.69 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.106.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.107.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace.html@1.121.2.1 +126 -175
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace.man.in@1.106.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.108.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary-opts@1.70 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary.1plot_summaryman@1.119.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary.1plot_summarymdoc@1.119.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary.html@1.123.2.1 +139 -211
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary.man.in@1.119.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/plot_summary.mdoc.in@1.119.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary-opts@1.69 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary.1summaryman@1.118.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary.1summarymdoc@1.118.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary.html@1.122.2.1 +132 -180
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary.man.in@1.118.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/summary.mdoc.in@1.118.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/invoke-update-leap.texi@1.20 +1 -1
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap-opts@1.20 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap.1update-leapman@1.19.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.19.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap.html@1.19.2.1 +199 -247
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap.man.in@1.19.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  scripts/update-leap/update-leap.mdoc.in@1.19.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/invoke-sntp.texi@1.508 +27 -23
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp-opts.c@1.527 +159 -159
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp-opts.h@1.525 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp.1sntpman@1.342.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp.1sntpmdoc@1.342.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp.html@1.523.2.1 +441 -509
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp.man.in@1.342.1.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  sntp/sntp.mdoc.in@1.342.1.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/invoke-ntp-keygen.texi@1.510.2.1 +15 -17
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen-opts.c@1.528.2.1 +173 -173
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen-opts.h@1.526.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen.1ntp-keygenman@1.338.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.338.2.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen.html@1.184.2.1 +1006 -1082
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen.man.in@1.338.2.1 +3 -3
+    NTP_4_2_8P10_WIN_BETA1
+
+  util/ntp-keygen.mdoc.in@1.338.2.1 +2 -2
+    NTP_4_2_8P10_WIN_BETA1
+
+ChangeSet@1.3720.31.8, 2017-03-21 07:11:32-04:00, stenn@deacon.udel.edu
+  Disable some triggers for now
+
+  BitKeeper/triggers/2mirrors@1.10 +3 -0
+    Disable some triggers for now
+
+  BitKeeper/triggers/trigger.cfg@1.15 +3 -2
+    Disable some triggers for now
+
+ChangeSet@1.3720.35.2, 2017-03-21 06:34:14-04:00, stenn@deacon.udel.edu
+  bk hostname cleanup for bk7
+
+  BitKeeper/triggers/paranoid@1.5 +1 -1
+    bk hostname cleanup for bk7
+
+ChangeSet@1.3720.31.6, 2017-03-21 05:51:48-04:00, stenn@psp-deb2.ntp.org
+  Updated NEWS for p9-win
+
+  NEWS@1.177.1.30 +10 -0
+    Updated NEWS for p9-win
+
+ChangeSet@1.3720.31.4, 2017-03-21 08:39:07+00:00, stenn@psp-deb1.ntp.org
+  Bug 3393 is a normal bug
+
+  ChangeLog@1.1873.1.1 +1 -1
+    Bug 3393 is a normal bug
+
+ChangeSet@1.3720.34.2, 2017-03-21 04:19:53-04:00, stenn@deacon.udel.edu
+  bk-7 trigger updates
+
+  BitKeeper/triggers/send@1.16.1.1 +2 -2
+    bk-7 trigger updates
+
+  ChangeLog@1.1853.11.2 +4 -0
+    bk-7 trigger updates
+
+ChangeSet@1.3720.34.1, 2017-03-21 04:06:39-04:00, stenn@deacon.udel.edu
+  cleanup
+
+  ChangeLog@1.1853.11.1 +0 -2
+    cleanup
+
+ChangeSet@1.3720.33.3, 2017-03-20 17:07:56+00:00, bwi@psp-deb1.ntp.org
+  Checkin Autogen-ed docs
+
+  ntpq/invoke-ntpq.texi@1.515.1.2 +2 -2
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq-opts.c@1.532.1.2 +1 -1
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq-opts.h@1.530.1.1 +1 -1
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq.1ntpqman@1.343.1.2 +3 -3
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq.1ntpqmdoc@1.343.1.2 +3 -3
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq.man.in@1.343.1.2 +3 -3
+    Checkin Autogen-ed docs
+
+  ntpq/ntpq.mdoc.in@1.343.1.2 +3 -3
+    Checkin Autogen-ed docs
+
+  scripts/invoke-plot_summary.texi@1.122 +1 -1
+    Checkin Autogen-ed docs
+
+  scripts/invoke-summary.texi@1.121 +1 -1
+    Checkin Autogen-ed docs
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.331 +1 -1
+    Checkin Autogen-ed docs
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.119 +1 -1
+    Checkin Autogen-ed docs
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.120 +1 -1
+    Checkin Autogen-ed docs
+
+ChangeSet@1.3720.33.2, 2017-03-20 17:38:08+01:00, bwi@nwtime.org
+  ntpq/ntpq-opts.def(addvars): add missing Oc to match Oo
+
+  ntpq/ntpq-opts.def@1.31 +1 -1
+    ntpq/ntpq-opts.def(addvars): add missing Oc to match Oo
+
+ChangeSet@1.3720.33.1, 2017-03-20 16:25:04+00:00, bwi@psp-deb1.ntp.org
+  Checkin Autogen-ed docs and sources
+
+  ntpd/invoke-ntp.conf.texi@1.206 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpd/invoke-ntp.keys.texi@1.195 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpd/invoke-ntpd.texi@1.511 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.conf.5man@1.240 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.conf.5mdoc@1.240 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.conf.html@1.189.1.1 +1193 -1529
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.conf.man.in@1.240 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.conf.mdoc.in@1.240 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.keys.5man@1.229 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.keys.5mdoc@1.229 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.keys.html@1.190.1.1 +123 -158
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.keys.man.in@1.229 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntp.keys.mdoc.in@1.229 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd-opts.c@1.533 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd-opts.h@1.532 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd.1ntpdman@1.340 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd.1ntpdmdoc@1.340 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd.html@1.183.1.1 +681 -712
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd.man.in@1.340 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpd/ntpd.mdoc.in@1.340 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/invoke-ntpdc.texi@1.508 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc-opts.c@1.526 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc-opts.h@1.525 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc.1ntpdcman@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc.html@1.352.1.1 +354 -403
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc.man.in@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpdc/ntpdc.mdoc.in@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpq/invoke-ntpq.texi@1.515.1.1 +296 -202
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq-opts.c@1.532.1.1 +109 -109
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq.1ntpqman@1.343.1.1 +394 -250
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq.1ntpqmdoc@1.343.1.1 +399 -330
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq.html@1.180.1.1 +1425 -1475
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq.man.in@1.343.1.1 +394 -250
+    Checkin Autogen-ed docs and sources
+
+  ntpq/ntpq.mdoc.in@1.343.1.1 +399 -330
+    Checkin Autogen-ed docs and sources
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpsnmpd/ntpsnmpd.html@1.178.1.1 +61 -90
+    Checkin Autogen-ed docs and sources
+
+  ntpsnmpd/ntpsnmpd.man.in@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.339 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.100 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.101 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/calc_tickadj/calc_tickadj.html@1.102 +1 -1
+    Checkin Autogen-ed docs and sources
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.99 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.101 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.328 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.329 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntp-wait/ntp-wait.html@1.348.1.1 +151 -181
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntp-wait/ntp-wait.man.in@1.328 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.329 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.107 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.107 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntpsweep/ntpsweep.html@1.120.1.1 +151 -188
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntpsweep/ntpsweep.man.in@1.107 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.108 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.107 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.108 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntptrace/ntptrace.html@1.121.1.1 +128 -168
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntptrace/ntptrace.man.in@1.107 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.109 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/plot_summary.1plot_summaryman@1.120 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/plot_summary.1plot_summarymdoc@1.120 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/plot_summary.html@1.123.1.1 +160 -188
+    Checkin Autogen-ed docs and sources
+
+  scripts/plot_summary.man.in@1.120 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/plot_summary.mdoc.in@1.120 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/summary.1summaryman@1.119 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/summary.1summarymdoc@1.119 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/summary.html@1.122.1.1 +135 -171
+    Checkin Autogen-ed docs and sources
+
+  scripts/summary.man.in@1.119 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/summary.mdoc.in@1.119 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/update-leap/update-leap.1update-leapman@1.20 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.20 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/update-leap/update-leap.html@1.19.1.1 +212 -236
+    Checkin Autogen-ed docs and sources
+
+  scripts/update-leap/update-leap.man.in@1.20 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  scripts/update-leap/update-leap.mdoc.in@1.20 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  sntp/sntp.1sntpman@1.343 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  sntp/sntp.1sntpmdoc@1.343 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  sntp/sntp.html@1.523.1.1 +419 -467
+    Checkin Autogen-ed docs and sources
+
+  sntp/sntp.man.in@1.343 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  sntp/sntp.mdoc.in@1.343 +2 -2
+    Checkin Autogen-ed docs and sources
+
+  util/invoke-ntp-keygen.texi@1.510.1.1 +597 -426
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen-opts.c@1.528.1.1 +155 -154
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen-opts.h@1.526.1.1 +17 -17
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen.1ntp-keygenman@1.338.1.1 +591 -440
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.338.1.1 +570 -418
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen.html@1.184.1.1 +1414 -1271
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen.man.in@1.338.1.1 +591 -440
+    Checkin Autogen-ed docs and sources
+
+  util/ntp-keygen.mdoc.in@1.338.1.1 +570 -418
+    Checkin Autogen-ed docs and sources
+
+ChangeSet@1.3720.1.38, 2017-03-19 10:13:40+00:00, stenn@psp-deb1.ntp.org
+  AES-128-CMAC autogen updates
+
+  ntpd/ntp.conf.html@1.190 +1193 -1529
+    AES-128-CMAC autogen updates
+
+  ntpd/ntp.keys.html@1.191 +123 -158
+    AES-128-CMAC autogen updates
+
+  ntpd/ntpd.html@1.184 +681 -712
+    AES-128-CMAC autogen updates
+
+  ntpdc/ntpdc.html@1.353 +354 -403
+    AES-128-CMAC autogen updates
+
+  ntpq/invoke-ntpq.texi@1.516 +296 -202
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq-opts.c@1.533 +109 -109
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq-opts.h@1.531 +1 -1
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq.1ntpqman@1.344 +394 -250
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq.1ntpqmdoc@1.344 +399 -330
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq.html@1.181 +1281 -1412
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq.man.in@1.344 +394 -250
+    AES-128-CMAC autogen updates
+
+  ntpq/ntpq.mdoc.in@1.344 +399 -330
+    AES-128-CMAC autogen updates
+
+  ntpsnmpd/ntpsnmpd.html@1.179 +61 -90
+    AES-128-CMAC autogen updates
+
+  scripts/ntp-wait/ntp-wait.html@1.349 +151 -181
+    AES-128-CMAC autogen updates
+
+  scripts/ntpsweep/ntpsweep.html@1.121 +151 -188
+    AES-128-CMAC autogen updates
+
+  scripts/ntptrace/ntptrace.html@1.122 +128 -168
+    AES-128-CMAC autogen updates
+
+  scripts/plot_summary.html@1.124 +160 -188
+    AES-128-CMAC autogen updates
+
+  scripts/summary.html@1.123 +135 -171
+    AES-128-CMAC autogen updates
+
+  scripts/update-leap/update-leap.html@1.20 +212 -236
+    AES-128-CMAC autogen updates
+
+  sntp/sntp.html@1.524 +419 -467
+    AES-128-CMAC autogen updates
+
+  util/invoke-ntp-keygen.texi@1.511 +597 -426
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen-opts.c@1.529 +155 -154
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen-opts.h@1.527 +17 -17
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen.1ntp-keygenman@1.339 +591 -440
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.339 +570 -418
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen.html@1.185 +1031 -1048
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen.man.in@1.339 +591 -440
+    AES-128-CMAC autogen updates
+
+  util/ntp-keygen.mdoc.in@1.339 +570 -418
+    AES-128-CMAC autogen updates
+
+ChangeSet@1.3720.1.37, 2017-03-19 06:23:57+01:00, bwi@nwtime.org
+  ntpq/ntpq-opts.def name resolution need not involve DNS, replace command_keyword with command and optionally add name, \& quote recommended operators, change clearlist to clearvars, add Ns macros around |, reset some option strings to No;
+  ntpq/ntpq-subs.c(doprintpeers) space over on next line allowing for host + sp if > 1 host and regular tally + source + sp if wide output and long source name
+
+  ntpq/ntpq-opts.def@1.30 +49 -49
+    name resolution need not involve DNS, replace command_keyword with command and optionally add name, \& quote recommended operators, change clearlist to clearvars, add Ns macros around |, reset some option strings to No, 
+
+  ntpq/ntpq-subs.c@1.120 +5 -1
+    space over on next line allowing for host + sp if > 1 host and regular tally + source + sp if wide output and long source name
+
+ChangeSet@1.3720.31.3, 2017-03-16 07:48:09+00:00, stenn@psp-deb1.ntp.org
+  Updates
+
+  NEWS@1.177.1.29 +24 -25
+    Updates
+
+ChangeSet@1.3720.1.36, 2017-03-14 22:06:13+01:00, bwi@nwtime.org
+  ntpq/ntpq-opts.def restore Ba to | as unsupported by mdoc; util/ntp-keygen-opts.def restore Ba to | as unsupported by mdoc and backslash escape ` to try to avoid build errors
+
+  ntpq/ntpq-opts.def@1.29 +11 -11
+    restore Ba to | as unsupported by mdoc
+
+  util/ntp-keygen-opts.def@1.31 +5 -5
+    restore Ba to | as unsupported by mdoc and backslash escape ` to try to avoid build errors
+
+ChangeSet@1.3720.1.35, 2017-03-14 06:58:02+01:00, bwi@nwtime.org
+  packageinfo.sh comment out special win, util/ntp-keygen-opts.def quote @ { } with prefix @ for texinfo
+
+  packageinfo.sh@1.535 +1 -1
+    comment out special win
+
+  util/ntp-keygen-opts.def@1.30 +12 -12
+    quote @ { } with prefix @ for texinfo
+
+ChangeSet@1.3720.1.34, 2017-03-13 23:19:02+01:00, bwi@nwtime.org
+  clean up ntpq/ntpq-opts.def and util/ntp-keygen-opts.def:
+  reconcile internally, with implementation, and updates to generated files;
+  make markup and wording consistent and clearer  
+
+  ntpq/ntpq-opts.def@1.28 +385 -325
+    remove old RFC ref, NTPv4 differences, some refs to messages as mode 6 and control, deprecation of man page;
+    add missing commands (including poll as it is visible in help), variables, statistics, and counters;
+    made optional arguments so;
+    say what happens with no arguments;
+    say when clients are shown with peers; 
+    say what counters or statistics are shown in display commands;
+    say display instead of print, read, show;
+    word like help where better;
+    reorder commands listed out of alphabetic order without any grouping; 
+    Xr commands in section 1 not functions in section 3 as devel docs may not be installed;
+    ID lowercased to not look like acronym or shout;
+    add \& as recommended;
+    commands use Ic, variables and named values Cm not Ic, flags use Fl, Ba instead of |;
+    wrap long lines;
+    correct poll interval units from log2 s to seconds;
+    define jitter as offset RMS error estimate
+
+  util/ntp-keygen-opts.def@1.29 +584 -426
+    reconcile three embedded Running the Program sections (two of them pure duplicates);
+    remove duplicated paragraphs;
+    move apparently orphan paragraphs to appropriate places;
+    reword chunks with repeated content;
+    reconcile Command Line Options section with options, add missing options, add long option flags;
+    specify explicitly when other program commands and configuration files are referenced;
+    change external references from section 3 functions to section 1 commands;
+    use markup consistently
+
+ChangeSet@1.3720.31.1, 2017-03-10 10:00:39+01:00, burnicki@pc-martin4.py.meinberg.de
+  Include openssl/applink.c only for openSSL versions < 1.1.0.
+
+  include/ssl_applink.c@1.4 +3 -1
+    Include openssl/applink.c only for openSSL versions < 1.1.0.
+
+ChangeSet@1.3720.30.2, 2017-03-09 21:59:34+01:00, perlinger@ntp.org
+  [Sec 3384] followup: fixed a comment typo.
+
+  ports/winnt/instsrv/instsrv.c@1.11 +1 -1
+    [Sec 3384] followup: fixed a comment typo.
+
+ChangeSet@1.3720.1.33, 2017-03-08 21:51:39+00:00, bwi@nwtime.org
+  ports/winnt/instsrv/instsrv.c(addSourceToRegistry) prefix use of snprintf with _ required for VS < 2015
+
+  ports/winnt/instsrv/instsrv.c@1.9.1.1 +1 -1
+    prefix addSourceToRegistry() use of snprintf with _ required for VS < 2015
+
+ChangeSet@1.3720.30.1, 2017-03-08 22:34:08+01:00, perlinger@ntp.org
+  [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+   - VS2008 compatibility restored
+
+  ports/winnt/instsrv/instsrv.c@1.10 +4 -0
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - VS2008 compatibility restored
+
+ChangeSet@1.3720.1.32, 2017-03-08 17:32:15+00:00, bwi@nwtime.org
+  add AES128CMAC to MAC selections list in ntpq.texi (replacing earlier change directly to ntpq.html)
+
+  ntpq/ntpq.texi@1.5 +1 -1
+    add AES128CMAC to MAC selections list (replacing earlier change directly to ntpq.html)
+
+ChangeSet@1.3720.29.1, 2017-03-08 06:11:49-05:00, stenn@psp-fb3.ntp.org
+  [Bug 3358] Spurious KoD log messages in .INIT. phase
+
+  ChangeLog@1.1874 +4 -0
+    [Bug 3358] Spurious KoD log messages in .INIT. phase
+
+  ntpd/ntp_proto.c@1.403 +8 -11
+    [Bug 3358] Spurious KoD log messages in .INIT. phase
+
+ChangeSet@1.3720.1.30, 2017-03-06 21:07:41+00:00, stenn@psp-deb1.ntp.org
+  CVE updates for 4.2.8p10
+
+  NEWS@1.177.1.28 +15 -15
+    CVE updates for 4.2.8p10
+
+ChangeSet@1.3720.1.29, 2017-03-06 13:54:35+00:00, stenn@psp-deb1.ntp.org
+  NEWS for p10
+
+  NEWS@1.177.1.27 +447 -1
+    NEWS for p10
+
+ChangeSet@1.3720.1.28, 2017-03-06 11:52:11+00:00, stenn@psp-deb1.ntp.org
+  cleanup
+
+  ChangeLog@1.1873 +2 -4
+    cleanup
+
+ChangeSet@1.3720.25.7, 2017-03-05 11:23:32-07:00, bwi@bwinglisrpi1.(none)
+  ntpd/ntp_refclock.c(refclock_params) report time_pps_kcbind errors but only return failure if error other than not supported, allowing PPS to work
+
+  ntpd/ntp_refclock.c@1.124 +4 -1
+    report time_pps_kcbind errors but only return failure if error other than not supported, allowing PPS to work
+
+ChangeSet@1.3720.1.27, 2017-03-05 14:56:43+01:00, perlinger@ntp.org
+  [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+   - load PPS providers from registry
+   - disable PPSAPI_HACK envvar
+   - major cleanup of 'instsrv'
+
+  ChangeLog@1.1872 +4 -0
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - load PPS providers from registry, disable PPSAPI_HACK envvar
+
+  include/ntp_stdlib.h@1.85 +6 -2
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - side kick: fix array allocation for DEBUG builds
+
+  include/ntpd.h@1.197 +1 -1
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - sidekick: signed/unsigned clashes on 'sys_ttlmax'
+
+  ntpd/ntp_config.c@1.346 +1 -1
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - sidekick: signed/unsigned clashes on 'sys_ttlmax'
+
+  ntpd/ntp_proto.c@1.402 +2 -2
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - sidekick: signed/unsigned clashes on 'sys_ttlmax'
+
+  ports/winnt/include/ntp_iocpltypes.h@1.4 +1 -0
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - track use of PPS API on serial channels
+
+  ports/winnt/instsrv/instsrv.c@1.9 +378 -347
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - major cleanup
+     - add command line arguments for service
+     - set PPS API provider list in service entry
+
+  ports/winnt/ntpd/nt_ppsimpl.c@1.2 +290 -70
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - load PPS providers from registry
+     - disable PPSAPI_HACK envvar 
+     - track use of PPS API on serial channels
+
+  ports/winnt/ntpd/ntp_iocompletionport.c@1.79 +7 -19
+    [Sec 3384] NTP-01-009 NTP: Privileged execution of User Library code (Pentest report 01.2017)
+     - disable PPSAPI_HACK envvar, use tracking from PPS API loader instead
+
+ChangeSet@1.3720.25.6, 2017-03-04 04:41:52+00:00, Brian@bwinglisd.
+  ensure Windows system32 added to start of PATH
+
+  ports/winnt/scripts/mkver.bat@1.18 +4 -0
+    ensure Windows system32 from COMSPEC added to start of PATH in case other find commands are on PATH
+
+ChangeSet@1.3720.1.26, 2017-03-02 17:34:00-05:00, stenn@psp-deb2.ntp.org
+  [Sec 3385] NTP-01-010: ereallocarray()/eallocarray() underused: zero out new memory
+
+  include/ntp_stdlib.h@1.84 +6 -6
+    [Sec 3385] NTP-01-010: ereallocarray()/eallocarray() underused: zero out new memory
+
+  libntp/authkeys.c@1.36 +1 -1
+    [Sec 3385] NTP-01-010: ereallocarray()/eallocarray() underused: zero out new memory
+
+  libntp/emalloc.c@1.21 +3 -3
+    [Sec 3385] NTP-01-010: ereallocarray()/eallocarray() underused: zero out new memory
+
+ChangeSet@1.3720.1.25, 2017-03-02 05:35:49+00:00, stenn@stenn.ntp.org
+  [Sec 3376] Support build "hardening" flags: NetBSD
+
+  sntp/harden/netbsd7.0@1.1 +4 -0
+    BitKeeper file sntp/harden/netbsd7.0
+
+  sntp/harden/netbsd7.0@1.0 +0 -0
+
+  sntp/harden/netbsd7.99@1.1 +4 -0
+    BitKeeper file sntp/harden/netbsd7.99
+
+  sntp/harden/netbsd7.99@1.0 +0 -0
+
+ChangeSet@1.3720.1.23, 2017-03-01 09:44:54+00:00, stenn@psp-deb1.ntp.org
+  [Sec 3376] Support build "hardening" flags
+
+  sntp/m4/ntp_prog_cc.m4@1.3 +1 -1
+    [Sec 3376] Support build "hardening" flags
+
+ChangeSet@1.3720.1.22, 2017-03-01 09:30:03+00:00, stenn@psp-deb1.ntp.org
+  [Sec 3376] Support build "hardening" flags
+
+  configure.ac@1.609 +5 -4
+    [Sec 3376] Support build "hardening" flags
+
+  sntp/configure.ac@1.85 +4 -4
+    [Sec 3376] Support build "hardening" flags
+
+  sntp/harden/freebsd11@1.2 +1 -1
+    [Sec 3376] Support build "hardening" flags
+
+  sntp/harden/freebsd12@1.2 +1 -1
+    [Sec 3376] Support build "hardening" flags
+
+  sntp/m4/ntp_compiler.m4@1.6 +14 -2
+    [Sec 3376] Support build "hardening" flags
+
+  sntp/m4/ntp_prog_cc.m4@1.2 +12 -11
+    [Sec 3376] Support build "hardening" flags
+
+ChangeSet@1.3720.26.3, 2017-03-01 09:16:03+00:00, stenn@psp-deb1.ntp.org
+  merge cleanup
+
+  ChangeLog@1.1869.1.3 +1 -3
+    merge cleanup
+
+ChangeSet@1.3720.28.1, 2017-02-28 06:46:17-05:00, stenn@psp-fb4.ntp.org
+  [Sec 3361] 0rigin (zero origin) DoS.
+
+  ChangeLog@1.1869.3.1 +1 -0
+    [Sec 3361] 0rigin (zero origin) DoS.
+
+  ntpd/ntp_proto.c@1.400 +4 -0
+    [Sec 3361] 0rigin (zero origin) DoS.
+
+ChangeSet@1.3720.27.1, 2017-02-28 06:13:45-05:00, stenn@psp-fb4.ntp.org
+  [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  ChangeLog@1.1869.2.1 +1 -0
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  include/ntp_stdlib.h@1.83 +7 -5
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  libntp/authkeys.c@1.35 +1 -1
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  libntp/emalloc.c@1.20 +5 -4
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  libntp/recvbuff.c@1.42 +1 -1
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  ntpd/ntp_loopfilter.c@1.190 +1 -2
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  ntpd/ntp_peer.c@1.162 +1 -1
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  ntpd/ntp_restrict.c@1.41 +2 -2
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+  sntp/kod_management.c@1.34 +3 -1
+    [Sec 3385] NTP-01-010 NTP: ereallocarray()/eallocarray() underused. HStenn
+
+ChangeSet@1.3720.26.1, 2017-02-26 08:20:56+00:00, perlinger@ntp.org
+  [Sec 3393] clang scan-build findings
+
+  ChangeLog@1.1869.1.1 +3 -0
+    [Sec 3393] clang scan-build findings
+
+  libntp/ntp_intres.c@1.102 +1 -1
+    [Sec 3393] clang scan-build findings
+     - test proper source pointer, not memcpy result
+
+  ntpd/ntp_config.c@1.344 +28 -46
+    [Sec 3393] clang scan-build findings
+     - provide non-returning error function, triggered only by programming error (mismatch between
+       parser and evaluator)
+     - fix assignment to wrong variable in tos stratum check
+
+  ntpd/ntp_control.c@1.218 +1 -1
+    [Sec 3393] clang scan-build findings
+     - minor signed/unsigned clash
+
+  ntpd/ntp_scanner.c@1.50 +0 -1
+    [Sec 3393] clang scan-build findings
+     - dead assignment
+
+  ntpd/refclock_gpsdjson.c@1.26 +8 -6
+    [Sec 3393] clang scan-build findings
+     - never feed NULL to memcpy(), even with zero-length
+
+  ntpd/refclock_jjy.c@1.34 +2 -2
+    [Sec 3393] clang scan-build findings
+     - use memcpy() instead or strncpy() when the number of bytes is known
+
+  ntpd/refclock_nmea.c@1.79 +0 -3
+    [Sec 3393] clang scan-build findings
+     - dead initialisations: always overwritten
+
+  ntpd/refclock_oncore.c@1.102.1.1 +3 -3
+    [Sec 3393] clang scan-build findings
+     - dead initialisations and assignments: always overwritten
+
+  ntpd/refclock_parse.c@1.85 +12 -8
+    [Sec 3393] clang scan-build findings
+     - dead initialisations and assignments: always overwritten
+     - buggy use of snprintf result
+
+  ntpdate/ntpdate.c@1.99 +2 -0
+    [Sec 3393] clang scan-build findings
+     - INSIST() on sys_samples in range
+
+  ntpdc/ntpdc.c@1.108 +1 -1
+    [Sec 3393] clang scan-build findings
+     - make sure result of recv() is used
+
+  ntpq/ntpq.c@1.174.1.1 +42 -26
+    [Sec 3393] clang scan-build findings
+     - make sure result of recv() is used
+     - initialise tables
+     - rework hexdump utility function
+
+ChangeSet@1.3720.25.5, 2017-02-24 21:36:43-07:00, bwi@bwinglisrpi1.(none)
+  add missing change comment in mkver.bat
+
+  ports/winnt/scripts/mkver.bat@1.17 +5 -1
+    add missing change comment in mkver.bat
+
+ChangeSet@1.3720.25.4, 2017-02-24 19:33:50+00:00, Brian@bwinglisd.
+  allow EVP_MD_do_all_sorted to be used on Windows with OpenSSL 1+
+
+  ntpq/ntpq.c@1.178 +6 -0
+    define HAVE_EVP_MD_DO_ALL_SORTED on Windows with OpenSSL 1+
+
+ChangeSet@1.3720.1.21, 2017-02-24 06:26:16-05:00, stenn@psp-deb2.ntp.org
+  [Sec 3376] Support build "hardening" flags.
+
+  ChangeLog@1.1870 +1 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  adjtimed/Makefile.am@1.16 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  clockstuff/Makefile.am@1.22 +3 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  configure.ac@1.608 +2 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  libntp/Makefile.am@1.81 +4 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  libparse/Makefile.am@1.32 +4 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpd/Makefile.am@1.135 +3 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpd/ntp.conf.html@1.189 +1541 -1192
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpd/ntp.keys.html@1.190 +162 -115
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpd/ntpd.html@1.183 +753 -678
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpdate/Makefile.am@1.38 +3 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpdc/Makefile.am@1.76 +3 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpdc/ntpdc.html@1.352 +404 -355
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpq/Makefile.am@1.72 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpq/ntpq.html@1.180 +1439 -1284
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpsnmpd/Makefile.am@1.41 +5 -2
+    [Sec 3376] Support build "hardening" flags.
+
+  ntpsnmpd/ntpsnmpd.html@1.178 +92 -59
+    [Sec 3376] Support build "hardening" flags.
+
+  parseutil/Makefile.am@1.18 +5 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/ntp-wait/ntp-wait.html@1.348 +182 -152
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/ntpsweep/ntpsweep.html@1.120 +189 -152
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/ntptrace/ntptrace.html@1.121 +168 -128
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/plot_summary.html@1.123 +188 -160
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/summary.html@1.122 +171 -135
+    [Sec 3376] Support build "hardening" flags.
+
+  scripts/update-leap/update-leap.html@1.19 +247 -199
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/Makefile.am@1.91 +6 -2
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/configure.ac@1.84 +2 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/harden/README@1.1 +11 -0
+    BitKeeper file sntp/harden/README
+
+  sntp/harden/README@1.0 +0 -0
+
+  sntp/harden/default@1.1 +4 -0
+    BitKeeper file sntp/harden/default
+
+  sntp/harden/default@1.0 +0 -0
+
+  sntp/harden/freebsd10@1.1 +4 -0
+    BitKeeper file sntp/harden/freebsd10
+
+  sntp/harden/freebsd10@1.0 +0 -0
+
+  sntp/harden/freebsd11@1.1 +4 -0
+    BitKeeper file sntp/harden/freebsd11
+
+  sntp/harden/freebsd11@1.0 +0 -0
+
+  sntp/harden/freebsd12@1.1 +4 -0
+    BitKeeper file sntp/harden/freebsd12
+
+  sntp/harden/freebsd12@1.0 +0 -0
+
+  sntp/harden/linux@1.1 +4 -0
+    BitKeeper file sntp/harden/linux
+
+  sntp/harden/linux@1.0 +0 -0
+
+  sntp/libevent/Makefile.am@1.15 +5 -3
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/libevent/configure.ac@1.18 +4 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/libopts/Makefile.am@1.28 +4 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/m4/ntp_harden.m4@1.1 +52 -0
+    BitKeeper file sntp/m4/ntp_harden.m4
+
+  sntp/m4/ntp_harden.m4@1.0 +0 -0
+
+  sntp/m4/ntp_libevent.m4@1.17 +3 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/scripts/Makefile.am@1.4 +1 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/scripts/genHardFlags@1.1 +152 -0
+    BitKeeper file sntp/scripts/genHardFlags
+
+  sntp/scripts/genHardFlags@1.0 +0 -0
+
+  sntp/sntp.html@1.523 +468 -420
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/tests/Makefile.am@1.68 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  sntp/unity/Makefile.am@1.11 +5 -0
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/bug-2803/Makefile.am@1.14 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/libntp/Makefile.am@1.95 +5 -2
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/ntpd/Makefile.am@1.30 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/ntpq/Makefile.am@1.10 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/sandbox/Makefile.am@1.8 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  tests/sec-2853/Makefile.am@1.4 +4 -1
+    [Sec 3376] Support build "hardening" flags.
+
+  util/Makefile.am@1.79 +5 -2
+    [Sec 3376] Support build "hardening" flags.
+
+  util/ntp-keygen.html@1.184 +1083 -1007
+    [Sec 3376] Support build "hardening" flags.
+
+ChangeSet@1.3720.25.3, 2017-02-23 05:53:09+00:00, Brian@bwinglisd.
+  increase struct key member type size from 10 to 16 to allow AES128CMAC and future longer types up to 15 chars, refactor ntpq digest list CMAC insertion into function, fix packetProcessing tests, add debug output to check CMAC working
+
+  libntp/ssl_init.c@1.25 +15 -0
+    add debug output to validate CMAC being handled
+
+  ntpq/ntpq.c@1.177 +158 -98
+    include stddef.h for prtdiff_t, refactor CMAC insertion into MD list into insert_cmac() called from list_digest_names(), use EVP_MD_size() instead of EVP_Digest..() calls in list_md_fn(), remove associated variables, move check earlier in function, minor style and line length cleanups
+
+  sntp/crypto.c@1.28 +9 -1
+    increase max key type length to 15 to reflect struct key type size 16, add debug output to check CMAC operation
+
+  sntp/crypto.h@1.12 +1 -1
+    increase struct key member type size from 10 to 16 to allow AES128CMAC and future longer types
+    this should be considered for future length checking when handling digest names
+
+  sntp/tests/packetProcessing.c@1.14 +5 -4
+    fix PrepareAuthenticationTest() to use args and not hard wire MD5, increase CMAC key to mandatory length 16, fix exten to match key id
+
+ChangeSet@1.3720.25.2, 2017-02-21 04:21:19+00:00, Brian@bwinglisd.
+  fix typos caught by gcc not encountered with Windows build
+
+  include/ntp_md5.h@1.13 +0 -1
+    remove cmac include
+
+  libntp/ssl_init.c@1.24 +11 -13
+    indent nested include/define, drop unused array digest, make const md var and initialize 
+
+  ntpq/ntpq.c@1.176 +19 -9
+    move SORTED K_... defines outside MAIN and LIB ifdef, fix var typos and char arg caught by gcc missed by VS/VC 
+
+  ports/winnt/scripts/mkver.bat@1.16 +1 -1
+    restore initial echo off
+
+  sntp/crypto.c@1.27 +18 -4
+    add CMAC include and define name removed elsewhere, make_mac() fix assign instead of compare typo, ensure len 0 if error, check for NULL CTX even for internal MD5
+
+ChangeSet@1.3720.25.1, 2017-02-20 05:21:29+00:00, Brian@bwinglisd.
+  add AES-128 CMAC digest support as key type AES128CMAC length *MUST BE* 16 bytes
+
+  html/authentic.html@1.16 +32 -6
+    mention AES-128 CMAC, provide text figure of key file with key 20 AES128CMAC as table with caption instead of fuzzy gif
+
+  html/keygen.html@1.35 +63 -37
+    mention AES-128 cmac, change random <dd>...</dd> to <p>...</p>, change keys file figure from fuzzy gif to text with key 20 AES128CMAC, remove dated timing and references from Bugs comment
+
+  html/ntpq.html@1.51 +1 -1
+    add AES128CMAC to list of digest algorithms
+
+  include/ntp_md5.h@1.12 +1 -0
+    include OpenSSL cmac.h for callers
+
+  libntp/ssl_init.c@1.23 +55 -20
+    include OpenSSL cmac.h, define MD5_LENGTH, CMAC_LENGTH, and CMAC name, recognise CMAC name and set NID_cmac 
+
+  ntpq/ntpq.c@1.175 +61 -3
+    define CMAC name, move sorted digest list defines up, add variables and code to detect or append CMAC name, as CMAC is not a registered MAC
+
+  ports/winnt/scripts/mkver.bat@1.15 +3 -1
+    add support for Windows 10 (Home maybe others) rename of registry Time Zone info from ActiveTimeBias to Bias
+
+  sntp/crypto.c@1.26 +74 -8
+    support AES-128 CMAC digest, add similar error checking to OpenSSL MAC digests, leave local MD5 digest as is
+
+  sntp/tests/crypto.c@1.11 +67 -0
+    define CMAC name and length, add CMAC tests like SHA1 tests
+
+  sntp/tests/packetProcessing.c@1.13 +26 -0
+    add CMAC name and test like SHA1 test
+
+  tests/libntp/ssl_init.c@1.10 +31 -0
+    add CMAC name, length, tests like SHA1 tests
+
+  util/ntp-keygen-opts.def@1.28 +4 -8
+    mention AES-128 CMAC, fix garbled sentence, remove outdated timing and references from Bugs 
+
+ChangeSet@1.3720.24.1, 2017-02-12 18:15:23+01:00, perlinger@ntp.org
+  [Sec 3380] NTP-01-005: Off-by-one in Oncore GPS Receiver
+
+  ChangeLog@1.1853.10.1 +4 -0
+    [Sec 3380] NTP-01-005: Off-by-one in Oncore GPS Receiver
+
+  ntpd/refclock_oncore.c@1.103 +1 -1
+    [Sec 3380] NTP-01-005: Off-by-one in Oncore GPS Receiver
+
+ChangeSet@1.3720.23.1, 2017-02-12 17:35:27+01:00, perlinger@ntp.org
+  [Sec 3382] NTP-01-007: Data Structure terminated insufficiently
+  [Sec 3383] NTP-01-008: Stack Buffer Overflow from Command Line
+
+  ChangeLog@1.1853.9.1 +6 -0
+    [Sec 3382] NTP-01-007: Data Structure terminated insufficiently
+    [Sec 3383] NTP-01-008: Stack Buffer Overflow from Command Line
+
+  ports/winnt/instsrv/instsrv.c@1.8 +52 -55
+    [Sec 3382] NTP-01-007: Data Structure terminated insufficiently
+     - use static const char ARRAY of defined length to hold MULTISZ value
+    [Sec 3383] NTP-01-008: Stack Buffer Overflow from Command Line
+     - use result-checked 'snprintf()' do concat the strings in a buffer of static size
+
+ChangeSet@1.3720.22.1, 2017-02-12 13:46:35+01:00, perlinger@ntp.org
+  [Sec 3388] NTP-01-014: Buffer Overflow in DPTS Clock
+
+  ChangeLog@1.1853.8.1 +4 -0
+    [Sec 3388] NTP-01-014: Buffer Overflow in DPTS Clock
+
+  ntpd/refclock_datum.c@1.23 +10 -9
+    [Sec 3388] NTP-01-014: Buffer Overflow in DPTS Clock
+
+ChangeSet@1.3720.21.1, 2017-02-12 12:35:04+01:00, perlinger@ntp.org
+  [Sec 3386] NTP-01-011: ntpq_stripquotes() returns incorrect Value
+
+  ChangeLog@1.1853.7.1 +4 -0
+    [Sec 3386] NTP-01-011: ntpq_stripquotes() returns incorrect Value
+
+  ntpq/libntpq.c@1.14 +35 -32
+    [Sec 3386] NTP-01-011: ntpq_stripquotes() returns incorrect Value
+
+ChangeSet@1.3720.20.1, 2017-02-12 11:08:16+01:00, perlinger@ntp.org
+  [Sec 3387] NTP-01-012: Authenticated DoS via Malicious Config Option
+
+  ChangeLog@1.1853.6.1 +4 -0
+    [Sec 3387] NTP-01-012: Authenticated DoS via Malicious Config Option
+
+  ntpd/ntp_config.c@1.340.3.1 +12 -15
+    [Sec 3387] NTP-01-012: Authenticated DoS via Malicious Config Option
+
+ChangeSet@1.3720.19.1, 2017-02-12 09:49:29+01:00, perlinger@ntp.org
+  [Sec 3389] NTP-01-016: Denial of Service via Malformed Config
+
+  ChangeLog@1.1853.5.1 +4 -0
+    [Sec 3389] NTP-01-016: Denial of Service via Malformed Config
+
+  ntpd/ntp_config.c@1.340.2.1 +23 -2
+    [Sec 3389] NTP-01-016: Denial of Service via Malformed Config
+     - allow 'ttl' only for network peers and 'mode' only for refclocks
+
+  ntpd/ntp_proto.c@1.398.1.1 +11 -9
+    [Sec 3389] NTP-01-016: Denial of Service via Malformed Config
+     clamp access to 'sys_ttl' to avoid OOB conditions / undefined behaviour
+
+ChangeSet@1.3720.18.1, 2017-02-12 08:03:30+01:00, perlinger@ntp.org
+  [Sec 3379] NTP-01-004 Potential Overflows in ctl_put() functions
+
+  ChangeLog@1.1853.4.1 +4 -0
+    [Sec 3379] NTP-01-004 Potential Overflows in ctl_put() functions
+
+  ntpd/ntp_control.c@1.215.1.1 +99 -174
+    [Sec 3379] NTP-01-004 Potential Overflows in ctl_put() functions
+
+ChangeSet@1.3720.17.1, 2017-02-11 20:47:37+01:00, perlinger@ntp.org
+  [Sec 3378] NTP-01-003 Improper use of snprintf() in mx4200_send()
+
+  ChangeLog@1.1853.3.1 +4 -0
+    [Sec 3378] NTP-01-003 Improper use of snprintf() in mx4200_send()
+
+  ntpd/refclock_mx4200.c@1.31 +20 -12
+    [Sec 3378] NTP-01-003 Improper use of snprintf() in mx4200_send()
+
+ChangeSet@1.3720.16.10, 2017-02-11 19:30:47+01:00, perlinger@ntp.org
+  [Sec 3377] NTP-01-002 Buffer Overflow in ntpq when fetching reslist
+
+  ChangeLog@1.1853.2.6 +4 -0
+    [Sec 3377] NTP-01-002 Buffer Overflow in ntpq when fetching reslist
+
+  ntpq/ntpq-subs.c@1.119 +4 -2
+    [Sec 3377] NTP-01-002 Buffer Overflow in ntpq when fetching reslist
+
+ChangeSet@1.3720.16.9, 2017-02-01 08:07:13-05:00, stenn@deacon.udel.edu
+  cleanup
+
+  ChangeLog@1.1853.2.5 +0 -2
+    cleanup
+
+ChangeSet@1.3720.16.8, 2017-02-01 08:05:36-05:00, stenn@deacon.udel.edu
+  Update triggers for bk-7
+
+  BitKeeper/triggers/post-incoming.license-warn@1.10 +3 -0
+    Update triggers for bk-7
+
+  BitKeeper/triggers/pre-resolve.license-chk@1.11 +3 -0
+    Update triggers for bk-7
+
+  BitKeeper/triggers/send@1.17 +2 -2
+    Update triggers for bk-7
+
+ChangeSet@1.3720.16.7, 2017-02-01 07:39:35-05:00, stenn@deacon.udel.edu
   NTP_4_2_8P9_WIN
   TAG: NTP_4_2_8P9_WIN
 
-  ChangeLog@1.1857 +3 -0
+  ChangeLog@1.1853.2.4 +3 -0
     NTP_4_2_8P9_WIN
 
-  ntpd/invoke-ntp.conf.texi@1.204 +1 -1
+  ntpd/invoke-ntp.conf.texi@1.203.1.1 +1 -1
     NTP_4_2_8P9_WIN
 
-  ntpd/invoke-ntp.keys.texi@1.193 +1 -1
+  ntpd/invoke-ntp.keys.texi@1.192.1.1 +1 -1
     NTP_4_2_8P9_WIN
 
-  ntpd/invoke-ntpd.texi@1.509 +2 -2
+  ntpd/invoke-ntpd.texi@1.508.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.conf.5man@1.238 +3 -3
+  ntpd/ntp.conf.5man@1.237.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.conf.5mdoc@1.238 +2 -2
+  ntpd/ntp.conf.5mdoc@1.237.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   ntpd/ntp.conf.html@1.188 +1 -1
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.conf.man.in@1.238 +3 -3
+  ntpd/ntp.conf.man.in@1.237.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.conf.mdoc.in@1.238 +2 -2
+  ntpd/ntp.conf.mdoc.in@1.237.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.keys.5man@1.227 +2 -2
+  ntpd/ntp.keys.5man@1.226.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.keys.5mdoc@1.227 +2 -2
+  ntpd/ntp.keys.5mdoc@1.226.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   ntpd/ntp.keys.html@1.189 +1 -1
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.keys.man.in@1.227 +2 -2
+  ntpd/ntp.keys.man.in@1.226.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntp.keys.mdoc.in@1.227 +2 -2
+  ntpd/ntp.keys.mdoc.in@1.226.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd-opts.c@1.531 +245 -245
+  ntpd/ntpd-opts.c@1.530.1.1 +245 -245
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd-opts.h@1.530 +3 -3
+  ntpd/ntpd-opts.h@1.529.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd.1ntpdman@1.338 +3 -3
+  ntpd/ntpd.1ntpdman@1.337.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd.1ntpdmdoc@1.338 +2 -2
+  ntpd/ntpd.1ntpdmdoc@1.337.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   ntpd/ntpd.html@1.182 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd.man.in@1.338 +3 -3
+  ntpd/ntpd.man.in@1.337.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpd/ntpd.mdoc.in@1.338 +2 -2
+  ntpd/ntpd.mdoc.in@1.337.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpdc/invoke-ntpdc.texi@1.506 +2 -2
+  ntpdc/invoke-ntpdc.texi@1.505.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc-opts.c@1.524 +107 -107
+  ntpdc/ntpdc-opts.c@1.523.1.1 +107 -107
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc-opts.h@1.523 +3 -3
+  ntpdc/ntpdc-opts.h@1.522.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc.1ntpdcman@1.337 +3 -3
+  ntpdc/ntpdc.1ntpdcman@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc.1ntpdcmdoc@1.337 +2 -2
+  ntpdc/ntpdc.1ntpdcmdoc@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc.html@1.350 +2 -2
+  ntpdc/ntpdc.html@1.349.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc.man.in@1.337 +3 -3
+  ntpdc/ntpdc.man.in@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpdc/ntpdc.mdoc.in@1.337 +2 -2
+  ntpdc/ntpdc.mdoc.in@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpq/invoke-ntpq.texi@1.514 +2 -2
+  ntpq/invoke-ntpq.texi@1.513.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq-opts.c@1.531 +114 -114
+  ntpq/ntpq-opts.c@1.530.1.1 +114 -114
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq-opts.h@1.529 +3 -3
+  ntpq/ntpq-opts.h@1.528.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq.1ntpqman@1.342 +3 -3
+  ntpq/ntpq.1ntpqman@1.341.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq.1ntpqmdoc@1.342 +2 -2
+  ntpq/ntpq.1ntpqmdoc@1.341.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   ntpq/ntpq.html@1.179 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq.man.in@1.342 +3 -3
+  ntpq/ntpq.man.in@1.341.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpq/ntpq.mdoc.in@1.342 +2 -2
+  ntpq/ntpq.mdoc.in@1.341.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/invoke-ntpsnmpd.texi@1.508 +11 -10
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.507.1.1 +11 -10
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd-opts.c@1.526 +68 -68
+  ntpsnmpd/ntpsnmpd-opts.c@1.525.1.1 +68 -68
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd-opts.h@1.525 +3 -3
+  ntpsnmpd/ntpsnmpd-opts.h@1.524.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.337 +3 -3
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.337 +2 -2
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   ntpsnmpd/ntpsnmpd.html@1.177 +1 -1
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd.man.in@1.337 +3 -3
+  ntpsnmpd/ntpsnmpd.man.in@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  ntpsnmpd/ntpsnmpd.mdoc.in@1.337 +2 -2
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   packageinfo.sh@1.534 +1 -1
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.98 +3 -3
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.97.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.99 +2 -2
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.98.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/calc_tickadj.html@1.100 +1 -1
+  scripts/calc_tickadj/calc_tickadj.html@1.99.1.1 +1 -1
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/calc_tickadj.man.in@1.97 +3 -3
+  scripts/calc_tickadj/calc_tickadj.man.in@1.96.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.99 +2 -2
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.98.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.102 +1 -1
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.101.1.1 +1 -1
     NTP_4_2_8P9_WIN
 
-  scripts/invoke-plot_summary.texi@1.120 +2 -2
+  scripts/invoke-plot_summary.texi@1.119.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/invoke-summary.texi@1.119 +2 -2
+  scripts/invoke-summary.texi@1.118.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/invoke-ntp-wait.texi@1.329 +2 -2
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.328.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait-opts@1.65 +2 -2
+  scripts/ntp-wait/ntp-wait-opts@1.64.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.326 +3 -3
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.325.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.327 +2 -2
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.326.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait.html@1.346 +2 -2
+  scripts/ntp-wait/ntp-wait.html@1.345.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait.man.in@1.326 +3 -3
+  scripts/ntp-wait/ntp-wait.man.in@1.325.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntp-wait/ntp-wait.mdoc.in@1.327 +2 -2
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.326.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/invoke-ntpsweep.texi@1.117 +2 -2
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.116.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep-opts@1.67 +2 -2
+  scripts/ntpsweep/ntpsweep-opts@1.66.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.105 +3 -3
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.104.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.105 +2 -2
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.104.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep.html@1.118 +2 -2
+  scripts/ntpsweep/ntpsweep.html@1.117.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep.man.in@1.105 +3 -3
+  scripts/ntpsweep/ntpsweep.man.in@1.104.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntpsweep/ntpsweep.mdoc.in@1.106 +2 -2
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.105.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/invoke-ntptrace.texi@1.118 +2 -2
+  scripts/ntptrace/invoke-ntptrace.texi@1.117.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace-opts@1.67 +2 -2
+  scripts/ntptrace/ntptrace-opts@1.66.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace.1ntptraceman@1.105 +3 -3
+  scripts/ntptrace/ntptrace.1ntptraceman@1.104.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace.1ntptracemdoc@1.106 +2 -2
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.105.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace.html@1.119 +2 -2
+  scripts/ntptrace/ntptrace.html@1.118.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace.man.in@1.105 +3 -3
+  scripts/ntptrace/ntptrace.man.in@1.104.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/ntptrace/ntptrace.mdoc.in@1.107 +2 -2
+  scripts/ntptrace/ntptrace.mdoc.in@1.106.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary-opts@1.68 +2 -2
+  scripts/plot_summary-opts@1.67.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary.1plot_summaryman@1.118 +3 -3
+  scripts/plot_summary.1plot_summaryman@1.117.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary.1plot_summarymdoc@1.118 +2 -2
+  scripts/plot_summary.1plot_summarymdoc@1.117.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary.html@1.121 +2 -2
+  scripts/plot_summary.html@1.120.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary.man.in@1.118 +3 -3
+  scripts/plot_summary.man.in@1.117.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/plot_summary.mdoc.in@1.118 +2 -2
+  scripts/plot_summary.mdoc.in@1.117.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/summary-opts@1.67 +2 -2
+  scripts/summary-opts@1.66.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/summary.1summaryman@1.117 +3 -3
+  scripts/summary.1summaryman@1.116.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/summary.1summarymdoc@1.117 +2 -2
+  scripts/summary.1summarymdoc@1.116.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/summary.html@1.120 +2 -2
+  scripts/summary.html@1.119.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/summary.man.in@1.117 +3 -3
+  scripts/summary.man.in@1.116.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/summary.mdoc.in@1.117 +2 -2
+  scripts/summary.mdoc.in@1.116.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/invoke-update-leap.texi@1.18 +1 -1
+  scripts/update-leap/invoke-update-leap.texi@1.17.1.1 +1 -1
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/update-leap-opts@1.18 +2 -2
+  scripts/update-leap/update-leap-opts@1.17.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/update-leap.1update-leapman@1.18 +3 -3
+  scripts/update-leap/update-leap.1update-leapman@1.17.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/update-leap.1update-leapmdoc@1.18 +2 -2
+  scripts/update-leap/update-leap.1update-leapmdoc@1.17.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   scripts/update-leap/update-leap.html@1.18 +1 -1
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/update-leap.man.in@1.18 +3 -3
+  scripts/update-leap/update-leap.man.in@1.17.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  scripts/update-leap/update-leap.mdoc.in@1.18 +2 -2
+  scripts/update-leap/update-leap.mdoc.in@1.17.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  sntp/invoke-sntp.texi@1.506 +2 -2
+  sntp/invoke-sntp.texi@1.505.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  sntp/sntp-opts.c@1.525 +159 -159
+  sntp/sntp-opts.c@1.524.1.1 +159 -159
     NTP_4_2_8P9_WIN
 
-  sntp/sntp-opts.h@1.523 +3 -3
+  sntp/sntp-opts.h@1.522.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  sntp/sntp.1sntpman@1.341 +3 -3
+  sntp/sntp.1sntpman@1.340.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  sntp/sntp.1sntpmdoc@1.341 +2 -2
+  sntp/sntp.1sntpmdoc@1.340.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  sntp/sntp.html@1.521 +2 -2
+  sntp/sntp.html@1.520.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  sntp/sntp.man.in@1.341 +3 -3
+  sntp/sntp.man.in@1.340.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  sntp/sntp.mdoc.in@1.341 +2 -2
+  sntp/sntp.mdoc.in@1.340.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  util/invoke-ntp-keygen.texi@1.509 +2 -2
+  util/invoke-ntp-keygen.texi@1.508.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen-opts.c@1.527 +173 -173
+  util/ntp-keygen-opts.c@1.526.1.1 +173 -173
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen-opts.h@1.525 +3 -3
+  util/ntp-keygen-opts.h@1.524.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen.1ntp-keygenman@1.337 +3 -3
+  util/ntp-keygen.1ntp-keygenman@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen.1ntp-keygenmdoc@1.337 +2 -2
+  util/ntp-keygen.1ntp-keygenmdoc@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
   util/ntp-keygen.html@1.183 +2 -2
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen.man.in@1.337 +3 -3
+  util/ntp-keygen.man.in@1.336.1.1 +3 -3
     NTP_4_2_8P9_WIN
 
-  util/ntp-keygen.mdoc.in@1.337 +2 -2
+  util/ntp-keygen.mdoc.in@1.336.1.1 +2 -2
     NTP_4_2_8P9_WIN
 
-ChangeSet@1.3728, 2017-01-28 09:32:36-05:00, stenn@pogo.udel.edu
+ChangeSet@1.3720.16.6, 2017-01-28 09:32:36-05:00, stenn@pogo.udel.edu
   typos
 
-  sntp/m4/ntp_openssl.m4@1.26 +13 -13
+  sntp/m4/ntp_openssl.m4@1.25.1.1 +13 -13
     typos
 
-ChangeSet@1.3726, 2017-01-27 11:21:38+00:00, stenn@psp-deb1.ntp.org
+ChangeSet@1.3720.16.4, 2017-01-27 11:21:38+00:00, stenn@psp-deb1.ntp.org
   ntp-4.2.8p9-win
 
-  ChangeLog@1.1855 +4 -1
+  ChangeLog@1.1853.2.2 +4 -1
     ntp-4.2.8p9-win
 
   packageinfo.sh@1.533 +1 -1
     ntp-4.2.8p9-win
 
-ChangeSet@1.3725, 2017-01-27 11:09:20+00:00, stenn@psp-deb1.ntp.org
+ChangeSet@1.3720.16.3, 2017-01-27 11:09:20+00:00, stenn@psp-deb1.ntp.org
   bk-7 repos don't have a ChangeSet file
 
-  sntp/Makefile.am@1.89 +1 -1
+  sntp/Makefile.am@1.88.1.1 +1 -1
     bk-7 repos don't have a ChangeSet file
 
-ChangeSet@1.3724, 2017-01-21 15:12:35+01:00, perlinger@ntp.org
+ChangeSet@1.3720.16.2, 2017-01-21 15:12:35+01:00, perlinger@ntp.org
   [Bug 3144] NTP does not build without openSSL <perlinger@ntp.org>
    - pulled missing changeset, minor warning fixes
 
-  ChangeLog@1.1854 +2 -1
+  ChangeLog@1.1853.2.1 +2 -1
     [Bug 3144] NTP does not build without openSSL <perlinger@ntp.org>
      - pulled missing changeset, minor warning fixes
 
@@ -369,16 +6904,22 @@
     [Bug 3144] NTP does not build without openSSL <perlinger@ntp.org>
      - pulled missing changeset, minor warning fixes
 
-ChangeSet@1.3720.1.2, 2017-01-10 06:07:05-05:00, stenn@pogo.udel.edu
+ChangeSet@1.3720.1.18, 2017-01-10 11:14:17+00:00, stenn@psp-deb1.ntp.org
+  s/DNL/dnl/ in ntp_openssl.m4
+
+  sntp/m4/ntp_openssl.m4@1.26 +13 -13
+    s/DNL/dnl/ in ntp_openssl.m4
+
+ChangeSet@1.3720.15.2, 2017-01-10 06:07:05-05:00, stenn@pogo.udel.edu
   configure.ac cleanup
 
-  ChangeLog@1.1852.1.1 +5 -0
+  ChangeLog@1.1852.13.1 +5 -0
     configure.ac cleanup
 
   configure.ac@1.607 +1 -1
     configure.ac cleanup
 
-ChangeSet@1.3720.1.1, 2017-01-10 06:05:44-05:00, stenn@pogo.udel.edu
+ChangeSet@1.3720.15.1, 2017-01-10 06:05:44-05:00, stenn@pogo.udel.edu
   openssl configure cleanup
 
   sntp/m4/ntp_libntp.m4@1.34 +1 -3
@@ -387,7 +6928,586 @@
   sntp/m4/ntp_openssl.m4@1.25 +19 -1
     openssl configure cleanup
 
-ChangeSet@1.3722, 2016-11-23 08:34:52+01:00, perlinger@ntp.org
+ChangeSet@1.3720.1.14, 2017-01-08 11:33:47+00:00, stenn@psp-deb1.ntp.org
+  typo
+
+  ChangeLog@1.1864 +1 -1
+    typo
+
+ChangeSet@1.3720.14.1, 2017-01-08 11:16:33+01:00, perlinger@ntp.org
+  [Bug 3062] Change the process name of forked DNS worker
+   - applied patch by Reinhard Max. See bugzilla for limitations.
+
+  ChangeLog@1.1852.12.1 +4 -1
+    [Bug 3062] Change the process name of forked DNS worker
+     - applied patch by Reinhard Max.
+
+  include/ntpd.h@1.194.1.1 +2 -0
+    [Bug 3062] Change the process name of forked DNS worker
+     - applied patch by Reinhard Max.
+
+  libntp/work_fork.c@1.17.1.1 +18 -0
+    [Bug 3062] Change the process name of forked DNS worker
+     - applied patch by Reinhard Max.
+
+  ntpd/ntpd.c@1.172 +2 -0
+    [Bug 3062] Change the process name of forked DNS worker
+     - applied patch by Reinhard Max.
+
+ChangeSet@1.3720.1.7, 2017-01-08 09:30:07+00:00, stenn@psp-deb1.ntp.org
+  [Bug 2896] logging message cleanup
+
+  ntpd/ntp_config.c@1.343 +2 -2
+    [Bug 2896] logging message cleanup
+
+ChangeSet@1.3720.12.1, 2017-01-07 04:30:19+00:00, abe@psp-deb1.ntp.org
+  miscopt.html, driver40.html, driver40-ja.html, ChangeLog:
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html
+
+  ChangeLog@1.1852.11.1 +2 -0
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html
+
+  html/drivers/driver40-ja.html@1.6 +2 -1
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html
+
+  html/drivers/driver40.html@1.21 +2 -1
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html
+
+  html/miscopt.html@1.88 +4 -1
+    [Bug 3365] Updates driver40(-ja).html and miscopt.html
+
+ChangeSet@1.3720.1.3, 2017-01-06 23:24:33+01:00, jnperlin@hydra.localnet
+  [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  ChangeLog@1.1854 +2 -0
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  include/libssl_compat.h@1.3 +19 -0
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  include/ntp_crypto.h@1.52 +1 -0
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  libntp/ssl_init.c@1.22 +33 -20
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  ntpd/ntp_crypto.c@1.189 +12 -7
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  sntp/libevent/test/regress_ssl.c@1.8 +18 -4
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+  util/ntp-keygen.c@1.110 +17 -5
+    [Bug 3363] Support for openssl-1.1.0 without compatibility modes
+
+ChangeSet@1.3720.11.1, 2017-01-04 10:46:52+01:00, jnperlin@hydra.localnet
+  [Bug 2923] Trap Configuration Fail
+
+  ChangeLog@1.1852.10.1 +4 -1
+    [Bug 2923] Trap Configuration Fail
+
+  ntpd/ntp_config.c@1.340.1.1 +2 -2
+    [Bug 2923] Trap Configuration Fail
+
+ChangeSet@1.3720.10.2, 2017-01-02 12:09:21+00:00, stenn@psp-deb1.ntp.org
+  Update copyright year
+
+  ChangeLog@1.1852.9.2 +3 -0
+    Update copyright year
+
+  html/copyright.html@1.68 +5 -5
+    Update copyright year
+
+  ntpd/invoke-ntp.conf.texi@1.204 +1 -1
+    Update copyright year
+
+  ntpd/invoke-ntp.keys.texi@1.193 +1 -1
+    Update copyright year
+
+  ntpd/invoke-ntpd.texi@1.509 +1 -1
+    Update copyright year
+
+  ntpd/ntp.conf.5man@1.238 +4 -4
+    Update copyright year
+
+  ntpd/ntp.conf.5mdoc@1.238 +3 -3
+    Update copyright year
+
+  ntpd/ntp.conf.man.in@1.238 +4 -4
+    Update copyright year
+
+  ntpd/ntp.conf.mdoc.in@1.238 +3 -3
+    Update copyright year
+
+  ntpd/ntp.keys.5man@1.227 +3 -3
+    Update copyright year
+
+  ntpd/ntp.keys.5mdoc@1.227 +4 -4
+    Update copyright year
+
+  ntpd/ntp.keys.man.in@1.227 +3 -3
+    Update copyright year
+
+  ntpd/ntp.keys.mdoc.in@1.227 +4 -4
+    Update copyright year
+
+  ntpd/ntpd-opts.c@1.531 +4 -4
+    Update copyright year
+
+  ntpd/ntpd-opts.h@1.530 +2 -2
+    Update copyright year
+
+  ntpd/ntpd.1ntpdman@1.338 +4 -4
+    Update copyright year
+
+  ntpd/ntpd.1ntpdmdoc@1.338 +3 -3
+    Update copyright year
+
+  ntpd/ntpd.man.in@1.338 +4 -4
+    Update copyright year
+
+  ntpd/ntpd.mdoc.in@1.338 +3 -3
+    Update copyright year
+
+  ntpdc/invoke-ntpdc.texi@1.506 +1 -1
+    Update copyright year
+
+  ntpdc/ntpdc-opts.c@1.524 +4 -4
+    Update copyright year
+
+  ntpdc/ntpdc-opts.h@1.523 +2 -2
+    Update copyright year
+
+  ntpdc/ntpdc.1ntpdcman@1.337 +4 -4
+    Update copyright year
+
+  ntpdc/ntpdc.1ntpdcmdoc@1.337 +3 -3
+    Update copyright year
+
+  ntpdc/ntpdc.html@1.350 +75 -55
+    Update copyright year
+
+  ntpdc/ntpdc.man.in@1.337 +4 -4
+    Update copyright year
+
+  ntpdc/ntpdc.mdoc.in@1.337 +3 -3
+    Update copyright year
+
+  ntpq/invoke-ntpq.texi@1.514 +1 -1
+    Update copyright year
+
+  ntpq/ntpq-opts.c@1.531 +4 -4
+    Update copyright year
+
+  ntpq/ntpq-opts.h@1.529 +2 -2
+    Update copyright year
+
+  ntpq/ntpq.1ntpqman@1.342 +4 -4
+    Update copyright year
+
+  ntpq/ntpq.1ntpqmdoc@1.342 +3 -3
+    Update copyright year
+
+  ntpq/ntpq.man.in@1.342 +4 -4
+    Update copyright year
+
+  ntpq/ntpq.mdoc.in@1.342 +3 -3
+    Update copyright year
+
+  ntpsnmpd/invoke-ntpsnmpd.texi@1.508 +1 -1
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd-opts.c@1.526 +4 -4
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd-opts.h@1.525 +2 -2
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdman@1.337 +4 -4
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc@1.337 +3 -3
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd.man.in@1.337 +4 -4
+    Update copyright year
+
+  ntpsnmpd/ntpsnmpd.mdoc.in@1.337 +3 -3
+    Update copyright year
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjman@1.98 +3 -3
+    Update copyright year
+
+  scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc@1.99 +2 -2
+    Update copyright year
+
+  scripts/calc_tickadj/calc_tickadj.html@1.100 +33 -21
+    Update copyright year
+
+  scripts/calc_tickadj/calc_tickadj.man.in@1.97 +3 -3
+    Update copyright year
+
+  scripts/calc_tickadj/calc_tickadj.mdoc.in@1.99 +2 -2
+    Update copyright year
+
+  scripts/calc_tickadj/invoke-calc_tickadj.texi@1.102 +1 -1
+    Update copyright year
+
+  scripts/invoke-plot_summary.texi@1.120 +1 -1
+    Update copyright year
+
+  scripts/invoke-summary.texi@1.119 +1 -1
+    Update copyright year
+
+  scripts/ntp-wait/invoke-ntp-wait.texi@1.329 +1 -1
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait-opts@1.65 +1 -1
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitman@1.326 +3 -3
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait.1ntp-waitmdoc@1.327 +2 -2
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait.html@1.346 +47 -29
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait.man.in@1.326 +3 -3
+    Update copyright year
+
+  scripts/ntp-wait/ntp-wait.mdoc.in@1.327 +2 -2
+    Update copyright year
+
+  scripts/ntpsweep/invoke-ntpsweep.texi@1.117 +1 -1
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep-opts@1.67 +1 -1
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepman@1.105 +3 -3
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep.1ntpsweepmdoc@1.105 +2 -2
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep.html@1.118 +42 -31
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep.man.in@1.105 +3 -3
+    Update copyright year
+
+  scripts/ntpsweep/ntpsweep.mdoc.in@1.106 +2 -2
+    Update copyright year
+
+  scripts/ntptrace/invoke-ntptrace.texi@1.118 +1 -1
+    Update copyright year
+
+  scripts/ntptrace/ntptrace-opts@1.67 +1 -1
+    Update copyright year
+
+  scripts/ntptrace/ntptrace.1ntptraceman@1.105 +3 -3
+    Update copyright year
+
+  scripts/ntptrace/ntptrace.1ntptracemdoc@1.106 +2 -2
+    Update copyright year
+
+  scripts/ntptrace/ntptrace.html@1.119 +34 -25
+    Update copyright year
+
+  scripts/ntptrace/ntptrace.man.in@1.105 +3 -3
+    Update copyright year
+
+  scripts/ntptrace/ntptrace.mdoc.in@1.107 +2 -2
+    Update copyright year
+
+  scripts/plot_summary-opts@1.68 +1 -1
+    Update copyright year
+
+  scripts/plot_summary.1plot_summaryman@1.118 +3 -3
+    Update copyright year
+
+  scripts/plot_summary.1plot_summarymdoc@1.118 +2 -2
+    Update copyright year
+
+  scripts/plot_summary.html@1.121 +45 -27
+    Update copyright year
+
+  scripts/plot_summary.man.in@1.118 +3 -3
+    Update copyright year
+
+  scripts/plot_summary.mdoc.in@1.118 +2 -2
+    Update copyright year
+
+  scripts/summary-opts@1.67 +1 -1
+    Update copyright year
+
+  scripts/summary.1summaryman@1.117 +3 -3
+    Update copyright year
+
+  scripts/summary.1summarymdoc@1.117 +2 -2
+    Update copyright year
+
+  scripts/summary.html@1.120 +37 -25
+    Update copyright year
+
+  scripts/summary.man.in@1.117 +3 -3
+    Update copyright year
+
+  scripts/summary.mdoc.in@1.117 +2 -2
+    Update copyright year
+
+  scripts/update-leap/invoke-update-leap.texi@1.18 +1 -1
+    Update copyright year
+
+  scripts/update-leap/update-leap-opts@1.18 +1 -1
+    Update copyright year
+
+  scripts/update-leap/update-leap.1update-leapman@1.18 +3 -3
+    Update copyright year
+
+  scripts/update-leap/update-leap.1update-leapmdoc@1.18 +2 -2
+    Update copyright year
+
+  scripts/update-leap/update-leap.man.in@1.18 +3 -3
+    Update copyright year
+
+  scripts/update-leap/update-leap.mdoc.in@1.18 +2 -2
+    Update copyright year
+
+  sntp/include/copyright.def@1.27 +1 -1
+    Update copyright year
+
+  sntp/invoke-sntp.texi@1.506 +1 -1
+    Update copyright year
+
+  sntp/sntp-opts.c@1.525 +4 -4
+    Update copyright year
+
+  sntp/sntp-opts.h@1.523 +2 -2
+    Update copyright year
+
+  sntp/sntp.1sntpman@1.341 +4 -4
+    Update copyright year
+
+  sntp/sntp.1sntpmdoc@1.341 +3 -3
+    Update copyright year
+
+  sntp/sntp.html@1.521 +107 -83
+    Update copyright year
+
+  sntp/sntp.man.in@1.341 +4 -4
+    Update copyright year
+
+  sntp/sntp.mdoc.in@1.341 +3 -3
+    Update copyright year
+
+  util/invoke-ntp-keygen.texi@1.509 +1 -1
+    Update copyright year
+
+  util/ntp-keygen-opts.c@1.527 +4 -4
+    Update copyright year
+
+  util/ntp-keygen-opts.h@1.525 +2 -2
+    Update copyright year
+
+  util/ntp-keygen.1ntp-keygenman@1.337 +4 -4
+    Update copyright year
+
+  util/ntp-keygen.1ntp-keygenmdoc@1.337 +3 -3
+    Update copyright year
+
+  util/ntp-keygen.man.in@1.337 +4 -4
+    Update copyright year
+
+  util/ntp-keygen.mdoc.in@1.337 +3 -3
+    Update copyright year
+
+ChangeSet@1.3720.10.1, 2017-01-02 11:53:32+00:00, stenn@psp-deb1.ntp.org
+  cleanup
+
+  ChangeLog@1.1852.9.1 +0 -1
+    cleanup
+
+ChangeSet@1.3720.9.1, 2016-12-30 10:39:31+01:00, jnperlin@hydra.localnet
+  [Bug 3356] Bugfix 3072 breaks multicastclient
+
+  ChangeLog@1.1852.8.1 +3 -0
+    [Bug 3356] Bugfix 3072 breaks multicastclient
+
+  ntpd/ntp_peer.c@1.161 +2 -1
+    [Bug 3356] Bugfix 3072 breaks multicastclient
+     (see bugs.ntp.org for details)
+
+ChangeSet@1.3720.8.2, 2016-12-11 11:53:32+01:00, perlinger@ntp.org
+  [Bug 3065] Quiet warnings on NetBSD (take II)
+
+  ntpq/ntpq.c@1.174 +1 -1
+    [Bug 3065] Quiet warnings on NetBSD
+     - repair of repair
+
+ChangeSet@1.3720.8.1, 2016-12-11 11:39:49+01:00, perlinger@ntp.org
+  [Bug 3065] Quiet warnings on NetBSD
+
+  ChangeLog@1.1852.7.1 +5 -1
+    [Bug 3065] Quiet warnings on NetBSD
+
+  include/ntp_fp.h@1.33 +1 -1
+    [Bug 3065] Quiet warnings on NetBSD
+     - GPS time units are unsigned -- gpstolfp should reflect this
+
+  libparse/clk_trimtsip.c@1.14 +4 -4
+    [Bug 3065] Quiet warnings on NetBSD
+     - GPS time units are unsigned
+
+  libparse/gpstolfp.c@1.13 +2 -2
+    [Bug 3065] Quiet warnings on NetBSD
+     - GPS time units are unsigned -- gpstolfp should reflect this
+
+  ntpd/refclock_jjy.c@1.33 +7 -6
+    [Bug 3065] Quiet warnings on NetBSD
+     - length counters should better be unsigned
+
+  ntpd/refclock_parse.c@1.84 +5 -5
+    [Bug 3065] Quiet warnings on NetBSD
+     - GPS time units are unsigned
+
+  ntpq/ntpq.c@1.173 +3 -3
+    [Bug 3065] Quiet warnings on NetBSD
+
+ChangeSet@1.3686.26.1, 2016-12-08 08:28:15+01:00, perlinger@ntp.org
+  [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+
+  ChangeLog@1.1834.26.1 +5 -0
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+
+  lib/isc/inet_pton.c@1.8 +3 -3
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+
+  libntp/statestr.c@1.29 +4 -5
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+
+  ntpd/ntp_control.c@1.209.7.1 +5 -5
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+
+  ntpd/ntp_io.c@1.417.1.1 +3 -4
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+     - sidekick: counters should be unsigned, if it's really just for counting
+
+  ntpdc/ntpdc_ops.c@1.82 +1 -1
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+     - sidekick: flags should not be counters
+
+  sntp/crypto.c@1.21.2.1 +2 -2
+    [Bug 2645] out-of-bound pointers in ctl_putsys and decode_bitflags
+     sidekick: arithmetic on void pointers is a booboo.
+
+ChangeSet@1.3720.6.1, 2016-11-29 20:36:05+01:00, perlinger@ntp.org
+  [Bug 2896] Nothing happens if minsane < maxclock < minclock
+   - create error log, but stay responsive
+
+  ChangeLog@1.1852.5.1 +4 -0
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+
+  include/ntpd.h@1.195 +1 -0
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+     - list 'sys_maxclock', too, for constraint checks
+
+  ntpd/ntp_config.c@1.341 +73 -15
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+     - check minsane/minclock/maxclock relation and drop error log on constraint violation
+
+  ntpd/ntp_parser.c@1.104 +152 -152
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+     - sidekick: minclock/maxclock should be int, not float!
+
+  ntpd/ntp_parser.h@1.68 +1 -1
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+     - sidekick: minclock/maxclock should be int, not float!
+
+  ntpd/ntp_parser.y@1.94 +4 -4
+    [Bug 2896] Nothing happens if minsane < maxclock < minclock
+     - sidekick: minclock/maxclock should be int, not float!
+
+ChangeSet@1.3720.5.1, 2016-11-27 21:09:17+01:00, perlinger@ntp.org
+  [Bug 3216] libntp audio ioctl() args incorrectly cast to int on 4.4BSD-Lite derived platforms
+
+  ChangeLog@1.1852.4.1 +5 -0
+    [Bug 3216] libntp audio ioctl() args incorrectly cast to int on 4.4BSD-Lite derived platforms
+
+  libntp/audio.c@1.38 +25 -11
+    [Bug 3216] libntp audio ioctl() args incorrectly cast to int on 4.4BSD-Lite derived platforms
+     - provide platform-dependent typedef for IOCTL request identifier
+     - remove explicit, unnecessary and potentially harmful casts to 'int' for literal IOCTL requests
+     - make module-global variables static to keep them out of global namespace
+
+ChangeSet@1.3720.4.1, 2016-11-27 10:18:17+01:00, perlinger@ntp.org
+  [Bug 3215] 'make distcheck' fails with newer BK repository format
+
+  ChangeLog@1.1852.3.1 +3 -0
+    [Bug 3215] 'make distcheck' fails with newer BK repository format
+
+  sntp/Makefile.am@1.89 +1 -2
+    [Bug 3215] 'make distcheck' fails with newer BK repository format
+     - use 'bk root' in receipe to test for working BK and source being a BK repo in one go
+
+ChangeSet@1.3720.3.1, 2016-11-26 18:10:01+01:00, perlinger@ntp.org
+  [Bug 3139] (...) time_pps_create: Exec format error
+
+  ChangeLog@1.1852.2.1 +6 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+
+  ports/winnt/include/timepps.h@1.4 +14 -386
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/ntpd/nt_ppsimpl.c@1.1 +550 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+     - augment pathless dlls with absolute path to NTPD
+     - use 'msyslog()' instead of 'printf()' for reporting trouble
+
+  ports/winnt/ntpd/nt_ppsimpl.c@1.0 +0 -0
+
+  ports/winnt/vs2005/ntpd.vcproj@1.22 +4 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/vs2008/ntpd/ntpd.vcproj@1.52 +4 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/vs2013/ntpd/ntpd.vcxproj@1.10 +1 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/vs2013/ntpd/ntpd.vcxproj.filters@1.7 +3 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/vs2015/ntpd/ntpd.vcxproj@1.2 +1 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+  ports/winnt/vs2015/ntpd/ntpd.vcxproj.filters@1.2 +3 -0
+    [Bug 3139] (...) time_pps_create: Exec format error
+     - move loader API from 'inline' to proper source
+
+ChangeSet@1.3720.2.1, 2016-11-24 07:57:37+01:00, perlinger@ntp.org
+  [Bug 3173] forking async worker: interrupted pipe I/O
+
+  ChangeLog@1.1852.1.1 +4 -0
+    [Bug 3173] forking async worker: interrupted pipe I/O
+
+  libntp/work_fork.c@1.18 +90 -57
+    [Bug 3173] forking async worker: interrupted pipe I/O
+
+  ntpd/ntp_proto.c@1.397.1.1 +2 -1
+    [Bug 3173] forking async worker: interrupted pipe I/O
+     - sidekick: minor const/init cleanup
+
+ChangeSet@1.3720.1.2, 2016-11-23 08:34:52+01:00, perlinger@ntp.org
   Bug 3144 - NTP does not build without openSSL
    - fix SNTP to build '--without-crypto',too
    - remove some warnings that result from '--without-crypto'
@@ -404,7 +7524,7 @@
     Bug 3144 - NTP does not build without openSSL
      - fix SNTP to build '--without-crypto', too
 
-ChangeSet@1.3721, 2016-11-22 22:22:46+01:00, perlinger@ntp.org
+ChangeSet@1.3720.1.1, 2016-11-22 22:22:46+01:00, perlinger@ntp.org
   [Bug 3144] NTP does not build without openSSL
 
   ChangeLog@1.1853 +3 -1
@@ -436,6 +7556,13 @@
     [Bug 3144] NTP does not build without openSSL
      - sidekick: Fix annoying warnings MSVC emits
 
+ChangeSet@1.3688.6.1, 2016-11-22 03:21:05-08:00, harlan@fb-x86-a.pfcs.com
+  NEWS:
+    NEWS
+
+  NEWS@1.178, harlan@max.pfcs.com +2 -0
+    NEWS
+
 ChangeSet@1.3720, 2016-11-21 08:08:21-05:00, stenn@deacon.udel.edu
   NTP_4_2_8P9
   TAG: NTP_4_2_8P9
@@ -779,7 +7906,7 @@
 ChangeSet@1.3718, 2016-11-21 03:47:58+00:00, stenn@psp-deb1.ntp.org
   NEWS updates, final p9 testing
 
-  NEWS@1.203 +25 -17
+  NEWS@1.177.1.26 +25 -17
     NEWS updates, final p9 testing
 
   packageinfo.sh@1.530 +2 -2
@@ -788,13 +7915,13 @@
 ChangeSet@1.3717, 2016-11-18 10:33:02+00:00, stenn@psp-deb1.ntp.org
   NEWS update for 3142
 
-  NEWS@1.202 +2 -1
+  NEWS@1.177.1.25 +2 -1
     NEWS update for 3142
 
-ChangeSet@1.3686.23.1, 2016-11-18 08:55:13+01:00, perlinger@ntp.org
+ChangeSet@1.3686.25.1, 2016-11-18 08:55:13+01:00, perlinger@ntp.org
   [Bug 3142] bug in netmask prefix length detection
 
-  ChangeLog@1.1834.23.1 +3 -0
+  ChangeLog@1.1834.25.1 +3 -0
     [Bug 3142] bug in netmask prefix length detection
 
   lib/isc/netaddr.c@1.15 +0 -1
@@ -803,13 +7930,37 @@
 ChangeSet@1.3715, 2016-11-16 21:25:49-08:00, harlan@fb-x86-a.pfcs.com
   NEWS file update
 
-  NEWS@1.201 +7 -22
+  NEWS@1.177.1.24 +7 -22
     NEWS file update
 
+ChangeSet@1.3686.24.1, 2016-11-16 22:14:26+01:00, perlinger@ntp.org
+  [Bug 2851] allow -4/-6 on restrict line with mask
+
+  ChangeLog@1.1834.24.1 +4 -0
+    [Bug 2851] allow -4/-6 on restrict line with mask
+
+  ntpd/ntp_parser.c@1.102.1.1 +248 -248
+    [Bug 2851] allow -4/-6 on restrict line with mask
+     - update bison-generated file
+
+  ntpd/ntp_parser.y@1.92.1.1 +1 -1
+    [Bug 2851] allow -4/-6 on restrict line with mask
+     - applied patch by Miroslav Lichvar for ntp4.2.6 compat
+
+ChangeSet@1.3686.23.1, 2016-11-15 23:02:51+01:00, perlinger@ntp.org
+  [Bug 3107] Incorrect Logic for Peer Event Limiting
+
+  ChangeLog@1.1834.23.1 +4 -0
+    [Bug 3107] Incorrect Logic for Peer Event Limiting
+
+  ntpd/ntp_control.c@1.209.6.1 +1 -1
+    [Bug 3107] Incorrect Logic for Peer Event Limiting
+     - applied patch by Matthew Van Gundy
+
 ChangeSet@1.3707.1.1, 2016-11-13 21:59:31-08:00, harlan@fb-x86-a.pfcs.com
   cleanup
 
-  NEWS@1.197.1.1 +201 -77
+  NEWS@1.177.2.1 +201 -77
     cleanup
 
 ChangeSet@1.3713, 2016-11-13 21:56:18-08:00, harlan@hms-mbp11.pfcs.com
@@ -821,19 +7972,19 @@
 ChangeSet@1.3712, 2016-11-13 02:43:02+00:00, stenn@psp-deb1.ntp.org
   NEWS updates
 
-  NEWS@1.199 +17 -0
+  NEWS@1.177.1.22 +17 -0
     NEWS updates
 
 ChangeSet@1.3710, 2016-11-13 02:30:31+00:00, stenn@psp-deb1.ntp.org
   NEWS cleanup
 
-  NEWS@1.198 +2 -0
+  NEWS@1.177.1.21 +2 -0
     NEWS cleanup
 
 ChangeSet@1.3707, 2016-11-12 17:36:54-08:00, harlan@fb-x86-a.pfcs.com
   NEWS cleanup
 
-  NEWS@1.197 +41 -6
+  NEWS@1.177.1.20 +41 -6
     NEWS cleanup
 
 ChangeSet@1.3706, 2016-11-12 16:55:59-08:00, harlan@fb-x86-a.pfcs.com
@@ -842,7 +7993,7 @@
   ChangeLog@1.1846.1.2 +1 -0
     [Bug 3067] Root distance calculation needs improvement.  HStenn
 
-  NEWS@1.196 +1 -0
+  NEWS@1.177.1.19 +1 -0
     [Bug 3067] Root distance calculation needs improvement.  HStenn
 
   ntpd/ntp_proto.c@1.396 +16 -11
@@ -854,7 +8005,7 @@
   ChangeLog@1.1846.1.1 +1 -0
     [Bug 3138] gpsdjson refclock should honor fudgetime1. stenn@ntp.org
 
-  NEWS@1.195 +1 -0
+  NEWS@1.177.1.18 +1 -0
     [Bug 3138] gpsdjson refclock should honor fudgetime1. stenn@ntp.org
 
   ntpd/refclock_gpsdjson.c@1.25 +1 -1
@@ -963,7 +8114,7 @@
 ChangeSet@1.3699.1.2, 2016-10-31 10:56:33+00:00, stenn@psp-deb1.ntp.org
   Add bug 3125 to the NEWS file
 
-  NEWS@1.194 +2 -0
+  NEWS@1.177.1.17 +2 -0
     Add bug 3125 to the NEWS file
 
 ChangeSet@1.3701, 2016-10-24 07:37:25+02:00, perlinger@ntp.org
@@ -1511,19 +8662,19 @@
 ChangeSet@1.3698, 2016-10-01 10:52:11+00:00, stenn@psp-deb1.ntp.org
   Update NEWS for 3119
 
-  NEWS@1.193 +17 -0
+  NEWS@1.177.1.16 +17 -0
     Update NEWS for 3119
 
 ChangeSet@1.3696, 2016-10-01 10:43:24+00:00, stenn@psp-deb1.ntp.org
   Update NEWS for 3118
 
-  NEWS@1.192 +17 -0
+  NEWS@1.177.1.15 +17 -0
     Update NEWS for 3118
 
 ChangeSet@1.3694, 2016-10-01 10:29:06+00:00, stenn@psp-deb1.ntp.org
   Update NEWS for 3110
 
-  NEWS@1.191 +17 -0
+  NEWS@1.177.1.14 +17 -0
     Update NEWS for 3110
 
 ChangeSet@1.3688.3.1, 2016-10-01 11:36:55+02:00, perlinger@ntp.org
@@ -1557,13 +8708,13 @@
 ChangeSet@1.3691, 2016-10-01 09:18:25+00:00, stenn@psp-deb1.ntp.org
   Update NEWS for 3082
 
-  NEWS@1.190 +17 -0
+  NEWS@1.177.1.13 +17 -0
     Update NEWS for 3082
 
 ChangeSet@1.3688.1.33, 2016-10-01 08:32:28+00:00, stenn@psp-deb1.ntp.org
   [Bug 3072] tweaks
 
-  NEWS@1.189 +16 -1
+  NEWS@1.177.1.12 +16 -1
     [Bug 3072] tweaks
 
   ntpd/ntp_peer.c@1.160 +6 -1
@@ -1588,7 +8739,7 @@
 ChangeSet@1.3688.1.30, 2016-09-29 12:03:17+00:00, stenn@psp-deb1.ntp.org
   NEWS update
 
-  NEWS@1.188 +2 -0
+  NEWS@1.177.1.11 +2 -0
     NEWS update
 
 ChangeSet@1.3688.2.1, 2016-09-29 11:59:03+00:00, stenn@psp-deb1.ntp.org
@@ -1597,7 +8748,7 @@
   ChangeLog@1.1836.2.1, stenn@stenn.ntp.org +1 -0
     Shim X509_get_signature_nid() if needed
 
-  NEWS@1.187, stenn@stenn.ntp.org +1 -0
+  NEWS@1.177.1.10, stenn@stenn.ntp.org +1 -0
     Shim X509_get_signature_nid() if needed
 
   libntp/ssl_init.c@1.17.1.3 +1 -1
@@ -1609,13 +8760,13 @@
 ChangeSet@1.3688.1.27, 2016-09-28 11:28:56+00:00, stenn@psp-deb1.ntp.org
   NEWS
 
-  NEWS@1.186 +1 -0
+  NEWS@1.177.1.9 +1 -0
     NEWS
 
 ChangeSet@1.3688.1.25, 2016-09-28 11:24:36+00:00, stenn@psp-deb1.ntp.org
   NEWS
 
-  NEWS@1.185 +2 -0
+  NEWS@1.177.1.8 +2 -0
     NEWS
 
 ChangeSet@1.3688.1.23, 2016-09-28 11:17:22+00:00, stenn@psp-deb1.ntp.org
@@ -1624,25 +8775,25 @@
   ChangeLog@1.1836.1.19 +2 -2
     Updated ChangeLog and NEWS
 
-  NEWS@1.184 +2 -0
+  NEWS@1.177.1.7 +2 -0
     Updated ChangeLog and NEWS
 
 ChangeSet@1.3688.1.21, 2016-09-28 11:12:28+00:00, stenn@psp-deb1.ntp.org
   NEWS
 
-  NEWS@1.183 +2 -0
+  NEWS@1.177.1.6 +2 -0
     NEWS
 
 ChangeSet@1.3688.1.19, 2016-09-28 11:01:29+00:00, stenn@psp-deb1.ntp.org
   NEWS
 
-  NEWS@1.182 +3 -0
+  NEWS@1.177.1.5 +3 -0
     NEWS
 
 ChangeSet@1.3688.1.17, 2016-09-28 10:54:12+00:00, stenn@psp-deb1.ntp.org
   Update ChangeLog and NEWS
 
-  NEWS@1.181 +3 -0
+  NEWS@1.177.1.4 +3 -0
     Update ChangeLog and NEWS
 
 ChangeSet@1.3688.1.15, 2016-09-28 10:45:21+00:00, stenn@psp-deb1.ntp.org
@@ -1651,13 +8802,13 @@
   ChangeLog@1.1836.1.14 +2 -2
     Update ChangeLog and NEWS
 
-  NEWS@1.180 +2 -0
+  NEWS@1.177.1.3 +2 -0
     Update ChangeLog and NEWS
 
 ChangeSet@1.3688.1.13, 2016-09-28 10:37:17+00:00, stenn@psp-deb1.ntp.org
   NEWS updates
 
-  NEWS@1.179 +4 -0
+  NEWS@1.177.1.2 +4 -0
     NEWS updates
 
 ChangeSet@1.3688.1.11, 2016-09-28 10:25:01+00:00, stenn@psp-deb1.ntp.org
@@ -1666,7 +8817,7 @@
   ChangeLog@1.1836.1.11 +1 -1
     Update ChangeLog and NEWS
 
-  NEWS@1.178 +1 -0
+  NEWS@1.177.1.1 +1 -0
     Update ChangeLog and NEWS
 
 ChangeSet@1.3688.1.8, 2016-09-28 08:17:16+00:00, stenn@psp-deb1.ntp.org
@@ -146956,9 +154107,6 @@
   sntp/sntp-opts.texi@1.46.26.2 +1 -1
     NTP_4_2_4P8
 
-  sntp/sntp.1@1.49.26.2 +2 -2
-    NTP_4_2_4P8
-
   util/ntp-keygen-opts.c@1.49.26.2 +2 -2
     NTP_4_2_4P8
 
@@ -147038,9 +154186,6 @@
   sntp/sntp-opts.texi@1.46.26.1 +54 -2
     NTP_4_2_4P9_RC1
 
-  sntp/sntp.1@1.49.26.1 +2 -2
-    NTP_4_2_4P9_RC1
-
   util/ntp-keygen-opts.c@1.49.26.1 +5 -5
     NTP_4_2_4P9_RC1
 
@@ -163972,9 +171117,6 @@
   sntp/sntp-opts.texi@1.46.25.1 +1 -1
     NTP_4_2_4P7
 
-  sntp/sntp.1@1.49.25.1 +2 -2
-    NTP_4_2_4P7
-
   util/ntp-keygen-opts.c@1.49.25.1 +4 -4
     NTP_4_2_4P7
 
@@ -164340,9 +171482,6 @@
   sntp/sntp-opts.texi@1.46.24.1 +1 -1
     NTP_4_2_4P7_RC7
 
-  sntp/sntp.1@1.49.24.1 +3 -3
-    NTP_4_2_4P7_RC7
-
   util/ntp-keygen-opts.c@1.49.24.1 +3 -3
     NTP_4_2_4P7_RC7
 
@@ -164816,9 +171955,6 @@
   sntp/sntp-opts.texi@1.46.23.1 +1 -1
     NTP_4_2_4P7_RC6
 
-  sntp/sntp.1@1.49.23.1 +2 -2
-    NTP_4_2_4P7_RC6
-
   util/ntp-keygen-opts.c@1.49.23.1 +2 -2
     NTP_4_2_4P7_RC6
 
@@ -165532,9 +172668,6 @@
   sntp/sntp-opts.texi@1.46.22.1 +1 -1
     NTP_4_2_4P7_RC5
 
-  sntp/sntp.1@1.49.22.1 +2 -2
-    NTP_4_2_4P7_RC5
-
   util/ntp-keygen-opts.c@1.49.22.1 +2 -2
     NTP_4_2_4P7_RC5
 
@@ -165932,9 +173065,6 @@
   sntp/sntp-opts.texi@1.46.21.1 +1 -1
     NTP_4_2_4P7_RC4
 
-  sntp/sntp.1@1.49.21.1 +2 -2
-    NTP_4_2_4P7_RC4
-
   util/ntp-keygen-opts.c@1.49.21.1 +2 -2
     NTP_4_2_4P7_RC4
 
@@ -166945,9 +174075,6 @@
   sntp/sntp-opts.texi@1.46.20.1 +1 -1
     NTP_4_2_4P7_RC3
 
-  sntp/sntp.1@1.49.20.1 +2 -2
-    NTP_4_2_4P7_RC3
-
   util/ntp-keygen-opts.c@1.49.20.1 +2 -2
     NTP_4_2_4P7_RC3
 
@@ -167569,9 +174696,6 @@
   sntp/sntp-opts.texi@1.46.19.1 +1 -1
     NTP_4_2_4P7_RC2
 
-  sntp/sntp.1@1.49.19.1 +2 -2
-    NTP_4_2_4P7_RC2
-
   util/ntp-keygen-opts.c@1.49.19.1 +2 -2
     NTP_4_2_4P7_RC2
 
@@ -168111,9 +175235,6 @@
   sntp/sntp-opts.texi@1.46.18.1 +1 -1
     NTP_4_2_4P7_RC1
 
-  sntp/sntp.1@1.49.18.1 +2 -2
-    NTP_4_2_4P7_RC1
-
   util/ntp-keygen-opts.c@1.49.18.1 +2 -2
     NTP_4_2_4P7_RC1
 
@@ -169448,9 +176569,6 @@
   sntp/sntp-opts.texi@1.46.17.2 +1 -1
     NTP_4_2_4P6
 
-  sntp/sntp.1@1.49.17.2 +2 -2
-    NTP_4_2_4P6
-
   util/ntp-keygen-opts.c@1.49.17.2 +2 -2
     NTP_4_2_4P6
 
@@ -169530,9 +176648,6 @@
   sntp/sntp-opts.texi@1.46.17.1 +1 -1
     NTP_4_2_4P5
 
-  sntp/sntp.1@1.49.17.1 +2 -2
-    NTP_4_2_4P5
-
   util/ntp-keygen-opts.c@1.49.17.1 +1 -1
     NTP_4_2_4P5
 
@@ -172785,9 +179900,6 @@
 ChangeSet@1.1759, 2008-08-22 21:27:59-04:00, stenn@pogo.udel.edu
   remove bogus .o file
 
-  BitKeeper/deleted/.del-utilities.o@1.2 +0 -0
-    Delete: gsoc_sntp/utilities.o
-
 ChangeSet@1.1735.1.29, 2008-08-21 05:05:19+00:00, gopal@pogo.udel.edu
   driver20.html:
     [BUG 610] Documentation update for NMEA reference clock driver.
@@ -173066,9 +180178,6 @@
   sntp/sntp-opts.texi@1.46.16.1 +1 -1
     NTP_4_2_4P5
 
-  sntp/sntp.1@1.49.16.1 +2 -2
-    NTP_4_2_4P5
-
   util/ntp-keygen-opts.c@1.49.16.1 +2 -2
     NTP_4_2_4P5
 
@@ -173190,11 +180299,6 @@
 
   gsoc_sntp/utilities.h@1.0 +0 -0
 
-  gsoc_sntp/utilities.o@1.1 +177 -0
-    BitKeeper file /geom_mobile/home/Amidamaru/projects/sntp/repo/ntp-dev/gsoc_sntp/utilities.o
-
-  gsoc_sntp/utilities.o@1.0 +0 -0
-
 ChangeSet@1.1436.1.105, 2008-08-10 21:56:17-04:00, clemens@pogo.udel.edu
   BUG[1052] Minor reordering of previous patch to make it more robust.
 
@@ -173352,9 +180456,6 @@
   sntp/sntp-opts.texi@1.46.15.1 +2 -3
     NTP_4_2_4P5_RC2
 
-  sntp/sntp.1@1.49.15.1 +3 -3
-    NTP_4_2_4P5_RC2
-
   util/ntp-keygen-opts.c@1.49.15.1 +2 -2
     NTP_4_2_4P5_RC2
 
@@ -174815,9 +181916,6 @@
   sntp/sntp-opts.texi@1.46.14.1 +1 -1
     NTP_4_2_4P5_RC1
 
-  sntp/sntp.1@1.49.14.1 +2 -2
-    NTP_4_2_4P5_RC1
-
   util/ntp-keygen-opts.c@1.49.14.1 +6 -7
     NTP_4_2_4P5_RC1
 
@@ -180076,9 +187174,6 @@
   sntp/sntp-opts.texi@1.46.13.1 +1 -1
     NTP_4_2_4P4
 
-  sntp/sntp.1@1.49.13.1 +2 -2
-    NTP_4_2_4P4
-
   util/ntp-keygen-opts.c@1.49.13.1 +2 -2
     NTP_4_2_4P4
 
@@ -180385,9 +187480,6 @@
   sntp/sntp-opts.texi@1.46.12.1 +1 -1
     NTP_4_2_4P4_RC2
 
-  sntp/sntp.1@1.49.12.1 +2 -2
-    NTP_4_2_4P4_RC2
-
   util/ntp-keygen-opts.c@1.49.12.1 +4 -4
     NTP_4_2_4P4_RC2
 
@@ -180775,9 +187867,6 @@
   sntp/sntp-opts.texi@1.46.11.1 +1 -1
     NTP_4_2_4P4_RC1
 
-  sntp/sntp.1@1.49.11.1 +2 -2
-    NTP_4_2_4P4_RC1
-
   util/ntp-keygen-opts.c@1.49.11.1 +2 -2
     NTP_4_2_4P4_RC1
 
@@ -182125,9 +189214,6 @@
   sntp/sntp-opts.texi@1.46.10.1 +1 -1
     NTP_4_2_4P3
 
-  sntp/sntp.1@1.49.10.1 +2 -2
-    NTP_4_2_4P3
-
   util/ntp-keygen-opts.c@1.49.10.1 +2 -2
     NTP_4_2_4P3
 
@@ -182377,9 +189463,6 @@
   sntp/sntp-opts.texi@1.46.9.1 +1 -1
     NTP_4_2_4P3_RC1
 
-  sntp/sntp.1@1.49.9.1 +2 -2
-    NTP_4_2_4P3_RC1
-
   util/ntp-keygen-opts.c@1.49.9.1 +2 -2
     NTP_4_2_4P3_RC1
 
@@ -182875,9 +189958,6 @@
   sntp/sntp-opts.texi@1.46.8.1 +1 -1
     NTP_4_2_4P2
 
-  sntp/sntp.1@1.49.8.1 +2 -2
-    NTP_4_2_4P2
-
   util/ntp-keygen-opts.c@1.49.8.1 +2 -2
     NTP_4_2_4P2
 
@@ -183525,9 +190605,6 @@
   sntp/sntp-opts.texi@1.46.7.1 +1 -1
     NTP_4_2_4P2_RC6
 
-  sntp/sntp.1@1.49.7.1 +2 -2
-    NTP_4_2_4P2_RC6
-
   util/ntp-keygen-opts.c@1.49.7.1 +2 -2
     NTP_4_2_4P2_RC6
 
@@ -184282,9 +191359,6 @@
   sntp/sntp-opts.texi@1.46.6.1 +1 -1
     NTP_4_2_4P2_RC5
 
-  sntp/sntp.1@1.49.6.1 +2 -2
-    NTP_4_2_4P2_RC5
-
   util/ntp-keygen-opts.c@1.49.6.1 +2 -2
     NTP_4_2_4P2_RC5
 
@@ -184542,9 +191616,6 @@
   sntp/sntp-opts.texi@1.46.5.1 +1 -1
     NTP_4_2_4P2_RC4
 
-  sntp/sntp.1@1.49.5.1 +2 -2
-    NTP_4_2_4P2_RC4
-
   util/ntp-keygen-opts.c@1.49.5.1 +2 -2
     NTP_4_2_4P2_RC4
 
@@ -184755,9 +191826,6 @@
   sntp/sntp-opts.texi@1.46.4.1 +1 -1
     NTP_4_2_4P2_RC3
 
-  sntp/sntp.1@1.49.4.1 +2 -2
-    NTP_4_2_4P2_RC3
-
   util/ntp-keygen-opts.c@1.49.4.1 +2 -2
     NTP_4_2_4P2_RC3
 
@@ -185084,9 +192152,6 @@
   sntp/sntp-opts.texi@1.46.3.2 +1 -1
     NTP_4_2_4P2_RC2
 
-  sntp/sntp.1@1.49.3.2 +2 -2
-    NTP_4_2_4P2_RC2
-
   util/ntp-keygen-opts.c@1.49.3.2 +4 -4
     NTP_4_2_4P2_RC2
 
@@ -185830,9 +192895,6 @@
   sntp/sntp-opts.texi@1.46.3.1 +1 -1
     We need to use the upgraded autogen/libopts in -stable too.
 
-  sntp/sntp.1@1.49.3.1 +2 -2
-    We need to use the upgraded autogen/libopts in -stable too.
-
   util/ntp-keygen-opts.c@1.49.3.1 +23 -14
     We need to use the upgraded autogen/libopts in -stable too.
 
@@ -187887,9 +194949,6 @@
   sntp/sntp-opts.texi@1.46.2.2 +1 -1
     NTP_4_2_4P2_RC1
 
-  sntp/sntp.1@1.49.2.2 +2 -2
-    NTP_4_2_4P2_RC1
-
   util/ntp-keygen-opts.c@1.49.2.3 +2 -2
     NTP_4_2_4P2_RC1
 
@@ -187975,9 +195034,6 @@
   sntp/sntp-opts.texi@1.46.2.1 +1 -1
     NTP_4_2_4P1_RC1
 
-  sntp/sntp.1@1.49.2.1 +2 -2
-    NTP_4_2_4P1_RC1
-
   util/ntp-keygen-opts.c@1.49.2.2 +2 -2
     NTP_4_2_4P1_RC1
 
@@ -190138,9 +197194,6 @@
   sntp/sntp-opts.texi@1.46.1.6 +1 -1
     NTP_4_2_4P0
 
-  sntp/sntp.1@1.49.1.6 +2 -2
-    NTP_4_2_4P0
-
   util/ntp-keygen-opts.c@1.49.1.6 +2 -2
     NTP_4_2_4P0
 
@@ -190310,9 +197363,6 @@
   BitKeeper/deleted/.del-sntp-opts.texi@1.68 +0 -0
     Delete: sntp/sntp-opts.texi
 
-  BitKeeper/deleted/.del-sntp.1@1.71 +0 -0
-    Delete: sntp/sntp.1
-
   ntpd/ntpd-opts.c@1.1 +1055 -0
     BitKeeper file /deacon/backroom/ntp-dev/ntpd/ntpd-opts.c
 
@@ -190506,9 +197556,6 @@
   sntp/sntp-opts.texi@1.66 +1 -1
     NTP_4_2_5P15
 
-  sntp/sntp.1@1.69 +2 -2
-    NTP_4_2_5P15
-
   util/ntp-keygen-opts.c@1.69 +2 -2
     NTP_4_2_5P15
 
@@ -190598,9 +197645,6 @@
   sntp/sntp-opts.texi@1.65 +1 -1
     NTP_4_2_5P14
 
-  sntp/sntp.1@1.68 +2 -2
-    NTP_4_2_5P14
-
   util/ntp-keygen-opts.c@1.68 +2 -2
     NTP_4_2_5P14
 
@@ -190694,9 +197738,6 @@
   sntp/sntp-opts.texi@1.64 +1 -1
     NTP_4_2_5P13
 
-  sntp/sntp.1@1.67 +2 -2
-    NTP_4_2_5P13
-
   util/ntp-keygen-opts.c@1.67 +2 -2
     NTP_4_2_5P13
 
@@ -190789,9 +197830,6 @@
   sntp/sntp-opts.texi@1.63 +1 -1
     NTP_4_2_5P12
 
-  sntp/sntp.1@1.66 +2 -2
-    NTP_4_2_5P12
-
   util/ntp-keygen-opts.c@1.66 +2 -2
     NTP_4_2_5P12
 
@@ -190868,9 +197906,6 @@
   sntp/sntp-opts.texi@1.46.1.5 +1 -1
     NTP_4_2_4P0_RC5
 
-  sntp/sntp.1@1.49.1.5 +2 -2
-    NTP_4_2_4P0_RC5
-
   util/ntp-keygen-opts.c@1.49.1.5 +2 -2
     NTP_4_2_4P0_RC5
 
@@ -190959,9 +197994,6 @@
   sntp/sntp-opts.texi@1.62 +1 -1
     NTP_4_2_5P11
 
-  sntp/sntp.1@1.65 +2 -2
-    NTP_4_2_5P11
-
   util/ntp-keygen-opts.c@1.65 +2 -2
     NTP_4_2_5P11
 
@@ -191053,9 +198085,6 @@
   sntp/sntp-opts.texi@1.61 +1 -1
     NTP_4_2_5P10
 
-  sntp/sntp.1@1.64 +2 -2
-    NTP_4_2_5P10
-
   util/ntp-keygen-opts.c@1.64 +2 -2
     NTP_4_2_5P10
 
@@ -191138,9 +198167,6 @@
   sntp/sntp-opts.texi@1.59 +1 -1
     NTP_4_2_5P9
 
-  sntp/sntp.1@1.62 +2 -2
-    NTP_4_2_5P9
-
   util/ntp-keygen-opts.c@1.62 +2 -2
     NTP_4_2_5P9
 
@@ -191217,9 +198243,6 @@
   sntp/sntp-opts.texi@1.46.1.4 +1 -1
     NTP_4_2_4P0_RC4
 
-  sntp/sntp.1@1.49.1.4 +2 -2
-    NTP_4_2_4P0_RC4
-
   util/ntp-keygen-opts.c@1.49.1.4 +2 -2
     NTP_4_2_4P0_RC4
 
@@ -191329,9 +198352,6 @@
   sntp/sntp-opts.texi@1.57 +1 -1
     NTP_4_2_5P8
 
-  sntp/sntp.1@1.60 +2 -2
-    NTP_4_2_5P8
-
   util/ntp-keygen-opts.c@1.60 +2 -2
     NTP_4_2_5P8
 
@@ -191417,9 +198437,6 @@
   sntp/sntp-opts.texi@1.56 +1 -1
     NTP_4_2_5P7
 
-  sntp/sntp.1@1.59 +2 -2
-    NTP_4_2_5P7
-
   util/ntp-keygen-opts.c@1.59 +2 -2
     NTP_4_2_5P7
 
@@ -191520,9 +198537,6 @@
   sntp/sntp-opts.texi@1.55 +1 -1
     NTP_4_2_5P6
 
-  sntp/sntp.1@1.58 +2 -2
-    NTP_4_2_5P6
-
   util/ntp-keygen-opts.c@1.58 +2 -2
     NTP_4_2_5P6
 
@@ -191599,9 +198613,6 @@
   sntp/sntp-opts.texi@1.46.1.3 +1 -1
     NTP_4_2_4_RC3
 
-  sntp/sntp.1@1.49.1.3 +2 -2
-    NTP_4_2_4_RC3
-
   util/ntp-keygen-opts.c@1.49.1.3 +2 -2
     NTP_4_2_4_RC3
 
@@ -191747,9 +198758,6 @@
   sntp/sntp-opts.texi@1.53 +1 -1
     NTP_4_2_5P5
 
-  sntp/sntp.1@1.56 +2 -2
-    NTP_4_2_5P5
-
   util/ntp-keygen-opts.c@1.56 +2 -2
     NTP_4_2_5P5
 
@@ -191832,9 +198840,6 @@
   sntp/sntp-opts.texi@1.52 +1 -1
     NTP_4_2_5P4
 
-  sntp/sntp.1@1.55 +2 -2
-    NTP_4_2_5P4
-
   util/ntp-keygen-opts.c@1.55 +2 -2
     NTP_4_2_5P4
 
@@ -191911,9 +198916,6 @@
   sntp/sntp-opts.texi@1.46.1.2 +1 -1
     NTP_4_2_4_RC2
 
-  sntp/sntp.1@1.49.1.2 +2 -2
-    NTP_4_2_4_RC2
-
   util/ntp-keygen-opts.c@1.49.1.2 +2 -2
     NTP_4_2_4_RC2
 
@@ -192059,9 +199061,6 @@
   sntp/sntp-opts.texi@1.51 +1 -1
     NTP_4_2_5P3
 
-  sntp/sntp.1@1.54 +2 -2
-    NTP_4_2_5P3
-
   util/ntp-keygen-opts.c@1.54 +2 -2
     NTP_4_2_5P3
 
@@ -192144,9 +199143,6 @@
   sntp/sntp-opts.texi@1.46.1.1 +1 -1
     NTP_4_2_4_RC1
 
-  sntp/sntp.1@1.49.1.1 +2 -2
-    NTP_4_2_4_RC1
-
   util/ntp-keygen-opts.c@1.49.1.1 +2 -2
     NTP_4_2_4_RC1
 
@@ -192376,9 +199372,6 @@
   sntp/sntp-opts.texi@1.49 +1 -1
     NTP_4_2_5P2
 
-  sntp/sntp.1@1.52 +2 -2
-    NTP_4_2_5P2
-
   util/ntp-keygen-opts.c@1.52 +2 -2
     NTP_4_2_5P2
 
@@ -192496,9 +199489,6 @@
   sntp/sntp-opts.texi@1.48 +1 -1
     NTP_4_2_5P1
 
-  sntp/sntp.1@1.51 +2 -2
-    NTP_4_2_5P1
-
   util/ntp-keygen-opts.c@1.51 +2 -2
     NTP_4_2_5P1
 
@@ -193130,9 +200120,6 @@
   sntp/sntp-opts.texi@1.45.1.2 +1 -1
     NTP_4_2_5P0
 
-  sntp/sntp.1@1.48.1.2 +2 -2
-    NTP_4_2_5P0
-
   util/ntp-keygen-opts.c@1.48.1.2 +2 -2
     NTP_4_2_5P0
 
@@ -193242,9 +200229,6 @@
   sntp/sntp-opts.texi@1.45.1.1 +1 -1
     NTP_4_2_5
 
-  sntp/sntp.1@1.48.1.1 +2 -2
-    NTP_4_2_5
-
   util/ntp-keygen-opts.c@1.48.1.1 +2 -2
     NTP_4_2_5
 
@@ -193321,9 +200305,6 @@
   sntp/sntp-opts.texi@1.46 +1 -1
     NTP_4_2_4
 
-  sntp/sntp.1@1.49 +2 -2
-    NTP_4_2_4
-
   util/ntp-keygen-opts.c@1.49 +2 -2
     NTP_4_2_4
 
@@ -193502,9 +200483,6 @@
   sntp/sntp-opts.texi@1.45 +1 -1
     NTP_4_2_3P70_RC
 
-  sntp/sntp.1@1.48 +2 -2
-    NTP_4_2_3P70_RC
-
   util/ntp-keygen-opts.c@1.48 +2 -2
     NTP_4_2_3P70_RC
 
@@ -193590,9 +200568,6 @@
   sntp/sntp-opts.texi@1.44 +9 -1
     NTP_4_2_3P69_RC
 
-  sntp/sntp.1@1.47 +8 -64
-    NTP_4_2_3P69_RC
-
   util/ntp-keygen-opts.c@1.47 +2 -2
     NTP_4_2_3P69_RC
 
@@ -193684,9 +200659,6 @@
   sntp/sntp-opts.texi@1.43 +1 -1
     NTP_4_2_3P68_RC
 
-  sntp/sntp.1@1.46 +2 -2
-    NTP_4_2_3P68_RC
-
   util/ntp-keygen-opts.c@1.46 +2 -2
     NTP_4_2_3P68_RC
 
@@ -193781,9 +200753,6 @@
   sntp/sntp-opts.texi@1.42 +1 -1
     NTP_4_2_3P67_RC
 
-  sntp/sntp.1@1.45 +2 -2
-    NTP_4_2_3P67_RC
-
   util/ntp-keygen-opts.c@1.45 +2 -2
     NTP_4_2_3P67_RC
 
@@ -193881,9 +200850,6 @@
   sntp/sntp-opts.texi@1.41 +1 -1
     NTP_4_2_3P66_RC
 
-  sntp/sntp.1@1.44 +2 -2
-    NTP_4_2_3P66_RC
-
   util/ntp-keygen-opts.c@1.44 +2 -2
     NTP_4_2_3P66_RC
 
@@ -193978,9 +200944,6 @@
   sntp/sntp-opts.texi@1.40 +1 -1
     NTP_4_2_3P65_RC
 
-  sntp/sntp.1@1.43 +2 -2
-    NTP_4_2_3P65_RC
-
   util/ntp-keygen-opts.c@1.43 +2 -2
     NTP_4_2_3P65_RC
 
@@ -194069,9 +201032,6 @@
   sntp/sntp-opts.texi@1.39 +1 -1
     NTP_4_2_3P64_RC
 
-  sntp/sntp.1@1.42 +2 -2
-    NTP_4_2_3P64_RC
-
   util/ntp-keygen-opts.c@1.42 +2 -2
     NTP_4_2_3P64_RC
 
@@ -194164,9 +201124,6 @@
   sntp/sntp-opts.texi@1.38 +1 -1
     NTP_4_2_3P63_RC
 
-  sntp/sntp.1@1.41 +2 -2
-    NTP_4_2_3P63_RC
-
   util/ntp-keygen-opts.c@1.41 +2 -2
     NTP_4_2_3P63_RC
 
@@ -194276,9 +201233,6 @@
   sntp/sntp-opts.texi@1.37 +1 -1
     NTP_4_2_3P62_RC
 
-  sntp/sntp.1@1.40 +2 -2
-    NTP_4_2_3P62_RC
-
   util/ntp-keygen-opts.c@1.40 +2 -2
     NTP_4_2_3P62_RC
 
@@ -194370,9 +201324,6 @@
   sntp/sntp-opts.texi@1.36 +1 -1
     NTP_4_2_3P61_RC
 
-  sntp/sntp.1@1.39 +2 -2
-    NTP_4_2_3P61_RC
-
   util/ntp-keygen-opts.c@1.39 +2 -2
     NTP_4_2_3P61_RC
 
@@ -194458,9 +201409,6 @@
   sntp/sntp-opts.texi@1.35 +1 -1
     NTP_4_2_3P60_RC
 
-  sntp/sntp.1@1.38 +2 -2
-    NTP_4_2_3P60_RC
-
   util/ntp-keygen-opts.c@1.38 +2 -2
     NTP_4_2_3P60_RC
 
@@ -194556,9 +201504,6 @@
   sntp/sntp-opts.texi@1.34 +1 -1
     NTP_4_2_3P59
 
-  sntp/sntp.1@1.37 +2 -2
-    NTP_4_2_3P59
-
   util/ntp-keygen-opts.c@1.37 +2 -2
     NTP_4_2_3P59
 
@@ -194661,9 +201606,6 @@
   sntp/sntp-opts.texi@1.33 +1 -1
     NTP_4_2_3P58
 
-  sntp/sntp.1@1.36 +2 -2
-    NTP_4_2_3P58
-
   util/ntp-keygen-opts.c@1.36 +2 -2
     NTP_4_2_3P58
 
@@ -194763,9 +201705,6 @@
   sntp/sntp-opts.texi@1.32 +1 -1
     NTP_4_2_3P57
 
-  sntp/sntp.1@1.35 +2 -2
-    NTP_4_2_3P57
-
   util/ntp-keygen-opts.c@1.35 +4 -4
     NTP_4_2_3P57
 
@@ -195163,9 +202102,6 @@
   sntp/sntp-opts.texi@1.31 +1 -1
     NTP_4_2_3P56
 
-  sntp/sntp.1@1.34 +2 -2
-    NTP_4_2_3P56
-
   util/ntp-keygen-opts.c@1.32 +2 -2
     NTP_4_2_3P56
 
@@ -195260,9 +202196,6 @@
   sntp/sntp-opts.texi@1.30 +1 -1
     NTP_4_2_3P55
 
-  sntp/sntp.1@1.33 +2 -2
-    NTP_4_2_3P55
-
   util/ntp-keygen-opts.c@1.31 +2 -2
     NTP_4_2_3P55
 
@@ -195357,9 +202290,6 @@
   sntp/sntp-opts.texi@1.29 +1 -1
     NTP_4_2_3P54
 
-  sntp/sntp.1@1.32 +2 -2
-    NTP_4_2_3P54
-
   util/ntp-keygen-opts.c@1.30 +2 -2
     NTP_4_2_3P54
 
@@ -195454,9 +202384,6 @@
   sntp/sntp-opts.texi@1.28 +1 -1
     NTP_4_2_3P53
 
-  sntp/sntp.1@1.31 +2 -2
-    NTP_4_2_3P53
-
   util/ntp-keygen-opts.c@1.29 +2 -2
     NTP_4_2_3P53
 
@@ -195542,9 +202469,6 @@
   sntp/sntp-opts.texi@1.27 +1 -1
     NTP_4_2_3P52
 
-  sntp/sntp.1@1.30 +2 -2
-    NTP_4_2_3P52
-
   util/ntp-keygen-opts.c@1.28 +4 -4
     NTP_4_2_3P52
 
@@ -195825,9 +202749,6 @@
   sntp/sntp-opts.texi@1.26 +1 -1
     autogen update
 
-  sntp/sntp.1@1.29 +1 -1
-    autogen update
-
   util/ntp-keygen-opts.c@1.26 +3 -3
     autogen update
 
@@ -195904,9 +202825,6 @@
   sntp/sntp-opts.texi@1.25 +1 -1
     NTP_4_2_3P51
 
-  sntp/sntp.1@1.28 +2 -2
-    NTP_4_2_3P51
-
   util/ntp-keygen-opts.c@1.25 +4 -4
     NTP_4_2_3P51
 
@@ -196186,9 +203104,6 @@
   sntp/sntp-opts.texi@1.24 +1 -1
     autogen upgrade
 
-  sntp/sntp.1@1.27 +2 -2
-    autogen upgrade
-
   util/ntp-keygen-opts.c@1.24 +3 -2
     autogen upgrade
 
@@ -196265,9 +203180,6 @@
   sntp/sntp-opts.texi@1.23 +1 -1
     NTP_4_2_3P50
 
-  sntp/sntp.1@1.26 +2 -2
-    NTP_4_2_3P50
-
   util/ntp-keygen-opts.c@1.23 +43 -43
     NTP_4_2_3P50
 
@@ -196731,9 +203643,6 @@
   sntp/sntp-opts.texi@1.22 +1 -1
     NTP_4_2_3P49
 
-  sntp/sntp.1@1.25 +2 -2
-    NTP_4_2_3P49
-
   util/ntp-keygen-opts.c@1.22 +2 -2
     NTP_4_2_3P49
 
@@ -196828,9 +203737,6 @@
   sntp/sntp-opts.texi@1.21 +1 -1
     NTP_4_2_3P48
 
-  sntp/sntp.1@1.24 +2 -2
-    NTP_4_2_3P48
-
   util/ntp-keygen-opts.c@1.21 +2 -2
     NTP_4_2_3P48
 
@@ -196938,9 +203844,6 @@
   sntp/sntp-opts.texi@1.20 +1 -1
     NTP_4_2_3P47
 
-  sntp/sntp.1@1.23 +2 -2
-    NTP_4_2_3P47
-
   util/ntp-keygen-opts.c@1.20 +2 -2
     NTP_4_2_3P47
 
@@ -197036,9 +203939,6 @@
   sntp/sntp-opts.texi@1.19 +1 -1
     NTP_4_2_3P46
 
-  sntp/sntp.1@1.22 +2 -2
-    NTP_4_2_3P46
-
   util/ntp-keygen-opts.c@1.19 +2 -2
     NTP_4_2_3P46
 
@@ -197136,9 +204036,6 @@
   sntp/sntp-opts.texi@1.18 +1 -1
     NTP_4_2_3P45
 
-  sntp/sntp.1@1.21 +2 -2
-    NTP_4_2_3P45
-
   util/ntp-keygen-opts.c@1.18 +2 -2
     NTP_4_2_3P45
 
@@ -197237,9 +204134,6 @@
   sntp/sntp-opts.texi@1.17 +1 -1
     NTP_4_2_3P44
 
-  sntp/sntp.1@1.20 +2 -2
-    NTP_4_2_3P44
-
   util/ntp-keygen-opts.c@1.17 +2 -2
     NTP_4_2_3P44
 
@@ -197406,9 +204300,6 @@
   sntp/sntp-opts.texi@1.16 +1 -1
     NTP_4_2_3P43
 
-  sntp/sntp.1@1.19 +2 -2
-    NTP_4_2_3P43
-
   util/ntp-keygen-opts.c@1.16 +2 -2
     NTP_4_2_3P43
 
@@ -197491,9 +204382,6 @@
   sntp/sntp-opts.texi@1.15 +1 -1
     NTP_4_2_3P42
 
-  sntp/sntp.1@1.18 +2 -2
-    NTP_4_2_3P42
-
   util/ntp-keygen-opts.c@1.15 +2 -2
     NTP_4_2_3P42
 
@@ -197678,9 +204566,6 @@
   sntp/sntp-opts.texi@1.14 +1 -1
     NTP_4_2_3P41
 
-  sntp/sntp.1@1.17 +2 -2
-    NTP_4_2_3P41
-
   util/ntp-keygen-opts.c@1.14 +2 -2
     NTP_4_2_3P41
 
@@ -197811,9 +204696,6 @@
   sntp/sntp-opts.texi@1.13 +1 -1
     NTP_4_2_3P39
 
-  sntp/sntp.1@1.16 +2 -2
-    NTP_4_2_3P39
-
   util/ntp-keygen-opts.c@1.13 +2 -2
     NTP_4_2_3P39
 
@@ -197965,9 +204847,6 @@
   sntp/sntp-opts.texi@1.12 +1 -1
     NTP_4_2_3P38
 
-  sntp/sntp.1@1.15 +2 -2
-    NTP_4_2_3P38
-
   util/ntp-keygen-opts.c@1.12 +2 -2
     NTP_4_2_3P38
 
@@ -198093,9 +204972,6 @@
   sntp/sntp-opts.texi@1.11 +1 -1
     NTP_4_2_3P37
 
-  sntp/sntp.1@1.14 +2 -2
-    NTP_4_2_3P37
-
   util/ntp-keygen-opts.c@1.11 +2 -2
     NTP_4_2_3P37
 
@@ -198208,9 +205084,6 @@
   sntp/sntp-opts.texi@1.10 +1 -1
     NTP_4_2_3P36
 
-  sntp/sntp.1@1.13 +2 -2
-    NTP_4_2_3P36
-
   util/ntp-keygen-opts.c@1.10 +2 -2
     NTP_4_2_3P36
 
@@ -198294,9 +205167,6 @@
   sntp/sntp-opts.texi@1.9 +1 -1
     NTP_4_2_3P35
 
-  sntp/sntp.1@1.12 +2 -2
-    NTP_4_2_3P35
-
   util/ntp-keygen-opts.c@1.9 +2 -2
     NTP_4_2_3P35
 
@@ -198436,9 +205306,6 @@
   sntp/sntp-opts.texi@1.8 +1 -1
     NTP_4_2_3P34
 
-  sntp/sntp.1@1.11 +2 -2
-    NTP_4_2_3P34
-
   util/ntp-keygen-opts.c@1.8 +2 -2
     NTP_4_2_3P34
 
@@ -198521,9 +205388,6 @@
   sntp/sntp-opts.texi@1.7 +1 -1
     NTP_4_2_3P33
 
-  sntp/sntp.1@1.10 +2 -2
-    NTP_4_2_3P33
-
   util/ntp-keygen-opts.c@1.7 +2 -2
     NTP_4_2_3P33
 
@@ -198689,9 +205553,6 @@
   sntp/sntp-opts.texi@1.6 +1 -1
     run autogen after point release
 
-  sntp/sntp.1@1.9 +2 -2
-    run autogen after point release
-
   util/ntp-keygen-opts.c@1.6 +2 -2
     run autogen after point release
 
@@ -198821,9 +205682,6 @@
   sntp/sntp-opts.texi@1.5 +1 -1
     regenerate autogen-erated files
 
-  sntp/sntp.1@1.8 +2 -2
-    regenerate autogen-erated files
-
   util/ntp-keygen-opts.c@1.5 +29 -4
     regenerate autogen-erated files
 
@@ -198917,9 +205775,6 @@
   sntp/sntp-opts.texi@1.4 +1 -1
     NTP_4_2_3P29
 
-  sntp/sntp.1@1.7 +82 -3
-    NTP_4_2_3P29
-
   util/ntp-keygen-opts.c@1.4 +2 -2
     NTP_4_2_3P29
 
@@ -199412,12 +206267,6 @@
   sntp/sntp-opts.texi@1.2 +0 -0
     Change mode to -rw-r--r--
 
-  sntp/sntp.1@1.6 +129 -64
-    autogen upgrade
-
-  sntp/sntp.1@1.5 +0 -0
-    Change mode to -rw-r--r--
-
   util/ntp-keygen-opts.c@1.3 +54 -36
     autogen upgrade
 
@@ -202195,7 +209044,7 @@
   [Bug 527] Lose signalled IO.
 
   configure.ac@1.359.1.28 +7 -2
-    [Bug 527] Losed signalled IO.
+    [Bug 527] Lose signalled IO.
 
 ChangeSet@1.1251.85.1, 2006-04-18 05:58:13-04:00, stenn@whimsy.udel.edu
   there are 240 ntp-dev patch releases so far
@@ -203644,7 +210493,7 @@
     [Bug 516] unprotected crypto_update() call fix from Dave Mills
 
 ChangeSet@1.1251.67.11, 2005-10-25 20:15:47-04:00, stenn@deacon.udel.edu
-  [Bug 517] Allow dynamic SSL libraries
+  [Bug 519] Allow dynamic SSL libraries
 
   configure.ac@1.359.1.24 +3 -2
     [Bug 519] Allow dynamic SSL libraries: also check /usr/sfw/{lib,include}
@@ -209124,6 +215973,7 @@
 
   ntpdate/ntpdate.c@1.48 +2 -2
     [Bug 363] ntpdate: use -1 to represent an invalid fd
+    Fix from Rainer Weikusat.
 
 ChangeSet@1.1251.1.27, 2004-11-21 21:33:09-05:00, stenn@whimsy.udel.edu
   [Bug 349] Patches from Takao Abe
@@ -209824,9 +216674,6 @@
   sntp/main.c@1.5 +19 -115
     Lose broadcast and server modes.
 
-  sntp/sntp.1@1.4 +0 -23
-    Lose broadcast and server modes.
-
   sntp/socket.c@1.4 +6 -22
     Lose broadcast and server modes.
 
@@ -210214,17 +217061,6 @@
   sntp/main.c@1.4 +8 -8
     added sntp.1 and did a little cleanup
 
-  sntp/sntp.1@1.3 +25 -15
-    added sntp.1 and did a little cleanup
-
-  sntp/sntp.1@1.2 +0 -0
-    Rename: sntp/msntp.1 -> sntp/sntp.1
-
-  sntp/msntp.1@1.1 +325 -0
-
-  sntp/msntp.1@1.0 +0 -0
-    BitKeeper file /deacon/backroom/ntp-dev/sntp/msntp.1
-
 ChangeSet@1.1202.1.15, 2004-08-23 22:08:55-04:00, stenn@www.ntp.org
   make propdelay compile/link
 
--- contrib/ntp/Makefile.in.orig
+++ contrib/ntp/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -830,7 +830,7 @@
 	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
 	|| chmod -R a+r "$(distdir)"
 dist-gzip: distdir
-	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
+	tardir=$(distdir) && $(am__tar) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).tar.gz
 	$(am__post_remove_distdir)
 
 dist-bzip2: distdir
@@ -856,7 +856,7 @@
 	@echo WARNING: "Support for shar distribution archives is" \
 	               "deprecated." >&2
 	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
-	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
+	shar $(distdir) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).shar.gz
 	$(am__post_remove_distdir)
 
 dist-zip: distdir
@@ -874,7 +874,7 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).tar.gz | $(am__untar) ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\
 	*.tar.lz*) \
@@ -884,7 +884,7 @@
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).shar.gz | unshar ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
 	esac
--- contrib/ntp/NEWS.orig
+++ contrib/ntp/NEWS
@@ -1,8 +1,131 @@
+---
+NTP 4.2.8p13 (Harlan Stenn <stenn@ntp.org>, 2019 Mar 07)
+
+Focus: Security, Bug fixes, enhancements.
+
+Severity: MEDIUM
+
+This release fixes a bug that allows an attacker with access to an
+explicitly trusted source to send a crafted malicious mode 6 (ntpq)
+packet that can trigger a NULL pointer dereference, crashing ntpd.
+It also provides 17 other bugfixes and 1 other improvement:
+
+* [Sec 3565] Crafted null dereference attack in authenticated
+	     mode 6 packet <perlinger@ntp.org>
+  - reported by Magnus Stubman
+* [Bug 3560] Fix build when HAVE_DROPROOT is not defined <perlinger@ntp.org>
+  - applied patch by Ian Lepore
+* [Bug 3558] Crash and integer size bug <perlinger@ntp.org>
+  - isolate and fix linux/windows specific code issue
+* [Bug 3556] ntp_loopfilter.c snprintf compilation warnings <perlinger@ntp.org>
+  - provide better function for incremental string formatting
+* [Bug 3555] Tidy up print alignment of debug output from ntpdate <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3554] config revoke stores incorrect value <perlinger@ntp.org>
+  - original finding by Gerry Garvey, additional cleanup needed
+* [Bug 3549] Spurious initgroups() error message <perlinger@ntp.org>
+  - patch by Christous Zoulas
+* [Bug 3548] Signature not verified on windows system <perlinger@ntp.org>
+  - finding by Chen Jiabin, plus another one by me
+* [Bug 3541] patch to fix STA_NANO struct timex units <perlinger@ntp.org>
+  - applied patch by Maciej Szmigiero
+* [Bug 3540] Cannot set minsane to 0 anymore <perlinger@ntp.org>
+  - applied patch by Andre Charbonneau
+* [Bug 3539] work_fork build fails when droproot is not supported <perlinger@ntp.org>
+  - applied patch by Baruch Siach
+* [Bug 3538] Build fails for no-MMU targets <perlinger@ntp.org>
+  - applied patch by Baruch Siach
+* [Bug 3535] libparse won't handle GPS week rollover <perlinger@ntp.org>
+  - refactored handling of GPS era based on 'tos basedate' for
+    parse (TSIP) and JUPITER clocks
+* [Bug 3529] Build failures on Mac OS X 10.13 (High Sierra) <perlinger@ntp.org>
+  - patch by Daniel J. Luke; this does not fix a potential linker
+    regression issue on MacOS.
+* [Bug 3527 - Backward Incompatible] mode7 clockinfo fudgeval2 packet
+  anomaly <perlinger@ntp.org>, reported by GGarvey.
+  - --enable-bug3527-fix support by HStenn
+* [Bug 3526] Incorrect poll interval in packet <perlinger@ntp.org>
+  - applied patch by Gerry Garvey
+* [Bug 3471] Check for openssl/[ch]mac.h.  <perlinger@ntp.org>
+  - added missing check, reported by Reinhard Max <perlinger@ntp.org>
+* [Bug 1674] runtime crashes and sync problems affecting both x86 and x86_64
+  - this is a variant of [bug 3558] and should be fixed with it
+* Implement 'configure --disable-signalled-io'
+
 --
+NTP 4.2.8p12 (Harlan Stenn <stenn@ntp.org>, 2018/14/09)
+
+Focus: Security, Bug fixes, enhancements.
+
+Severity: MEDIUM
+
+This release fixes a "hole" in the noepeer capability introduced to ntpd
+in ntp-4.2.8p11, and a buffer overflow in the openhost() function used by
+ntpq and ntpdc.  It also provides 26 other bugfixes, and 4 other improvements:
+
+* [Sec 3505] Buffer overflow in the openhost() call of ntpq and ntpdc.
+
+* [Sec 3012] Fix a hole in the new "noepeer" processing.
+
+* Bug Fixes:
+ [Bug 3521] Fix a logic bug in the INVALIDNAK checks.  <stenn@ntp.org>
+ [Bug 3509] Add support for running as non-root on FreeBSD, Darwin,
+            other TrustedBSD platforms
+ - applied patch by Ian Lepore <perlinger@ntp.org>
+ [Bug 3506] Service Control Manager interacts poorly with NTPD <perlinger@ntp.org>
+ - changed interaction with SCM to signal pending startup
+ [Bug 3486] Buffer overflow in ntpq/ntpq.c:tstflags() <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3485] Undefined sockaddr used in error messages in ntp_config.c <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3484] ntpq response from ntpd is incorrect when REFID is null <perlinger@ntp.org>
+ - rework of ntpq 'nextvar()' key/value parsing
+ [Bug 3482] Fixes for compilation warnings (ntp_io.c & ntpq-subs.c) <perlinger@ntp.org>
+ - applied patch by Gerry Garvey (with mods)
+ [Bug 3480] Refclock sample filter not cleared on clock STEP <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3479] ctl_putrefid() allows unsafe characters through to ntpq <perlinger@ntp.org>
+ - applied patch by Gerry Garvey (with mods)
+ [Bug 3476]ctl_putstr() sends empty unquoted string [...] <perlinger@ntp.org>
+ - applied patch by Gerry Garvey (with mods); not sure if that's bug or feature, though
+ [Bug 3475] modify prettydate() to suppress output of zero time <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3474] Missing pmode in mode7 peer info response <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3471] Check for openssl/[ch]mac.h.  HStenn.
+ - add #define ENABLE_CMAC support in configure.  HStenn.
+ [Bug 3470] ntpd4.2.8p11 fails to compile without OpenSSL <perlinger@ntp.org>
+ [Bug 3469] Incomplete string compare [...] in is_refclk_addr <perlinger@ntp.org>
+ - patch by Stephen Friedl
+ [Bug 3467] Potential memory fault in ntpq [...] <perlinger@ntp.org>
+ - fixed IO redirection and CTRL-C handling in ntq and ntpdc
+ [Bug 3465] Default TTL values cannot be used <perlinger@ntp.org>
+ [Bug 3461] refclock_shm.c: clear error status on clock recovery <perlinger@ntp.org>
+ - initial patch by Hal Murray; also fixed refclock_report() trouble
+ [Bug 3460] Fix typo in ntpq.texi, reported by Kenyon Ralph.  <stenn@ntp.org>
+ [Bug 3456] Use uintptr_t rather than size_t to store an integer in a pointer
+ - According to Brooks Davis, there was only one location <perlinger@ntp.org>
+ [Bug 3449] ntpq - display "loop" instead of refid [...] <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3445] Symmetric peer won't sync on startup <perlinger@ntp.org>
+ - applied patch by Gerry Garvey
+ [Bug 3442] Fixes for ntpdate as suggested by Gerry Garvey,
+ with modifications
+ New macro REFID_ISTEXT() which is also used in ntpd/ntp_control.c.
+ [Bug 3434] ntpd clears STA_UNSYNC on start <perlinger@ntp.org>
+ - applied patch by Miroslav Lichvar
+ [Bug 3426] ntpdate.html -t default is 2 seconds.  Leonid Evdokimov.
+ [Bug 3121] Drop root privileges for the forked DNS worker <perlinger@ntp.org>
+ - integrated patch by  Reinhard Max
+ [Bug 2821] minor build issues <perlinger@ntp.org>
+ - applied patches by Christos Zoulas, including real bug fixes
+ html/authopt.html: cleanup, from <stenn@ntp.org>
+ ntpd/ntpd.c: DROPROOT cleanup.  <stenn@ntp.org>
+ Symmetric key range is 1-65535.  Update docs.   <stenn@ntp.org>
+
+--
 NTP 4.2.8p11 (Harlan Stenn <stenn@ntp.org>, 2018/02/27)
 
-NOTE: this NEWS file will be undergoing more revisions.
-
 Focus: Security, Bug fixes, enhancements.
 
 Severity: MEDIUM
--- contrib/ntp/aclocal.m4.orig
+++ contrib/ntp/aclocal.m4
@@ -1,6 +1,6 @@
-# generated automatically by aclocal 1.15 -*- Autoconf -*-
+# generated automatically by aclocal 1.15.1 -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -20,126 +20,121 @@
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically 'autoreconf'.])])
 
-# serial 9  -*- Autoconf -*-
-# Enable extensions on systems that normally disable them.
+# longlong.m4 serial 17
+dnl Copyright (C) 1999-2007, 2009-2016 Free Software Foundation, Inc.
+dnl This file is free software; the Free Software Foundation
+dnl gives unlimited permission to copy and/or distribute it,
+dnl with or without modifications, as long as this notice is preserved.
 
-# Copyright (C) 2003, 2006-2010 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
+dnl From Paul Eggert.
 
-# This definition of AC_USE_SYSTEM_EXTENSIONS is stolen from CVS
-# Autoconf.  Perhaps we can remove this once we can assume Autoconf
-# 2.62 or later everywhere, but since CVS Autoconf mutates rapidly
-# enough in this area it's likely we'll need to redefine
-# AC_USE_SYSTEM_EXTENSIONS for quite some time.
+# Define HAVE_LONG_LONG_INT if 'long long int' works.
+# This fixes a bug in Autoconf 2.61, and can be faster
+# than what's in Autoconf 2.62 through 2.68.
 
-# If autoconf reports a warning
-#     warning: AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# or  warning: AC_RUN_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# the fix is
-#   1) to ensure that AC_USE_SYSTEM_EXTENSIONS is never directly invoked
-#      but always AC_REQUIREd,
-#   2) to ensure that for each occurrence of
-#        AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
-#      or
-#        AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
-#      the corresponding gnulib module description has 'extensions' among
-#      its dependencies. This will ensure that the gl_USE_SYSTEM_EXTENSIONS
-#      invocation occurs in gl_EARLY, not in gl_INIT.
+# Note: If the type 'long long int' exists but is only 32 bits large
+# (as on some very old compilers), HAVE_LONG_LONG_INT will not be
+# defined. In this case you can treat 'long long int' like 'long int'.
 
-# AC_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-# Remember that #undef in AH_VERBATIM gets replaced with #define by
-# AC_DEFINE.  The goal here is to define all known feature-enabling
-# macros, then, if reports of conflicts are made, disable macros that
-# cause problems on some platforms (such as __EXTENSIONS__).
-AC_DEFUN_ONCE([AC_USE_SYSTEM_EXTENSIONS],
-[AC_BEFORE([$0], [AC_COMPILE_IFELSE])dnl
-AC_BEFORE([$0], [AC_RUN_IFELSE])dnl
+AC_DEFUN([AC_TYPE_LONG_LONG_INT],
+[
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+  AC_CACHE_CHECK([for long long int], [ac_cv_type_long_long_int],
+     [ac_cv_type_long_long_int=yes
+      if test "x${ac_cv_prog_cc_c99-no}" = xno; then
+        ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
+        if test $ac_cv_type_long_long_int = yes; then
+          dnl Catch a bug in Tandem NonStop Kernel (OSS) cc -O circa 2004.
+          dnl If cross compiling, assume the bug is not important, since
+          dnl nobody cross compiles for this platform as far as we know.
+          AC_RUN_IFELSE(
+            [AC_LANG_PROGRAM(
+               [[@%:@include <limits.h>
+                 @%:@ifndef LLONG_MAX
+                 @%:@ define HALF \
+                          (1LL << (sizeof (long long int) * CHAR_BIT - 2))
+                 @%:@ define LLONG_MAX (HALF - 1 + HALF)
+                 @%:@endif]],
+               [[long long int n = 1;
+                 int i;
+                 for (i = 0; ; i++)
+                   {
+                     long long int m = n << i;
+                     if (m >> i != n)
+                       return 1;
+                     if (LLONG_MAX / 2 < m)
+                       break;
+                   }
+                 return 0;]])],
+            [],
+            [ac_cv_type_long_long_int=no],
+            [:])
+        fi
+      fi])
+  if test $ac_cv_type_long_long_int = yes; then
+    AC_DEFINE([HAVE_LONG_LONG_INT], [1],
+      [Define to 1 if the system has the type 'long long int'.])
+  fi
+])
 
-  AC_REQUIRE([AC_CANONICAL_HOST])
+# Define HAVE_UNSIGNED_LONG_LONG_INT if 'unsigned long long int' works.
+# This fixes a bug in Autoconf 2.61, and can be faster
+# than what's in Autoconf 2.62 through 2.68.
 
-  AC_CHECK_HEADER([minix/config.h], [MINIX=yes], [MINIX=])
-  if test "$MINIX" = yes; then
-    AC_DEFINE([_POSIX_SOURCE], [1],
-      [Define to 1 if you need to in order for `stat' and other
-       things to work.])
-    AC_DEFINE([_POSIX_1_SOURCE], [2],
-      [Define to 2 if the system does not provide POSIX.1 features
-       except with this defined.])
-    AC_DEFINE([_MINIX], [1],
-      [Define to 1 if on MINIX.])
+# Note: If the type 'unsigned long long int' exists but is only 32 bits
+# large (as on some very old compilers), AC_TYPE_UNSIGNED_LONG_LONG_INT
+# will not be defined. In this case you can treat 'unsigned long long int'
+# like 'unsigned long int'.
+
+AC_DEFUN([AC_TYPE_UNSIGNED_LONG_LONG_INT],
+[
+  AC_CACHE_CHECK([for unsigned long long int],
+    [ac_cv_type_unsigned_long_long_int],
+    [ac_cv_type_unsigned_long_long_int=yes
+     if test "x${ac_cv_prog_cc_c99-no}" = xno; then
+       AC_LINK_IFELSE(
+         [_AC_TYPE_LONG_LONG_SNIPPET],
+         [],
+         [ac_cv_type_unsigned_long_long_int=no])
+     fi])
+  if test $ac_cv_type_unsigned_long_long_int = yes; then
+    AC_DEFINE([HAVE_UNSIGNED_LONG_LONG_INT], [1],
+      [Define to 1 if the system has the type 'unsigned long long int'.])
   fi
-
-  dnl HP-UX 11.11 defines mbstate_t only if _XOPEN_SOURCE is defined to 500,
-  dnl regardless of whether the flags -Ae or _D_HPUX_SOURCE=1 are already
-  dnl provided.
-  case "$host_os" in
-    hpux*)
-      AC_DEFINE([_XOPEN_SOURCE], [500],
-        [Define to 500 only on HP-UX.])
-      ;;
-  esac
-
-  AH_VERBATIM([__EXTENSIONS__],
-[/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
 ])
-  AC_CACHE_CHECK([whether it is safe to define __EXTENSIONS__],
-    [ac_cv_safe_to_define___extensions__],
-    [AC_COMPILE_IFELSE(
-       [AC_LANG_PROGRAM([[
-#         define __EXTENSIONS__ 1
-          ]AC_INCLUDES_DEFAULT])],
-       [ac_cv_safe_to_define___extensions__=yes],
-       [ac_cv_safe_to_define___extensions__=no])])
-  test $ac_cv_safe_to_define___extensions__ = yes &&
-    AC_DEFINE([__EXTENSIONS__])
-  AC_DEFINE([_ALL_SOURCE])
-  AC_DEFINE([_GNU_SOURCE])
-  AC_DEFINE([_POSIX_PTHREAD_SEMANTICS])
-  AC_DEFINE([_TANDEM_SOURCE])
-])# AC_USE_SYSTEM_EXTENSIONS
 
-# gl_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-AC_DEFUN_ONCE([gl_USE_SYSTEM_EXTENSIONS],
+# Expands to a C program that can be used to test for simultaneous support
+# of 'long long' and 'unsigned long long'. We don't want to say that
+# 'long long' is available if 'unsigned long long' is not, or vice versa,
+# because too many programs rely on the symmetry between signed and unsigned
+# integer types (excluding 'bool').
+AC_DEFUN([_AC_TYPE_LONG_LONG_SNIPPET],
 [
-  dnl Require this macro before AC_USE_SYSTEM_EXTENSIONS.
-  dnl gnulib does not need it. But if it gets required by third-party macros
-  dnl after AC_USE_SYSTEM_EXTENSIONS is required, autoconf 2.62..2.63 emit a
-  dnl warning: "AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS".
-  dnl Note: We can do this only for one of the macros AC_AIX, AC_GNU_SOURCE,
-  dnl AC_MINIX. If people still use AC_AIX or AC_MINIX, they are out of luck.
-  AC_REQUIRE([AC_GNU_SOURCE])
-
-  AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
+  AC_LANG_PROGRAM(
+    [[/* For now, do not test the preprocessor; as of 2007 there are too many
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
+      /* Test literals.  */
+      long long int ll = 9223372036854775807ll;
+      long long int nll = -9223372036854775807LL;
+      unsigned long long int ull = 18446744073709551615ULL;
+      /* Test constant expressions.   */
+      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
+                     ? 1 : -1)];
+      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
+                     ? 1 : -1)];
+      int i = 63;]],
+    [[/* Test availability of runtime routines for shift and division.  */
+      long long int llmax = 9223372036854775807ll;
+      unsigned long long int ullmax = 18446744073709551615ull;
+      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));]])
 ])
 
-# Copyright (C) 2002-2014 Free Software Foundation, Inc.
+# Copyright (C) 2002-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -154,7 +149,7 @@
 [am__api_version='1.15'
 dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
 dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.15], [],
+m4_if([$1], [1.15.1], [],
       [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
 ])
 
@@ -170,12 +165,12 @@
 # Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
 # This function is AC_REQUIREd by AM_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.15])dnl
+[AM_AUTOMAKE_VERSION([1.15.1])dnl
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
 _AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
 
-# Copyright (C) 2011-2014 Free Software Foundation, Inc.
+# Copyright (C) 2011-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -237,7 +232,7 @@
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -289,7 +284,7 @@
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -320,7 +315,7 @@
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -511,7 +506,7 @@
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -587,7 +582,7 @@
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -784,7 +779,7 @@
 done
 echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -805,7 +800,7 @@
 fi
 AC_SUBST([install_sh])])
 
-# Copyright (C) 2003-2014 Free Software Foundation, Inc.
+# Copyright (C) 2003-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -826,7 +821,7 @@
 
 # Check to see how 'make' treats includes.	            -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -876,7 +871,7 @@
 
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -915,7 +910,7 @@
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -944,7 +939,7 @@
 AC_DEFUN([_AM_IF_OPTION],
 [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -991,7 +986,7 @@
 # For backward compatibility.
 AC_DEFUN_ONCE([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC])])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1010,7 +1005,7 @@
 
 # Check to make sure that the build environment is sane.    -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1091,7 +1086,7 @@
 rm -f conftest.file
 ])
 
-# Copyright (C) 2009-2014 Free Software Foundation, Inc.
+# Copyright (C) 2009-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1151,7 +1146,7 @@
 _AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
 ])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1179,7 +1174,7 @@
 INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006-2014 Free Software Foundation, Inc.
+# Copyright (C) 2006-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1198,7 +1193,7 @@
 
 # Check how to create a tarball.                            -*- Autoconf -*-
 
-# Copyright (C) 2004-2014 Free Software Foundation, Inc.
+# Copyright (C) 2004-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/adjtimed/Makefile.in.orig
+++ contrib/ntp/adjtimed/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/build.orig
+++ contrib/ntp/build
@@ -52,7 +52,7 @@
 case "$NTP_BDIR" in
  '')
     case "$IAM" in
-     *.ntp.org)
+     *.ntp.org | *.ntfo.org)
 	NTP_BDIR=host
 	;;
      *.udel.edu)
--- contrib/ntp/clockstuff/Makefile.in.orig
+++ contrib/ntp/clockstuff/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/config.h.in.orig
+++ contrib/ntp/config.h.in
@@ -296,6 +296,9 @@
 /* use old autokey session key behavior? */
 #undef DISABLE_BUG1243_FIX
 
+/* use old autokey session key behavior? */
+#undef DISABLE_BUG3527_FIX
+
 /* synch TODR hourly? */
 #undef DOSYNCTODR
 
@@ -311,6 +314,9 @@
 /* Provide the explicit 127.0.0.0/8 martian filter? */
 #undef ENABLE_BUG3020_FIX
 
+/* Enable CMAC support? */
+#undef ENABLE_CMAC
+
 /* nls support in libopts */
 #undef ENABLE_NLS
 
@@ -372,6 +378,14 @@
 /* Define to 1 if you have the `daemon' function. */
 #undef HAVE_DAEMON
 
+/* Define to 1 if you have the declaration of `siglongjmp', and to 0 if you
+   don't. */
+#undef HAVE_DECL_SIGLONGJMP
+
+/* Define to 1 if you have the declaration of `sigsetjmp', and to 0 if you
+   don't. */
+#undef HAVE_DECL_SIGSETJMP
+
 /* Define to 1 if you have the declaration of `strerror_r', and to 0 if you
    don't. */
 #undef HAVE_DECL_STRERROR_R
@@ -539,7 +553,7 @@
 /* Define to 1 if the system has the type `long long'. */
 #undef HAVE_LONG_LONG
 
-/* Define to 1 if the system has the type `long long int'. */
+/* Define to 1 if the system has the type 'long long int'. */
 #undef HAVE_LONG_LONG_INT
 
 /* if you have SunOS LWP package */
@@ -653,6 +667,12 @@
 /* if you have NT Threads */
 #undef HAVE_NT_THREADS
 
+/* Define to 1 if you have the <openssl/cmac.h> header file. */
+#undef HAVE_OPENSSL_CMAC_H
+
+/* Define to 1 if you have the <openssl/hmac.h> header file. */
+#undef HAVE_OPENSSL_HMAC_H
+
 /* Define to 1 if the system has the type `pid_t'. */
 #undef HAVE_PID_T
 
@@ -957,6 +977,9 @@
 /* Define to 1 if you have the <sys/lock.h> header file. */
 #undef HAVE_SYS_LOCK_H
 
+/* Define to 1 if you have the <sys/mac.h> header file. */
+#undef HAVE_SYS_MAC_H
+
 /* Define to 1 if you have the <sys/mman.h> header file. */
 #undef HAVE_SYS_MMAN_H
 
@@ -1117,6 +1140,9 @@
 /* Do we have the TIO serial stuff? */
 #undef HAVE_TIO_SERIAL_STUFF
 
+/* Are TrustedBSD MAC policy privileges available? */
+#undef HAVE_TRUSTEDBSD_MAC
+
 /* Define to 1 if the system has the type `uint16_t'. */
 #undef HAVE_UINT16_T
 
@@ -1147,7 +1173,7 @@
 /* deviant sigwait? */
 #undef HAVE_UNIXWARE_SIGWAIT
 
-/* Define to 1 if the system has the type `unsigned long long int'. */
+/* Define to 1 if the system has the type 'unsigned long long int'. */
 #undef HAVE_UNSIGNED_LONG_LONG_INT
 
 /* Define to 1 if you have the `updwtmp' function. */
@@ -1588,6 +1614,28 @@
 /* OK to use snprintb()? */
 #undef USE_SNPRINTB
 
+/* Enable extensions on AIX 3, Interix.  */
+#ifndef _ALL_SOURCE
+# undef _ALL_SOURCE
+#endif
+/* Enable GNU extensions on systems that have them.  */
+#ifndef _GNU_SOURCE
+# undef _GNU_SOURCE
+#endif
+/* Enable threading extensions on Solaris.  */
+#ifndef _POSIX_PTHREAD_SEMANTICS
+# undef _POSIX_PTHREAD_SEMANTICS
+#endif
+/* Enable extensions on HP NonStop.  */
+#ifndef _TANDEM_SOURCE
+# undef _TANDEM_SOURCE
+#endif
+/* Enable general extensions on Solaris.  */
+#ifndef __EXTENSIONS__
+# undef __EXTENSIONS__
+#endif
+
+
 /* Can we use SIGPOLL for tty IO? */
 #undef USE_TTY_SIGPOLL
 
@@ -1640,9 +1688,6 @@
 /* enable thread safety */
 #undef _THREAD_SAFE
 
-/* Define to 500 only on HP-UX. */
-#undef _XOPEN_SOURCE
-
 /* Are we _special_? */
 #undef __APPLE_USE_RFC_3542
 
@@ -1651,28 +1696,6 @@
 # undef __CHAR_UNSIGNED__
 #endif
 
-/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
-
-
 /* deviant */
 #undef adjtimex
 
--- contrib/ntp/configure.orig
+++ contrib/ntp/configure
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for ntp 4.2.8p11.
+# Generated by GNU Autoconf 2.69 for ntp 4.2.8p13.
 #
 # Report bugs to <http://bugs.ntp.org./>.
 #
@@ -590,8 +590,8 @@
 # Identity of this package.
 PACKAGE_NAME='ntp'
 PACKAGE_TARNAME='ntp'
-PACKAGE_VERSION='4.2.8p11'
-PACKAGE_STRING='ntp 4.2.8p11'
+PACKAGE_VERSION='4.2.8p13'
+PACKAGE_STRING='ntp 4.2.8p13'
 PACKAGE_BUGREPORT='http://bugs.ntp.org./'
 PACKAGE_URL='http://www.ntp.org./'
 
@@ -968,6 +968,8 @@
 enable_clockctl
 enable_linuxcaps
 enable_solarisprivs
+enable_trustedbsd_mac
+enable_signalled_io
 with_arlib
 with_net_snmp_config
 enable_libseccomp
@@ -1050,6 +1052,7 @@
 enable_kernel_fll_bug
 enable_bug1243_fix
 enable_bug3020_fix
+enable_bug3527_fix
 enable_irig_sawtooth
 enable_nist
 enable_ntp_signd
@@ -1614,7 +1617,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures ntp 4.2.8p11 to adapt to many kinds of systems.
+\`configure' configures ntp 4.2.8p13 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1684,7 +1687,7 @@
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of ntp 4.2.8p11:";;
+     short | recursive ) echo "Configuration of ntp 4.2.8p13:";;
    esac
   cat <<\_ACEOF
 
@@ -1731,6 +1734,9 @@
   --enable-clockctl       s Use /dev/clockctl for non-root clock control
   --enable-linuxcaps      + Use Linux capabilities for non-root clock control
   --enable-solarisprivs   + Use Solaris privileges for non-root clock control
+  --enable-trustedbsd-mac s Use TrustedBSD MAC policy for non-root clock
+                          control
+  --enable-signalled-io   s Use signalled IO if we can
   --with-arlib            - deprecated, arlib not distributed
   --with-net-snmp-config  + =net-snmp-config
   --enable-libseccomp     EXPERIMENTAL: enable support for libseccomp
@@ -1823,6 +1829,7 @@
   --enable-kernel-fll-bug s if we should avoid a kernel FLL bug
   --enable-bug1243-fix    + use unmodified autokey session keys
   --enable-bug3020-fix    + Provide the explicit 127.0.0.0/8 martian filter
+  --enable-bug3527-fix    + provide correct mode7 fudgetime2 behavior
   --enable-irig-sawtooth  s if we should enable the IRIG sawtooth filter
   --enable-nist           - if we should enable the NIST lockclock scheme
   --enable-ntp-signd      - Provide support for Samba's signing daemon,
@@ -1923,7 +1930,7 @@
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-ntp configure 4.2.8p11
+ntp configure 4.2.8p13
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
@@ -2632,7 +2639,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by ntp $as_me 4.2.8p11, which was
+It was created by ntp $as_me 4.2.8p13, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
@@ -3633,7 +3640,7 @@
 
 # Define the identity of the package.
  PACKAGE='ntp'
- VERSION='4.2.8p11'
+ VERSION='4.2.8p13'
 
 
 cat >>confdefs.h <<_ACEOF
@@ -5113,8 +5120,6 @@
 
 
 
-
-
   ac_fn_c_check_header_mongrel "$LINENO" "minix/config.h" "ac_cv_header_minix_config_h" "$ac_includes_default"
 if test "x$ac_cv_header_minix_config_h" = xyes; then :
   MINIX=yes
@@ -5135,15 +5140,7 @@
 
   fi
 
-        case "$host_os" in
-    hpux*)
 
-$as_echo "#define _XOPEN_SOURCE 500" >>confdefs.h
-
-      ;;
-  esac
-
-
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
 $as_echo_n "checking whether it is safe to define __EXTENSIONS__... " >&6; }
 if ${ac_cv_safe_to_define___extensions__+:} false; then :
@@ -16090,9 +16087,9 @@
 /* end confdefs.h.  */
 
   /* For now, do not test the preprocessor; as of 2007 there are too many
-	 implementations with broken preprocessors.  Perhaps this can
-	 be revisited in 2012.  In the meantime, code should not expect
-	 #if to work with literals wider than 32 bits.  */
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
       /* Test literals.  */
       long long int ll = 9223372036854775807ll;
       long long int nll = -9223372036854775807LL;
@@ -16099,9 +16096,9 @@
       unsigned long long int ull = 18446744073709551615ULL;
       /* Test constant expressions.   */
       typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       int i = 63;
 int
 main ()
@@ -16110,9 +16107,9 @@
       long long int llmax = 9223372036854775807ll;
       unsigned long long int ullmax = 18446744073709551615ull;
       return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
-	      | (llmax / ll) | (llmax % ll)
-	      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
-	      | (ullmax / ull) | (ullmax % ull));
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));
   ;
   return 0;
 }
@@ -16300,33 +16297,33 @@
 else
   ac_cv_type_long_long_int=yes
       if test "x${ac_cv_prog_cc_c99-no}" = xno; then
-	ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
-	if test $ac_cv_type_long_long_int = yes; then
-	  	  	  	  if test "$cross_compiling" = yes; then :
+        ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
+        if test $ac_cv_type_long_long_int = yes; then
+                                        if test "$cross_compiling" = yes; then :
   :
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <limits.h>
-		 #ifndef LLONG_MAX
-		 # define HALF \
-			  (1LL << (sizeof (long long int) * CHAR_BIT - 2))
-		 # define LLONG_MAX (HALF - 1 + HALF)
-		 #endif
+                 #ifndef LLONG_MAX
+                 # define HALF \
+                          (1LL << (sizeof (long long int) * CHAR_BIT - 2))
+                 # define LLONG_MAX (HALF - 1 + HALF)
+                 #endif
 int
 main ()
 {
 long long int n = 1;
-		 int i;
-		 for (i = 0; ; i++)
-		   {
-		     long long int m = n << i;
-		     if (m >> i != n)
-		       return 1;
-		     if (LLONG_MAX / 2 < m)
-		       break;
-		   }
-		 return 0;
+                 int i;
+                 for (i = 0; ; i++)
+                   {
+                     long long int m = n << i;
+                     if (m >> i != n)
+                       return 1;
+                     if (LLONG_MAX / 2 < m)
+                       break;
+                   }
+                 return 0;
   ;
   return 0;
 }
@@ -16340,7 +16337,7 @@
   conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 
-	fi
+        fi
       fi
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_long_long_int" >&5
@@ -16363,9 +16360,9 @@
 /* end confdefs.h.  */
 
   /* For now, do not test the preprocessor; as of 2007 there are too many
-	 implementations with broken preprocessors.  Perhaps this can
-	 be revisited in 2012.  In the meantime, code should not expect
-	 #if to work with literals wider than 32 bits.  */
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
       /* Test literals.  */
       long long int ll = 9223372036854775807ll;
       long long int nll = -9223372036854775807LL;
@@ -16372,9 +16369,9 @@
       unsigned long long int ull = 18446744073709551615ULL;
       /* Test constant expressions.   */
       typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       int i = 63;
 int
 main ()
@@ -16383,9 +16380,9 @@
       long long int llmax = 9223372036854775807ll;
       unsigned long long int ullmax = 18446744073709551615ull;
       return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
-	      | (llmax / ll) | (llmax % ll)
-	      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
-	      | (ullmax / ull) | (ullmax % ull));
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));
   ;
   return 0;
 }
@@ -24021,12 +24018,51 @@
 
 $as_echo "#define HAVE_SOLARIS_PRIVS 1" >>confdefs.h
 
+    ;;
+ '') ntp_have_solarisprivs="no"
+    ;;
 esac
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ntp_have_solarisprivs" >&5
 $as_echo "$ntp_have_solarisprivs" >&6; }
 
-case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs" in
+for ac_header in sys/mac.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "sys/mac.h" "ac_cv_header_sys_mac_h" "$ac_includes_default"
+if test "x$ac_cv_header_sys_mac_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_SYS_MAC_H 1
+_ACEOF
+
+fi
+
+done
+
+
+# Check whether --enable-trustedbsd_mac was given.
+if test "${enable_trustedbsd_mac+set}" = set; then :
+  enableval=$enable_trustedbsd_mac; ntp_use_trustedbsd_mac=$enableval
+
+fi
+
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should use TrustedBSD MAC privileges" >&5
+$as_echo_n "checking if we should use TrustedBSD MAC privileges... " >&6; }
+
+case "$ntp_use_trustedbsd_mac$ac_cv_header_sys_mac_h" in
+ yesyes)
+
+$as_echo "#define HAVE_TRUSTEDBSD_MAC 1" >>confdefs.h
+
+    ;;
+ *) ntp_use_trustedbsd_mac="no";
+    ;;
+esac
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ntp_use_trustedbsd_mac" >&5
+$as_echo "$ntp_use_trustedbsd_mac" >&6; }
+
+case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs$ntp_use_trustedbsd_mac" in
  *yes*)
 
 $as_echo "#define HAVE_DROPROOT 1" >>confdefs.h
@@ -24540,6 +24576,16 @@
 done
 
 
+# HMS: does this need to be a cached variable?
+# Check whether --enable-signalled-io was given.
+if test "${enable_signalled_io+set}" = set; then :
+  enableval=$enable_signalled_io; use_signalled_io=$enableval
+else
+  use_signalled_io=yes
+
+fi
+
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SIGIO" >&5
 $as_echo_n "checking for SIGIO... " >&6; }
 if ${ntp_cv_hdr_def_sigio+:} false; then :
@@ -24614,13 +24660,24 @@
 	ans=no
 	;;
     esac
+    case "$ans" in
+     no)
+	ans="Possible for $host but disabled because of reported problems"
+	;;
+    esac
     ;;
 esac
 case "$ans" in
  yes)
+    case "$use_signalled_io" in
+     yes)
 
 $as_echo "#define HAVE_SIGNALED_IO 1" >>confdefs.h
 
+	;;
+     *) ans="Allowed for $host but --disable-signalled-io was given"
+	;;
+    esac
 esac
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ans" >&5
 $as_echo "$ans" >&6; }
@@ -28627,6 +28684,62 @@
 
 $as_echo "#define CLOCK_BANC 1" >>confdefs.h
 
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing bcStartPci" >&5
+$as_echo_n "checking for library containing bcStartPci... " >&6; }
+if ${ac_cv_search_bcStartPci+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_func_search_save_LIBS=$LIBS
+cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+/* Override any GCC internal prototype to avoid an error.
+   Use char because int might match the return type of a GCC
+   builtin and then its argument prototype would still apply.  */
+#ifdef __cplusplus
+extern "C"
+#endif
+char bcStartPci ();
+int
+main ()
+{
+return bcStartPci ();
+  ;
+  return 0;
+}
+_ACEOF
+for ac_lib in '' bcsdk; do
+  if test -z "$ac_lib"; then
+    ac_res="none required"
+  else
+    ac_res=-l$ac_lib
+    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  fi
+  if ac_fn_c_try_link "$LINENO"; then :
+  ac_cv_search_bcStartPci=$ac_res
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext
+  if ${ac_cv_search_bcStartPci+:} false; then :
+  break
+fi
+done
+if ${ac_cv_search_bcStartPci+:} false; then :
+
+else
+  ac_cv_search_bcStartPci=no
+fi
+rm conftest.$ac_ext
+LIBS=$ac_func_search_save_LIBS
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_bcStartPci" >&5
+$as_echo "$ac_cv_search_bcStartPci" >&6; }
+ac_res=$ac_cv_search_bcStartPci
+if test "$ac_res" != no; then :
+  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
+
+fi
+
     ;;
 esac
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ntp_ok" >&5
@@ -30311,7 +30424,20 @@
 
 case "$ntp_openssl" in
  yes)
+    for ac_header in openssl/cmac.h openssl/hmac.h
+do :
+  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
+ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
+  cat >>confdefs.h <<_ACEOF
+#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
+fi
+
+done
+
+
 $as_echo "#define OPENSSL /**/" >>confdefs.h
 
     case "$VER_SUFFIX" in
@@ -30534,9 +30660,24 @@
 { ntp_openssl_from_pkg_config=; unset ntp_openssl_from_pkg_config;}
 
 
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we want to enable CMAC support" >&5
+$as_echo_n "checking if we want to enable CMAC support... " >&6; }
+case "$ac_cv_header_openssl_cmac_h" in
+ yes)
 
+$as_echo "#define ENABLE_CMAC 1" >>confdefs.h
 
+    ans="yes"
+    ;;
+ *) ans="no"
+    ;;
+esac
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ans" >&5
+$as_echo "$ans" >&6; }
 
+
+
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if we want to use OpenSSL's crypto random (if available)" >&5
 $as_echo_n "checking if we want to use OpenSSL's crypto random (if available)... " >&6; }
 # Check whether --enable-openssl-random was given.
@@ -31935,6 +32076,26 @@
 esac
 
 
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we want correct mode7 fudgetime2 behavior" >&5
+$as_echo_n "checking if we want correct mode7 fudgetime2 behavior... " >&6; }
+# Check whether --enable-bug3527-fix was given.
+if test "${enable_bug3527_fix+set}" = set; then :
+  enableval=$enable_bug3527_fix; ans=$enableval
+else
+  ans=yes
+
+fi
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ans" >&5
+$as_echo "$ans" >&6; }
+case "$ans" in
+ no)
+
+$as_echo "#define DISABLE_BUG3527_FIX 1" >>confdefs.h
+
+esac
+
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should use the IRIG sawtooth filter" >&5
 $as_echo_n "checking if we should use the IRIG sawtooth filter... " >&6; }
 
@@ -33223,7 +33384,33 @@
 
 ###
 
+ac_fn_c_check_decl "$LINENO" "sigsetjmp" "ac_cv_have_decl_sigsetjmp" "#include <setjmp.h>
+"
+if test "x$ac_cv_have_decl_sigsetjmp" = xyes; then :
+  ac_have_decl=1
+else
+  ac_have_decl=0
+fi
 
+cat >>confdefs.h <<_ACEOF
+#define HAVE_DECL_SIGSETJMP $ac_have_decl
+_ACEOF
+ac_fn_c_check_decl "$LINENO" "siglongjmp" "ac_cv_have_decl_siglongjmp" "#include <setjmp.h>
+"
+if test "x$ac_cv_have_decl_siglongjmp" = xyes; then :
+  ac_have_decl=1
+else
+  ac_have_decl=0
+fi
+
+cat >>confdefs.h <<_ACEOF
+#define HAVE_DECL_SIGLONGJMP $ac_have_decl
+_ACEOF
+
+
+###
+
+
   prefix_NONE=
   exec_prefix_NONE=
   test "x$prefix" = xNONE && prefix_NONE=yes && prefix=$ac_default_prefix
@@ -33964,7 +34151,7 @@
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by ntp $as_me 4.2.8p11, which was
+This file was extended by ntp $as_me 4.2.8p13, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -34031,7 +34218,7 @@
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-ntp config.status 4.2.8p11
+ntp config.status 4.2.8p13
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
--- contrib/ntp/configure.ac.orig
+++ contrib/ntp/configure.ac
@@ -1749,6 +1749,7 @@
  yes)
     ntp_refclock=yes
     AC_DEFINE([CLOCK_BANC], [1], [Datum/Bancomm bc635/VME interface?])
+    AC_SEARCH_LIBS([bcStartPci], [bcsdk], , , [])
     ;;
 esac
 AC_MSG_RESULT([$ntp_ok])
@@ -3014,6 +3015,17 @@
 
 NTP_OPENSSL
 
+AC_MSG_CHECKING([if we want to enable CMAC support])
+case "$ac_cv_header_openssl_cmac_h" in
+ yes)
+    AC_DEFINE([ENABLE_CMAC], [1], [Enable CMAC support?])
+    ans="yes"
+    ;;
+ *) ans="no"
+    ;;
+esac
+AC_MSG_RESULT([$ans])
+
 NTP_CRYPTO_RAND
 
 # if we are using OpenSSL (--with-crypto), by default Autokey is enabled
@@ -4183,6 +4195,24 @@
 esac
 
 
+AC_MSG_CHECKING([if we want correct mode7 fudgetime2 behavior])
+AC_ARG_ENABLE(
+    [bug3527-fix],
+    [AS_HELP_STRING(
+	[--enable-bug3527-fix],
+	[+ provide correct mode7 fudgetime2 behavior]
+    )],
+    [ans=$enableval],
+    [ans=yes]
+)
+AC_MSG_RESULT([$ans])
+case "$ans" in
+ no)
+    AC_DEFINE([DISABLE_BUG3527_FIX], [1],
+	[use old autokey session key behavior?])
+esac
+
+
 AC_MSG_CHECKING([if we should use the IRIG sawtooth filter])
 
 case "$host" in
@@ -4380,6 +4410,10 @@
 
 ###
 
+AC_CHECK_DECLS([sigsetjmp,siglongjmp], [], [], [[#include <setjmp.h>]])
+
+###
+
 AC_DEFINE_DIR([NTP_KEYSDIR], [sysconfdir],
     [Default location of crypto key info])
 
--- contrib/ntp/html/authentic.html.orig
+++ contrib/ntp/html/authentic.html
@@ -1,91 +1,223 @@
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html>
-<head>
-<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
-<meta name="generator" content="HTML Tidy, see www.w3.org">
-<title>Authentication Support</title>
-<link href="scripts/style.css" type="text/css" rel="stylesheet">
-<style type="text/css">
-<!--
-<style1 {
-color: #FF0000;
- font-weight: bold;
-}
-.style1 {color: #FF0000}
--->
-</style>
-</head>
-<body>
-<h3>Authentication Support</h3>
-<img src="pic/alice44.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/%7emills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a>
-<p>Our resident cryptographer; now you see him, now you don't.</p>
-<p>Last update:
-  <!-- #BeginDate format:En2m -->5-Feb-2016  09:13<!-- #EndDate -->
-  UTC</p>
-<br clear="left">
-<h4>Related Links</h4>
-<script type="text/javascript" language="javascript" src="scripts/hand.txt"></script>
-<script type="text/javascript" language="javascript" src="scripts/authopt.txt"></script>
-<h4>Table of Contents</h4>
-<ul>
-  <li class="inline"><a href="#auth">Introduction</a></li>
-  <li class="inline"><a href="#symm">Symmetric Key Cryptography</a></li>
-  <li class="inline"><a href="#windows">Microsoft Windows Authentication</a></li>
-  <li class="inline"><a href="#pub">Public Key Cryptography</a></li>
-</ul>
-<hr>
-<h4 id="auth">Introduction</h4>
-<p>This page describes the various cryptographic authentication provisions in NTPv4.  Authentication support allows the NTP client to verify that servers are in fact known and trusted and not intruders intending accidentally or intentionally to masquerade as a legitimate server.  A detailed discussion of the NTP multi-layer security model and vulnerability analysis is in the white paper <a href="http://www.eecis.udel.edu/~mills/security.html">NTP Security Analysis</a>.</p>
-<p> The NTPv3 specification (RFC-1305) defined an authentication scheme properly described as <em>symmetric key cryptography</em>.  It used the Data Encryption Standard (DES) algorithm operating in cipher-block chaining (CBC) mode.  Subsequently, this algorithm was replaced by the RSA Message Digest 5 (MD5) algorithm commonly called keyed-MD5.  Either algorithm computes a message digest or one-way hash which can be used to verify the client has the same message digest as the server.  The MD5 message digest algorithm is included in the distribution, so without further cryptographic support, the distribution can be freely exported.</p>
-<p>If the OpenSSL cryptographic library is installed prior to building the distribution, all message digest algorithms included in the library may be used, including SHA and SHA1.  However, if conformance to FIPS 140-2 is required, only a limited subset of these algorithms can be used.  This library is available from <a href="http://www.openssl.org">http://www.openssl.org</a> and can be installed using the procedures outlined in the <a href="build.html">Building and Installing the Distribution</a> page.  Once installed, the configure and build process automatically detects the library and links the library routines
-required.</p>
-<p>In addition to the symmetric key algorithms, this distribution includes support for the Autokey public key algorithms and protocol specified in RFC-5906 &quot;Network Time Protocol Version 4: Autokey Specification&quot;.  This support is available only if the OpenSSL library has been installed and the <tt>--enable-autokey</tt> option is used when the distribution is built.</p>
-<p> Public key cryptography is generally considered more secure than symmetric key cryptography, since the security is based on private and public values which are generated by each participant and where the private value is never revealed.  Autokey uses X.509 public certificates, which can be produced by commercial services, the OpenSSL application program, or the <a href="keygen.html"><tt>ntp-keygen</tt></a> utility program in the NTP software distribution.</p>
-<p>Note that according to US law, NTP binaries including OpenSSL library components, including the OpenSSL library itself, cannot be exported outside the US without license from the US Department of Commerce.  Builders outside the US are advised to obtain the OpenSSL library directly from OpenSSL, which is outside the US, and build outside the US.</p>
-<p>Authentication is configured separately for each association using the <tt>key</tt> or <tt>autokey</tt> option of the <tt>server</tt> configuration command, as described in the <a href="confopt.html">Server Options</a> page.  The <a href="keygen.html">ntp-keygen</a> page describes the files required for the various authentication schemes.  Further details are in the briefings, papers and reports at the NTP project page linked from <a href="http://www.ntp.org">www.ntp.org</a>.</p>
-<p>By default, the client sends non-authenticated packets and the server responds with non-authenticated packets.  If the client sends authenticated packets, the server responds with authenticated packets if correct, or a crypto-NAK packet if not.  In the case of unsolicited packets which might consume significant resources, such as broadcast or symmetric mode packets, authentication is required, unless overridden by a <tt>disable auth</tt> command.  In the current climate of targeted broadcast or &quot;letterbomb&quot; attacks, defeating this requirement would be decidedly dangerous.  In any case, the <tt>notrust </tt>flag, described on the <a href="authopt.html">Access Control Options</a> page, can be used to disable access to all but correctly authenticated clients.</p>
-<h4 id="symm">Symmetric Key Cryptography</h4>
-<p>The original NTPv3 specification (RFC-1305), as well as the current NTPv4 specification (RFC-5905), allows any one of possibly 65,534 message digest keys (excluding zero), each distinguished by a 32-bit key ID, to authenticate an association.  The servers and clients involved must agree on the key ID, key type and key to authenticate NTP packets.</p>
-<p>The message digest is a cryptographic hash computed by an algorithm such as MD5, SHA, or AES-128 CMAC.  When authentication is specified, a message authentication code (MAC) is appended to the NTP packet header.  The MAC consists of a 32-bit key identifier (key ID) followed by a 128- or 160-bit message digest.  The algorithm computes the digest as the hash of a 128- or 160- bit message digest key concatenated with the NTP packet header fields with the exception of the MAC.  On transmit, the message digest is computed and inserted in the MAC.  On receive, the message digest is computed and compared with the MAC.  The packet is accepted only if the two MACs are identical.  If a discrepancy is found by the client, the client ignores the packet, but raises an alarm.  If this happens at the server, the server returns a special message called a <em>crypto-NAK</em>.  Since the crypto-NAK is protected by the loopback test, an intruder cannot disrupt the protocol by sending a bogus crypto-NAK.</p>
-<p>Keys and related information are specified in a keys file, which must be distributed and stored using secure means beyond the scope of the NTP protocol itself.  Besides the keys used for ordinary NTP associations, additional keys can be used as passwords for the <tt><a href="ntpq.html">ntpq</a></tt> and <tt><a href="ntpdc.html">ntpdc</a></tt> utility programs.  Ordinarily, the <tt>ntp.keys</tt> file is generated by the <tt><a href="keygen.html">ntp-keygen</a></tt> program, but it can be constructed and edited using an ordinary text editor.</p>
-<p> Each line of the keys file consists of three or four fields: a key ID in the range 1 to 65,534, inclusive, a key type, a message digest key consisting of a printable ASCII string less than 40 characters or a 40-character hex digit string, and an optional comma-separated list of IPs that are allowed to serve time.  If the OpenSSL library is installed, the key type can be any message digest algorithm supported by the library.  If the OpenSSL library is not installed, the only permitted key type is MD5.</p>
-<table>
-  <caption style="caption-side: bottom;">
-    Figure 1. Typical Symmetric Key File
-  </caption>
-  <tr><td style="border: 1px solid black; border-spacing: 0;">
-	<pre style="color:grey;">
-# ntpkey_MD5key_bk.ntp.org.3595864945
-# Thu Dec 12 19:22:25 2013
+  <head>
+    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
+    <meta name="generator" content="HTML Tidy, see www.w3.org">
+    <title>Authentication Support</title>
+    <!-- Changed by: Harlan Stenn, 24-Jul-2018 -->
+    <link href="scripts/style.css" type="text/css" rel="stylesheet">
+    <style type="text/css">
+      <!--
+	  <style1 {
+		  color: #FF0000;
+		  font-weight: bold;
+		  }
+		  .style1 {color: #FF0000}
+		  -->
+    </style>
+  </head>
+  <body>
+    <h3>Authentication Support</h3>
+    <img src="pic/alice44.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/%7emills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a>
+    <p>Our resident cryptographer; now you see him, now you don't.</p>
+    <p>Last update:
+      <!-- #BeginDate format:En2m -->24-Jul-2018  09:12<!-- #EndDate -->
+      UTC</p>
+    <br clear="left">
+    <h4>Related Links</h4>
+    <script type="text/javascript" language="javascript" src="scripts/hand.txt"></script>
+    <script type="text/javascript" language="javascript" src="scripts/authopt.txt"></script>
+    <h4>Table of Contents</h4>
+    <ul>
+      <li class="inline"><a href="#auth">Introduction</a></li>
+      <li class="inline"><a href="#symm">Symmetric Key Cryptography</a></li>
+      <li class="inline"><a href="#windows">Microsoft Windows Authentication</a></li>
+      <li class="inline"><a href="#pub">Public Key Cryptography</a></li>
+    </ul>
+    <hr>
+    <h4 id="auth">Introduction</h4>
+    <p>This page describes the various cryptographic authentication
+      provisions in NTPv4.  Authentication support allows the NTP client to
+      verify that servers are in fact known and trusted and not intruders
+      intending accidentally or intentionally to masquerade as a legitimate
+      server.  A detailed discussion of the NTP multi-layer security model
+      and vulnerability analysis is in the white
+      paper <a href="http://www.eecis.udel.edu/~mills/security.html">NTP
+      Security Analysis</a>.</p>
+    <p>The NTPv3 specification (RFC-1305) defined an authentication scheme
+      properly described as <em>symmetric key cryptography</em>.  It used
+      the Data Encryption Standard (DES) algorithm operating in cipher-block
+      chaining (CBC) mode.  Subsequently, this algorithm was replaced by the
+      RSA Message Digest 5 (MD5) algorithm commonly called keyed-MD5.
+      Either algorithm computes a message digest or one-way hash which can
+      be used to verify the client has the same message digest as the
+      server.  The MD5 message digest algorithm is included in the
+      distribution, so without further cryptographic support, the
+      distribution can be freely exported.</p>
+    <p>If the OpenSSL cryptographic library is installed prior to building
+      the distribution, all message digest algorithms included in the
+      library may be used, including SHA and SHA1.  However, if conformance
+      to FIPS 140-2 is required, only a limited subset of these algorithms
+      can be used.  This library is available
+      from <a href="http://www.openssl.org">http://www.openssl.org</a> and
+      can be installed using the procedures outlined in
+      the <a href="build.html">Building and Installing the Distribution</a>
+      page.  Once installed, the configure and build process automatically
+      detects the library and links the library routines required.</p>
+    <p>In addition to the symmetric key algorithms, this distribution
+      includes support for the Autokey public key algorithms and protocol
+      specified in RFC-5906 &quot;Network Time Protocol Version 4: Autokey
+      Specification&quot;.  This support is available only if the OpenSSL
+      library has been installed and the <tt>--enable-autokey</tt> option is
+      used when the distribution is built.</p>
+    <p> Public key cryptography is generally considered more secure than
+      symmetric key cryptography, since the security is based on private and
+      public values which are generated by each participant and where the
+      private value is never revealed.  Autokey uses X.509 public
+      certificates, which can be produced by commercial services, the
+      OpenSSL application program, or
+      the <a href="keygen.html"><tt>ntp-keygen</tt></a> utility program in
+      the NTP software distribution.</p>
+    <p>Note that according to US law, NTP binaries including OpenSSL library
+      components, including the OpenSSL library itself, cannot be exported
+      outside the US without license from the US Department of Commerce.
+      Builders outside the US are advised to obtain the OpenSSL library
+      directly from OpenSSL, which is outside the US, and build outside the
+      US.</p>
+    <p>Authentication is configured separately for each association using
+      the <tt>key</tt> or <tt>autokey</tt> option of the <tt>server</tt>
+      configuration command, as described in
+      the <a href="confopt.html">Server Options</a> page.
+      The <a href="keygen.html">ntp-keygen</a> page describes the files
+      required for the various authentication schemes.  Further details are
+      in the briefings, papers and reports at the NTP project page linked
+      from <a href="http://www.ntp.org">www.ntp.org</a>.</p>
+    <p>By default, the client sends non-authenticated packets and the server
+      responds with non-authenticated packets.  If the client sends
+      authenticated packets, the server responds with authenticated packets
+      if correct, or a crypto-NAK packet if not.  In the case of unsolicited
+      packets which might consume significant resources, such as broadcast
+      or symmetric mode packets, authentication is required, unless
+      overridden by a <tt>disable auth</tt> command.  In the current climate
+      of targeted broadcast or &quot;letterbomb&quot; attacks, defeating
+      this requirement would be decidedly dangerous.  In any case,
+      the <tt>notrust </tt>flag, described on
+      the <a href="authopt.html">Access Control Options</a> page, can be
+      used to disable access to all but correctly authenticated clients.</p>
+    <h4 id="symm">Symmetric Key Cryptography</h4>
+    <p>The original NTPv3 specification (RFC-1305), as well as the current
+      NTPv4 specification (RFC-5905), allows any one of possibly 65,535
+      message digest keys (excluding zero), each distinguished by a 32-bit
+      key ID, to authenticate an association.  The servers and clients
+      involved must agree on the key ID, key type and key to authenticate
+      NTP packets.</p>
+    <p>The message digest is a cryptographic hash computed by an algorithm
+      such as MD5, SHA, or AES-128 CMAC.  When authentication is specified,
+      a message authentication code (MAC) is appended to the NTP packet
+      header.  The MAC consists of a 32-bit key identifier (key ID) followed
+      by a 128- or 160-bit message digest.  The algorithm computes the
+      digest as the hash of a 128- or 160- bit message digest key
+      concatenated with the NTP packet header fields with the exception of
+      the MAC.  On transmit, the message digest is computed and inserted in
+      the MAC.  On receive, the message digest is computed and compared with
+      the MAC.  The packet is accepted only if the two MACs are identical.
+      If a discrepancy is found by the client, the client ignores the
+      packet, but raises an alarm.  If this happens at the server, the
+      server returns a special message called a <em>crypto-NAK</em>.  Since
+      the crypto-NAK is protected by the loopback test, an intruder cannot
+      disrupt the protocol by sending a bogus crypto-NAK.</p>
+    <p>Keys and related information are specified in a keys file, which must
+      be distributed and stored using secure means beyond the scope of the
+      NTP protocol itself.  Besides the keys used for ordinary NTP
+      associations, additional keys can be used as passwords for
+      the <tt><a href="ntpq.html">ntpq</a></tt>
+      and <tt><a href="ntpdc.html">ntpdc</a></tt> utility programs.
+      Ordinarily, the <tt>ntp.keys</tt> file is generated by
+      the <tt><a href="keygen.html">ntp-keygen</a></tt> program, but it can
+      be constructed and edited using an ordinary text editor.</p>
+    <p> Each line of the keys file consists of three or four fields: a key
+      ID in the range 1 to 65,535, inclusive, a key type, a message digest
+      key consisting of a printable ASCII string less than 40 characters or
+      a 40-character hex digit string, and an optional comma-separated list
+      of IPs that are allowed to serve time.  If the OpenSSL library is
+      installed, the key type can be any message digest algorithm supported
+      by the library.  If the OpenSSL library is not installed, the only
+      permitted key type is MD5.</p>
+    <table>
+      <caption style="caption-side: bottom;">
+	Figure 1. Typical Symmetric Key File
+      </caption>
+      <tr><td style="border: 1px solid black; border-spacing: 0;">
+	  <pre style="color:grey;">
+	    # ntpkey_MD5key_bk.ntp.org.3595864945
+	    # Thu Dec 12 19:22:25 2013
 
-1  MD5 L";Nw&lt;`.I&lt;f4U0)247"i  # MD5 key
-2  MD5 &amp;&gt;l0%XXK9O'51VwV&lt;xq~  # MD5 key
-3  MD5 lb4zLW~d^!K:]RsD'qb6  # MD5 key
-4  MD5 Yue:tL[+vR)M`n~bY,'?  # MD5 key
-5  MD5 B;fxlKgr/&amp;4ZTbL6=RxA  # MD5 key
-6  MD5 4eYwa`o}3i@@V@..R9!l  # MD5 key
-7  MD5 `A.([h+;wTQ|xfi%Sn_!  # MD5 key
-8  MD5 45:V,r4]l6y^JH6"Sh?F  # MD5 key
-9  MD5 3-5vcn*6l29DS?Xdsg)*  # MD5 key
-10 MD5 2late4Me              # MD5 key
-11 SHA1 a27872d3030a9025b8446c751b4551a7629af65c  # SHA1 key
-12 SHA1 21bc3b4865dbb9e920902abdccb3e04ff97a5e74  # SHA1 key
-13 SHA1 2b7736fe24fef5ba85ae11594132ab5d6f6daba9  # SHA1 key
-14 SHA  a5332809c8878dd3a5b918819108a111509aeceb  # SHA  key
-15 MD2  2fe16c88c760ff2f16d4267e36c1aa6c926e6964  # MD2  key
-16 MD4  b2691811dc19cfc0e2f9bcacd74213f29812183d  # MD4  key
-17 MD5  e4d6735b8bdad58ec5ffcb087300a17f7fef1f7c  # MD5  key
-18 MDC2 a8d5e2315c025bf3a79174c87fbd10477de2eabc  # MDC2 key
-19 RIPEMD160 77ca332cafb30e3cafb174dcd5b80ded7ba9b3d2  # RIPEMD160 key
-20 AES128CMAC f92ff73eee86c1e7dc638d6489a04e4e555af878  # AES128CMAC key
-  </pre></td></tr></table>
-<p>Figure 1 shows a typical keys file used by the reference implementation when the OpenSSL library is installed.  In this figure, for key IDs in he range 1-10, the key is interpreted as a printable ASCII string.  For key IDs in the range 11-20, the key is a 40-character hex digit string.  The key is truncated or zero-filled internally to either 128 or 160 bits, depending on the key type.  The line can be edited later or new lines can be added to change any field.  The key can be changed to a password, such as <tt>2late4Me</tt> for key ID 10.  Note that two or more keys files can be combined in any order as long as the key IDs are distinct.</p>
-<p>When <tt>ntpd</tt> is started, it reads the keys file specified by the <tt>keys</tt> command and installs the keys in the key cache.  However, individual keys must be activated with the <tt>trustedkey</tt> configuration command before use.  This allows, for instance, the installation of possibly several batches of keys and then activating a key remotely using <tt>ntpq</tt> or <tt>ntpdc</tt>.  The <tt>requestkey</tt> command selects the key ID used as the password for the <tt>ntpdc</tt> utility, while the <tt>controlkey</tt> command selects the key ID used as the password for the <tt>ntpq</tt> utility.</p>
-<h4 id="windows">Microsoft Windows Authentication</h4>
-<p>In addition to the above means, <tt>ntpd</tt> now supports Microsoft Windows MS-SNTP authentication using Active Directory services.  This support was contributed by the Samba Team and is still in development.  It is enabled using the <tt>mssntp</tt> flag of the <tt>restrict</tt> command described on the <a href="accopt.html#restrict">Access Control Options</a> page.  <span class="style1">Note: Potential users should be aware that these services involve a TCP connection to another process that could potentially block, denying services to other users.  Therefore, this flag should be used only for a dedicated server with no clients other than MS-SNTP.</span></p>
-<h4 id="pub">Public Key Cryptography</h4>
-<p>See the <a href="autokey.html">Autokey Public-Key Authentication</a> page.</p>
-<hr>
-<script type="text/javascript" language="javascript" src="scripts/footer.txt"></script>
-</body>
+	    1  MD5 L";Nw&lt;`.I&lt;f4U0)247"i  # MD5 key
+	    2  MD5 &amp;&gt;l0%XXK9O'51VwV&lt;xq~  # MD5 key
+	    3  MD5 lb4zLW~d^!K:]RsD'qb6  # MD5 key
+	    4  MD5 Yue:tL[+vR)M`n~bY,'?  # MD5 key
+	    5  MD5 B;fxlKgr/&amp;4ZTbL6=RxA  # MD5 key
+	    6  MD5 4eYwa`o}3i@@V@..R9!l  # MD5 key
+	    7  MD5 `A.([h+;wTQ|xfi%Sn_!  # MD5 key
+	    8  MD5 45:V,r4]l6y^JH6"Sh?F  # MD5 key
+	    9  MD5 3-5vcn*6l29DS?Xdsg)*  # MD5 key
+	    10 MD5 2late4Me              # MD5 key
+	    11 SHA1 a27872d3030a9025b8446c751b4551a7629af65c  # SHA1 key
+	    12 SHA1 21bc3b4865dbb9e920902abdccb3e04ff97a5e74  # SHA1 key
+	    13 SHA1 2b7736fe24fef5ba85ae11594132ab5d6f6daba9  # SHA1 key
+	    14 SHA  a5332809c8878dd3a5b918819108a111509aeceb  # SHA  key
+	    15 MD2  2fe16c88c760ff2f16d4267e36c1aa6c926e6964  # MD2  key
+	    16 MD4  b2691811dc19cfc0e2f9bcacd74213f29812183d  # MD4  key
+	    17 MD5  e4d6735b8bdad58ec5ffcb087300a17f7fef1f7c  # MD5  key
+	    18 MDC2 a8d5e2315c025bf3a79174c87fbd10477de2eabc  # MDC2 key
+	    19 RIPEMD160 77ca332cafb30e3cafb174dcd5b80ded7ba9b3d2  # RIPEMD160 key
+	    20 AES128CMAC f92ff73eee86c1e7dc638d6489a04e4e555af878  # AES128CMAC key
+	    21 MD5 sampo 10.1.2.3/24
+    </pre></td></tr></table>
+    <p>Figure 1 shows a typical symmetric keys file used by the reference
+      implementation when the OpenSSL library is installed.  Each line of
+      the file contains three or four fields.  The first field is an integer
+      between 1 and 65535, inclusive, representing the key identifier.  The
+      second field is the digest algorithm, which in the absence of the
+      OpenSSL library must be <tt>MD5</tt>, which designates the MD5 message
+      digest algorithm.  The third field is the key.  The optional fourth
+      field is one or more comma-separated IPs.  An IP may end with an
+      optional <tt>/subnetbits</tt> suffix, which limits the acceptance of
+      the key identifier to packets claiming to be from the described IP
+      space.  In this example, for the key IDs in the range 1-10 the key is
+      interpreted as a printable ASCII string.  For the key IDs in the range
+      11-20, the key is a 40-character hex digit string.  In either case,
+      the key is truncated or zero-filled internally to either 128 or 160
+      bits, depending on the key type.  The line can be edited later or new
+      lines can be added to change any field.  The key can be changed to a
+      password, such as <tt>2late4Me</tt> for key ID 10.  Note that two or
+      more keys files can be combined in any order as long as the key IDs
+      are distinct.</p>
+    <p>When <tt>ntpd</tt> is started, it reads the keys file specified by
+      the <tt>keys</tt> command and installs the keys in the key cache.
+      However, individual keys must be activated with
+      the <tt>trustedkey</tt> configuration command before use.  This
+      allows, for instance, the installation of possibly several batches of
+      keys and then activating a key remotely using <tt>ntpq</tt>
+      or <tt>ntpdc</tt>.  The <tt>requestkey</tt> command selects the key ID
+      used as the password for the <tt>ntpdc</tt> utility, while
+      the <tt>controlkey</tt> command selects the key ID used as the
+      password for the <tt>ntpq</tt> utility.</p>
+    <h4 id="windows">Microsoft Windows Authentication</h4>
+    <p>In addition to the above means, <tt>ntpd</tt> now supports Microsoft
+      Windows MS-SNTP authentication using Active Directory services.  This
+      support was contributed by the Samba Team and is still in development.
+      It is enabled using the <tt>mssntp</tt> flag of the <tt>restrict</tt>
+      command described on the <a href="accopt.html#restrict">Access Control
+      Options</a> page.  <span class="style1">Note: Potential users should
+      be aware that these services involve a TCP connection to another
+      process that could potentially block, denying services to other users.
+      Therefore, this flag should be used only for a dedicated server with
+      no clients other than MS-SNTP.</span></p>
+    <h4 id="pub">Public Key Cryptography</h4>
+    <p>See the <a href="autokey.html">Autokey Public-Key Authentication</a>
+      page.</p>
+    <hr>
+    <script type="text/javascript" language="javascript" src="scripts/footer.txt"></script>
+  </body>
 </html>
--- contrib/ntp/html/authopt.html.orig
+++ contrib/ntp/html/authopt.html
@@ -4,6 +4,7 @@
 <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
 <meta name="generator" content="HTML Tidy, see www.w3.org">
 <title>Authentication Commands and Options</title>
+<!-- Changed by: stenn, 25-May-2018 -->
 <link href="scripts/style.css" type="text/css" rel="stylesheet">
 <style type="text/css">
 .style1 {
@@ -17,7 +18,7 @@
 <img src="pic/alice44.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/%7emills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a>
 <p>Our resident cryptographer; now you see him, now you don't.</p>
 <p>Last update:
-  <!-- #BeginDate format:En2m -->15-Oct-2011  01:00<!-- #EndDate -->
+  <!-- #BeginDate format:En2m -->24-Jul-2018  07:27<!-- #EndDate -->
   UTC</p>
 <br clear="left">
 <h4>Related Links</h4>
@@ -28,53 +29,53 @@
 <p>Unless noted otherwise, further information about these commands is on the <a href="authentic.html">Authentication Support</a> page.</p>
 <dl>
   <dt id=automax><tt>automax [<i>logsec</i>]</tt></dt>
-  <dd>Specifies the interval between regenerations of the session key list used with the Autokey protocol, as a power of 2 in seconds. Note that the size of the key list for each association depends on this interval and the current poll interval. The default interval is 12 (about 1.1 hr). For poll intervals above the specified interval, a session key list with a single entry will be regenerated for every message sent. See the <a href="autokey.html">Autokey Public Key Authentication</a> page for further information.</dd>
+  <dd>Specifies the interval between regenerations of the session key list used with the Autokey protocol, as a power of 2 in seconds.  Note that the size of the key list for each association depends on this interval and the current poll interval.  The default interval is 12 (about 1.1 hr).  For poll intervals above the specified interval, a session key list with a single entry will be regenerated for every message sent.  See the <a href="autokey.html">Autokey Public Key Authentication</a> page for further information.</dd>
   <dt id="controlkey"><tt>controlkey <i>keyid</i></tt></dt>
   <dd>Specifies the key ID for the <a
 	href="ntpq.html"><tt>ntpq</tt></a> utility, which uses the
-    standard protocol defined in RFC-1305. The <tt><i>keyid</i></tt> argument is the key ID for a <a href="#trustedkey">trusted
-    key</a>, where the value can be in the range 1 to 65534,
+    standard protocol defined in RFC-1305.  The <tt><i>keyid</i></tt> argument is the key ID for a <a href="#trustedkey">trusted
+    key</a>, where the value can be in the range 1 to 65535,
     inclusive.</dd>
-  <dt id="crypto"><tt>crypto [digest</tt> <em><tt>digest</tt></em><tt>]</tt> <tt>[host <i>name</i>] [ident <i>name</i>] [pw <i>password</i>] [randfile <i>file</i>]</tt></dt>
+  <dt id="crypto"><tt>crypto [digest <i>digest</i>] [host <i>name</i>] [ident <i>name</i>] [pw <i>password</i>] [randfile <i>file</i>]</tt></dt>
   <dd>This command  activates the Autokey public key cryptography
-    and loads the required host keys and  certificate. If one or more files
-    are  unspecified, the default names are used. Unless
+    and loads the required host keys and  certificate.  If one or more files
+    are  unspecified, the default names are used.  Unless
     the complete path and name of the file are specified, the location of a file
     is relative to the keys directory specified in the <tt>keysdir</tt> configuration
-    command with default <tt>/usr/local/etc</tt>. See the <a href="autokey.html">Autokey Public Key Authentication</a> page for further information. Following are the options.</dd>
+    command with default <tt>/usr/local/etc</tt>.  See the <a href="autokey.html">Autokey Public Key Authentication</a> page for further information.  Following are the options.</dd>
   <dd>
     <dl>
-      <dt><tt>digest</tt> <em><tt>digest</tt></em></dt>
+      <dt><tt>digest</tt> <i>digest</i></dt>
       <dd>&nbsp;</dd>
       <dd>Specify the message digest algorithm, with default MD5.  If the OpenSSL library
         is installed, <tt><i>digest</i></tt> can be be any message digest algorithm supported
-        by the library. The current  selections are: <tt>MD2</tt>, <tt>MD4</tt>, <tt>MD5,</tt> <tt>MDC2</tt>, <tt>RIPEMD160</tt>, <tt>SHA</tt> and <tt>SHA1</tt>. All 
-        participants in an Autokey subnet must use the same algorithm. The Autokey message digest algorithm is separate and distinct from the symmetric
-        key message digest algorithm. Note: If compliance with FIPS 140-2 is required,
+        by the library.  The current  selections are: <tt>MD2</tt>, <tt>MD4</tt>, <tt>MD5,</tt> <tt>MDC2</tt>, <tt>RIPEMD160</tt>, <tt>SHA</tt> and <tt>SHA1</tt>.  All 
+        participants in an Autokey subnet must use the same algorithm.  The Autokey message digest algorithm is separate and distinct from the symmetric
+        key message digest algorithm.  Note: If compliance with FIPS 140-2 is required,
         the algorithm must be ether <tt>SHA</tt> or <tt>SHA1</tt>.</dd>
       <dt><tt>host <i>name</i></tt></dt>
-      <dd>Specify the cryptographic media  names for the host, sign and certificate files.   If this option is not specified, the default name is the string returned by the Unix <tt>gethostname()</tt> routine.</dd>
+      <dd>Specify the cryptographic media  names for the host, sign and certificate files.  If this option is not specified, the default name is the string returned by the Unix <tt>gethostname()</tt> routine.</dd>
       <dd><span class="style1">Note: In the latest Autokey version,  this option has no effect other than to change the cryptographic media file names.</span></dd>
       <dt><tt>ident <i>group</i></tt></dt>
-      <dd>Specify the cryptographic media  names for the identity scheme files. If this option is not specified, the default name is the string returned by the Unix <tt>gethostname()</tt> routine.</dd>
+      <dd>Specify the cryptographic media  names for the identity scheme files.  If this option is not specified, the default name is the string returned by the Unix <tt>gethostname()</tt> routine.</dd>
       <dd><span class="style1">Note: In the latest Autokey version,  this option has no effect other than to change the cryptographic media file names.</span></dd>
       <dt><tt>pw <i>password</i></tt></dt>
-      <dd>Specifies the password to decrypt files previously encrypted by the <tt>ntp-keygen</tt> program with the <tt>-p</tt> option. If this option is not specified, the default password is the string returned by the Unix <tt>gethostname()</tt> routine. </dd>
+      <dd>Specifies the password to decrypt files previously encrypted by the <tt>ntp-keygen</tt> program with the <tt>-p</tt> option.  If this option is not specified, the default password is the string returned by the Unix <tt>gethostname()</tt> routine.</dd>
       <dt><tt>randfile <i>file</i></tt></dt>
-      <dd>Specifies the location of the random seed file used by the OpenSSL library. The defaults are described on the <a href="keygen.html"><tt>ntp-keygen</tt> page</a>.</dd>
+      <dd>Specifies the location of the random seed file used by the OpenSSL library.  The defaults are described on the <a href="keygen.html"><tt>ntp-keygen</tt> page</a>.</dd>
     </dl>
   </dd>
   <dt id="ident"><tt>ident <i>group</i></tt></dt>
-  <dd>Specifies the group name for ephemeral associations mobilized by broadcast and symmetric passive modes. See the <a href="autokey.html">Autokey Public-Key Authentication</a> page for further information.</dd>
+  <dd>Specifies the group name for ephemeral associations mobilized by broadcast and symmetric passive modes.  See the <a href="autokey.html">Autokey Public-Key Authentication</a> page for further information.</dd>
   <dt id="keys"><tt>keys <i>path</i></tt></dt>
-  <dd>Specifies the complete directory path for the key file containing the key IDs, key types and keys used by <tt>ntpd</tt>, <tt>ntpq</tt> and <tt>ntpdc</tt> when operating with symmetric key cryptography.  The format of the keyfile is described on the <a href="keygen.html"><tt>ntp-keygen</tt> page</a>.  This is the same operation as the <tt>-k</tt> command line option. Note that the directory path for Autokey cryptographic media is specified by the <tt>keysdir</tt> command.</dd>
+  <dd>Specifies the complete directory path for the key file containing the key IDs, key types and keys used by <tt>ntpd</tt>, <tt>ntpq</tt> and <tt>ntpdc</tt> when operating with symmetric key cryptography.  The format of the keyfile is described on the <a href="keygen.html"><tt>ntp-keygen</tt> page</a>.  This is the same operation as the <tt>-k</tt> command line option.  Note that the directory path for Autokey cryptographic media is specified by the <tt>keysdir</tt> command.</dd>
   <dt id="keysdir"><tt>keysdir <i>path</i></tt></dt>
-  <dd>Specifies the  complete directory path for the Autokey cryptographic keys, parameters and certificates. The default is <tt>/usr/local/etc/</tt>. Note that the path for the symmetric keys file is specified by the <tt>keys</tt> command.</dd>
+  <dd>Specifies the  complete directory path for the Autokey cryptographic keys, parameters and certificates.  The default is <tt>/usr/local/etc/</tt>.  Note that the path for the symmetric keys file is specified by the <tt>keys</tt> command.</dd>
   <dt id="requestkey"><tt>requestkey <i>keyid</i></tt></dt>
   <dd>Specifies the key ID for the <a href="ntpdc.html"><tt>ntpdc</tt></a> utility program, which
-    uses a proprietary protocol specific to this implementation of <tt>ntpd</tt>. The <tt><i>keyid</i></tt> argument is a key ID
+    uses a proprietary protocol specific to this implementation of <tt>ntpd</tt>.  The <tt><i>keyid</i></tt> argument is a key ID
     for a <a href="#trustedkey">trusted key</a>, in the range 1 to
-    65534, inclusive.</dd>
+    65535, inclusive.</dd>
   <dt id="revoke"><tt>revoke [<i>logsec</i>]</tt></dt>
   <dd>Specifies the interval between re-randomization of certain cryptographic values used by the Autokey scheme, as a power of 2 in seconds, with default 17 (36 hr).  See the <a href="autokey.html">Autokey Public-Key Authentication</a> page for further information.</dd>
   <dt id="trustedkey"><tt>trustedkey [<i>keyid</i> | (<i>lowid</i> ... <i>highid</i>)] [...]</tt></dt>
@@ -81,12 +82,12 @@
   <dd>Specifies the key ID(s) which are trusted for the purposes of
     authenticating peers with symmetric key cryptography.  Key IDs
     used to authenticate <tt>ntpq</tt> and <tt>ntpdc</tt> operations
-    must be listed here and additionally be enabled with <a href="#controlkey">controlkey</a> and/or <a href="#requestkey">requestkey</a>. The authentication
+    must be listed here and additionally be enabled with <a href="#controlkey">controlkey</a> and/or <a href="#requestkey">requestkey</a>.  The authentication
     procedure for time transfer requires that both the local and
     remote NTP servers employ the same key ID and secret for this
     purpose, although different keys IDs may be used with different
-    servers. Ranges of trusted key IDs may be specified: <tt>trustedkey (1 ... 19) 1000 (100 ... 199)</tt> enables the
-    lowest 120 key IDs which start with the digit 1. The spaces
+    servers.  Ranges of trusted key IDs may be specified: <tt>trustedkey (1 ... 19) 1000 (100 ... 199)</tt> enables the
+    lowest 120 key IDs which start with the digit 1.  The spaces
     surrounding the ellipsis are required when specifying a range.</dd>
 </dl>
 <hr>
--- contrib/ntp/html/confopt.html.orig
+++ contrib/ntp/html/confopt.html
@@ -13,7 +13,7 @@
 Walt Kelly</a>
 <p>The chicken is getting configuration advice.</p>
 <p>Last update:
-  <!-- #BeginDate format:En2m -->10-Mar-2014  05:01<!-- #EndDate -->
+  <!-- #BeginDate format:En2m -->24-Jul-2018  07:27<!-- #EndDate -->
     UTC</p>
 <br clear="left">
 <h4>Related Links</h4>
@@ -67,7 +67,7 @@
     <dt><tt>ident</tt> <em><tt>group</tt></em></dt>
     <dd>Specify the group name for the association.  See the <a href="autokey.html">Autokey Public-Key Authentication</a> page for further information.</dd>
   <dt><tt>key</tt> <i><tt>key</tt></i></dt>
-  <dd>Send and receive packets authenticated by the symmetric key scheme described in the <a href="authentic.html">Authentication Support</a> page. The <i><tt>key</tt></i> specifies the key identifier with values from 1 to 65534, inclusive. This option is mutually exclusive with the <tt>autokey</tt> option.</dd>	<dt><tt>minpoll <i>minpoll<br>
+  <dd>Send and receive packets authenticated by the symmetric key scheme described in the <a href="authentic.html">Authentication Support</a> page. The <i><tt>key</tt></i> specifies the key identifier with values from 1 to 65535, inclusive. This option is mutually exclusive with the <tt>autokey</tt> option.</dd>	<dt><tt>minpoll <i>minpoll<br>
 	</i></tt><tt>maxpoll <i>maxpoll</i></tt></dt>
 	<dd>These options specify the minimum and maximum poll intervals for NTP messages, in seconds as a power of two. The maximum poll interval defaults to 10 (1024 s), but can be increased by the <tt>maxpoll</tt> option to an upper limit of 17 (36 hr). The minimum poll interval defaults to 6 (64 s), but can be decreased by the <tt>minpoll</tt> option to a lower limit of 3 (8 s).  Additional information about this option is on the <a href="poll.html">Poll Program</a> page.</dd>
 	<dt><tt>mode <i>option</i></tt></dt>
--- contrib/ntp/html/keygen.html.orig
+++ contrib/ntp/html/keygen.html
@@ -11,7 +11,7 @@
     <p><img src="pic/alice23.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/%7emills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a></p>
     <p>Alice holds the key.</p>
     <p>Last update:
-      <!-- #BeginDate format:En2m -->11-Jan-2018  11:55<!-- #EndDate -->
+      <!-- #BeginDate format:En2m -->24-Jul-2018  07:27<!-- #EndDate -->
       UTC</p>
     <br clear="left">
     <h4>Related Links</h4>
@@ -313,7 +313,7 @@
     </pre></td></tr></table>
     <p>Figure 1 shows a typical symmetric keys file used by the reference
       implementation.  Each line of the file contains three or four fields,
-      first an integer between 1 and 65534, inclusive, representing the key
+      first an integer between 1 and 65535, inclusive, representing the key
       identifier used in the <tt>server</tt> and <tt>peer</tt> configuration
       commands.  Second is the key type for the message digest algorithm,
       which in the absence of the OpenSSL library must be <tt>MD5</tt> to
--- contrib/ntp/html/ntpdate.html.orig
+++ contrib/ntp/html/ntpdate.html
@@ -11,7 +11,7 @@
 <img src="pic/rabbit.gif" alt="gif" align="left"><a href="http://www.eecis.udel.edu/~mills/pictures.html">from <i>Alice's Adventures in Wonderland</i>, Lewis Carroll</a>
 <p>I told you it was eyeball and wristwatch.</p>
 <p>Last update:
-  <!-- #BeginDate format:En2m -->9-Feb-2014  03:34<!-- #EndDate -->
+  <!-- #BeginDate format:En2m -->21-Jul-2018  04:09<!-- #EndDate -->
     UTC</p>
 <br clear="left">
 <hr>
@@ -63,7 +63,7 @@
   <dt><tt>-s</tt></dt>
   <dd>Divert logging output from the standard output (default) to the system <tt>syslog</tt> facility. This is designed primarily for convenience of <tt>cron</tt> scripts.</dd>
   <dt><tt>-t <i>timeout</i></tt></dt>
-  <dd>Specify the maximum time waiting for a server response as the value <i>timeout</i>, in seconds and fraction. The value is is rounded to a multiple of 0.2 seconds. The default is 1 second, a value suitable for polling across a LAN.</dd>
+  <dd>Specify the maximum time waiting for a server response as the value <i>timeout</i>, in seconds and fraction. The value is is rounded to a multiple of 0.2 seconds. The default is 2 seconds, a value suitable for polling across a LAN.</dd>
   <dt><tt>-u</tt></dt>
   <dd>Direct <tt>ntpdate</tt> to use an unprivileged port for outgoing packets. This is most useful when behind a firewall that blocks incoming traffic to privileged ports, and you want to synchronize with hosts beyond the firewall. Note that the <tt>-d</tt> option always uses unprivileged ports.
   <dt><tt>-<i>v</i></tt></dt>
--- contrib/ntp/include/Makefile.in.orig
+++ contrib/ntp/include/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/include/isc/Makefile.in.orig
+++ contrib/ntp/include/isc/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/include/ntp.h.orig
+++ contrib/ntp/include/ntp.h
@@ -610,7 +610,19 @@
 #define	STRATUM_TO_PKT(s)	((u_char)(((s) == (STRATUM_UNSPEC)) ?\
 				(STRATUM_PKT_UNSPEC) : (s)))
 
+
 /*
+ * A test to determine if the refid should be interpreted as text string.
+ * This is usually the case for a refclock, which has stratum 0 internally,
+ * which results in sys_stratum 1 if the refclock becomes system peer, or
+ * in case of a kiss-of-death (KoD) packet that has STRATUM_PKT_UNSPEC (==0)
+ * in the packet which is converted to STRATUM_UNSPEC when the packet
+ * is evaluated.
+ */
+#define REFID_ISTEXT(s) (((s) <= 1) || ((s) >= STRATUM_UNSPEC))
+
+
+/*
  * Event codes. Used for reporting errors/events to the control module
  */
 #define	PEER_EVENT	0x080	/* this is a peer event */
--- contrib/ntp/include/ntp_calendar.h.orig
+++ contrib/ntp/include/ntp_calendar.h
@@ -93,6 +93,7 @@
 #define	SECSPERLEAPYEAR	(366 * SECSPERDAY)	/* leap year */
 #define	SECSPERAVGYEAR	31556952		/* mean year length over 400yrs */
 
+#define GPSWEEKS	1024			/* GPS week cycle */
 /*
  * Gross hacks.	 I have illicit knowlege that there won't be overflows
  * here, the compiler often can't tell this.
@@ -404,14 +405,21 @@
 extern time_t
 basedate_get_erabase(void);
 
+extern uint32_t
+basedate_get_gpsweek(void);
 
+extern uint32_t
+basedate_expand_gpsweek(unsigned short weekno);
+
 /*
  * Additional support stuff for Ed Rheingold's calendrical calculations
  */
 
 /*
- * Start day of NTP time as days past the imaginary date 12/1/1 BC.
- * (This is the beginning of the Christian Era, or BCE.)
+ * Start day of NTP time as days past 0000-12-31 in the proleptic
+ * Gregorian calendar. (So 0001-01-01 is day number 1; this is the Rata
+ * Die counting scheme used by Ed Rheingold in his book "Calendrical
+ * Calculations".)
  */
 #define	DAY_NTP_STARTS 693596
 
@@ -421,14 +429,24 @@
 #define DAY_UNIX_STARTS 719163
 
 /*
+ * Start day of the GPS epoch. This is the Rata Die of 1980-01-06
+ */
+#define DAY_GPS_STARTS 722819
+
+/*
  * Difference between UN*X and NTP epoch (25567).
  */
 #define NTP_TO_UNIX_DAYS (DAY_UNIX_STARTS - DAY_NTP_STARTS)
 
 /*
+ * Difference between GPS and NTP epoch (29224)
+ */
+#define NTP_TO_GPS_DAYS (DAY_GPS_STARTS - DAY_NTP_STARTS)
+
+/*
  * Days in a normal 4 year leap year calendar cycle (1461).
  */
-#define	GREGORIAN_NORMAL_LEAP_CYCLE_DAYS	(3 * 365 + 366)
+#define	GREGORIAN_NORMAL_LEAP_CYCLE_DAYS	(4 * 365 + 1)
 
 /*
  * Days in a normal 100 year leap year calendar (36524).  We lose a
--- contrib/ntp/include/ntp_md5.h.orig
+++ contrib/ntp/include/ntp_md5.h
@@ -7,8 +7,13 @@
 #define NTP_MD5_H
 
 #ifdef OPENSSL
-# include "openssl/evp.h"
+# include <openssl/evp.h>
 # include "libssl_compat.h"
+# ifdef HAVE_OPENSSL_CMAC_H
+#  include <openssl/cmac.h>
+#  define CMAC                  "AES128CMAC"
+#  define AES_128_KEY_SIZE      16
+# endif /*HAVE_OPENSSL_CMAC_H*/
 #else	/* !OPENSSL follows */
 /*
  * Provide OpenSSL-alike MD5 API if we're not using OpenSSL
--- contrib/ntp/include/ntp_stdlib.h.orig
+++ contrib/ntp/include/ntp_stdlib.h
@@ -40,6 +40,9 @@
 extern	void	errno_to_str(int, char *, size_t);
 #endif
 
+extern	int	xvsbprintf(char**, char* const, char const*, va_list) NTP_PRINTF(3, 0);
+extern	int	xsbprintf(char**, char* const, char const*, ...) NTP_PRINTF(3, 4);
+
 /*
  * When building without OpenSSL, use a few macros of theirs to
  * minimize source differences in NTP.
--- contrib/ntp/include/ntpd.h.orig
+++ contrib/ntp/include/ntpd.h
@@ -275,8 +275,8 @@
 extern	char	*sys_hostname;	/* host name */
 extern	char	*sys_groupname;	/* group name */
 extern	char	*group_name;	/* group name */
-extern	u_long	sys_revoke;	/* keys revoke timeout */
-extern	u_long	sys_automax;	/* session key timeout */
+extern	u_char	sys_revoke;	/* keys revoke timeout */
+extern	u_char	sys_automax;	/* session key timeout */
 #endif	/* AUTOKEY */
 
 /* ntp_util.c */
--- contrib/ntp/include/parse.h.orig
+++ contrib/ntp/include/parse.h
@@ -108,7 +108,6 @@
  * some constants useful for GPS time conversion
  */
 #define GPSORIGIN       2524953600UL         /* NTP origin - GPS origin in seconds */
-#define GPSWRAP         990                  /* assume week count less than this in the previous epoch */
 #define GPSWEEKS        1024                 /* number of weeks until the GPS epch rolls over */
 
 /*
--- contrib/ntp/kernel/Makefile.in.orig
+++ contrib/ntp/kernel/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/kernel/sys/Makefile.in.orig
+++ contrib/ntp/kernel/sys/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/libntp/Makefile.am.orig
+++ contrib/ntp/libntp/Makefile.am
@@ -110,6 +110,7 @@
 	vint64ops.c					\
 	work_fork.c					\
 	work_thread.c					\
+	xsbprintf.c					\
 	ymd2yd.c					\
 	$(libisc_SRCS)					\
 	$(NULL)
--- contrib/ntp/libntp/Makefile.in.orig
+++ contrib/ntp/libntp/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -160,7 +160,7 @@
 	snprintf.c socket.c socktoa.c socktohost.c ssl_init.c \
 	statestr.c strdup.c strl_obsd.c syssignal.c timetoa.c \
 	timevalops.c uglydate.c vint64ops.c work_fork.c work_thread.c \
-	ymd2yd.c $(srcdir)/../lib/isc/assertions.c \
+	xsbprintf.c ymd2yd.c $(srcdir)/../lib/isc/assertions.c \
 	$(srcdir)/../lib/isc/buffer.c \
 	$(srcdir)/../lib/isc/backtrace-emptytbl.c \
 	$(srcdir)/../lib/isc/backtrace.c \
@@ -224,8 +224,8 @@
 	ssl_init.$(OBJEXT) statestr.$(OBJEXT) strdup.$(OBJEXT) \
 	strl_obsd.$(OBJEXT) syssignal.$(OBJEXT) timetoa.$(OBJEXT) \
 	timevalops.$(OBJEXT) uglydate.$(OBJEXT) vint64ops.$(OBJEXT) \
-	work_fork.$(OBJEXT) work_thread.$(OBJEXT) ymd2yd.$(OBJEXT) \
-	$(am__objects_3) $(am__objects_1)
+	work_fork.$(OBJEXT) work_thread.$(OBJEXT) xsbprintf.$(OBJEXT) \
+	ymd2yd.$(OBJEXT) $(am__objects_3) $(am__objects_1)
 am_libntp_a_OBJECTS = systime.$(OBJEXT) $(am__objects_4)
 libntp_a_OBJECTS = $(am_libntp_a_OBJECTS)
 libntpsim_a_AR = $(AR) $(ARFLAGS)
@@ -244,7 +244,7 @@
 	snprintf.c socket.c socktoa.c socktohost.c ssl_init.c \
 	statestr.c strdup.c strl_obsd.c syssignal.c timetoa.c \
 	timevalops.c uglydate.c vint64ops.c work_fork.c work_thread.c \
-	ymd2yd.c $(srcdir)/../lib/isc/assertions.c \
+	xsbprintf.c ymd2yd.c $(srcdir)/../lib/isc/assertions.c \
 	$(srcdir)/../lib/isc/buffer.c \
 	$(srcdir)/../lib/isc/backtrace-emptytbl.c \
 	$(srcdir)/../lib/isc/backtrace.c \
@@ -704,6 +704,7 @@
 	vint64ops.c					\
 	work_fork.c					\
 	work_thread.c					\
+	xsbprintf.c					\
 	ymd2yd.c					\
 	$(libisc_SRCS)					\
 	$(NULL)
@@ -876,6 +877,7 @@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/vint64ops.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/work_fork.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/work_thread.Po@am__quote@
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xsbprintf.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/ymd2yd.Po@am__quote@
 
 .c.o:
--- contrib/ntp/libntp/a_md5encrypt.c.orig
+++ contrib/ntp/libntp/a_md5encrypt.c
@@ -12,12 +12,6 @@
 #include "ntp_md5.h"	/* provides OpenSSL digest API */
 #include "isc/string.h"
 
-#ifdef OPENSSL
-# include "openssl/cmac.h"
-# define  CMAC			"AES128CMAC"
-# define  AES_128_KEY_SIZE	16
-#endif
-
 typedef struct {
 	const void *	buf;
 	size_t		len;
@@ -28,7 +22,7 @@
 	size_t		len;
 } rwbuffT;
 
-#ifdef OPENSSL
+#if defined(OPENSSL) && defined(ENABLE_CMAC)
 static size_t
 cmac_ctx_size(
 	CMAC_CTX *	ctx)
@@ -42,7 +36,7 @@
 	}
 	return mlen;
 }
-#endif /*OPENSSL*/
+#endif /*OPENSSL && ENABLE_CMAC*/
 
 static size_t
 make_mac(
@@ -63,6 +57,7 @@
 	INIT_SSL();
 
 	/* Check if CMAC key type specific code required */
+#   ifdef ENABLE_CMAC
 	if (ktype == NID_cmac) {
 		CMAC_CTX *	ctx    = NULL;
 		void const *	keyptr = key->buf;
@@ -100,7 +95,9 @@
 		if (ctx)
 			CMAC_CTX_cleanup(ctx);
 	}
-	else {	/* generic MAC handling */
+	else
+#   endif /*ENABLE_CMAC*/
+	{	/* generic MAC handling */
 		EVP_MD_CTX *	ctx   = EVP_MD_CTX_new();
 		u_int		uilen = 0;
 		
@@ -153,7 +150,7 @@
 	if (ktype == NID_md5)
 	{
 		EVP_MD_CTX *	ctx   = EVP_MD_CTX_new();
-		uint		uilen = 0;
+		u_int		uilen = 0;
 
 		if (digest->len < 16) {
 			msyslog(LOG_ERR, "%s", "MAC encrypt: MAC md5 buf too small.");
--- contrib/ntp/libntp/authreadkeys.c.orig
+++ contrib/ntp/libntp/authreadkeys.c
@@ -221,6 +221,7 @@
 			log_maybe(NULL,
 				  "authreadkeys: invalid type for key %d",
 				  keyno);
+#  ifdef ENABLE_CMAC
 		} else if (NID_cmac != keytype &&
 				EVP_get_digestbynid(keytype) == NULL) {
 			log_maybe(NULL,
@@ -227,6 +228,7 @@
 				  "authreadkeys: no algorithm for key %d",
 				  keyno);
 			keytype = 0;
+#  endif /* ENABLE_CMAC */
 		}
 #else	/* !OPENSSL follows */
 		/*
--- contrib/ntp/libntp/calyearstart.c.orig
+++ contrib/ntp/libntp/calyearstart.c
@@ -54,7 +54,7 @@
 }
 
 /*
- * calweekstart - get NTP time at midnight of the last monday on or
+ * calweekstart - get NTP time at midnight of the last Monday on or
  * before the current date.
  */
 u_int32
--- contrib/ntp/libntp/ntp_calendar.c.orig
+++ contrib/ntp/libntp/ntp_calendar.c
@@ -1832,6 +1832,7 @@
  */
 
 static int32_t s_baseday = NTP_TO_UNIX_DAYS;
+static int32_t s_gpsweek = 0;
 
 int32_t
 basedate_eval_buildstamp(void)
@@ -1873,7 +1874,7 @@
 		goto buildstamp;
 	}
 
-	rc = scanf(str, "%lu%n", &ned, &nc);
+	rc = sscanf(str, "%lu%n", &ned, &nc);
 	if (rc == 1 && (size_t)nc == sl) {
 		if (ned <= INT32_MAX)
 			return (int32_t)ned;
@@ -1901,6 +1902,7 @@
 	struct calendar	jd;
 	int32_t		retv;
 
+	/* set NTP base date for NTP era unfolding */
 	if (day < NTP_TO_UNIX_DAYS) {
 		msyslog(LOG_WARNING,
 			"baseday_set_day: invalid day (%lu), UNIX epoch substituted",
@@ -1912,6 +1914,17 @@
 	ntpcal_rd_to_date(&jd, day + DAY_NTP_STARTS);
 	msyslog(LOG_INFO, "basedate set to %04hu-%02hu-%02hu",
 		jd.year, (u_short)jd.month, (u_short)jd.monthday);
+
+	/* set GPS base week for GPS week unfolding */
+	day = ntpcal_weekday_ge(day + DAY_NTP_STARTS, CAL_SUNDAY)
+	    - DAY_NTP_STARTS;
+	if (day < NTP_TO_GPS_DAYS)
+	    day = NTP_TO_GPS_DAYS;
+	s_gpsweek = (day - NTP_TO_GPS_DAYS) / DAYSPERWEEK;
+	ntpcal_rd_to_date(&jd, day + DAY_NTP_STARTS);
+	msyslog(LOG_INFO, "gps base set to %04hu-%02hu-%02hu (week %d)",
+		jd.year, (u_short)jd.month, (u_short)jd.monthday, s_gpsweek);
+	
 	return retv;
 }
 
@@ -1934,4 +1947,29 @@
 	return retv;
 }
 
+uint32_t
+basedate_get_gpsweek(void)
+{
+    return s_gpsweek;
+}
+
+uint32_t
+basedate_expand_gpsweek(
+    unsigned short weekno
+    )
+{
+    /* We do a fast modulus expansion here. Since all quantities are
+     * unsigned and we cannot go before the start of the GPS epoch
+     * anyway, and since the truncated GPS week number is 10 bit, the
+     * expansion becomes a simple sub/and/add sequence.
+     */
+    #if GPSWEEKS != 1024
+    # error GPSWEEKS defined wrong -- should be 1024!
+    #endif
+    
+    uint32_t diff;
+    diff = ((uint32_t)weekno - s_gpsweek) & (GPSWEEKS - 1);
+    return s_gpsweek + diff;
+}
+
 /* -*-EOF-*- */
--- contrib/ntp/libntp/prettydate.c.orig
+++ contrib/ntp/libntp/prettydate.c
@@ -170,6 +170,11 @@
 
 	LIB_GETBUF(bp);
 
+	if (ts->l_ui == 0 && ts->l_uf == 0) {
+		strlcpy (bp, "(no time)", LIB_BUFLENGTH);
+		return (bp);
+	}
+
 	/* get & fix milliseconds */
 	ntps = ts->l_ui;
 	msec = ts->l_uf / 4294967;	/* fract / (2 ** 32 / 1000) */
--- contrib/ntp/libntp/ssl_init.c.orig
+++ contrib/ntp/libntp/ssl_init.c
@@ -13,16 +13,16 @@
 #include <lib_strbuf.h>
 
 #ifdef OPENSSL
-# include "openssl/cmac.h"
-# include "openssl/crypto.h"
-# include "openssl/err.h"
-# include "openssl/evp.h"
-# include "openssl/opensslv.h"
+# include <openssl/crypto.h>
+# include <openssl/err.h>
+# include <openssl/evp.h>
+# include <openssl/opensslv.h>
 # include "libssl_compat.h"
-
-# define CMAC_LENGTH	16
-# define CMAC		"AES128CMAC"
-
+# ifdef HAVE_OPENSSL_CMAC_H
+#  include <openssl/cmac.h>
+#  define CMAC_LENGTH	16
+#  define CMAC		"AES128CMAC"
+# endif /*HAVE_OPENSSL_CMAC_H*/
 int ssl_init_done;
 
 #if OPENSSL_VERSION_NUMBER < 0x10100000L
@@ -126,6 +126,7 @@
 
 	key_type = OBJ_sn2nid(upcased);
 
+#   ifdef ENABLE_CMAC
 	if (!key_type && !strncmp(CMAC, upcased, strlen(CMAC) + 1)) {
 		key_type = NID_cmac;
 
@@ -134,6 +135,7 @@
 				__FILE__, __LINE__, __func__, CMAC);
 		}
 	}
+#   endif /*ENABLE_CMAC*/
 #else
 
 	key_type = 0;
@@ -153,6 +155,7 @@
 		digest_len = (md) ? EVP_MD_size(md) : 0;
 
 		if (!md || digest_len <= 0) {
+#   ifdef ENABLE_CMAC
 		    if (key_type == NID_cmac) {
 			digest_len = CMAC_LENGTH;
 
@@ -160,7 +163,9 @@
 				fprintf(stderr, "%s:%d:%s():%s:len\n",
 					__FILE__, __LINE__, __func__, CMAC);
 			}
-		    } else {
+		    } else
+#   endif /*ENABLE_CMAC*/
+		    {
 			fprintf(stderr,
 				"key type %s is not supported by OpenSSL\n",
 				keytype_name(key_type));
@@ -209,6 +214,7 @@
 	INIT_SSL();
 	name = OBJ_nid2sn(nid);
 
+#   ifdef ENABLE_CMAC
 	if (NID_cmac == nid) {
 		name = CMAC;
 
@@ -217,6 +223,7 @@
 				__FILE__, __LINE__, __func__, CMAC);
 		}
 	} else
+#   endif /*ENABLE_CMAC*/
 	if (NULL == name) {
 		name = unknown_type;
 	}
--- contrib/ntp/libntp/syssignal.c.orig
+++ contrib/ntp/libntp/syssignal.c
@@ -138,12 +138,13 @@
 
 	if (NULL == c_hook) {
 		handler = SIG_DFL;
-		ctrl_c_hook = NULL;
+		signal_no_reset(SIGINT, handler);
+		ctrl_c_hook = c_hook;
 	} else {
+		ctrl_c_hook = c_hook;
 		handler = &sigint_handler;
-		ctrl_c_hook = c_hook;
+		signal_no_reset(SIGINT, handler);
 	}
-	signal_no_reset(SIGINT, handler);
 }
 #else	/* SYS_WINNT follows */
 /*
--- contrib/ntp/libntp/work_fork.c.orig
+++ contrib/ntp/libntp/work_fork.c
@@ -89,6 +89,10 @@
 }
 
 
+#if defined(HAVE_DROPROOT)
+extern int set_user_group_ids(void);
+#endif
+
 /* === functions === */
 /*
  * exit_worker()
@@ -592,6 +596,10 @@
 	init_logging("ntp_intres", 0, FALSE);
 	setup_logfile(NULL);
 
+#ifdef HAVE_DROPROOT
+	(void) set_user_group_ids();
+#endif
+
 	/*
 	 * And now back to the portable code
 	 */
--- contrib/ntp/libntp/work_thread.c.orig
+++ contrib/ntp/libntp/work_thread.c
@@ -56,7 +56,18 @@
 # define THREAD_MAXSTACKSIZE THREAD_MINSTACKSIZE
 #endif
 
+/* need a good integer to store a pointer... */
+#ifndef UINTPTR_T
+# if defined(UINTPTR_MAX)
+#  define UINTPTR_T uintptr_t
+# elif defined(UINT_PTR)
+#  define UINTPTR_T UINT_PTR
+# else
+#  define UINTPTR_T size_t
+# endif
+#endif
 
+
 #ifdef SYS_WINNT
 
 # define thread_exit(c)	_endthreadex(c)
@@ -66,7 +77,7 @@
 
 #else
 
-# define thread_exit(c)	pthread_exit((void*)(size_t)(c))
+# define thread_exit(c)	pthread_exit((void*)(UINTPTR_T)(c))
 # define tickle_sem	sem_post
 void *		blocking_thread(void *);
 static	void	block_thread_signals(sigset_t *);
@@ -374,7 +385,9 @@
 	if (empty)
 	{
 #	    ifdef WORK_PIPE
-		write(c->resp_write_pipe, "", 1);
+		if (1 != write(c->resp_write_pipe, "", 1))
+			msyslog(LOG_WARNING, "async resolver: %s",
+				"failed to notify main thread!");
 #	    else
 		tickle_sem(c->responses_pending);
 #	    endif
--- contrib/ntp/libntp/xsbprintf.c.orig
+++ contrib/ntp/libntp/xsbprintf.c
@@ -0,0 +1,75 @@
+/*
+ * xsbprintf.c - string buffer formatting helpers
+ *
+ * Written by Juergen Perlinger (perlinger@ntp.org) for the NTP project.
+ * The contents of 'html/copyright.html' apply.
+ */
+
+#include <config.h>
+#include <sys/types.h>
+
+#include "ntp_stdlib.h"
+
+/* eXtended Varlist String Buffer printf
+ *
+ * Formats via 'vsnprintf' into a string buffer, with some semantic
+ * specialties:
+ *
+ * - The start of the buffer pointer is updated according to the number
+ *   of characters written.
+ * - If the buffer is insufficient to format the number of charactes,
+ *   the partial result will be be discarded, and zero is returned to
+ *   indicate nothing was written to the buffer.
+ * - On successful formatting, the return code is the return value of
+ *   the inner call to 'vsnprintf()'.
+ * - If there is any error, the state of the buffer will not be
+ *   changed. (Bytes in the buffer might be smashed, but the buffer
+ *   position does not change, and the NUL marker stays in place at the
+ *   current buffer position.)
+ * - If '(*ppbuf - pend) <= 0' (or ppbuf is NULL), fail with EINVAL.
+ */
+int
+xvsbprintf(
+	char       **ppbuf,	/* pointer to buffer pointer (I/O) */
+	char * const pend,	/* buffer end (I)		   */
+	char const  *pfmt,	/* printf-like format string       */
+	va_list      va		/* formatting args for above       */
+	)
+{
+	char *pbuf = (ppbuf) ? *ppbuf : NULL;
+	int   rc   = -1;
+	if (pbuf && (pend - pbuf > 0)) {
+		size_t blen = (size_t)(pend - pbuf);
+		rc = vsnprintf(pbuf, blen, pfmt, va);
+		if (rc > 0) {
+		    if ((size_t)rc >= blen)
+			rc = 0;
+		    pbuf += rc;
+		}
+		*pbuf = '\0'; /* fear of bad vsnprintf */
+		*ppbuf = pbuf;
+	} else {
+		errno = EINVAL;
+	}
+	return rc;
+}
+
+/* variadic wrapper around the buffer string formatter */
+int
+xsbprintf(
+	char       **ppbuf,	/* pointer to buffer pointer (I/O) */
+	char * const pend,	/* buffer end (I)		   */
+	char const  *pfmt,	/* printf-like format string       */
+	...			/* formatting args for above       */
+	)
+{
+	va_list va;
+	int     rc;
+	
+	va_start(va, pfmt);
+	rc = xvsbprintf(ppbuf, pend, pfmt, va);
+	va_end(va);
+	return rc;
+}
+
+/* that's all folks! */
--- contrib/ntp/libparse/Makefile.in.orig
+++ contrib/ntp/libparse/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/libparse/clk_trimtsip.c.orig
+++ contrib/ntp/libparse/clk_trimtsip.c
@@ -265,9 +265,7 @@
 					    clock_time->flags = PARSEB_POWERUP;
 					    return CVT_OK;
 				    }
-				    if (week < GPSWRAP) {
-					    week += GPSWEEKS;
-				    }
+				    week = basedate_expand_gpsweek(week);
 
 				    /* time OK */
 
@@ -351,14 +349,12 @@
 				    int tls   = t->t_gpsutc     = (u_short) getshort((unsigned char *)&mb(12)); /* current leap correction (GPS-UTC) */
 				    int tlsf  = t->t_gpsutcleap = (u_short) getshort((unsigned char *)&mb(24)); /* new leap correction */
 
-				    t->t_weekleap   = (u_short) getshort((unsigned char *)&mb(20)); /* week no of leap correction */
-				    if (t->t_weekleap < GPSWRAP)
-				      t->t_weekleap = (u_short)(t->t_weekleap + GPSWEEKS);
+				    t->t_weekleap   = basedate_expand_gpsweek(
+					(u_short) getshort((unsigned char *)&mb(20))); /* week no of leap correction */
 
 				    t->t_dayleap    = (u_short) getshort((unsigned char *)&mb(22)); /* day in week of leap correction */
-				    t->t_week = (u_short) getshort((unsigned char *)&mb(18)); /* current week no */
-				    if (t->t_week < GPSWRAP)
-				      t->t_week = (u_short)(t->t_weekleap + GPSWEEKS);
+				    t->t_week = basedate_expand_gpsweek(
+					(u_short) getshort((unsigned char *)&mb(18))); /* current week no */
 
 				    lbp = (unsigned char *)&mb(14); /* last update time */
 				    if (fetch_ieee754(&lbp, IEEE_SINGLE, &t0t, trim_offsets) != IEEE_OK)
--- contrib/ntp/libparse/gpstolfp.c.orig
+++ contrib/ntp/libparse/gpstolfp.c
@@ -45,11 +45,6 @@
 	 l_fp * lfp
 	 )
 {
-  if (weeks < GPSWRAP)
-    {
-      weeks += GPSWEEKS;
-    }
-
   lfp->l_ui = (uint32_t)(weeks * SECSPERWEEK + days * SECSPERDAY + seconds + GPSORIGIN); /* convert to NTP time */
   lfp->l_uf = 0;
 }
--- contrib/ntp/ntpd/Makefile.in.orig
+++ contrib/ntp/ntpd/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/ntpd/complete.conf.in.orig
+++ contrib/ntp/ntpd/complete.conf.in
@@ -21,7 +21,7 @@
 revoke 10
 keysdir "/etc/ntp/keys"
 keys "/etc/ntp.keys"
-trustedkey 1 2 3 4 5 6 7 8 9 10 11 12 (14 ... 16) 18 (32768 ... 65534)
+trustedkey 1 2 3 4 5 6 7 8 9 10 11 12 (14 ... 16) 18 (32768 ... 65535)
 controlkey 12
 requestkey 12
 enable auth ntp monitor stats
--- contrib/ntp/ntpd/invoke-ntp.conf.texi.orig
+++ contrib/ntp/ntpd/invoke-ntp.conf.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntp.conf.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:14:34 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:56:39 AM by AutoGen 5.18.5
 # From the definitions    ntp.conf.def
 # and the template file   agtexi-file.tpl
 @end ignore
@@ -284,7 +284,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 @kbd{key}
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 @item @code{minpoll} @kbd{minpoll}
@@ -543,7 +543,7 @@
 @code{http://www.ntp.org/}.
 @subsubsection Symmetric-Key Cryptography
 The original RFC-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32-bit key identifier, to
+65,535 keys, each distinguished by a 32-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -827,7 +827,7 @@
 @kbd{key}
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 @item @code{crypto} @code{[@code{cert} @kbd{file}]} @code{[@code{leap} @kbd{file}]} @code{[@code{randfile} @kbd{file}]} @code{[@code{host} @kbd{file}]} @code{[@code{sign} @kbd{file}]} @code{[@code{gq} @kbd{file}]} @code{[@code{gqpar} @kbd{file}]} @code{[@code{iffpar} @kbd{file}]} @code{[@code{mvpar} @kbd{file}]} @code{[@code{pw} @kbd{password}]}
 This command requires the OpenSSL library.
 It activates public key
@@ -920,7 +920,7 @@
 @kbd{key}
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 @item @code{revoke} @kbd{logsec}
 Specifies the interval between re-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
@@ -947,7 +947,7 @@
 The
 @kbd{key}
 arguments are 32-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 @end table
 @subsubsection Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/invoke-ntp.keys.texi.orig
+++ contrib/ntp/ntpd/invoke-ntp.keys.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntp.keys.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:14:37 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:56:41 AM by AutoGen 5.18.5
 # From the definitions    ntp.keys.def
 # and the template file   agtexi-file.tpl
 @end ignore
@@ -29,7 +29,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 
 The key file uses the same comment conventions
@@ -42,7 +42,7 @@
 
 where
 @kbd{keyno}
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 @kbd{type}
 is the message digest algorithm,
 @kbd{key}
--- contrib/ntp/ntpd/invoke-ntpd.texi.orig
+++ contrib/ntp/ntpd/invoke-ntpd.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntpd.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:14:39 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:56:42 AM by AutoGen 5.18.5
 # From the definitions    ntpd-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -142,7 +142,7 @@
 
 @exampleindent 0
 @example
-ntpd - NTP daemon program - Ver. 4.2.8p11
+ntpd - NTP daemon program - Ver. 4.2.8p13
 Usage:  ntpd [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... \
                 [ <server1> ... <serverN> ]
   Flg Arg Option-Name    Description
@@ -164,7 +164,7 @@
    -g no  panicgate      Allow the first adjustment to be Big
                                 - may appear multiple times
    -G no  force-step-once Step any initial offset correction.
-   -i Str jaildir        Jail directory
+   -i --- jaildir        built without --enable-clockctl or --enable-linuxcaps or --enable-solarisprivs
    -I Str interface      Listen on an interface name or address
                                 - may appear multiple times
    -k Str keyfile        path to symmetric keys
@@ -187,7 +187,7 @@
    -s Str statsdir       Statistics file location
    -t Str trustedkey     Trusted key number
                                 - may appear multiple times
-   -u Str user           Run as userid (or userid:groupid)
+   -u --- user           built without --enable-clockctl or --enable-linuxcaps or --enable-solarisprivs
    -U Num updateinterval interval in seconds between scans for new or dropped interfaces
       Str var            make ARG an ntp variable (RW)
                                 - may appear multiple times
--- contrib/ntp/ntpd/ntp.conf.5man.orig
+++ contrib/ntp/ntpd/ntp.conf.5man
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp.conf 5man "27 Feb 2018" "4.2.8p11" "File Formats"
+.TH ntp.conf 5man "20 Feb 2019" "4.2.8p13" "File Formats"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-LkaqTP/ag-XkaiSP)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:14:22 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:43 AM by AutoGen 5.18.5
 .\" From the definitions ntp.conf.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
@@ -326,7 +326,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 \f\*[I-Font]key\f[]
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .TP 7
@@ -611,7 +611,7 @@
 \f[C]http://www.ntp.org/\f[].
 .SS Symmetric-Key Cryptography
 The original RFC-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32-bit key identifier, to
+65,535 keys, each distinguished by a 32-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -932,7 +932,7 @@
 \f\*[I-Font]key\f[]
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .TP 7
 .NOP \f\*[B-Font]crypto\f[] [\f\*[B-Font]cert\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]leap\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]randfile\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]host\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]sign\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]gq\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]gqpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]iffpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]mvpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]pw\f[] \f\*[I-Font]password\f[]]
 This command requires the OpenSSL library.
@@ -1038,7 +1038,7 @@
 \f\*[I-Font]key\f[]
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .TP 7
 .NOP \f\*[B-Font]revoke\f[] \f\*[I-Font]logsec\f[]
 Specifies the interval between re-randomization of certain
@@ -1067,7 +1067,7 @@
 The
 \f\*[I-Font]key\f[]
 arguments are 32-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .PP
 .SS Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/ntp.conf.5mdoc.orig
+++ contrib/ntp/ntpd/ntp.conf.5mdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_CONF 5mdoc File Formats
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:42 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:34 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.conf.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -325,7 +325,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 .Ar key
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .It Cm minpoll Ar minpoll
@@ -583,7 +583,7 @@
 .Li http://www.ntp.org/ .
 .Ss Symmetric\-Key Cryptography
 The original RFC\-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32\-bit key identifier, to
+65,535 keys, each distinguished by a 32\-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -877,7 +877,7 @@
 .Ar key
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .It Xo Ic crypto
 .Op Cm cert Ar file
 .Op Cm leap Ar file
@@ -981,7 +981,7 @@
 .Ar key
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .It Ic revoke Ar logsec
 Specifies the interval between re\-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
@@ -1008,7 +1008,7 @@
 The
 .Ar key
 arguments are 32\-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .El
 .Ss Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/ntp.conf.def.orig
+++ contrib/ntp/ntpd/ntp.conf.def
@@ -327,7 +327,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 .Ar key
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .It Cm minpoll Ar minpoll
@@ -585,7 +585,7 @@
 .Li http://www.ntp.org/ .
 .Ss Symmetric-Key Cryptography
 The original RFC-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32-bit key identifier, to
+65,535 keys, each distinguished by a 32-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -879,7 +879,7 @@
 .Ar key
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .It Xo Ic crypto
 .Op Cm cert Ar file
 .Op Cm leap Ar file
@@ -983,7 +983,7 @@
 .Ar key
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .It Ic revoke Ar logsec
 Specifies the interval between re-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
@@ -1010,7 +1010,7 @@
 The
 .Ar key
 arguments are 32-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .El
 .Ss Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/ntp.conf.html.orig
+++ contrib/ntp/ntpd/ntp.conf.html
@@ -1,128 +1,168 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>NTP Configuration File User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="NTP Configuration File User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>NTP Configuration File User&rsquo;s Manual</title>
+
+<meta name="description" content="NTP Configuration File User&rsquo;s Manual">
+<meta name="keywords" content="NTP Configuration File User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">NTP Configuration File User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002econf-Description">ntp.conf Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">NTP's Configuration File User Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">NTP Configuration File User&rsquo;s Manual</h1>
 
-<p>This document describes the configuration file for the NTP Project's
-<code>ntpd</code> program.
 
-  <p>This document applies to version 4.2.8p11 of <code>ntp.conf</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">NTP's Configuration File User Manual</a>
-</ul>
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002econf-Description" accesskey="n" rel="next">ntp.conf Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="NTP_0027s-Configuration-File-User-Manual"></a>
+<h1 class="top">NTP&rsquo;s Configuration File User Manual</h1>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002econf-Description">ntp.conf Description</a>
-<li><a accesskey="2" href="#ntp_002econf-Notes">ntp.conf Notes</a>
+<p>This document describes the configuration file for the NTP Project&rsquo;s
+<code>ntpd</code> program.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntp.conf</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="ntp_002econf-Description"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Description" accesskey="1">ntp.conf Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Notes" accesskey="2">ntp.conf Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="ntp_002econf-Description"></a>
+<div class="header">
+<p>
+Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>The behavior of  <code>ntpd</code> can be changed by a configuration file,
 by default <code>ntp.conf</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Notes" accesskey="1">ntp.conf Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntp_002econf-Notes"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002econf-Bugs" accesskey="p" rel="prev">ntp.conf Bugs</a>, Up: <a href="#ntp_002econf-Description" accesskey="u" rel="up">ntp.conf Description</a> &nbsp; </p>
 </div>
+<a name="Notes-about-ntp_002econf"></a>
+<h3 class="section">1.1 Notes about ntp.conf</h3>
+<a name="index-ntp_002econf"></a>
+<a name="index-Network-Time-Protocol-_0028NTP_0029-daemon-configuration-file-format"></a>
 
-<h3 class="section">Notes about ntp.conf</h3>
 
-<p><a name="index-ntp_002econf-1"></a><a name="index-Network-Time-Protocol-_0028NTP_0029-daemon-configuration-file-format-2"></a>
 
-  <p>The
+<p>The
 <code>ntp.conf</code>
 configuration file is read at initial startup by the
 <code>ntpd(1ntpdmdoc)</code>
 daemon in order to specify the synchronization sources,
-modes and other related information. 
+modes and other related information.
 Usually, it is installed in the
-<span class="file">/etc</span>
+<samp>/etc</samp>
 directory,
 but could be installed elsewhere
-(see the daemon's
+(see the daemon&rsquo;s
 <code>-c</code>
 command line option).
-
-  <p>The file format is similar to other
-<span class="sc">unix</span>
-configuration files. 
+</p>
+<p>The file format is similar to other
+<small>UNIX</small>
+configuration files.
 Comments begin with a
-#
+&lsquo;#&rsquo;
 character and extend to the end of the line;
-blank lines are ignored. 
+blank lines are ignored.
 Configuration commands consist of an initial keyword
 followed by a list of arguments,
-some of which may be optional, separated by whitespace. 
-Commands may not be continued over multiple lines. 
+some of which may be optional, separated by whitespace.
+Commands may not be continued over multiple lines.
 Arguments may be host names,
 host addresses written in numeric, dotted-quad form,
 integers, floating point numbers (when specifying times in seconds)
 and text strings.
-
-  <p>The rest of this page describes the configuration and control options. 
+</p>
+<p>The rest of this page describes the configuration and control options.
 The
-"Notes on Configuring NTP and Setting up an NTP Subnet"
+&quot;Notes on Configuring NTP and Setting up an NTP Subnet&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>)
-contains an extended discussion of these options. 
+<samp>/usr/share/doc/ntp</samp>)
+contains an extended discussion of these options.
 In addition to the discussion of general
-<a href="#Configuration-Options">Configuration Options</a>,
+&lsquo;Configuration Options&rsquo;,
 there are sections describing the following supported functionality
 and the options used to control it:
-     <ul>
-<li><a href="#Authentication-Support">Authentication Support</a>
-<li><a href="#Monitoring-Support">Monitoring Support</a>
-<li><a href="#Access-Control-Support">Access Control Support</a>
-<li><a href="#Automatic-NTP-Configuration-Options">Automatic NTP Configuration Options</a>
-<li><a href="#Reference-Clock-Support">Reference Clock Support</a>
-<li><a href="#Miscellaneous-Options">Miscellaneous Options</a>
-</ul>
+</p><ul>
+<li> <a href="#Authentication-Support">Authentication Support</a>
+</li><li> <a href="#Monitoring-Support">Monitoring Support</a>
+</li><li> <a href="#Access-Control-Support">Access Control Support</a>
+</li><li> <a href="#Automatic-NTP-Configuration-Options">Automatic NTP Configuration Options</a>
+</li><li> <a href="#Reference-Clock-Support">Reference Clock Support</a>
+</li><li> <a href="#Miscellaneous-Options">Miscellaneous Options</a>
+</li></ul>
 
-  <p>Following these is a section describing
-<a href="#Miscellaneous-Options">Miscellaneous Options</a>. 
+<p>Following these is a section describing
+<a href="#Miscellaneous-Options">Miscellaneous Options</a>.
 While there is a rich set of options available,
 the only required option is one or more
 <code>pool</code>,
@@ -131,42 +171,66 @@
 <code>broadcast</code>
 or
 <code>manycastclient</code>
-commands. 
-<div class="node">
-<p><hr>
+commands.
+</p><table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#Configuration-Support" accesskey="1">Configuration Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Authentication-Support" accesskey="2">Authentication Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Monitoring-Support" accesskey="3">Monitoring Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Access-Control-Support" accesskey="4">Access Control Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Automatic-NTP-Configuration-Options" accesskey="5">Automatic NTP Configuration Options</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Reference-Clock-Support" accesskey="6">Reference Clock Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Miscellaneous-Options" accesskey="7">Miscellaneous Options</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Files" accesskey="8">ntp.conf Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-See-Also" accesskey="9">ntp.conf See Also</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Bugs">ntp.conf Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; :</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
 <a name="Configuration-Support"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Authentication-Support" accesskey="n" rel="next">Authentication Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Configuration Support</h4>
-
+<a name="Configuration-Support-1"></a>
+<h4 class="subsection">1.1.1 Configuration Support</h4>
 <p>Following is a description of the configuration commands in
-NTPv4. 
+NTPv4.
 These commands have the same basic functions as in NTPv3 and
-in some cases new functions and new arguments. 
+in some cases new functions and new arguments.
 There are two
 classes of commands, configuration commands that configure a
 persistent association with a remote server or peer or reference
 clock, and auxiliary commands that specify environmental variables
 that control various related operations.
-
-<h5 class="subsubsection">Configuration Commands</h5>
-
+</p><a name="Configuration-Commands"></a>
+<h4 class="subsubsection">1.1.1.1 Configuration Commands</h4>
 <p>The various modes are determined by the command keyword and the
-type of the required IP address. 
+type of the required IP address.
 Addresses are classed by type as
 (s) a remote server or peer (IPv4 class A, B and C), (b) the
 broadcast address of a local interface, (m) a multicast address (IPv4
-class D), or (r) a reference clock address (127.127.x.x). 
+class D), or (r) a reference clock address (127.127.x.x).
 Note that
-only those options applicable to each command are listed below. 
+only those options applicable to each command are listed below.
 Use
 of options not listed may not be caught as an error, but may result
 in some weird and even destructive behavior.
-
-  <p>If the Basic Socket Interface Extensions for IPv6 (RFC-2553)
+</p>
+<p>If the Basic Socket Interface Extensions for IPv6 (RFC-2553)
 is detected, support for the IPv6 address family is generated
-in addition to the default support of the IPv4 address family. 
+in addition to the default support of the IPv4 address family.
 In a few cases, including the
 <code>reslist</code>
 billboard generated
@@ -174,84 +238,96 @@
 <code>ntpq(1ntpqmdoc)</code>
 or
 <code>ntpdc(1ntpdcmdoc)</code>,
-IPv6 addresses are automatically generated. 
+IPv6 addresses are automatically generated.
 IPv6 addresses can be identified by the presence of colons
-:
-in the address field. 
+&ldquo;:&rdquo;
+in the address field.
 IPv6 addresses can be used almost everywhere where
 IPv4 addresses can be used,
 with the exception of reference clock addresses,
 which are always IPv4.
-
-  <p>Note that in contexts where a host name is expected, a
+</p>
+<p>Note that in contexts where a host name is expected, a
 <code>-4</code>
 qualifier preceding
 the host name forces DNS resolution to the IPv4 namespace,
 while a
 <code>-6</code>
-qualifier forces DNS resolution to the IPv6 namespace. 
+qualifier forces DNS resolution to the IPv6 namespace.
 See IPv6 references for the
 equivalent classes for that address family.
-     <dl>
-<dt><code>pool</code> <kbd>address</kbd> <code>[burst]</code> <code>[iburst]</code> <code>[version </code><kbd>version</kbd><code>]</code> <code>[prefer]</code> <code>[minpoll </code><kbd>minpoll</kbd><code>]</code> <code>[maxpoll </code><kbd>maxpoll</kbd><code>]</code><br><dt><code>server</code> <kbd>address</kbd> <code>[key </code><kbd>key</kbd> <kbd>|</kbd><code> autokey]</code> <code>[burst]</code> <code>[iburst]</code> <code>[version </code><kbd>version</kbd><code>]</code> <code>[prefer]</code> <code>[minpoll </code><kbd>minpoll</kbd><code>]</code> <code>[maxpoll </code><kbd>maxpoll</kbd><code>]</code> <code>[true]</code><br><dt><code>peer</code> <kbd>address</kbd> <code>[key </code><kbd>key</kbd> <kbd>|</kbd><code> autokey]</code> <code>[version </code><kbd>version</kbd><code>]</code> <code>[prefer]</code> <code>[minpoll </code><kbd>minpoll</kbd><code>]</code> <code>[maxpoll </code><kbd>maxpoll</kbd><code>]</code> <code>[true]</code> <code>[xleave]</code><br><dt><code>broadcast</code> <kbd>address</kbd> <code>[key </code><kbd>key</kbd> <kbd>|</kbd><code> autokey]</code> <code>[version </code><kbd>version</kbd><code>]</code> <code>[prefer]</code> <code>[minpoll </code><kbd>minpoll</kbd><code>]</code> <code>[ttl </code><kbd>ttl</kbd><code>]</code> <code>[xleave]</code><br><dt><code>manycastclient</code> <kbd>address</kbd> <code>[key </code><kbd>key</kbd> <kbd>|</kbd><code> autokey]</code> <code>[version </code><kbd>version</kbd><code>]</code> <code>[prefer]</code> <code>[minpoll </code><kbd>minpoll</kbd><code>]</code> <code>[maxpoll </code><kbd>maxpoll</kbd><code>]</code> <code>[ttl </code><kbd>ttl</kbd><code>]</code><dd></dl>
+</p><dl compact="compact">
+<dt><code>pool</code> <kbd>address</kbd> <code>[<code>burst</code>]</code> <code>[<code>iburst</code>]</code> <code>[<code>version</code> <kbd>version</kbd>]</code> <code>[<code>prefer</code>]</code> <code>[<code>minpoll</code> <kbd>minpoll</kbd>]</code> <code>[<code>maxpoll</code> <kbd>maxpoll</kbd>]</code></dt>
+<dt><code>server</code> <kbd>address</kbd> <code>[<code>key</code> <kbd>key</kbd> <kbd>|</kbd> <code>autokey</code>]</code> <code>[<code>burst</code>]</code> <code>[<code>iburst</code>]</code> <code>[<code>version</code> <kbd>version</kbd>]</code> <code>[<code>prefer</code>]</code> <code>[<code>minpoll</code> <kbd>minpoll</kbd>]</code> <code>[<code>maxpoll</code> <kbd>maxpoll</kbd>]</code> <code>[<code>true</code>]</code></dt>
+<dt><code>peer</code> <kbd>address</kbd> <code>[<code>key</code> <kbd>key</kbd> <kbd>|</kbd> <code>autokey</code>]</code> <code>[<code>version</code> <kbd>version</kbd>]</code> <code>[<code>prefer</code>]</code> <code>[<code>minpoll</code> <kbd>minpoll</kbd>]</code> <code>[<code>maxpoll</code> <kbd>maxpoll</kbd>]</code> <code>[<code>true</code>]</code> <code>[<code>xleave</code>]</code></dt>
+<dt><code>broadcast</code> <kbd>address</kbd> <code>[<code>key</code> <kbd>key</kbd> <kbd>|</kbd> <code>autokey</code>]</code> <code>[<code>version</code> <kbd>version</kbd>]</code> <code>[<code>prefer</code>]</code> <code>[<code>minpoll</code> <kbd>minpoll</kbd>]</code> <code>[<code>ttl</code> <kbd>ttl</kbd>]</code> <code>[<code>xleave</code>]</code></dt>
+<dt><code>manycastclient</code> <kbd>address</kbd> <code>[<code>key</code> <kbd>key</kbd> <kbd>|</kbd> <code>autokey</code>]</code> <code>[<code>version</code> <kbd>version</kbd>]</code> <code>[<code>prefer</code>]</code> <code>[<code>minpoll</code> <kbd>minpoll</kbd>]</code> <code>[<code>maxpoll</code> <kbd>maxpoll</kbd>]</code> <code>[<code>ttl</code> <kbd>ttl</kbd>]</code></dt>
+</dl>
 
-  <p>These five commands specify the time server name or address to
-be used and the mode in which to operate. 
+<p>These five commands specify the time server name or address to
+be used and the mode in which to operate.
 The
 <kbd>address</kbd>
 can be
-either a DNS name or an IP address in dotted-quad notation. 
+either a DNS name or an IP address in dotted-quad notation.
 Additional information on association behavior can be found in the
-"Association Management"
+&quot;Association Management&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>).
-     <dl>
-<dt><code>pool</code><dd>For type s addresses, this command mobilizes a persistent
-client mode association with a number of remote servers. 
+<samp>/usr/share/doc/ntp</samp>).
+</p><dl compact="compact">
+<dt><code>pool</code></dt>
+<dd><p>For type s addresses, this command mobilizes a persistent
+client mode association with a number of remote servers.
 In this mode the local clock can synchronized to the
 remote server, but the remote server can never be synchronized to
-the local clock. 
-<br><dt><code>server</code><dd>For type s and r addresses, this command mobilizes a persistent
+the local clock.
+</p></dd>
+<dt><code>server</code></dt>
+<dd><p>For type s and r addresses, this command mobilizes a persistent
 client mode association with the specified remote server or local
-radio clock. 
+radio clock.
 In this mode the local clock can synchronized to the
 remote server, but the remote server can never be synchronized to
-the local clock. 
+the local clock.
 This command should
 <em>not</em>
 be used for type
-b or m addresses. 
-<br><dt><code>peer</code><dd>For type s addresses (only), this command mobilizes a
+b or m addresses.
+</p></dd>
+<dt><code>peer</code></dt>
+<dd><p>For type s addresses (only), this command mobilizes a
 persistent symmetric-active mode association with the specified
-remote peer. 
+remote peer.
 In this mode the local clock can be synchronized to
 the remote peer or the remote peer can be synchronized to the local
-clock. 
+clock.
 This is useful in a network of servers where, depending on
 various failure scenarios, either the local or remote peer may be
-the better source of time. 
+the better source of time.
 This command should NOT be used for type
-b, m or r addresses. 
-<br><dt><code>broadcast</code><dd>For type b and m addresses (only), this
-command mobilizes a persistent broadcast mode association. 
+b, m or r addresses.
+</p></dd>
+<dt><code>broadcast</code></dt>
+<dd><p>For type b and m addresses (only), this
+command mobilizes a persistent broadcast mode association.
 Multiple
 commands can be used to specify multiple local broadcast interfaces
-(subnets) and/or multiple multicast groups. 
+(subnets) and/or multiple multicast groups.
 Note that local
 broadcast messages go only to the interface associated with the
-subnet specified, but multicast messages go to all interfaces. 
+subnet specified, but multicast messages go to all interfaces.
 In broadcast mode the local server sends periodic broadcast
 messages to a client population at the
 <kbd>address</kbd>
 specified, which is usually the broadcast address on (one of) the
-local network(s) or a multicast address assigned to NTP. 
+local network(s) or a multicast address assigned to NTP.
 The IANA
 has assigned the multicast group address IPv4 224.0.1.1 and
 IPv6 ff05::101 (site local) exclusively to
 NTP, but other nonconflicting addresses can be used to contain the
-messages within administrative boundaries. 
+messages within administrative boundaries.
 Ordinarily, this
 specification applies only to the local server operating as a
 sender; for operation as a broadcast client, see the
@@ -259,65 +335,73 @@
 or
 <code>multicastclient</code>
 commands
-below. 
-<br><dt><code>manycastclient</code><dd>For type m addresses (only), this command mobilizes a
+below.
+</p></dd>
+<dt><code>manycastclient</code></dt>
+<dd><p>For type m addresses (only), this command mobilizes a
 manycast client mode association for the multicast address
-specified. 
+specified.
 In this case a specific address must be supplied which
 matches the address used on the
 <code>manycastserver</code>
 command for
-the designated manycast servers. 
+the designated manycast servers.
 The NTP multicast address
 224.0.1.1 assigned by the IANA should NOT be used, unless specific
 means are taken to avoid spraying large areas of the Internet with
 these messages and causing a possibly massive implosion of replies
-at the sender. 
+at the sender.
 The
 <code>manycastserver</code>
 command specifies that the local server
 is to operate in client mode with the remote servers that are
-discovered as the result of broadcast/multicast messages. 
+discovered as the result of broadcast/multicast messages.
 The
 client broadcasts a request message to the group address associated
 with the specified
 <kbd>address</kbd>
 and specifically enabled
-servers respond to these messages. 
+servers respond to these messages.
 The client selects the servers
 providing the best time and continues as with the
 <code>server</code>
-command. 
+command.
 The remaining servers are discarded as if never
-heard. 
+heard.
+</p></dd>
 </dl>
 
-  <p>Options:
-     <dl>
-<dt><code>autokey</code><dd>All packets sent to and received from the server or peer are to
+<p>Options:
+</p><dl compact="compact">
+<dt><code>autokey</code></dt>
+<dd><p>All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the autokey scheme
 described in
-<a href="#Authentication-Options">Authentication Options</a>. 
-<br><dt><code>burst</code><dd>when the server is reachable, send a burst of eight packets
-instead of the usual one. 
+&lsquo;Authentication Options&rsquo;.
+</p></dd>
+<dt><code>burst</code></dt>
+<dd><p>when the server is reachable, send a burst of eight packets
+instead of the usual one.
 The packet spacing is normally 2 s;
 however, the spacing between the first and second packets
 can be changed with the
 <code>calldelay</code>
 command to allow
-additional time for a modem or ISDN call to complete. 
+additional time for a modem or ISDN call to complete.
 This is designed to improve timekeeping quality
 with the
 <code>server</code>
-command and s addresses. 
-<br><dt><code>iburst</code><dd>When the server is unreachable, send a burst of eight packets
-instead of the usual one. 
+command and s addresses.
+</p></dd>
+<dt><code>iburst</code></dt>
+<dd><p>When the server is unreachable, send a burst of eight packets
+instead of the usual one.
 The packet spacing is normally 2 s;
 however, the spacing between the first two packets can be
 changed with the
 <code>calldelay</code>
 command to allow
-additional time for a modem or ISDN call to complete. 
+additional time for a modem or ISDN call to complete.
 This is designed to speed the initial synchronization
 acquisition with the
 <code>server</code>
@@ -325,46 +409,63 @@
 <code>ntpd(1ntpdmdoc)</code>
 is started with the
 <code>-q</code>
-option. 
-<br><dt><code>key</code> <kbd>key</kbd><dd>All packets sent to and received from the server or peer are to
+option.
+</p></dd>
+<dt><code>key</code> <kbd>key</kbd></dt>
+<dd><p>All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 <kbd>key</kbd>
-identifier with values from 1 to 65534, inclusive. 
+identifier with values from 1 to 65535, inclusive.
 The
-default is to include no encryption field. 
-<br><dt><code>minpoll</code> <kbd>minpoll</kbd><br><dt><code>maxpoll</code> <kbd>maxpoll</kbd><dd>These options specify the minimum and maximum poll intervals
+default is to include no encryption field.
+</p></dd>
+<dt><code>minpoll</code> <kbd>minpoll</kbd></dt>
+<dt><code>maxpoll</code> <kbd>maxpoll</kbd></dt>
+<dd><p>These options specify the minimum and maximum poll intervals
 for NTP messages, as a power of 2 in seconds
 The maximum poll
 interval defaults to 10 (1,024 s), but can be increased by the
 <code>maxpoll</code>
-option to an upper limit of 17 (36.4 h). 
+option to an upper limit of 17 (36.4 h).
 The
 minimum poll interval defaults to 6 (64 s), but can be decreased by
 the
 <code>minpoll</code>
-option to a lower limit of 4 (16 s). 
-<br><dt><code>noselect</code><dd>Marks the server as unused, except for display purposes. 
-The server is discarded by the selection algroithm. 
-<br><dt><code>preempt</code><dd>Says the association can be preempted. 
-<br><dt><code>true</code><dd>Marks the server as a truechimer. 
-Use this option only for testing. 
-<br><dt><code>prefer</code><dd>Marks the server as preferred. 
+option to a lower limit of 4 (16 s).
+</p></dd>
+<dt><code>noselect</code></dt>
+<dd><p>Marks the server as unused, except for display purposes.
+The server is discarded by the selection algroithm.
+</p></dd>
+<dt><code>preempt</code></dt>
+<dd><p>Says the association can be preempted.
+</p></dd>
+<dt><code>true</code></dt>
+<dd><p>Marks the server as a truechimer.
+Use this option only for testing.
+</p></dd>
+<dt><code>prefer</code></dt>
+<dd><p>Marks the server as preferred.
 All other things being equal,
 this host will be chosen for synchronization among a set of
-correctly operating hosts. 
+correctly operating hosts.
 See the
-"Mitigation Rules and the prefer Keyword"
+&quot;Mitigation Rules and the prefer Keyword&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>)
-for further information. 
-<br><dt><code>true</code><dd>Forces the association to always survive the selection and clustering algorithms. 
+<samp>/usr/share/doc/ntp</samp>)
+for further information.
+</p></dd>
+<dt><code>true</code></dt>
+<dd><p>Forces the association to always survive the selection and clustering algorithms.
 This option should almost certainly
 <em>only</em>
-be used while testing an association. 
-<br><dt><code>ttl</code> <kbd>ttl</kbd><dd>This option is used only with broadcast server and manycast
-client modes. 
+be used while testing an association.
+</p></dd>
+<dt><code>ttl</code> <kbd>ttl</kbd></dt>
+<dd><p>This option is used only with broadcast server and manycast
+client modes.
 It specifies the time-to-live
 <kbd>ttl</kbd>
 to
@@ -371,121 +472,133 @@
 use on broadcast server and multicast server and the maximum
 <kbd>ttl</kbd>
 for the expanding ring search with manycast
-client packets. 
+client packets.
 Selection of the proper value, which defaults to
 127, is something of a black art and should be coordinated with the
-network administrator. 
-<br><dt><code>version</code> <kbd>version</kbd><dd>Specifies the version number to be used for outgoing NTP
-packets. 
+network administrator.
+</p></dd>
+<dt><code>version</code> <kbd>version</kbd></dt>
+<dd><p>Specifies the version number to be used for outgoing NTP
+packets.
 Versions 1-4 are the choices, with version 4 the
-default. 
-<br><dt><code>xleave</code><dd>Valid in
+default.
+</p></dd>
+<dt><code>xleave</code></dt>
+<dd><p>Valid in
 <code>peer</code>
 and
 <code>broadcast</code>
-modes only, this flag enables interleave mode. 
+modes only, this flag enables interleave mode.
+</p></dd>
 </dl>
-
-<h5 class="subsubsection">Auxiliary Commands</h5>
-
-     <dl>
-<dt><code>broadcastclient</code><dd>This command enables reception of broadcast server messages to
-any local interface (type b) address. 
+<a name="Auxiliary-Commands"></a>
+<h4 class="subsubsection">1.1.1.2 Auxiliary Commands</h4>
+<dl compact="compact">
+<dt><code>broadcastclient</code></dt>
+<dd><p>This command enables reception of broadcast server messages to
+any local interface (type b) address.
 Upon receiving a message for
 the first time, the broadcast client measures the nominal server
 propagation delay using a brief client/server exchange with the
 server, then enters the broadcast client mode, in which it
-synchronizes to succeeding broadcast messages. 
+synchronizes to succeeding broadcast messages.
 Note that, in order
 to avoid accidental or malicious disruption in this mode, both the
 server and client should operate using symmetric-key or public-key
 authentication as described in
-<a href="#Authentication-Options">Authentication Options</a>. 
-<br><dt><code>manycastserver</code> <kbd>address</kbd> <kbd>...</kbd><dd>This command enables reception of manycast client messages to
-the multicast group address(es) (type m) specified. 
+&lsquo;Authentication Options&rsquo;.
+</p></dd>
+<dt><code>manycastserver</code> <kbd>address</kbd> <kbd>...</kbd></dt>
+<dd><p>This command enables reception of manycast client messages to
+the multicast group address(es) (type m) specified.
 At least one
 address is required, but the NTP multicast address 224.0.1.1
 assigned by the IANA should NOT be used, unless specific means are
 taken to limit the span of the reply and avoid a possibly massive
-implosion at the original sender. 
+implosion at the original sender.
 Note that, in order to avoid
 accidental or malicious disruption in this mode, both the server
 and client should operate using symmetric-key or public-key
 authentication as described in
-<a href="#Authentication-Options">Authentication Options</a>. 
-<br><dt><code>multicastclient</code> <kbd>address</kbd> <kbd>...</kbd><dd>This command enables reception of multicast server messages to
-the multicast group address(es) (type m) specified. 
+&lsquo;Authentication Options&rsquo;.
+</p></dd>
+<dt><code>multicastclient</code> <kbd>address</kbd> <kbd>...</kbd></dt>
+<dd><p>This command enables reception of multicast server messages to
+the multicast group address(es) (type m) specified.
 Upon receiving
 a message for the first time, the multicast client measures the
 nominal server propagation delay using a brief client/server
 exchange with the server, then enters the broadcast client mode, in
-which it synchronizes to succeeding multicast messages. 
+which it synchronizes to succeeding multicast messages.
 Note that,
 in order to avoid accidental or malicious disruption in this mode,
 both the server and client should operate using symmetric-key or
 public-key authentication as described in
-<a href="#Authentication-Options">Authentication Options</a>. 
-<br><dt><code>mdnstries</code> <kbd>number</kbd><dd>If we are participating in mDNS,
+&lsquo;Authentication Options&rsquo;.
+</p></dd>
+<dt><code>mdnstries</code> <kbd>number</kbd></dt>
+<dd><p>If we are participating in mDNS,
 after we have synched for the first time
-we attempt to register with the mDNS system. 
+we attempt to register with the mDNS system.
 If that registration attempt fails,
 we try again at one minute intervals for up to
 <code>mdnstries</code>
-times. 
+times.
 After all,
 <code>ntpd</code>
-may be starting before mDNS. 
+may be starting before mDNS.
 The default value for
 <code>mdnstries</code>
-is 5. 
+is 5.
+</p></dd>
 </dl>
-<div class="node">
-<p><hr>
+<hr>
 <a name="Authentication-Support"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Monitoring-Support" accesskey="n" rel="next">Monitoring Support</a>, Previous: <a href="#Configuration-Support" accesskey="p" rel="prev">Configuration Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Authentication Support</h4>
-
+<a name="Authentication-Support-1"></a>
+<h4 class="subsection">1.1.2 Authentication Support</h4>
 <p>Authentication support allows the NTP client to verify that the
 server is in fact known and trusted and not an intruder intending
-accidentally or on purpose to masquerade as that server. 
+accidentally or on purpose to masquerade as that server.
 The NTPv3
 specification RFC-1305 defines a scheme which provides
-cryptographic authentication of received NTP packets. 
+cryptographic authentication of received NTP packets.
 Originally,
 this was done using the Data Encryption Standard (DES) algorithm
 operating in Cipher Block Chaining (CBC) mode, commonly called
-DES-CBC. 
+DES-CBC.
 Subsequently, this was replaced by the RSA Message Digest
-5 (MD5) algorithm using a private key, commonly called keyed-MD5. 
+5 (MD5) algorithm using a private key, commonly called keyed-MD5.
 Either algorithm computes a message digest, or one-way hash, which
 can be used to verify the server has the correct private key and
 key identifier.
-
-  <p>NTPv4 retains the NTPv3 scheme, properly described as symmetric key
+</p>
+<p>NTPv4 retains the NTPv3 scheme, properly described as symmetric key
 cryptography and, in addition, provides a new Autokey scheme
-based on public key cryptography. 
+based on public key cryptography.
 Public key cryptography is generally considered more secure
 than symmetric key cryptography, since the security is based
 on a private value which is generated by each server and
-never revealed. 
+never revealed.
 With Autokey all key distribution and
 management functions involve only public values, which
-considerably simplifies key distribution and storage. 
+considerably simplifies key distribution and storage.
 Public key management is based on X.509 certificates,
 which can be provided by commercial services or
 produced by utility programs in the OpenSSL software library
 or the NTPv4 distribution.
-
-  <p>While the algorithms for symmetric key cryptography are
+</p>
+<p>While the algorithms for symmetric key cryptography are
 included in the NTPv4 distribution, public key cryptography
 requires the OpenSSL software library to be installed
-before building the NTP distribution. 
+before building the NTP distribution.
 Directions for doing that
 are on the Building and Installing the Distribution page.
-
-  <p>Authentication is configured separately for each association
+</p>
+<p>Authentication is configured separately for each association
 using the
 <code>key</code>
 or
@@ -497,36 +610,36 @@
 and
 <code>manycastclient</code>
 configuration commands as described in
-<a href="#Configuration-Options">Configuration Options</a>
-page. 
+&lsquo;Configuration Options&rsquo;
+page.
 The authentication
 options described below specify the locations of the key files,
 if other than default, which symmetric keys are trusted
 and the interval between various operations, if other than default.
-
-  <p>Authentication is always enabled,
+</p>
+<p>Authentication is always enabled,
 although ineffective if not configured as
-described below. 
+described below.
 If a NTP packet arrives
 including a message authentication
 code (MAC), it is accepted only if it
-passes all cryptographic checks. 
+passes all cryptographic checks.
 The
 checks require correct key ID, key value
-and message digest. 
+and message digest.
 If the packet has
 been modified in any way or replayed
 by an intruder, it will fail one or more
-of these checks and be discarded. 
+of these checks and be discarded.
 Furthermore, the Autokey scheme requires a
 preliminary protocol exchange to obtain
 the server certificate, verify its
 credentials and initialize the protocol
-
-  <p>The
+</p>
+<p>The
 <code>auth</code>
 flag controls whether new associations or
-remote configuration commands require cryptographic authentication. 
+remote configuration commands require cryptographic authentication.
 This flag can be set or reset by the
 <code>enable</code>
 and
@@ -535,15 +648,15 @@
 configuration commands sent by a
 <code>ntpdc(1ntpdcmdoc)</code>
 program running on
-another machine. 
+another machine.
 If this flag is enabled, which is the default
 case, new broadcast client and symmetric passive associations and
 remote configuration commands must be cryptographically
-authenticated using either symmetric key or public key cryptography. 
+authenticated using either symmetric key or public key cryptography.
 If this
 flag is disabled, these operations are effective
 even if not cryptographic
-authenticated. 
+authenticated.
 It should be understood
 that operating with the
 <code>auth</code>
@@ -550,7 +663,7 @@
 flag disabled invites a significant vulnerability
 where a rogue hacker can
 masquerade as a falseticker and seriously
-disrupt system timekeeping. 
+disrupt system timekeeping.
 It is
 important to note that this flag has no purpose
 other than to allow or disallow
@@ -559,14 +672,14 @@
 and remote configuration commands and, in particular,
 the flag has no effect on
 the authentication process itself.
-
-  <p>An attractive alternative where multicast support is available
+</p>
+<p>An attractive alternative where multicast support is available
 is manycast mode, in which clients periodically troll
 for servers as described in the
 <a href="#Automatic-NTP-Configuration-Options">Automatic NTP Configuration Options</a>
-page. 
+page.
 Either symmetric key or public key
-cryptographic authentication can be used in this mode. 
+cryptographic authentication can be used in this mode.
 The principle advantage
 of manycast mode is that potential servers need not be
 configured in advance,
@@ -573,28 +686,27 @@
 since the client finds them during regular operation,
 and the configuration
 files for all clients can be identical.
-
-  <p>The security model and protocol schemes for
+</p>
+<p>The security model and protocol schemes for
 both symmetric key and public key
 cryptography are summarized below;
 further details are in the briefings, papers
 and reports at the NTP project page linked from
 <code>http://www.ntp.org/</code>.
-
-<h5 class="subsubsection">Symmetric-Key Cryptography</h5>
-
+</p><a name="Symmetric_002dKey-Cryptography"></a>
+<h4 class="subsubsection">1.1.2.1 Symmetric-Key Cryptography</h4>
 <p>The original RFC-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32-bit key identifier, to
-authenticate an association. 
+65,535 keys, each distinguished by a 32-bit key identifier, to
+authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
-authenticate NTP packets. 
+authenticate NTP packets.
 Keys and
 related information are specified in a key
 file, usually called
-<span class="file">ntp.keys</span>,
+<samp>ntp.keys</samp>,
 which must be distributed and stored using
-secure means beyond the scope of the NTP protocol itself. 
+secure means beyond the scope of the NTP protocol itself.
 Besides the keys used
 for ordinary NTP associations,
 additional keys can be used as passwords for the
@@ -602,25 +714,25 @@
 and
 <code>ntpdc(1ntpdcmdoc)</code>
 utility programs.
-
-  <p>When
+</p>
+<p>When
 <code>ntpd(1ntpdmdoc)</code>
 is first started, it reads the key file specified in the
 <code>keys</code>
 configuration command and installs the keys
-in the key cache. 
+in the key cache.
 However,
 individual keys must be activated with the
 <code>trusted</code>
-command before use. 
+command before use.
 This
 allows, for instance, the installation of possibly
 several batches of keys and
 then activating or deactivating each batch
 remotely using
-<code>ntpdc(1ntpdcmdoc)</code>. 
+<code>ntpdc(1ntpdcmdoc)</code>.
 This also provides a revocation capability that can be used
-if a key becomes compromised. 
+if a key becomes compromised.
 The
 <code>requestkey</code>
 command selects the key used as the password for the
@@ -630,121 +742,118 @@
 command selects the key used as the password for the
 <code>ntpq(1ntpqmdoc)</code>
 utility.
-
-<h5 class="subsubsection">Public Key Cryptography</h5>
-
+</p><a name="Public-Key-Cryptography"></a>
+<h4 class="subsubsection">1.1.2.2 Public Key Cryptography</h4>
 <p>NTPv4 supports the original NTPv3 symmetric key scheme
 described in RFC-1305 and in addition the Autokey protocol,
-which is based on public key cryptography. 
+which is based on public key cryptography.
 The Autokey Version 2 protocol described on the Autokey Protocol
 page verifies packet integrity using MD5 message digests
 and verifies the source with digital signatures and any of several
-digest/signature schemes. 
+digest/signature schemes.
 Optional identity schemes described on the Identity Schemes
 page and based on cryptographic challenge/response algorithms
-are also available. 
+are also available.
 Using all of these schemes provides strong security against
 replay with or without modification, spoofing, masquerade
 and most forms of clogging attacks.
-
-  <p>The Autokey protocol has several modes of operation
-corresponding to the various NTP modes supported. 
+</p>
+<p>The Autokey protocol has several modes of operation
+corresponding to the various NTP modes supported.
 Most modes use a special cookie which can be
 computed independently by the client and server,
-but encrypted in transmission. 
+but encrypted in transmission.
 All modes use in addition a variant of the S-KEY scheme,
 in which a pseudo-random key list is generated and used
-in reverse order. 
+in reverse order.
 These schemes are described along with an executive summary,
 current status, briefing slides and reading list on the
-<a href="#Autonomous-Authentication">Autonomous Authentication</a>
+&lsquo;Autonomous Authentication&rsquo;
 page.
-
-  <p>The specific cryptographic environment used by Autokey servers
+</p>
+<p>The specific cryptographic environment used by Autokey servers
 and clients is determined by a set of files
 and soft links generated by the
 <code>ntp-keygen(1ntpkeygenmdoc)</code>
-program. 
+program.
 This includes a required host key file,
 required certificate file and optional sign key file,
-leapsecond file and identity scheme files. 
+leapsecond file and identity scheme files.
 The
 digest/signature scheme is specified in the X.509 certificate
-along with the matching sign key. 
+along with the matching sign key.
 There are several schemes
 available in the OpenSSL software library, each identified
 by a specific string such as
 <code>md5WithRSAEncryption</code>,
 which stands for the MD5 message digest with RSA
-encryption scheme. 
+encryption scheme.
 The current NTP distribution supports
 all the schemes in the OpenSSL library, including
 those based on RSA and DSA digital signatures.
-
-  <p>NTP secure groups can be used to define cryptographic compartments
-and security hierarchies. 
+</p>
+<p>NTP secure groups can be used to define cryptographic compartments
+and security hierarchies.
 It is important that every host
 in the group be able to construct a certificate trail to one
-or more trusted hosts in the same group. 
+or more trusted hosts in the same group.
 Each group
 host runs the Autokey protocol to obtain the certificates
-for all hosts along the trail to one or more trusted hosts. 
+for all hosts along the trail to one or more trusted hosts.
 This requires the configuration file in all hosts to be
 engineered so that, even under anticipated failure conditions,
 the NTP subnet will form such that every group host can find
 a trail to at least one trusted host.
-
-<h5 class="subsubsection">Naming and Addressing</h5>
-
+</p><a name="Naming-and-Addressing"></a>
+<h4 class="subsubsection">1.1.2.3 Naming and Addressing</h4>
 <p>It is important to note that Autokey does not use DNS to
-resolve addresses, since DNS can't be completely trusted
-until the name servers have synchronized clocks. 
+resolve addresses, since DNS can&rsquo;t be completely trusted
+until the name servers have synchronized clocks.
 The cryptographic name used by Autokey to bind the host identity
 credentials and cryptographic values must be independent
-of interface, network and any other naming convention. 
+of interface, network and any other naming convention.
 The name appears in the host certificate in either or both
 the subject and issuer fields, so protection against
 DNS compromise is essential.
-
-  <p>By convention, the name of an Autokey host is the name returned
+</p>
+<p>By convention, the name of an Autokey host is the name returned
 by the Unix
 <code>gethostname(2)</code>
-system call or equivalent in other systems. 
+system call or equivalent in other systems.
 By the system design
-model, there are no provisions to allow alternate names or aliases. 
+model, there are no provisions to allow alternate names or aliases.
 However, this is not to say that DNS aliases, different names
 for each interface, etc., are constrained in any way.
-
-  <p>It is also important to note that Autokey verifies authenticity
+</p>
+<p>It is also important to note that Autokey verifies authenticity
 using the host name, network address and public keys,
 all of which are bound together by the protocol specifically
-to deflect masquerade attacks. 
+to deflect masquerade attacks.
 For this reason Autokey
 includes the source and destination IP addresses in message digest
 computations and so the same addresses must be available
-at both the server and client. 
+at both the server and client.
 For this reason operation
-with network address translation schemes is not possible. 
+with network address translation schemes is not possible.
 This reflects the intended robust security model where government
 and corporate NTP servers are operated outside firewall perimeters.
-
-<h5 class="subsubsection">Operation</h5>
-
+</p><a name="Operation"></a>
+<h4 class="subsubsection">1.1.2.4 Operation</h4>
 <p>A specific combination of authentication scheme (none,
 symmetric key, public key) and identity scheme is called
-a cryptotype, although not all combinations are compatible. 
+a cryptotype, although not all combinations are compatible.
 There may be management configurations where the clients,
-servers and peers may not all support the same cryptotypes. 
+servers and peers may not all support the same cryptotypes.
 A secure NTPv4 subnet can be configured in many ways while
 keeping in mind the principles explained above and
-in this section. 
+in this section.
 Note however that some cryptotype
 combinations may successfully interoperate with each other,
 but may not represent good security practice.
-
-  <p>The cryptotype of an association is determined at the time
+</p>
+<p>The cryptotype of an association is determined at the time
 of mobilization, either at configuration time or some time
-later when a message of appropriate cryptotype arrives. 
+later when a message of appropriate cryptotype arrives.
 When mobilized by a
 <code>server</code>
 or
@@ -761,458 +870,543 @@
 <code>autokey</code>
 subcommand is present, the association is authenticated
 using Autokey.
-
-  <p>When multiple identity schemes are supported in the Autokey
-protocol, the first message exchange determines which one is used. 
+</p>
+<p>When multiple identity schemes are supported in the Autokey
+protocol, the first message exchange determines which one is used.
 The client request message contains bits corresponding
-to which schemes it has available. 
+to which schemes it has available.
 The server response message
-contains bits corresponding to which schemes it has available. 
+contains bits corresponding to which schemes it has available.
 Both server and client match the received bits with their own
 and select a common scheme.
-
-  <p>Following the principle that time is a public value,
+</p>
+<p>Following the principle that time is a public value,
 a server responds to any client packet that matches
-its cryptotype capabilities. 
+its cryptotype capabilities.
 Thus, a server receiving
 an unauthenticated packet will respond with an unauthenticated
 packet, while the same server receiving a packet of a cryptotype
-it supports will respond with packets of that cryptotype. 
+it supports will respond with packets of that cryptotype.
 However, unconfigured broadcast or manycast client
 associations or symmetric passive associations will not be
 mobilized unless the server supports a cryptotype compatible
-with the first packet received. 
+with the first packet received.
 By default, unauthenticated associations will not be mobilized
 unless overridden in a decidedly dangerous way.
-
-  <p>Some examples may help to reduce confusion. 
-Client Alice has no specific cryptotype selected. 
-Server Bob has both a symmetric key file and minimal Autokey files. 
-Alice's unauthenticated messages arrive at Bob, who replies with
-unauthenticated messages. 
-Cathy has a copy of Bob's symmetric
-key file and has selected key ID 4 in messages to Bob. 
-Bob verifies the message with his key ID 4. 
-If it's the
+</p>
+<p>Some examples may help to reduce confusion.
+Client Alice has no specific cryptotype selected.
+Server Bob has both a symmetric key file and minimal Autokey files.
+Alice&rsquo;s unauthenticated messages arrive at Bob, who replies with
+unauthenticated messages.
+Cathy has a copy of Bob&rsquo;s symmetric
+key file and has selected key ID 4 in messages to Bob.
+Bob verifies the message with his key ID 4.
+If it&rsquo;s the
 same key and the message is verified, Bob sends Cathy a reply
-authenticated with that key. 
+authenticated with that key.
 If verification fails,
 Bob sends Cathy a thing called a crypto-NAK, which tells her
-something broke. 
+something broke.
 She can see the evidence using the
 <code>ntpq(1ntpqmdoc)</code>
 program.
-
-  <p>Denise has rolled her own host key and certificate. 
-She also uses one of the identity schemes as Bob. 
+</p>
+<p>Denise has rolled her own host key and certificate.
+She also uses one of the identity schemes as Bob.
 She sends the first Autokey message to Bob and they
-both dance the protocol authentication and identity steps. 
+both dance the protocol authentication and identity steps.
 If all comes out okay, Denise and Bob continue as described above.
-
-  <p>It should be clear from the above that Bob can support
+</p>
+<p>It should be clear from the above that Bob can support
 all the girls at the same time, as long as he has compatible
-authentication and identity credentials. 
+authentication and identity credentials.
 Now, Bob can act just like the girls in his own choice of servers;
 he can run multiple configured associations with multiple different
-servers (or the same server, although that might not be useful). 
+servers (or the same server, although that might not be useful).
 But, wise security policy might preclude some cryptotype
 combinations; for instance, running an identity scheme
 with one server and no authentication with another might not be wise.
-
-<h5 class="subsubsection">Key Management</h5>
-
+</p><a name="Key-Management"></a>
+<h4 class="subsubsection">1.1.2.5 Key Management</h4>
 <p>The cryptographic values used by the Autokey protocol are
 incorporated as a set of files generated by the
 <code>ntp-keygen(1ntpkeygenmdoc)</code>
 utility program, including symmetric key, host key and
 public certificate files, as well as sign key, identity parameters
-and leapseconds files. 
+and leapseconds files.
 Alternatively, host and sign keys and
 certificate files can be generated by the OpenSSL utilities
 and certificates can be imported from public certificate
-authorities. 
+authorities.
 Note that symmetric keys are necessary for the
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-utility programs. 
+utility programs.
 The remaining files are necessary only for the
 Autokey protocol.
-
-  <p>Certificates imported from OpenSSL or public certificate
-authorities have certian limitations. 
+</p>
+<p>Certificates imported from OpenSSL or public certificate
+authorities have certian limitations.
 The certificate should be in ASN.1 syntax, X.509 Version 3
 format and encoded in PEM, which is the same format
-used by OpenSSL. 
+used by OpenSSL.
 The overall length of the certificate encoded
-in ASN.1 must not exceed 1024 bytes. 
+in ASN.1 must not exceed 1024 bytes.
 The subject distinguished
 name field (CN) is the fully qualified name of the host
-on which it is used; the remaining subject fields are ignored. 
+on which it is used; the remaining subject fields are ignored.
 The certificate extension fields must not contain either
 a subject key identifier or a issuer key identifier field;
 however, an extended key usage field for a trusted host must
 contain the value
-<code>trustRoot</code>;. 
+<code>trustRoot</code>;.
 Other extension fields are ignored.
-
-<h5 class="subsubsection">Authentication Commands</h5>
-
-     <dl>
-<dt><code>autokey</code> <code>[</code><kbd>logsec</kbd><code>]</code><dd>Specifies the interval between regenerations of the session key
-list used with the Autokey protocol. 
+</p><a name="Authentication-Commands"></a>
+<h4 class="subsubsection">1.1.2.6 Authentication Commands</h4>
+<dl compact="compact">
+<dt><code>autokey</code> <code>[<kbd>logsec</kbd>]</code></dt>
+<dd><p>Specifies the interval between regenerations of the session key
+list used with the Autokey protocol.
 Note that the size of the key
 list for each association depends on this interval and the current
-poll interval. 
-The default value is 12 (4096 s or about 1.1 hours). 
+poll interval.
+The default value is 12 (4096 s or about 1.1 hours).
 For poll intervals above the specified interval, a session key list
 with a single entry will be regenerated for every message
-sent. 
-<br><dt><code>controlkey</code> <kbd>key</kbd><dd>Specifies the key identifier to use with the
+sent.
+</p></dd>
+<dt><code>controlkey</code> <kbd>key</kbd></dt>
+<dd><p>Specifies the key identifier to use with the
 <code>ntpq(1ntpqmdoc)</code>
 utility, which uses the standard
-protocol defined in RFC-1305. 
+protocol defined in RFC-1305.
 The
 <kbd>key</kbd>
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive. 
-<br><dt><code>crypto</code> <code>[cert </code><kbd>file</kbd><code>]</code> <code>[leap </code><kbd>file</kbd><code>]</code> <code>[randfile </code><kbd>file</kbd><code>]</code> <code>[host </code><kbd>file</kbd><code>]</code> <code>[sign </code><kbd>file</kbd><code>]</code> <code>[gq </code><kbd>file</kbd><code>]</code> <code>[gqpar </code><kbd>file</kbd><code>]</code> <code>[iffpar </code><kbd>file</kbd><code>]</code> <code>[mvpar </code><kbd>file</kbd><code>]</code> <code>[pw </code><kbd>password</kbd><code>]</code><dd>This command requires the OpenSSL library. 
+range 1 to 65,535, inclusive.
+</p></dd>
+<dt><code>crypto</code> <code>[<code>cert</code> <kbd>file</kbd>]</code> <code>[<code>leap</code> <kbd>file</kbd>]</code> <code>[<code>randfile</code> <kbd>file</kbd>]</code> <code>[<code>host</code> <kbd>file</kbd>]</code> <code>[<code>sign</code> <kbd>file</kbd>]</code> <code>[<code>gq</code> <kbd>file</kbd>]</code> <code>[<code>gqpar</code> <kbd>file</kbd>]</code> <code>[<code>iffpar</code> <kbd>file</kbd>]</code> <code>[<code>mvpar</code> <kbd>file</kbd>]</code> <code>[<code>pw</code> <kbd>password</kbd>]</code></dt>
+<dd><p>This command requires the OpenSSL library.
 It activates public key
 cryptography, selects the message digest and signature
 encryption scheme and loads the required private and public
-values described above. 
+values described above.
 If one or more files are left unspecified,
-the default names are used as described above. 
+the default names are used as described above.
 Unless the complete path and name of the file are specified, the
 location of a file is relative to the keys directory specified
 in the
 <code>keysdir</code>
 command or default
-<span class="file">/usr/local/etc</span>. 
+<samp>/usr/local/etc</samp>.
 Following are the subcommands:
-          <dl>
-<dt><code>cert</code> <kbd>file</kbd><dd>Specifies the location of the required host public certificate file. 
+</p><dl compact="compact">
+<dt><code>cert</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the required host public certificate file.
 This overrides the link
-<span class="file">ntpkey_cert_</span><kbd>hostname</kbd>
-in the keys directory. 
-<br><dt><code>gqpar</code> <kbd>file</kbd><dd>Specifies the location of the optional GQ parameters file. 
+<samp>ntpkey_cert_</samp><kbd>hostname</kbd>
+in the keys directory.
+</p></dd>
+<dt><code>gqpar</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the optional GQ parameters file.
 This
 overrides the link
-<span class="file">ntpkey_gq_</span><kbd>hostname</kbd>
-in the keys directory. 
-<br><dt><code>host</code> <kbd>file</kbd><dd>Specifies the location of the required host key file. 
+<samp>ntpkey_gq_</samp><kbd>hostname</kbd>
+in the keys directory.
+</p></dd>
+<dt><code>host</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the required host key file.
 This overrides
 the link
-<span class="file">ntpkey_key_</span><kbd>hostname</kbd>
-in the keys directory. 
-<br><dt><code>iffpar</code> <kbd>file</kbd><dd>Specifies the location of the optional IFF parameters file. 
+<samp>ntpkey_key_</samp><kbd>hostname</kbd>
+in the keys directory.
+</p></dd>
+<dt><code>iffpar</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the optional IFF parameters file.
 This overrides the link
-<span class="file">ntpkey_iff_</span><kbd>hostname</kbd>
-in the keys directory. 
-<br><dt><code>leap</code> <kbd>file</kbd><dd>Specifies the location of the optional leapsecond file. 
+<samp>ntpkey_iff_</samp><kbd>hostname</kbd>
+in the keys directory.
+</p></dd>
+<dt><code>leap</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the optional leapsecond file.
 This overrides the link
-<span class="file">ntpkey_leap</span>
-in the keys directory. 
-<br><dt><code>mvpar</code> <kbd>file</kbd><dd>Specifies the location of the optional MV parameters file. 
+<samp>ntpkey_leap</samp>
+in the keys directory.
+</p></dd>
+<dt><code>mvpar</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the optional MV parameters file.
 This overrides the link
-<span class="file">ntpkey_mv_</span><kbd>hostname</kbd>
-in the keys directory. 
-<br><dt><code>pw</code> <kbd>password</kbd><dd>Specifies the password to decrypt files containing private keys and
-identity parameters. 
+<samp>ntpkey_mv_</samp><kbd>hostname</kbd>
+in the keys directory.
+</p></dd>
+<dt><code>pw</code> <kbd>password</kbd></dt>
+<dd><p>Specifies the password to decrypt files containing private keys and
+identity parameters.
 This is required only if these files have been
-encrypted. 
-<br><dt><code>randfile</code> <kbd>file</kbd><dd>Specifies the location of the random seed file used by the OpenSSL
-library. 
-The defaults are described in the main text above. 
-<br><dt><code>sign</code> <kbd>file</kbd><dd>Specifies the location of the optional sign key file. 
+encrypted.
+</p></dd>
+<dt><code>randfile</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the random seed file used by the OpenSSL
+library.
+The defaults are described in the main text above.
+</p></dd>
+<dt><code>sign</code> <kbd>file</kbd></dt>
+<dd><p>Specifies the location of the optional sign key file.
 This overrides
 the link
-<span class="file">ntpkey_sign_</span><kbd>hostname</kbd>
-in the keys directory. 
+<samp>ntpkey_sign_</samp><kbd>hostname</kbd>
+in the keys directory.
 If this file is
-not found, the host key is also the sign key. 
+not found, the host key is also the sign key.
+</p></dd>
 </dl>
-     <br><dt><code>keys</code> <kbd>keyfile</kbd><dd>Specifies the complete path and location of the MD5 key file
+</dd>
+<dt><code>keys</code> <kbd>keyfile</kbd></dt>
+<dd><p>Specifies the complete path and location of the MD5 key file
 containing the keys and key identifiers used by
 <code>ntpd(1ntpdmdoc)</code>,
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-when operating with symmetric key cryptography. 
+when operating with symmetric key cryptography.
 This is the same operation as the
 <code>-k</code>
-command line option. 
-<br><dt><code>keysdir</code> <kbd>path</kbd><dd>This command specifies the default directory path for
-cryptographic keys, parameters and certificates. 
+command line option.
+</p></dd>
+<dt><code>keysdir</code> <kbd>path</kbd></dt>
+<dd><p>This command specifies the default directory path for
+cryptographic keys, parameters and certificates.
 The default is
-<span class="file">/usr/local/etc/</span>. 
-<br><dt><code>requestkey</code> <kbd>key</kbd><dd>Specifies the key identifier to use with the
+<samp>/usr/local/etc/</samp>.
+</p></dd>
+<dt><code>requestkey</code> <kbd>key</kbd></dt>
+<dd><p>Specifies the key identifier to use with the
 <code>ntpdc(1ntpdcmdoc)</code>
 utility program, which uses a
 proprietary protocol specific to this implementation of
-<code>ntpd(1ntpdmdoc)</code>. 
+<code>ntpd(1ntpdmdoc)</code>.
 The
 <kbd>key</kbd>
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive. 
-<br><dt><code>revoke</code> <kbd>logsec</kbd><dd>Specifies the interval between re-randomization of certain
+65,535, inclusive.
+</p></dd>
+<dt><code>revoke</code> <kbd>logsec</kbd></dt>
+<dd><p>Specifies the interval between re-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
-seconds. 
+seconds.
 These values need to be updated frequently in order to
 deflect brute-force attacks on the algorithms of the scheme;
-however, updating some values is a relatively expensive operation. 
-The default interval is 16 (65,536 s or about 18 hours). 
+however, updating some values is a relatively expensive operation.
+The default interval is 16 (65,536 s or about 18 hours).
 For poll
 intervals above the specified interval, the values will be updated
-for every message sent. 
-<br><dt><code>trustedkey</code> <kbd>key</kbd> <kbd>...</kbd><dd>Specifies the key identifiers which are trusted for the
+for every message sent.
+</p></dd>
+<dt><code>trustedkey</code> <kbd>key</kbd> <kbd>...</kbd></dt>
+<dd><p>Specifies the key identifiers which are trusted for the
 purposes of authenticating peers with symmetric key cryptography,
 as well as keys used by the
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-programs. 
+programs.
 The authentication procedures require that both the local
 and remote servers share the same key and key identifier for this
 purpose, although different keys can be used with different
-servers. 
+servers.
 The
 <kbd>key</kbd>
 arguments are 32-bit unsigned
-integers with values from 1 to 65,534. 
+integers with values from 1 to 65,535.
+</p></dd>
 </dl>
-
-<h5 class="subsubsection">Error Codes</h5>
-
+<a name="Error-Codes"></a>
+<h4 class="subsubsection">1.1.2.7 Error Codes</h4>
 <p>The following error codes are reported via the NTP control
 and monitoring protocol trap mechanism.
-     <dl>
-<dt>101<dd>(bad field format or length)
-The packet has invalid version, length or format. 
-<br><dt>102<dd>(bad timestamp)
-The packet timestamp is the same or older than the most recent received. 
-This could be due to a replay or a server clock time step. 
-<br><dt>103<dd>(bad filestamp)
-The packet filestamp is the same or older than the most recent received. 
-This could be due to a replay or a key file generation error. 
-<br><dt>104<dd>(bad or missing public key)
-The public key is missing, has incorrect format or is an unsupported type. 
-<br><dt>105<dd>(unsupported digest type)
-The server requires an unsupported digest/signature scheme. 
-<br><dt>106<dd>(mismatched digest types)
-Not used. 
-<br><dt>107<dd>(bad signature length)
-The signature length does not match the current public key. 
-<br><dt>108<dd>(signature not verified)
-The message fails the signature check. 
+</p><dl compact="compact">
+<dt>101</dt>
+<dd><p>(bad field format or length)
+The packet has invalid version, length or format.
+</p></dd>
+<dt>102</dt>
+<dd><p>(bad timestamp)
+The packet timestamp is the same or older than the most recent received.
+This could be due to a replay or a server clock time step.
+</p></dd>
+<dt>103</dt>
+<dd><p>(bad filestamp)
+The packet filestamp is the same or older than the most recent received.
+This could be due to a replay or a key file generation error.
+</p></dd>
+<dt>104</dt>
+<dd><p>(bad or missing public key)
+The public key is missing, has incorrect format or is an unsupported type.
+</p></dd>
+<dt>105</dt>
+<dd><p>(unsupported digest type)
+The server requires an unsupported digest/signature scheme.
+</p></dd>
+<dt>106</dt>
+<dd><p>(mismatched digest types)
+Not used.
+</p></dd>
+<dt>107</dt>
+<dd><p>(bad signature length)
+The signature length does not match the current public key.
+</p></dd>
+<dt>108</dt>
+<dd><p>(signature not verified)
+The message fails the signature check.
 It could be bogus or signed by a
-different private key. 
-<br><dt>109<dd>(certificate not verified)
-The certificate is invalid or signed with the wrong key. 
-<br><dt>110<dd>(certificate not verified)
+different private key.
+</p></dd>
+<dt>109</dt>
+<dd><p>(certificate not verified)
+The certificate is invalid or signed with the wrong key.
+</p></dd>
+<dt>110</dt>
+<dd><p>(certificate not verified)
 The certificate is not yet valid or has expired or the signature could not
-be verified. 
-<br><dt>111<dd>(bad or missing cookie)
-The cookie is missing, corrupted or bogus. 
-<br><dt>112<dd>(bad or missing leapseconds table)
-The leapseconds table is missing, corrupted or bogus. 
-<br><dt>113<dd>(bad or missing certificate)
-The certificate is missing, corrupted or bogus. 
-<br><dt>114<dd>(bad or missing identity)
-The identity key is missing, corrupt or bogus. 
+be verified.
+</p></dd>
+<dt>111</dt>
+<dd><p>(bad or missing cookie)
+The cookie is missing, corrupted or bogus.
+</p></dd>
+<dt>112</dt>
+<dd><p>(bad or missing leapseconds table)
+The leapseconds table is missing, corrupted or bogus.
+</p></dd>
+<dt>113</dt>
+<dd><p>(bad or missing certificate)
+The certificate is missing, corrupted or bogus.
+</p></dd>
+<dt>114</dt>
+<dd><p>(bad or missing identity)
+The identity key is missing, corrupt or bogus.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
+<hr>
 <a name="Monitoring-Support"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Access-Control-Support" accesskey="n" rel="next">Access Control Support</a>, Previous: <a href="#Authentication-Support" accesskey="p" rel="prev">Authentication Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Monitoring Support</h4>
-
+<a name="Monitoring-Support-1"></a>
+<h4 class="subsection">1.1.3 Monitoring Support</h4>
 <p><code>ntpd(1ntpdmdoc)</code>
 includes a comprehensive monitoring facility suitable
 for continuous, long term recording of server and client
-timekeeping performance. 
+timekeeping performance.
 See the
 <code>statistics</code>
 command below
 for a listing and example of each type of statistics currently
-supported. 
+supported.
 Statistic files are managed using file generation sets
 and scripts in the
-<span class="file">./scripts</span>
-directory of the source code distribution. 
+<samp>./scripts</samp>
+directory of the source code distribution.
 Using
 these facilities and
-<span class="sc">unix</span>
+<small>UNIX</small>
 <code>cron(8)</code>
 jobs, the data can be
 automatically summarized and archived for retrospective analysis.
-
-<h5 class="subsubsection">Monitoring Commands</h5>
-
-     <dl>
-<dt><code>statistics</code> <kbd>name</kbd> <kbd>...</kbd><dd>Enables writing of statistics records. 
+</p><a name="Monitoring-Commands"></a>
+<h4 class="subsubsection">1.1.3.1 Monitoring Commands</h4>
+<dl compact="compact">
+<dt><code>statistics</code> <kbd>name</kbd> <kbd>...</kbd></dt>
+<dd><p>Enables writing of statistics records.
 Currently, eight kinds of
 <kbd>name</kbd>
 statistics are supported.
-          <dl>
-<dt><code>clockstats</code><dd>Enables recording of clock driver statistics information. 
+</p><dl compact="compact">
+<dt><code>clockstats</code></dt>
+<dd><p>Enables recording of clock driver statistics information.
 Each update
 received from a clock driver appends a line of the following form to
 the file generation set named
 <code>clockstats</code>:
-<pre class="verbatim">          
-          49213 525.624 127.127.4.1 93 226 00:08:29.606 D
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and time
-(seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">49213 525.624 127.127.4.1 93 226 00:08:29.606 D
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and time
+(seconds and fraction past UTC midnight).
 The next field shows the
-clock address in dotted-quad notation. 
+clock address in dotted-quad notation.
 The final field shows the last
 timecode received from the clock in decoded ASCII format, where
-meaningful. 
+meaningful.
 In some clock drivers a good deal of additional information
-can be gathered and displayed as well. 
+can be gathered and displayed as well.
 See information specific to each
-clock for further details. 
-<br><dt><code>cryptostats</code><dd>This option requires the OpenSSL cryptographic software library. 
+clock for further details.
+</p></dd>
+<dt><code>cryptostats</code></dt>
+<dd><p>This option requires the OpenSSL cryptographic software library.
 It
-enables recording of cryptographic public key protocol information. 
+enables recording of cryptographic public key protocol information.
 Each message received by the protocol module appends a line of the
 following form to the file generation set named
 <code>cryptostats</code>:
-<pre class="verbatim">          
-          49213 525.624 127.127.4.1 message
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and time
-(seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">49213 525.624 127.127.4.1 message
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and time
+(seconds and fraction past UTC midnight).
 The next field shows the peer
 address in dotted-quad notation, The final message field includes the
-message type and certain ancillary information. 
+message type and certain ancillary information.
 See the
-<a href="#Authentication-Options">Authentication Options</a>
-section for further information. 
-<br><dt><code>loopstats</code><dd>Enables recording of loop filter statistics information. 
+&lsquo;Authentication Options&rsquo;
+section for further information.
+</p></dd>
+<dt><code>loopstats</code></dt>
+<dd><p>Enables recording of loop filter statistics information.
 Each
 update of the local clock outputs a line of the following form to
 the file generation set named
 <code>loopstats</code>:
-<pre class="verbatim">          
-          50935 75440.031 0.000006019 13.778190 0.000351733 0.0133806
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and
-time (seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">50935 75440.031 0.000006019 13.778190 0.000351733 0.0133806
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and
+time (seconds and fraction past UTC midnight).
 The next five fields
 show time offset (seconds), frequency offset (parts per million -
 PPM), RMS jitter (seconds), Allan deviation (PPM) and clock
-discipline time constant. 
-<br><dt><code>peerstats</code><dd>Enables recording of peer statistics information. 
+discipline time constant.
+</p></dd>
+<dt><code>peerstats</code></dt>
+<dd><p>Enables recording of peer statistics information.
 This includes
 statistics records of all peers of a NTP server and of special
-signals, where present and configured. 
+signals, where present and configured.
 Each valid update appends a
 line of the following form to the current element of a file
 generation set named
 <code>peerstats</code>:
-<pre class="verbatim">          
-          48773 10847.650 127.127.4.1 9714 -0.001605376 0.000000000 0.001424877 0.000958674
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and
-time (seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">48773 10847.650 127.127.4.1 9714 -0.001605376 0.000000000 0.001424877 0.000958674
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and
+time (seconds and fraction past UTC midnight).
 The next two fields
 show the peer address in dotted-quad notation and status,
-respectively. 
+respectively.
 The status field is encoded in hex in the format
-described in Appendix A of the NTP specification RFC 1305. 
+described in Appendix A of the NTP specification RFC 1305.
 The final four fields show the offset,
-delay, dispersion and RMS jitter, all in seconds. 
-<br><dt><code>rawstats</code><dd>Enables recording of raw-timestamp statistics information. 
+delay, dispersion and RMS jitter, all in seconds.
+</p></dd>
+<dt><code>rawstats</code></dt>
+<dd><p>Enables recording of raw-timestamp statistics information.
 This
 includes statistics records of all peers of a NTP server and of
-special signals, where present and configured. 
+special signals, where present and configured.
 Each NTP message
 received from a peer or clock driver appends a line of the
 following form to the file generation set named
 <code>rawstats</code>:
-<pre class="verbatim">          
-          50928 2132.543 128.4.1.1 128.4.1.20 3102453281.584327000 3102453281.58622800031 02453332.540806000 3102453332.541458000
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and
-time (seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">50928 2132.543 128.4.1.1 128.4.1.20 3102453281.584327000 3102453281.58622800031 02453332.540806000 3102453332.541458000
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and
+time (seconds and fraction past UTC midnight).
 The next two fields
 show the remote peer or clock address followed by the local address
-in dotted-quad notation. 
+in dotted-quad notation.
 The final four fields show the originate,
-receive, transmit and final NTP timestamps in order. 
+receive, transmit and final NTP timestamps in order.
 The timestamp
 values are as received and before processing by the various data
-smoothing and mitigation algorithms. 
-<br><dt><code>sysstats</code><dd>Enables recording of ntpd statistics counters on a periodic basis. 
+smoothing and mitigation algorithms.
+</p></dd>
+<dt><code>sysstats</code></dt>
+<dd><p>Enables recording of ntpd statistics counters on a periodic basis.
 Each
 hour a line of the following form is appended to the file generation
 set named
 <code>sysstats</code>:
-<pre class="verbatim">          
-          50928 2132.543 36000 81965 0 9546 56 71793 512 540 10 147
-     </pre>
-
-          <p>The first two fields show the date (Modified Julian Day) and time
-(seconds and fraction past UTC midnight). 
+</p><pre class="verbatim">50928 2132.543 36000 81965 0 9546 56 71793 512 540 10 147
+</pre>
+<p>The first two fields show the date (Modified Julian Day) and time
+(seconds and fraction past UTC midnight).
 The remaining ten fields show
 the statistics counter values accumulated since the last generated
 line.
-               <dl>
-<dt>Time since restart <code>36000</code><dd>Time in hours since the system was last rebooted. 
-<br><dt>Packets received <code>81965</code><dd>Total number of packets received. 
-<br><dt>Packets processed <code>0</code><dd>Number of packets received in response to previous packets sent
-<br><dt>Current version <code>9546</code><dd>Number of packets matching the current NTP version. 
-<br><dt>Previous version <code>56</code><dd>Number of packets matching the previous NTP version. 
-<br><dt>Bad version <code>71793</code><dd>Number of packets matching neither NTP version. 
-<br><dt>Access denied <code>512</code><dd>Number of packets denied access for any reason. 
-<br><dt>Bad length or format <code>540</code><dd>Number of packets with invalid length, format or port number. 
-<br><dt>Bad authentication <code>10</code><dd>Number of packets not verified as authentic. 
-<br><dt>Rate exceeded <code>147</code><dd>Number of packets discarded due to rate limitation. 
+</p><dl compact="compact">
+<dt>Time since restart <code>36000</code></dt>
+<dd><p>Time in hours since the system was last rebooted.
+</p></dd>
+<dt>Packets received <code>81965</code></dt>
+<dd><p>Total number of packets received.
+</p></dd>
+<dt>Packets processed <code>0</code></dt>
+<dd><p>Number of packets received in response to previous packets sent
+</p></dd>
+<dt>Current version <code>9546</code></dt>
+<dd><p>Number of packets matching the current NTP version.
+</p></dd>
+<dt>Previous version <code>56</code></dt>
+<dd><p>Number of packets matching the previous NTP version.
+</p></dd>
+<dt>Bad version <code>71793</code></dt>
+<dd><p>Number of packets matching neither NTP version.
+</p></dd>
+<dt>Access denied <code>512</code></dt>
+<dd><p>Number of packets denied access for any reason.
+</p></dd>
+<dt>Bad length or format <code>540</code></dt>
+<dd><p>Number of packets with invalid length, format or port number.
+</p></dd>
+<dt>Bad authentication <code>10</code></dt>
+<dd><p>Number of packets not verified as authentic.
+</p></dd>
+<dt>Rate exceeded <code>147</code></dt>
+<dd><p>Number of packets discarded due to rate limitation.
+</p></dd>
 </dl>
-          <br><dt><code>statsdir</code> <kbd>directory_path</kbd><dd>Indicates the full path of a directory where statistics files
-should be created (see below). 
+</dd>
+<dt><code>statsdir</code> <kbd>directory_path</kbd></dt>
+<dd><p>Indicates the full path of a directory where statistics files
+should be created (see below).
 This keyword allows
 the (otherwise constant)
 <code>filegen</code>
 filename prefix to be modified for file generation sets, which
-is useful for handling statistics logs. 
-<br><dt><code>filegen</code> <kbd>name</kbd> <code>[file </code><kbd>filename</kbd><code>]</code> <code>[type </code><kbd>typename</kbd><code>]</code> <code>[link | nolink]</code> <code>[enable | disable]</code><dd>Configures setting of generation file set name. 
+is useful for handling statistics logs.
+</p></dd>
+<dt><code>filegen</code> <kbd>name</kbd> <code>[<code>file</code> <kbd>filename</kbd>]</code> <code>[<code>type</code> <kbd>typename</kbd>]</code> <code>[<code>link</code> | <code>nolink</code>]</code> <code>[<code>enable</code> | <code>disable</code>]</code></dt>
+<dd><p>Configures setting of generation file set name.
 Generation
 file sets provide a means for handling files that are
-continuously growing during the lifetime of a server. 
-Server statistics are a typical example for such files. 
+continuously growing during the lifetime of a server.
+Server statistics are a typical example for such files.
 Generation file sets provide access to a set of files used
-to store the actual data. 
+to store the actual data.
 At any time at most one element
-of the set is being written to. 
+of the set is being written to.
 The type given specifies
-when and how data will be directed to a new element of the set. 
+when and how data will be directed to a new element of the set.
 This way, information stored in elements of a file set
 that are currently unused are available for administrational
-operations without the risk of disturbing the operation of ntpd. 
+operations without the risk of disturbing the operation of ntpd.
 (Most important: they can be removed to free space for new data
 produced.)
-
-          <p>Note that this command can be sent from the
+</p>
+<p>Note that this command can be sent from the
 <code>ntpdc(1ntpdcmdoc)</code>
 program running at a remote location.
-               <dl>
-<dt><code>name</code><dd>This is the type of the statistics records, as shown in the
+</p><dl compact="compact">
+<dt><code>name</code></dt>
+<dd><p>This is the type of the statistics records, as shown in the
 <code>statistics</code>
-command. 
-<br><dt><code>file</code> <kbd>filename</kbd><dd>This is the file name for the statistics records. 
+command.
+</p></dd>
+<dt><code>file</code> <kbd>filename</kbd></dt>
+<dd><p>This is the file name for the statistics records.
 Filenames of set
 members are built from three concatenated elements
 <code>prefix</code>,
@@ -1219,17 +1413,18 @@
 <code>filename</code>
 and
 <code>suffix</code>:
-                    <dl>
-<dt><code>prefix</code><dd>This is a constant filename path. 
+</p><dl compact="compact">
+<dt><code>prefix</code></dt>
+<dd><p>This is a constant filename path.
 It is not subject to
 modifications via the
 <kbd>filegen</kbd>
-option. 
+option.
 It is defined by the
-server, usually specified as a compile-time constant. 
+server, usually specified as a compile-time constant.
 It may,
 however, be configurable for individual file generation sets
-via other commands. 
+via other commands.
 For example, the prefix used with
 <kbd>loopstats</kbd>
 and
@@ -1236,38 +1431,48 @@
 <kbd>peerstats</kbd>
 generation can be configured using the
 <kbd>statsdir</kbd>
-option explained above. 
-<br><dt><code>filename</code><dd>This string is directly concatenated to the prefix mentioned
+option explained above.
+</p></dd>
+<dt><code>filename</code></dt>
+<dd><p>This string is directly concatenated to the prefix mentioned
 above (no intervening
-/). 
+&lsquo;/&rsquo;).
 This can be modified using
 the file argument to the
 <kbd>filegen</kbd>
-statement. 
+statement.
 No
-<span class="file">..</span>
+<samp>..</samp>
 elements are
 allowed in this component to prevent filenames referring to
 parts outside the filesystem hierarchy denoted by
-<kbd>prefix</kbd>. 
-<br><dt><code>suffix</code><dd>This part is reflects individual elements of a file set. 
+<kbd>prefix</kbd>.
+</p></dd>
+<dt><code>suffix</code></dt>
+<dd><p>This part is reflects individual elements of a file set.
 It is
-generated according to the type of a file set. 
+generated according to the type of a file set.
+</p></dd>
 </dl>
-               <br><dt><code>type</code> <kbd>typename</kbd><dd>A file generation set is characterized by its type. 
+</dd>
+<dt><code>type</code> <kbd>typename</kbd></dt>
+<dd><p>A file generation set is characterized by its type.
 The following
 types are supported:
-                    <dl>
-<dt><code>none</code><dd>The file set is actually a single plain file. 
-<br><dt><code>pid</code><dd>One element of file set is used per incarnation of a ntpd
-server. 
+</p><dl compact="compact">
+<dt><code>none</code></dt>
+<dd><p>The file set is actually a single plain file.
+</p></dd>
+<dt><code>pid</code></dt>
+<dd><p>One element of file set is used per incarnation of a ntpd
+server.
 This type does not perform any changes to file set
 members during runtime, however it provides an easy way of
 separating files belonging to different
 <code>ntpd(1ntpdmdoc)</code>
-server incarnations. 
+server incarnations.
 The set member filename is built by appending a
-. 
+&lsquo;.&rsquo;
 to concatenated
 <kbd>prefix</kbd>
 and
@@ -1275,68 +1480,81 @@
 strings, and
 appending the decimal representation of the process ID of the
 <code>ntpd(1ntpdmdoc)</code>
-server process. 
-<br><dt><code>day</code><dd>One file generation set element is created per day. 
+server process.
+</p></dd>
+<dt><code>day</code></dt>
+<dd><p>One file generation set element is created per day.
 A day is
-defined as the period between 00:00 and 24:00 UTC. 
+defined as the period between 00:00 and 24:00 UTC.
 The file set
 member suffix consists of a
-. 
+&lsquo;.&rsquo;
 and a day specification in
 the form
-<code>YYYYMMdd</code>. 
+<code>YYYYMMdd</code>.
 <code>YYYY</code>
-is a 4-digit year number (e.g., 1992). 
+is a 4-digit year number (e.g., 1992).
 <code>MM</code>
-is a two digit month number. 
+is a two digit month number.
 <code>dd</code>
-is a two digit day number. 
+is a two digit day number.
 Thus, all information written at 10 December 1992 would end up
 in a file named
 <kbd>prefix</kbd>
-<kbd>filename</kbd>.19921210. 
-<br><dt><code>week</code><dd>Any file set member contains data related to a certain week of
-a year. 
+<kbd>filename</kbd>.19921210.
+</p></dd>
+<dt><code>week</code></dt>
+<dd><p>Any file set member contains data related to a certain week of
+a year.
 The term week is defined by computing day-of-year
-modulo 7. 
+modulo 7.
 Elements of such a file generation set are
 distinguished by appending the following suffix to the file set
 filename base: A dot, a 4-digit year number, the letter
 <code>W</code>,
-and a 2-digit week number. 
+and a 2-digit week number.
 For example, information from January,
 10th 1992 would end up in a file with suffix
-.No . Ns Ar 1992W1 . 
-<br><dt><code>month</code><dd>One generation file set element is generated per month. 
+.No . Ns Ar 1992W1 .
+</p></dd>
+<dt><code>month</code></dt>
+<dd><p>One generation file set element is generated per month.
 The
 file name suffix consists of a dot, a 4-digit year number, and
-a 2-digit month. 
-<br><dt><code>year</code><dd>One generation file element is generated per year. 
+a 2-digit month.
+</p></dd>
+<dt><code>year</code></dt>
+<dd><p>One generation file element is generated per year.
 The filename
-suffix consists of a dot and a 4 digit year number. 
-<br><dt><code>age</code><dd>This type of file generation sets changes to a new element of
-the file set every 24 hours of server operation. 
+suffix consists of a dot and a 4 digit year number.
+</p></dd>
+<dt><code>age</code></dt>
+<dd><p>This type of file generation sets changes to a new element of
+the file set every 24 hours of server operation.
 The filename
 suffix consists of a dot, the letter
 <code>a</code>,
-and an 8-digit number. 
+and an 8-digit number.
 This number is taken to be the number of seconds the server is
-running at the start of the corresponding 24-hour period. 
+running at the start of the corresponding 24-hour period.
 Information is only written to a file generation by specifying
 <code>enable</code>;
 output is prevented by specifying
-<code>disable</code>. 
+<code>disable</code>.
+</p></dd>
 </dl>
-               <br><dt><code>link</code> | <code>nolink</code><dd>It is convenient to be able to access the current element of a file
-generation set by a fixed name. 
+</dd>
+<dt><code>link</code> | <code>nolink</code></dt>
+<dd><p>It is convenient to be able to access the current element of a file
+generation set by a fixed name.
 This feature is enabled by
 specifying
 <code>link</code>
 and disabled using
-<code>nolink</code>. 
+<code>nolink</code>.
 If link is specified, a
 hard link from the current file set element to a file without
-suffix is created. 
+suffix is created.
 When there is already a file with this name and
 the number of links of this file is one, it is renamed appending a
 dot, the letter
@@ -1343,137 +1561,143 @@
 <code>C</code>,
 and the pid of the
 <code>ntpd(1ntpdmdoc)</code>
-server process. 
+server process.
 When the
-number of links is greater than one, the file is unlinked. 
+number of links is greater than one, the file is unlinked.
 This
-allows the current file to be accessed by a constant name. 
-<br><dt><code>enable</code> <code>|</code> <code>disable</code><dd>Enables or disables the recording function. 
+allows the current file to be accessed by a constant name.
+</p></dd>
+<dt><code>enable</code> <code>|</code> <code>disable</code></dt>
+<dd><p>Enables or disables the recording function.
+</p></dd>
 </dl>
-          </dl>
-     </dl>
-<div class="node">
-<p><hr>
+</dd>
+</dl>
+</dd>
+</dl>
+<hr>
 <a name="Access-Control-Support"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Automatic-NTP-Configuration-Options" accesskey="n" rel="next">Automatic NTP Configuration Options</a>, Previous: <a href="#Monitoring-Support" accesskey="p" rel="prev">Monitoring Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Access Control Support</h4>
-
+<a name="Access-Control-Support-1"></a>
+<h4 class="subsection">1.1.4 Access Control Support</h4>
 <p>The
 <code>ntpd(1ntpdmdoc)</code>
 daemon implements a general purpose address/mask based restriction
-list. 
+list.
 The list contains address/match entries sorted first
-by increasing address values and and then by increasing mask values. 
+by increasing address values and and then by increasing mask values.
 A match occurs when the bitwise AND of the mask and the packet
 source address is equal to the bitwise AND of the mask and
-address in the list. 
+address in the list.
 The list is searched in order with the
 last match found defining the restriction flags associated
-with the entry. 
+with the entry.
 Additional information and examples can be found in the
-"Notes on Configuring NTP and Setting up a NTP Subnet"
+&quot;Notes on Configuring NTP and Setting up a NTP Subnet&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>).
-
-  <p>The restriction facility was implemented in conformance
+<samp>/usr/share/doc/ntp</samp>).
+</p>
+<p>The restriction facility was implemented in conformance
 with the access policies for the original NSFnet backbone
-time servers. 
+time servers.
 Later the facility was expanded to deflect
-cryptographic and clogging attacks. 
+cryptographic and clogging attacks.
 While this facility may
 be useful for keeping unwanted or broken or malicious clients
 from congesting innocent servers, it should not be considered
-an alternative to the NTP authentication facilities. 
+an alternative to the NTP authentication facilities.
 Source address based restrictions are easily circumvented
 by a determined cracker.
-
-  <p>Clients can be denied service because they are explicitly
+</p>
+<p>Clients can be denied service because they are explicitly
 included in the restrict list created by the
 <code>restrict</code>
 command
 or implicitly as the result of cryptographic or rate limit
-violations. 
+violations.
 Cryptographic violations include certificate
 or identity verification failure; rate limit violations generally
 result from defective NTP implementations that send packets
-at abusive rates. 
+at abusive rates.
 Some violations cause denied service
 only for the offending packet, others cause denied service
 for a timed period and others cause the denied service for
-an indefinite period. 
+an indefinite period.
 When a client or network is denied access
 for an indefinite period, the only way at present to remove
 the restrictions is by restarting the server.
-
-<h5 class="subsubsection">The Kiss-of-Death Packet</h5>
-
+</p><a name="The-Kiss_002dof_002dDeath-Packet"></a>
+<h4 class="subsubsection">1.1.4.1 The Kiss-of-Death Packet</h4>
 <p>Ordinarily, packets denied service are simply dropped with no
-further action except incrementing statistics counters. 
+further action except incrementing statistics counters.
 Sometimes a
 more proactive response is needed, such as a server message that
 explicitly requests the client to stop sending and leave a message
-for the system operator. 
+for the system operator.
 A special packet format has been created
-for this purpose called the "kiss-of-death" (KoD) packet. 
+for this purpose called the &quot;kiss-of-death&quot; (KoD) packet.
 KoD packets have the leap bits set unsynchronized and stratum set
 to zero and the reference identifier field set to a four-byte
-ASCII code. 
+ASCII code.
 If the
 <code>noserve</code>
 or
 <code>notrust</code>
 flag of the matching restrict list entry is set,
-the code is "DENY"; if the
+the code is &quot;DENY&quot;; if the
 <code>limited</code>
 flag is set and the rate limit
-is exceeded, the code is "RATE". 
-Finally, if a cryptographic violation occurs, the code is "CRYP".
-
-  <p>A client receiving a KoD performs a set of sanity checks to
+is exceeded, the code is &quot;RATE&quot;.
+Finally, if a cryptographic violation occurs, the code is &quot;CRYP&quot;.
+</p>
+<p>A client receiving a KoD performs a set of sanity checks to
 minimize security exposure, then updates the stratum and
 reference identifier peer variables, sets the access
 denied (TEST4) bit in the peer flash variable and sends
-a message to the log. 
+a message to the log.
 As long as the TEST4 bit is set,
-the client will send no further packets to the server. 
+the client will send no further packets to the server.
 The only way at present to recover from this condition is
-to restart the protocol at both the client and server. 
+to restart the protocol at both the client and server.
 This
-happens automatically at the client when the association times out. 
+happens automatically at the client when the association times out.
 It will happen at the server only if the server operator cooperates.
-
-<h5 class="subsubsection">Access Control Commands</h5>
-
-     <dl>
-<dt><code>discard</code> <code>[average </code><kbd>avg</kbd><code>]</code> <code>[minimum </code><kbd>min</kbd><code>]</code> <code>[monitor </code><kbd>prob</kbd><code>]</code><dd>Set the parameters of the
+</p><a name="Access-Control-Commands"></a>
+<h4 class="subsubsection">1.1.4.2 Access Control Commands</h4>
+<dl compact="compact">
+<dt><code>discard</code> <code>[<code>average</code> <kbd>avg</kbd>]</code> <code>[<code>minimum</code> <kbd>min</kbd>]</code> <code>[<code>monitor</code> <kbd>prob</kbd>]</code></dt>
+<dd><p>Set the parameters of the
 <code>limited</code>
 facility which protects the server from
-client abuse. 
+client abuse.
 The
 <code>average</code>
 subcommand specifies the minimum average packet
 spacing, while the
 <code>minimum</code>
-subcommand specifies the minimum packet spacing. 
+subcommand specifies the minimum packet spacing.
 Packets that violate these minima are discarded
-and a kiss-o'-death packet returned if enabled. 
+and a kiss-o&rsquo;-death packet returned if enabled.
 The default
-minimum average and minimum are 5 and 2, respectively. 
+minimum average and minimum are 5 and 2, respectively.
 The
 <code>monitor</code>
 subcommand specifies the probability of discard
-for packets that overflow the rate-control window. 
-<br><dt><code>restrict</code> <code>address</code> <code>[mask </code><kbd>mask</kbd><code>]</code> <code>[ippeerlimit </code><kbd>int</kbd><code>]</code> <code>[</code><kbd>flag</kbd> <kbd>...</kbd><code>]</code><dd>The
+for packets that overflow the rate-control window.
+</p></dd>
+<dt><code>restrict</code> <code>address</code> <code>[<code>mask</code> <kbd>mask</kbd>]</code> <code>[<code>ippeerlimit</code> <kbd>int</kbd>]</code> <code>[<kbd>flag</kbd> <kbd>...</kbd>]</code></dt>
+<dd><p>The
 <kbd>address</kbd>
 argument expressed in
-dotted-quad form is the address of a host or network. 
+dotted-quad form is the address of a host or network.
 Alternatively, the
 <kbd>address</kbd>
-argument can be a valid host DNS name. 
+argument can be a valid host DNS name.
 The
 <kbd>mask</kbd>
 argument expressed in dotted-quad form defaults to
@@ -1480,194 +1704,221 @@
 <code>255.255.255.255</code>,
 meaning that the
 <kbd>address</kbd>
-is treated as the address of an individual host. 
+is treated as the address of an individual host.
 A default entry (address
 <code>0.0.0.0</code>,
 mask
 <code>0.0.0.0</code>)
-is always included and is always the first entry in the list. 
+is always included and is always the first entry in the list.
 Note that text string
 <code>default</code>,
 with no mask option, may
-be used to indicate the default entry. 
+be used to indicate the default entry.
 The
 <code>ippeerlimit</code>
 directive limits the number of peer requests for each IP to
 <kbd>int</kbd>,
-where a value of -1 means "unlimited", the current default. 
-A value of 0 means "none". 
+where a value of -1 means &quot;unlimited&quot;, the current default.
+A value of 0 means &quot;none&quot;.
 There would usually be at most 1 peering request per IP,
 but if the remote peering requests are behind a proxy
-there could well be more than 1 per IP. 
+there could well be more than 1 per IP.
 In the current implementation,
 <code>flag</code>
 always
 restricts access, i.e., an entry with no flags indicates that free
-access to the server is to be given. 
+access to the server is to be given.
 The flags are not orthogonal,
 in that more restrictive flags will often make less restrictive
-ones redundant. 
+ones redundant.
 The flags can generally be classed into two
 categories, those which restrict time service and those which
 restrict informational queries and attempts to do run-time
-reconfiguration of the server. 
+reconfiguration of the server.
 One or more of the following flags
 may be specified:
-          <dl>
-<dt><code>ignore</code><dd>Deny packets of all kinds, including
+</p><dl compact="compact">
+<dt><code>ignore</code></dt>
+<dd><p>Deny packets of all kinds, including
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-queries. 
-<br><dt><code>kod</code><dd>If this flag is set when an access violation occurs, a kiss-o'-death
-(KoD) packet is sent. 
+queries.
+</p></dd>
+<dt><code>kod</code></dt>
+<dd><p>If this flag is set when an access violation occurs, a kiss-o&rsquo;-death
+(KoD) packet is sent.
 KoD packets are rate limited to no more than one
-per second. 
+per second.
 If another KoD packet occurs within one second after the
-last one, the packet is dropped. 
-<br><dt><code>limited</code><dd>Deny service if the packet spacing violates the lower limits specified
+last one, the packet is dropped.
+</p></dd>
+<dt><code>limited</code></dt>
+<dd><p>Deny service if the packet spacing violates the lower limits specified
 in the
 <code>discard</code>
-command. 
+command.
 A history of clients is kept using the
 monitoring capability of
-<code>ntpd(1ntpdmdoc)</code>. 
+<code>ntpd(1ntpdmdoc)</code>.
 Thus, monitoring is always active as
 long as there is a restriction entry with the
 <code>limited</code>
-flag. 
-<br><dt><code>lowpriotrap</code><dd>Declare traps set by matching hosts to be low priority. 
+flag.
+</p></dd>
+<dt><code>lowpriotrap</code></dt>
+<dd><p>Declare traps set by matching hosts to be low priority.
 The
 number of traps a server can maintain is limited (the current limit
-is 3). 
+is 3).
 Traps are usually assigned on a first come, first served
-basis, with later trap requestors being denied service. 
+basis, with later trap requestors being denied service.
 This flag
 modifies the assignment algorithm by allowing low priority traps to
-be overridden by later requests for normal priority traps. 
-<br><dt><code>noepeer</code><dd>Deny ephemeral peer requests,
-even if they come from an authenticated source. 
+be overridden by later requests for normal priority traps.
+</p></dd>
+<dt><code>noepeer</code></dt>
+<dd><p>Deny ephemeral peer requests,
+even if they come from an authenticated source.
 Note that the ability to use a symmetric key for authentication may be restricted to
 one or more IPs or subnets via the third field of the
-<span class="file">ntp.keys</span>
-file. 
+<samp>ntp.keys</samp>
+file.
 This restriction is not enabled by default,
-to maintain backward compatability. 
+to maintain backward compatability.
 Expect
 <code>noepeer</code>
-to become the default in ntp-4.4. 
-<br><dt><code>nomodify</code><dd>Deny
+to become the default in ntp-4.4.
+</p></dd>
+<dt><code>nomodify</code></dt>
+<dd><p>Deny
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
 queries which attempt to modify the state of the
-server (i.e., run time reconfiguration). 
+server (i.e., run time reconfiguration).
 Queries which return
-information are permitted. 
-<br><dt><code>noquery</code><dd>Deny
+information are permitted.
+</p></dd>
+<dt><code>noquery</code></dt>
+<dd><p>Deny
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-queries. 
-Time service is not affected. 
-<br><dt><code>nopeer</code><dd>Deny unauthenticated packets which would result in mobilizing a new association. 
+queries.
+Time service is not affected.
+</p></dd>
+<dt><code>nopeer</code></dt>
+<dd><p>Deny unauthenticated packets which would result in mobilizing a new association.
 This includes
 broadcast and symmetric active packets
-when a configured association does not exist. 
+when a configured association does not exist.
 It also includes
 <code>pool</code>
-associations, so if you want to use servers from a
+associations, so if you want to use servers from a 
 <code>pool</code>
 directive and also want to use
 <code>nopeer</code>
-by default, you'll want a
+by default, you&rsquo;ll want a
 <code>restrict source ...</code>
 line as well that does
 <em>not</em>
 include the
 <code>nopeer</code>
-directive. 
-<br><dt><code>noserve</code><dd>Deny all packets except
+directive.
+</p></dd>
+<dt><code>noserve</code></dt>
+<dd><p>Deny all packets except
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
-queries. 
-<br><dt><code>notrap</code><dd>Decline to provide mode 6 control message trap service to matching
-hosts. 
+queries.
+</p></dd>
+<dt><code>notrap</code></dt>
+<dd><p>Decline to provide mode 6 control message trap service to matching
+hosts.
 The trap service is a subsystem of the
 <code>ntpq(1ntpqmdoc)</code>
 control message
-protocol which is intended for use by remote event logging programs. 
-<br><dt><code>notrust</code><dd>Deny service unless the packet is cryptographically authenticated. 
-<br><dt><code>ntpport</code><dd>This is actually a match algorithm modifier, rather than a
-restriction flag. 
+protocol which is intended for use by remote event logging programs.
+</p></dd>
+<dt><code>notrust</code></dt>
+<dd><p>Deny service unless the packet is cryptographically authenticated.
+</p></dd>
+<dt><code>ntpport</code></dt>
+<dd><p>This is actually a match algorithm modifier, rather than a
+restriction flag.
 Its presence causes the restriction entry to be
 matched only if the source port in the packet is the standard NTP
-UDP port (123). 
+UDP port (123).
 Both
 <code>ntpport</code>
 and
 <code>non-ntpport</code>
 may
-be specified. 
+be specified.
 The
 <code>ntpport</code>
 is considered more specific and
-is sorted later in the list. 
-<br><dt><code>version</code><dd>Deny packets that do not match the current NTP version. 
+is sorted later in the list.
+</p></dd>
+<dt><code>version</code></dt>
+<dd><p>Deny packets that do not match the current NTP version.
+</p></dd>
 </dl>
 
-     <p>Default restriction list entries with the flags ignore, interface,
-ntpport, for each of the local host's interface addresses are
+<p>Default restriction list entries with the flags ignore, interface,
+ntpport, for each of the local host&rsquo;s interface addresses are
 inserted into the table at startup to prevent the server
-from attempting to synchronize to its own time. 
+from attempting to synchronize to its own time.
 A default entry is also always present, though if it is
 otherwise unconfigured; no flags are associated
 with the default entry (i.e., everything besides your own
-NTP server is unrestricted). 
+NTP server is unrestricted).
+</p></dd>
 </dl>
-<div class="node">
-<p><hr>
+<hr>
 <a name="Automatic-NTP-Configuration-Options"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Reference-Clock-Support" accesskey="n" rel="next">Reference Clock Support</a>, Previous: <a href="#Access-Control-Support" accesskey="p" rel="prev">Access Control Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Automatic NTP Configuration Options</h4>
-
-<h5 class="subsubsection">Manycasting</h5>
-
+<a name="Automatic-NTP-Configuration-Options-1"></a>
+<h4 class="subsection">1.1.5 Automatic NTP Configuration Options</h4>
+<a name="Manycasting"></a>
+<h4 class="subsubsection">1.1.5.1 Manycasting</h4>
 <p>Manycasting is a automatic discovery and configuration paradigm
-new to NTPv4. 
+new to NTPv4.
 It is intended as a means for a multicast client
 to troll the nearby network neighborhood to find cooperating
 manycast servers, validate them using cryptographic means
 and evaluate their time values with respect to other servers
-that might be lurking in the vicinity. 
+that might be lurking in the vicinity.
 The intended result is that each manycast client mobilizes
-client associations with some number of the "best"
+client associations with some number of the &quot;best&quot;
 of the nearby manycast servers, yet automatically reconfigures
 to sustain this number of servers should one or another fail.
-
-  <p>Note that the manycasting paradigm does not coincide
+</p>
+<p>Note that the manycasting paradigm does not coincide
 with the anycast paradigm described in RFC-1546,
 which is designed to find a single server from a clique
-of servers providing the same service. 
+of servers providing the same service.
 The manycast paradigm is designed to find a plurality
 of redundant servers satisfying defined optimality criteria.
-
-  <p>Manycasting can be used with either symmetric key
-or public key cryptography. 
+</p>
+<p>Manycasting can be used with either symmetric key
+or public key cryptography.
 The public key infrastructure (PKI)
 offers the best protection against compromised keys
 and is generally considered stronger, at least with relatively
-large key sizes. 
+large key sizes.
 It is implemented using the Autokey protocol and
 the OpenSSL cryptographic library available from
-<code>http://www.openssl.org/</code>. 
+<code>http://www.openssl.org/</code>.
 The library can also be used with other NTPv4 modes
 as well and is highly recommended, especially for broadcast modes.
-
-  <p>A persistent manycast client association is configured
+</p>
+<p>A persistent manycast client association is configured
 using the
 <code>manycastclient</code>
 command, which is similar to the
@@ -1676,62 +1927,62 @@
 <code>D</code>
 or IPv6 prefix
 <code>FF</code>)
-group address. 
+group address.
 The IANA has designated IPv4 address 224.1.1.1
-and IPv6 address FF05::101 (site local) for NTP. 
+and IPv6 address FF05::101 (site local) for NTP.
 When more servers are needed, it broadcasts manycast
 client messages to this address at the minimum feasible rate
 and minimum feasible time-to-live (TTL) hops, depending
-on how many servers have already been found. 
+on how many servers have already been found.
 There can be as many manycast client associations
 as different group address, each one serving as a template
 for a future ephemeral unicast client/server association.
-
-  <p>Manycast servers configured with the
+</p>
+<p>Manycast servers configured with the
 <code>manycastserver</code>
 command listen on the specified group address for manycast
-client messages. 
+client messages.
 Note the distinction between manycast client,
 which actively broadcasts messages, and manycast server,
-which passively responds to them. 
+which passively responds to them.
 If a manycast server is
 in scope of the current TTL and is itself synchronized
 to a valid source and operating at a stratum level equal
 to or lower than the manycast client, it replies to the
 manycast client message with an ordinary unicast server message.
-
-  <p>The manycast client receiving this message mobilizes
+</p>
+<p>The manycast client receiving this message mobilizes
 an ephemeral client/server association according to the
 matching manycast client template, but only if cryptographically
 authenticated and the server stratum is less than or equal
-to the client stratum. 
+to the client stratum.
 Authentication is explicitly required
-and either symmetric key or public key (Autokey) can be used. 
+and either symmetric key or public key (Autokey) can be used.
 Then, the client polls the server at its unicast address
 in burst mode in order to reliably set the host clock
-and validate the source. 
+and validate the source.
 This normally results
 in a volley of eight client/server at 2-s intervals
 during which both the synchronization and cryptographic
-protocols run concurrently. 
+protocols run concurrently.
 Following the volley,
 the client runs the NTP intersection and clustering
-algorithms, which act to discard all but the "best"
+algorithms, which act to discard all but the &quot;best&quot;
 associations according to stratum and synchronization
-distance. 
+distance.
 The surviving associations then continue
 in ordinary client/server mode.
-
-  <p>The manycast client polling strategy is designed to reduce
+</p>
+<p>The manycast client polling strategy is designed to reduce
 as much as possible the volume of manycast client messages
 and the effects of implosion due to near-simultaneous
-arrival of manycast server messages. 
+arrival of manycast server messages.
 The strategy is determined by the
 <code>manycastclient</code>,
 <code>tos</code>
 and
 <code>ttl</code>
-configuration commands. 
+configuration commands.
 The manycast poll interval is
 normally eight times the system poll interval,
 which starts out at the
@@ -1740,17 +1991,17 @@
 <code>manycastclient</code>,
 command and, under normal circumstances, increments to the
 <code>maxpolll</code>
-value specified in this command. 
+value specified in this command.
 Initially, the TTL is
 set at the minimum hops specified by the
 <code>ttl</code>
-command. 
+command.
 At each retransmission the TTL is increased until reaching
 the maximum hops specified by this command or a sufficient
-number client associations have been found. 
+number client associations have been found.
 Further retransmissions use the same TTL.
-
-  <p>The quality and reliability of the suite of associations
+</p>
+<p>The quality and reliability of the suite of associations
 discovered by the manycast client is determined by the NTP
 mitigation algorithms and the
 <code>minclock</code>
@@ -1758,66 +2009,66 @@
 <code>minsane</code>
 values specified in the
 <code>tos</code>
-configuration command. 
+configuration command.
 At least
 <code>minsane</code>
 candidate servers must be available and the mitigation
 algorithms produce at least
 <code>minclock</code>
-survivors in order to synchronize the clock. 
+survivors in order to synchronize the clock.
 Byzantine agreement principles require at least four
-candidates in order to correctly discard a single falseticker. 
+candidates in order to correctly discard a single falseticker.
 For legacy purposes,
 <code>minsane</code>
 defaults to 1 and
 <code>minclock</code>
-defaults to 3. 
+defaults to 3.
 For manycast service
 <code>minsane</code>
 should be explicitly set to 4, assuming at least that
 number of servers are available.
-
-  <p>If at least
+</p>
+<p>If at least
 <code>minclock</code>
 servers are found, the manycast poll interval is immediately
 set to eight times
-<code>maxpoll</code>. 
+<code>maxpoll</code>.
 If less than
 <code>minclock</code>
 servers are found when the TTL has reached the maximum hops,
-the manycast poll interval is doubled. 
+the manycast poll interval is doubled.
 For each transmission
 after that, the poll interval is doubled again until
 reaching the maximum of eight times
-<code>maxpoll</code>. 
+<code>maxpoll</code>.
 Further transmissions use the same poll interval and
-TTL values. 
+TTL values.
 Note that while all this is going on,
 each client/server association found is operating normally
 it the system poll interval.
-
-  <p>Administratively scoped multicast boundaries are normally
+</p>
+<p>Administratively scoped multicast boundaries are normally
 specified by the network router configuration and,
-in the case of IPv6, the link/site scope prefix. 
+in the case of IPv6, the link/site scope prefix.
 By default, the increment for TTL hops is 32 starting
 from 31; however, the
 <code>ttl</code>
 configuration command can be
 used to modify the values to match the scope rules.
-
-  <p>It is often useful to narrow the range of acceptable
-servers which can be found by manycast client associations. 
+</p>
+<p>It is often useful to narrow the range of acceptable
+servers which can be found by manycast client associations.
 Because manycast servers respond only when the client
 stratum is equal to or greater than the server stratum,
 primary (stratum 1) servers fill find only primary servers
-in TTL range, which is probably the most common objective. 
+in TTL range, which is probably the most common objective.
 However, unless configured otherwise, all manycast clients
 in TTL range will eventually find all primary servers
 in TTL range, which is probably not the most common
-objective in large networks. 
+objective in large networks.
 The
 <code>tos</code>
-command can be used to modify this behavior. 
+command can be used to modify this behavior.
 Servers with stratum below
 <code>floor</code>
 or above
@@ -1829,36 +2080,36 @@
 accepted if the number of servers within TTL range is
 less than
 <code>minclock</code>.
-
-  <p>The above actions occur for each manycast client message,
-which repeats at the designated poll interval. 
+</p>
+<p>The above actions occur for each manycast client message,
+which repeats at the designated poll interval.
 However, once the ephemeral client association is mobilized,
 subsequent manycast server replies are discarded,
-since that would result in a duplicate association. 
+since that would result in a duplicate association.
 If during a poll interval the number of client associations
 falls below
 <code>minclock</code>,
 all manycast client prototype associations are reset
 to the initial poll interval and TTL hops and operation
-resumes from the beginning. 
+resumes from the beginning.
 It is important to avoid
 frequent manycast client messages, since each one requires
-all manycast servers in TTL range to respond. 
+all manycast servers in TTL range to respond.
 The result could well be an implosion, either minor or major,
-depending on the number of servers in range. 
+depending on the number of servers in range.
 The recommended value for
 <code>maxpoll</code>
 is 12 (4,096 s).
-
-  <p>It is possible and frequently useful to configure a host
-as both manycast client and manycast server. 
+</p>
+<p>It is possible and frequently useful to configure a host
+as both manycast client and manycast server.
 A number of hosts configured this way and sharing a common
 group address will automatically organize themselves
 in an optimum configuration based on stratum and
-synchronization distance. 
+synchronization distance.
 For example, consider an NTP
 subnet of two primary servers and a hundred or more
-dependent clients. 
+dependent clients.
 With two exceptions, all servers
 and clients have identical configuration files including both
 <code>multicastclient</code>
@@ -1865,36 +2116,36 @@
 and
 <code>multicastserver</code>
 commands using, for instance, multicast group address
-239.1.1.1. 
+239.1.1.1.
 The only exception is that each primary server
 configuration file must include commands for the primary
 reference source such as a GPS receiver.
-
-  <p>The remaining configuration files for all secondary
+</p>
+<p>The remaining configuration files for all secondary
 servers and clients have the same contents, except for the
 <code>tos</code>
-command, which is specific for each stratum level. 
+command, which is specific for each stratum level.
 For stratum 1 and stratum 2 servers, that command is
-not necessary. 
+not necessary.
 For stratum 3 and above servers the
 <code>floor</code>
-value is set to the intended stratum number. 
+value is set to the intended stratum number.
 Thus, all stratum 3 configuration files are identical,
 all stratum 4 files are identical and so forth.
-
-  <p>Once operations have stabilized in this scenario,
+</p>
+<p>Once operations have stabilized in this scenario,
 the primary servers will find the primary reference source
 and each other, since they both operate at the same
 stratum (1), but not with any secondary server or client,
-since these operate at a higher stratum. 
+since these operate at a higher stratum.
 The secondary
-servers will find the servers at the same stratum level. 
+servers will find the servers at the same stratum level.
 If one of the primary servers loses its GPS receiver,
 it will continue to operate as a client and other clients
 will time out the corresponding association and
 re-associate accordingly.
-
-  <p>Some administrators prefer to avoid running
+</p>
+<p>Some administrators prefer to avoid running
 <code>ntpd(1ntpdmdoc)</code>
 continuously and run either
 <code>sntp(1sntpmdoc)</code>
@@ -1901,198 +2152,211 @@
 or
 <code>ntpd(1ntpdmdoc)</code>
 <code>-q</code>
-as a cron job. 
+as a cron job.
 In either case the servers must be
 configured in advance and the program fails if none are
-available when the cron job runs. 
+available when the cron job runs.
 A really slick
 application of manycast is with
 <code>ntpd(1ntpdmdoc)</code>
-<code>-q</code>. 
+<code>-q</code>.
 The program wakes up, scans the local landscape looking
 for the usual suspects, selects the best from among
-the rascals, sets the clock and then departs. 
+the rascals, sets the clock and then departs.
 Servers do not have to be configured in advance and
 all clients throughout the network can have the same
 configuration file.
-
-<h5 class="subsubsection">Manycast Interactions with Autokey</h5>
-
+</p><a name="Manycast-Interactions-with-Autokey"></a>
+<h4 class="subsubsection">1.1.5.2 Manycast Interactions with Autokey</h4>
 <p>Each time a manycast client sends a client mode packet
 to a multicast group address, all manycast servers
 in scope generate a reply including the host name
-and status word. 
+and status word.
 The manycast clients then run
 the Autokey protocol, which collects and verifies
-all certificates involved. 
+all certificates involved.
 Following the burst interval
 all but three survivors are cast off,
-but the certificates remain in the local cache. 
+but the certificates remain in the local cache.
 It often happens that several complete signing trails
 from the client to the primary servers are collected in this way.
-
-  <p>About once an hour or less often if the poll interval
-exceeds this, the client regenerates the Autokey key list. 
-This is in general transparent in client/server mode. 
+</p>
+<p>About once an hour or less often if the poll interval
+exceeds this, the client regenerates the Autokey key list.
+This is in general transparent in client/server mode.
 However, about once per day the server private value
 used to generate cookies is refreshed along with all
-manycast client associations. 
+manycast client associations.
 In this case all
-cryptographic values including certificates is refreshed. 
+cryptographic values including certificates is refreshed.
 If a new certificate has been generated since
 the last refresh epoch, it will automatically revoke
 all prior certificates that happen to be in the
-certificate cache. 
+certificate cache.
 At the same time, the manycast
 scheme starts all over from the beginning and
 the expanding ring shrinks to the minimum and increments
 from there while collecting all servers in scope.
-
-<h5 class="subsubsection">Broadcast Options</h5>
-
-     <dl>
-<dt><code>tos</code> <code>[bcpollbstep </code><kbd>gate</kbd><code>]</code><dd>This command provides a way to delay,
+</p><a name="Broadcast-Options"></a>
+<h4 class="subsubsection">1.1.5.3 Broadcast Options</h4>
+<dl compact="compact">
+<dt><code>tos</code> <code>[<code>bcpollbstep</code> <kbd>gate</kbd>]</code></dt>
+<dd><p>This command provides a way to delay,
 by the specified number of broadcast poll intervals,
-believing backward time steps from a broadcast server. 
-Broadcast time networks are expected to be trusted. 
-In the event a broadcast server's time is stepped backwards,
+believing backward time steps from a broadcast server.
+Broadcast time networks are expected to be trusted.
+In the event a broadcast server&rsquo;s time is stepped backwards,
 there is clear benefit to having the clients notice this change
-as soon as possible. 
+as soon as possible.
 Attacks such as replay attacks can happen, however,
 and even though there are a number of protections built in to
-broadcast mode, attempts to perform a replay attack are possible. 
+broadcast mode, attempts to perform a replay attack are possible.
 This value defaults to 0, but can be changed
-to any number of poll intervals between 0 and 4. 
+to any number of poll intervals between 0 and 4.
+</p></dd>
 </dl>
-
-<h5 class="subsubsection">Manycast Options</h5>
-
-     <dl>
-<dt><code>tos</code> <code>[ceiling </code><kbd>ceiling</kbd><code> | cohort { 0 | 1 } | floor </code><kbd>floor</kbd><code> | minclock </code><kbd>minclock</kbd><code> | minsane </code><kbd>minsane</kbd><code>]</code><dd>This command affects the clock selection and clustering
-algorithms. 
+<a name="Manycast-Options"></a>
+<h4 class="subsubsection">1.1.5.4 Manycast Options</h4>
+<dl compact="compact">
+<dt><code>tos</code> <code>[<code>ceiling</code> <kbd>ceiling</kbd> | <code>cohort</code> <code>{</code> <code>0</code> | <code>1</code> <code>}</code> | <code>floor</code> <kbd>floor</kbd> | <code>minclock</code> <kbd>minclock</kbd> | <code>minsane</code> <kbd>minsane</kbd>]</code></dt>
+<dd><p>This command affects the clock selection and clustering
+algorithms.
 It can be used to select the quality and
 quantity of peers used to synchronize the system clock
-and is most useful in manycast mode. 
+and is most useful in manycast mode.
 The variables operate
 as follows:
-          <dl>
-<dt><code>ceiling</code> <kbd>ceiling</kbd><dd>Peers with strata above
+</p><dl compact="compact">
+<dt><code>ceiling</code> <kbd>ceiling</kbd></dt>
+<dd><p>Peers with strata above
 <code>ceiling</code>
 will be discarded if there are at least
 <code>minclock</code>
-peers remaining. 
+peers remaining.
 This value defaults to 15, but can be changed
-to any number from 1 to 15. 
-<br><dt><code>cohort</code> <code>{0 | 1}</code><dd>This is a binary flag which enables (0) or disables (1)
+to any number from 1 to 15.
+</p></dd>
+<dt><code>cohort</code> <code>{0 | 1}</code></dt>
+<dd><p>This is a binary flag which enables (0) or disables (1)
 manycast server replies to manycast clients with the same
-stratum level. 
+stratum level.
 This is useful to reduce implosions where
 large numbers of clients with the same stratum level
-are present. 
-The default is to enable these replies. 
-<br><dt><code>floor</code> <kbd>floor</kbd><dd>Peers with strata below
+are present.
+The default is to enable these replies.
+</p></dd>
+<dt><code>floor</code> <kbd>floor</kbd></dt>
+<dd><p>Peers with strata below
 <code>floor</code>
 will be discarded if there are at least
 <code>minclock</code>
-peers remaining. 
+peers remaining.
 This value defaults to 1, but can be changed
-to any number from 1 to 15. 
-<br><dt><code>minclock</code> <kbd>minclock</kbd><dd>The clustering algorithm repeatedly casts out outlier
+to any number from 1 to 15.
+</p></dd>
+<dt><code>minclock</code> <kbd>minclock</kbd></dt>
+<dd><p>The clustering algorithm repeatedly casts out outlier
 associations until no more than
 <code>minclock</code>
-associations remain. 
+associations remain.
 This value defaults to 3,
 but can be changed to any number from 1 to the number of
-configured sources. 
-<br><dt><code>minsane</code> <kbd>minsane</kbd><dd>This is the minimum number of candidates available
+configured sources.
+</p></dd>
+<dt><code>minsane</code> <kbd>minsane</kbd></dt>
+<dd><p>This is the minimum number of candidates available
 to the clock selection algorithm in order to produce
-one or more truechimers for the clustering algorithm. 
+one or more truechimers for the clustering algorithm.
 If fewer than this number are available, the clock is
-undisciplined and allowed to run free. 
+undisciplined and allowed to run free.
 The default is 1
-for legacy purposes. 
+for legacy purposes.
 However, according to principles of
 Byzantine agreement,
 <code>minsane</code>
 should be at least 4 in order to detect and discard
-a single falseticker. 
+a single falseticker.
+</p></dd>
 </dl>
-     <br><dt><code>ttl</code> <kbd>hop</kbd> <kbd>...</kbd><dd>This command specifies a list of TTL values in increasing
-order, up to 8 values can be specified. 
+</dd>
+<dt><code>ttl</code> <kbd>hop</kbd> <kbd>...</kbd></dt>
+<dd><p>This command specifies a list of TTL values in increasing
+order, up to 8 values can be specified.
 In manycast mode these values are used in turn
-in an expanding-ring search. 
+in an expanding-ring search.
 The default is eight
-multiples of 32 starting at 31. 
+multiples of 32 starting at 31.
+</p></dd>
 </dl>
-<div class="node">
-<p><hr>
+<hr>
 <a name="Reference-Clock-Support"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Miscellaneous-Options" accesskey="n" rel="next">Miscellaneous Options</a>, Previous: <a href="#Automatic-NTP-Configuration-Options" accesskey="p" rel="prev">Automatic NTP Configuration Options</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Reference Clock Support</h4>
-
+<a name="Reference-Clock-Support-1"></a>
+<h4 class="subsection">1.1.6 Reference Clock Support</h4>
 <p>The NTP Version 4 daemon supports some three dozen different radio,
 satellite and modem reference clocks plus a special pseudo-clock
-used for backup or when no other clock source is available. 
+used for backup or when no other clock source is available.
 Detailed descriptions of individual device drivers and options can
 be found in the
-"Reference Clock Drivers"
+&quot;Reference Clock Drivers&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>). 
+<samp>/usr/share/doc/ntp</samp>).
 Additional information can be found in the pages linked
 there, including the
-"Debugging Hints for Reference Clock Drivers"
+&quot;Debugging Hints for Reference Clock Drivers&quot;
 and
-"How To Write a Reference Clock Driver"
+&quot;How To Write a Reference Clock Driver&quot;
 pages
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>). 
+<samp>/usr/share/doc/ntp</samp>).
 In addition, support for a PPS
 signal is available as described in the
-"Pulse-per-second (PPS) Signal Interfacing"
+&quot;Pulse-per-second (PPS) Signal Interfacing&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>). 
+<samp>/usr/share/doc/ntp</samp>).
 Many
 drivers support special line discipline/streams modules which can
-significantly improve the accuracy using the driver. 
+significantly improve the accuracy using the driver.
 These are
 described in the
-"Line Disciplines and Streams Drivers"
+&quot;Line Disciplines and Streams Drivers&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>).
-
-  <p>A reference clock will generally (though not always) be a radio
+<samp>/usr/share/doc/ntp</samp>).
+</p>
+<p>A reference clock will generally (though not always) be a radio
 timecode receiver which is synchronized to a source of standard
 time such as the services offered by the NRC in Canada and NIST and
-USNO in the US. 
+USNO in the US.
 The interface between the computer and the timecode
-receiver is device dependent, but is usually a serial port. 
+receiver is device dependent, but is usually a serial port.
 A
 device driver specific to each reference clock must be selected and
 compiled in the distribution; however, most common radio, satellite
-and modem clocks are included by default. 
+and modem clocks are included by default.
 Note that an attempt to
 configure a reference clock when the driver has not been compiled
 or the hardware port has not been appropriately configured results
 in a scalding remark to the system log file, but is otherwise non
 hazardous.
-
-  <p>For the purposes of configuration,
+</p>
+<p>For the purposes of configuration,
 <code>ntpd(1ntpdmdoc)</code>
 treats
 reference clocks in a manner analogous to normal NTP peers as much
-as possible. 
+as possible.
 Reference clocks are identified by a syntactically
 correct but invalid IP address, in order to distinguish them from
-normal NTP peers. 
+normal NTP peers.
 Reference clock addresses are of the form
 <code>127.127.</code><kbd>t</kbd>.<kbd>u</kbd>,
 where
@@ -2101,117 +2365,123 @@
 denoting the clock type and
 <kbd>u</kbd>
 indicates the unit
-number in the range 0-3. 
+number in the range 0-3.
 While it may seem overkill, it is in fact
 sometimes useful to configure multiple reference clocks of the same
 type, in which case the unit numbers must be unique.
-
-  <p>The
+</p>
+<p>The
 <code>server</code>
 command is used to configure a reference
 clock, where the
 <kbd>address</kbd>
 argument in that command
-is the clock address. 
+is the clock address.
 The
 <code>key</code>,
 <code>version</code>
 and
 <code>ttl</code>
-options are not used for reference clock support. 
+options are not used for reference clock support.
 The
 <code>mode</code>
 option is added for reference clock support, as
-described below. 
+described below.
 The
 <code>prefer</code>
 option can be useful to
 persuade the server to cherish a reference clock with somewhat more
-enthusiasm than other reference clocks or peers. 
+enthusiasm than other reference clocks or peers.
 Further
 information on this option can be found in the
-"Mitigation Rules and the prefer Keyword"
+&quot;Mitigation Rules and the prefer Keyword&quot;
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>)
-page. 
+<samp>/usr/share/doc/ntp</samp>)
+page.
 The
 <code>minpoll</code>
 and
 <code>maxpoll</code>
 options have
-meaning only for selected clock drivers. 
+meaning only for selected clock drivers.
 See the individual clock
 driver document pages for additional information.
-
-  <p>The
+</p>
+<p>The
 <code>fudge</code>
 command is used to provide additional
 information for individual clock drivers and normally follows
 immediately after the
 <code>server</code>
-command. 
+command.
 The
 <kbd>address</kbd>
-argument specifies the clock address. 
+argument specifies the clock address.
 The
 <code>refid</code>
 and
 <code>stratum</code>
 options can be used to
-override the defaults for the device. 
+override the defaults for the device.
 There are two optional
 device-dependent time offsets and four flags that can be included
 in the
 <code>fudge</code>
 command as well.
-
-  <p>The stratum number of a reference clock is by default zero. 
+</p>
+<p>The stratum number of a reference clock is by default zero.
 Since the
 <code>ntpd(1ntpdmdoc)</code>
 daemon adds one to the stratum of each
 peer, a primary server ordinarily displays an external stratum of
-one. 
+one.
 In order to provide engineered backups, it is often useful to
-specify the reference clock stratum as greater than zero. 
+specify the reference clock stratum as greater than zero.
 The
 <code>stratum</code>
-option is used for this purpose. 
+option is used for this purpose.
 Also, in cases
 involving both a reference clock and a pulse-per-second (PPS)
 discipline signal, it is useful to specify the reference clock
-identifier as other than the default, depending on the driver. 
+identifier as other than the default, depending on the driver.
 The
 <code>refid</code>
-option is used for this purpose. 
+option is used for this purpose.
 Except where noted,
 these options apply to all clock drivers.
-
-<h5 class="subsubsection">Reference Clock Commands</h5>
-
-     <dl>
-<dt><code>server</code> <code>127.127.</code><kbd>t</kbd>.<kbd>u</kbd> <code>[prefer]</code> <code>[mode </code><kbd>int</kbd><code>]</code> <code>[minpoll </code><kbd>int</kbd><code>]</code> <code>[maxpoll </code><kbd>int</kbd><code>]</code><dd>This command can be used to configure reference clocks in
-special ways. 
+</p><a name="Reference-Clock-Commands"></a>
+<h4 class="subsubsection">1.1.6.1 Reference Clock Commands</h4>
+<dl compact="compact">
+<dt><code>server</code> <code>127.127.</code><kbd>t</kbd>.<kbd>u</kbd> <code>[<code>prefer</code>]</code> <code>[<code>mode</code> <kbd>int</kbd>]</code> <code>[<code>minpoll</code> <kbd>int</kbd>]</code> <code>[<code>maxpoll</code> <kbd>int</kbd>]</code></dt>
+<dd><p>This command can be used to configure reference clocks in
+special ways.
 The options are interpreted as follows:
-          <dl>
-<dt><code>prefer</code><dd>Marks the reference clock as preferred. 
+</p><dl compact="compact">
+<dt><code>prefer</code></dt>
+<dd><p>Marks the reference clock as preferred.
 All other things being
 equal, this host will be chosen for synchronization among a set of
-correctly operating hosts. 
+correctly operating hosts.
 See the
-"Mitigation Rules and the prefer Keyword"
+&quot;Mitigation Rules and the prefer Keyword&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>)
-for further information. 
-<br><dt><code>mode</code> <kbd>int</kbd><dd>Specifies a mode number which is interpreted in a
-device-specific fashion. 
+<samp>/usr/share/doc/ntp</samp>)
+for further information.
+</p></dd>
+<dt><code>mode</code> <kbd>int</kbd></dt>
+<dd><p>Specifies a mode number which is interpreted in a
+device-specific fashion.
 For instance, it selects a dialing
 protocol in the ACTS driver and a device subtype in the
 parse
-drivers. 
-<br><dt><code>minpoll</code> <kbd>int</kbd><br><dt><code>maxpoll</code> <kbd>int</kbd><dd>These options specify the minimum and maximum polling interval
+drivers.
+</p></dd>
+<dt><code>minpoll</code> <kbd>int</kbd></dt>
+<dt><code>maxpoll</code> <kbd>int</kbd></dt>
+<dd><p>These options specify the minimum and maximum polling interval
 for reference clock messages, as a power of 2 in seconds
 For
 most directly connected reference clocks, both
@@ -2218,82 +2488,99 @@
 <code>minpoll</code>
 and
 <code>maxpoll</code>
-default to 6 (64 s). 
+default to 6 (64 s).
 For modem reference clocks,
 <code>minpoll</code>
 defaults to 10 (17.1 m) and
 <code>maxpoll</code>
-defaults to 14 (4.5 h). 
-The allowable range is 4 (16 s) to 17 (36.4 h) inclusive. 
+defaults to 14 (4.5 h).
+The allowable range is 4 (16 s) to 17 (36.4 h) inclusive.
+</p></dd>
 </dl>
-     <br><dt><code>fudge</code> <code>127.127.</code><kbd>t</kbd>.<kbd>u</kbd> <code>[time1 </code><kbd>sec</kbd><code>]</code> <code>[time2 </code><kbd>sec</kbd><code>]</code> <code>[stratum </code><kbd>int</kbd><code>]</code> <code>[refid </code><kbd>string</kbd><code>]</code> <code>[mode </code><kbd>int</kbd><code>]</code> <code>[flag1 0 | 1]</code> <code>[flag2 0 | 1]</code> <code>[flag3 0 | 1]</code> <code>[flag4 0 | 1]</code><dd>This command can be used to configure reference clocks in
-special ways. 
+</dd>
+<dt><code>fudge</code> <code>127.127.</code><kbd>t</kbd>.<kbd>u</kbd> <code>[<code>time1</code> <kbd>sec</kbd>]</code> <code>[<code>time2</code> <kbd>sec</kbd>]</code> <code>[<code>stratum</code> <kbd>int</kbd>]</code> <code>[<code>refid</code> <kbd>string</kbd>]</code> <code>[<code>mode</code> <kbd>int</kbd>]</code> <code>[<code>flag1</code> <code>0</code> <code>|</code> <code>1</code>]</code> <code>[<code>flag2</code> <code>0</code> <code>|</code> <code>1</code>]</code> <code>[<code>flag3</code> <code>0</code> <code>|</code> <code>1</code>]</code> <code>[<code>flag4</code> <code>0</code> <code>|</code> <code>1</code>]</code></dt>
+<dd><p>This command can be used to configure reference clocks in
+special ways.
 It must immediately follow the
 <code>server</code>
-command which configures the driver. 
+command which configures the driver.
 Note that the same capability
 is possible at run time using the
 <code>ntpdc(1ntpdcmdoc)</code>
-program. 
+program.
 The options are interpreted as
 follows:
-          <dl>
-<dt><code>time1</code> <kbd>sec</kbd><dd>Specifies a constant to be added to the time offset produced by
-the driver, a fixed-point decimal number in seconds. 
+</p><dl compact="compact">
+<dt><code>time1</code> <kbd>sec</kbd></dt>
+<dd><p>Specifies a constant to be added to the time offset produced by
+the driver, a fixed-point decimal number in seconds.
 This is used
 as a calibration constant to adjust the nominal time offset of a
 particular clock to agree with an external standard, such as a
-precision PPS signal. 
+precision PPS signal.
 It also provides a way to correct a
 systematic error or bias due to serial port or operating system
-latencies, different cable lengths or receiver internal delay. 
+latencies, different cable lengths or receiver internal delay.
 The
 specified offset is in addition to the propagation delay provided
-by other means, such as internal DIPswitches. 
+by other means, such as internal DIPswitches.
 Where a calibration
 for an individual system and driver is available, an approximate
-correction is noted in the driver documentation pages. 
+correction is noted in the driver documentation pages.
 Note: in order to facilitate calibration when more than one
 radio clock or PPS signal is supported, a special calibration
-feature is available. 
+feature is available.
 It takes the form of an argument to the
 <code>enable</code>
 command described in
 <a href="#Miscellaneous-Options">Miscellaneous Options</a>
 page and operates as described in the
-"Reference Clock Drivers"
+&quot;Reference Clock Drivers&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span>). 
-<br><dt><code>time2</code> <kbd>secs</kbd><dd>Specifies a fixed-point decimal number in seconds, which is
-interpreted in a driver-dependent way. 
+<samp>/usr/share/doc/ntp</samp>).
+</p></dd>
+<dt><code>time2</code> <kbd>secs</kbd></dt>
+<dd><p>Specifies a fixed-point decimal number in seconds, which is
+interpreted in a driver-dependent way.
 See the descriptions of
 specific drivers in the
-"Reference Clock Drivers"
+&quot;Reference Clock Drivers&quot;
 page
 (available as part of the HTML documentation
 provided in
-<span class="file">/usr/share/doc/ntp</span> <span class="file">).</span>
-<br><dt><code>stratum</code> <kbd>int</kbd><dd>Specifies the stratum number assigned to the driver, an integer
-between 0 and 15. 
+<samp>/usr/share/doc/ntp</samp> <samp>).</samp>
+</p></dd>
+<dt><code>stratum</code> <kbd>int</kbd></dt>
+<dd><p>Specifies the stratum number assigned to the driver, an integer
+between 0 and 15.
 This number overrides the default stratum number
-ordinarily assigned by the driver itself, usually zero. 
-<br><dt><code>refid</code> <kbd>string</kbd><dd>Specifies an ASCII string of from one to four characters which
-defines the reference identifier used by the driver. 
+ordinarily assigned by the driver itself, usually zero.
+</p></dd>
+<dt><code>refid</code> <kbd>string</kbd></dt>
+<dd><p>Specifies an ASCII string of from one to four characters which
+defines the reference identifier used by the driver.
 This string
 overrides the default identifier ordinarily assigned by the driver
-itself. 
-<br><dt><code>mode</code> <kbd>int</kbd><dd>Specifies a mode number which is interpreted in a
-device-specific fashion. 
+itself.
+</p></dd>
+<dt><code>mode</code> <kbd>int</kbd></dt>
+<dd><p>Specifies a mode number which is interpreted in a
+device-specific fashion.
 For instance, it selects a dialing
 protocol in the ACTS driver and a device subtype in the
 parse
-drivers. 
-<br><dt><code>flag1</code> <code>0</code> <code>|</code> <code>1</code><br><dt><code>flag2</code> <code>0</code> <code>|</code> <code>1</code><br><dt><code>flag3</code> <code>0</code> <code>|</code> <code>1</code><br><dt><code>flag4</code> <code>0</code> <code>|</code> <code>1</code><dd>These four flags are used for customizing the clock driver. 
+drivers.
+</p></dd>
+<dt><code>flag1</code> <code>0</code> <code>|</code> <code>1</code></dt>
+<dt><code>flag2</code> <code>0</code> <code>|</code> <code>1</code></dt>
+<dt><code>flag3</code> <code>0</code> <code>|</code> <code>1</code></dt>
+<dt><code>flag4</code> <code>0</code> <code>|</code> <code>1</code></dt>
+<dd><p>These four flags are used for customizing the clock driver.
 The
 interpretation of these values, and whether they are used at all,
-is a function of the particular clock driver. 
+is a function of the particular clock driver.
 However, by
 convention
 <code>flag4</code>
@@ -2302,155 +2589,186 @@
 <code>clockstats</code>
 file configured with the
 <code>filegen</code>
-command. 
+command.
 Further information on the
 <code>filegen</code>
 command can be found in
-<a href="#Monitoring-Options">Monitoring Options</a>. 
+&lsquo;Monitoring Options&rsquo;.
+</p></dd>
 </dl>
-     </dl>
-<div class="node">
-<p><hr>
+</dd>
+</dl>
+<hr>
 <a name="Miscellaneous-Options"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#ntp_002econf-Files" accesskey="n" rel="next">ntp.conf Files</a>, Previous: <a href="#Reference-Clock-Support" accesskey="p" rel="prev">Reference Clock Support</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">Miscellaneous Options</h4>
-
-     <dl>
-<dt><code>broadcastdelay</code> <kbd>seconds</kbd><dd>The broadcast and multicast modes require a special calibration
+<a name="Miscellaneous-Options-1"></a>
+<h4 class="subsection">1.1.7 Miscellaneous Options</h4>
+<dl compact="compact">
+<dt><code>broadcastdelay</code> <kbd>seconds</kbd></dt>
+<dd><p>The broadcast and multicast modes require a special calibration
 to determine the network delay between the local and remote
-servers. 
+servers.
 Ordinarily, this is done automatically by the initial
-protocol exchanges between the client and server. 
+protocol exchanges between the client and server.
 In some cases,
 the calibration procedure may fail due to network or server access
-controls, for example. 
+controls, for example.
 This command specifies the default delay to
-be used under these circumstances. 
+be used under these circumstances.
 Typically (for Ethernet), a
-number between 0.003 and 0.007 seconds is appropriate. 
+number between 0.003 and 0.007 seconds is appropriate.
 The default
-when this command is not used is 0.004 seconds. 
-<br><dt><code>calldelay</code> <kbd>delay</kbd><dd>This option controls the delay in seconds between the first and second
+when this command is not used is 0.004 seconds.
+</p></dd>
+<dt><code>calldelay</code> <kbd>delay</kbd></dt>
+<dd><p>This option controls the delay in seconds between the first and second
 packets sent in burst or iburst mode to allow additional time for a modem
-or ISDN call to complete. 
-<br><dt><code>driftfile</code> <kbd>driftfile</kbd><dd>This command specifies the complete path and name of the file used to
-record the frequency of the local clock oscillator. 
+or ISDN call to complete.
+</p></dd>
+<dt><code>driftfile</code> <kbd>driftfile</kbd></dt>
+<dd><p>This command specifies the complete path and name of the file used to
+record the frequency of the local clock oscillator.
 This is the same
 operation as the
 <code>-f</code>
-command line option. 
+command line option.
 If the file exists, it is read at
 startup in order to set the initial frequency and then updated once per
-hour with the current frequency computed by the daemon. 
+hour with the current frequency computed by the daemon.
 If the file name is
 specified, but the file itself does not exist, the starts with an initial
-frequency of zero and creates the file when writing it for the first time. 
+frequency of zero and creates the file when writing it for the first time.
 If this command is not given, the daemon will always start with an initial
 frequency of zero.
-
-     <p>The file format consists of a single line containing a single
+</p>
+<p>The file format consists of a single line containing a single
 floating point number, which records the frequency offset measured
-in parts-per-million (PPM). 
+in parts-per-million (PPM).
 The file is updated by first writing
 the current drift value into a temporary file and then renaming
-this file to replace the old version. 
+this file to replace the old version.
 This implies that
 <code>ntpd(1ntpdmdoc)</code>
 must have write permission for the directory the
 drift file is located in, and that file system links, symbolic or
-otherwise, should be avoided. 
-<br><dt><code>dscp</code> <kbd>value</kbd><dd>This option specifies the Differentiated Services Control Point (DSCP) value,
-a 6-bit code. 
-The default value is 46, signifying Expedited Forwarding. 
-<br><dt><code>enable</code> <code>[auth | bclient | calibrate | kernel | mode7 | monitor | ntp | stats | peer_clear_digest_early | unpeer_crypto_early | unpeer_crypto_nak_early | unpeer_digest_early]</code><br><dt><code>disable</code> <code>[auth | bclient | calibrate | kernel | mode7 | monitor | ntp | stats | peer_clear_digest_early | unpeer_crypto_early | unpeer_crypto_nak_early | unpeer_digest_early]</code><dd>Provides a way to enable or disable various server options. 
-Flags not mentioned are unaffected. 
+otherwise, should be avoided.
+</p></dd>
+<dt><code>dscp</code> <kbd>value</kbd></dt>
+<dd><p>This option specifies the Differentiated Services Control Point (DSCP) value,
+a 6-bit code.
+The default value is 46, signifying Expedited Forwarding.
+</p></dd>
+<dt><code>enable</code> <code>[<code>auth</code> | <code>bclient</code> | <code>calibrate</code> | <code>kernel</code> | <code>mode7</code> | <code>monitor</code> | <code>ntp</code> | <code>stats</code> | <code>peer_clear_digest_early</code> | <code>unpeer_crypto_early</code> | <code>unpeer_crypto_nak_early</code> | <code>unpeer_digest_early</code>]</code></dt>
+<dt><code>disable</code> <code>[<code>auth</code> | <code>bclient</code> | <code>calibrate</code> | <code>kernel</code> | <code>mode7</code> | <code>monitor</code> | <code>ntp</code> | <code>stats</code> | <code>peer_clear_digest_early</code> | <code>unpeer_crypto_early</code> | <code>unpeer_crypto_nak_early</code> | <code>unpeer_digest_early</code>]</code></dt>
+<dd><p>Provides a way to enable or disable various server options.
+Flags not mentioned are unaffected.
 Note that all of these flags
 can be controlled remotely using the
 <code>ntpdc(1ntpdcmdoc)</code>
 utility program.
-          <dl>
-<dt><code>auth</code><dd>Enables the server to synchronize with unconfigured peers only if the
+</p><dl compact="compact">
+<dt><code>auth</code></dt>
+<dd><p>Enables the server to synchronize with unconfigured peers only if the
 peer has been correctly authenticated using either public key or
-private key cryptography. 
+private key cryptography.
 The default for this flag is
-<code>enable</code>. 
-<br><dt><code>bclient</code><dd>Enables the server to listen for a message from a broadcast or
+<code>enable</code>.
+</p></dd>
+<dt><code>bclient</code></dt>
+<dd><p>Enables the server to listen for a message from a broadcast or
 multicast server, as in the
 <code>multicastclient</code>
 command with default
-address. 
+address.
 The default for this flag is
-<code>disable</code>. 
-<br><dt><code>calibrate</code><dd>Enables the calibrate feature for reference clocks. 
+<code>disable</code>.
+</p></dd>
+<dt><code>calibrate</code></dt>
+<dd><p>Enables the calibrate feature for reference clocks.
 The default for
 this flag is
-<code>disable</code>. 
-<br><dt><code>kernel</code><dd>Enables the kernel time discipline, if available. 
+<code>disable</code>.
+</p></dd>
+<dt><code>kernel</code></dt>
+<dd><p>Enables the kernel time discipline, if available.
 The default for this
 flag is
 <code>enable</code>
 if support is available, otherwise
-<code>disable</code>. 
-<br><dt><code>mode7</code><dd>Enables processing of NTP mode 7 implementation-specific requests
+<code>disable</code>.
+</p></dd>
+<dt><code>mode7</code></dt>
+<dd><p>Enables processing of NTP mode 7 implementation-specific requests
 which are used by the deprecated
 <code>ntpdc(1ntpdcmdoc)</code>
-program. 
-The default for this flag is disable. 
+program.
+The default for this flag is disable.
 This flag is excluded from runtime configuration using
-<code>ntpq(1ntpqmdoc)</code>. 
+<code>ntpq(1ntpqmdoc)</code>.
 The
 <code>ntpq(1ntpqmdoc)</code>
 program provides the same capabilities as
 <code>ntpdc(1ntpdcmdoc)</code>
-using standard mode 6 requests. 
-<br><dt><code>monitor</code><dd>Enables the monitoring facility. 
+using standard mode 6 requests.
+</p></dd>
+<dt><code>monitor</code></dt>
+<dd><p>Enables the monitoring facility.
 See the
 <code>ntpdc(1ntpdcmdoc)</code>
 program
 and the
 <code>monlist</code>
-command or further information. 
+command or further information.
 The
 default for this flag is
-<code>enable</code>. 
-<br><dt><code>ntp</code><dd>Enables time and frequency discipline. 
+<code>enable</code>.
+</p></dd>
+<dt><code>ntp</code></dt>
+<dd><p>Enables time and frequency discipline.
 In effect, this switch opens and
-closes the feedback loop, which is useful for testing. 
+closes the feedback loop, which is useful for testing.
 The default for
 this flag is
-<code>enable</code>. 
-<br><dt><code>peer_clear_digest_early</code><dd>By default, if
+<code>enable</code>.
+</p></dd>
+<dt><code>peer_clear_digest_early</code></dt>
+<dd><p>By default, if
 <code>ntpd(1ntpdmdoc)</code>
 is using autokey and it
 receives a crypto-NAK packet that
 passes the duplicate packet and origin timestamp checks
-the peer variables are immediately cleared. 
+the peer variables are immediately cleared.
 While this is generally a feature
 as it allows for quick recovery if a server key has changed,
 a properly forged and appropriately delivered crypto-NAK packet
-can be used in a DoS attack. 
+can be used in a DoS attack.
 If you have active noticable problems with this type of DoS attack
 then you should consider
-disabling this option. 
+disabling this option.
 You can check your
 <code>peerstats</code>
-file for evidence of any of these attacks. 
+file for evidence of any of these attacks.
 The
 default for this flag is
-<code>enable</code>. 
-<br><dt><code>stats</code><dd>Enables the statistics facility. 
+<code>enable</code>.
+</p></dd>
+<dt><code>stats</code></dt>
+<dd><p>Enables the statistics facility.
 See the
-<a href="#Monitoring-Options">Monitoring Options</a>
-section for further information. 
+&lsquo;Monitoring Options&rsquo;
+section for further information.
 The default for this flag is
-<code>disable</code>. 
-<br><dt><code>unpeer_crypto_early</code><dd>By default, if
+<code>disable</code>.
+</p></dd>
+<dt><code>unpeer_crypto_early</code></dt>
+<dd><p>By default, if
 <code>ntpd(1ntpdmdoc)</code>
 receives an autokey packet that fails TEST9,
 a crypto failure,
-the association is immediately cleared. 
+the association is immediately cleared.
 This is almost certainly a feature,
 but if, in spite of the current recommendation of not using autokey,
 you are
@@ -2460,84 +2778,93 @@
 you are seeing this sort of DoS attack
 disabling this flag will delay
 tearing down the association until the reachability counter
-becomes zero. 
+becomes zero.
 You can check your
 <code>peerstats</code>
-file for evidence of any of these attacks. 
+file for evidence of any of these attacks.
 The
 default for this flag is
-<code>enable</code>. 
-<br><dt><code>unpeer_crypto_nak_early</code><dd>By default, if
+<code>enable</code>.
+</p></dd>
+<dt><code>unpeer_crypto_nak_early</code></dt>
+<dd><p>By default, if
 <code>ntpd(1ntpdmdoc)</code>
 receives a crypto-NAK packet that
 passes the duplicate packet and origin timestamp checks
-the association is immediately cleared. 
+the association is immediately cleared.
 While this is generally a feature
 as it allows for quick recovery if a server key has changed,
 a properly forged and appropriately delivered crypto-NAK packet
-can be used in a DoS attack. 
+can be used in a DoS attack.
 If you have active noticable problems with this type of DoS attack
 then you should consider
-disabling this option. 
+disabling this option.
 You can check your
 <code>peerstats</code>
-file for evidence of any of these attacks. 
+file for evidence of any of these attacks.
 The
 default for this flag is
-<code>enable</code>. 
-<br><dt><code>unpeer_digest_early</code><dd>By default, if
+<code>enable</code>.
+</p></dd>
+<dt><code>unpeer_digest_early</code></dt>
+<dd><p>By default, if
 <code>ntpd(1ntpdmdoc)</code>
 receives what should be an authenticated packet
 that passes other packet sanity checks but
 contains an invalid digest
-the association is immediately cleared. 
+the association is immediately cleared.
 While this is generally a feature
 as it allows for quick recovery,
 if this type of packet is carefully forged and sent
-during an appropriate window it can be used for a DoS attack. 
+during an appropriate window it can be used for a DoS attack.
 If you have active noticable problems with this type of DoS attack
 then you should consider
-disabling this option. 
+disabling this option.
 You can check your
 <code>peerstats</code>
-file for evidence of any of these attacks. 
+file for evidence of any of these attacks.
 The
 default for this flag is
-<code>enable</code>. 
+<code>enable</code>.
+</p></dd>
 </dl>
-     <br><dt><code>includefile</code> <kbd>includefile</kbd><dd>This command allows additional configuration commands
-to be included from a separate file. 
+</dd>
+<dt><code>includefile</code> <kbd>includefile</kbd></dt>
+<dd><p>This command allows additional configuration commands
+to be included from a separate file.
 Include files may
 be nested to a depth of five; upon reaching the end of any
 include file, command processing resumes in the previous
-configuration file. 
+configuration file.
 This option is useful for sites that run
 <code>ntpd(1ntpdmdoc)</code>
 on multiple hosts, with (mostly) common options (e.g., a
-restriction list). 
-<br><dt><code>interface</code> <code>[listen | ignore | drop]</code> <code>[all | ipv4 | ipv6 | wildcard </code><kbd>name</kbd><code> | </code><kbd>address</kbd><code> [/ </code><kbd>prefixlen</kbd><code>]]</code><dd>The
+restriction list).
+</p></dd>
+<dt><code>interface</code> <code>[<code>listen</code> | <code>ignore</code> | <code>drop</code>]</code> <code>[<code>all</code> | <code>ipv4</code> | <code>ipv6</code> | <code>wildcard</code> <kbd>name</kbd> | <kbd>address</kbd> <code>[<code>/</code> <kbd>prefixlen</kbd>]</code>]</code></dt>
+<dd><p>The
 <code>interface</code>
 directive controls which network addresses
 <code>ntpd(1ntpdmdoc)</code>
-opens, and whether input is dropped without processing. 
+opens, and whether input is dropped without processing.
 The first parameter determines the action for addresses
-which match the second parameter. 
+which match the second parameter.
 The second parameter specifies a class of addresses,
 or a specific interface name,
-or an address. 
+or an address.
 In the address case,
 <kbd>prefixlen</kbd>
-determines how many bits must match for this rule to apply. 
+determines how many bits must match for this rule to apply.
 <code>ignore</code>
 prevents opening matching addresses,
 <code>drop</code>
 causes
 <code>ntpd(1ntpdmdoc)</code>
-to open the address and drop all received packets without examination. 
+to open the address and drop all received packets without examination.
 Multiple
 <code>interface</code>
-directives can be used. 
-The last rule which matches a particular address determines the action for it. 
+directives can be used.
+The last rule which matches a particular address determines the action for it.
 <code>interface</code>
 directives are disabled if any
 <code>-I</code>,
@@ -2546,18 +2873,20 @@
 or
 <code>--novirtualips</code>
 command-line options are specified in the configuration file,
-all available network addresses are opened. 
+all available network addresses are opened.
 The
 <code>nic</code>
 directive is an alias for
-<code>interface</code>. 
-<br><dt><code>leapfile</code> <kbd>leapfile</kbd><dd>This command loads the IERS leapseconds file and initializes the
+<code>interface</code>.
+</p></dd>
+<dt><code>leapfile</code> <kbd>leapfile</kbd></dt>
+<dd><p>This command loads the IERS leapseconds file and initializes the
 leapsecond values for the next leapsecond event, leapfile expiration
-time, and TAI offset. 
+time, and TAI offset.
 The file can be obtained directly from the IERS at
 <code>https://hpiers.obspm.fr/iers/bul/bulc/ntp/leap-seconds.list</code>
 or
-<code>ftp://hpiers.obspm.fr/iers/bul/bulc/ntp/leap-seconds.list</code>. 
+<code>ftp://hpiers.obspm.fr/iers/bul/bulc/ntp/leap-seconds.list</code>.
 The
 <code>leapfile</code>
 is scanned when
@@ -2566,56 +2895,60 @@
 <code>leapfile</code> <code>directive</code> <code>or</code> <code>when</code>
 <code>ntpd</code> <code>detects</code> <code>that</code> <code>the</code>
 <kbd>leapfile</kbd>
-has changed. 
+has changed.
 <code>ntpd</code>
 checks once a day to see if the
 <kbd>leapfile</kbd>
-has changed. 
+has changed.
 The
 <code>update-leap(1update_leapmdoc)</code>
 script can be run to see if the
 <kbd>leapfile</kbd>
-should be updated. 
-<br><dt><code>leapsmearinterval</code> <kbd>seconds</kbd><dd>This EXPERIMENTAL option is only available if
+should be updated.
+</p></dd>
+<dt><code>leapsmearinterval</code> <kbd>seconds</kbd></dt>
+<dd><p>This EXPERIMENTAL option is only available if
 <code>ntpd(1ntpdmdoc)</code>
 was built with the
 <code>--enable-leap-smear</code>
 option to the
 <code>configure</code>
-script. 
-It specifies the interval over which a leap second correction will be applied. 
+script.
+It specifies the interval over which a leap second correction will be applied.
 Recommended values for this option are between
-7200 (2 hours) and 86400 (24 hours). 
-.Sy DO NOT USE THIS OPTION ON PUBLIC-ACCESS SERVERS! 
-See http://bugs.ntp.org/2855 for more information. 
-<br><dt><code>logconfig</code> <kbd>configkeyword</kbd><dd>This command controls the amount and type of output written to
+7200 (2 hours) and 86400 (24 hours).
+.Sy DO NOT USE THIS OPTION ON PUBLIC-ACCESS SERVERS!
+See http://bugs.ntp.org/2855 for more information.
+</p></dd>
+<dt><code>logconfig</code> <kbd>configkeyword</kbd></dt>
+<dd><p>This command controls the amount and type of output written to
 the system
 <code>syslog(3)</code>
 facility or the alternate
 <code>logfile</code>
-log file. 
-By default, all output is turned on. 
+log file.
+By default, all output is turned on.
 All
 <kbd>configkeyword</kbd>
 keywords can be prefixed with
-=,
-+
+&lsquo;=&rsquo;,
+&lsquo;+&rsquo;
 and
--,
+&lsquo;-&rsquo;,
 where
-=
+&lsquo;=&rsquo;
 sets the
 <code>syslog(3)</code>
 priority mask,
-+
+&lsquo;+&rsquo;
 adds and
--
+&lsquo;-&rsquo;
 removes
-messages. 
+messages.
 <code>syslog(3)</code>
 messages can be controlled in four
 classes
-(<code>clock</code>, <code>peer</code>, <code>sys</code> and <code>sync</code>). 
+(<code>clock</code>, <code>peer</code>, <code>sys</code> and <code>sync</code>).
 Within these classes four types of messages can be
 controlled: informational messages
 (<code>info</code>),
@@ -2626,54 +2959,56 @@
 and
 status messages
 (<code>status</code>).
-
-     <p>Configuration keywords are formed by concatenating the message class with
-the event class. 
+</p>
+<p>Configuration keywords are formed by concatenating the message class with
+the event class.
 The
 <code>all</code>
-prefix can be used instead of a message class. 
+prefix can be used instead of a message class.
 A
 message class may also be followed by the
 <code>all</code>
 keyword to enable/disable all
-messages of the respective message class. 
+messages of the respective message class.
 Thus, a minimal log configuration
 could look like this:
-<pre class="verbatim">     
-     logconfig =syncstatus +sysevents
+</p><pre class="verbatim">logconfig =syncstatus +sysevents
 </pre>
-
-     <p>This would just list the synchronizations state of
+<p>This would just list the synchronizations state of
 <code>ntpd(1ntpdmdoc)</code>
-and the major system events. 
+and the major system events.
 For a simple reference server, the
 following minimum message configuration could be useful:
-<pre class="verbatim">     
-     logconfig =syncall +clockall
+</p><pre class="verbatim">logconfig =syncall +clockall
 </pre>
-
-     <p>This configuration will list all clock information and
-synchronization information. 
+<p>This configuration will list all clock information and
+synchronization information.
 All other events and messages about
-peers, system events and so on is suppressed. 
-<br><dt><code>logfile</code> <kbd>logfile</kbd><dd>This command specifies the location of an alternate log file to
+peers, system events and so on is suppressed.
+</p></dd>
+<dt><code>logfile</code> <kbd>logfile</kbd></dt>
+<dd><p>This command specifies the location of an alternate log file to
 be used instead of the default system
 <code>syslog(3)</code>
-facility. 
+facility.
 This is the same operation as the
 <code>-l</code>
-command line option. 
-<br><dt><code>mru</code> <code>[maxdepth </code><kbd>count</kbd><code> | maxmem </code><kbd>kilobytes</kbd><code> | mindepth </code><kbd>count</kbd><code> | maxage </code><kbd>seconds</kbd><code> | initialloc </code><kbd>count</kbd><code> | initmem </code><kbd>kilobytes</kbd><code> | incalloc </code><kbd>count</kbd><code> | incmem </code><kbd>kilobytes</kbd><code>]</code><dd>Controls size limite of the monitoring facility's Most Recently Used
+command line option.
+</p></dd>
+<dt><code>mru</code> <code>[<code>maxdepth</code> <kbd>count</kbd> | <code>maxmem</code> <kbd>kilobytes</kbd> | <code>mindepth</code> <kbd>count</kbd> | <code>maxage</code> <kbd>seconds</kbd> | <code>initialloc</code> <kbd>count</kbd> | <code>initmem</code> <kbd>kilobytes</kbd> | <code>incalloc</code> <kbd>count</kbd> | <code>incmem</code> <kbd>kilobytes</kbd>]</code></dt>
+<dd><p>Controls size limite of the monitoring facility&rsquo;s Most Recently Used
 (MRU) list
 of client addresses, which is also used by the
 rate control facility.
-          <dl>
-<dt><code>maxdepth</code> <kbd>count</kbd><br><dt><code>maxmem</code> <kbd>kilobytes</kbd><dd>Equivalent upper limits on the size of the MRU list, in terms of entries or kilobytes. 
+</p><dl compact="compact">
+<dt><code>maxdepth</code> <kbd>count</kbd></dt>
+<dt><code>maxmem</code> <kbd>kilobytes</kbd></dt>
+<dd><p>Equivalent upper limits on the size of the MRU list, in terms of entries or kilobytes.
 The acutal limit will be up to
 <code>incalloc</code>
 entries or
 <code>incmem</code>
-kilobytes larger. 
+kilobytes larger.
 As with all of the
 <code>mru</code>
 options offered in units of entries or kilobytes, if both
@@ -2680,88 +3015,116 @@
 <code>maxdepth</code>
 and
 <code>maxmem</code> <code>are</code> <code>used,</code> <code>the</code> <code>last</code> <code>one</code> <code>used</code> <code>controls.</code>
-The default is 1024 kilobytes. 
-<br><dt><code>mindepth</code> <kbd>count</kbd><dd>Lower limit on the MRU list size. 
+The default is 1024 kilobytes.
+</p></dd>
+<dt><code>mindepth</code> <kbd>count</kbd></dt>
+<dd><p>Lower limit on the MRU list size.
 When the MRU list has fewer than
 <code>mindepth</code>
 entries, existing entries are never removed to make room for newer ones,
-regardless of their age. 
-The default is 600 entries. 
-<br><dt><code>maxage</code> <kbd>seconds</kbd><dd>Once the MRU list has
+regardless of their age.
+The default is 600 entries.
+</p></dd>
+<dt><code>maxage</code> <kbd>seconds</kbd></dt>
+<dd><p>Once the MRU list has
 <code>mindepth</code>
 entries and an additional client is to ba added to the list,
 if the oldest entry was updated more than
 <code>maxage</code>
-seconds ago, that entry is removed and its storage is reused. 
+seconds ago, that entry is removed and its storage is reused.
 If the oldest entry was updated more recently the MRU list is grown,
-subject to
-<code>maxdepth</code> <code>/</code> <code>moxmem</code>. 
-The default is 64 seconds. 
-<br><dt><code>initalloc</code> <kbd>count</kbd><br><dt><code>initmem</code> <kbd>kilobytes</kbd><dd>Initial memory allocation at the time the monitoringfacility is first enabled,
-in terms of the number of entries or kilobytes. 
-The default is 4 kilobytes. 
-<br><dt><code>incalloc</code> <kbd>count</kbd><br><dt><code>incmem</code> <kbd>kilobytes</kbd><dd>Size of additional memory allocations when growing the MRU list, in entries or kilobytes. 
-The default is 4 kilobytes. 
+subject to 
+<code>maxdepth</code> <code>/</code> <code>moxmem</code>.
+The default is 64 seconds.
+</p></dd>
+<dt><code>initalloc</code> <kbd>count</kbd></dt>
+<dt><code>initmem</code> <kbd>kilobytes</kbd></dt>
+<dd><p>Initial memory allocation at the time the monitoringfacility is first enabled,
+in terms of the number of entries or kilobytes.
+The default is 4 kilobytes.
+</p></dd>
+<dt><code>incalloc</code> <kbd>count</kbd></dt>
+<dt><code>incmem</code> <kbd>kilobytes</kbd></dt>
+<dd><p>Size of additional memory allocations when growing the MRU list, in entries or kilobytes.
+The default is 4 kilobytes.
+</p></dd>
 </dl>
-     <br><dt><code>nonvolatile</code> <kbd>threshold</kbd><dd>Specify the
+</dd>
+<dt><code>nonvolatile</code> <kbd>threshold</kbd></dt>
+<dd><p>Specify the
 <kbd>threshold</kbd>
 delta in seconds before an hourly change to the
 <code>driftfile</code>
-(frequency file) will be written, with a default value of 1e-7 (0.1 PPM). 
-The frequency file is inspected each hour. 
+(frequency file) will be written, with a default value of 1e-7 (0.1 PPM).
+The frequency file is inspected each hour.
 If the difference between the current frequency and the last value written
 exceeds the threshold, the file is written and the
 <code>threshold</code>
-becomes the new threshold value. 
-If the threshold is not exceeeded, it is reduced by half. 
-This is intended to reduce the number of file writes
-for embedded systems with nonvolatile memory. 
-<br><dt><code>phone</code> <kbd>dial</kbd> <kbd>...</kbd><dd>This command is used in conjunction with
+becomes the new threshold value.
+If the threshold is not exceeeded, it is reduced by half.
+This is intended to reduce the number of file writes 
+for embedded systems with nonvolatile memory.
+</p></dd>
+<dt><code>phone</code> <kbd>dial</kbd> <kbd>...</kbd></dt>
+<dd><p>This command is used in conjunction with
 the ACTS modem driver (type 18)
-or the JJY driver (type 40, mode 100 - 180). 
+or the JJY driver (type 40, mode 100 - 180).
 For the ACTS modem driver (type 18), the arguments consist of
 a maximum of 10 telephone numbers used to dial USNO, NIST, or European
-time service. 
-For the JJY driver (type 40 mode 100 - 180), the argument is
-one telephone number used to dial the telephone JJY service. 
-The Hayes command ATDT is normally prepended to the number. 
-The number can contain other modem control codes as well. 
-<br><dt><code>reset</code> <code>[allpeers]</code> <code>[auth]</code> <code>[ctl]</code> <code>[io]</code> <code>[mem]</code> <code>[sys]</code> <code>[timer]</code><dd>Reset one or more groups of counters maintained by
+time service.
+For the JJY driver (type 40 mode 100 - 180), the argument is 
+one telephone number used to dial the telephone JJY service.
+The Hayes command ATDT is normally prepended to the number.
+The number can contain other modem control codes as well.
+</p></dd>
+<dt><code>reset</code> <code>[<code>allpeers</code>]</code> <code>[<code>auth</code>]</code> <code>[<code>ctl</code>]</code> <code>[<code>io</code>]</code> <code>[<code>mem</code>]</code> <code>[<code>sys</code>]</code> <code>[<code>timer</code>]</code></dt>
+<dd><p>Reset one or more groups of counters maintained by
 <code>ntpd</code>
 and exposed by
 <code>ntpq</code>
 and
-<code>ntpdc</code>. 
-<br><dt><code>rlimit</code> <code>[memlock </code><kbd>Nmegabytes</kbd><code> | stacksize </code><kbd>N4kPages</kbd><code> filenum </code><kbd>Nfiledescriptors</kbd><code>]</code><dd>
-          <dl>
-<dt><code>memlock</code> <kbd>Nmegabytes</kbd><dd>Specify the number of megabytes of memory that should be
-allocated and locked. 
+<code>ntpdc</code>.
+</p></dd>
+<dt><code>rlimit</code> <code>[<code>memlock</code> <kbd>Nmegabytes</kbd> | <code>stacksize</code> <kbd>N4kPages</kbd> <code>filenum</code> <kbd>Nfiledescriptors</kbd>]</code></dt>
+<dd><dl compact="compact">
+<dt><code>memlock</code> <kbd>Nmegabytes</kbd></dt>
+<dd><p>Specify the number of megabytes of memory that should be
+allocated and locked.
 Probably only available under Linux, this option may be useful
 when dropping root (the
 <code>-i</code>
-option). 
-The default is 32 megabytes on non-Linux machines, and -1 under Linux. 
--1 means "do not lock the process into memory". 
-0 means "lock whatever memory the process wants into memory". 
-<br><dt><code>stacksize</code> <kbd>N4kPages</kbd><dd>Specifies the maximum size of the process stack on systems with the
+option).
+The default is 32 megabytes on non-Linux machines, and -1 under Linux.
+-1 means &quot;do not lock the process into memory&quot;.
+0 means &quot;lock whatever memory the process wants into memory&quot;.
+</p></dd>
+<dt><code>stacksize</code> <kbd>N4kPages</kbd></dt>
+<dd><p>Specifies the maximum size of the process stack on systems with the
 <code>mlockall()</code>
-function. 
-Defaults to 50 4k pages (200 4k pages in OpenBSD). 
-<br><dt><code>filenum</code> <kbd>Nfiledescriptors</kbd><dd>Specifies the maximum number of file descriptors ntpd may have open at once. 
-Defaults to the system default. 
+function.
+Defaults to 50 4k pages (200 4k pages in OpenBSD).
+</p></dd>
+<dt><code>filenum</code> <kbd>Nfiledescriptors</kbd></dt>
+<dd><p>Specifies the maximum number of file descriptors ntpd may have open at once.
+Defaults to the system default.
+</p></dd>
 </dl>
-     <br><dt><code>saveconfigdir</code> <kbd>directory_path</kbd><dd>Specify the directory in which to write configuration snapshots
+</dd>
+<dt><code>saveconfigdir</code> <kbd>directory_path</kbd></dt>
+<dd><p>Specify the directory in which to write configuration snapshots
 requested with
-.Cm ntpq 's
+.Cm ntpq &rsquo;s
 <code>saveconfig</code>
-command. 
+command.
 If
 <code>saveconfigdir</code>
 does not appear in the configuration file,
 <code>saveconfig</code>
 requests are rejected by
-<code>ntpd</code>. 
-<br><dt><code>saveconfig</code> <kbd>filename</kbd><dd>Write the current configuration, including any runtime
+<code>ntpd</code>.
+</p></dd>
+<dt><code>saveconfig</code> <kbd>filename</kbd></dt>
+<dd><p>Write the current configuration, including any runtime
 modifications given with
 <code>:config</code>
 or
@@ -2768,28 +3131,30 @@
 <code>config-from-file</code>
 to the
 <code>ntpd</code>
-host's
+host&rsquo;s
 <kbd>filename</kbd>
 in the
-<code>saveconfigdir</code>. 
+<code>saveconfigdir</code>.
 This command will be rejected unless the
 <code>saveconfigdir</code>
 directive appears in
-.Cm ntpd 's
-configuration file. 
+.Cm ntpd &rsquo;s
+configuration file.
 <kbd>filename</kbd>
 can use
 <code>strftime(3)</code>
 format directives to substitute the current date and time,
 for example,
-<code>saveconfig\ ntp-%Y%m%d-%H%M%S.conf</code>. 
+<code>saveconfig\ ntp-%Y%m%d-%H%M%S.conf</code>.
 The filename used is stored in the system variable
-<code>savedconfig</code>. 
-Authentication is required. 
-<br><dt><code>setvar</code> <kbd>variable</kbd> <code>[default]</code><dd>This command adds an additional system variable. 
+<code>savedconfig</code>.
+Authentication is required.
+</p></dd>
+<dt><code>setvar</code> <kbd>variable</kbd> <code>[<code>default</code>]</code></dt>
+<dd><p>This command adds an additional system variable.
 These
 variables can be used to distribute additional information such as
-the access policy. 
+the access policy.
 If the variable of the form
 <code>name</code><code>=</code><kbd>value</kbd>
 is followed by the
@@ -2796,97 +3161,123 @@
 <code>default</code>
 keyword, the
 variable will be listed as part of the default system variables
-(<code>rv</code> command)). 
+(<code>rv</code> command)).
 These additional variables serve
-informational purposes only. 
+informational purposes only.
 They are not related to the protocol
-other that they can be listed. 
+other that they can be listed.
 The known protocol variables will
 always override any variables defined via the
 <code>setvar</code>
-mechanism. 
+mechanism.
 There are three special variables that contain the names
-of all variable of the same group. 
+of all variable of the same group.
 The
 <code>sys_var_list</code>
 holds
-the names of all system variables. 
+the names of all system variables.
 The
 <code>peer_var_list</code>
 holds
 the names of all peer variables and the
 <code>clock_var_list</code>
-holds the names of the reference clock variables. 
-<br><dt><code>sysinfo</code><dd>Display operational summary. 
-<br><dt><code>sysstats</code><dd>Show statistics counters maintained in the protocol module. 
-<br><dt><code>tinker</code> <code>[allan </code><kbd>allan</kbd><code> | dispersion </code><kbd>dispersion</kbd><code> | freq </code><kbd>freq</kbd><code> | huffpuff </code><kbd>huffpuff</kbd><code> | panic </code><kbd>panic</kbd><code> | step </code><kbd>step</kbd><code> | stepback </code><kbd>stepback</kbd><code> | stepfwd </code><kbd>stepfwd</kbd><code> | stepout </code><kbd>stepout</kbd><code>]</code><dd>This command can be used to alter several system variables in
-very exceptional circumstances. 
+holds the names of the reference clock variables.
+</p></dd>
+<dt><code>sysinfo</code></dt>
+<dd><p>Display operational summary.
+</p></dd>
+<dt><code>sysstats</code></dt>
+<dd><p>Show statistics counters maintained in the protocol module.
+</p></dd>
+<dt><code>tinker</code> <code>[<code>allan</code> <kbd>allan</kbd> | <code>dispersion</code> <kbd>dispersion</kbd> | <code>freq</code> <kbd>freq</kbd> | <code>huffpuff</code> <kbd>huffpuff</kbd> | <code>panic</code> <kbd>panic</kbd> | <code>step</code> <kbd>step</kbd> | <code>stepback</code> <kbd>stepback</kbd> | <code>stepfwd</code> <kbd>stepfwd</kbd> | <code>stepout</code> <kbd>stepout</kbd>]</code></dt>
+<dd><p>This command can be used to alter several system variables in
+very exceptional circumstances.
 It should occur in the
-configuration file before any other configuration options. 
+configuration file before any other configuration options.
 The
 default values of these variables have been carefully optimized for
-a wide range of network speeds and reliability expectations. 
+a wide range of network speeds and reliability expectations.
 In
 general, they interact in intricate ways that are hard to predict
-and some combinations can result in some very nasty behavior. 
+and some combinations can result in some very nasty behavior.
 Very
 rarely is it necessary to change the default values; but, some
 folks cannot resist twisting the knobs anyway and this command is
-for them. 
+for them.
 Emphasis added: twisters are on their own and can expect
 no help from the support group.
-
-     <p>The variables operate as follows:
-          <dl>
-<dt><code>allan</code> <kbd>allan</kbd><dd>The argument becomes the new value for the minimum Allan
+</p>
+<p>The variables operate as follows:
+</p><dl compact="compact">
+<dt><code>allan</code> <kbd>allan</kbd></dt>
+<dd><p>The argument becomes the new value for the minimum Allan
 intercept, which is a parameter of the PLL/FLL clock discipline
-algorithm. 
+algorithm.
 The value in log2 seconds defaults to 7 (1024 s), which is also the lower
-limit. 
-<br><dt><code>dispersion</code> <kbd>dispersion</kbd><dd>The argument becomes the new value for the dispersion increase rate,
-normally .000015 s/s. 
-<br><dt><code>freq</code> <kbd>freq</kbd><dd>The argument becomes the initial value of the frequency offset in
-parts-per-million. 
+limit.
+</p></dd>
+<dt><code>dispersion</code> <kbd>dispersion</kbd></dt>
+<dd><p>The argument becomes the new value for the dispersion increase rate,
+normally .000015 s/s.
+</p></dd>
+<dt><code>freq</code> <kbd>freq</kbd></dt>
+<dd><p>The argument becomes the initial value of the frequency offset in
+parts-per-million.
 This overrides the value in the frequency file, if
-present, and avoids the initial training state if it is not. 
-<br><dt><code>huffpuff</code> <kbd>huffpuff</kbd><dd>The argument becomes the new value for the experimental
-huff-n'-puff filter span, which determines the most recent interval
-the algorithm will search for a minimum delay. 
+present, and avoids the initial training state if it is not.
+</p></dd>
+<dt><code>huffpuff</code> <kbd>huffpuff</kbd></dt>
+<dd><p>The argument becomes the new value for the experimental
+huff-n&rsquo;-puff filter span, which determines the most recent interval
+the algorithm will search for a minimum delay.
 The lower limit is
-900 s (15 m), but a more reasonable value is 7200 (2 hours). 
+900 s (15 m), but a more reasonable value is 7200 (2 hours).
 There
 is no default, since the filter is not enabled unless this command
-is given. 
-<br><dt><code>panic</code> <kbd>panic</kbd><dd>The argument is the panic threshold, normally 1000 s. 
+is given.
+</p></dd>
+<dt><code>panic</code> <kbd>panic</kbd></dt>
+<dd><p>The argument is the panic threshold, normally 1000 s.
 If set to zero,
 the panic sanity check is disabled and a clock offset of any value will
-be accepted. 
-<br><dt><code>step</code> <kbd>step</kbd><dd>The argument is the step threshold, which by default is 0.128 s. 
+be accepted.
+</p></dd>
+<dt><code>step</code> <kbd>step</kbd></dt>
+<dd><p>The argument is the step threshold, which by default is 0.128 s.
 It can
-be set to any positive number in seconds. 
+be set to any positive number in seconds.
 If set to zero, step
-adjustments will never occur. 
+adjustments will never occur.
 Note: The kernel time discipline is
 disabled if the step threshold is set to zero or greater than the
-default. 
-<br><dt><code>stepback</code> <kbd>stepback</kbd><dd>The argument is the step threshold for the backward direction,
-which by default is 0.128 s. 
+default.
+</p></dd>
+<dt><code>stepback</code> <kbd>stepback</kbd></dt>
+<dd><p>The argument is the step threshold for the backward direction,
+which by default is 0.128 s.
 It can
-be set to any positive number in seconds. 
+be set to any positive number in seconds.
 If both the forward and backward step thresholds are set to zero, step
-adjustments will never occur. 
+adjustments will never occur.
 Note: The kernel time discipline is
 disabled if
 each direction of step threshold are either
-set to zero or greater than .5 second. 
-<br><dt><code>stepfwd</code> <kbd>stepfwd</kbd><dd>As for stepback, but for the forward direction. 
-<br><dt><code>stepout</code> <kbd>stepout</kbd><dd>The argument is the stepout timeout, which by default is 900 s. 
+set to zero or greater than .5 second.
+</p></dd>
+<dt><code>stepfwd</code> <kbd>stepfwd</kbd></dt>
+<dd><p>As for stepback, but for the forward direction.
+</p></dd>
+<dt><code>stepout</code> <kbd>stepout</kbd></dt>
+<dd><p>The argument is the stepout timeout, which by default is 900 s.
 It can
-be set to any positive number in seconds. 
+be set to any positive number in seconds.
 If set to zero, the stepout
-pulses will not be suppressed. 
+pulses will not be suppressed.
+</p></dd>
 </dl>
-     <br><dt><code>writevar</code> <kbd>assocID\ name</kbd> <kbd>=</kbd> <kbd>value</kbd> <kbd>[,...]</kbd><dd>Write (create or update) the specified variables. 
+</dd>
+<dt><code>writevar</code> <kbd>assocID\ name</kbd> <kbd>=</kbd> <kbd>value</kbd> <kbd>[,...]</kbd></dt>
+<dd><p>Write (create or update) the specified variables.
 If the
 <code>assocID</code>
 is zero, the variablea re from the
@@ -2893,116 +3284,139 @@
 system variables
 name space, otherwise they are from the
 peer variables
-name space. 
+name space.
 The
 <code>assocID</code>
-is required, as the same name can occur in both name spaces. 
-<br><dt><code>trap</code> <kbd>host_address</kbd> <code>[port </code><kbd>port_number</kbd><code>]</code> <code>[interface </code><kbd>interface_address</kbd><code>]</code><dd>This command configures a trap receiver at the given host
+is required, as the same name can occur in both name spaces.
+</p></dd>
+<dt><code>trap</code> <kbd>host_address</kbd> <code>[<code>port</code> <kbd>port_number</kbd>]</code> <code>[<code>interface</code> <kbd>interface_address</kbd>]</code></dt>
+<dd><p>This command configures a trap receiver at the given host
 address and port number for sending messages with the specified
-local interface address. 
+local interface address.
 If the port number is unspecified, a value
-of 18447 is used. 
+of 18447 is used.
 If the interface address is not specified, the
 message is sent with a source address of the local interface the
-message is sent through. 
+message is sent through.
 Note that on a multihomed host the
-interface used may vary from time to time with routing changes. 
-<br><dt><code>ttl</code> <kbd>hop</kbd> <kbd>...</kbd><dd>This command specifies a list of TTL values in increasing order. 
-Up to 8 values can be specified. 
+interface used may vary from time to time with routing changes.
+</p></dd>
+<dt><code>ttl</code> <kbd>hop</kbd> <kbd>...</kbd></dt>
+<dd><p>This command specifies a list of TTL values in increasing order.
+Up to 8 values can be specified.
 In
 <code>manycast</code>
-mode these values are used in-turn in an expanding-ring search. 
+mode these values are used in-turn in an expanding-ring search.
 The default is eight multiples of 32 starting at 31.
-
-     <p>The trap receiver will generally log event messages and other
-information from the server in a log file. 
+</p>
+<p>The trap receiver will generally log event messages and other
+information from the server in a log file.
 While such monitor
 programs may also request their own trap dynamically, configuring a
 trap receiver will ensure that no messages are lost when the server
-is started. 
-<br><dt><code>hop</code> <kbd>...</kbd><dd>This command specifies a list of TTL values in increasing order, up to 8
-values can be specified. 
+is started.
+</p></dd>
+<dt><code>hop</code> <kbd>...</kbd></dt>
+<dd><p>This command specifies a list of TTL values in increasing order, up to 8
+values can be specified.
 In manycast mode these values are used in turn in
-an expanding-ring search. 
+an expanding-ring search.
 The default is eight multiples of 32 starting at
-31. 
+31.
+</p></dd>
 </dl>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp.conf</code> program. 
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp.conf</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Files" accesskey="1">ntp.conf Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Files
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-See-Also" accesskey="2">ntp.conf See Also</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">See Also
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Bugs" accesskey="3">ntp.conf Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Bugs
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002econf-Notes" accesskey="4">ntp.conf Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Notes
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002econf-Files">ntp.conf Files</a>:                   Files
-<li><a accesskey="2" href="#ntp_002econf-See-Also">ntp.conf See Also</a>:                See Also
-<li><a accesskey="3" href="#ntp_002econf-Bugs">ntp.conf Bugs</a>:                    Bugs
-<li><a accesskey="4" href="#ntp_002econf-Notes">ntp.conf Notes</a>:                   Notes
-</ul>
-
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntp_002econf-Files"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#ntp_002econf-See-Also" accesskey="n" rel="next">ntp.conf See Also</a>, Previous: <a href="#Miscellaneous-Options" accesskey="p" rel="prev">Miscellaneous Options</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp.conf Files</h4>
-
-     <dl>
-<dt><span class="file">/etc/ntp.conf</span><dd>the default name of the configuration file
-<br><dt><span class="file">ntp.keys</span><dd>private MD5 keys
-<br><dt><span class="file">ntpkey</span><dd>RSA private key
-<br><dt><span class="file">ntpkey_</span><kbd>host</kbd><dd>RSA public key
-<br><dt><span class="file">ntp_dh</span><dd>Diffie-Hellman agreement parameters
+<a name="ntp_002econf-Files-1"></a>
+<h4 class="subsection">1.1.8 ntp.conf Files</h4>
+<dl compact="compact">
+<dt><samp>/etc/ntp.conf</samp></dt>
+<dd><p>the default name of the configuration file
+</p></dd>
+<dt><samp>ntp.keys</samp></dt>
+<dd><p>private MD5 keys
+</p></dd>
+<dt><samp>ntpkey</samp></dt>
+<dd><p>RSA private key
+</p></dd>
+<dt><samp>ntpkey_</samp><kbd>host</kbd></dt>
+<dd><p>RSA public key
+</p></dd>
+<dt><samp>ntp_dh</samp></dt>
+<dd><p>Diffie-Hellman agreement parameters
+</p></dd>
 </dl>
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntp_002econf-See-Also"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#ntp_002econf-Bugs" accesskey="n" rel="next">ntp.conf Bugs</a>, Previous: <a href="#ntp_002econf-Files" accesskey="p" rel="prev">ntp.conf Files</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp.conf See Also</h4>
-
+<a name="ntp_002econf-See-Also-1"></a>
+<h4 class="subsection">1.1.9 ntp.conf See Also</h4>
 <p><code>ntpd(1ntpdmdoc)</code>,
 <code>ntpdc(1ntpdcmdoc)</code>,
 <code>ntpq(1ntpqmdoc)</code>
-
-  <p>In addition to the manual pages provided,
+</p>
+<p>In addition to the manual pages provided,
 comprehensive documentation is available on the world wide web
 at
-<code>http://www.ntp.org/</code>. 
+<code>http://www.ntp.org/</code>.
 A snapshot of this documentation is available in HTML format in
-<span class="file">/usr/share/doc/ntp</span>. 
+<samp>/usr/share/doc/ntp</samp>.
 <br>
-
-  <p><br>
-David L. Mills, <em>Network Time Protocol (Version 4)</em>, RFC5905
-<div class="node">
-<p><hr>
+</p>
+<br>
+<p>David L. Mills, <em>Network Time Protocol (Version 4)</em>, RFC5905
+</p><hr>
 <a name="ntp_002econf-Bugs"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002econf-See-Also" accesskey="p" rel="prev">ntp.conf See Also</a>, Up: <a href="#ntp_002econf-Notes" accesskey="u" rel="up">ntp.conf Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp.conf Bugs</h4>
-
+<a name="ntp_002econf-Bugs-1"></a>
+<h4 class="subsection">1.1.10 ntp.conf Bugs</h4>
 <p>The syntax checking is not picky; some combinations of
 ridiculous and even hilarious options and modes may not be
 detected.
-
-  <p>The
-<span class="file">ntpkey_</span><kbd>host</kbd>
+</p>
+<p>The
+<samp>ntpkey_</samp><kbd>host</kbd>
 files are really digital
-certificates. 
+certificates.
 These should be obtained via secure directory
-services when they become universally available. 
-<div class="node">
-<p><hr>
-<a name="ntp_002econf-Notes"></a>
-<br>
+services when they become universally available.
+</p><hr>
+<div class="header">
+<p>
+ &nbsp; </p>
 </div>
+<a name="ntp_002econf-Notes-1"></a>
+<h4 class="subsection">1.1.11 ntp.conf Notes</h4>
+<p>This document was derived from FreeBSD.
+</p><hr>
 
-<h4 class="subsection">ntp.conf Notes</h4>
 
-<p>This document was derived from FreeBSD.
 
-</body></html>
-
+</body>
+</html>
--- contrib/ntp/ntpd/ntp.conf.man.in.orig
+++ contrib/ntp/ntpd/ntp.conf.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp.conf 5 "27 Feb 2018" "4.2.8p11" "File Formats"
+.TH ntp.conf 5 "20 Feb 2019" "4.2.8p13" "File Formats"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-LkaqTP/ag-XkaiSP)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:14:22 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:43 AM by AutoGen 5.18.5
 .\" From the definitions ntp.conf.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
@@ -326,7 +326,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 \f\*[I-Font]key\f[]
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .TP 7
@@ -611,7 +611,7 @@
 \f[C]http://www.ntp.org/\f[].
 .SS Symmetric-Key Cryptography
 The original RFC-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32-bit key identifier, to
+65,535 keys, each distinguished by a 32-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -932,7 +932,7 @@
 \f\*[I-Font]key\f[]
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .TP 7
 .NOP \f\*[B-Font]crypto\f[] [\f\*[B-Font]cert\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]leap\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]randfile\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]host\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]sign\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]gq\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]gqpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]iffpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]mvpar\f[] \f\*[I-Font]file\f[]] [\f\*[B-Font]pw\f[] \f\*[I-Font]password\f[]]
 This command requires the OpenSSL library.
@@ -1038,7 +1038,7 @@
 \f\*[I-Font]key\f[]
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .TP 7
 .NOP \f\*[B-Font]revoke\f[] \f\*[I-Font]logsec\f[]
 Specifies the interval between re-randomization of certain
@@ -1067,7 +1067,7 @@
 The
 \f\*[I-Font]key\f[]
 arguments are 32-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .PP
 .SS Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/ntp.conf.mdoc.in.orig
+++ contrib/ntp/ntpd/ntp.conf.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_CONF 5 File Formats
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:42 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:34 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.conf.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -325,7 +325,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 .Ar key
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .It Cm minpoll Ar minpoll
@@ -583,7 +583,7 @@
 .Li http://www.ntp.org/ .
 .Ss Symmetric\-Key Cryptography
 The original RFC\-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32\-bit key identifier, to
+65,535 keys, each distinguished by a 32\-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -877,7 +877,7 @@
 .Ar key
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .It Xo Ic crypto
 .Op Cm cert Ar file
 .Op Cm leap Ar file
@@ -981,7 +981,7 @@
 .Ar key
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .It Ic revoke Ar logsec
 Specifies the interval between re\-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
@@ -1008,7 +1008,7 @@
 The
 .Ar key
 arguments are 32\-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .El
 .Ss Error Codes
 The following error codes are reported via the NTP control
--- contrib/ntp/ntpd/ntp.keys.5man.orig
+++ contrib/ntp/ntpd/ntp.keys.5man
@@ -1,8 +1,8 @@
-.TH ntp.keys 5man "27 Feb 2018" "4.2.8p11" "File Formats"
+.TH ntp.keys 5man "20 Feb 2019" "4.2.8p13" "File Formats"
 .\"
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.man)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:26 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:44 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.keys.def
 .\"  and the template file   agman-file.tpl
 .Sh NAME
@@ -54,7 +54,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .sp \n(Ppu
 .ne 2
@@ -73,7 +73,7 @@
 
 where
 \f\*[I-Font]keyno\f[]
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 \f\*[I-Font]type\f[]
 is the message digest algorithm,
 \f\*[I-Font]key\f[]
--- contrib/ntp/ntpd/ntp.keys.5mdoc.orig
+++ contrib/ntp/ntpd/ntp.keys.5mdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_KEYS 5mdoc File Formats
-.Os SunOS 5.10
+.Os FreeBSD 11.2-RELEASE_SI
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:46 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:35 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.keys.def
 .\"  and the template file   agmdoc-file.tpl
 .Sh NAME
@@ -37,7 +37,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .Pp
 The key file uses the same comment conventions
@@ -48,7 +48,7 @@
 .Pp
 where
 .Ar keyno
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 .Ar type
 is the message digest algorithm,
 .Ar key
--- contrib/ntp/ntpd/ntp.keys.def.orig
+++ contrib/ntp/ntpd/ntp.keys.def
@@ -36,7 +36,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .Pp
 The key file uses the same comment conventions
@@ -47,7 +47,7 @@
 .Pp
 where
 .Ar keyno
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 .Ar type
 is the message digest algorithm,
 .Ar key
--- contrib/ntp/ntpd/ntp.keys.html.orig
+++ contrib/ntp/ntpd/ntp.keys.html
@@ -1,103 +1,145 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <title>NTP Symmetric Key</title>
-<meta http-equiv="Content-Type" content="text/html">
+
 <meta name="description" content="NTP Symmetric Key">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta name="keywords" content="NTP Symmetric Key">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">NTP Symmetric Key</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-Description">ntp.keys Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">NTP's Symmetric Key File User Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">NTP Symmetric Key</h1>
 
-<p>This document describes the symmetric key file for the NTP Project's
-<code>ntpd</code> program.
 
-  <p>This document applies to version 4.2.8p11 of <code>ntp.keys</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">NTP's Symmetric Key File User Manual</a>
-</ul>
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002ekeys-Description" accesskey="n" rel="next">ntp.keys Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="NTP_0027s-Symmetric-Key-File-User-Manual"></a>
+<h1 class="top">NTP&rsquo;s Symmetric Key File User Manual</h1>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002ekeys-Description">ntp.keys Description</a>
-<li><a accesskey="2" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>
+<p>This document describes the symmetric key file for the NTP Project&rsquo;s
+<code>ntpd</code> program.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntp.keys</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="ntp_002ekeys-Description"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-Description" accesskey="1">ntp.keys Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-Notes" accesskey="2">ntp.keys Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="ntp_002ekeys-Description"></a>
+<div class="header">
+<p>
+Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>The name and location of the symmetric key file for <code>ntpd</code> can
 be specified in a configuration file, by default <code>/etc/ntp.keys</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-Notes" accesskey="1">ntp.keys Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntp_002ekeys-Notes"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002ekeys-See-Also" accesskey="p" rel="prev">ntp.keys See Also</a>, Up: <a href="#ntp_002ekeys-Description" accesskey="u" rel="up">ntp.keys Description</a> &nbsp; </p>
 </div>
+<a name="Notes-about-ntp_002ekeys"></a>
+<h3 class="section">1.1 Notes about ntp.keys</h3>
+<a name="index-ntp_002ekeys"></a>
+<a name="index-NTP-symmetric-key-file-format"></a>
 
-<h3 class="section">Notes about ntp.keys</h3>
 
-<p><a name="index-ntp_002ekeys-1"></a><a name="index-NTP-symmetric-key-file-format-2"></a>
 
-  <p>This document describes the format of an NTP symmetric key file. 
+<p>This document describes the format of an NTP symmetric key file.
 For a description of the use of this type of file, see the
-"Authentication Support"
+&quot;Authentication Support&quot;
 section of the
 <code>ntp.conf(5)</code>
 page.
-
-  <p><code>ntpd(8)</code>
+</p>
+<p><code>ntpd(8)</code>
 reads its keys from a file specified using the
 <code>-k</code>
 command line option or the
 <code>keys</code>
-statement in the configuration file. 
+statement in the configuration file.
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
-
-  <p>The key file uses the same comment conventions
-as the configuration file. 
+</p>
+<p>The key file uses the same comment conventions
+as the configuration file.
 Key entries use a fixed format of the form
+</p>
+<div class="example">
+<pre class="example"><kbd>keyno</kbd> <kbd>type</kbd> <kbd>key</kbd> <kbd>opt_IP_list</kbd>
+</pre></div>
 
-<pre class="example">     <kbd>keyno</kbd> <kbd>type</kbd> <kbd>key</kbd> <kbd>opt_IP_list</kbd>
-</pre>
-  <p>where
+<p>where
 <kbd>keyno</kbd>
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 <kbd>type</kbd>
 is the message digest algorithm,
 <kbd>key</kbd>
@@ -106,34 +148,34 @@
 is an optional comma-separated list of IPs
 where the
 <kbd>keyno</kbd>
-should be trusted. 
-that are allowed to serve time. 
+should be trusted.
+that are allowed to serve time.
 Each IP in
 <kbd>opt_IP_list</kbd>
 may contain an optional
 <code>/subnetbits</code>
 specification which identifies the number of bits for
-the desired subnet of trust. 
+the desired subnet of trust.
 If
 <kbd>opt_IP_list</kbd>
 is empty,
 any properly-authenticated message will be
 accepted.
-
-  <p>The
+</p>
+<p>The
 <kbd>key</kbd>
 may be given in a format
 controlled by the
 <kbd>type</kbd>
-field. 
+field.
 The
 <kbd>type</kbd>
 <code>MD5</code>
-is always supported. 
+is always supported.
 If
 <code>ntpd</code>
 was built with the OpenSSL library
-then any digest library supported by that library may be specified. 
+then any digest library supported by that library may be specified.
 However, if compliance with FIPS 140-2 is required the
 <kbd>type</kbd>
 must be either
@@ -140,23 +182,29 @@
 <code>SHA</code>
 or
 <code>SHA1</code>.
-
-  <p>What follows are some key types, and corresponding formats:
-
-     <dl>
-<dt><code>MD5</code><dd>The key is 1 to 16 printable characters terminated by
+</p>
+<p>What follows are some key types, and corresponding formats:
+</p>
+<dl compact="compact">
+<dt><code>MD5</code></dt>
+<dd><p>The key is 1 to 16 printable characters terminated by
 an EOL,
 whitespace,
 or
 a
 <code>#</code>
-(which is the "start of comment" character).
-
-     <br><dt><code>SHA</code><br><dt><code>SHA1</code><br><dt><code>RMD160</code><dd>The key is a hex-encoded ASCII string of 40 characters,
-which is truncated as necessary. 
+(which is the &quot;start of comment&quot; character).
+</p>
+</dd>
+<dt><code>SHA</code></dt>
+<dt><code>SHA1</code></dt>
+<dt><code>RMD160</code></dt>
+<dd><p>The key is a hex-encoded ASCII string of 40 characters,
+which is truncated as necessary.
+</p></dd>
 </dl>
 
-  <p>Note that the keys used by the
+<p>Note that the keys used by the
 <code>ntpq(8)</code>
 and
 <code>ntpdc(8)</code>
@@ -163,54 +211,57 @@
 programs are checked against passwords
 requested by the programs and entered by hand,
 so it is generally appropriate to specify these keys in ASCII format.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp.keys</code> program. 
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp.keys</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-Files" accesskey="1">ntp.keys Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Files
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-See-Also" accesskey="2">ntp.keys See Also</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">See Also
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002ekeys-Notes" accesskey="3">ntp.keys Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Notes
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002ekeys-Files">ntp.keys Files</a>:                   Files
-<li><a accesskey="2" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>:                See Also
-<li><a accesskey="3" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>:                   Notes
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002ekeys-Files"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>
-<br>
+<hr>
+<a name="ntp_002ekeys-Files"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002ekeys-See-Also" accesskey="n" rel="next">ntp.keys See Also</a>, Up: <a href="#ntp_002ekeys-Notes" accesskey="u" rel="up">ntp.keys Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp.keys Files</h4>
-
-     <dl>
-<dt><span class="file">/etc/ntp.keys</span><dd>the default name of the configuration file
+<a name="ntp_002ekeys-Files-1"></a>
+<h4 class="subsection">1.1.1 ntp.keys Files</h4>
+<dl compact="compact">
+<dt><samp>/etc/ntp.keys</samp></dt>
+<dd><p>the default name of the configuration file
+</p></dd>
 </dl>
-<div class="node">
-<p><hr>
-<a name="ntp_002ekeys-See-Also"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-Files">ntp.keys Files</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>
-<br>
+<hr>
+<a name="ntp_002ekeys-See-Also"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002ekeys-Files" accesskey="p" rel="prev">ntp.keys Files</a>, Up: <a href="#ntp_002ekeys-Notes" accesskey="u" rel="up">ntp.keys Notes</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp.keys See Also</h4>
-
+<a name="ntp_002ekeys-See-Also-1"></a>
+<h4 class="subsection">1.1.2 ntp.keys See Also</h4>
 <p><code>ntp.conf(5)</code>,
 <code>ntpd(1ntpdmdoc)</code>,
 <code>ntpdate(1ntpdatemdoc)</code>,
 <code>ntpdc(1ntpdcmdoc)</code>,
 <code>sntp(1sntpmdoc)</code>
-<div class="node">
-<p><hr>
-<a name="ntp_002ekeys-Notes"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002ekeys-See-Also">ntp.keys See Also</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002ekeys-Notes">ntp.keys Notes</a>
-<br>
+</p><hr>
+<div class="header">
+<p>
+ &nbsp; </p>
 </div>
+<a name="ntp_002ekeys-Notes-1"></a>
+<h4 class="subsection">1.1.3 ntp.keys Notes</h4>
+<p>This document was derived from FreeBSD.
+</p><hr>
 
-<h4 class="subsection">ntp.keys Notes</h4>
 
-<p>This document was derived from FreeBSD.
 
-</body></html>
-
+</body>
+</html>
--- contrib/ntp/ntpd/ntp.keys.man.in.orig
+++ contrib/ntp/ntpd/ntp.keys.man.in
@@ -1,8 +1,8 @@
-.TH ntp.keys 5 "27 Feb 2018" "4.2.8p11" "File Formats"
+.TH ntp.keys 5 "20 Feb 2019" "4.2.8p13" "File Formats"
 .\"
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.man)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:26 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:44 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.keys.def
 .\"  and the template file   agman-file.tpl
 .Sh NAME
@@ -54,7 +54,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .sp \n(Ppu
 .ne 2
@@ -73,7 +73,7 @@
 
 where
 \f\*[I-Font]keyno\f[]
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 \f\*[I-Font]type\f[]
 is the message digest algorithm,
 \f\*[I-Font]key\f[]
--- contrib/ntp/ntpd/ntp.keys.mdoc.in.orig
+++ contrib/ntp/ntpd/ntp.keys.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_KEYS 5 File Formats
-.Os SunOS 5.10
+.Os FreeBSD 11.2-RELEASE_SI
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:46 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:35 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.keys.def
 .\"  and the template file   agmdoc-file.tpl
 .Sh NAME
@@ -37,7 +37,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .Pp
 The key file uses the same comment conventions
@@ -48,7 +48,7 @@
 .Pp
 where
 .Ar keyno
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 .Ar type
 is the message digest algorithm,
 .Ar key
--- contrib/ntp/ntpd/ntp_config.c.orig
+++ contrib/ntp/ntpd/ntp_config.c
@@ -364,7 +364,7 @@
 static u_int32 get_logmask(const char *);
 static int/*BOOL*/ is_refclk_addr(const address_node * addr);
 
-static void	appendstr(char *, size_t, char *);
+static void	appendstr(char *, size_t, const char *);
 
 
 #ifndef SIM
@@ -382,7 +382,7 @@
 #endif
 {
 	va_list va;
-	
+
 	va_start(va, fmt);
 	mvsyslog(LOG_EMERG, fmt, va);
 	va_end(va);
@@ -389,7 +389,7 @@
 	_exit(1);
 }
 
-    
+
 /* FUNCTIONS FOR INITIALIZATION
  * ----------------------------
  */
@@ -742,7 +742,7 @@
 					atrv->value.i);
 				}
 				break;
-				
+
 			case T_Double:
 				fprintf(df, " %s %s",
 					keyword(atrv->attr),
@@ -938,7 +938,7 @@
 				if (T_Source == flag_tok_fifo->i) {
 					s = "source";
 					break;
-				} 
+				}
 			}
 		} else {
 			const char *ap = rest_node->addr->address;
@@ -1446,7 +1446,7 @@
 		/* accumulate with overflow retention */
 		u = (10 * u + *pch - '0') | (u & 0xFF000000u);
 	}
-	
+
 	if (!*pch && u <= ASSOCID_MAX) {
 		my_node->assocID = (associd_t)u;
 		my_node->addr = NULL;
@@ -2065,8 +2065,12 @@
 
 #ifdef AUTOKEY
 	/* crypto revoke command */
-	if (ptree->auth.revoke)
-		sys_revoke = 1UL << ptree->auth.revoke;
+	if (ptree->auth.revoke > 2 && ptree->auth.revoke < 32)
+		sys_revoke = (u_char)ptree->auth.revoke;
+	else if (ptree->auth.revoke)
+		msyslog(LOG_ERR,
+			"'revoke' value %d ignored",
+			ptree->auth.revoke);
 #endif	/* AUTOKEY */
 }
 #endif	/* !SIM */
@@ -2112,6 +2116,10 @@
 			break;
 		}
 	}
+
+	if (basedate_get_day() <= NTP_TO_UNIX_DAYS)
+		basedate_set_day(basedate_eval_buildstamp() - 11);
+	    
 	return ret;
 }
 
@@ -2132,7 +2140,7 @@
 	 * since three variables with interdependecies are involved. We
 	 * just log an error but do not stop: This might be caused by
 	 * remote config, and it might be fixed by remote config, too.
-	 */ 
+	 */
 	int l_maxclock = sys_maxclock;
 	int l_minclock = sys_minclock;
 	int l_minsane  = sys_minsane;
@@ -2162,7 +2170,7 @@
 				tos->value.d = 0;
 			}
 			break;
-			
+
 		case T_Ceiling:
 			val = tos->value.d;
 			if (val > STRATUM_UNSPEC - 1) {
@@ -2194,8 +2202,8 @@
 
 		case T_Minsane:
 			val = tos->value.d;
-			if ((int)tos->value.d < 1)
-				tos->value.d = 1;
+			if ((int)tos->value.d < 0)
+				tos->value.d = 0;
 			l_minsane = (int)tos->value.d;
 			break;
 		}
@@ -2207,7 +2215,7 @@
 			" - daemon will not operate properly!",
 			l_minsane, l_minclock, l_maxclock);
 	}
-	
+
 	/* -*- phase two: forward the values to the protocol machinery */
 	tos = HEAD_PFIFO(ptree->orphan_cmds);
 	for (; tos != NULL; tos = tos->link) {
@@ -3383,6 +3391,10 @@
 	size_t i = 0;
 	int_node *curr_ttl;
 
+	/* [Bug 3465] There is a built-in default for the TTLs. We must
+	 * overwrite 'sys_ttlmax' if we change that preset, and leave it
+	 * alone otherwise!
+	 */
 	curr_ttl = HEAD_PFIFO(ptree->ttl);
 	for (; curr_ttl != NULL; curr_ttl = curr_ttl->link) {
 		if (i < COUNTOF(sys_ttl))
@@ -3392,7 +3404,8 @@
 				"ttl: Number of TTL entries exceeds %zu. Ignoring TTL %d...",
 				COUNTOF(sys_ttl), curr_ttl->i);
 	}
-	sys_ttlmax = (i) ? (i - 1) : 0;
+	if (0 != i) /* anything written back at all? */
+		sys_ttlmax = i - 1;
 }
 #endif	/* !SIM */
 
@@ -3621,10 +3634,8 @@
 			err_flag = 1;
 			msyslog(LOG_ERR,
 				"unrecognized fudge reference clock address %s, line ignored",
-				stoa(&addr_sock));
-		}
-
-		if (!ISREFCLOCKADR(&addr_sock)) {
+				addr_node->address);
+		} else if (!ISREFCLOCKADR(&addr_sock)) {
 			err_flag = 1;
 			msyslog(LOG_ERR,
 				"inappropriate address %s for the fudge command, line ignored",
@@ -3696,7 +3707,7 @@
 				msyslog(LOG_ERR,
 					"Unexpected fudge flag %s (%d) for %s",
 					token_name(curr_opt->attr),
-					curr_opt->attr, stoa(&addr_sock));
+					curr_opt->attr, addr_node->address);
 				exit(curr_opt->attr ? curr_opt->attr : 1);
 			}
 		}
@@ -3810,7 +3821,12 @@
 
 		case T_Automax:
 #ifdef AUTOKEY
-			sys_automax = curr_var->value.i;
+			if (curr_var->value.i > 2 && curr_var->value.i < 32)
+				sys_automax = (u_char)curr_var->value.i;
+			else
+				msyslog(LOG_ERR,
+					"'automax' value %d ignored",
+					curr_var->value.i);
 #endif
 			break;
 
@@ -4565,7 +4581,7 @@
 		if (config_tos_clock(ptree))
 			clamp_systime();
 	}
-	
+
 	config_nic_rules(ptree, input_from_files);
 	config_monitor(ptree);
 	config_auth(ptree);
@@ -4845,7 +4861,7 @@
 	const address_node * addr
 	)
 {
-	return addr && addr->address && !strncmp(addr->address, "127.127.", 6);
+	return addr && addr->address && !strncmp(addr->address, "127.127.", 8);
 }
 
 static void
@@ -5463,7 +5479,7 @@
 appendstr(
 	char *string,
 	size_t s,
-	char *new
+	const char *new
 	)
 {
 	if (*string != '\0') {
--- contrib/ntp/ntpd/ntp_control.c.orig
+++ contrib/ntp/ntpd/ntp_control.c
@@ -916,7 +916,7 @@
 	u_int widx, bidx, mask;
 	if ( ! (name && *name))
 		return FALSE;
-	
+
 	mask = 1u;
 	while (0 != (widx = (u_char)*name++)) {
 		bidx = (widx & 15) << 1;
@@ -955,7 +955,7 @@
 	 * level.  On POSIX systems we could allow '\\' but such
 	 * filenames are tricky to manipulate from a shell, so just
 	 * reject both types of slashes on all platforms.
-	 */	
+	 */
 	/* TALOS-CAN-0062: block directory traversal for VMS, too */
 	static const char * illegal_in_filename =
 #if defined(VMS)
@@ -983,8 +983,8 @@
 #  if defined(_O_TEXT)		/* windows, again */
 	    | _O_TEXT
 #endif
-	    ; 
-	
+	    ;
+
 	char filespec[128];
 	char filename[128];
 	char fullpath[512];
@@ -1046,7 +1046,7 @@
 	/* copy data directly as we exactly know the size */
 	memcpy(filespec, reqpt, reqlen);
 	filespec[reqlen] = '\0';
-	
+
 	/*
 	 * allow timestamping of the saved config filename with
 	 * strftime() format such as:
@@ -1110,7 +1110,7 @@
 	 */
 	prc = snprintf(fullpath, sizeof(fullpath), "%s%s",
 		       saveconfigdir, filename);
-	if (prc < 0 || prc >= sizeof(fullpath)) {
+	if (prc < 0 || (size_t)prc >= sizeof(fullpath)) {
 		ctl_printf("saveconfig exceeded maximum path length (%u)",
 			   (u_int)sizeof(fullpath));
 		ctl_flushpkt(0);
@@ -1127,8 +1127,8 @@
 		fptr = fdopen(fd, "w");
 
 	if (NULL == fptr || -1 == dump_all_config_trees(fptr, 1)) {
-		ctl_printf("Unable to save configuration to file '%s': %m",
-			   filename);
+		ctl_printf("Unable to save configuration to file '%s': %s",
+			   filename, strerror(errno));
 		msyslog(LOG_ERR,
 			"saveconfig %s from %s failed", filename,
 			stoa(&rbufp->recv_srcadr));
@@ -1154,7 +1154,7 @@
 #else	/* !SAVECONFIG follows */
 	ctl_printf("%s",
 		   "saveconfig unavailable, configured with --disable-saveconfig");
-#endif	
+#endif
 	ctl_flushpkt(0);
 }
 
@@ -1506,11 +1506,11 @@
 	} else {
 		datanotbinflag = TRUE;
 		add_len = 3;
-		
+
 		if (datasent) {
 			*datapt++ = ',';
 			datalinelen++;
-			
+
 			/* sum up total length */
 			for (argi = 0, src_len = 0; argi < argc; ++argi)
 				src_len += argv[argi].len;
@@ -1539,7 +1539,7 @@
 			/* Not enough room in this one, flush it out. */
 			if (src_len < cur_len)
 				cur_len = src_len;
-			
+
 			memcpy(datapt, src_ptr, cur_len);
 			datapt      += cur_len;
 			datalinelen += cur_len;
@@ -1546,7 +1546,7 @@
 
 			src_ptr     += cur_len;
 			src_len     -= cur_len;
-			
+
 			ctl_flushpkt(CTL_MORE);
 			cur_len = (size_t)(dataend - datapt);
 		}
@@ -1571,7 +1571,7 @@
 	)
 {
 	CtlMemBufT args[1];
-	
+
 	args[0].buf = dp;
 	args[0].len = dlen;
 	ctl_putdata_ex(args, 1, bin);
@@ -1594,7 +1594,7 @@
 	)
 {
 	CtlMemBufT args[4];
-	
+
 	args[0].buf = tag;
 	args[0].len = strlen(tag);
 	if (data && len) {
@@ -1606,7 +1606,9 @@
 	    args[3].len = 1;
 	    ctl_putdata_ex(args, 4, FALSE);
 	} else {
-	    ctl_putdata_ex(args, 1, FALSE);
+	    args[1].buf = "=\"\"";
+	    args[1].len = 3;
+	    ctl_putdata_ex(args, 2, FALSE);
 	}
 }
 
@@ -1628,17 +1630,17 @@
 	)
 {
 	CtlMemBufT args[3];
-	
+
 	args[0].buf = tag;
 	args[0].len = strlen(tag);
+	args[1].buf = "=";
+	args[1].len = 1;
 	if (data && len) {
-	    args[1].buf = "=";
-	    args[1].len = 1;
-	    args[2].buf = data;
-	    args[2].len = len;
-	    ctl_putdata_ex(args, 3, FALSE);
+		args[2].buf = data;
+		args[2].len = len;
+		ctl_putdata_ex(args, 3, FALSE);
 	} else {
-	    ctl_putdata_ex(args, 1, FALSE);
+		ctl_putdata_ex(args, 2, FALSE);
 	}
 }
 
@@ -1656,7 +1658,7 @@
 {
 	char buffer[40];
 	int  rc;
-	
+
 	rc = snprintf(buffer, sizeof(buffer),
 		      (use_f ? "%.*f" : "%.*g"),
 		      precision, d);
@@ -1677,7 +1679,7 @@
 	int  rc;
 
 	rc = snprintf(buffer, sizeof(buffer), "%lu", uval);
-	INSIST(rc >= 0 && rc < sizeof(buffer));
+	INSIST(rc >= 0 && (size_t)rc < sizeof(buffer));
 	ctl_putunqstr(tag, buffer, rc);
 }
 
@@ -1716,7 +1718,7 @@
 {
 	char buffer[16];
 	int  rc;
-	
+
 	time_t fstamp = (time_t)uval - JAN_1970;
 	struct tm *tm = gmtime(&fstamp);
 
@@ -1744,7 +1746,7 @@
 {
 	char buffer[24];	/* must fit 64bit int! */
 	int  rc;
-	
+
 	rc = snprintf(buffer, sizeof(buffer), "0x%lx", uval);
 	INSIST(rc >= 0 && (size_t)rc < sizeof(buffer));
 	ctl_putunqstr(tag, buffer, rc);
@@ -1762,9 +1764,9 @@
 {
 	char buffer[24];	/*must fit 64bit int */
 	int  rc;
-	
+
 	rc = snprintf(buffer, sizeof(buffer), "%ld", ival);
-	INSIST(rc >= 0 && rc < sizeof(buffer));
+	INSIST(rc >= 0 && (size_t)rc < sizeof(buffer));
 	ctl_putunqstr(tag, buffer, rc);
 }
 
@@ -1780,7 +1782,7 @@
 {
 	char buffer[24];
 	int  rc;
-	
+
 	rc = snprintf(buffer, sizeof(buffer),
 		      "0x%08lx.%08lx",
 		      (u_long)ts->l_ui, (u_long)ts->l_uf);
@@ -1800,7 +1802,7 @@
 	)
 {
 	const char *cq;
-	
+
 	if (NULL == addr)
 		cq = numtoa(addr32);
 	else
@@ -1827,7 +1829,9 @@
 
 	bytes.w = refid;
 	for (nc = 0; nc < sizeof(bytes.b) && bytes.b[nc]; ++nc)
-		if (!isprint(bytes.b[nc]))
+		if (  !isprint(bytes.b[nc])
+		    || isspace(bytes.b[nc])
+		    || bytes.b[nc] == ','  )
 			bytes.b[nc] = '.';
 	ctl_putunqstr(tag, (const char*)bytes.b, nc);
 }
@@ -1874,11 +1878,11 @@
 	va_list va;
 	char    fmtbuf[128];
 	int     rc;
-	
+
 	va_start(va, fmt);
 	rc = vsnprintf(fmtbuf, sizeof(fmtbuf), fmt, va);
 	va_end(va);
-	if (rc < 0 || rc >= sizeof(fmtbuf))
+	if (rc < 0 || (size_t)rc >= sizeof(fmtbuf))
 		strcpy(fmtbuf + sizeof(fmtbuf) - strlen(ellipsis) - 1,
 		       ellipsis);
 	ctl_putdata(fmtbuf, strlen(fmtbuf), 0);
@@ -1906,11 +1910,13 @@
 	static struct timex ntx;
 	static u_long ntp_adjtime_time;
 
-	static const double to_ms =
+	static const double to_ms_usec =
+		1.0e-3; /* usec to msec */
+	static const double to_ms_nusec =
 # ifdef STA_NANO
 		1.0e-6; /* nsec to msec */
 # else
-		1.0e-3; /* usec to msec */
+		to_ms_usec;
 # endif
 
 	/*
@@ -1951,10 +1957,10 @@
 		break;
 
 	case CS_REFID:
-		if (sys_stratum > 1 && sys_stratum < STRATUM_UNSPEC)
+		if (REFID_ISTEXT(sys_stratum))
+			ctl_putrefid(sys_var[varid].text, sys_refid);
+		else
 			ctl_putadr(sys_var[varid].text, sys_refid, NULL);
-		else
-			ctl_putrefid(sys_var[varid].text, sys_refid);
 		break;
 
 	case CS_REFTIME:
@@ -2315,7 +2321,7 @@
 	case CS_K_OFFSET:
 		CTL_IF_KERNLOOP(
 			ctl_putdblf,
-			(sys_var[varid].text, 0, -1, to_ms * ntx.offset)
+			(sys_var[varid].text, 0, -1, to_ms_nusec * ntx.offset)
 		);
 		break;
 
@@ -2330,7 +2336,7 @@
 		CTL_IF_KERNLOOP(
 			ctl_putdblf,
 			(sys_var[varid].text, 0, 6,
-			 to_ms * ntx.maxerror)
+			 to_ms_usec * ntx.maxerror)
 		);
 		break;
 
@@ -2338,7 +2344,7 @@
 		CTL_IF_KERNLOOP(
 			ctl_putdblf,
 			(sys_var[varid].text, 0, 6,
-			 to_ms * ntx.esterror)
+			 to_ms_usec * ntx.esterror)
 		);
 		break;
 
@@ -2362,7 +2368,7 @@
 		CTL_IF_KERNLOOP(
 			ctl_putdblf,
 			(sys_var[varid].text, 0, 6,
-			    to_ms * ntx.precision)
+			    to_ms_usec * ntx.precision)
 		);
 		break;
 
@@ -2390,7 +2396,7 @@
 	case CS_K_PPS_JITTER:
 		CTL_IF_KERNPPS(
 			ctl_putdbl,
-			(sys_var[varid].text, to_ms * ntx.jitter)
+			(sys_var[varid].text, to_ms_nusec * ntx.jitter)
 		);
 		break;
 
@@ -2678,11 +2684,10 @@
 			break;
 		}
 #endif
-		if (p->stratum > 1 && p->stratum < STRATUM_UNSPEC)
-			ctl_putadr(peer_var[id].text, p->refid,
-				   NULL);
+		if (REFID_ISTEXT(p->stratum))
+			ctl_putrefid(peer_var[id].text, p->refid);
 		else
-			ctl_putrefid(peer_var[id].text, p->refid);
+			ctl_putadr(peer_var[id].text, p->refid, NULL);
 		break;
 
 	case CP_REFTIME:
@@ -3061,7 +3066,7 @@
 	 * packet; If it's EOV, it will never be NULL again until the
 	 * variable is found and processed in a given 'var_list'. (That
 	 * is, a result is returned that is neither NULL nor EOV).
-	 */ 
+	 */
 	static const struct ctl_var eol = { 0, EOV, NULL };
 	static char buf[128];
 	static u_long quiet_until;
@@ -3101,7 +3106,7 @@
 			++plhead;
 		while (plhead != pltail && isspace((u_char)pltail[-1]))
 			--pltail;
-		
+
 		/* check payload size, terminate packet on overflow */
 		plsize = (size_t)(pltail - plhead);
 		if (plsize >= sizeof(buf))
@@ -3126,7 +3131,7 @@
 	 * variable lists after an EoV was returned.  (Such a behavior
 	 * actually caused Bug 3008.)
 	 */
-	
+
 	if (NULL == var_list)
 		return &eol;
 
@@ -3443,11 +3448,11 @@
 	 * Look through the variables. Dump out at the first sign of
 	 * trouble.
 	 */
-	while ((v = ctl_getitem(sys_var, &valuep)) != 0) {
+	while ((v = ctl_getitem(sys_var, &valuep)) != NULL) {
 		ext_var = 0;
 		if (v->flags & EOV) {
-			if ((v = ctl_getitem(ext_sys_var, &valuep)) !=
-			    0) {
+			v = ctl_getitem(ext_sys_var, &valuep);
+			if (v != NULL) {
 				if (v->flags & EOV) {
 					ctl_error(CERR_UNKNOWNVAR);
 					return;
@@ -3461,16 +3466,24 @@
 			ctl_error(CERR_PERMISSION);
 			return;
 		}
-		if (!ext_var && (*valuep == '\0' || !atoint(valuep,
-							    &val))) {
+		/* [bug 3565] writing makes sense only if we *have* a
+		 * value in the packet!
+		 */
+		if (valuep == NULL) {
 			ctl_error(CERR_BADFMT);
 			return;
 		}
-		if (!ext_var && (val & ~LEAP_NOTINSYNC) != 0) {
-			ctl_error(CERR_BADVALUE);
-			return;
+		if (!ext_var) {
+			if ( !(*valuep && atoint(valuep, &val))) {
+				ctl_error(CERR_BADFMT);
+				return;
+			}
+			if ((val & ~LEAP_NOTINSYNC) != 0) {
+				ctl_error(CERR_BADVALUE);
+				return;
+			}
 		}
-
+		
 		if (ext_var) {
 			octets = strlen(v->text) + strlen(valuep) + 2;
 			vareqv = emalloc(octets);
@@ -3647,7 +3660,7 @@
 	/* [Bug 3457] set flags and don't kill them again */
 	EVP_MD_CTX_set_flags(ctx, EVP_MD_CTX_FLAG_NON_FIPS_ALLOW);
 	EVP_DigestInit_ex(ctx, EVP_get_digestbynid(NID_md5), NULL);
-#   else	
+#   else
 	EVP_DigestInit(ctx, EVP_get_digestbynid(NID_md5));
 #   endif
 	EVP_DigestUpdate(ctx, salt, sizeof(salt));
@@ -3944,7 +3957,7 @@
 	int restrict_mask
 	)
 {
-	static const char	nulltxt[1] = 		{ '\0' };	
+	static const char	nulltxt[1] = 		{ '\0' };
 	static const char	nonce_text[] =		"nonce";
 	static const char	frags_text[] =		"frags";
 	static const char	limit_text[] =		"limit";
@@ -3954,7 +3967,7 @@
 	static const char	maxlstint_text[] =	"maxlstint";
 	static const char	laddr_text[] =		"laddr";
 	static const char	resaxx_fmt[] =		"0x%hx";
-	
+
 	u_int			limit;
 	u_short			frags;
 	u_short			resall;
--- contrib/ntp/ntpd/ntp_crypto.c.orig
+++ contrib/ntp/ntpd/ntp_crypto.c
@@ -353,8 +353,8 @@
 	 * included in the hash is zero if broadcast mode, the peer
 	 * cookie if client mode or the host cookie if symmetric modes.
 	 */
-	mpoll = 1 << min(peer->ppoll, peer->hpoll);
-	lifetime = min(1U << sys_automax, NTP_MAXSESSION * mpoll);
+	mpoll = 1U << min(peer->ppoll, peer->hpoll);
+	lifetime = min((1UL << sys_automax), NTP_MAXSESSION * mpoll);
 	if (peer->hmode == MODE_BROADCAST)
 		cookie = 0;
 	else
@@ -1486,7 +1486,8 @@
 		return (XEVNT_LEN);
 
 	i = (vallen + 3) / 4;
-	siglen = ntohl(ep->pkt[i++]);
+	siglen = ntohl(ep->pkt[i]);
+	++i;
 	if (   siglen > MAX_VALLEN
 	    || len - VALUE_LEN < ((vallen + 3) / 4) * 4
 	    || len - VALUE_LEN - ((vallen + 3) / 4) * 4
--- contrib/ntp/ntpd/ntp_io.c.orig
+++ contrib/ntp/ntpd/ntp_io.c
@@ -1612,7 +1612,35 @@
 }
 #endif /* OS_NEEDS_REUSEADDR_FOR_IFADDRBIND */
 
+static isc_boolean_t
+check_flags(
+	sockaddr_u *psau,
+	const char *name,
+	u_int32 flags
+	)
+{
+#if defined(SIOCGIFAFLAG_IN)
+	struct ifreq ifr;
+	int fd;
 
+	if (psau->sa.sa_family != AF_INET)
+		return ISC_FALSE;
+	if ((fd = socket(AF_INET, SOCK_DGRAM, 0)) < 0)
+		return ISC_FALSE;
+	ZERO(ifr);
+	memcpy(&ifr.ifr_addr, &psau->sa, sizeof(ifr.ifr_addr));
+	strlcpy(ifr.ifr_name, name, sizeof(ifr.ifr_name));
+	if (ioctl(fd, SIOCGIFAFLAG_IN, &ifr) < 0) {
+		close(fd);
+		return ISC_FALSE;
+	}
+	close(fd);
+	if ((ifr.ifr_addrflags & flags) != 0)
+		return ISC_TRUE;
+#endif	/* SIOCGIFAFLAG_IN */
+	return ISC_FALSE;
+}
+
 static isc_boolean_t
 check_flags6(
 	sockaddr_u *psau,
@@ -1661,19 +1689,32 @@
 	const char *name
 	)
 {
-	u_int32 flags6;
+	u_int32 flags;
 
-	flags6 = 0;
+	flags = 0;
+	switch (psau->sa.sa_family) {
+	case AF_INET:
+#ifdef IN_IFF_DETACHED
+		flags |= IN_IFF_DETACHED;
+#endif
+#ifdef IN_IFF_TENTATIVE
+		flags |= IN_IFF_TENTATIVE;
+#endif
+		return check_flags(psau, name, flags) ? ISC_FALSE : ISC_TRUE;
+	case AF_INET6:
 #ifdef IN6_IFF_DEPARTED
-	flags6 |= IN6_IFF_DEPARTED;
+		flags |= IN6_IFF_DEPARTED;
 #endif
 #ifdef IN6_IFF_DETACHED
-	flags6 |= IN6_IFF_DETACHED;
+		flags |= IN6_IFF_DETACHED;
 #endif
 #ifdef IN6_IFF_TENTATIVE
-	flags6 |= IN6_IFF_TENTATIVE;
+		flags |= IN6_IFF_TENTATIVE;
 #endif
-	return check_flags6(psau, name, flags6) ? ISC_FALSE : ISC_TRUE;
+		return check_flags6(psau, name, flags) ? ISC_FALSE : ISC_TRUE;
+	default:
+		return ISC_FALSE;
+	}
 }
 
 /*
@@ -3092,7 +3133,7 @@
 	int	cc;
 	int	rc;
 	u_char	cttl;
-	l_fp	fp_zero = { 0, 0 };
+	l_fp	fp_zero = { { 0 }, 0 };
 
 	ismcast = IS_MCAST(dest);
 	if (!ismcast)
--- contrib/ntp/ntpd/ntp_loopfilter.c.orig
+++ contrib/ntp/ntpd/ntp_loopfilter.c
@@ -246,7 +246,11 @@
 	)
 {
 	char des[1024] = "";	/* Decoded Error Status */
+	char *dbp, *ebp;
 
+	dbp = des;
+	ebp = dbp + sizeof(des);
+	
 	switch (ret) {
 	    case -1:
 		switch (saved_errno) {
@@ -363,37 +367,37 @@
 				/* error (see status word) */
 
 		if (ptimex->status & STA_UNSYNC)
-			snprintf(des, sizeof(des), "%s%sClock Unsynchronized",
-				des, (*des) ? "; " : "");
+			xsbprintf(&dbp, ebp, "%sClock Unsynchronized",
+				 (*des) ? "; " : "");
 
 		if (ptimex->status & STA_CLOCKERR)
-			snprintf(des, sizeof(des), "%s%sClock Error",
-				des, (*des) ? "; " : "");
+		    xsbprintf(&dbp, ebp, "%sClock Error",
+			      (*des) ? "; " : "");
 
 		if (!(ptimex->status & STA_PPSSIGNAL)
 		    && ptimex->status & STA_PPSFREQ)
-			snprintf(des, sizeof(des), "%s%sPPS Frequency Sync wanted but no PPS",
-				des, (*des) ? "; " : "");
+		    xsbprintf(&dbp, ebp, "%sPPS Frequency Sync wanted but no PPS",
+			      (*des) ? "; " : "");
 
 		if (!(ptimex->status & STA_PPSSIGNAL)
 		    && ptimex->status & STA_PPSTIME)
-			snprintf(des, sizeof(des), "%s%sPPS Time Sync wanted but no PPS signal",
-				des, (*des) ? "; " : "");
+			xsbprintf(&dbp, ebp, "%sPPS Time Sync wanted but no PPS signal",
+				  (*des) ? "; " : "");
 
 		if (   ptimex->status & STA_PPSTIME
 		    && ptimex->status & STA_PPSJITTER)
-			snprintf(des, sizeof(des), "%s%sPPS Time Sync wanted but PPS Jitter exceeded",
-				des, (*des) ? "; " : "");
+			xsbprintf(&dbp, ebp, "%sPPS Time Sync wanted but PPS Jitter exceeded",
+				  (*des) ? "; " : "");
 
 		if (   ptimex->status & STA_PPSFREQ
 		    && ptimex->status & STA_PPSWANDER)
-			snprintf(des, sizeof(des), "%s%sPPS Frequency Sync wanted but PPS Wander exceeded",
-				des, (*des) ? "; " : "");
+			xsbprintf(&dbp, ebp, "%sPPS Frequency Sync wanted but PPS Wander exceeded",
+				  (*des) ? "; " : "");
 
 		if (   ptimex->status & STA_PPSFREQ
 		    && ptimex->status & STA_PPSERROR)
-			snprintf(des, sizeof(des), "%s%sPPS Frequency Sync wanted but Calibration error detected",
-				des, (*des) ? "; " : "");
+			xsbprintf(&dbp, ebp, "%sPPS Frequency Sync wanted but Calibration error detected",
+				  (*des) ? "; " : "");
 
 		if (pps_call && !(ptimex->status & STA_PPSSIGNAL))
 			report_event(EVNT_KERN, NULL,
@@ -1099,10 +1103,14 @@
 	pll_control = TRUE;
 	ZERO(ntv);
 	ntv.modes = MOD_BITS;
-	ntv.status = STA_PLL;
-	ntv.maxerror = MAXDISPERSE;
-	ntv.esterror = MAXDISPERSE;
-	ntv.constant = sys_poll; /* why is it that here constant is unconditionally set to sys_poll, whereas elsewhere is is modified depending on nanosecond vs. microsecond kernel? */
+	ntv.status = STA_PLL | STA_UNSYNC;
+	ntv.maxerror = MAXDISPERSE * 1.0e6;
+	ntv.esterror = MAXDISPERSE * 1.0e6;
+	ntv.constant = sys_poll;
+	/*             ^^^^^^^^ why is it that here constant is
+	 * unconditionally set to sys_poll, whereas elsewhere is is
+	 * modified depending on nanosecond vs. microsecond kernel?
+	 */
 #ifdef SIGSYS
 	/*
 	 * Use sigsetjmp() to save state and then call ntp_adjtime(); if
--- contrib/ntp/ntpd/ntp_parser.c.orig
+++ contrib/ntp/ntpd/ntp_parser.c
@@ -62,7 +62,7 @@
 
 
 /* Copy the first part of user declarations.  */
-#line 11 "../../ntpd/ntp_parser.y" /* yacc.c:339  */
+#line 11 "ntp_parser.y" /* yacc.c:339  */
 
   #ifdef HAVE_CONFIG_H
   # include <config.h>
@@ -76,6 +76,7 @@
   #include "ntp_scanner.h"
   #include "ntp_config.h"
   #include "ntp_crypto.h"
+  #include "ntp_calendar.h"
 
   #include "ntpsim.h"		/* HMS: Do we really want this all the time? */
 				/* SK: It might be a good idea to always
@@ -96,7 +97,7 @@
   #  define ONLY_SIM(a)	NULL
   #endif
 
-#line 100 "ntp_parser.c" /* yacc.c:339  */
+#line 101 "ntp_parser.c" /* yacc.c:339  */
 
 # ifndef YY_NULLPTR
 #  if defined __cplusplus && 201103L <= __cplusplus
@@ -540,7 +541,7 @@
 
 union YYSTYPE
 {
-#line 51 "../../ntpd/ntp_parser.y" /* yacc.c:355  */
+#line 52 "ntp_parser.y" /* yacc.c:355  */
 
 	char *			String;
 	double			Double;
@@ -559,7 +560,7 @@
 	script_info *		Sim_script;
 	script_info_fifo *	Sim_script_fifo;
 
-#line 563 "ntp_parser.c" /* yacc.c:355  */
+#line 564 "ntp_parser.c" /* yacc.c:355  */
 };
 
 typedef union YYSTYPE YYSTYPE;
@@ -576,7 +577,7 @@
 
 /* Copy the second part of user declarations.  */
 
-#line 580 "ntp_parser.c" /* yacc.c:358  */
+#line 581 "ntp_parser.c" /* yacc.c:358  */
 
 #ifdef short
 # undef short
@@ -893,39 +894,39 @@
   /* YYRLINE[YYN] -- Source line where rule number YYN was defined.  */
 static const yytype_uint16 yyrline[] =
 {
-       0,   377,   377,   381,   382,   383,   398,   399,   400,   401,
-     402,   403,   404,   405,   406,   407,   408,   409,   410,   411,
-     419,   429,   430,   431,   432,   433,   437,   438,   443,   448,
-     450,   456,   457,   465,   466,   467,   471,   476,   477,   478,
-     479,   480,   481,   482,   483,   487,   489,   494,   495,   496,
-     497,   498,   499,   503,   508,   517,   527,   528,   538,   540,
-     542,   544,   555,   562,   564,   569,   571,   573,   575,   577,
-     587,   593,   594,   602,   604,   616,   617,   618,   619,   620,
-     629,   634,   639,   647,   649,   651,   653,   658,   659,   660,
-     661,   662,   663,   664,   665,   666,   670,   671,   680,   682,
-     691,   701,   706,   714,   715,   716,   717,   718,   719,   720,
-     721,   726,   727,   735,   745,   754,   769,   774,   775,   779,
-     780,   784,   785,   786,   787,   788,   789,   790,   799,   803,
-     807,   815,   823,   831,   846,   861,   874,   875,   895,   896,
-     904,   905,   906,   907,   908,   909,   910,   911,   912,   913,
-     914,   915,   916,   917,   918,   919,   920,   924,   929,   937,
-     942,   943,   944,   948,   953,   961,   966,   967,   968,   969,
-     970,   971,   972,   973,   981,   991,   996,  1004,  1006,  1008,
-    1017,  1019,  1024,  1025,  1029,  1030,  1031,  1032,  1040,  1045,
-    1050,  1058,  1063,  1064,  1065,  1074,  1076,  1081,  1086,  1094,
-    1096,  1113,  1114,  1115,  1116,  1117,  1118,  1122,  1123,  1124,
-    1125,  1126,  1127,  1135,  1140,  1145,  1153,  1158,  1159,  1160,
-    1161,  1162,  1163,  1164,  1165,  1166,  1167,  1176,  1177,  1178,
-    1185,  1192,  1199,  1215,  1234,  1236,  1238,  1240,  1242,  1244,
-    1251,  1256,  1257,  1258,  1262,  1266,  1275,  1276,  1280,  1281,
-    1282,  1286,  1297,  1315,  1327,  1332,  1334,  1339,  1340,  1348,
-    1350,  1358,  1363,  1371,  1396,  1403,  1413,  1414,  1418,  1419,
-    1420,  1421,  1425,  1426,  1427,  1431,  1436,  1441,  1449,  1450,
-    1451,  1452,  1453,  1454,  1455,  1465,  1470,  1478,  1483,  1491,
-    1493,  1497,  1502,  1507,  1515,  1520,  1528,  1537,  1538,  1542,
-    1543,  1547,  1555,  1573,  1577,  1582,  1590,  1595,  1596,  1600,
-    1605,  1613,  1618,  1623,  1628,  1633,  1641,  1646,  1651,  1659,
-    1664,  1665,  1666,  1667,  1668
+       0,   378,   378,   382,   383,   384,   399,   400,   401,   402,
+     403,   404,   405,   406,   407,   408,   409,   410,   411,   412,
+     420,   430,   431,   432,   433,   434,   438,   439,   444,   449,
+     451,   457,   458,   466,   467,   468,   472,   477,   478,   479,
+     480,   481,   482,   483,   484,   488,   490,   495,   496,   497,
+     498,   499,   500,   504,   509,   518,   528,   529,   539,   541,
+     543,   545,   556,   563,   565,   570,   572,   574,   576,   578,
+     588,   594,   595,   603,   605,   617,   618,   619,   620,   621,
+     630,   635,   640,   648,   650,   652,   654,   659,   660,   661,
+     662,   663,   664,   665,   666,   667,   671,   672,   681,   683,
+     692,   702,   707,   715,   716,   717,   718,   719,   720,   721,
+     722,   727,   728,   736,   746,   755,   770,   775,   776,   780,
+     781,   785,   786,   787,   788,   789,   790,   791,   800,   804,
+     808,   816,   824,   832,   847,   862,   875,   876,   896,   897,
+     905,   906,   907,   908,   909,   910,   911,   912,   913,   914,
+     915,   916,   917,   918,   919,   920,   921,   925,   930,   938,
+     943,   944,   945,   949,   954,   962,   967,   968,   969,   970,
+     971,   972,   973,   974,   982,   992,   997,  1005,  1007,  1009,
+    1018,  1020,  1025,  1026,  1030,  1031,  1032,  1033,  1041,  1046,
+    1051,  1059,  1064,  1065,  1066,  1075,  1077,  1082,  1087,  1095,
+    1097,  1114,  1115,  1116,  1117,  1118,  1119,  1123,  1124,  1125,
+    1126,  1127,  1128,  1136,  1141,  1146,  1154,  1159,  1160,  1161,
+    1162,  1163,  1164,  1165,  1166,  1167,  1168,  1177,  1178,  1179,
+    1186,  1193,  1200,  1216,  1235,  1237,  1239,  1241,  1243,  1245,
+    1252,  1257,  1258,  1259,  1263,  1267,  1276,  1277,  1281,  1282,
+    1283,  1287,  1298,  1316,  1328,  1333,  1335,  1340,  1341,  1349,
+    1351,  1359,  1364,  1372,  1397,  1404,  1414,  1415,  1419,  1420,
+    1421,  1422,  1426,  1427,  1428,  1432,  1437,  1442,  1450,  1451,
+    1452,  1453,  1454,  1455,  1456,  1466,  1471,  1479,  1484,  1492,
+    1494,  1498,  1503,  1508,  1516,  1521,  1529,  1538,  1539,  1543,
+    1544,  1548,  1556,  1574,  1578,  1583,  1591,  1596,  1597,  1601,
+    1606,  1614,  1619,  1624,  1629,  1634,  1642,  1647,  1652,  1660,
+    1665,  1666,  1667,  1668,  1669
 };
 #endif
 
@@ -2126,7 +2127,7 @@
   switch (yyn)
     {
         case 5:
-#line 384 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 385 "ntp_parser.y" /* yacc.c:1646  */
     {
 			/* I will need to incorporate much more fine grained
 			 * error messages. The following should suffice for
@@ -2139,11 +2140,11 @@
 				ip_ctx->errpos.nline,
 				ip_ctx->errpos.ncol);
 		}
-#line 2143 "ntp_parser.c" /* yacc.c:1646  */
+#line 2144 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 20:
-#line 420 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 421 "ntp_parser.y" /* yacc.c:1646  */
     {
 			peer_node *my_node;
 
@@ -2150,74 +2151,74 @@
 			my_node = create_peer_node((yyvsp[-2].Integer), (yyvsp[-1].Address_node), (yyvsp[0].Attr_val_fifo));
 			APPEND_G_FIFO(cfgt.peers, my_node);
 		}
-#line 2154 "ntp_parser.c" /* yacc.c:1646  */
+#line 2155 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 27:
-#line 439 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 440 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Address_node) = create_address_node((yyvsp[0].String), (yyvsp[-1].Integer)); }
-#line 2160 "ntp_parser.c" /* yacc.c:1646  */
+#line 2161 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 28:
-#line 444 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 445 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Address_node) = create_address_node((yyvsp[0].String), AF_UNSPEC); }
-#line 2166 "ntp_parser.c" /* yacc.c:1646  */
+#line 2167 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 29:
-#line 449 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 450 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = AF_INET; }
-#line 2172 "ntp_parser.c" /* yacc.c:1646  */
+#line 2173 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 30:
-#line 451 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 452 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = AF_INET6; }
-#line 2178 "ntp_parser.c" /* yacc.c:1646  */
+#line 2179 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 31:
-#line 456 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 457 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val_fifo) = NULL; }
-#line 2184 "ntp_parser.c" /* yacc.c:1646  */
+#line 2185 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 32:
-#line 458 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 459 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2193 "ntp_parser.c" /* yacc.c:1646  */
+#line 2194 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 36:
-#line 472 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 473 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival(T_Flag, (yyvsp[0].Integer)); }
-#line 2199 "ntp_parser.c" /* yacc.c:1646  */
+#line 2200 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 45:
-#line 488 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 489 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2205 "ntp_parser.c" /* yacc.c:1646  */
+#line 2206 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 46:
-#line 490 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 491 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_uval((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2211 "ntp_parser.c" /* yacc.c:1646  */
+#line 2212 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 53:
-#line 504 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 505 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String)); }
-#line 2217 "ntp_parser.c" /* yacc.c:1646  */
+#line 2218 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 55:
-#line 518 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 519 "ntp_parser.y" /* yacc.c:1646  */
     {
 			unpeer_node *my_node;
 
@@ -2225,35 +2226,35 @@
 			if (my_node)
 				APPEND_G_FIFO(cfgt.unpeers, my_node);
 		}
-#line 2229 "ntp_parser.c" /* yacc.c:1646  */
+#line 2230 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 58:
-#line 539 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 540 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.broadcastclient = 1; }
-#line 2235 "ntp_parser.c" /* yacc.c:1646  */
+#line 2236 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 59:
-#line 541 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 542 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.manycastserver, (yyvsp[0].Address_fifo)); }
-#line 2241 "ntp_parser.c" /* yacc.c:1646  */
+#line 2242 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 60:
-#line 543 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 544 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.multicastclient, (yyvsp[0].Address_fifo)); }
-#line 2247 "ntp_parser.c" /* yacc.c:1646  */
+#line 2248 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 61:
-#line 545 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 546 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.mdnstries = (yyvsp[0].Integer); }
-#line 2253 "ntp_parser.c" /* yacc.c:1646  */
+#line 2254 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 62:
-#line 556 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 557 "ntp_parser.y" /* yacc.c:1646  */
     {
 			attr_val *atrv;
 
@@ -2260,50 +2261,50 @@
 			atrv = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer));
 			APPEND_G_FIFO(cfgt.vars, atrv);
 		}
-#line 2264 "ntp_parser.c" /* yacc.c:1646  */
+#line 2265 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 63:
-#line 563 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 564 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.control_key = (yyvsp[0].Integer); }
-#line 2270 "ntp_parser.c" /* yacc.c:1646  */
+#line 2271 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 64:
-#line 565 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 566 "ntp_parser.y" /* yacc.c:1646  */
     {
 			cfgt.auth.cryptosw++;
 			CONCAT_G_FIFOS(cfgt.auth.crypto_cmd_list, (yyvsp[0].Attr_val_fifo));
 		}
-#line 2279 "ntp_parser.c" /* yacc.c:1646  */
+#line 2280 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 65:
-#line 570 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 571 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.keys = (yyvsp[0].String); }
-#line 2285 "ntp_parser.c" /* yacc.c:1646  */
+#line 2286 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 66:
-#line 572 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 573 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.keysdir = (yyvsp[0].String); }
-#line 2291 "ntp_parser.c" /* yacc.c:1646  */
+#line 2292 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 67:
-#line 574 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 575 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.request_key = (yyvsp[0].Integer); }
-#line 2297 "ntp_parser.c" /* yacc.c:1646  */
+#line 2298 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 68:
-#line 576 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 577 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.revoke = (yyvsp[0].Integer); }
-#line 2303 "ntp_parser.c" /* yacc.c:1646  */
+#line 2304 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 69:
-#line 578 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 579 "ntp_parser.y" /* yacc.c:1646  */
     {
 			/* [Bug 948] leaves it open if appending or
 			 * replacing the trusted key list is the right
@@ -2313,38 +2314,38 @@
 			DESTROY_G_FIFO(cfgt.auth.trusted_key_list, destroy_attr_val); /* remove for append */
 			CONCAT_G_FIFOS(cfgt.auth.trusted_key_list, (yyvsp[0].Attr_val_fifo));
 		}
-#line 2317 "ntp_parser.c" /* yacc.c:1646  */
+#line 2318 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 70:
-#line 588 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 589 "ntp_parser.y" /* yacc.c:1646  */
     { cfgt.auth.ntp_signd_socket = (yyvsp[0].String); }
-#line 2323 "ntp_parser.c" /* yacc.c:1646  */
+#line 2324 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 71:
-#line 593 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 594 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val_fifo) = NULL; }
-#line 2329 "ntp_parser.c" /* yacc.c:1646  */
+#line 2330 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 72:
-#line 595 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 596 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2338 "ntp_parser.c" /* yacc.c:1646  */
+#line 2339 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 73:
-#line 603 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 604 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String)); }
-#line 2344 "ntp_parser.c" /* yacc.c:1646  */
+#line 2345 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 74:
-#line 605 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 606 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val) = NULL;
 			cfgt.auth.revoke = (yyvsp[0].Integer);
@@ -2353,65 +2354,65 @@
 				"please use 'revoke %d' instead.",
 				cfgt.auth.revoke, cfgt.auth.revoke);
 		}
-#line 2357 "ntp_parser.c" /* yacc.c:1646  */
+#line 2358 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 80:
-#line 630 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 631 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.orphan_cmds, (yyvsp[0].Attr_val_fifo)); }
-#line 2363 "ntp_parser.c" /* yacc.c:1646  */
+#line 2364 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 81:
-#line 635 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 636 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2372 "ntp_parser.c" /* yacc.c:1646  */
+#line 2373 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 82:
-#line 640 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 641 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2381 "ntp_parser.c" /* yacc.c:1646  */
+#line 2382 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 83:
-#line 648 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 649 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-1].Integer), (double)(yyvsp[0].Integer)); }
-#line 2387 "ntp_parser.c" /* yacc.c:1646  */
+#line 2388 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 84:
-#line 650 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 651 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-1].Integer), (yyvsp[0].Double)); }
-#line 2393 "ntp_parser.c" /* yacc.c:1646  */
+#line 2394 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 85:
-#line 652 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 653 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-1].Integer), (double)(yyvsp[0].Integer)); }
-#line 2399 "ntp_parser.c" /* yacc.c:1646  */
+#line 2400 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 86:
-#line 654 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 655 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival(T_Basedate, (yyvsp[0].Integer)); }
-#line 2405 "ntp_parser.c" /* yacc.c:1646  */
+#line 2406 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 98:
-#line 681 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 682 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.stats_list, (yyvsp[0].Int_fifo)); }
-#line 2411 "ntp_parser.c" /* yacc.c:1646  */
+#line 2412 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 99:
-#line 683 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 684 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				cfgt.stats_dir = (yyvsp[0].String);
@@ -2420,11 +2421,11 @@
 				yyerror("statsdir remote configuration ignored");
 			}
 		}
-#line 2424 "ntp_parser.c" /* yacc.c:1646  */
+#line 2425 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 100:
-#line 692 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 693 "ntp_parser.y" /* yacc.c:1646  */
     {
 			filegen_node *fgn;
 
@@ -2431,44 +2432,44 @@
 			fgn = create_filegen_node((yyvsp[-1].Integer), (yyvsp[0].Attr_val_fifo));
 			APPEND_G_FIFO(cfgt.filegen_opts, fgn);
 		}
-#line 2435 "ntp_parser.c" /* yacc.c:1646  */
+#line 2436 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 101:
-#line 702 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 703 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Int_fifo) = (yyvsp[-1].Int_fifo);
 			APPEND_G_FIFO((yyval.Int_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 2444 "ntp_parser.c" /* yacc.c:1646  */
+#line 2445 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 102:
-#line 707 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 708 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Int_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Int_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 2453 "ntp_parser.c" /* yacc.c:1646  */
+#line 2454 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 111:
-#line 726 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 727 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val_fifo) = NULL; }
-#line 2459 "ntp_parser.c" /* yacc.c:1646  */
+#line 2460 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 112:
-#line 728 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 729 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2468 "ntp_parser.c" /* yacc.c:1646  */
+#line 2469 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 113:
-#line 736 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 737 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				(yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String));
@@ -2478,11 +2479,11 @@
 				yyerror("filegen file remote config ignored");
 			}
 		}
-#line 2482 "ntp_parser.c" /* yacc.c:1646  */
+#line 2483 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 114:
-#line 746 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 747 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				(yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer));
@@ -2491,11 +2492,11 @@
 				yyerror("filegen type remote config ignored");
 			}
 		}
-#line 2495 "ntp_parser.c" /* yacc.c:1646  */
+#line 2496 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 115:
-#line 755 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 756 "ntp_parser.y" /* yacc.c:1646  */
     {
 			const char *err;
 
@@ -2510,33 +2511,33 @@
 				yyerror(err);
 			}
 		}
-#line 2514 "ntp_parser.c" /* yacc.c:1646  */
+#line 2515 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 116:
-#line 770 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 771 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival(T_Flag, (yyvsp[0].Integer)); }
-#line 2520 "ntp_parser.c" /* yacc.c:1646  */
+#line 2521 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 128:
-#line 800 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 801 "ntp_parser.y" /* yacc.c:1646  */
     {
 			CONCAT_G_FIFOS(cfgt.discard_opts, (yyvsp[0].Attr_val_fifo));
 		}
-#line 2528 "ntp_parser.c" /* yacc.c:1646  */
+#line 2529 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 129:
-#line 804 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 805 "ntp_parser.y" /* yacc.c:1646  */
     {
 			CONCAT_G_FIFOS(cfgt.mru_opts, (yyvsp[0].Attr_val_fifo));
 		}
-#line 2536 "ntp_parser.c" /* yacc.c:1646  */
+#line 2537 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 130:
-#line 808 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 809 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *rn;
 
@@ -2544,11 +2545,11 @@
 						  lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2548 "ntp_parser.c" /* yacc.c:1646  */
+#line 2549 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 131:
-#line 816 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 817 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *rn;
 
@@ -2556,11 +2557,11 @@
 						  lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2560 "ntp_parser.c" /* yacc.c:1646  */
+#line 2561 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 132:
-#line 824 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 825 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *rn;
 
@@ -2568,11 +2569,11 @@
 						  lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2572 "ntp_parser.c" /* yacc.c:1646  */
+#line 2573 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 133:
-#line 832 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 833 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *rn;
 
@@ -2587,11 +2588,11 @@
 				lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2591 "ntp_parser.c" /* yacc.c:1646  */
+#line 2592 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 134:
-#line 847 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 848 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *rn;
 
@@ -2606,11 +2607,11 @@
 				lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2610 "ntp_parser.c" /* yacc.c:1646  */
+#line 2611 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 135:
-#line 862 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 863 "ntp_parser.y" /* yacc.c:1646  */
     {
 			restrict_node *	rn;
 
@@ -2619,17 +2620,17 @@
 				NULL, NULL, (yyvsp[-1].Integer), (yyvsp[0].Int_fifo), lex_current()->curpos.nline);
 			APPEND_G_FIFO(cfgt.restrict_opts, rn);
 		}
-#line 2623 "ntp_parser.c" /* yacc.c:1646  */
+#line 2624 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 136:
-#line 874 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 875 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = -1; }
-#line 2629 "ntp_parser.c" /* yacc.c:1646  */
+#line 2630 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 137:
-#line 876 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 877 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (((yyvsp[0].Integer) < -1) || ((yyvsp[0].Integer) > 100)) {
 				struct FILE_INFO * ip_ctx;
@@ -2645,74 +2646,74 @@
 			}
 			(yyval.Integer) = (yyvsp[0].Integer);
 		}
-#line 2649 "ntp_parser.c" /* yacc.c:1646  */
+#line 2650 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 138:
-#line 895 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 896 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Int_fifo) = NULL; }
-#line 2655 "ntp_parser.c" /* yacc.c:1646  */
+#line 2656 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 139:
-#line 897 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 898 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Int_fifo) = (yyvsp[-1].Int_fifo);
 			APPEND_G_FIFO((yyval.Int_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 2664 "ntp_parser.c" /* yacc.c:1646  */
+#line 2665 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 157:
-#line 925 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 926 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2673 "ntp_parser.c" /* yacc.c:1646  */
+#line 2674 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 158:
-#line 930 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 931 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2682 "ntp_parser.c" /* yacc.c:1646  */
+#line 2683 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 159:
-#line 938 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 939 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2688 "ntp_parser.c" /* yacc.c:1646  */
+#line 2689 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 163:
-#line 949 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 950 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2697 "ntp_parser.c" /* yacc.c:1646  */
+#line 2698 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 164:
-#line 954 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 955 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2706 "ntp_parser.c" /* yacc.c:1646  */
+#line 2707 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 165:
-#line 962 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 963 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2712 "ntp_parser.c" /* yacc.c:1646  */
+#line 2713 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 174:
-#line 982 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 983 "ntp_parser.y" /* yacc.c:1646  */
     {
 			addr_opts_node *aon;
 
@@ -2719,41 +2720,41 @@
 			aon = create_addr_opts_node((yyvsp[-1].Address_node), (yyvsp[0].Attr_val_fifo));
 			APPEND_G_FIFO(cfgt.fudge, aon);
 		}
-#line 2723 "ntp_parser.c" /* yacc.c:1646  */
+#line 2724 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 175:
-#line 992 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 993 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2732 "ntp_parser.c" /* yacc.c:1646  */
+#line 2733 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 176:
-#line 997 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 998 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2741 "ntp_parser.c" /* yacc.c:1646  */
+#line 2742 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 177:
-#line 1005 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1006 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-1].Integer), (yyvsp[0].Double)); }
-#line 2747 "ntp_parser.c" /* yacc.c:1646  */
+#line 2748 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 178:
-#line 1007 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1008 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2753 "ntp_parser.c" /* yacc.c:1646  */
+#line 2754 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 179:
-#line 1009 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1010 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if ((yyvsp[0].Integer) >= 0 && (yyvsp[0].Integer) <= 16) {
 				(yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer));
@@ -2762,89 +2763,89 @@
 				yyerror("fudge factor: stratum value not in [0..16], ignored");
 			}
 		}
-#line 2766 "ntp_parser.c" /* yacc.c:1646  */
+#line 2767 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 180:
-#line 1018 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1019 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String)); }
-#line 2772 "ntp_parser.c" /* yacc.c:1646  */
+#line 2773 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 181:
-#line 1020 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1021 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String)); }
-#line 2778 "ntp_parser.c" /* yacc.c:1646  */
+#line 2779 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 188:
-#line 1041 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1042 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.rlimit, (yyvsp[0].Attr_val_fifo)); }
-#line 2784 "ntp_parser.c" /* yacc.c:1646  */
+#line 2785 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 189:
-#line 1046 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1047 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2793 "ntp_parser.c" /* yacc.c:1646  */
+#line 2794 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 190:
-#line 1051 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1052 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2802 "ntp_parser.c" /* yacc.c:1646  */
+#line 2803 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 191:
-#line 1059 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1060 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 2808 "ntp_parser.c" /* yacc.c:1646  */
+#line 2809 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 195:
-#line 1075 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1076 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.enable_opts, (yyvsp[0].Attr_val_fifo)); }
-#line 2814 "ntp_parser.c" /* yacc.c:1646  */
+#line 2815 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 196:
-#line 1077 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1078 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.disable_opts, (yyvsp[0].Attr_val_fifo)); }
-#line 2820 "ntp_parser.c" /* yacc.c:1646  */
+#line 2821 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 197:
-#line 1082 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1083 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2829 "ntp_parser.c" /* yacc.c:1646  */
+#line 2830 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 198:
-#line 1087 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1088 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2838 "ntp_parser.c" /* yacc.c:1646  */
+#line 2839 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 199:
-#line 1095 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1096 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival(T_Flag, (yyvsp[0].Integer)); }
-#line 2844 "ntp_parser.c" /* yacc.c:1646  */
+#line 2845 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 200:
-#line 1097 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1098 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				(yyval.Attr_val) = create_attr_ival(T_Flag, (yyvsp[0].Integer));
@@ -2858,41 +2859,41 @@
 				yyerror(err_str);
 			}
 		}
-#line 2862 "ntp_parser.c" /* yacc.c:1646  */
+#line 2863 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 213:
-#line 1136 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1137 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.tinker, (yyvsp[0].Attr_val_fifo)); }
-#line 2868 "ntp_parser.c" /* yacc.c:1646  */
+#line 2869 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 214:
-#line 1141 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1142 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2877 "ntp_parser.c" /* yacc.c:1646  */
+#line 2878 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 215:
-#line 1146 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1147 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 2886 "ntp_parser.c" /* yacc.c:1646  */
+#line 2887 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 216:
-#line 1154 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1155 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-1].Integer), (yyvsp[0].Double)); }
-#line 2892 "ntp_parser.c" /* yacc.c:1646  */
+#line 2893 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 229:
-#line 1179 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1180 "ntp_parser.y" /* yacc.c:1646  */
     {
 			attr_val *av;
 
@@ -2899,11 +2900,11 @@
 			av = create_attr_dval((yyvsp[-1].Integer), (yyvsp[0].Double));
 			APPEND_G_FIFO(cfgt.vars, av);
 		}
-#line 2903 "ntp_parser.c" /* yacc.c:1646  */
+#line 2904 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 230:
-#line 1186 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1187 "ntp_parser.y" /* yacc.c:1646  */
     {
 			attr_val *av;
 
@@ -2910,11 +2911,11 @@
 			av = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer));
 			APPEND_G_FIFO(cfgt.vars, av);
 		}
-#line 2914 "ntp_parser.c" /* yacc.c:1646  */
+#line 2915 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 231:
-#line 1193 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1194 "ntp_parser.y" /* yacc.c:1646  */
     {
 			attr_val *av;
 
@@ -2921,11 +2922,11 @@
 			av = create_attr_sval((yyvsp[-1].Integer), (yyvsp[0].String));
 			APPEND_G_FIFO(cfgt.vars, av);
 		}
-#line 2925 "ntp_parser.c" /* yacc.c:1646  */
+#line 2926 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 232:
-#line 1200 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1201 "ntp_parser.y" /* yacc.c:1646  */
     {
 			char error_text[64];
 			attr_val *av;
@@ -2941,11 +2942,11 @@
 				yyerror(error_text);
 			}
 		}
-#line 2945 "ntp_parser.c" /* yacc.c:1646  */
+#line 2946 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 233:
-#line 1216 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1217 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (!lex_from_file()) {
 				YYFREE((yyvsp[-1].String)); /* avoid leak */
@@ -2964,41 +2965,41 @@
 			}
 			YYFREE((yyvsp[-1].String)); /* avoid leak */
 		}
-#line 2968 "ntp_parser.c" /* yacc.c:1646  */
+#line 2969 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 234:
-#line 1235 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1236 "ntp_parser.y" /* yacc.c:1646  */
     { lex_flush_stack(); }
-#line 2974 "ntp_parser.c" /* yacc.c:1646  */
+#line 2975 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 235:
-#line 1237 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1238 "ntp_parser.y" /* yacc.c:1646  */
     { /* see drift_parm below for actions */ }
-#line 2980 "ntp_parser.c" /* yacc.c:1646  */
+#line 2981 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 236:
-#line 1239 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1240 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.logconfig, (yyvsp[0].Attr_val_fifo)); }
-#line 2986 "ntp_parser.c" /* yacc.c:1646  */
+#line 2987 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 237:
-#line 1241 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1242 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.phone, (yyvsp[0].String_fifo)); }
-#line 2992 "ntp_parser.c" /* yacc.c:1646  */
+#line 2993 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 238:
-#line 1243 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1244 "ntp_parser.y" /* yacc.c:1646  */
     { APPEND_G_FIFO(cfgt.setvar, (yyvsp[0].Set_var)); }
-#line 2998 "ntp_parser.c" /* yacc.c:1646  */
+#line 2999 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 239:
-#line 1245 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1246 "ntp_parser.y" /* yacc.c:1646  */
     {
 			addr_opts_node *aon;
 
@@ -3005,27 +3006,27 @@
 			aon = create_addr_opts_node((yyvsp[-1].Address_node), (yyvsp[0].Attr_val_fifo));
 			APPEND_G_FIFO(cfgt.trap, aon);
 		}
-#line 3009 "ntp_parser.c" /* yacc.c:1646  */
+#line 3010 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 240:
-#line 1252 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1253 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.ttl, (yyvsp[0].Attr_val_fifo)); }
-#line 3015 "ntp_parser.c" /* yacc.c:1646  */
+#line 3016 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 245:
-#line 1267 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1268 "ntp_parser.y" /* yacc.c:1646  */
     {
 #ifndef LEAP_SMEAR
 			yyerror("Built without LEAP_SMEAR support.");
 #endif
 		}
-#line 3025 "ntp_parser.c" /* yacc.c:1646  */
+#line 3026 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 251:
-#line 1287 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1288 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				attr_val *av;
@@ -3036,11 +3037,11 @@
 				yyerror("driftfile remote configuration ignored");
 			}
 		}
-#line 3040 "ntp_parser.c" /* yacc.c:1646  */
+#line 3041 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 252:
-#line 1298 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1299 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				attr_val *av;
@@ -3057,11 +3058,11 @@
 				yyerror("driftfile remote configuration ignored");
 			}
 		}
-#line 3061 "ntp_parser.c" /* yacc.c:1646  */
+#line 3062 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 253:
-#line 1315 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1316 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if (lex_from_file()) {
 				attr_val *av;
@@ -3071,71 +3072,71 @@
 				yyerror("driftfile remote configuration ignored");
 			}
 		}
-#line 3075 "ntp_parser.c" /* yacc.c:1646  */
+#line 3076 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 254:
-#line 1328 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1329 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Set_var) = create_setvar_node((yyvsp[-3].String), (yyvsp[-1].String), (yyvsp[0].Integer)); }
-#line 3081 "ntp_parser.c" /* yacc.c:1646  */
+#line 3082 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 256:
-#line 1334 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1335 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = 0; }
-#line 3087 "ntp_parser.c" /* yacc.c:1646  */
+#line 3088 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 257:
-#line 1339 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1340 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val_fifo) = NULL; }
-#line 3093 "ntp_parser.c" /* yacc.c:1646  */
+#line 3094 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 258:
-#line 1341 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1342 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 3102 "ntp_parser.c" /* yacc.c:1646  */
+#line 3103 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 259:
-#line 1349 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1350 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival((yyvsp[-1].Integer), (yyvsp[0].Integer)); }
-#line 3108 "ntp_parser.c" /* yacc.c:1646  */
+#line 3109 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 260:
-#line 1351 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1352 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val) = create_attr_sval((yyvsp[-1].Integer), estrdup((yyvsp[0].Address_node)->address));
 			destroy_address_node((yyvsp[0].Address_node));
 		}
-#line 3117 "ntp_parser.c" /* yacc.c:1646  */
+#line 3118 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 261:
-#line 1359 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1360 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 3126 "ntp_parser.c" /* yacc.c:1646  */
+#line 3127 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 262:
-#line 1364 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1365 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 3135 "ntp_parser.c" /* yacc.c:1646  */
+#line 3136 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 263:
-#line 1372 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1373 "ntp_parser.y" /* yacc.c:1646  */
     {
 			char	prefix;
 			char *	type;
@@ -3157,11 +3158,11 @@
 			(yyval.Attr_val) = create_attr_sval(prefix, estrdup(type));
 			YYFREE((yyvsp[0].String));
 		}
-#line 3161 "ntp_parser.c" /* yacc.c:1646  */
+#line 3162 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 264:
-#line 1397 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1398 "ntp_parser.y" /* yacc.c:1646  */
     {
 			nic_rule_node *nrn;
 
@@ -3168,11 +3169,11 @@
 			nrn = create_nic_rule_node((yyvsp[0].Integer), NULL, (yyvsp[-1].Integer));
 			APPEND_G_FIFO(cfgt.nic_rules, nrn);
 		}
-#line 3172 "ntp_parser.c" /* yacc.c:1646  */
+#line 3173 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 265:
-#line 1404 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1405 "ntp_parser.y" /* yacc.c:1646  */
     {
 			nic_rule_node *nrn;
 
@@ -3179,119 +3180,119 @@
 			nrn = create_nic_rule_node(0, (yyvsp[0].String), (yyvsp[-1].Integer));
 			APPEND_G_FIFO(cfgt.nic_rules, nrn);
 		}
-#line 3183 "ntp_parser.c" /* yacc.c:1646  */
+#line 3184 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 275:
-#line 1432 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1433 "ntp_parser.y" /* yacc.c:1646  */
     { CONCAT_G_FIFOS(cfgt.reset_counters, (yyvsp[0].Int_fifo)); }
-#line 3189 "ntp_parser.c" /* yacc.c:1646  */
+#line 3190 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 276:
-#line 1437 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1438 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Int_fifo) = (yyvsp[-1].Int_fifo);
 			APPEND_G_FIFO((yyval.Int_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 3198 "ntp_parser.c" /* yacc.c:1646  */
+#line 3199 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 277:
-#line 1442 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1443 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Int_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Int_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 3207 "ntp_parser.c" /* yacc.c:1646  */
+#line 3208 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 285:
-#line 1466 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1467 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 3216 "ntp_parser.c" /* yacc.c:1646  */
+#line 3217 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 286:
-#line 1471 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1472 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), create_int_node((yyvsp[0].Integer)));
 		}
-#line 3225 "ntp_parser.c" /* yacc.c:1646  */
+#line 3226 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 287:
-#line 1479 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1480 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-1].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 3234 "ntp_parser.c" /* yacc.c:1646  */
+#line 3235 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 288:
-#line 1484 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1485 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[0].Attr_val));
 		}
-#line 3243 "ntp_parser.c" /* yacc.c:1646  */
+#line 3244 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 289:
-#line 1492 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1493 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_ival('i', (yyvsp[0].Integer)); }
-#line 3249 "ntp_parser.c" /* yacc.c:1646  */
+#line 3250 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 291:
-#line 1498 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1499 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_rangeval('-', (yyvsp[-3].Integer), (yyvsp[-1].Integer)); }
-#line 3255 "ntp_parser.c" /* yacc.c:1646  */
+#line 3256 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 292:
-#line 1503 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1504 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.String_fifo) = (yyvsp[-1].String_fifo);
 			APPEND_G_FIFO((yyval.String_fifo), create_string_node((yyvsp[0].String)));
 		}
-#line 3264 "ntp_parser.c" /* yacc.c:1646  */
+#line 3265 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 293:
-#line 1508 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1509 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.String_fifo) = NULL;
 			APPEND_G_FIFO((yyval.String_fifo), create_string_node((yyvsp[0].String)));
 		}
-#line 3273 "ntp_parser.c" /* yacc.c:1646  */
+#line 3274 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 294:
-#line 1516 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1517 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Address_fifo) = (yyvsp[-1].Address_fifo);
 			APPEND_G_FIFO((yyval.Address_fifo), (yyvsp[0].Address_node));
 		}
-#line 3282 "ntp_parser.c" /* yacc.c:1646  */
+#line 3283 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 295:
-#line 1521 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1522 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Address_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Address_fifo), (yyvsp[0].Address_node));
 		}
-#line 3291 "ntp_parser.c" /* yacc.c:1646  */
+#line 3292 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 296:
-#line 1529 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1530 "ntp_parser.y" /* yacc.c:1646  */
     {
 			if ((yyvsp[0].Integer) != 0 && (yyvsp[0].Integer) != 1) {
 				yyerror("Integer value is not boolean (0 or 1). Assuming 1");
@@ -3300,35 +3301,35 @@
 				(yyval.Integer) = (yyvsp[0].Integer);
 			}
 		}
-#line 3304 "ntp_parser.c" /* yacc.c:1646  */
+#line 3305 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 297:
-#line 1537 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1538 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = 1; }
-#line 3310 "ntp_parser.c" /* yacc.c:1646  */
+#line 3311 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 298:
-#line 1538 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1539 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = 0; }
-#line 3316 "ntp_parser.c" /* yacc.c:1646  */
+#line 3317 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 299:
-#line 1542 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1543 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Double) = (double)(yyvsp[0].Integer); }
-#line 3322 "ntp_parser.c" /* yacc.c:1646  */
+#line 3323 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 301:
-#line 1548 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1549 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Integer) = basedate_eval_string((yyvsp[0].String)); YYFREE((yyvsp[0].String)); }
-#line 3328 "ntp_parser.c" /* yacc.c:1646  */
+#line 3329 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 302:
-#line 1556 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1557 "ntp_parser.y" /* yacc.c:1646  */
     {
 			sim_node *sn;
 
@@ -3338,125 +3339,125 @@
 			/* Revert from ; to \n for end-of-command */
 			old_config_style = 1;
 		}
-#line 3342 "ntp_parser.c" /* yacc.c:1646  */
+#line 3343 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 303:
-#line 1573 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1574 "ntp_parser.y" /* yacc.c:1646  */
     { old_config_style = 0; }
-#line 3348 "ntp_parser.c" /* yacc.c:1646  */
+#line 3349 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 304:
-#line 1578 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1579 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-2].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[-1].Attr_val));
 		}
-#line 3357 "ntp_parser.c" /* yacc.c:1646  */
+#line 3358 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 305:
-#line 1583 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1584 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[-1].Attr_val));
 		}
-#line 3366 "ntp_parser.c" /* yacc.c:1646  */
+#line 3367 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 306:
-#line 1591 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1592 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-2].Integer), (yyvsp[0].Double)); }
-#line 3372 "ntp_parser.c" /* yacc.c:1646  */
+#line 3373 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 309:
-#line 1601 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1602 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Sim_server_fifo) = (yyvsp[-1].Sim_server_fifo);
 			APPEND_G_FIFO((yyval.Sim_server_fifo), (yyvsp[0].Sim_server));
 		}
-#line 3381 "ntp_parser.c" /* yacc.c:1646  */
+#line 3382 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 310:
-#line 1606 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1607 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Sim_server_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Sim_server_fifo), (yyvsp[0].Sim_server));
 		}
-#line 3390 "ntp_parser.c" /* yacc.c:1646  */
+#line 3391 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 311:
-#line 1614 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1615 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Sim_server) = ONLY_SIM(create_sim_server((yyvsp[-4].Address_node), (yyvsp[-2].Double), (yyvsp[-1].Sim_script_fifo))); }
-#line 3396 "ntp_parser.c" /* yacc.c:1646  */
+#line 3397 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 312:
-#line 1619 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1620 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Double) = (yyvsp[-1].Double); }
-#line 3402 "ntp_parser.c" /* yacc.c:1646  */
+#line 3403 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 313:
-#line 1624 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1625 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Address_node) = (yyvsp[0].Address_node); }
-#line 3408 "ntp_parser.c" /* yacc.c:1646  */
+#line 3409 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 314:
-#line 1629 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1630 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Sim_script_fifo) = (yyvsp[-1].Sim_script_fifo);
 			APPEND_G_FIFO((yyval.Sim_script_fifo), (yyvsp[0].Sim_script));
 		}
-#line 3417 "ntp_parser.c" /* yacc.c:1646  */
+#line 3418 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 315:
-#line 1634 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1635 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Sim_script_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Sim_script_fifo), (yyvsp[0].Sim_script));
 		}
-#line 3426 "ntp_parser.c" /* yacc.c:1646  */
+#line 3427 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 316:
-#line 1642 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1643 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Sim_script) = ONLY_SIM(create_sim_script_info((yyvsp[-3].Double), (yyvsp[-1].Attr_val_fifo))); }
-#line 3432 "ntp_parser.c" /* yacc.c:1646  */
+#line 3433 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 317:
-#line 1647 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1648 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = (yyvsp[-2].Attr_val_fifo);
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[-1].Attr_val));
 		}
-#line 3441 "ntp_parser.c" /* yacc.c:1646  */
+#line 3442 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 318:
-#line 1652 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1653 "ntp_parser.y" /* yacc.c:1646  */
     {
 			(yyval.Attr_val_fifo) = NULL;
 			APPEND_G_FIFO((yyval.Attr_val_fifo), (yyvsp[-1].Attr_val));
 		}
-#line 3450 "ntp_parser.c" /* yacc.c:1646  */
+#line 3451 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
   case 319:
-#line 1660 "../../ntpd/ntp_parser.y" /* yacc.c:1646  */
+#line 1661 "ntp_parser.y" /* yacc.c:1646  */
     { (yyval.Attr_val) = create_attr_dval((yyvsp[-2].Integer), (yyvsp[0].Double)); }
-#line 3456 "ntp_parser.c" /* yacc.c:1646  */
+#line 3457 "ntp_parser.c" /* yacc.c:1646  */
     break;
 
 
-#line 3460 "ntp_parser.c" /* yacc.c:1646  */
+#line 3461 "ntp_parser.c" /* yacc.c:1646  */
       default: break;
     }
   /* User semantic actions sometimes alter yychar, and that requires
@@ -3684,7 +3685,7 @@
 #endif
   return yyresult;
 }
-#line 1671 "../../ntpd/ntp_parser.y" /* yacc.c:1906  */
+#line 1672 "ntp_parser.y" /* yacc.c:1906  */
 
 
 void
--- contrib/ntp/ntpd/ntp_parser.h.orig
+++ contrib/ntp/ntpd/ntp_parser.h
@@ -454,7 +454,7 @@
 
 union YYSTYPE
 {
-#line 51 "../../ntpd/ntp_parser.y" /* yacc.c:1909  */
+#line 52 "ntp_parser.y" /* yacc.c:1909  */
 
 	char *			String;
 	double			Double;
--- contrib/ntp/ntpd/ntp_proto.c.orig
+++ contrib/ntp/ntpd/ntp_proto.c
@@ -33,7 +33,7 @@
 
 /*
  * This macro defines the authentication state. If x is 1 authentication
- * is required; othewise it is optional.
+ * is required; otherwise it is optional.
  */
 #define	AUTH(x, y)	((x) ? (y) == AUTH_OK \
 			     : (y) == AUTH_OK || (y) == AUTH_NONE)
@@ -272,7 +272,7 @@
 }
 
 
-/* 
+/*
  * Check that NAK is valid
  */
 nak_code
@@ -315,7 +315,7 @@
 		return INVALIDNAK;
 	}
 
-	/* 
+	/*
 	 * Make sure that the extra field in the packet is all zeros
 	 */
 	rpkt = &rbufp->recv_pkt;
@@ -324,10 +324,13 @@
 		return INVALIDNAK;
 	}
 
-	/* 
-	 * Only valid if peer uses a key
+	/*
+	 * During the first few packets of the autokey dance there will
+	 * not (yet) be a keyid, but in this case FLAG_SKEY is set.
+	 * So the NAK is invalid if either there's no peer, or
+	 * if the keyid is 0 and FLAG_SKEY is not set.
 	 */
-	if (!peer || !peer->keyid || !(peer->flags & FLAG_SKEY)) {
+	if (!peer || (!peer->keyid && !(peer->flags & FLAG_SKEY))) {
 		return INVALIDNAK;
 	}
 
@@ -372,14 +375,21 @@
 	hpoll = peer->hpoll;
 
 	/*
+	 * If we haven't received anything (even if unsync) since last
+	 * send, reset ppoll.
+	 */
+	if (peer->outdate > peer->timelastrec && !peer->reach)
+		peer->ppoll = peer->maxpoll;
+
+	/*
 	 * In broadcast mode the poll interval is never changed from
 	 * minpoll.
 	 */
 	if (peer->cast_flags & (MDF_BCAST | MDF_MCAST)) {
 		peer->outdate = current_time;
+		poll_update(peer, hpoll);
 		if (sys_leap != LEAP_NOTINSYNC)
 			peer_xmit(peer);
-		poll_update(peer, hpoll);
 		return;
 	}
 
@@ -398,6 +408,7 @@
 	 */
 	if (peer->cast_flags & MDF_ACAST) {
 		peer->outdate = current_time;
+		poll_update(peer, hpoll);
 		if (peer->unreach > sys_beacon) {
 			peer->unreach = 0;
 			peer->ttl = 0;
@@ -409,7 +420,6 @@
 			peer_xmit(peer);
 		}
 		peer->unreach++;
-		poll_update(peer, hpoll);
 		return;
 	}
 
@@ -427,11 +437,11 @@
 	 */
 	if (peer->cast_flags & MDF_POOL) {
 		peer->outdate = current_time;
+		poll_update(peer, hpoll);
 		if (   (peer_associations <= 2 * sys_maxclock)
 		    && (   peer_associations < sys_maxclock
 			|| sys_survivors < sys_minclock))
 			pool_xmit(peer);
-		poll_update(peer, hpoll);
 		return;
 	}
 
@@ -539,9 +549,9 @@
 	/*
 	 * Do not transmit if in broadcast client mode.
 	 */
+	poll_update(peer, hpoll);
 	if (peer->hmode != MODE_BCLIENT)
 		peer_xmit(peer);
-	poll_update(peer, hpoll);
 
 	return;
 }
@@ -645,7 +655,7 @@
 	hisleap = PKT_LEAP(pkt->li_vn_mode);
 	hismode = (int)PKT_MODE(pkt->li_vn_mode);
 	hisstratum = PKT_TO_STRATUM(pkt->stratum);
-	DPRINTF(2, ("receive: at %ld %s<-%s ippeerlimit %d mode %d iflags %s restrict %s org %#010x.%08x xmt %#010x.%08x\n",
+	DPRINTF(1, ("receive: at %ld %s<-%s ippeerlimit %d mode %d iflags %s restrict %s org %#010x.%08x xmt %#010x.%08x\n",
 		    current_time, stoa(&rbufp->dstadr->sin),
 		    stoa(&rbufp->recv_srcadr), r4a.ippeerlimit, hismode,
 		    build_iflags(rbufp->dstadr->flags),
@@ -737,7 +747,7 @@
 		} else {
 			DPRINTF(2, ("receive: drop: MODE_UNSPEC\n"));
 			sys_badlength++;
-			return;                 /* invalid mode */
+			return;			/* invalid mode */
 		}
 	}
 
@@ -841,7 +851,7 @@
 	/*
 	** Packet Data Verification Layer
 	**
-	** This layer verifies the packet data content.  If 
+	** This layer verifies the packet data content.  If
 	** authentication is required, a MAC must be present.
 	** If a MAC is present, it must validate.
 	** Crypto-NAK?  Look - a shiny thing!
@@ -949,7 +959,7 @@
 		if (0 != peer) {
 			peer->badNAK++;
 		}
-		msyslog(LOG_ERR, "Invalid-NAK error at %ld %s<-%s", 
+		msyslog(LOG_ERR, "Invalid-NAK error at %ld %s<-%s",
 			current_time, stoa(dstadr_sin), stoa(&rbufp->recv_srcadr));
 		return;
 	}
@@ -957,7 +967,7 @@
 	if (has_mac == 0) {
 		restrict_mask &= ~RES_MSSNTP;
 		is_authentic = AUTH_NONE; /* not required */
-		DPRINTF(2, ("receive: at %ld %s<-%s mode %d/%s:%s len %d org %#010x.%08x xmt %#010x.%08x NOMAC\n",
+		DPRINTF(1, ("receive: at %ld %s<-%s mode %d/%s:%s len %d org %#010x.%08x xmt %#010x.%08x NOMAC\n",
 			    current_time, stoa(dstadr_sin),
 			    stoa(&rbufp->recv_srcadr), hismode, hm_str, am_str,
 			    authlen,
@@ -966,7 +976,7 @@
 	} else if (crypto_nak_test == VALIDNAK) {
 		restrict_mask &= ~RES_MSSNTP;
 		is_authentic = AUTH_CRYPTO; /* crypto-NAK */
-		DPRINTF(2, ("receive: at %ld %s<-%s mode %d/%s:%s keyid %08x len %d auth %d org %#010x.%08x xmt %#010x.%08x MAC4\n",
+		DPRINTF(1, ("receive: at %ld %s<-%s mode %d/%s:%s keyid %08x len %d auth %d org %#010x.%08x xmt %#010x.%08x CRYPTONAK\n",
 			    current_time, stoa(dstadr_sin),
 			    stoa(&rbufp->recv_srcadr), hismode, hm_str, am_str,
 			    skeyid, authlen + has_mac, is_authentic,
@@ -989,6 +999,12 @@
 		   && (memcmp(zero_key, (char *)pkt + authlen + 4,
 			      MAX_MD5_LEN - 4) == 0)) {
 		is_authentic = AUTH_NONE;
+		DPRINTF(1, ("receive: at %ld %s<-%s mode %d/%s:%s len %d org %#010x.%08x xmt %#010x.%08x SIGND\n",
+			    current_time, stoa(dstadr_sin),
+			    stoa(&rbufp->recv_srcadr), hismode, hm_str, am_str,
+			    authlen,
+			    ntohl(pkt->org.l_ui), ntohl(pkt->org.l_uf),
+			    ntohl(pkt->xmt.l_ui), ntohl(pkt->xmt.l_uf)));
 #endif /* HAVE_NTP_SIGND */
 
 	} else {
@@ -995,7 +1011,7 @@
 		/*
 		 * has_mac is not 0
 		 * Not a VALID_NAK
-		 * Not an MS-SNTP SIGND  packet
+		 * Not an MS-SNTP SIGND packet
 		 *
 		 * So there is a MAC here.
 		 */
@@ -1054,7 +1070,7 @@
 				       ANY_INTERFACE_CHOOSE(&rbufp->recv_srcadr)) {
 					DPRINTF(2, ("receive: drop: BCAST from wildcard\n"));
 					sys_restricted++;
-					return;	     /* no wildcard */
+					return;		/* no wildcard */
 				}
 				pkeyid = 0;
 				if (!SOCK_UNSPEC(&rbufp->dstadr->bcast))
@@ -1106,7 +1122,7 @@
 		if (crypto_flags && skeyid > NTP_MAXKEY)
 			authtrust(skeyid, 0);
 #endif	/* AUTOKEY */
-		DPRINTF(2, ("receive: at %ld %s<-%s mode %d/%s:%s keyid %08x len %d auth %d org %#010x.%08x xmt %#010x.%08x\n",
+		DPRINTF(1, ("receive: at %ld %s<-%s mode %d/%s:%s keyid %08x len %d auth %d org %#010x.%08x xmt %#010x.%08x MAC\n",
 			    current_time, stoa(dstadr_sin),
 			    stoa(&rbufp->recv_srcadr), hismode, hm_str, am_str,
 			    skeyid, authlen + has_mac, is_authentic,
@@ -1198,6 +1214,8 @@
 	 * client association; a symmetric active packet mobilizes a
 	 * symmetric passive association.
 	 */
+	DPRINTF(1, ("receive: MATCH_ASSOC dispatch: mode %d/%s:%s \n",
+		hismode, hm_str, am_str));
 	switch (retcode) {
 
 	/*
@@ -1373,7 +1391,7 @@
 		if (NULL == peer) {
 			DPRINTF(2, ("receive: AM_MANYCAST drop: duplicate\n"));
 			sys_declined++;
-			return;			/* ignore duplicate  */
+			return;			/* ignore duplicate */
 		}
 
 		/*
@@ -1511,10 +1529,10 @@
 		 * is fixed at this value.
 		 */
 		peer = newpeer(&rbufp->recv_srcadr, NULL, match_ep,
-		    r4a.ippeerlimit, MODE_CLIENT, hisversion,
-		    pkt->ppoll, pkt->ppoll,
-		    FLAG_BC_VOL | FLAG_IBURST | FLAG_PREEMPT, MDF_BCLNT,
-		    0, skeyid, sys_ident);
+			       r4a.ippeerlimit, MODE_CLIENT, hisversion,
+			       pkt->ppoll, pkt->ppoll,
+			       FLAG_BC_VOL | FLAG_IBURST | FLAG_PREEMPT, MDF_BCLNT,
+			       0, skeyid, sys_ident);
 		if (NULL == peer) {
 			DPRINTF(2, ("receive: AM_NEWBCL drop: empty newpeer() failed\n"));
 			sys_restricted++;
@@ -1529,15 +1547,19 @@
 		return;				/* hooray */
 
 	/*
-	 * This is the first packet received from a symmetric active
-	 * peer.  If the packet is authentic, the first he sent, and
-	 * RES_NOEPEER is not enabled, mobilize a passive association
-	 * If not, kiss the frog.
+	 * This is the first packet received from a potential ephemeral
+	 * symmetric active peer.  First, deal with broken Windows clients.
+	 * Then, if NOEPEER is enabled, drop it.  If the packet meets our
+	 * authenticty requirements and is the first he sent, mobilize
+	 * a passive association.
+	 * Otherwise, kiss the frog.
 	 *
 	 * There are cases here where we do not call record_raw_stats().
 	 */
 	case AM_NEWPASS:
 
+		DEBUG_REQUIRE(MODE_ACTIVE == hismode);
+
 #ifdef AUTOKEY
 		/*
 		 * Do not respond if not the same group.
@@ -1551,27 +1573,33 @@
 		if (!AUTH(sys_authenticate | (restrict_mask &
 			  (RES_NOPEER | RES_DONTTRUST)), is_authentic)
 		   ) {
-			if (0 == (restrict_mask & RES_NOEPEER)) {
-				/*
-				 * If authenticated but cannot mobilize an
-				 * association, send a symmetric passive
-				 * response without mobilizing an association.
-				 * This is for drat broken Windows clients. See
-				 * Microsoft KB 875424 for preferred workaround.
-				 */
-				if (AUTH(restrict_mask & RES_DONTTRUST,
-					 is_authentic)) {
-					fast_xmit(rbufp, MODE_PASSIVE, skeyid,
-					    restrict_mask);
-					return;			/* hooray */
-				}
-				if (is_authentic == AUTH_ERROR) {
-					fast_xmit(rbufp, MODE_ACTIVE, 0,
-					    restrict_mask);
-					sys_restricted++;
-					return;
-				}
+			/*
+			 * If authenticated but cannot mobilize an
+			 * association, send a symmetric passive
+			 * response without mobilizing an association.
+			 * This is for drat broken Windows clients. See
+			 * Microsoft KB 875424 for preferred workaround.
+			 */
+			if (AUTH(restrict_mask & RES_DONTTRUST,
+				 is_authentic)) {
+				fast_xmit(rbufp, MODE_PASSIVE, skeyid,
+				    restrict_mask);
+				return;			/* hooray */
 			}
+			/* HMS: Why is this next set of lines a feature? */
+			if (is_authentic == AUTH_ERROR) {
+				fast_xmit(rbufp, MODE_PASSIVE, 0,
+				    restrict_mask);
+				sys_restricted++;
+				return;
+			}
+
+			if (restrict_mask & RES_NOEPEER) {
+				DPRINTF(2, ("receive: AM_NEWPASS drop: NOEPEER\n"));
+				sys_declined++;
+				return;
+			}
+
 			/* [Bug 2941]
 			 * If we got here, the packet isn't part of an
 			 * existing association, either isn't correctly
@@ -1593,6 +1621,12 @@
 			return;
 		}
 
+		if (restrict_mask & RES_NOEPEER) {
+			DPRINTF(2, ("receive: AM_NEWPASS drop: NOEPEER\n"));
+			sys_declined++;
+			return;
+		}
+
 		/*
 		 * Do not respond if synchronized and if stratum is
 		 * below the floor or at or above the ceiling. Note,
@@ -1670,8 +1704,8 @@
 			}
 
 			/* This is error-worthy */
-			if (pkt->ppoll < peer->minpoll ||
-			    pkt->ppoll > peer->maxpoll  ) {
+			if (   pkt->ppoll < peer->minpoll
+			    || pkt->ppoll > peer->maxpoll) {
 				msyslog(LOG_INFO, "receive: broadcast poll of %u from %s is out-of-range (%d to %d)!",
 					pkt->ppoll, stoa(&rbufp->recv_srcadr),
 					peer->minpoll, peer->maxpoll);
@@ -1719,7 +1753,7 @@
 			 * network is trustable, so we take our accepted
 			 * broadcast packets as we receive them.  But
 			 * some folks might want to take additional poll
-			 * delays before believing a backward step. 
+			 * delays before believing a backward step.
 			 */
 			if (sys_bcpollbstep) {
 				/* pkt->ppoll or peer->ppoll ? */
@@ -1735,8 +1769,8 @@
 				tdiff = p_xmt;
 				L_SUB(&tdiff, &peer->bxmt);
 			}
-			if (tdiff.l_i < 0 &&
-			    (current_time - peer->timereceived) < deadband)
+			if (   tdiff.l_i < 0
+			    && (current_time - peer->timereceived) < deadband)
 			{
 				msyslog(LOG_INFO, "receive: broadcast packet from %s contains non-monotonic timestamp: %#010x.%08x -> %#010x.%08x",
 					stoa(&rbufp->recv_srcadr),
@@ -2431,6 +2465,7 @@
 		peer->seldisptoolarge++;
 		DPRINTF(1, ("packet: flash header %04x\n",
 			    peer->flash));
+		poll_update(peer, peer->hpoll);	/* ppoll updated? */
 		return;
 	}
 
@@ -2586,7 +2621,7 @@
 		 * between the unicast timestamp and the broadcast
 		 * timestamp. This works for both basic and interleaved
 		 * modes.
-		 * [Bug 3031] Don't keep this peer when the delay 
+		 * [Bug 3031] Don't keep this peer when the delay
 		 * calculation gives reason to suspect clock steps.
 		 * This is assumed for delays > 50ms.
 		 */
@@ -2977,8 +3012,6 @@
 	} else {
 		if (peer->retry > 0)
 			hpoll = peer->minpoll;
-		else if (!(peer->reach))
-			hpoll = peer->hpoll;
 		else
 			hpoll = min(peer->ppoll, peer->hpoll);
 #ifdef REFCLOCK
@@ -3072,6 +3105,10 @@
 		peer->stratum = STRATUM_UNSPEC;
 		memcpy(&peer->refid, ident, 4);
 #ifdef REFCLOCK
+	} else {
+		/* Clear refclock sample filter */
+		peer->procptr->codeproc = 0;
+		peer->procptr->coderecv = 0;
 	}
 #endif
 
@@ -3987,7 +4024,7 @@
 		DPRINTF(1, ("peer_xmit: at %ld %s->%s mode %d len %zu xmt %#010x.%08x\n",
 			    current_time,
 			    peer->dstadr ? stoa(&peer->dstadr->sin) : "-",
-		            stoa(&peer->srcadr), peer->hmode, sendlen,
+			    stoa(&peer->srcadr), peer->hmode, sendlen,
 			    xmt_tx.l_ui, xmt_tx.l_uf));
 		return;
 	}
@@ -4330,7 +4367,7 @@
 	return;
 }
 
-#endif  /* LEAP_SMEAR */
+#endif /* LEAP_SMEAR */
 
 
 /*
--- contrib/ntp/ntpd/ntp_refclock.c.orig
+++ contrib/ntp/ntpd/ntp_refclock.c
@@ -112,7 +112,7 @@
 		/* ignore others */
 		break;
 	}
-	if (pp->lastevent < 15)
+	if ((code != CEVNT_NOMINAL) && (pp->lastevent < 15))
 		pp->lastevent++;
 	if (pp->currentstatus != code) {
 		pp->currentstatus = (u_char)code;
--- contrib/ntp/ntpd/ntp_request.c.orig
+++ contrib/ntp/ntpd/ntp_request.c
@@ -890,6 +890,7 @@
 			ip->flags |= INFO_FLAG_SHORTLIST;
 		ip->leap = pp->leap;
 		ip->hmode = pp->hmode;
+		ip->pmode = pp->pmode;
 		ip->keyid = pp->keyid;
 		ip->stratum = pp->stratum;
 		ip->ppoll = pp->ppoll;
@@ -2535,7 +2536,15 @@
 		DTOLFP(clock_stat.fudgetime2, &ltmp);
 		HTONL_FP(&ltmp, &ic->fudgetime2);
 		ic->fudgeval1 = htonl((u_int32)clock_stat.fudgeval1);
+		/* [Bug3527] Backward Incompatible: ic->fudgeval2 is
+		 * a string, instantiated via memcpy() so there is no
+		 * endian issue to correct.
+		 */
+#ifdef DISABLE_BUG3527_FIX
 		ic->fudgeval2 = htonl(clock_stat.fudgeval2);
+#else
+		ic->fudgeval2 = clock_stat.fudgeval2;
+#endif
 
 		free_varlist(clock_stat.kv_list);
 
--- contrib/ntp/ntpd/ntp_timer.c.orig
+++ contrib/ntp/ntpd/ntp_timer.c
@@ -82,8 +82,8 @@
 #ifdef AUTOKEY
 static	u_long revoke_timer;	/* keys revoke timer */
 static	u_long keys_timer;	/* session key timer */
-u_long	sys_revoke = KEY_REVOKE; /* keys revoke timeout (log2 s) */
-u_long	sys_automax = NTP_AUTOMAX; /* key list timeout (log2 s) */
+u_char	sys_revoke = KEY_REVOKE; /* keys revoke timeout (log2 s) */
+u_char	sys_automax = NTP_AUTOMAX; /* key list timeout (log2 s) */
 #endif	/* AUTOKEY */
 
 /*
@@ -404,7 +404,7 @@
 	 * Garbage collect expired keys.
 	 */
 	if (keys_timer <= current_time) {
-		keys_timer += 1 << sys_automax;
+		keys_timer += (1UL << sys_automax);
 		auth_agekeys();
 	}
 
@@ -413,7 +413,7 @@
 	 * to regenerate cookies.
 	 */
 	if (revoke_timer && revoke_timer <= current_time) {
-		revoke_timer += 1 << sys_revoke;
+		revoke_timer += (1UL << sys_revoke);
 		RAND_bytes((u_char *)&sys_private, 4);
 	}
 #endif	/* AUTOKEY */
--- contrib/ntp/ntpd/ntpd-opts.c.orig
+++ contrib/ntp/ntpd/ntpd-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpd-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:13:19 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:15 AM by AutoGen 5.18.5
  *  From the definitions    ntpd-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -75,7 +75,7 @@
  *  static const strings for ntpd options
  */
 static char const ntpd_opt_strs[3132] =
-/*     0 */ "ntpd 4.2.8p11\n"
+/*     0 */ "ntpd 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -205,12 +205,12 @@
 /*  2901 */ "output version information and exit\0"
 /*  2937 */ "version\0"
 /*  2945 */ "NTPD\0"
-/*  2950 */ "ntpd - NTP daemon program - Ver. 4.2.8p11\n"
+/*  2950 */ "ntpd - NTP daemon program - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... \\\n"
             "\t\t[ <server1> ... <serverN> ]\n\0"
 /*  3082 */ "http://bugs.ntp.org, bugs@ntp.org\0"
 /*  3116 */ "\n\0"
-/*  3118 */ "ntpd 4.2.8p11";
+/*  3118 */ "ntpd 4.2.8p13";
 
 /**
  *  ipv4 option description with
@@ -1529,7 +1529,7 @@
      translate option names.
    */
   /* referenced via ntpdOptions.pzCopyright */
-  puts(_("ntpd 4.2.8p11\n\
+  puts(_("ntpd 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -1670,7 +1670,7 @@
   puts(_("output version information and exit"));
 
   /* referenced via ntpdOptions.pzUsageTitle */
-  puts(_("ntpd - NTP daemon program - Ver. 4.2.8p11\n\
+  puts(_("ntpd - NTP daemon program - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... \\\n\
 \t\t[ <server1> ... <serverN> ]\n"));
 
@@ -1678,7 +1678,7 @@
   puts(_("\n"));
 
   /* referenced via ntpdOptions.pzFullVersion */
-  puts(_("ntpd 4.2.8p11"));
+  puts(_("ntpd 4.2.8p13"));
 
   /* referenced via ntpdOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/ntpd/ntpd-opts.h.orig
+++ contrib/ntp/ntpd/ntpd-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpd-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:13:17 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:15 AM by AutoGen 5.18.5
  *  From the definitions    ntpd-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -106,9 +106,9 @@
 /** count of all options for ntpd */
 #define OPTION_CT    38
 /** ntpd version */
-#define NTPD_VERSION       "4.2.8p11"
+#define NTPD_VERSION       "4.2.8p13"
 /** Full ntpd version text */
-#define NTPD_FULL_VERSION  "ntpd 4.2.8p11"
+#define NTPD_FULL_VERSION  "ntpd 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/ntpd/ntpd.1ntpdman.orig
+++ contrib/ntp/ntpd/ntpd.1ntpdman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpd 1ntpdman "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpd 1ntpdman "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-Ffa4WQ/ag-RfaWVQ)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:14:30 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:46 AM by AutoGen 5.18.5
 .\" From the definitions ntpd-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpd/ntpd.1ntpdmdoc.orig
+++ contrib/ntp/ntpd/ntpd.1ntpdmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPD 1ntpdmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpd-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:47 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:37 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpd-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpd/ntpd.c.orig
+++ contrib/ntp/ntpd/ntpd.c
@@ -104,6 +104,10 @@
 #endif
 #endif
 
+#ifdef SYS_WINNT
+# include "ntservice.h"
+#endif
+
 #ifdef _AIX
 # include <ulimit.h>
 #endif /* _AIX */
@@ -182,7 +186,6 @@
 const char *chrootdir;	/* directory to chroot to */
 uid_t sw_uid;
 gid_t sw_gid;
-char *endp;
 struct group *gr;
 struct passwd *pw;
 #endif /* HAVE_DROPROOT */
@@ -523,8 +526,238 @@
 }
 #endif	/* !SIM */
 
+#if !defined(SIM) && !defined(SYS_WINNT)
+/*
+ * Detach from terminal (much like daemon())
+ * Nothe that this function calls exit()
+ */
+# ifdef HAVE_WORKING_FORK
+static void
+detach_from_terminal(
+	int pipe_fds[2],
+	long wait_sync,
+	const char *logfilename
+	)
+{
+	int rc;
+	int exit_code;
+#  if !defined(HAVE_SETSID) && !defined (HAVE_SETPGID) && defined(TIOCNOTTY)
+	int		fid;
+#  endif
+#  ifdef _AIX
+	struct sigaction sa;
+#  endif
 
+	rc = fork();
+	if (-1 == rc) {
+		exit_code = (errno) ? errno : -1;
+		msyslog(LOG_ERR, "fork: %m");
+		exit(exit_code);
+	}
+	if (rc > 0) {
+		/* parent */
+		exit_code = wait_child_sync_if(pipe_fds[0],
+					       wait_sync);
+		exit(exit_code);
+	}
+
+	/*
+	 * child/daemon
+	 * close all open files excepting waitsync_fd_to_close.
+	 * msyslog() unreliable until after init_logging().
+	 */
+	closelog();
+	if (syslog_file != NULL) {
+		fclose(syslog_file);
+		syslog_file = NULL;
+		syslogit = TRUE;
+	}
+	close_all_except(waitsync_fd_to_close);
+	INSIST(0 == open("/dev/null", 0) && 1 == dup2(0, 1) \
+		&& 2 == dup2(0, 2));
+
+	init_logging(progname, 0, TRUE);
+	/* we lost our logfile (if any) daemonizing */
+	setup_logfile(logfilename);
+
+#  ifdef SYS_DOMAINOS
+	{
+		uid_$t puid;
+		status_$t st;
+
+		proc2_$who_am_i(&puid);
+		proc2_$make_server(&puid, &st);
+	}
+#  endif	/* SYS_DOMAINOS */
+#  ifdef HAVE_SETSID
+	if (setsid() == (pid_t)-1)
+		msyslog(LOG_ERR, "setsid(): %m");
+#  elif defined(HAVE_SETPGID)
+	if (setpgid(0, 0) == -1)
+		msyslog(LOG_ERR, "setpgid(): %m");
+#  else		/* !HAVE_SETSID && !HAVE_SETPGID follows */
+#   ifdef TIOCNOTTY
+	fid = open("/dev/tty", 2);
+	if (fid >= 0) {
+		ioctl(fid, (u_long)TIOCNOTTY, NULL);
+		close(fid);
+	}
+#   endif	/* TIOCNOTTY */
+	ntp_setpgrp(0, getpid());
+#  endif	/* !HAVE_SETSID && !HAVE_SETPGID */
+#  ifdef _AIX
+	/* Don't get killed by low-on-memory signal. */
+	sa.sa_handler = catch_danger;
+	sigemptyset(&sa.sa_mask);
+	sa.sa_flags = SA_RESTART;
+	sigaction(SIGDANGER, &sa, NULL);
+#  endif	/* _AIX */
+
+	return;
+}
+# endif /* HAVE_WORKING_FORK */
+
+#ifdef HAVE_DROPROOT
 /*
+ * Map user name/number to user ID
+*/
+static int
+map_user(
+	)
+{
+	char *endp;
+
+	if (isdigit((unsigned char)*user)) {
+		sw_uid = (uid_t)strtoul(user, &endp, 0);
+		if (*endp != '\0')
+			goto getuser;
+
+		if ((pw = getpwuid(sw_uid)) != NULL) {
+			free(user);
+			user = estrdup(pw->pw_name);
+			sw_gid = pw->pw_gid;
+		} else {
+			errno = 0;
+			msyslog(LOG_ERR, "Cannot find user ID %s", user);
+			return 0;
+		}
+
+	} else {
+getuser:
+		errno = 0;
+		if ((pw = getpwnam(user)) != NULL) {
+			sw_uid = pw->pw_uid;
+			sw_gid = pw->pw_gid;
+		} else {
+			if (errno)
+				msyslog(LOG_ERR, "getpwnam(%s) failed: %m", user);
+			else
+				msyslog(LOG_ERR, "Cannot find user `%s'", user);
+			return 0;
+		}
+	}
+
+	return 1;
+}
+
+/*
+ * Map group name/number to group ID
+*/
+static int
+map_group(void)
+{
+	char *endp;
+
+	if (isdigit((unsigned char)*group)) {
+		sw_gid = (gid_t)strtoul(group, &endp, 0);
+		if (*endp != '\0')
+			goto getgroup;
+	} else {
+getgroup:
+		if ((gr = getgrnam(group)) != NULL) {
+			sw_gid = gr->gr_gid;
+		} else {
+			errno = 0;
+			msyslog(LOG_ERR, "Cannot find group `%s'", group);
+			return 0;
+		}
+	}
+
+	return 1;
+}
+
+static int
+set_group_ids(void)
+{
+	if (user && initgroups(user, sw_gid)) {
+		msyslog(LOG_ERR, "Cannot initgroups() to user `%s': %m", user);
+		return 0;
+	}
+	if (group && setgid(sw_gid)) {
+		msyslog(LOG_ERR, "Cannot setgid() to group `%s': %m", group);
+		return 0;
+	}
+	if (group && setegid(sw_gid)) {
+		msyslog(LOG_ERR, "Cannot setegid() to group `%s': %m", group);
+		return 0;
+	}
+	if (group) {
+		if (0 != setgroups(1, &sw_gid)) {
+			msyslog(LOG_ERR, "setgroups(1, %d) failed: %m", sw_gid);
+			return 0;
+		}
+	}
+	else if (pw)
+		if (0 != initgroups(pw->pw_name, pw->pw_gid)) {
+			msyslog(LOG_ERR, "initgroups(<%s>, %d) filed: %m", pw->pw_name, pw->pw_gid);
+			return 0;
+		}
+	return 1;
+}
+
+static int
+set_user_ids(void)
+{
+	if (user && setuid(sw_uid)) {
+		msyslog(LOG_ERR, "Cannot setuid() to user `%s': %m", user);
+		return 0;
+	}
+	if (user && seteuid(sw_uid)) {
+		msyslog(LOG_ERR, "Cannot seteuid() to user `%s': %m", user);
+		return 0;
+	}
+	return 1;
+}
+
+/*
+ * Change (effective) user and group IDs, also initialize the supplementary group access list
+ */
+int set_user_group_ids(void);
+int
+set_user_group_ids(void)
+{
+	/* If the the user was already mapped, no need to map it again */
+	if ((NULL != user) && (0 == sw_uid)) {
+		if (0 == map_user())
+			exit (-1);
+	}
+	/* same applies for the group */
+	if ((NULL != group) && (0 == sw_gid)) {
+		if (0 == map_group())
+			exit (-1);
+	}
+
+	if (getegid() != sw_gid && 0 == set_group_ids())
+		return 0;
+	if (geteuid() != sw_uid && 0 == set_user_ids())
+		return 0;
+
+	return 1;
+}
+#endif /* HAVE_DROPROOT */
+#endif /* !SIM */
+
+/*
  * Main program.  Initialize us, disconnect us from the tty if necessary,
  * and loop waiting for I/O and/or timer expiries.
  */
@@ -549,12 +782,6 @@
 	int		pipe_fds[2];
 	int		rc;
 	int		exit_code;
-#  ifdef _AIX
-	struct sigaction sa;
-#  endif
-#  if !defined(HAVE_SETSID) && !defined (HAVE_SETPGID) && defined(TIOCNOTTY)
-	int		fid;
-#  endif
 # endif	/* HAVE_WORKING_FORK*/
 # ifdef SCO5_CLOCK
 	int		fd;
@@ -718,6 +945,11 @@
 	init_lib();
 # ifdef SYS_WINNT
 	/*
+	 * Make sure the service is initialized before we do anything else
+	 */
+	ntservice_init();
+
+	/*
 	 * Start interpolation thread, must occur before first
 	 * get_systime()
 	 */
@@ -736,70 +968,7 @@
 	if (!nofork) {
 
 # ifdef HAVE_WORKING_FORK
-		rc = fork();
-		if (-1 == rc) {
-			exit_code = (errno) ? errno : -1;
-			msyslog(LOG_ERR, "fork: %m");
-			exit(exit_code);
-		}
-		if (rc > 0) {	
-			/* parent */
-			exit_code = wait_child_sync_if(pipe_fds[0],
-						       wait_sync);
-			exit(exit_code);
-		}
-		
-		/*
-		 * child/daemon 
-		 * close all open files excepting waitsync_fd_to_close.
-		 * msyslog() unreliable until after init_logging().
-		 */
-		closelog();
-		if (syslog_file != NULL) {
-			fclose(syslog_file);
-			syslog_file = NULL;
-			syslogit = TRUE;
-		}
-		close_all_except(waitsync_fd_to_close);
-		INSIST(0 == open("/dev/null", 0) && 1 == dup2(0, 1) \
-			&& 2 == dup2(0, 2));
-
-		init_logging(progname, 0, TRUE);
-		/* we lost our logfile (if any) daemonizing */
-		setup_logfile(logfilename);
-
-#  ifdef SYS_DOMAINOS
-		{
-			uid_$t puid;
-			status_$t st;
-
-			proc2_$who_am_i(&puid);
-			proc2_$make_server(&puid, &st);
-		}
-#  endif	/* SYS_DOMAINOS */
-#  ifdef HAVE_SETSID
-		if (setsid() == (pid_t)-1)
-			msyslog(LOG_ERR, "setsid(): %m");
-#  elif defined(HAVE_SETPGID)
-		if (setpgid(0, 0) == -1)
-			msyslog(LOG_ERR, "setpgid(): %m");
-#  else		/* !HAVE_SETSID && !HAVE_SETPGID follows */
-#   ifdef TIOCNOTTY
-		fid = open("/dev/tty", 2);
-		if (fid >= 0) {
-			ioctl(fid, (u_long)TIOCNOTTY, NULL);
-			close(fid);
-		}
-#   endif	/* TIOCNOTTY */
-		ntp_setpgrp(0, getpid());
-#  endif	/* !HAVE_SETSID && !HAVE_SETPGID */
-#  ifdef _AIX
-		/* Don't get killed by low-on-memory signal. */
-		sa.sa_handler = catch_danger;
-		sigemptyset(&sa.sa_mask);
-		sa.sa_flags = SA_RESTART;
-		sigaction(SIGDANGER, &sa, NULL);
-#  endif	/* _AIX */
+		detach_from_terminal(pipe_fds, wait_sync, logfilename);
 # endif		/* HAVE_WORKING_FORK */
 	}
 
@@ -972,51 +1141,12 @@
 #  endif	/* HAVE_LINUX_CAPABILITIES || HAVE_SOLARIS_PRIVS */
 
 		if (user != NULL) {
-			if (isdigit((unsigned char)*user)) {
-				sw_uid = (uid_t)strtoul(user, &endp, 0);
-				if (*endp != '\0')
-					goto getuser;
-
-				if ((pw = getpwuid(sw_uid)) != NULL) {
-					free(user);
-					user = estrdup(pw->pw_name);
-					sw_gid = pw->pw_gid;
-				} else {
-					errno = 0;
-					msyslog(LOG_ERR, "Cannot find user ID %s", user);
-					exit (-1);
-				}
-
-			} else {
-getuser:
-				errno = 0;
-				if ((pw = getpwnam(user)) != NULL) {
-					sw_uid = pw->pw_uid;
-					sw_gid = pw->pw_gid;
-				} else {
-					if (errno)
-						msyslog(LOG_ERR, "getpwnam(%s) failed: %m", user);
-					else
-						msyslog(LOG_ERR, "Cannot find user `%s'", user);
-					exit (-1);
-				}
-			}
+			if (0 == map_user())
+				exit (-1);
 		}
 		if (group != NULL) {
-			if (isdigit((unsigned char)*group)) {
-				sw_gid = (gid_t)strtoul(group, &endp, 0);
-				if (*endp != '\0')
-					goto getgroup;
-			} else {
-getgroup:
-				if ((gr = getgrnam(group)) != NULL) {
-					sw_gid = gr->gr_gid;
-				} else {
-					errno = 0;
-					msyslog(LOG_ERR, "Cannot find group `%s'", group);
-					exit (-1);
-				}
-			}
+			if (0 == map_group())
+				exit (-1);
 		}
 
 		if (chrootdir ) {
@@ -1050,37 +1180,8 @@
 			exit(-1);
 		}
 #  endif /* HAVE_SOLARIS_PRIVS */
-		if (user && initgroups(user, sw_gid)) {
-			msyslog(LOG_ERR, "Cannot initgroups() to user `%s': %m", user);
-			exit (-1);
-		}
-		if (group && setgid(sw_gid)) {
-			msyslog(LOG_ERR, "Cannot setgid() to group `%s': %m", group);
-			exit (-1);
-		}
-		if (group && setegid(sw_gid)) {
-			msyslog(LOG_ERR, "Cannot setegid() to group `%s': %m", group);
-			exit (-1);
-		}
-		if (group) {
-			if (0 != setgroups(1, &sw_gid)) {
-				msyslog(LOG_ERR, "setgroups(1, %d) failed: %m", sw_gid);
-				exit (-1);
-			}
-		}
-		else if (pw)
-			if (0 != initgroups(pw->pw_name, pw->pw_gid)) {
-				msyslog(LOG_ERR, "initgroups(<%s>, %d) filed: %m", pw->pw_name, pw->pw_gid);
-				exit (-1);
-			}
-		if (user && setuid(sw_uid)) {
-			msyslog(LOG_ERR, "Cannot setuid() to user `%s': %m", user);
-			exit (-1);
-		}
-		if (user && seteuid(sw_uid)) {
-			msyslog(LOG_ERR, "Cannot seteuid() to user `%s': %m", user);
-			exit (-1);
-		}
+		if (0 == set_user_group_ids())
+			exit(-1);
 
 #  if !defined(HAVE_LINUX_CAPABILITIES) && !defined(HAVE_SOLARIS_PRIVS)
 		/*
@@ -1245,6 +1346,10 @@
 	}
 #endif /* LIBSECCOMP and KERN_SECCOMP */
 
+#ifdef SYS_WINNT
+	ntservice_isup();
+#endif
+
 # ifdef HAVE_IO_COMPLETION_PORT
 
 	for (;;) {
--- contrib/ntp/ntpd/ntpd.html.orig
+++ contrib/ntp/ntpd/ntpd.html
@@ -1,128 +1,179 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>ntpd: Network Time Protocol (NTP) Daemon User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="ntpd: Network Time Protocol (NTP) Daemon User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ntpd: Network Time Protocol (NTP) Daemon User&rsquo;s Manual</title>
+
+<meta name="description" content="ntpd: Network Time Protocol (NTP) Daemon User&rsquo;s Manual">
+<meta name="keywords" content="ntpd: Network Time Protocol (NTP) Daemon User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">ntpd: Network Time Protocol (NTP) Daemon User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-Description">ntpd Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">ntpd: Network Time Protocol (NTP) Daemon User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Description" accesskey="n" rel="next">ntpd Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="ntpd_003a-Network-Time-Protocol-_0028NTP_0029-Daemon-User-Manual"></a>
+<h1 class="top">ntpd: Network Time Protocol (NTP) Daemon User Manual</h1>
 
-<h2 class="unnumbered">ntpd: Network Time Protocol (NTP) Daemon User Manual</h2>
-
 <p>The <code>ntpd</code> program is an operating system daemon that synchronizes the
-system clock to remote NTP time servers or local reference clocks. 
+system clock to remote NTP time servers or local reference clocks.
 It is a complete implementation of NTP version 4 defined by RFC-5905, but
 also retains compatible with version 3 defined by RFC-1305 and versions
-1 and 2, defined by RFC-1059 and RFC-1119, respectively. 
+1 and 2, defined by RFC-1059 and RFC-1119, respectively.
 The program can operate in any of several modes, including client/server,
 symmetric and broadcast modes, and with both symmetric-key and public-key
 cryptography.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntpd</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <p>This document applies to version 4.2.8p11 of <code>ntpd</code>.
-
-<ul class="menu">
-<li><a accesskey="1" href="#ntpd-Description">ntpd Description</a>:             Description
-<li><a accesskey="2" href="#ntpd-Invocation">ntpd Invocation</a>: 		Invoking ntpd
-<li><a accesskey="3" href="#Usage">Usage</a>:                        Usage
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Description" accesskey="1">ntpd Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Invocation" accesskey="2">ntpd Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntpd
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="3">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+</table>
+
+<hr>
 <a name="ntpd-Description"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Invocation" accesskey="n" rel="next">ntpd Invocation</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>The <code>ntpd</code> program ordinarily requires
-a configuration file described at <a href="#ntp_002econf">ntp.conf</a>. 
+a configuration file described at &lsquo;ntp.conf&rsquo;.
 This configuration file contains configuration commands described on
-the pages listed above. 
+the pages listed above.
 However a client can discover remote servers and configure them
-automatically. 
+automatically.
 This makes it possible to deploy a fleet of workstations without
 specifying configuration details specific to the local environment.
-
-  <p>The <code>ntpd</code> program normally operates continuously while adjusting the
+</p>
+<p>The <code>ntpd</code> program normally operates continuously while adjusting the
 system time and frequency, but in some cases this might not be
-practical. 
+practical.
 With the <code>-q</code> option <code>ntpd</code> operates as in continuous mode, but
-exits just after setting the clock for the first time. 
+exits just after setting the clock for the first time.
 Most applications will probably want to specify the <code>iburst</code>
-option with the <code>server</code> command. 
+option with the <code>server</code> command.
 With this option an initial volley of messages is exchanged to
-groom the data and set the clock in about ten seconds' time. 
-If nothing is heard after a few minutes' time,
+groom the data and set the clock in about ten seconds&rsquo; time.
+If nothing is heard after a few minutes&rsquo; time,
 the daemon times out and exits without setting the clock.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Invocation" accesskey="1">ntpd Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="2">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntpd-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#ntpd-Description" accesskey="p" rel="prev">ntpd Description</a>, Up: <a href="#ntpd-Description" accesskey="u" rel="up">ntpd Description</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntpd"></a>
+<h3 class="section">1.1 Invoking ntpd</h3>
+<a name="index-ntpd"></a>
+<a name="index-NTP-daemon-program"></a>
 
-<h3 class="section">Invoking ntpd</h3>
 
-<p><a name="index-ntpd-1"></a><a name="index-NTP-daemon-program-2"></a>
 
-  <p>The
+<p>The
 <code>ntpd</code>
 utility is an operating system daemon which sets
 and maintains the system time of day in synchronism with Internet
-standard time servers. 
+standard time servers.
 It is a complete implementation of the
 Network Time Protocol (NTP) version 4, as defined by RFC-5905,
 but also retains compatibility with
 version 3, as defined by RFC-1305, and versions 1
 and 2, as defined by RFC-1059 and RFC-1119, respectively.
-
-  <p>The
+</p>
+<p>The
 <code>ntpd</code>
 utility does most computations in 64-bit floating point
 arithmetic and does relatively clumsy 64-bit fixed point operations
 only when necessary to preserve the ultimate precision, about 232
-picoseconds. 
+picoseconds.
 While the ultimate precision is not achievable with
 ordinary workstations and networks of today, it may be required
 with future gigahertz CPU clocks and gigabit LANs.
-
-  <p>Ordinarily,
+</p>
+<p>Ordinarily,
 <code>ntpd</code>
 reads the
 <code>ntp.conf(5)</code>
 configuration file at startup time in order to determine the
-synchronization sources and operating modes. 
+synchronization sources and operating modes.
 It is also possible to
 specify a working, although limited, configuration entirely on the
-command line, obviating the need for a configuration file. 
+command line, obviating the need for a configuration file.
 This may
 be particularly useful when the local host is to be configured as a
 broadcast/multicast client, with all peers being determined by
 listening to broadcasts at run time.
-
-  <p>If NetInfo support is built into
+</p>
+<p>If NetInfo support is built into
 <code>ntpd</code>
 then
 <code>ntpd</code>
@@ -133,8 +184,8 @@
 specified by the
 <code>-c</code>
 option.
-
-  <p>Various internal
+</p>
+<p>Various internal
 <code>ntpd</code>
 variables can be displayed and
 configuration options altered while the
@@ -145,8 +196,8 @@
 and
 <code>ntpdc(1ntpdcmdoc)</code>
 utility programs.
-
-  <p>When
+</p>
+<p>When
 <code>ntpd</code>
 starts it looks at the value of
 <code>umask(2)</code>,
@@ -155,72 +206,110 @@
 will set the
 <code>umask(2)</code>
 to 022.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpd</code> program. 
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpd</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-usage" accesskey="1">ntpd usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntpd help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-ipv4" accesskey="2">ntpd ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv4 option (-4)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-ipv6" accesskey="3">ntpd ipv6</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv6 option (-6)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-authreq" accesskey="4">ntpd authreq</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">authreq option (-a)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-authnoreq" accesskey="5">ntpd authnoreq</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">authnoreq option (-A)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-configfile" accesskey="6">ntpd configfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">configfile option (-c)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-driftfile" accesskey="7">ntpd driftfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">driftfile option (-f)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-panicgate" accesskey="8">ntpd panicgate</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">panicgate option (-g)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-force_002dstep_002donce" accesskey="9">ntpd force-step-once</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">force-step-once option (-G)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-jaildir">ntpd jaildir</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">jaildir option (-i)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-interface">ntpd interface</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">interface option (-I)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-keyfile">ntpd keyfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">keyfile option (-k)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-logfile">ntpd logfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">logfile option (-l)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-novirtualips">ntpd novirtualips</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">novirtualips option (-L)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-modifymmtimer">ntpd modifymmtimer</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">modifymmtimer option (-M)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-nice">ntpd nice</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">nice option (-N)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-pidfile">ntpd pidfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">pidfile option (-p)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-priority">ntpd priority</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">priority option (-P)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-quit">ntpd quit</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">quit option (-q)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-propagationdelay">ntpd propagationdelay</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">propagationdelay option (-r)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-saveconfigquit">ntpd saveconfigquit</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">saveconfigquit option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-statsdir">ntpd statsdir</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">statsdir option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-trustedkey">ntpd trustedkey</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">trustedkey option (-t)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-user">ntpd user</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">user option (-u)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-updateinterval">ntpd updateinterval</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">updateinterval option (-U)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-wait_002dsync">ntpd wait-sync</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">wait-sync option (-w)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-slew">ntpd slew</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">slew option (-x)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-usepcc">ntpd usepcc</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">usepcc option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-pccfreq">ntpd pccfreq</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">pccfreq option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-mdns">ntpd mdns</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">mdns option (-m)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-config">ntpd config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">presetting/configuring ntpd
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-exit-status">ntpd exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Usage">ntpd Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Files">ntpd Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Files
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-See-Also">ntpd See Also</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">See Also
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Bugs">ntpd Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Bugs
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpd-Notes">ntpd Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Notes
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpd-usage">ntpd usage</a>:                   ntpd help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntpd-ipv4">ntpd ipv4</a>:                    ipv4 option (-4)
-<li><a accesskey="3" href="#ntpd-ipv6">ntpd ipv6</a>:                    ipv6 option (-6)
-<li><a accesskey="4" href="#ntpd-authreq">ntpd authreq</a>:                 authreq option (-a)
-<li><a accesskey="5" href="#ntpd-authnoreq">ntpd authnoreq</a>:               authnoreq option (-A)
-<li><a accesskey="6" href="#ntpd-configfile">ntpd configfile</a>:              configfile option (-c)
-<li><a accesskey="7" href="#ntpd-driftfile">ntpd driftfile</a>:               driftfile option (-f)
-<li><a accesskey="8" href="#ntpd-panicgate">ntpd panicgate</a>:               panicgate option (-g)
-<li><a accesskey="9" href="#ntpd-force_002dstep_002donce">ntpd force-step-once</a>:         force-step-once option (-G)
-<li><a href="#ntpd-jaildir">ntpd jaildir</a>:                 jaildir option (-i)
-<li><a href="#ntpd-interface">ntpd interface</a>:               interface option (-I)
-<li><a href="#ntpd-keyfile">ntpd keyfile</a>:                 keyfile option (-k)
-<li><a href="#ntpd-logfile">ntpd logfile</a>:                 logfile option (-l)
-<li><a href="#ntpd-novirtualips">ntpd novirtualips</a>:            novirtualips option (-L)
-<li><a href="#ntpd-modifymmtimer">ntpd modifymmtimer</a>:           modifymmtimer option (-M)
-<li><a href="#ntpd-nice">ntpd nice</a>:                    nice option (-N)
-<li><a href="#ntpd-pidfile">ntpd pidfile</a>:                 pidfile option (-p)
-<li><a href="#ntpd-priority">ntpd priority</a>:                priority option (-P)
-<li><a href="#ntpd-quit">ntpd quit</a>:                    quit option (-q)
-<li><a href="#ntpd-propagationdelay">ntpd propagationdelay</a>:        propagationdelay option (-r)
-<li><a href="#ntpd-saveconfigquit">ntpd saveconfigquit</a>:          saveconfigquit option
-<li><a href="#ntpd-statsdir">ntpd statsdir</a>:                statsdir option (-s)
-<li><a href="#ntpd-trustedkey">ntpd trustedkey</a>:              trustedkey option (-t)
-<li><a href="#ntpd-user">ntpd user</a>:                    user option (-u)
-<li><a href="#ntpd-updateinterval">ntpd updateinterval</a>:          updateinterval option (-U)
-<li><a href="#ntpd-wait_002dsync">ntpd wait-sync</a>:               wait-sync option (-w)
-<li><a href="#ntpd-slew">ntpd slew</a>:                    slew option (-x)
-<li><a href="#ntpd-usepcc">ntpd usepcc</a>:                  usepcc option
-<li><a href="#ntpd-pccfreq">ntpd pccfreq</a>:                 pccfreq option
-<li><a href="#ntpd-mdns">ntpd mdns</a>:                    mdns option (-m)
-<li><a href="#ntpd-config">ntpd config</a>:                  presetting/configuring ntpd
-<li><a href="#ntpd-exit-status">ntpd exit status</a>:             exit status
-<li><a href="#ntpd-Usage">ntpd Usage</a>:                   Usage
-<li><a href="#ntpd-Files">ntpd Files</a>:                   Files
-<li><a href="#ntpd-See-Also">ntpd See Also</a>:                See Also
-<li><a href="#ntpd-Bugs">ntpd Bugs</a>:                    Bugs
-<li><a href="#ntpd-Notes">ntpd Notes</a>:                   Notes
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntpd-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-ipv4">ntpd ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<hr>
+<a name="ntpd-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-ipv4" accesskey="n" rel="next">ntpd ipv4</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpd-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1.1 ntpd help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntpd-help"></a>
 
-<h4 class="subsection">ntpd help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntpd-help-3"></a>
-This is the automatically generated usage text for ntpd.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntpd.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntpd - NTP daemon program - Ver. 4.2.8p10
+</p>
+<div class="example">
+<pre class="example">ntpd - NTP daemon program - Ver. 4.2.8p12
 Usage:  ntpd [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... \
                 [ &lt;server1&gt; ... &lt;serverN&gt; ]
   Flg Arg Option-Name    Description
@@ -289,149 +378,143 @@
  - examining environment variables named NTPD_*
 
 Please send bug reports to:  &lt;http://bugs.ntp.org, bugs@ntp.org&gt;
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntpd-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-ipv6">ntpd ipv6</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-usage">ntpd usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntpd-ipv4"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-ipv6" accesskey="n" rel="next">ntpd ipv6</a>, Previous: <a href="#ntpd-usage" accesskey="p" rel="prev">ntpd usage</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv4-option-_0028_002d4_0029"></a>
+<h4 class="subsection">1.1.2 ipv4 option (-4)</h4>
+<a name="index-ntpd_002dipv4"></a>
 
-<h4 class="subsection">ipv4 option (-4)</h4>
+<p>This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv6.
+</li></ul>
 
-<p><a name="index-ntpd_002dipv4-4"></a>
-This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv6. 
-</ul>
-
-  <p>Force DNS resolution of following host names on the command line
-to the IPv4 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpd-ipv6"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-authreq">ntpd authreq</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-ipv4">ntpd ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>Force DNS resolution of following host names on the command line
+to the IPv4 namespace.
+</p><hr>
+<a name="ntpd-ipv6"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-authreq" accesskey="n" rel="next">ntpd authreq</a>, Previous: <a href="#ntpd-ipv4" accesskey="p" rel="prev">ntpd ipv4</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv6-option-_0028_002d6_0029"></a>
+<h4 class="subsection">1.1.3 ipv6 option (-6)</h4>
+<a name="index-ntpd_002dipv6"></a>
 
-<h4 class="subsection">ipv6 option (-6)</h4>
+<p>This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv4.
+</li></ul>
 
-<p><a name="index-ntpd_002dipv6-5"></a>
-This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv4. 
-</ul>
-
-  <p>Force DNS resolution of following host names on the command line
-to the IPv6 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpd-authreq"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-authnoreq">ntpd authnoreq</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-ipv6">ntpd ipv6</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>Force DNS resolution of following host names on the command line
+to the IPv6 namespace.
+</p><hr>
+<a name="ntpd-authreq"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-authnoreq" accesskey="n" rel="next">ntpd authnoreq</a>, Previous: <a href="#ntpd-ipv6" accesskey="p" rel="prev">ntpd ipv6</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="authreq-option-_0028_002da_0029"></a>
+<h4 class="subsection">1.1.4 authreq option (-a)</h4>
+<a name="index-ntpd_002dauthreq"></a>
 
-<h4 class="subsection">authreq option (-a)</h4>
+<p>This is the &ldquo;require crypto authentication&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+authnoreq.
+</li></ul>
 
-<p><a name="index-ntpd_002dauthreq-6"></a>
-This is the &ldquo;require crypto authentication&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-authnoreq. 
-</ul>
-
-  <p>Require cryptographic authentication for broadcast client,
-multicast client and symmetric passive associations. 
-This is the default. 
-<div class="node">
-<p><hr>
-<a name="ntpd-authnoreq"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-configfile">ntpd configfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-authreq">ntpd authreq</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>Require cryptographic authentication for broadcast client,
+multicast client and symmetric passive associations.
+This is the default.
+</p><hr>
+<a name="ntpd-authnoreq"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-configfile" accesskey="n" rel="next">ntpd configfile</a>, Previous: <a href="#ntpd-authreq" accesskey="p" rel="prev">ntpd authreq</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="authnoreq-option-_0028_002dA_0029"></a>
+<h4 class="subsection">1.1.5 authnoreq option (-A)</h4>
+<a name="index-ntpd_002dauthnoreq"></a>
 
-<h4 class="subsection">authnoreq option (-A)</h4>
+<p>This is the &ldquo;do not require crypto authentication&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+authreq.
+</li></ul>
 
-<p><a name="index-ntpd_002dauthnoreq-7"></a>
-This is the &ldquo;do not require crypto authentication&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-authreq. 
-</ul>
-
-  <p>Do not require cryptographic authentication for broadcast client,
-multicast client and symmetric passive associations. 
-This is almost never a good idea. 
-<div class="node">
-<p><hr>
-<a name="ntpd-configfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-driftfile">ntpd driftfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-authnoreq">ntpd authnoreq</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>Do not require cryptographic authentication for broadcast client,
+multicast client and symmetric passive associations.
+This is almost never a good idea.
+</p><hr>
+<a name="ntpd-configfile"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-driftfile" accesskey="n" rel="next">ntpd driftfile</a>, Previous: <a href="#ntpd-authnoreq" accesskey="p" rel="prev">ntpd authnoreq</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="configfile-option-_0028_002dc_0029"></a>
+<h4 class="subsection">1.1.6 configfile option (-c)</h4>
+<a name="index-ntpd_002dconfigfile"></a>
 
-<h4 class="subsection">configfile option (-c)</h4>
-
-<p><a name="index-ntpd_002dconfigfile-8"></a>
-This is the &ldquo;configuration file name&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;configuration file name&rdquo; option.
+This option takes a string argument.
 The name and path of the configuration file,
-<span class="file">/etc/ntp.conf</span>
-by default. 
-<div class="node">
-<p><hr>
-<a name="ntpd-driftfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-panicgate">ntpd panicgate</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-configfile">ntpd configfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<samp>/etc/ntp.conf</samp>
+by default.
+</p><hr>
+<a name="ntpd-driftfile"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-panicgate" accesskey="n" rel="next">ntpd panicgate</a>, Previous: <a href="#ntpd-configfile" accesskey="p" rel="prev">ntpd configfile</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="driftfile-option-_0028_002df_0029"></a>
+<h4 class="subsection">1.1.7 driftfile option (-f)</h4>
+<a name="index-ntpd_002ddriftfile"></a>
 
-<h4 class="subsection">driftfile option (-f)</h4>
-
-<p><a name="index-ntpd_002ddriftfile-9"></a>
-This is the &ldquo;frequency drift file name&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;frequency drift file name&rdquo; option.
+This option takes a string argument.
 The name and path of the frequency file,
-<span class="file">/etc/ntp.drift</span>
-by default. 
+<samp>/etc/ntp.drift</samp>
+by default.
 This is the same operation as the
 <code>driftfile</code> <kbd>driftfile</kbd>
 configuration specification in the
-<span class="file">/etc/ntp.conf</span>
-file. 
-<div class="node">
-<p><hr>
-<a name="ntpd-panicgate"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-force_002dstep_002donce">ntpd force-step-once</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-driftfile">ntpd driftfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<samp>/etc/ntp.conf</samp>
+file.
+</p><hr>
+<a name="ntpd-panicgate"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-force_002dstep_002donce" accesskey="n" rel="next">ntpd force-step-once</a>, Previous: <a href="#ntpd-driftfile" accesskey="p" rel="prev">ntpd driftfile</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="panicgate-option-_0028_002dg_0029"></a>
+<h4 class="subsection">1.1.8 panicgate option (-g)</h4>
+<a name="index-ntpd_002dpanicgate"></a>
 
-<h4 class="subsection">panicgate option (-g)</h4>
+<p>This is the &ldquo;allow the first adjustment to be big&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-ntpd_002dpanicgate-10"></a>
-This is the &ldquo;allow the first adjustment to be big&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>Normally,
+<p>Normally,
 <code>ntpd</code>
 exits with a message to the system log if the offset exceeds the panic threshold, which is 1000 s by default. This option allows the time to be set to any value without restriction; however, this can happen only once. If the threshold is exceeded after that,
 <code>ntpd</code>
@@ -439,581 +522,579 @@
 <code>-q</code>
 and
 <code>-x</code>
-options. 
+options.
 See the
 <code>tinker</code>
-configuration file directive for other options. 
-<div class="node">
-<p><hr>
-<a name="ntpd-force_002dstep_002donce"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-jaildir">ntpd jaildir</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-panicgate">ntpd panicgate</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive for other options.
+</p><hr>
+<a name="ntpd-force_002dstep_002donce"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-jaildir" accesskey="n" rel="next">ntpd jaildir</a>, Previous: <a href="#ntpd-panicgate" accesskey="p" rel="prev">ntpd panicgate</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="force_002dstep_002donce-option-_0028_002dG_0029"></a>
+<h4 class="subsection">1.1.9 force-step-once option (-G)</h4>
+<a name="index-ntpd_002dforce_002dstep_002donce"></a>
 
-<h4 class="subsection">force-step-once option (-G)</h4>
-
-<p><a name="index-ntpd_002dforce_002dstep_002donce-11"></a>
-This is the &ldquo;step any initial offset correction.&rdquo; option. 
+<p>This is the &ldquo;step any initial offset correction.&rdquo; option.
 Normally,
 <code>ntpd</code>
 steps the time if the time offset exceeds the step threshold,
-which is 128 ms by default, and otherwise slews the time. 
+which is 128 ms by default, and otherwise slews the time.
 This option forces the initial offset correction to be stepped,
-so the highest time accuracy can be achieved quickly. 
+so the highest time accuracy can be achieved quickly.
 However, this may also cause the time to be stepped back
 so this option must not be used if
-applications requiring monotonic time are running. 
-See the <code>tinker</code> configuration file directive for other options. 
-<div class="node">
-<p><hr>
-<a name="ntpd-jaildir"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-interface">ntpd interface</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-force_002dstep_002donce">ntpd force-step-once</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+applications requiring monotonic time are running.
+See the <code>tinker</code> configuration file directive for other options.
+</p><hr>
+<a name="ntpd-jaildir"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-interface" accesskey="n" rel="next">ntpd interface</a>, Previous: <a href="#ntpd-force_002dstep_002donce" accesskey="p" rel="prev">ntpd force-step-once</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="jaildir-option-_0028_002di_0029"></a>
+<h4 class="subsection">1.1.10 jaildir option (-i)</h4>
+<a name="index-ntpd_002djaildir"></a>
 
-<h4 class="subsection">jaildir option (-i)</h4>
-
-<p><a name="index-ntpd_002djaildir-12"></a>
-This is the &ldquo;jail directory&rdquo; option. 
+<p>This is the &ldquo;jail directory&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>HAVE_DROPROOT</code> during the compilation.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>HAVE_DROPROOT</code> during the compilation. 
-</ul>
-
-  <p>Chroot the server to the directory
+<p>Chroot the server to the directory
 <kbd>jaildir</kbd>
-. 
-This option also implies that the server attempts to drop root privileges at startup. 
+.
+This option also implies that the server attempts to drop root privileges at startup.
 You may need to also specify a
 <code>-u</code>
-option. 
+option.
 This option is only available if the OS supports adjusting the clock
-without full root privileges. 
+without full root privileges.
 This option is supported under NetBSD (configure with
 <code>--enable-clockctl</code>) or Linux (configure with
-<code>--enable-linuxcaps</code>) or Solaris (configure with <code>--enable-solarisprivs</code>). 
-<div class="node">
-<p><hr>
-<a name="ntpd-interface"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-keyfile">ntpd keyfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-jaildir">ntpd jaildir</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<code>--enable-linuxcaps</code>) or Solaris (configure with <code>--enable-solarisprivs</code>).
+</p><hr>
+<a name="ntpd-interface"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-keyfile" accesskey="n" rel="next">ntpd keyfile</a>, Previous: <a href="#ntpd-jaildir" accesskey="p" rel="prev">ntpd jaildir</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="interface-option-_0028_002dI_0029"></a>
+<h4 class="subsection">1.1.11 interface option (-I)</h4>
+<a name="index-ntpd_002dinterface"></a>
 
-<h4 class="subsection">interface option (-I)</h4>
+<p>This is the &ldquo;listen on an interface name or address&rdquo; option.
+This option takes a string argument <samp>iface</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-ntpd_002dinterface-13"></a>
-This is the &ldquo;listen on an interface name or address&rdquo; option. 
-This option takes a string argument <span class="file">iface</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>Open the network address given, or all the addresses associated with the
+<p>Open the network address given, or all the addresses associated with the
 given interface name.  This option may appear multiple times.  This option
-also implies not opening other addresses, except wildcard and localhost. 
+also implies not opening other addresses, except wildcard and localhost.
 This option is deprecated. Please consider using the configuration file
-<code>interface</code> command, which is more versatile. 
-<div class="node">
-<p><hr>
-<a name="ntpd-keyfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-logfile">ntpd logfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-interface">ntpd interface</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<code>interface</code> command, which is more versatile.
+</p><hr>
+<a name="ntpd-keyfile"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-logfile" accesskey="n" rel="next">ntpd logfile</a>, Previous: <a href="#ntpd-interface" accesskey="p" rel="prev">ntpd interface</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="keyfile-option-_0028_002dk_0029"></a>
+<h4 class="subsection">1.1.12 keyfile option (-k)</h4>
+<a name="index-ntpd_002dkeyfile"></a>
 
-<h4 class="subsection">keyfile option (-k)</h4>
-
-<p><a name="index-ntpd_002dkeyfile-14"></a>
-This is the &ldquo;path to symmetric keys&rdquo; option. 
-This option takes a string argument. 
-Specify the name and path of the symmetric key file. 
-<span class="file">/etc/ntp.keys</span>
-is the default. 
+<p>This is the &ldquo;path to symmetric keys&rdquo; option.
+This option takes a string argument.
+Specify the name and path of the symmetric key file.
+<samp>/etc/ntp.keys</samp>
+is the default.
 This is the same operation as the
 <code>keys</code> <kbd>keyfile</kbd>
-configuration file directive. 
-<div class="node">
-<p><hr>
-<a name="ntpd-logfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-novirtualips">ntpd novirtualips</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-keyfile">ntpd keyfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive.
+</p><hr>
+<a name="ntpd-logfile"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-novirtualips" accesskey="n" rel="next">ntpd novirtualips</a>, Previous: <a href="#ntpd-keyfile" accesskey="p" rel="prev">ntpd keyfile</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="logfile-option-_0028_002dl_0029"></a>
+<h4 class="subsection">1.1.13 logfile option (-l)</h4>
+<a name="index-ntpd_002dlogfile"></a>
 
-<h4 class="subsection">logfile option (-l)</h4>
-
-<p><a name="index-ntpd_002dlogfile-15"></a>
-This is the &ldquo;path to the log file&rdquo; option. 
-This option takes a string argument. 
-Specify the name and path of the log file. 
-The default is the system log file. 
+<p>This is the &ldquo;path to the log file&rdquo; option.
+This option takes a string argument.
+Specify the name and path of the log file.
+The default is the system log file.
 This is the same operation as the
 <code>logfile</code> <kbd>logfile</kbd>
-configuration file directive. 
-<div class="node">
-<p><hr>
-<a name="ntpd-novirtualips"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-modifymmtimer">ntpd modifymmtimer</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-logfile">ntpd logfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive.
+</p><hr>
+<a name="ntpd-novirtualips"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-modifymmtimer" accesskey="n" rel="next">ntpd modifymmtimer</a>, Previous: <a href="#ntpd-logfile" accesskey="p" rel="prev">ntpd logfile</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="novirtualips-option-_0028_002dL_0029"></a>
+<h4 class="subsection">1.1.14 novirtualips option (-L)</h4>
+<a name="index-ntpd_002dnovirtualips"></a>
 
-<h4 class="subsection">novirtualips option (-L)</h4>
-
-<p><a name="index-ntpd_002dnovirtualips-16"></a>
-This is the &ldquo;do not listen to virtual interfaces&rdquo; option. 
+<p>This is the &ldquo;do not listen to virtual interfaces&rdquo; option.
 Do not listen to virtual interfaces, defined as those with
 names containing a colon.  This option is deprecated.  Please
 consider using the configuration file <code>interface</code> command, which
-is more versatile. 
-<div class="node">
-<p><hr>
-<a name="ntpd-modifymmtimer"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-nice">ntpd nice</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-novirtualips">ntpd novirtualips</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+is more versatile.
+</p><hr>
+<a name="ntpd-modifymmtimer"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-nice" accesskey="n" rel="next">ntpd nice</a>, Previous: <a href="#ntpd-novirtualips" accesskey="p" rel="prev">ntpd novirtualips</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="modifymmtimer-option-_0028_002dM_0029"></a>
+<h4 class="subsection">1.1.15 modifymmtimer option (-M)</h4>
+<a name="index-ntpd_002dmodifymmtimer"></a>
 
-<h4 class="subsection">modifymmtimer option (-M)</h4>
+<p>This is the &ldquo;modify multimedia timer (windows only)&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>SYS_WINNT</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntpd_002dmodifymmtimer-17"></a>
-This is the &ldquo;modify multimedia timer (windows only)&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>SYS_WINNT</code> during the compilation. 
-</ul>
-
-  <p>Set the Windows Multimedia Timer to highest resolution.  This
+<p>Set the Windows Multimedia Timer to highest resolution.  This
 ensures the resolution does not change while ntpd is running,
-avoiding timekeeping glitches associated with changes. 
-<div class="node">
-<p><hr>
-<a name="ntpd-nice"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-pidfile">ntpd pidfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-modifymmtimer">ntpd modifymmtimer</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+avoiding timekeeping glitches associated with changes.
+</p><hr>
+<a name="ntpd-nice"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-pidfile" accesskey="n" rel="next">ntpd pidfile</a>, Previous: <a href="#ntpd-modifymmtimer" accesskey="p" rel="prev">ntpd modifymmtimer</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="nice-option-_0028_002dN_0029"></a>
+<h4 class="subsection">1.1.16 nice option (-N)</h4>
+<a name="index-ntpd_002dnice"></a>
 
-<h4 class="subsection">nice option (-N)</h4>
-
-<p><a name="index-ntpd_002dnice-18"></a>
-This is the &ldquo;run at high priority&rdquo; option. 
+<p>This is the &ldquo;run at high priority&rdquo; option.
 To the extent permitted by the operating system, run
 <code>ntpd</code>
-at the highest priority. 
-<div class="node">
-<p><hr>
-<a name="ntpd-pidfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-priority">ntpd priority</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-nice">ntpd nice</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+at the highest priority.
+</p><hr>
+<a name="ntpd-pidfile"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-priority" accesskey="n" rel="next">ntpd priority</a>, Previous: <a href="#ntpd-nice" accesskey="p" rel="prev">ntpd nice</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="pidfile-option-_0028_002dp_0029"></a>
+<h4 class="subsection">1.1.17 pidfile option (-p)</h4>
+<a name="index-ntpd_002dpidfile"></a>
 
-<h4 class="subsection">pidfile option (-p)</h4>
-
-<p><a name="index-ntpd_002dpidfile-19"></a>
-This is the &ldquo;path to the pid file&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;path to the pid file&rdquo; option.
+This option takes a string argument.
 Specify the name and path of the file used to record
-<code>ntpd</code>'s
-process ID. 
+<code>ntpd</code>&rsquo;s
+process ID.
 This is the same operation as the
 <code>pidfile</code> <kbd>pidfile</kbd>
-configuration file directive. 
-<div class="node">
-<p><hr>
-<a name="ntpd-priority"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-quit">ntpd quit</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-pidfile">ntpd pidfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive.
+</p><hr>
+<a name="ntpd-priority"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-quit" accesskey="n" rel="next">ntpd quit</a>, Previous: <a href="#ntpd-pidfile" accesskey="p" rel="prev">ntpd pidfile</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="priority-option-_0028_002dP_0029"></a>
+<h4 class="subsection">1.1.18 priority option (-P)</h4>
+<a name="index-ntpd_002dpriority"></a>
 
-<h4 class="subsection">priority option (-P)</h4>
-
-<p><a name="index-ntpd_002dpriority-20"></a>
-This is the &ldquo;process priority&rdquo; option. 
-This option takes a number argument. 
+<p>This is the &ldquo;process priority&rdquo; option.
+This option takes a number argument.
 To the extent permitted by the operating system, run
 <code>ntpd</code>
 at the specified
 <code>sched_setscheduler(SCHED_FIFO)</code>
-priority. 
-<div class="node">
-<p><hr>
-<a name="ntpd-quit"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-propagationdelay">ntpd propagationdelay</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-priority">ntpd priority</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+priority.
+</p><hr>
+<a name="ntpd-quit"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-propagationdelay" accesskey="n" rel="next">ntpd propagationdelay</a>, Previous: <a href="#ntpd-priority" accesskey="p" rel="prev">ntpd priority</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="quit-option-_0028_002dq_0029"></a>
+<h4 class="subsection">1.1.19 quit option (-q)</h4>
+<a name="index-ntpd_002dquit"></a>
 
-<h4 class="subsection">quit option (-q)</h4>
+<p>This is the &ldquo;set the time and quit&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+saveconfigquit, wait-sync.
+</li></ul>
 
-<p><a name="index-ntpd_002dquit-21"></a>
-This is the &ldquo;set the time and quit&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-saveconfigquit, wait-sync. 
-</ul>
-
-  <p><code>ntpd</code>
+<p><code>ntpd</code>
 will not daemonize and will exit after the clock is first
 synchronized.  This behavior mimics that of the
 <code>ntpdate</code>
-program, which will soon be replaced with a shell script. 
+program, which will soon be replaced with a shell script.
 The
 <code>-g</code>
 and
 <code>-x</code>
-options can be used with this option. 
-Note: The kernel time discipline is disabled with this option. 
-<div class="node">
-<p><hr>
-<a name="ntpd-propagationdelay"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-saveconfigquit">ntpd saveconfigquit</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-quit">ntpd quit</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+options can be used with this option.
+Note: The kernel time discipline is disabled with this option.
+</p><hr>
+<a name="ntpd-propagationdelay"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-saveconfigquit" accesskey="n" rel="next">ntpd saveconfigquit</a>, Previous: <a href="#ntpd-quit" accesskey="p" rel="prev">ntpd quit</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="propagationdelay-option-_0028_002dr_0029"></a>
+<h4 class="subsection">1.1.20 propagationdelay option (-r)</h4>
+<a name="index-ntpd_002dpropagationdelay"></a>
 
-<h4 class="subsection">propagationdelay option (-r)</h4>
-
-<p><a name="index-ntpd_002dpropagationdelay-22"></a>
-This is the &ldquo;broadcast/propagation delay&rdquo; option. 
-This option takes a string argument. 
-Specify the default propagation delay from the broadcast/multicast server to this client. This is necessary only if the delay cannot be computed automatically by the protocol. 
-<div class="node">
-<p><hr>
-<a name="ntpd-saveconfigquit"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-statsdir">ntpd statsdir</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-propagationdelay">ntpd propagationdelay</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>This is the &ldquo;broadcast/propagation delay&rdquo; option.
+This option takes a string argument.
+Specify the default propagation delay from the broadcast/multicast server to this client. This is necessary only if the delay cannot be computed automatically by the protocol.
+</p><hr>
+<a name="ntpd-saveconfigquit"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-statsdir" accesskey="n" rel="next">ntpd statsdir</a>, Previous: <a href="#ntpd-propagationdelay" accesskey="p" rel="prev">ntpd propagationdelay</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="saveconfigquit-option"></a>
+<h4 class="subsection">1.1.21 saveconfigquit option</h4>
+<a name="index-ntpd_002dsaveconfigquit"></a>
 
-<h4 class="subsection">saveconfigquit option</h4>
-
-<p><a name="index-ntpd_002dsaveconfigquit-23"></a>
-This is the &ldquo;save parsed configuration and quit&rdquo; option. 
+<p>This is the &ldquo;save parsed configuration and quit&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>SAVECONFIG</code> during the compilation.
+</li><li> must not appear in combination with any of the following options:
+quit, wait-sync.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>SAVECONFIG</code> during the compilation. 
-<li>must not appear in combination with any of the following options:
-quit, wait-sync. 
-</ul>
-
-  <p>Cause <code>ntpd</code> to parse its startup configuration file and save an
+<p>Cause <code>ntpd</code> to parse its startup configuration file and save an
 equivalent to the given filename and exit.  This option was
-designed for automated testing. 
-<div class="node">
-<p><hr>
-<a name="ntpd-statsdir"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-trustedkey">ntpd trustedkey</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-saveconfigquit">ntpd saveconfigquit</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+designed for automated testing.
+</p><hr>
+<a name="ntpd-statsdir"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-trustedkey" accesskey="n" rel="next">ntpd trustedkey</a>, Previous: <a href="#ntpd-saveconfigquit" accesskey="p" rel="prev">ntpd saveconfigquit</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="statsdir-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.1.22 statsdir option (-s)</h4>
+<a name="index-ntpd_002dstatsdir"></a>
 
-<h4 class="subsection">statsdir option (-s)</h4>
-
-<p><a name="index-ntpd_002dstatsdir-24"></a>
-This is the &ldquo;statistics file location&rdquo; option. 
-This option takes a string argument. 
-Specify the directory path for files created by the statistics facility. 
+<p>This is the &ldquo;statistics file location&rdquo; option.
+This option takes a string argument.
+Specify the directory path for files created by the statistics facility.
 This is the same operation as the
 <code>statsdir</code> <kbd>statsdir</kbd>
-configuration file directive. 
-<div class="node">
-<p><hr>
-<a name="ntpd-trustedkey"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-user">ntpd user</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-statsdir">ntpd statsdir</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive.
+</p><hr>
+<a name="ntpd-trustedkey"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-user" accesskey="n" rel="next">ntpd user</a>, Previous: <a href="#ntpd-statsdir" accesskey="p" rel="prev">ntpd statsdir</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="trustedkey-option-_0028_002dt_0029"></a>
+<h4 class="subsection">1.1.23 trustedkey option (-t)</h4>
+<a name="index-ntpd_002dtrustedkey"></a>
 
-<h4 class="subsection">trustedkey option (-t)</h4>
+<p>This is the &ldquo;trusted key number&rdquo; option.
+This option takes a string argument <samp>tkey</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-ntpd_002dtrustedkey-25"></a>
-This is the &ldquo;trusted key number&rdquo; option. 
-This option takes a string argument <span class="file">tkey</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>Add the specified key number to the trusted key list. 
-<div class="node">
-<p><hr>
-<a name="ntpd-user"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-updateinterval">ntpd updateinterval</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-trustedkey">ntpd trustedkey</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<p>Add the specified key number to the trusted key list.
+</p><hr>
+<a name="ntpd-user"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-updateinterval" accesskey="n" rel="next">ntpd updateinterval</a>, Previous: <a href="#ntpd-trustedkey" accesskey="p" rel="prev">ntpd trustedkey</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="user-option-_0028_002du_0029"></a>
+<h4 class="subsection">1.1.24 user option (-u)</h4>
+<a name="index-ntpd_002duser"></a>
 
-<h4 class="subsection">user option (-u)</h4>
-
-<p><a name="index-ntpd_002duser-26"></a>
-This is the &ldquo;run as userid (or userid:groupid)&rdquo; option. 
+<p>This is the &ldquo;run as userid (or userid:groupid)&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>HAVE_DROPROOT</code> during the compilation.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>HAVE_DROPROOT</code> during the compilation. 
-</ul>
-
-  <p>Specify a user, and optionally a group, to switch to. 
+<p>Specify a user, and optionally a group, to switch to.
 This option is only available if the OS supports adjusting the clock
-without full root privileges. 
+without full root privileges.
 This option is supported under NetBSD (configure with
 <code>--enable-clockctl</code>) or Linux (configure with
-<code>--enable-linuxcaps</code>) or Solaris (configure with <code>--enable-solarisprivs</code>). 
-<div class="node">
-<p><hr>
-<a name="ntpd-updateinterval"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-wait_002dsync">ntpd wait-sync</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-user">ntpd user</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<code>--enable-linuxcaps</code>) or Solaris (configure with <code>--enable-solarisprivs</code>).
+</p><hr>
+<a name="ntpd-updateinterval"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-wait_002dsync" accesskey="n" rel="next">ntpd wait-sync</a>, Previous: <a href="#ntpd-user" accesskey="p" rel="prev">ntpd user</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="updateinterval-option-_0028_002dU_0029"></a>
+<h4 class="subsection">1.1.25 updateinterval option (-U)</h4>
+<a name="index-ntpd_002dupdateinterval"></a>
 
-<h4 class="subsection">updateinterval option (-U)</h4>
-
-<p><a name="index-ntpd_002dupdateinterval-27"></a>
-This is the &ldquo;interval in seconds between scans for new or dropped interfaces&rdquo; option. 
-This option takes a number argument. 
-Give the time in seconds between two scans for new or dropped interfaces. 
+<p>This is the &ldquo;interval in seconds between scans for new or dropped interfaces&rdquo; option.
+This option takes a number argument.
+Give the time in seconds between two scans for new or dropped interfaces.
 For systems with routing socket support the scans will be performed shortly after the interface change
-has been detected by the system. 
-Use 0 to disable scanning. 60 seconds is the minimum time between scans. 
-<div class="node">
-<p><hr>
-<a name="ntpd-wait_002dsync"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-slew">ntpd slew</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-updateinterval">ntpd updateinterval</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+has been detected by the system.
+Use 0 to disable scanning. 60 seconds is the minimum time between scans.
+</p><hr>
+<a name="ntpd-wait_002dsync"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-slew" accesskey="n" rel="next">ntpd slew</a>, Previous: <a href="#ntpd-updateinterval" accesskey="p" rel="prev">ntpd updateinterval</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="wait_002dsync-option-_0028_002dw_0029"></a>
+<h4 class="subsection">1.1.26 wait-sync option (-w)</h4>
+<a name="index-ntpd_002dwait_002dsync"></a>
 
-<h4 class="subsection">wait-sync option (-w)</h4>
-
-<p><a name="index-ntpd_002dwait_002dsync-28"></a>
-This is the &ldquo;seconds to wait for first clock sync&rdquo; option. 
+<p>This is the &ldquo;seconds to wait for first clock sync&rdquo; option.
 This option takes a number argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>HAVE_WORKING_FORK</code> during the compilation.
+</li><li> must not appear in combination with any of the following options:
+nofork, quit, saveconfigquit.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>HAVE_WORKING_FORK</code> during the compilation. 
-<li>must not appear in combination with any of the following options:
-nofork, quit, saveconfigquit. 
-</ul>
-
-  <p>If greater than zero, alters <code>ntpd</code>'s behavior when forking to
+<p>If greater than zero, alters <code>ntpd</code>&rsquo;s behavior when forking to
 daemonize.  Instead of exiting with status 0 immediately after
 the fork, the parent waits up to the specified number of
 seconds for the child to first synchronize the clock.  The exit
 status is zero (success) if the clock was synchronized,
-otherwise it is <code>ETIMEDOUT</code>. 
+otherwise it is <code>ETIMEDOUT</code>.
 This provides the option for a script starting <code>ntpd</code> to easily
-wait for the first set of the clock before proceeding. 
-<div class="node">
-<p><hr>
-<a name="ntpd-slew"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-usepcc">ntpd usepcc</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-wait_002dsync">ntpd wait-sync</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+wait for the first set of the clock before proceeding.
+</p><hr>
+<a name="ntpd-slew"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-usepcc" accesskey="n" rel="next">ntpd usepcc</a>, Previous: <a href="#ntpd-wait_002dsync" accesskey="p" rel="prev">ntpd wait-sync</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="slew-option-_0028_002dx_0029"></a>
+<h4 class="subsection">1.1.27 slew option (-x)</h4>
+<a name="index-ntpd_002dslew"></a>
 
-<h4 class="subsection">slew option (-x)</h4>
-
-<p><a name="index-ntpd_002dslew-29"></a>
-This is the &ldquo;slew up to 600 seconds&rdquo; option. 
-Normally, the time is slewed if the offset is less than the step threshold, which is 128 ms by default, and stepped if above the threshold. 
-This option sets the threshold to 600 s, which is well within the accuracy window to set the clock manually. 
-Note: Since the slew rate of typical Unix kernels is limited to 0.5 ms/s, each second of adjustment requires an amortization interval of 2000 s. 
-Thus, an adjustment as much as 600 s will take almost 14 days to complete. 
+<p>This is the &ldquo;slew up to 600 seconds&rdquo; option.
+Normally, the time is slewed if the offset is less than the step threshold, which is 128 ms by default, and stepped if above the threshold.
+This option sets the threshold to 600 s, which is well within the accuracy window to set the clock manually.
+Note: Since the slew rate of typical Unix kernels is limited to 0.5 ms/s, each second of adjustment requires an amortization interval of 2000 s.
+Thus, an adjustment as much as 600 s will take almost 14 days to complete.
 This option can be used with the
 <code>-g</code>
 and
 <code>-q</code>
-options. 
+options.
 See the
 <code>tinker</code>
-configuration file directive for other options. 
-Note: The kernel time discipline is disabled with this option. 
-<div class="node">
-<p><hr>
-<a name="ntpd-usepcc"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-pccfreq">ntpd pccfreq</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-slew">ntpd slew</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+configuration file directive for other options.
+Note: The kernel time discipline is disabled with this option.
+</p><hr>
+<a name="ntpd-usepcc"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-pccfreq" accesskey="n" rel="next">ntpd pccfreq</a>, Previous: <a href="#ntpd-slew" accesskey="p" rel="prev">ntpd slew</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="usepcc-option"></a>
+<h4 class="subsection">1.1.28 usepcc option</h4>
+<a name="index-ntpd_002dusepcc"></a>
 
-<h4 class="subsection">usepcc option</h4>
+<p>This is the &ldquo;use cpu cycle counter (windows only)&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>SYS_WINNT</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntpd_002dusepcc-30"></a>
-This is the &ldquo;use cpu cycle counter (windows only)&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>SYS_WINNT</code> during the compilation. 
-</ul>
-
-  <p>Attempt to substitute the CPU counter for <code>QueryPerformanceCounter</code>. 
+<p>Attempt to substitute the CPU counter for <code>QueryPerformanceCounter</code>.
 The CPU counter and <code>QueryPerformanceCounter</code> are compared, and if
 they have the same frequency, the CPU counter (RDTSC on x86) is
-used directly, saving the overhead of a system call. 
-<div class="node">
-<p><hr>
-<a name="ntpd-pccfreq"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-mdns">ntpd mdns</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-usepcc">ntpd usepcc</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+used directly, saving the overhead of a system call.
+</p><hr>
+<a name="ntpd-pccfreq"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-mdns" accesskey="n" rel="next">ntpd mdns</a>, Previous: <a href="#ntpd-usepcc" accesskey="p" rel="prev">ntpd usepcc</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="pccfreq-option"></a>
+<h4 class="subsection">1.1.29 pccfreq option</h4>
+<a name="index-ntpd_002dpccfreq"></a>
 
-<h4 class="subsection">pccfreq option</h4>
-
-<p><a name="index-ntpd_002dpccfreq-31"></a>
-This is the &ldquo;force cpu cycle counter use (windows only)&rdquo; option. 
+<p>This is the &ldquo;force cpu cycle counter use (windows only)&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>SYS_WINNT</code> during the compilation.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>SYS_WINNT</code> during the compilation. 
-</ul>
-
-  <p>Force substitution the CPU counter for <code>QueryPerformanceCounter</code>. 
+<p>Force substitution the CPU counter for <code>QueryPerformanceCounter</code>.
 The CPU counter (RDTSC on x86) is used unconditionally with the
-given frequency (in Hz). 
-<div class="node">
-<p><hr>
-<a name="ntpd-mdns"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-config">ntpd config</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-pccfreq">ntpd pccfreq</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+given frequency (in Hz).
+</p><hr>
+<a name="ntpd-mdns"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-config" accesskey="n" rel="next">ntpd config</a>, Previous: <a href="#ntpd-pccfreq" accesskey="p" rel="prev">ntpd pccfreq</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="mdns-option-_0028_002dm_0029"></a>
+<h4 class="subsection">1.1.30 mdns option (-m)</h4>
+<a name="index-ntpd_002dmdns"></a>
 
-<h4 class="subsection">mdns option (-m)</h4>
+<p>This is the &ldquo;register with mdns as a ntp server&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>HAVE_DNSREGISTRATION</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntpd_002dmdns-32"></a>
-This is the &ldquo;register with mdns as a ntp server&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>HAVE_DNSREGISTRATION</code> during the compilation. 
-</ul>
-
-  <p>Registers as an NTP server with the local mDNS server which allows
+<p>Registers as an NTP server with the local mDNS server which allows
 the server to be discovered via mDNS client lookup.
+</p>
 
-<div class="node">
-<p><hr>
-<a name="ntpd-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-exit-status">ntpd exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-mdns">ntpd mdns</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<hr>
+<a name="ntpd-config"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-exit-status" accesskey="n" rel="next">ntpd exit status</a>, Previous: <a href="#ntpd-mdns" accesskey="p" rel="prev">ntpd mdns</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="presetting_002fconfiguring-ntpd"></a>
+<h4 class="subsection">1.1.31 presetting/configuring ntpd</h4>
 
-<h4 class="subsection">presetting/configuring ntpd</h4>
-
 <p>Any option that is not marked as <i>not presettable</i> may be preset by
 loading values from environment variables named <code>NTPD</code> and <code>NTPD_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
-the options listed above in upper case and segmented with underscores. 
+the options listed above in upper case and segmented with underscores.
 The <code>NTPD</code> variable will be tokenized and parsed like
 the command line.  The remaining variables are tested for existence and their
 values are treated like option arguments.
+</p>
 
-  <p>The command line options relating to configuration and/or usage help are:
+<p>The command line options relating to configuration and/or usage help are:
+</p>
+<a name="version-_0028_002d_0029"></a>
+<h4 class="subsubheading">version (-)</h4>
 
-<h5 class="subsubheading">version (-)</h5>
-
 <p>Print the program version to standard out, optionally with licensing
 information, then exit 0.  The optional argument specifies how much licensing
-detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument. 
+detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.
 Only the first letter of the argument is examined:
-
-     <dl>
-<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
-<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
-<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
+</p>
+<dl compact="compact">
+<dt>&lsquo;<samp>version</samp>&rsquo;</dt>
+<dd><p>Only print the version.  This is the default.
+</p></dd>
+<dt>&lsquo;<samp>copyright</samp>&rsquo;</dt>
+<dd><p>Name the copyright usage licensing terms.
+</p></dd>
+<dt>&lsquo;<samp>verbose</samp>&rsquo;</dt>
+<dd><p>Print the full copyright usage licensing terms.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="ntpd-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-Usage">ntpd Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-config">ntpd config</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<hr>
+<a name="ntpd-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Usage" accesskey="n" rel="next">ntpd Usage</a>, Previous: <a href="#ntpd-config" accesskey="p" rel="prev">ntpd config</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpd-exit-status-1"></a>
+<h4 class="subsection">1.1.32 ntpd exit status</h4>
 
-<h4 class="subsection">ntpd exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="ntpd-Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-Files">ntpd Files</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-exit-status">ntpd exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<hr>
+<a name="ntpd-Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Files" accesskey="n" rel="next">ntpd Files</a>, Previous: <a href="#ntpd-exit-status" accesskey="p" rel="prev">ntpd exit status</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpd Usage</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpd-Files"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-See-Also">ntpd See Also</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-Usage">ntpd Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<a name="ntpd-Usage-1"></a>
+<h4 class="subsection">1.1.33 ntpd Usage</h4>
+<hr>
+<a name="ntpd-Files"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-See-Also" accesskey="n" rel="next">ntpd See Also</a>, Previous: <a href="#ntpd-Usage" accesskey="p" rel="prev">ntpd Usage</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpd Files</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpd-See-Also"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-Bugs">ntpd Bugs</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-Files">ntpd Files</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<a name="ntpd-Files-1"></a>
+<h4 class="subsection">1.1.34 ntpd Files</h4>
+<hr>
+<a name="ntpd-See-Also"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Bugs" accesskey="n" rel="next">ntpd Bugs</a>, Previous: <a href="#ntpd-Files" accesskey="p" rel="prev">ntpd Files</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpd See Also</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpd-Bugs"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpd-Notes">ntpd Notes</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-See-Also">ntpd See Also</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<a name="ntpd-See-Also-1"></a>
+<h4 class="subsection">1.1.35 ntpd See Also</h4>
+<hr>
+<a name="ntpd-Bugs"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpd-Notes" accesskey="n" rel="next">ntpd Notes</a>, Previous: <a href="#ntpd-See-Also" accesskey="p" rel="prev">ntpd See Also</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpd Bugs</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpd-Notes"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpd-Bugs">ntpd Bugs</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpd-Invocation">ntpd Invocation</a>
-<br>
+<a name="ntpd-Bugs-1"></a>
+<h4 class="subsection">1.1.36 ntpd Bugs</h4>
+<hr>
+<a name="ntpd-Notes"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntpd-Bugs" accesskey="p" rel="prev">ntpd Bugs</a>, Up: <a href="#ntpd-Invocation" accesskey="u" rel="up">ntpd Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpd-Notes-1"></a>
+<h4 class="subsection">1.1.37 ntpd Notes</h4>
 
-<h4 class="subsection">ntpd Notes</h4>
-
-<div class="node">
-<p><hr>
+<hr>
 <a name="Usage"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#ntpd-Invocation" accesskey="p" rel="prev">ntpd Invocation</a>, Up: <a href="#ntpd-Description" accesskey="u" rel="up">ntpd Description</a> &nbsp; </p>
 </div>
+<a name="Usage-1"></a>
+<h3 class="section">1.2 Usage</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Usage</h3>
+<table>
+<thead><tr><th width="23%">What</th><th width="23%">Default</th><th width="5%">Flag</th><th width="15%">Option</th></tr></thead>
+<tr><td width="23%">configuration file</td><td width="23%"><code>/etc/ntp.conf</code></td><td width="5%"><code>-c</code></td><td width="15%"><code>conffile</code></td></tr>
+<tr><td width="23%">frequency file</td><td width="23%">none</td><td width="5%"><code>-f</code></td><td width="15%"><code>driftfile</code></td></tr>
+<tr><td width="23%">leapseconds file</td><td width="23%">none</td><td width="5%"></td><td width="15%"><code>leapfile</code></td></tr>
+<tr><td width="23%">process ID file</td><td width="23%">none</td><td width="5%"><code>-p</code></td><td width="15%"><code>pidfile</code></td></tr>
+<tr><td width="23%">log file</td><td width="23%">system log</td><td width="5%"><code>-l</code></td><td width="15%"><code>logfile</code></td></tr>
+<tr><td width="23%">include file</td><td width="23%">none</td><td width="5%">none</td><td width="15%"><code>includefile</code></td></tr>
+<tr><td width="23%">statistics path</td><td width="23%"><code>/var/NTP</code></td><td width="5%"><code>-s</code></td><td width="15%"><code>statsdir</code></td></tr>
+<tr><td width="23%">keys path</td><td width="23%"><code>/usr/local/etc</code></td><td width="5%"><code>-k</code></td><td width="15%"><code>keysdir</code></td></tr>
+</table>
+<hr>
 
+
+
+</body>
+</html>
--- contrib/ntp/ntpd/ntpd.man.in.orig
+++ contrib/ntp/ntpd/ntpd.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpd @NTPD_MS@ "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpd @NTPD_MS@ "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-Ffa4WQ/ag-RfaWVQ)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:14:30 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:46 AM by AutoGen 5.18.5
 .\" From the definitions ntpd-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpd/ntpd.mdoc.in.orig
+++ contrib/ntp/ntpd/ntpd.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPD @NTPD_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpd-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:47 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:37 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpd-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpd/rc_cmdlength.c.orig
+++ contrib/ntp/ntpd/rc_cmdlength.c
@@ -5,6 +5,8 @@
 # include <unistd.h>
 #endif
 
+// XXX: Move to header.
+size_t remoteconfig_cmdlength( const char *, const char *);
 
 /* Bug 2853 */
 /* evaluate the length of the command sequence. This breaks at the first
--- contrib/ntp/ntpd/refclock_bancomm.c.orig
+++ contrib/ntp/ntpd/refclock_bancomm.c
@@ -60,6 +60,9 @@
 #include <stdio.h>
 #include <syslog.h>
 #include <ctype.h>
+#ifdef HAVE_SYS_IOCTL_H
+# include <sys/ioctl.h>
+#endif
 
 struct btfp_time                /* Structure for reading 5 time words   */
                                 /* in one ioctl(2) operation.           */
@@ -74,17 +77,16 @@
 #define IOCIOWN( l, n, s ) ( BTFPIOC | n )
 
 /***** Simple ioctl commands *****/
-#define RUNLOCK     	IOCIOR(b, 19, int )  /* Release Capture Lockout */
-#define RCR0      	IOCIOR(b, 22, int )  /* Read control register zero.*/
-#define	WCR0		IOCIOWN(b, 23, int)	     /* Write control register zero*/
+#define RUNLOCK		IOCIOR(b, 19, int )  /* Release Capture Lockout */
+#define RCR0		IOCIOR(b, 22, int )  /* Read control register zero.*/
+#define	WCR0		IOCIOWN(b, 23, int)  /* Write control register zero*/
 /***** Compound ioctl commands *****/
 
 /* Read all 5 time words in one call.   */
-#define READTIME	IOCIORN(b, 32, sizeof( struct btfp_time ))
-
 #if defined(__FreeBSD__) 
-#undef  READTIME
-#define READTIME	_IOR('u', 5, struct btfp_time )
+# define READTIME	_IOR('u', 5, struct btfp_time )
+#else
+# define READTIME	IOCIORN(b, 32, sizeof( struct btfp_time ))
 #endif 
 
 /* Solaris specific section */
@@ -165,8 +167,42 @@
 struct vmedate *get_datumtime(struct vmedate *);	
 void	tvme_fill(struct vmedate *, uint32_t btm[2]);
 void	stfp_time2tvme(struct vmedate *time_vme, struct stfp_time *stfp);
-inline const char *DEVICE_NAME(int n);
+static const char *get_devicename(int n);
 
+/* [Bug 3558] and [Bug 1674]  perlinger@ntp.org says:
+ *
+ * bcReadBinTime() is defined to use two DWORD pointers on Windows and
+ * Linux in the BANCOMM SDK.  DWORD is of course Windows-specific
+ * (*shudder*), and it is defined as 'unsigned long' under
+ * Linux/Unix. (*sigh*)
+ *
+ * This creates quite some headache.  The size of 'unsigned long' is
+ * platform/compiler/memory-model dependent (LP32 vs LP64 vs LLP64),
+ * while the card itself always creates 32bit time stamps.  What a
+ * bummer.  And DWORD has tendency to contain 64bit on Win64 (which is
+ * why we have a DWORD32 defined on Win64) so it can be used as
+ * substitute for 'UINT_PTR' in Windows API headers.  I won't even try
+ * to comment on that, because anything I have to say will not be civil.
+ *
+ * We work around this by possibly using a wrapper function that makes
+ * the necessary conversions/casts.  It might be a bit tricky to
+ * maintain the conditional logic below, but any lingering disease needs
+ * constant care to avoid a breakout.
+ */
+#if defined(__linux__)
+  typedef unsigned long bcBinTimeT;
+# if SIZEOF_LONG == 4
+#   define safeReadBinTime bcReadBinTime
+# endif
+#elif defined(SYS_WINNT)
+  typedef DWORD bcBinTimeT;
+# if !defined(_WIN64) || _WIN64 == 0
+#   define safeReadBinTime bcReadBinTime
+# endif
+#else
+  typedef uint32_t bcBinTimeT;
+# define safeReadBinTime bcReadBinTime
+#endif
 
 /*
  * Define the bc*() functions as weak so we can compile/link without them.
@@ -173,10 +209,34 @@
  * Only clients with the card will have the proprietary vendor device driver
  * and interface library needed for use on Linux/Windows platforms.
  */
-extern uint32_t __attribute__ ((weak)) bcReadBinTime(SYMMT_PCI_HANDLE, uint32_t *, uint32_t*, uint8_t*);
+extern uint32_t __attribute__ ((weak)) bcReadBinTime(SYMMT_PCI_HANDLE, bcBinTimeT*, bcBinTimeT*, uint8_t*);
 extern SYMMT_PCI_HANDLE __attribute__ ((weak)) bcStartPci(void);
 extern void __attribute__ ((weak)) bcStopPci(SYMMT_PCI_HANDLE);
 
+/* This is the conversion wrapper for the long/DWORD/uint32_t clash in
+ * reading binary times.
+ */
+#ifndef safeReadBinTime
+static uint32_t
+safeReadBinTime(
+	SYMMT_PCI_HANDLE hnd,
+	uint32_t        *pt1,
+	uint32_t        *pt2,
+	uint8_t         *p3
+	)
+{
+	bcBinTimeT t1, t2;
+	uint32_t   rc;
+
+	rc = bcReadBinTime(hnd, &t1, &t2, p3);
+	if (rc != 0) {
+		*pt1 = (uint32_t)t1;
+		*pt2 = (uint32_t)t2;
+	}
+	return rc;
+}
+#endif /* !defined(safeReadBinTime) */
+
 /*
  * Transfer vector
  */
@@ -195,15 +255,27 @@
 int tfp_type;	/* mode selector, indicate platform and driver interface */
 SYMMT_PCI_HANDLE stfp_handle;
 
-/** 
- * this macro returns the device name based on
- * the platform we are running on and the device number
+/* This helper function returns the device name based on the platform we
+ * are running on and the device number.
+ *
+ * Uses a static buffer, so the result is valid only to the next call of
+ * this function!
  */
-#if defined(__sun__)
-inline const char *DEVICE_NAME(int n) {static char s[20]={0}; snprintf(s,19,"/dev/stfp%d",n);return s;}
-#else
-inline const char* DEVICE_NAME(int n) {static char s[20]={0}; snprintf(s,19,"/dev/btfp%d",n);return s;}
-#endif /**__sun__**/
+static const char*
+get_devicename(int n)
+{
+	
+#   if defined(__sun__)
+	static const char * const template ="/dev/stfp%d";
+#   else
+	static const char * const template ="/dev/btfp%d";
+#   endif
+	static char namebuf[20];
+	
+	snprintf(namebuf, sizeof(namebuf), template, n);
+	namebuf[sizeof(namebuf)-1] = '\0'; /* paranoia rulez! */
+	return namebuf;
+}
 
 /*
  * vme_start - open the VME device and initialize data for processing
@@ -235,9 +307,9 @@
 	 */
 #ifdef DEBUG
 
-	printf("Opening DATUM DEVICE %s\n",DEVICE_NAME(peer->refclkunit));
+	printf("Opening DATUM DEVICE %s\n",get_devicename(peer->refclkunit));
 #endif
-	if ( (fd_vme = open(DEVICE_NAME(peer->refclkunit), O_RDWR)) < 0) {
+	if ( (fd_vme = open(get_devicename(peer->refclkunit), O_RDWR)) < 0) {
 		msyslog(LOG_ERR, "vme_start: failed open of %s: %m", vmedev);
 		return (0);
 	}
@@ -433,7 +505,7 @@
 			break;
 
 		case 2:				/* Linux/Windows, PCI, 2 32bit time words */
-			if (bcReadBinTime(stfp_handle, &btm[1], &btm[0], &dmy) == 0) {
+			if (safeReadBinTime(stfp_handle, &btm[1], &btm[0], &dmy) == 0) {
 	    		msyslog(LOG_ERR, "get_datumtime error: %m"); 
 				return(NULL);
 			}
@@ -512,10 +584,11 @@
 tvme_fill(struct vmedate *time_vme, uint32_t btm[2])
 {
 	struct tm maj;
-	uint32_t dmaj, dmin;
+	time_t   dmaj;
+	uint32_t dmin;
 
-	dmaj = btm[1];			/* syntax sugar */
-	dmin = btm[0];
+	dmaj = btm[1];			/* syntax sugar & expansion */
+	dmin = btm[0];			/* just syntax sugar */
 
 	gmtime_r(&dmaj, &maj);
 	time_vme->day  = maj.tm_yday+1;
--- contrib/ntp/ntpd/refclock_datum.c.orig
+++ contrib/ntp/ntpd/refclock_datum.c
@@ -485,7 +485,8 @@
 	struct recvbuf *rbufp
 	)
 {
-	int i, nb;
+	int i;
+	size_t nb;
 	l_fp tstmp;
 	struct peer *p;
 	struct datum_pts_unit *datum_pts;
--- contrib/ntp/ntpd/refclock_gpsdjson.c.orig
+++ contrib/ntp/ntpd/refclock_gpsdjson.c
@@ -1136,7 +1136,7 @@
 	const json_ctx * ctx,
 	tok_ref          tid)
 {
-	if (tid >= 0 && (u_int)tid < ctx->ntok) {
+	if (tid >= 0 && tid < ctx->ntok) {
 		int len = ctx->tok[tid].size;
 		/* For arrays and objects, the size is the number of
 		 * ITEMS in the compound. Thats the number of objects in
@@ -1164,7 +1164,7 @@
 		/* The next condition should never be true, but paranoia
 		 * prevails...
 		 */
-		if (tid < 0 || (u_int)tid > ctx->ntok)
+		if (tid < 0 || tid > ctx->ntok)
 			tid = ctx->ntok;
 	}
 	return tid;
--- contrib/ntp/ntpd/refclock_jupiter.c.orig
+++ contrib/ntp/ntpd/refclock_jupiter.c
@@ -139,8 +139,7 @@
 static	u_short	jupiter_cksum	(u_short *, u_int);
 static	int	jupiter_config	(struct instance *);
 static	void	jupiter_debug	(struct peer *, const char *,
-				 const char *, ...)
-			__attribute__ ((format (printf, 3, 4)));
+				 const char *, ...) NTP_PRINTF(3, 4);
 static	const char *	jupiter_parse_t	(struct instance *, u_short *);
 static	const char *	jupiter_parse_gpos	(struct instance *, u_short *);
 static	void	jupiter_platform	(struct instance *, u_int);
@@ -159,10 +158,6 @@
 static	void	jupiter_shutdown(int, struct peer *);
 static	int	jupiter_start	(int, struct peer *);
 
-static	u_int	get_full_week(u_int base_week, u_int gpos_week);
-static	u_int	get_base_week(void);
-
-
 /*
  * Transfer vector
  */
@@ -856,8 +851,7 @@
 	}
 
 	instance->gpos_sweek = DS2UI(jg->sweek);
-	instance->gpos_gweek = get_full_week(get_base_week(),
-					     getshort(jg->gweek));
+	instance->gpos_gweek = basedate_expand_gpsweek(getshort(jg->gweek));
 
 	/* according to the protocol spec, the seconds-in-week cannot
 	 * exceed the nominal value: Is it really necessary to normalise
@@ -1130,56 +1124,6 @@
 	return (cc);
 }
 
-static u_int
-get_base_week(void)
-{
-	static int 	init_done /* = 0 */;
-	static u_int	base_week;
-
-	/* Get the build date, convert to days since GPS epoch and
-	 * finally weeks since GPS epoch.  Note that the build stamp is
-	 * trusted once it is fetched -- only dates before the GPS epoch
-	 * are not permitted. This will permit proper synchronisation
-	 * for a time range of 1024 weeks starting with 00:00:00 of the
-	 * last Sunday on or before the build time.
-	 *
-	 * If the impossible happens and fetching the build date fails,
-	 * a 1024-week cycle starting with 2016-01-03 is assumed to
-	 * avoid catastropic errors. This will work until 2035-08-19.
-	 */
-	if (!init_done) {
-		struct calendar bd;
-		if (ntpcal_get_build_date(&bd)) {
-			int32_t days = ntpcal_date_to_rd(&bd);
-			if (days > RDN_GPS_EPOCH)
-				days -= RDN_GPS_EPOCH;
-			else
-				days = 0;
-			base_week = days / 7; 
-		} else {
-			base_week = 1878; /* 2016-01-03, Sunday */
-			msyslog(LOG_ERR,
-				"refclock_jupiter: ntpcal_get_build_date() failed: %s",
-				"using 2016-01-03 as GPS base!");
-		}
-		init_done = 1;
-	}
-	return base_week;
-}
-
-static u_int
-get_full_week(
-	u_int base_week,
-	u_int gpos_week
-	)
-{
-	/* Periodic extension on base week. Since the period is 1024
-	 * weeks and we do unsigned arithmetic here, we can do wonderful
-	 * things with masks and the well-defined overflow behaviour.
-	 */
-	return base_week + ((gpos_week - base_week) & 1023);
-}
-
 #else /* not (REFCLOCK && CLOCK_JUPITER && HAVE_PPSAPI) */
 int refclock_jupiter_bs;
 #endif /* not (REFCLOCK && CLOCK_JUPITER && HAVE_PPSAPI) */
--- contrib/ntp/ntpd/refclock_parse.c.orig
+++ contrib/ntp/ntpd/refclock_parse.c
@@ -4256,8 +4256,7 @@
 		struct tm *tm;
 		int nc;
 
-		if (wnlsf < GPSWRAP)
-			wnlsf += GPSWEEKS;
+		wnlsf = basedate_expand_gpsweek(wnlsf);
 		/* 'wnt' not used here: would need the same treatment as 'wnlsf */
 
 		t_ls = (time_t) wnlsf * SECSPERWEEK
--- contrib/ntp/ntpd/refclock_shm.c.orig
+++ contrib/ntp/ntpd/refclock_shm.c
@@ -340,6 +340,7 @@
         if (pp->coderecv != pp->codeproc) {
 		/* have some samples, everything OK */
 		pp->lastref = pp->lastrec;
+		refclock_report(peer, CEVNT_NOMINAL);
 		refclock_receive(peer);
 	} else if (NULL == up->shm) { /* is this possible at all? */
 		/* we're out of business without SHM access */
--- contrib/ntp/ntpd/refclock_true.c.orig
+++ contrib/ntp/ntpd/refclock_true.c
@@ -640,7 +640,7 @@
 		size_t len = strlen(cmd);
 
 		true_debug(peer, "Send '%s'\n", cmd);
-		if (write(pp->io.fd, cmd, (unsigned)len) != len)
+		if (write(pp->io.fd, cmd, len) != (ssize_t)len)
 			refclock_report(peer, CEVNT_FAULT);
 		else
 			pp->polls++;
--- contrib/ntp/ntpdate/Makefile.in.orig
+++ contrib/ntp/ntpdate/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/ntpdate/ntpdate.c.orig
+++ contrib/ntp/ntpdate/ntpdate.c
@@ -154,7 +154,7 @@
 /*
  * Systemwide parameters and flags
  */
-int sys_samples = DEFSAMPLES;	/* number of samples/server */
+int sys_samples = 0;		/* number of samples/server, will be modified later */
 u_long sys_timeout = DEFTIMEOUT; /* timeout time, in TIMER_HZ units */
 struct server *sys_servers;	/* the server list */
 int sys_numservers = 0; 	/* number of servers to poll */
@@ -220,7 +220,7 @@
 static	int l_adj_systime	(l_fp *);
 static	int l_step_systime	(l_fp *);
 
-static	void	printserver (struct server *, FILE *);
+static	void	print_server (struct server *, FILE *);
 
 #ifdef SYS_WINNT
 int 	on = 1;
@@ -429,7 +429,7 @@
 		default:
 			break;
 	    }
-	
+
 	if (errflg) {
 		(void) fprintf(stderr,
 		    "usage: %s [-46bBdqsuv] [-a key#] [-e delay] [-k file] [-p samples] [-o version#] [-t timeo] server ...\n",
@@ -437,6 +437,14 @@
 		exit(2);
 	}
 
+	/*
+	 * If number of Samples (-p) not specified by user:
+	 * - if a simple_query (-q) just ONE will do
+	 * - otherwise the normal is DEFSAMPLES
+	 */
+	if (sys_samples == 0)
+		 sys_samples = (simple_query ? 1 : DEFSAMPLES);
+
 	if (debug || simple_query) {
 #ifdef HAVE_SETVBUF
 		static char buf[BUFSIZ];
@@ -651,9 +659,6 @@
 {
 	struct pkt xpkt;
 
-	if (debug)
-		printf("transmit(%s)\n", stoa(&server->srcadr));
-
 	if (server->filter_nextpt < server->xmtcnt) {
 		l_fp ts;
 		/*
@@ -674,6 +679,9 @@
 		return;
 	}
 
+	if (debug)
+		printf("transmit(%s)\n", stoa(&server->srcadr));
+
 	/*
 	 * If we're here, send another message to the server.  Fill in
 	 * the packet and let 'er rip.
@@ -849,7 +857,7 @@
 	NTOHL_FP(&rpkt->xmt, &server->org);
 
 	/*
-	 * Make sure the server is at least somewhat sane.	If not, try
+	 * Make sure the server is at least somewhat sane. If not, try
 	 * again.
 	 */
 	if (L_ISZERO(&rec) || !L_ISHIS(&server->org, &rec)) {
@@ -956,7 +964,7 @@
 	int ord[NTP_SHIFT];
 
 	INSIST((0 < sys_samples) && (sys_samples <= NTP_SHIFT));
-	
+
 	/*
 	 * Sort indices into increasing delay order
 	 */
@@ -1042,15 +1050,15 @@
 	/*
 	 * This first chunk of code is supposed to go through all
 	 * servers we know about to find the NTP_MAXLIST servers which
-	 * are most likely to succeed.	We run through the list
+	 * are most likely to succeed. We run through the list
 	 * doing the sanity checks and trying to insert anyone who
-	 * looks okay.	We are at all times aware that we should
+	 * looks okay. We are at all times aware that we should
 	 * only keep samples from the top two strata and we only need
 	 * NTP_MAXLIST of them.
 	 */
 	nlist = 0;	/* none yet */
 	for (server = sys_servers; server != NULL; server = server->next_server) {
-		if (server->delay == 0) {
+		if (server->stratum == 0) {
 			if (debug)
 				printf("%s: Server dropped: no data\n", ntoa(&server->srcadr));
 			continue;	/* no data */
@@ -1062,18 +1070,18 @@
 		}
 		if (server->delay > NTP_MAXWGT) {
 			if (debug)
-				printf("%s: Server dropped: server too far away\n", 
+				printf("%s: Server dropped: server too far away\n",
 					ntoa(&server->srcadr));
 			continue;	/* too far away */
 		}
 		if (server->leap == LEAP_NOTINSYNC) {
 			if (debug)
-				printf("%s: Server dropped: Leap not in sync\n", ntoa(&server->srcadr));
+				printf("%s: Server dropped: leap not in sync\n", ntoa(&server->srcadr));
 			continue;	/* he's in trouble */
 		}
 		if (!L_ISHIS(&server->org, &server->reftime)) {
 			if (debug)
-				printf("%s: Server dropped: server is very broken\n", 
+				printf("%s: Server dropped: server is very broken\n",
 				       ntoa(&server->srcadr));
 			continue;	/* very broken host */
 		}
@@ -1080,7 +1088,7 @@
 		if ((server->org.l_ui - server->reftime.l_ui)
 		    >= NTP_MAXAGE) {
 			if (debug)
-				printf("%s: Server dropped: Server has gone too long without sync\n", 
+				printf("%s: Server dropped: server has gone too long without sync\n",
 				       ntoa(&server->srcadr));
 			continue;	/* too long without sync */
 		}
@@ -1256,8 +1264,10 @@
 	server = clock_select();
 
 	if (debug || simple_query) {
+		if (debug)
+			printf ("\n");
 		for (sp = sys_servers; sp != NULL; sp = sp->next_server)
-			printserver(sp, stdout);
+			print_server(sp, stdout);
 	}
 
 	if (server == 0) {
@@ -1283,31 +1293,17 @@
 	}
 
 	if (dostep) {
-		if (simple_query || debug || l_step_systime(&server->offset)){
+		if (simple_query || l_step_systime(&server->offset)){
 			msyslog(LOG_NOTICE, "step time server %s offset %s sec",
 				stoa(&server->srcadr),
 				lfptoa(&server->offset, 6));
 		}
 	} else {
-#ifndef SYS_WINNT
 		if (simple_query || l_adj_systime(&server->offset)) {
 			msyslog(LOG_NOTICE, "adjust time server %s offset %s sec",
 				stoa(&server->srcadr),
 				lfptoa(&server->offset, 6));
 		}
-#else
-		/* The NT SetSystemTimeAdjustment() call achieves slewing by
-		 * changing the clock frequency. This means that we cannot specify
-		 * it to slew the clock by a definite amount and then stop like
-		 * the Unix adjtime() routine. We can technically adjust the clock
-		 * frequency, have ntpdate sleep for a while, and then wake
-		 * up and reset the clock frequency, but this might cause some
-		 * grief if the user attempts to run ntpd immediately after
-		 * ntpdate and the socket is in use.
-		 */
-		printf("\nThe -b option is required by ntpdate on Windows NT platforms\n");
-		exit(1);
-#endif /* SYS_WINNT */
 	}
 	return(0);
 }
@@ -1440,7 +1436,7 @@
 	if (SRCPORT(addr) != NTP_PORT)
 		return 0;
 
-	for (server = sys_servers; server != NULL; 
+	for (server = sys_servers; server != NULL;
 	     server = server->next_server) {
 		if (SOCK_EQ(addr, &server->srcadr))
 			return server;
@@ -1451,7 +1447,7 @@
 		}
 	}
 
-	if (mc_server != NULL) {	
+	if (mc_server != NULL) {
 
 		struct server *sp;
 
@@ -1494,7 +1490,7 @@
 	 * who's event timers have expired.  Give these to
 	 * the transmit routine.
 	 */
-	for (server = sys_servers; server != NULL; 
+	for (server = sys_servers; server != NULL;
 	     server = server->next_server) {
 		if (server->event_time != 0
 		    && server->event_time <= current_time)
@@ -1520,7 +1516,7 @@
 	alarm_flag++;
 }
 #else	/* SYS_WINNT follows */
-void CALLBACK 
+void CALLBACK
 alarming(UINT uTimerID, UINT uMsg, DWORD dwUser, DWORD dw1, DWORD dw2)
 {
 	UNUSED_ARG(uTimerID); UNUSED_ARG(uMsg); UNUSED_ARG(dwUser);
@@ -1605,24 +1601,26 @@
 #else	/* SYS_WINNT follows */
 	_tzset();
 
-	/*
-	 * Get privileges needed for fiddling with the clock
-	 */
+	if (!simple_query && !debug) {
+		/*
+		 * Get privileges needed for fiddling with the clock
+		 */
 
-	/* get the current process token handle */
-	if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &hToken)) {
-		msyslog(LOG_ERR, "OpenProcessToken failed: %m");
-		exit(1);
+		/* get the current process token handle */
+		if (!OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &hToken)) {
+			msyslog(LOG_ERR, "OpenProcessToken failed: %m");
+			exit(1);
+		}
+		/* get the LUID for system-time privilege. */
+		LookupPrivilegeValue(NULL, SE_SYSTEMTIME_NAME, &tkp.Privileges[0].Luid);
+		tkp.PrivilegeCount = 1;		/* one privilege to set */
+		tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED;
+		/* get set-time privilege for this process. */
+		AdjustTokenPrivileges(hToken, FALSE, &tkp, 0,(PTOKEN_PRIVILEGES) NULL, 0);
+		/* cannot test return value of AdjustTokenPrivileges. */
+		if (GetLastError() != ERROR_SUCCESS)
+			msyslog(LOG_ERR, "AdjustTokenPrivileges failed: %m");
 	}
-	/* get the LUID for system-time privilege. */
-	LookupPrivilegeValue(NULL, SE_SYSTEMTIME_NAME, &tkp.Privileges[0].Luid);
-	tkp.PrivilegeCount = 1;		/* one privilege to set */
-	tkp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED;
-	/* get set-time privilege for this process. */
-	AdjustTokenPrivileges(hToken, FALSE, &tkp, 0,(PTOKEN_PRIVILEGES) NULL, 0);
-	/* cannot test return value of AdjustTokenPrivileges. */
-	if (GetLastError() != ERROR_SUCCESS)
-		msyslog(LOG_ERR, "AdjustTokenPrivileges failed: %m");
 
 	/*
 	 * Set up timer interrupts for every 2**EVENT_TIMEOUT seconds
@@ -1996,7 +1994,6 @@
 }
 
 
-#if !defined SYS_WINNT && !defined SYS_CYGWIN32
 /*
  * adj_systime - do a big long slew of the system time
  */
@@ -2041,15 +2038,30 @@
 		adjtv.tv_usec = -adjtv.tv_usec;
 	}
 
-	if (adjtv.tv_usec != 0 && !debug) {
+	if (!debug && (adjtv.tv_usec != 0)) {
+		/* A time correction needs to be applied. */
+#if !defined SYS_WINNT && !defined SYS_CYGWIN32
+		/* Slew the time on systems that support this. */
 		if (adjtime(&adjtv, &oadjtv) < 0) {
 			msyslog(LOG_ERR, "Can't adjust the time of day: %m");
 			exit(1);
 		}
+#else	/* SYS_WINNT or SYS_CYGWIN32 is defined */
+		/*
+		 * The NT SetSystemTimeAdjustment() call achieves slewing by
+		 * changing the clock frequency. This means that we cannot specify
+		 * it to slew the clock by a definite amount and then stop like
+		 * the Unix adjtime() routine. We can technically adjust the clock
+		 * frequency, have ntpdate sleep for a while, and then wake
+		 * up and reset the clock frequency, but this might cause some
+		 * grief if the user attempts to run ntpd immediately after
+		 * ntpdate and the socket is in use.
+		 */
+		printf("\nSlewing the system time is not supported on Windows. Use the -b option to step the time.\n");
+#endif	/* defined SYS_WINNT || defined SYS_CYGWIN32 */
 	}
 	return 1;
 }
-#endif /* SYS_WINNT */
 
 
 /*
@@ -2068,11 +2080,14 @@
 	int isneg;
 	int n;
 
-	if (debug) return 1;
+	if (debug)
+		return 1;
+
 	/*
 	 * Take the absolute value of the offset
 	 */
 	ftmp = *ts;
+
 	if (L_ISNEG(&ftmp)) {
 		L_NEG(&ftmp);
 		isneg = 1;
@@ -2082,9 +2097,9 @@
 	if (ftmp.l_ui >= 3) {		/* Step it and slew - we might win */
 		LFPTOD(ts, dtemp);
 		n = step_systime(dtemp);
-		if (!n)
-			return n;
-		if (isneg)
+		if (n == 0)
+			return 0;
+		if (isneg)		/* WTF! */
 			ts->l_ui = ~0;
 		else
 			ts->l_ui = ~0;
@@ -2113,12 +2128,12 @@
 }
 
 
-/* XXX ELIMINATE printserver similar in ntptrace.c, ntpdate.c */
+/* XXX ELIMINATE print_server similar in ntptrace.c, ntpdate.c */
 /*
- * printserver - print detail information for a server
+ * print_server - print detail information for a server
  */
 static void
-printserver(
+print_server(
 	register struct server *pp,
 	FILE *fp
 	)
@@ -2127,6 +2142,9 @@
 	char junk[5];
 	const char *str;
 
+	if (pp->stratum == 0)		/* Nothing received => nothing to print */
+		return;
+
 	if (!debug) {
 		(void) fprintf(fp, "server %s, stratum %d, offset %s, delay %s\n",
 				   stoa(&pp->srcadr), pp->stratum,
@@ -2143,22 +2161,26 @@
 			   pp->leap & 0x1 ? '1' : '0',
 			   pp->trust);
 
-	if (pp->stratum == 1) {
-		junk[4] = 0;
-		memmove(junk, (char *)&pp->refid, 4);
+	if (REFID_ISTEXT(pp->stratum)) {
+		str = (char *) &pp->refid;
+		for (i=0; i<4 && str[i]; i++) {
+			junk[i] = (isprint(str[i]) ? str[i] : '.');
+		}
+		junk[i] = 0; // force terminating 0
 		str = junk;
 	} else {
-		str = stoa(&pp->srcadr);
+		str = numtoa(pp->refid);
 	}
 	(void) fprintf(fp,
-			   "refid [%s], delay %s, dispersion %s\n",
-			   str, fptoa((s_fp)pp->delay, 5),
-			   ufptoa(pp->dispersion, 5));
+			"refid [%s], root delay %s, root dispersion %s\n",
+			str, fptoa((s_fp)pp->rootdelay, 6),
+			ufptoa(pp->rootdisp, 6));
 
-	(void) fprintf(fp, "transmitted %d, in filter %d\n",
+	if (pp->xmtcnt != pp->filter_nextpt)
+		(void) fprintf(fp, "transmitted %d, in filter %d\n",
 			   pp->xmtcnt, pp->filter_nextpt);
 
-	(void) fprintf(fp, "reference time:    %s\n",
+	(void) fprintf(fp, "reference time:      %s\n",
 			   prettydate(&pp->reftime));
 	(void) fprintf(fp, "originate timestamp: %s\n",
 			   prettydate(&pp->org));
@@ -2165,23 +2187,27 @@
 	(void) fprintf(fp, "transmit timestamp:  %s\n",
 			   prettydate(&pp->xmt));
 
-	(void) fprintf(fp, "filter delay: ");
-	for (i = 0; i < NTP_SHIFT; i++) {
-		(void) fprintf(fp, " %-8.8s", fptoa(pp->filter_delay[i], 5));
-		if (i == (NTP_SHIFT>>1)-1)
-			(void) fprintf(fp, "\n        ");
-	}
-	(void) fprintf(fp, "\n");
+	if (sys_samples > 1) {
+		(void) fprintf(fp, "filter delay: ");
+		for (i = 0; i < NTP_SHIFT; i++) {
+			if (i == (NTP_SHIFT>>1))
+				(void) fprintf(fp, "\n              ");
+			(void) fprintf(fp, " %-10.10s", 
+				(i<sys_samples ? fptoa(pp->filter_delay[i], 5) : "----"));
+		}
+		(void) fprintf(fp, "\n");
 
-	(void) fprintf(fp, "filter offset:");
-	for (i = 0; i < PEER_SHIFT; i++) {
-		(void) fprintf(fp, " %-8.8s", lfptoa(&pp->filter_offset[i], 6));
-		if (i == (PEER_SHIFT>>1)-1)
-			(void) fprintf(fp, "\n        ");
+		(void) fprintf(fp, "filter offset:");
+		for (i = 0; i < PEER_SHIFT; i++) {
+			if (i == (PEER_SHIFT>>1))
+				(void) fprintf(fp, "\n              ");
+			(void) fprintf(fp, " %-10.10s", 
+				(i<sys_samples ? lfptoa(&pp->filter_offset[i], 6): "----"));
+		}
+		(void) fprintf(fp, "\n");
 	}
-	(void) fprintf(fp, "\n");
 
-	(void) fprintf(fp, "delay %s, dispersion %s\n",
+	(void) fprintf(fp, "delay %s, dispersion %s, ",
 			   fptoa((s_fp)pp->delay, 5), ufptoa(pp->dispersion, 5));
 
 	(void) fprintf(fp, "offset %s\n\n",
@@ -2227,7 +2253,7 @@
 	 * Check if NTP socket is already in use on this system
 	 * This is only for Windows Systems, as they tend not to fail on the real bind() below
 	 */
-	
+
 	SOCKET checksocket;
 	struct sockaddr_in checkservice;
 	checksocket = socket(af, SOCK_DGRAM, 0);
--- contrib/ntp/ntpdc/Makefile.in.orig
+++ contrib/ntp/ntpdc/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/ntpdc/invoke-ntpdc.texi.orig
+++ contrib/ntp/ntpdc/invoke-ntpdc.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntpdc.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:15:06 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:56:51 AM by AutoGen 5.18.5
 # From the definitions    ntpdc-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -76,7 +76,7 @@
 
 @exampleindent 0
 @example
-ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p11
+ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p13
 Usage:  ntpdc [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... [ host ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 DNS name resolution
--- contrib/ntp/ntpdc/nl.pl.orig
+++ contrib/ntp/ntpdc/nl.pl
@@ -1,4 +1,4 @@
-#! /usr/local/bin/perl -w
+#! /ntpbuild/bin/perl -w
 
 $found = 0;
 $last = 0;
--- contrib/ntp/ntpdc/ntpdc-opts.c.orig
+++ contrib/ntp/ntpdc/ntpdc-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpdc-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:14:56 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:48 AM by AutoGen 5.18.5
  *  From the definitions    ntpdc-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -69,7 +69,7 @@
  *  static const strings for ntpdc options
  */
 static char const ntpdc_opt_strs[1914] =
-/*     0 */ "ntpdc 4.2.8p11\n"
+/*     0 */ "ntpdc 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -128,7 +128,7 @@
 /*  1695 */ "no-load-opts\0"
 /*  1708 */ "no\0"
 /*  1711 */ "NTPDC\0"
-/*  1717 */ "ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p11\n"
+/*  1717 */ "ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [ host ...]\n\0"
 /*  1848 */ "$HOME\0"
 /*  1854 */ ".\0"
@@ -135,7 +135,7 @@
 /*  1856 */ ".ntprc\0"
 /*  1863 */ "http://bugs.ntp.org, bugs@ntp.org\0"
 /*  1897 */ "\n\0"
-/*  1899 */ "ntpdc 4.2.8p11";
+/*  1899 */ "ntpdc 4.2.8p13";
 
 /**
  *  ipv4 option description with
@@ -796,7 +796,7 @@
      translate option names.
    */
   /* referenced via ntpdcOptions.pzCopyright */
-  puts(_("ntpdc 4.2.8p11\n\
+  puts(_("ntpdc 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -862,7 +862,7 @@
   puts(_("load options from a config file"));
 
   /* referenced via ntpdcOptions.pzUsageTitle */
-  puts(_("ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p11\n\
+  puts(_("ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [ host ...]\n"));
 
   /* referenced via ntpdcOptions.pzExplain */
@@ -869,7 +869,7 @@
   puts(_("\n"));
 
   /* referenced via ntpdcOptions.pzFullVersion */
-  puts(_("ntpdc 4.2.8p11"));
+  puts(_("ntpdc 4.2.8p13"));
 
   /* referenced via ntpdcOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/ntpdc/ntpdc-opts.h.orig
+++ contrib/ntp/ntpdc/ntpdc-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpdc-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:14:56 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:48 AM by AutoGen 5.18.5
  *  From the definitions    ntpdc-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -83,9 +83,9 @@
 /** count of all options for ntpdc */
 #define OPTION_CT    15
 /** ntpdc version */
-#define NTPDC_VERSION       "4.2.8p11"
+#define NTPDC_VERSION       "4.2.8p13"
 /** Full ntpdc version text */
-#define NTPDC_FULL_VERSION  "ntpdc 4.2.8p11"
+#define NTPDC_FULL_VERSION  "ntpdc 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/ntpdc/ntpdc.1ntpdcman.orig
+++ contrib/ntp/ntpdc/ntpdc.1ntpdcman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpdc 1ntpdcman "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpdc 1ntpdcman "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-MnaqKS/ag-YnaiJS)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:03 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:53 AM by AutoGen 5.18.5
 .\" From the definitions ntpdc-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpdc/ntpdc.1ntpdcmdoc.orig
+++ contrib/ntp/ntpdc/ntpdc.1ntpdcmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPDC 1ntpdcmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpdc-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:09 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:50 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpdc-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpdc/ntpdc.c.orig
+++ contrib/ntp/ntpdc/ntpdc.c
@@ -226,15 +226,27 @@
 #define	STREQ(a, b)	(*(a) == *(b) && strcmp((a), (b)) == 0)
 
 /*
- * Jump buffer for longjumping back to the command level
+ * Jump buffer for longjumping back to the command level.
+ *
+ * See ntpq/ntpq.c for an explanation why 'sig{set,long}jmp()' is used
+ * when available.
  */
-static	jmp_buf interrupt_buf;
-static  volatile int jump = 0;
+#if HAVE_DECL_SIGSETJMP && HAVE_DECL_SIGLONGJMP
+# define JMP_BUF	sigjmp_buf
+# define SETJMP(x)	sigsetjmp((x), 1)
+# define LONGJMP(x, v)	siglongjmp((x),(v))
+#else
+# define JMP_BUF	jmp_buf
+# define SETJMP(x)	setjmp((x))
+# define LONGJMP(x, v)	longjmp((x),(v))
+#endif
+static	JMP_BUF		interrupt_buf;
+static	volatile int	jump = 0;
 
 /*
  * Pointer to current output unit
  */
-static	FILE *current_output;
+static	FILE *current_output = NULL;
 
 /*
  * Command table imported from ntpdc_ops.c
@@ -275,7 +287,6 @@
 	char *argv[]
 	)
 {
-
 	delay_time.l_ui = 0;
 	delay_time.l_uf = DEFDELAY;
 
@@ -352,7 +363,7 @@
 
 #ifndef SYS_WINNT /* Under NT cannot handle SIGINT, WIN32 spawns a handler */
 	if (interactive)
-	    (void) signal_no_reset(SIGINT, abortcmd);
+		(void) signal_no_reset(SIGINT, abortcmd);
 #endif /* SYS_WINNT */
 
 	/*
@@ -393,11 +404,11 @@
 	)
 {
 	char temphost[LENHOSTNAME];
-	int a_info, i;
+	int a_info;
 	struct addrinfo hints, *ai = NULL;
 	sockaddr_u addr;
 	size_t octets;
-	register const char *cp;
+	const char *cp;
 	char name[LENHOSTNAME];
 	char service[5];
 
@@ -404,20 +415,17 @@
 	/*
 	 * We need to get by the [] if they were entered 
 	 */
-	
-	cp = hname;
-	
-	if (*cp == '[') {
-		cp++;	
-		for (i = 0; *cp && *cp != ']'; cp++, i++)
-			name[i] = *cp;
-		if (*cp == ']') {
-			name[i] = '\0';
-			hname = name;
-		} else {
+	if (*hname == '[') {
+		cp = strchr(hname + 1, ']');
+		if (!cp || (octets = (size_t)(cp - hname) - 1) >= sizeof(name)) {
+			errno = EINVAL;
+			warning("%s", "bad hostname/address");
 			return 0;
 		}
-	}	
+		memcpy(name, hname + 1, octets);
+		name[octets] = '\0';
+		hname = name;
+	}
 
 	/*
 	 * First try to resolve it as an ip address and if that fails,
@@ -944,7 +952,7 @@
 	if (!maclen) {  
 		fprintf(stderr, "Key not found\n");
 		return 1;
-	} else if (maclen != (int)(info_auth_hashlen + sizeof(keyid_t))) {
+	} else if (maclen != (size_t)(info_auth_hashlen + sizeof(keyid_t))) {
 		fprintf(stderr,
 			"%zu octet MAC, %zu expected with %zu octet digest\n",
 			maclen, (info_auth_hashlen + sizeof(keyid_t)),
@@ -1118,12 +1126,14 @@
 	int sig
 	)
 {
-
 	if (current_output == stdout)
-	    (void) fflush(stdout);
+		(void)fflush(stdout);
 	putc('\n', stderr);
-	(void) fflush(stderr);
-	if (jump) longjmp(interrupt_buf, 1);
+	(void)fflush(stderr);
+	if (jump) {
+		jump = 0;
+		LONGJMP(interrupt_buf, 1);
+	}
 }
 #endif /* SYS_WINNT */
 
@@ -1235,14 +1245,22 @@
 		current_output = stdout;
 	}
 
-	if (interactive && setjmp(interrupt_buf)) {
-		return;
+	if (interactive) {
+		if ( ! SETJMP(interrupt_buf)) {
+			jump = 1;
+			(xcmd->handler)(&pcmd, current_output);
+			jump = 0;
+		} else {
+			fflush(current_output);
+			fputs("\n >>> command aborted <<<\n", stderr);
+			fflush(stderr);
+		}
 	} else {
-		jump = 1;
+		jump = 0;
 		(xcmd->handler)(&pcmd, current_output);
-		jump = 0;
-		if (current_output != stdout)
-			(void) fclose(current_output);
+	}
+	if ((NULL != current_output) && (stdout != current_output)) {
+		(void)fclose(current_output);
 		current_output = NULL;
 	}
 }
--- contrib/ntp/ntpdc/ntpdc.html.orig
+++ contrib/ntp/ntpdc/ntpdc.html
@@ -1,158 +1,220 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>ntpdc: NTPD Control User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="ntpdc: NTPD Control User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ntpdc: NTPD Control User&rsquo;s Manual</title>
+
+<meta name="description" content="ntpdc: NTPD Control User&rsquo;s Manual">
+<meta name="keywords" content="ntpdc: NTPD Control User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">ntpdc: NTPD Control User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-Description">ntpdc Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">ntpdc: NTPD Control User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-Description" accesskey="n" rel="next">ntpdc Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="ntpdc_003a-NTPD-Control-User-Manual"></a>
+<h1 class="top">ntpdc: NTPD Control User Manual</h1>
 
-<h2 class="unnumbered">ntpdc: NTPD Control User Manual</h2>
-
-<p>This document describes the use of the NTP Project's <code>ntpdc</code> program,
+<p>This document describes the use of the NTP Project&rsquo;s <code>ntpdc</code> program,
 that can be used to query a Network Time Protocol (NTP) server and
 display the time offset of the system clock relative to the server
 clock.  Run as root, it can correct the system clock to this offset as
 well.  It can be run as an interactive command or from a cron job.
-
-  <p>This document applies to version 4.2.8p11 of <code>ntpdc</code>.
-
-  <p>The program implements the SNTP protocol as defined by RFC 5905, the NTPv4
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntpdc</code>.
+</p>
+<p>The program implements the SNTP protocol as defined by RFC 5905, the NTPv4
 IETF specification.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">ntpdc: NTPD Control User Manual</a>
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
 </div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpdc-Description">ntpdc Description</a>:             Description
-<li><a accesskey="2" href="#ntpdc-Invocation">ntpdc Invocation</a>: 		Invoking ntpdc
-<li><a accesskey="3" href="#Usage">Usage</a>:                        Usage
-</ul>
 
-<div class="node">
-<p><hr>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Description" accesskey="1">ntpdc Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Invocation" accesskey="2">ntpdc Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntpdc
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="3">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+</table>
+
+<hr>
 <a name="ntpdc-Description"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-Invocation" accesskey="n" rel="next">ntpdc Invocation</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>By default, <code>ntpdc</code> writes the local data and time (i.e., not UTC) to the
 standard output in the format:
+</p>
+<div class="example">
+<pre class="example">1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 secs
+</pre></div>
 
-<pre class="example">     1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 secs
-</pre>
-  <p>where
+<p>where
 YYYY-MM-DD HH:MM:SS.SUBSEC is the local date and time,
 (+0800) is the local timezone adjustment (so we would add 8 hours and 0 minutes to convert the reported local time to UTC),
 and
 the +4.567 +/- 0.089 secs indicates the time offset and
 error bound of the system clock relative to the server clock.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Invocation" accesskey="1">ntpdc Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="2">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntpdc-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#ntpdc-Description" accesskey="p" rel="prev">ntpdc Description</a>, Up: <a href="#ntpdc-Description" accesskey="u" rel="up">ntpdc Description</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntpdc"></a>
+<h3 class="section">1.1 Invoking ntpdc</h3>
+<a name="index-ntpdc"></a>
+<a name="index-vendor_002dspecific-NTPD-control-program"></a>
 
-<h3 class="section">Invoking ntpdc</h3>
 
-<p><a name="index-ntpdc-1"></a><a name="index-vendor_002dspecific-NTPD-control-program-2"></a>
 
-  <p><code>ntpdc</code>
-is deprecated. 
+<p><code>ntpdc</code>
+is deprecated.
 Please use
 <code>ntpq(1ntpqmdoc)</code> instead - it can do everything
 <code>ntpdc</code>
 used to do, and it does so using a much more sane interface.
-
-  <p><code>ntpdc</code>
+</p>
+<p><code>ntpdc</code>
 is a utility program used to query
 <code>ntpd(1ntpdmdoc)</code>
 about its
-current state and to request changes in that state. 
-It uses NTP mode 7 control message formats described in the source code. 
+current state and to request changes in that state.
+It uses NTP mode 7 control message formats described in the source code.
 The program may
 be run either in interactive mode or controlled using command line
-arguments. 
+arguments.
 Extensive state and statistics information is available
 through the
 <code>ntpdc</code>
-interface. 
+interface.
 In addition, nearly all the
 configuration options which can be specified at startup using
-ntpd's configuration file may also be specified at run time using
+ntpd&rsquo;s configuration file may also be specified at run time using
 <code>ntpdc</code>
-
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpdc</code> program. 
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpdc</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-usage" accesskey="1">ntpdc usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntpdc help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-ipv4" accesskey="2">ntpdc ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv4 option (-4)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-ipv6" accesskey="3">ntpdc ipv6</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv6 option (-6)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-command" accesskey="4">ntpdc command</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">command option (-c)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-interactive" accesskey="5">ntpdc interactive</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">interactive option (-i)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-listpeers" accesskey="6">ntpdc listpeers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">listpeers option (-l)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-numeric" accesskey="7">ntpdc numeric</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">numeric option (-n)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-peers" accesskey="8">ntpdc peers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">peers option (-p)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-showpeers" accesskey="9">ntpdc showpeers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">showpeers option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-config">ntpdc config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">presetting/configuring ntpdc
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-exit-status">ntpdc exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Usage">ntpdc Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-See-Also">ntpdc See Also</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">See Also
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Authors">ntpdc Authors</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authors
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpdc-Bugs">ntpdc Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Bugs
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpdc-usage">ntpdc usage</a>:                   ntpdc help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntpdc-ipv4">ntpdc ipv4</a>:                    ipv4 option (-4)
-<li><a accesskey="3" href="#ntpdc-ipv6">ntpdc ipv6</a>:                    ipv6 option (-6)
-<li><a accesskey="4" href="#ntpdc-command">ntpdc command</a>:                 command option (-c)
-<li><a accesskey="5" href="#ntpdc-interactive">ntpdc interactive</a>:             interactive option (-i)
-<li><a accesskey="6" href="#ntpdc-listpeers">ntpdc listpeers</a>:               listpeers option (-l)
-<li><a accesskey="7" href="#ntpdc-numeric">ntpdc numeric</a>:                 numeric option (-n)
-<li><a accesskey="8" href="#ntpdc-peers">ntpdc peers</a>:                   peers option (-p)
-<li><a accesskey="9" href="#ntpdc-showpeers">ntpdc showpeers</a>:               showpeers option (-s)
-<li><a href="#ntpdc-config">ntpdc config</a>:                  presetting/configuring ntpdc
-<li><a href="#ntpdc-exit-status">ntpdc exit status</a>:             exit status
-<li><a href="#ntpdc-Usage">ntpdc Usage</a>:                   Usage
-<li><a href="#ntpdc-See-Also">ntpdc See Also</a>:                See Also
-<li><a href="#ntpdc-Authors">ntpdc Authors</a>:                 Authors
-<li><a href="#ntpdc-Bugs">ntpdc Bugs</a>:                    Bugs
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntpdc-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-ipv4">ntpdc ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<hr>
+<a name="ntpdc-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-ipv4" accesskey="n" rel="next">ntpdc ipv4</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpdc-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1.1 ntpdc help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntpdc-help"></a>
 
-<h4 class="subsection">ntpdc help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntpdc-help-3"></a>
-This is the automatically generated usage text for ntpdc.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntpdc.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p11
+</p>
+<div class="example">
+<pre class="example">ntpdc - vendor-specific NTPD control program - Ver. 4.2.8p13
 Usage:  ntpdc [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [ host ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 DNS name resolution
@@ -196,320 +258,333 @@
  - examining environment variables named NTPDC_*
 
 Please send bug reports to:  &lt;http://bugs.ntp.org, bugs@ntp.org&gt;
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntpdc-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-ipv6">ntpdc ipv6</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-usage">ntpdc usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntpdc-ipv4"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-ipv6" accesskey="n" rel="next">ntpdc ipv6</a>, Previous: <a href="#ntpdc-usage" accesskey="p" rel="prev">ntpdc usage</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv4-option-_0028_002d4_0029"></a>
+<h4 class="subsection">1.1.2 ipv4 option (-4)</h4>
+<a name="index-ntpdc_002dipv4"></a>
 
-<h4 class="subsection">ipv4 option (-4)</h4>
+<p>This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv6.
+</li></ul>
 
-<p><a name="index-ntpdc_002dipv4-4"></a>
-This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv6. 
-</ul>
-
-  <p>Force DNS resolution of following host names on the command line
-to the IPv4 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-ipv6"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-command">ntpdc command</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-ipv4">ntpdc ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<p>Force DNS resolution of following host names on the command line
+to the IPv4 namespace.
+</p><hr>
+<a name="ntpdc-ipv6"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-command" accesskey="n" rel="next">ntpdc command</a>, Previous: <a href="#ntpdc-ipv4" accesskey="p" rel="prev">ntpdc ipv4</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv6-option-_0028_002d6_0029"></a>
+<h4 class="subsection">1.1.3 ipv6 option (-6)</h4>
+<a name="index-ntpdc_002dipv6"></a>
 
-<h4 class="subsection">ipv6 option (-6)</h4>
+<p>This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv4.
+</li></ul>
 
-<p><a name="index-ntpdc_002dipv6-5"></a>
-This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv4. 
-</ul>
-
-  <p>Force DNS resolution of following host names on the command line
-to the IPv6 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-command"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-interactive">ntpdc interactive</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-ipv6">ntpdc ipv6</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<p>Force DNS resolution of following host names on the command line
+to the IPv6 namespace.
+</p><hr>
+<a name="ntpdc-command"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-interactive" accesskey="n" rel="next">ntpdc interactive</a>, Previous: <a href="#ntpdc-ipv6" accesskey="p" rel="prev">ntpdc ipv6</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="command-option-_0028_002dc_0029"></a>
+<h4 class="subsection">1.1.4 command option (-c)</h4>
+<a name="index-ntpdc_002dcommand"></a>
 
-<h4 class="subsection">command option (-c)</h4>
+<p>This is the &ldquo;run a command and exit&rdquo; option.
+This option takes a string argument <samp>cmd</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-ntpdc_002dcommand-6"></a>
-This is the &ldquo;run a command and exit&rdquo; option. 
-This option takes a string argument <span class="file">cmd</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>The following argument is interpreted as an interactive format command
+<p>The following argument is interpreted as an interactive format command
 and is added to the list of commands to be executed on the specified
-host(s). 
-<div class="node">
-<p><hr>
-<a name="ntpdc-interactive"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-listpeers">ntpdc listpeers</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-command">ntpdc command</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+host(s).
+</p><hr>
+<a name="ntpdc-interactive"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-listpeers" accesskey="n" rel="next">ntpdc listpeers</a>, Previous: <a href="#ntpdc-command" accesskey="p" rel="prev">ntpdc command</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="interactive-option-_0028_002di_0029"></a>
+<h4 class="subsection">1.1.5 interactive option (-i)</h4>
+<a name="index-ntpdc_002dinteractive"></a>
 
-<h4 class="subsection">interactive option (-i)</h4>
+<p>This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+command, listpeers, peers, showpeers.
+</li></ul>
 
-<p><a name="index-ntpdc_002dinteractive-7"></a>
-This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-command, listpeers, peers, showpeers. 
-</ul>
-
-  <p>Force ntpq to operate in interactive mode.  Prompts will be written
-to the standard output and commands read from the standard input. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-listpeers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-numeric">ntpdc numeric</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-interactive">ntpdc interactive</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<p>Force ntpq to operate in interactive mode.  Prompts will be written
+to the standard output and commands read from the standard input.
+</p><hr>
+<a name="ntpdc-listpeers"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-numeric" accesskey="n" rel="next">ntpdc numeric</a>, Previous: <a href="#ntpdc-interactive" accesskey="p" rel="prev">ntpdc interactive</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="listpeers-option-_0028_002dl_0029"></a>
+<h4 class="subsection">1.1.6 listpeers option (-l)</h4>
+<a name="index-ntpdc_002dlistpeers"></a>
 
-<h4 class="subsection">listpeers option (-l)</h4>
+<p>This is the &ldquo;print a list of the peers&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+command.
+</li></ul>
 
-<p><a name="index-ntpdc_002dlistpeers-8"></a>
-This is the &ldquo;print a list of the peers&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-command. 
-</ul>
-
-  <p>Print a list of the peers known to the server as well as a summary of
-their state. This is equivalent to the 'listpeers' interactive command. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-numeric"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-peers">ntpdc peers</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-listpeers">ntpdc listpeers</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<p>Print a list of the peers known to the server as well as a summary of
+their state. This is equivalent to the &rsquo;listpeers&rsquo; interactive command.
+</p><hr>
+<a name="ntpdc-numeric"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-peers" accesskey="n" rel="next">ntpdc peers</a>, Previous: <a href="#ntpdc-listpeers" accesskey="p" rel="prev">ntpdc listpeers</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="numeric-option-_0028_002dn_0029"></a>
+<h4 class="subsection">1.1.7 numeric option (-n)</h4>
+<a name="index-ntpdc_002dnumeric"></a>
 
-<h4 class="subsection">numeric option (-n)</h4>
-
-<p><a name="index-ntpdc_002dnumeric-9"></a>
-This is the &ldquo;numeric host addresses&rdquo; option. 
+<p>This is the &ldquo;numeric host addresses&rdquo; option.
 Output all host addresses in dotted-quad numeric format rather than
 converting to the canonical host names. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-peers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-showpeers">ntpdc showpeers</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-numeric">ntpdc numeric</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+</p><hr>
+<a name="ntpdc-peers"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-showpeers" accesskey="n" rel="next">ntpdc showpeers</a>, Previous: <a href="#ntpdc-numeric" accesskey="p" rel="prev">ntpdc numeric</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="peers-option-_0028_002dp_0029"></a>
+<h4 class="subsection">1.1.8 peers option (-p)</h4>
+<a name="index-ntpdc_002dpeers"></a>
 
-<h4 class="subsection">peers option (-p)</h4>
+<p>This is the &ldquo;print a list of the peers&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+command.
+</li></ul>
 
-<p><a name="index-ntpdc_002dpeers-10"></a>
-This is the &ldquo;print a list of the peers&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-command. 
-</ul>
-
-  <p>Print a list of the peers known to the server as well as a summary
-of their state. This is equivalent to the 'peers' interactive command. 
-<div class="node">
-<p><hr>
-<a name="ntpdc-showpeers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-config">ntpdc config</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-peers">ntpdc peers</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<p>Print a list of the peers known to the server as well as a summary
+of their state. This is equivalent to the &rsquo;peers&rsquo; interactive command.
+</p><hr>
+<a name="ntpdc-showpeers"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-config" accesskey="n" rel="next">ntpdc config</a>, Previous: <a href="#ntpdc-peers" accesskey="p" rel="prev">ntpdc peers</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="showpeers-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.1.9 showpeers option (-s)</h4>
+<a name="index-ntpdc_002dshowpeers"></a>
 
-<h4 class="subsection">showpeers option (-s)</h4>
+<p>This is the &ldquo;show a list of the peers&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+command.
+</li></ul>
 
-<p><a name="index-ntpdc_002dshowpeers-11"></a>
-This is the &ldquo;show a list of the peers&rdquo; option.
+<p>Print a list of the peers known to the server as well as a summary
+of their state. This is equivalent to the &rsquo;dmpeers&rsquo; interactive command.
+</p>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-command. 
-</ul>
-
-  <p>Print a list of the peers known to the server as well as a summary
-of their state. This is equivalent to the 'dmpeers' interactive command.
-
-<div class="node">
-<p><hr>
-<a name="ntpdc-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-exit-status">ntpdc exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-showpeers">ntpdc showpeers</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<hr>
+<a name="ntpdc-config"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-exit-status" accesskey="n" rel="next">ntpdc exit status</a>, Previous: <a href="#ntpdc-showpeers" accesskey="p" rel="prev">ntpdc showpeers</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="presetting_002fconfiguring-ntpdc"></a>
+<h4 class="subsection">1.1.10 presetting/configuring ntpdc</h4>
 
-<h4 class="subsection">presetting/configuring ntpdc</h4>
-
 <p>Any option that is not marked as <i>not presettable</i> may be preset by
-loading values from configuration ("rc" or "ini") files, and values from environment variables named <code>NTPDC</code> and <code>NTPDC_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
-the options listed above in upper case and segmented with underscores. 
+loading values from configuration (&quot;rc&quot; or &quot;ini&quot;) files, and values from environment variables named <code>NTPDC</code> and <code>NTPDC_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
+the options listed above in upper case and segmented with underscores.
 The <code>NTPDC</code> variable will be tokenized and parsed like
 the command line.  The remaining variables are tested for existence and their
 values are treated like option arguments.
+</p>
 
-<p class="noindent"><code>libopts</code> will search in 2 places for configuration files:
-     <ul>
-<li>$HOME
-<li>$PWD
-</ul>
-  The environment variables <code>HOME</code>, and <code>PWD</code>
-are expanded and replaced when <span class="file">ntpdc</span> runs. 
-For any of these that are plain files, they are simply processed. 
-For any that are directories, then a file named <span class="file">.ntprc</span> is searched for
+<p><code>libopts</code> will search in 2 places for configuration files:
+</p><ul>
+<li> $HOME
+</li><li> $PWD
+</li></ul>
+<p>The environment variables <code>HOME</code>, and <code>PWD</code>
+are expanded and replaced when <samp>ntpdc</samp> runs.
+For any of these that are plain files, they are simply processed.
+For any that are directories, then a file named <samp>.ntprc</samp> is searched for
 within that directory and processed.
-
-  <p>Configuration files may be in a wide variety of formats. 
+</p>
+<p>Configuration files may be in a wide variety of formats.
 The basic format is an option name followed by a value (argument) on the
 same line.  Values may be separated from the option name with a colon,
 equal sign or simply white space.  Values may be continued across multiple
 lines by escaping the newline with a backslash.
-
-  <p>Multiple programs may also share the same initialization file. 
+</p>
+<p>Multiple programs may also share the same initialization file.
 Common options are collected at the top, followed by program specific
 segments.  The segments are separated by lines like:
-<pre class="example">    [NTPDC]
-</pre>
-  <p class="noindent">or by
-<pre class="example">    &lt;?program ntpdc&gt;
-</pre>
-  <p class="noindent">Do not mix these styles within one configuration file.
-
-  <p>Compound values and carefully constructed string values may also be
+</p><div class="example">
+<pre class="example">[NTPDC]
+</pre></div>
+<p>or by
+</p><div class="example">
+<pre class="example">&lt;?program ntpdc&gt;
+</pre></div>
+<p>Do not mix these styles within one configuration file.
+</p>
+<p>Compound values and carefully constructed string values may also be
 specified using XML syntax:
-<pre class="example">    &lt;option-name&gt;
-       &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
-    &lt;/option-name&gt;
-</pre>
-  <p class="noindent">yielding an <code>option-name.sub-opt</code> string value of
-<pre class="example">    "...&lt;...&gt;..."
-</pre>
-  <p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
+</p><div class="example">
+<pre class="example">&lt;option-name&gt;
+   &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
+&lt;/option-name&gt;
+</pre></div>
+<p>yielding an <code>option-name.sub-opt</code> string value of
+</p><div class="example">
+<pre class="example">&quot;...&lt;...&gt;...&quot;
+</pre></div>
+<p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
 hierarchicly valued option.  <code>AutoOpts</code> does provide a means for searching
 the associated name/value pair list (see: optionFindValue).
+</p>
+<p>The command line options relating to configuration and/or usage help are:
+</p>
+<a name="version-_0028_002d_0029"></a>
+<h4 class="subsubheading">version (-)</h4>
 
-  <p>The command line options relating to configuration and/or usage help are:
-
-<h5 class="subsubheading">version (-)</h5>
-
 <p>Print the program version to standard out, optionally with licensing
 information, then exit 0.  The optional argument specifies how much licensing
-detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument. 
+detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.
 Only the first letter of the argument is examined:
-
-     <dl>
-<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
-<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
-<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
+</p>
+<dl compact="compact">
+<dt>&lsquo;<samp>version</samp>&rsquo;</dt>
+<dd><p>Only print the version.  This is the default.
+</p></dd>
+<dt>&lsquo;<samp>copyright</samp>&rsquo;</dt>
+<dd><p>Name the copyright usage licensing terms.
+</p></dd>
+<dt>&lsquo;<samp>verbose</samp>&rsquo;</dt>
+<dd><p>Print the full copyright usage licensing terms.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="ntpdc-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-Usage">ntpdc Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-config">ntpdc config</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<hr>
+<a name="ntpdc-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-Usage" accesskey="n" rel="next">ntpdc Usage</a>, Previous: <a href="#ntpdc-config" accesskey="p" rel="prev">ntpdc config</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpdc-exit-status-1"></a>
+<h4 class="subsection">1.1.11 ntpdc exit status</h4>
 
-<h4 class="subsection">ntpdc exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
-<br><dt><span class="samp">66 (EX_NOINPUT)</span><dd>A specified configuration file could not be loaded. 
-<br><dt><span class="samp">70 (EX_SOFTWARE)</span><dd>libopts had an internal operational error.  Please report
-it to autogen-users@lists.sourceforge.net.  Thank you. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
+<dt>&lsquo;<samp>66 (EX_NOINPUT)</samp>&rsquo;</dt>
+<dd><p>A specified configuration file could not be loaded.
+</p></dd>
+<dt>&lsquo;<samp>70 (EX_SOFTWARE)</samp>&rsquo;</dt>
+<dd><p>libopts had an internal operational error.  Please report
+it to autogen-users@lists.sourceforge.net.  Thank you.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="ntpdc-Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-See-Also">ntpdc See Also</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-exit-status">ntpdc exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<hr>
+<a name="ntpdc-Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-See-Also" accesskey="n" rel="next">ntpdc See Also</a>, Previous: <a href="#ntpdc-exit-status" accesskey="p" rel="prev">ntpdc exit status</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpdc Usage</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpdc-See-Also"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-Authors">ntpdc Authors</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-Usage">ntpdc Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<a name="ntpdc-Usage-1"></a>
+<h4 class="subsection">1.1.12 ntpdc Usage</h4>
+<hr>
+<a name="ntpdc-See-Also"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-Authors" accesskey="n" rel="next">ntpdc Authors</a>, Previous: <a href="#ntpdc-Usage" accesskey="p" rel="prev">ntpdc Usage</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpdc See Also</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpdc-Authors"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpdc-Bugs">ntpdc Bugs</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-See-Also">ntpdc See Also</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<a name="ntpdc-See-Also-1"></a>
+<h4 class="subsection">1.1.13 ntpdc See Also</h4>
+<hr>
+<a name="ntpdc-Authors"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpdc-Bugs" accesskey="n" rel="next">ntpdc Bugs</a>, Previous: <a href="#ntpdc-See-Also" accesskey="p" rel="prev">ntpdc See Also</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntpdc Authors</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntpdc-Bugs"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpdc-Authors">ntpdc Authors</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpdc-Invocation">ntpdc Invocation</a>
-<br>
+<a name="ntpdc-Authors-1"></a>
+<h4 class="subsection">1.1.14 ntpdc Authors</h4>
+<hr>
+<a name="ntpdc-Bugs"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntpdc-Authors" accesskey="p" rel="prev">ntpdc Authors</a>, Up: <a href="#ntpdc-Invocation" accesskey="u" rel="up">ntpdc Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpdc-Bugs-1"></a>
+<h4 class="subsection">1.1.15 ntpdc Bugs</h4>
 
-<h4 class="subsection">ntpdc Bugs</h4>
-
-<div class="node">
-<p><hr>
+<hr>
 <a name="Usage"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#ntpdc-Invocation" accesskey="p" rel="prev">ntpdc Invocation</a>, Up: <a href="#ntpdc-Description" accesskey="u" rel="up">ntpdc Description</a> &nbsp; </p>
 </div>
+<a name="Usage-1"></a>
+<h3 class="section">1.2 Usage</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Usage</h3>
-
 <p>The simplest use of this program is as an unprivileged command to
-check the current time, offset, and error in the local clock. 
+check the current time, offset, and error in the local clock.
 For example:
+</p>
+<div class="example">
+<pre class="example">ntpdc ntpserver.somewhere
+</pre></div>
 
-<pre class="example">    ntpdc ntpserver.somewhere
-</pre>
-  <p>With suitable privilege, it can be run as a command or in a
+<p>With suitable privilege, it can be run as a command or in a
 <code>cron</code> job to reset the local clock from a reliable server, like
-the <code>ntpdate</code> and <code>rdate</code> commands. 
+the <code>ntpdate</code> and <code>rdate</code> commands.
 For example:
+</p>
+<div class="example">
+<pre class="example">ntpdc -a ntpserver.somewhere
+</pre></div>
+<hr>
 
-<pre class="example">    ntpdc -a ntpserver.somewhere
-</pre>
-  </body></html>
 
+
+</body>
+</html>
--- contrib/ntp/ntpdc/ntpdc.man.in.orig
+++ contrib/ntp/ntpdc/ntpdc.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpdc @NTPDC_MS@ "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpdc @NTPDC_MS@ "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-MnaqKS/ag-YnaiJS)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:03 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:56:53 AM by AutoGen 5.18.5
 .\" From the definitions ntpdc-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpdc/ntpdc.mdoc.in.orig
+++ contrib/ntp/ntpdc/ntpdc.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPDC @NTPDC_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpdc-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:09 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:50 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpdc-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpdc/ntpdc_ops.c.orig
+++ contrib/ntp/ntpdc/ntpdc_ops.c
@@ -2713,8 +2713,17 @@
 			       lfptoa(&ts, 6));
 		(void) fprintf(fp, "stratum:              %ld\n",
 			       (u_long)ntohl(cl->fudgeval1));
+		/* [Bug3527] Backward Incompatible: cl->fudgeval2 is
+		 * a string, instantiated via memcpy() so there is no
+		 * endian issue to correct.
+		 */
+#ifdef DISABLE_BUG3527_FIX
 		(void) fprintf(fp, "reference ID:         %s\n",
 			       refid_string(ntohl(cl->fudgeval2), 0));
+#else
+		(void) fprintf(fp, "reference ID:         %s\n",
+			       refid_string(cl->fudgeval2, 0));
+#endif
 		(void) fprintf(fp, "fudge flags:          0x%x\n",
 			       cl->flags);
 
@@ -2920,7 +2929,7 @@
 	size_t itemsize;
 	int res;
 	unsigned status;
-	double tscale = 1e-6;
+	double tscale_usec = 1e-6, tscale_unano = 1e-6;
 
 again:
 	res = doquery(impl_ver, REQ_GET_KERNEL, 0, 0, 0, (char *)NULL,
@@ -2945,16 +2954,16 @@
 	 */
 #ifdef STA_NANO
 	if (status & STA_NANO)
-		tscale = 1e-9;
+		tscale_unano = 1e-9;
 #endif
 	(void)fprintf(fp, "pll offset:           %g s\n",
-	    (int32)ntohl(ik->offset) * tscale);
+	    (int32)ntohl(ik->offset) * tscale_unano);
 	(void)fprintf(fp, "pll frequency:        %s ppm\n",
 	    fptoa((s_fp)ntohl(ik->freq), 3));
 	(void)fprintf(fp, "maximum error:        %g s\n",
-	    (u_long)ntohl(ik->maxerror) * tscale);
+	    (u_long)ntohl(ik->maxerror) * tscale_usec);
 	(void)fprintf(fp, "estimated error:      %g s\n",
-	    (u_long)ntohl(ik->esterror) * tscale);
+	    (u_long)ntohl(ik->esterror) * tscale_usec);
 	(void)fprintf(fp, "status:               %04x ", status);
 #ifdef STA_PLL
 	if (status & STA_PLL) (void)fprintf(fp, " pll");
@@ -3008,7 +3017,7 @@
 	(void)fprintf(fp, "pll time constant:    %ld\n",
 	    (u_long)ntohl(ik->constant));
 	(void)fprintf(fp, "precision:            %g s\n",
-	    (u_long)ntohl(ik->precision) * tscale);
+	    (u_long)ntohl(ik->precision) * tscale_usec);
 	(void)fprintf(fp, "frequency tolerance:  %s ppm\n",
 	    fptoa((s_fp)ntohl(ik->tolerance), 0));
 
@@ -3027,7 +3036,7 @@
 	(void)fprintf(fp, "pps stability:        %s ppm\n",
 	    fptoa((s_fp)ntohl(ik->stabil), 3));
 	(void)fprintf(fp, "pps jitter:           %g s\n",
-	    (u_long)ntohl(ik->jitter) * tscale);
+	    (u_long)ntohl(ik->jitter) * tscale_unano);
 	(void)fprintf(fp, "calibration interval: %d s\n",
 		      1 << ntohs(ik->shift));
 	(void)fprintf(fp, "calibration cycles:   %ld\n",
--- contrib/ntp/ntpq/Makefile.in.orig
+++ contrib/ntp/ntpq/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/ntpq/invoke-ntpq.texi.orig
+++ contrib/ntp/ntpq/invoke-ntpq.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntpq.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:15:26 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:01 AM by AutoGen 5.18.5
 # From the definitions    ntpq-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -944,7 +944,7 @@
 
 @exampleindent 0
 @example
-ntpq - standard NTP query program - Ver. 4.2.8p11
+ntpq - standard NTP query program - Ver. 4.2.8p13
 Usage:  ntpq [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... [ host ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 name resolution
--- contrib/ntp/ntpq/ntpq-opts.c.orig
+++ contrib/ntp/ntpq/ntpq-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpq-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:12 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:54 AM by AutoGen 5.18.5
  *  From the definitions    ntpq-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -69,7 +69,7 @@
  *  static const strings for ntpq options
  */
 static char const ntpq_opt_strs[1977] =
-/*     0 */ "ntpq 4.2.8p11\n"
+/*     0 */ "ntpq 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -132,13 +132,13 @@
 /*  1768 */ "no-load-opts\0"
 /*  1781 */ "no\0"
 /*  1784 */ "NTPQ\0"
-/*  1789 */ "ntpq - standard NTP query program - Ver. 4.2.8p11\n"
+/*  1789 */ "ntpq - standard NTP query program - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [ host ...]\n\0"
 /*  1909 */ "$HOME\0"
 /*  1915 */ ".\0"
 /*  1917 */ ".ntprc\0"
 /*  1924 */ "http://bugs.ntp.org, bugs@ntp.org\0"
-/*  1958 */ "ntpq 4.2.8p11\0"
+/*  1958 */ "ntpq 4.2.8p13\0"
 /*  1972 */ "hash";
 
 /**
@@ -841,7 +841,7 @@
      translate option names.
    */
   /* referenced via ntpqOptions.pzCopyright */
-  puts(_("ntpq 4.2.8p11\n\
+  puts(_("ntpq 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -910,11 +910,11 @@
   puts(_("load options from a config file"));
 
   /* referenced via ntpqOptions.pzUsageTitle */
-  puts(_("ntpq - standard NTP query program - Ver. 4.2.8p11\n\
+  puts(_("ntpq - standard NTP query program - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [ host ...]\n"));
 
   /* referenced via ntpqOptions.pzFullVersion */
-  puts(_("ntpq 4.2.8p11"));
+  puts(_("ntpq 4.2.8p13"));
 
   /* referenced via ntpqOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/ntpq/ntpq-opts.h.orig
+++ contrib/ntp/ntpq/ntpq-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpq-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:12 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:56:54 AM by AutoGen 5.18.5
  *  From the definitions    ntpq-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -84,9 +84,9 @@
 /** count of all options for ntpq */
 #define OPTION_CT    16
 /** ntpq version */
-#define NTPQ_VERSION       "4.2.8p11"
+#define NTPQ_VERSION       "4.2.8p13"
 /** Full ntpq version text */
-#define NTPQ_FULL_VERSION  "ntpq 4.2.8p11"
+#define NTPQ_FULL_VERSION  "ntpq 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/ntpq/ntpq-subs.c.orig
+++ contrib/ntp/ntpq/ntpq-subs.c
@@ -446,6 +446,7 @@
 
 	len = strlen(vars);
 	while (nextvar(&len, &vars, &name, &value)) {
+		INSIST(name && value);
 		vl = findlistvar(vlist, name);
 		if (NULL == vl) {
 			fprintf(stderr, "Variable list full\n");
@@ -481,6 +482,7 @@
 
 	len = strlen(vars);
 	while (nextvar(&len, &vars, &name, &value)) {
+		INSIST(name && value);
 		vl = findlistvar(vlist, name);
 		if (vl == 0 || vl->name == 0) {
 			(void) fprintf(stderr, "Variable `%s' not found\n",
@@ -1153,7 +1155,7 @@
 	 * Output a header
 	 */
 	(void) fprintf(fp,
-			   "\nind assid status  conf reach auth condition  last_event cnt\n");
+			   "ind assid status  conf reach auth condition  last_event cnt\n");
 	(void) fprintf(fp,
 			   "===========================================================\n");
 	for (i = 0; i < numassoc; i++) {
@@ -1475,31 +1477,36 @@
 	}
 
 	if (diff <= 2048) {
-		snprintf(buf, cb, "%ld", diff);
+		snprintf(buf, cb, "%u", (unsigned int)diff);
 		return buf;
 	}
 
 	diff = (diff + 29) / 60;
 	if (diff <= 300) {
-		snprintf(buf, cb, "%ldm", diff);
+		snprintf(buf, cb, "%um", (unsigned int)diff);
 		return buf;
 	}
 
 	diff = (diff + 29) / 60;
 	if (diff <= 96) {
-		snprintf(buf, cb, "%ldh", diff);
+		snprintf(buf, cb, "%uh", (unsigned int)diff);
 		return buf;
 	}
 
 	diff = (diff + 11) / 24;
 	if (diff <= 999) {
-		snprintf(buf, cb, "%ldd", diff);
+		snprintf(buf, cb, "%ud", (unsigned int)diff);
 		return buf;
 	}
 
 	/* years are only approximated... */
 	diff = (long)floor(diff / 365.25 + 0.5);
-	snprintf(buf, cb, "%ldy", diff);
+	if (diff <= 999) {
+		snprintf(buf, cb, "%uy", (unsigned int)diff);
+		return buf;
+	}
+	/* Ok, this amounts to infinity... */
+	strlcpy(buf, "INF", cb);
 	return buf;
 }
 
@@ -1638,10 +1645,14 @@
 	l_fp rec;
 	l_fp ts;
 	u_long poll_sec;
+	u_long flash = 0;
 	char type = '?';
-	char whenbuf[8], pollbuf[8];
 	char clock_name[LENHOSTNAME];
-
+	char whenbuf[12], pollbuf[12];
+	/* [Bug 3482] formally whenbuf & pollbuf should be able to hold
+	 * a full signed int. Not that we would use that much string
+	 * data for it...
+	 */
 	get_systime(&ts);
 	
 	have_srchost = FALSE;
@@ -1657,6 +1668,7 @@
 	ZERO(estdisp);
 
 	while (nextvar(&datalen, &data, &name, &value)) {
+		INSIST(name && value);
 		if (!strcmp("srcadr", name) ||
 		    !strcmp("peeradr", name)) {
 			if (!decodenetnum(value, &srcadr))
@@ -1771,6 +1783,8 @@
 		} else if (!strcmp("reftime", name)) {
 			if (!decodets(value, &reftime))
 				L_CLR(&reftime);
+		} else if (!strcmp("flash", name)) {
+		    decodeuint(value, &flash);
 		} else {
 			// fprintf(stderr, "UNRECOGNIZED name=%s ", name);
 		}
@@ -1850,7 +1864,9 @@
 							+ 1 + 15 + 1, "");
 		else
 			fprintf(fp, "%c%-15.15s ", c, clock_name);
-		if (!have_da_rid) {
+		if ((flash & TEST12) && (pvl != opeervarlist)) {
+			drlen = fprintf(fp, "(loop)");
+		} else if (!have_da_rid) {
 			drlen = 0;
 		} else {
 			drlen = strlen(dstadr_refid);
@@ -2381,7 +2397,7 @@
 		return FALSE;
 	}
 	chars = rsize - (sizeof(nonce_eq) - 1);
-	if (chars >= (int)cb_nonce)
+	if (chars >= cb_nonce)
 		return FALSE;
 	memcpy(nonce, rdata + sizeof(nonce_eq) - 1, chars);
 	nonce[chars] = '\0';
@@ -2647,6 +2663,7 @@
 		have_addr_older = FALSE;
 		have_last_older = FALSE;
 		while (!qres && nextvar(&rsize, &rdata, &tag, &val)) {
+			INSIST(tag && val);
 			if (debug > 1)
 				fprintf(stderr, "nextvar gave: %s = %s\n",
 					tag, val);
@@ -3391,11 +3408,9 @@
 	fields = 0;
 	ui = 0;
 	while (nextvar(&dsize, &datap, &tag, &val)) {
+		INSIST(tag && val);
 		if (debug > 1)
-			fprintf(stderr, "nextvar gave: %s = %s\n", tag,
-				(NULL == val)
-				    ? ""
-				    : val);
+		    fprintf(stderr, "nextvar gave: %s = %s\n", tag, val);
 		comprende = FALSE;
 		switch(tag[0]) {
 
@@ -3407,7 +3422,7 @@
 
 		case 'b':
 			if (1 == sscanf(tag, bcast_fmt, &ui) &&
-			    (NULL == val ||
+			    ('\0' == *val ||
 			     decodenetnum(val, &row.bcast)))
 				comprende = TRUE;
 			break;
@@ -3433,7 +3448,6 @@
 		case 'n':
 			if (1 == sscanf(tag, name_fmt, &ui)) {
 				/* strip quotes */
-				INSIST(val);
 				len = strlen(val);
 				if (len >= 2 &&
 				    len - 2 < sizeof(row.name)) {
@@ -3607,11 +3621,9 @@
 	fields = 0;
 	ui = 0;
 	while (nextvar(&dsize, &datap, &tag, &val)) {
+		INSIST(tag && val);
 		if (debug > 1)
-			fprintf(stderr, "nextvar gave: %s = %s\n", tag,
-				(NULL == val)
-				    ? ""
-				    : val);
+			fprintf(stderr, "nextvar gave: %s = %s\n", tag, val);
 		comprende = FALSE;
 		switch(tag[0]) {
 
@@ -3718,8 +3730,7 @@
 	 * the retrieved values.
 	 */
 	while (nextvar(&rsize, &rdata, &tag, &val)) {
-		if (NULL == val)
-			continue;
+		INSIST(tag && val);
 		n = 0;
 		for (pvdc = table; pvdc->tag != NULL; pvdc++) {
 			len = strlen(pvdc->tag);
@@ -3944,9 +3955,9 @@
 	)
 {
     static vdc monstats_vdc[] = {
-	VDC_INIT("mru_enabled",	"enabled:            ", NTP_STR),
+	VDC_INIT("mru_enabled",		"enabled:            ", NTP_STR),
 	VDC_INIT("mru_depth",		"addresses:          ", NTP_STR),
-	VDC_INIT("mru_deepest",	"peak addresses:     ", NTP_STR),
+	VDC_INIT("mru_deepest",		"peak addresses:     ", NTP_STR),
 	VDC_INIT("mru_maxdepth",	"maximum addresses:  ", NTP_STR),
 	VDC_INIT("mru_mindepth",	"reclaim above count:", NTP_STR),
 	VDC_INIT("mru_maxage",		"reclaim older than: ", NTP_STR),
--- contrib/ntp/ntpq/ntpq.1ntpqman.orig
+++ contrib/ntp/ntpq/ntpq.1ntpqman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpq 1ntpqman "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpq 1ntpqman "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-D4aGRT/ag-Q4ayQT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:22 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:02 AM by AutoGen 5.18.5
 .\" From the definitions ntpq-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpq/ntpq.1ntpqmdoc.orig
+++ contrib/ntp/ntpq/ntpq.1ntpqmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPQ 1ntpqmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpq-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:28 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:59 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpq-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpq/ntpq.c.orig
+++ contrib/ntp/ntpq/ntpq.c
@@ -32,19 +32,21 @@
 #include "ntp_lineedit.h"
 #include "ntp_debug.h"
 #ifdef OPENSSL
-#include "openssl/evp.h"
-#include "openssl/objects.h"
-#include "openssl/err.h"
-#ifdef SYS_WINNT
-# include "openssl/opensslv.h"
-# if !defined(HAVE_EVP_MD_DO_ALL_SORTED) && OPENSSL_VERSION_NUMBER > 0x10000000L
-#    define HAVE_EVP_MD_DO_ALL_SORTED	1
+# include "openssl/evp.h"
+# include "openssl/objects.h"
+# include "openssl/err.h"
+# ifdef SYS_WINNT
+#  include "openssl/opensslv.h"
+#  if !defined(HAVE_EVP_MD_DO_ALL_SORTED) && OPENSSL_VERSION_NUMBER > 0x10000000L
+#     define HAVE_EVP_MD_DO_ALL_SORTED	1
+#  endif
 # endif
+# include "libssl_compat.h"
+# ifdef HAVE_OPENSSL_CMAC_H
+#  include <openssl/cmac.h>
+#  define CMAC "AES128CMAC"
+# endif
 #endif
-#include "libssl_compat.h"
-
-#define CMAC "AES128CMAC"
-#endif
 #include <ssl_applink.c>
 
 #include "ntp_libopts.h"
@@ -111,10 +113,6 @@
  */
 u_char pktversion = NTP_OLDVERSION + 1;
 
-/*
- * Don't jump if no set jmp.
- */
-volatile int jump = 0;
 
 /*
  * Format values
@@ -218,10 +216,8 @@
 static	void	cooked		(struct parse *, FILE *);
 static	void	authenticate	(struct parse *, FILE *);
 static	void	ntpversion	(struct parse *, FILE *);
-static	void	warning		(const char *, ...)
-    __attribute__((__format__(__printf__, 1, 2)));
-static	void	error		(const char *, ...)
-    __attribute__((__format__(__printf__, 1, 2)));
+static	void	warning		(const char *, ...) NTP_PRINTF(1, 2);
+static	void	error		(const char *, ...) NTP_PRINTF(1, 2);
 static	u_long	getkeyid	(const char *);
 static	void	atoascii	(const char *, size_t, char *, size_t);
 static	void	cookedprint	(int, size_t, const char *, int, int, FILE *);
@@ -231,11 +227,21 @@
 static	void	endoutput	(FILE *);
 static	void	outputarr	(FILE *, char *, int, l_fp *);
 static	int	assoccmp	(const void *, const void *);
+	u_short	varfmt		(const char *);
+	void	ntpq_custom_opt_handler(tOptions *, tOptDesc *);
+
+#ifndef BUILD_AS_LIB
+static	char   *list_digest_names(void);
+static	char   *insert_cmac	(char *list);
 static	void	on_ctrlc	(void);
-	u_short	varfmt		(const char *);
 static	int	my_easprintf	(char**, const char *, ...) NTP_PRINTF(2, 3);
-void	ntpq_custom_opt_handler	(tOptions *, tOptDesc *);
+# if defined(OPENSSL) && defined(HAVE_EVP_MD_DO_ALL_SORTED)
+static	void	list_md_fn	(const EVP_MD *m, const char *from,
+				 const char *to, void *arg);
+# endif /* defined(OPENSSL) && defined(HAVE_EVP_MD_DO_ALL_SORTED) */
+#endif /* !defined(BUILD_AS_LIB) */
 
+
 /* read a character from memory and expand to integer */
 static inline int
 pgetc(
@@ -246,14 +252,6 @@
 }
 
 
-#ifdef OPENSSL
-# ifdef HAVE_EVP_MD_DO_ALL_SORTED
-static void list_md_fn(const EVP_MD *m, const char *from,
-		       const char *to, void *arg );
-# endif
-#endif
-static char *insert_cmac(char *list);
-static char *list_digest_names(void);
 
 /*
  * Built-in commands we understand
@@ -422,14 +420,34 @@
 #define	STREQ(a, b)	(*(a) == *(b) && strcmp((a), (b)) == 0)
 
 /*
- * Jump buffer for longjumping back to the command level
+ * Jump buffer for longjumping back to the command level.
+ *
+ * Since we do this from a signal handler, we use 'sig{set,long}jmp()'
+ * if available. The signal is blocked by default during the excution of
+ * a signal handler, and it is unspecified if '{set,long}jmp()' save and
+ * restore the signal mask. They do on BSD, it depends on the GLIBC
+ * version on Linux, and the gods know what happens on other OSes...
+ *
+ * So we use the 'sig{set,long}jmp()' functions where available, because
+ * for them the semantics are well-defined. If we have to fall back to
+ * '{set,long}jmp()', the CTRL-C handling might be a bit erratic.
  */
-jmp_buf interrupt_buf;
+#if HAVE_DECL_SIGSETJMP && HAVE_DECL_SIGLONGJMP
+# define JMP_BUF	sigjmp_buf
+# define SETJMP(x)	sigsetjmp((x), 1)
+# define LONGJMP(x, v)	siglongjmp((x),(v))
+#else
+# define JMP_BUF	jmp_buf
+# define SETJMP(x)	setjmp((x))
+# define LONGJMP(x, v)	longjmp((x),(v))
+#endif
+static	JMP_BUF		interrupt_buf;
+static	volatile int	jump = 0;
 
 /*
  * Points at file being currently printed into
  */
-FILE *current_output;
+FILE *current_output = NULL;
 
 /*
  * Command table imported from ntpdc_ops.c
@@ -608,10 +626,10 @@
 	} else {
 		for (ihost = 0; ihost < numhosts; ihost++) {
 			if (openhost(chosts[ihost].name, chosts[ihost].fam)) {
-				if (ihost)
+				if (ihost && current_output)
 					fputc('\n', current_output);
 				for (icmd = 0; icmd < numcmds; icmd++) {
-					if (icmd)
+					if (icmd && current_output)
 						fputc('\n', current_output);
 					docmd(ccmds[icmd]);
 				}
@@ -636,29 +654,26 @@
 {
 	const char svc[] = "ntp";
 	char temphost[LENHOSTNAME];
-	int a_info, i;
+	int a_info;
 	struct addrinfo hints, *ai;
 	sockaddr_u addr;
 	size_t octets;
-	register const char *cp;
+	const char *cp;
 	char name[LENHOSTNAME];
 
 	/*
 	 * We need to get by the [] if they were entered
 	 */
-
-	cp = hname;
-
-	if (*cp == '[') {
-		cp++;
-		for (i = 0; *cp && *cp != ']'; cp++, i++)
-			name[i] = *cp;
-		if (*cp == ']') {
-			name[i] = '\0';
-			hname = name;
-		} else {
+	if (*hname == '[') {
+		cp = strchr(hname + 1, ']');
+		if (!cp || (octets = (size_t)(cp - hname) - 1) >= sizeof(name)) {
+			errno = EINVAL;
+			warning("%s", "bad hostname/address");
 			return 0;
 		}
+		memcpy(name, hname + 1, octets);
+		name[octets] = '\0';
+		hname = name;
 	}
 
 	/*
@@ -1568,7 +1583,7 @@
 	(void) fflush(stderr);
 	if (jump) {
 		jump = 0;
-		longjmp(interrupt_buf, 1);
+		LONGJMP(interrupt_buf, 1);
 	}
 	return TRUE;
 }
@@ -1656,23 +1671,29 @@
 			perror("");
 			return;
 		}
-		i = 1;		/* flag we need a close */
 	} else {
 		current_output = stdout;
-		i = 0;		/* flag no close */
 	}
 
-	if (interactive && setjmp(interrupt_buf)) {
+	if (interactive) {
+		if ( ! SETJMP(interrupt_buf)) {
+			jump = 1;
+			(xcmd->handler)(&pcmd, current_output);
+			jump = 0;
+		} else {
+			fflush(current_output);
+			fputs("\n >>> command aborted <<<\n", stderr);
+			fflush(stderr);
+		}
+
+	} else {
 		jump = 0;
-		return;
-	} else {
-		jump++;
 		(xcmd->handler)(&pcmd, current_output);
-		jump = 0;	/* HMS: 961106: was after fclose() */
-		if (i) (void) fclose(current_output);
 	}
-
-	return;
+	if ((NULL != current_output) && (stdout != current_output)) {
+		(void)fclose(current_output);
+		current_output = NULL;
+	}
 }
 
 
@@ -2504,7 +2525,7 @@
 /*
  * showdrefid2str - return a string explanation of the value of drefid
  */
-static char *
+static const char *
 showdrefid2str(void)
 {
 	switch (drefid) {
@@ -3055,10 +3076,146 @@
 char circ_buf[NUMCB][CBLEN];
 int nextcb = 0;
 
+/* --------------------------------------------------------------------
+ * Parsing a response value list
+ *
+ * This sounds simple (and it actually is not really hard) but it has
+ * some pitfalls.
+ *
+ * Rule1: CR/LF is never embedded in an item
+ * Rule2: An item is a name, optionally followed by a value
+ * Rule3: The value is separated from the name by a '='
+ * Rule4: Items are separated by a ','
+ * Rule5: values can be quoted by '"', in which case they can contain
+ *        arbitrary characters but *not* '"', CR and LF
+ *
+ * There are a few implementations out there that require a somewhat
+ * relaxed attitude when parsing a value list, especially since we want
+ * to copy names and values into local buffers. If these would overflow,
+ * the item should be skipped without terminating the parsing sequence.
+ *
+ * Also, for empty values, there might be a '=' after the name or not;
+ * we treat that equivalent.
+ *
+ * Parsing an item definitely breaks on a CR/LF. If an item is not
+ * followed by a comma (','), parsing stops. In the middle of a quoted
+ * character sequence CR/LF terminates the parsing finally without
+ * returning a value.
+ *
+ * White space and other noise is ignored when parsing the data buffer;
+ * only CR, LF, ',', '=' and '"' are characters with a special meaning.
+ * White space is stripped from the names and values *after* working
+ * through the buffer, before making the local copies. If whitespace
+ * stripping results in an empty name, parsing resumes.
+ */
+
 /*
+ * nextvar parsing helpers
+ */
+
+/* predicate: allowed chars inside a quoted string */
+static int/*BOOL*/ cp_qschar(int ch)
+{
+	return ch && (ch != '"' && ch != '\r' && ch != '\n');
+}
+
+/* predicate: allowed chars inside an unquoted string */
+static int/*BOOL*/ cp_uqchar(int ch)
+{
+	return ch && (ch != ',' && ch != '"' && ch != '\r' && ch != '\n');
+}
+
+/* predicate: allowed chars inside a value name */
+static int/*BOOL*/ cp_namechar(int ch)
+{
+	return ch && (ch != ',' && ch != '=' && ch != '\r' && ch != '\n'); 
+}
+
+/* predicate: characters *between* list items. We're relaxed here. */
+static int/*BOOL*/ cp_ivspace(int ch)
+{
+	return (ch == ',' || (ch > 0 && ch <= ' ')); 
+}
+
+/* get current character (or NUL when on end) */
+static inline int
+pf_getch(
+	const char **	datap,
+	const char *	endp
+	)
+{
+	return (*datap != endp)
+	    ? *(const unsigned char*)*datap
+	    : '\0';
+}
+
+/* get next character (or NUL when on end) */
+static inline int
+pf_nextch(
+	const char **	datap,
+	const char *	endp
+	)
+{
+	return (*datap != endp && ++(*datap) != endp)
+	    ? *(const unsigned char*)*datap
+	    : '\0';
+}
+
+static size_t
+str_strip(
+	const char ** 	datap,
+	size_t		len
+	)
+{
+	static const char empty[] = "";
+	
+	if (*datap && len) {
+		const char * cpl = *datap;
+		const char * cpr = cpl + len;
+		
+		while (cpl != cpr && *(const unsigned char*)cpl <= ' ')
+			++cpl;
+		while (cpl != cpr && *(const unsigned char*)(cpr - 1) <= ' ')
+			--cpr;
+		*datap = cpl;		
+		len = (size_t)(cpr - cpl);
+	} else {
+		*datap = empty;
+		len = 0;
+	}
+	return len;
+}
+
+static void
+pf_error(
+	const char *	what,
+	const char *	where,
+	const char *	whend
+	)
+{
+#   ifndef BUILD_AS_LIB
+	
+	FILE *	ofp = (debug > 0) ? stdout : stderr;
+	size_t	len = (size_t)(whend - where);
+	
+	if (len > 50) /* *must* fit into an 'int'! */
+		len = 50;
+	fprintf(ofp, "nextvar: %s: '%.*s'\n",
+		what, (int)len, where);
+	
+#   else  /*defined(BUILD_AS_LIB)*/
+
+	UNUSED_ARG(what);
+	UNUSED_ARG(where);
+	UNUSED_ARG(whend);
+	
+#   endif /*defined(BUILD_AS_LIB)*/
+}
+
+/*
  * nextvar - find the next variable in the buffer
  */
-int
+int/*BOOL*/
 nextvar(
 	size_t *datalen,
 	const char **datap,
@@ -3066,92 +3223,124 @@
 	char **vvalue
 	)
 {
-	const char *cp;
-	const char *np;
-	const char *cpend;
-	size_t srclen;
-	size_t len;
-	static char name[MAXVARLEN];
-	static char value[MAXVALLEN];
+	enum PState 	{ sDone, sInit, sName, sValU, sValQ };
+	
+	static char	name[MAXVARLEN], value[MAXVALLEN];
 
-	cp = *datap;
-	cpend = cp + *datalen;
+	const char	*cp, *cpend;
+	const char	*np, *vp;
+	size_t		nlen, vlen;
+	int		ch;
+	enum PState	st;
+	
+	cpend = *datap + *datalen;
 
-	/*
-	 * Space past commas and white space
-	 */
-	while (cp < cpend && (*cp == ',' || isspace(pgetc(cp))))
-		cp++;
-	if (cp >= cpend)
-		return 0;
+  again:
+	np   = vp   = NULL;
+	nlen = vlen = 0;
+	
+	st = sInit;
+	ch = pf_getch(datap, cpend);
 
-	/*
-	 * Copy name until we hit a ',', an '=', a '\r' or a '\n'.  Backspace
-	 * over any white space and terminate it.
-	 */
-	srclen = strcspn(cp, ",=\r\n");
-	srclen = min(srclen, (size_t)(cpend - cp));
-	len = srclen;
-	while (len > 0 && isspace(pgetc(&cp[len - 1])))
-		len--;
-	if (len >= sizeof(name))
-	    return 0;
-	if (len > 0)
-		memcpy(name, cp, len);
-	name[len] = '\0';
-	*vname = name;
-	cp += srclen;
-
-	/*
-	 * Check if we hit the end of the buffer or a ','.  If so we are done.
-	 */
-	if (cp >= cpend || *cp == ',' || *cp == '\r' || *cp == '\n') {
-		if (cp < cpend)
-			cp++;
-		*datap = cp;
-		*datalen = size2int_sat(cpend - cp);
-		*vvalue = NULL;
-		return 1;
+	while (st != sDone) {
+		switch (st)
+		{
+		case sInit:	/* handle inter-item chars */
+			while (cp_ivspace(ch))
+				ch = pf_nextch(datap, cpend);
+			if (cp_namechar(ch)) {
+				np = *datap;
+				cp = np;
+				st = sName;
+				ch = pf_nextch(datap, cpend);
+			} else {
+				goto final_done;
+			}
+			break;
+			    
+		case sName:	/* collect name */
+			while (cp_namechar(ch))
+				ch = pf_nextch(datap, cpend);
+			nlen = (size_t)(*datap - np);
+			if (ch == '=') {
+				ch = pf_nextch(datap, cpend);
+				vp = *datap;
+				st = sValU;
+			} else {
+				if (ch != ',')
+					*datap = cpend;
+				st = sDone;
+			}
+			break;
+			
+		case sValU:	/* collect unquoted part(s) of value */
+			while (cp_uqchar(ch))
+				ch = pf_nextch(datap, cpend);
+			if (ch == '"') {
+				ch = pf_nextch(datap, cpend);
+				st = sValQ;
+			} else {
+				vlen = (size_t)(*datap - vp);
+				if (ch != ',')
+					*datap = cpend;
+				st = sDone;
+			}
+			break;
+			
+		case sValQ:	/* collect quoted part(s) of value */
+			while (cp_qschar(ch))
+				ch = pf_nextch(datap, cpend);
+			if (ch == '"') {
+				ch = pf_nextch(datap, cpend);
+				st = sValU;
+			} else {
+				pf_error("no closing quote, stop", cp, cpend);
+				goto final_done;
+			}
+			break;
+			
+		default:
+			pf_error("state machine error, stop", *datap, cpend);
+			goto final_done;
+		}
 	}
 
-	/*
-	 * So far, so good.  Copy out the value
+	/* If name or value do not fit their buffer, croak and start
+	 * over. If there's no name at all after whitespace stripping,
+	 * redo silently.
 	 */
-	cp++;	/* past '=' */
-	while (cp < cpend && (isspace(pgetc(cp)) && *cp != '\r' && *cp != '\n'))
-		cp++;
-	np = cp;
-	if ('"' == *np) {
-		do {
-			np++;
-		} while (np < cpend && '"' != *np);
-		if (np < cpend && '"' == *np)
-			np++;
-	} else {
-		while (np < cpend && ',' != *np && '\r' != *np)
-			np++;
+	nlen = str_strip(&np, nlen);
+	vlen = str_strip(&vp, vlen);
+	
+	if (nlen == 0) {
+		goto again;
 	}
-	len = np - cp;
-	if (np > cpend || len >= sizeof(value) ||
-	    (np < cpend && ',' != *np && '\r' != *np))
-		return 0;
-	memcpy(value, cp, len);
-	/*
-	 * Trim off any trailing whitespace
-	 */
-	while (len > 0 && isspace(pgetc(&value[len - 1])))
-		len--;
-	value[len] = '\0';
+	if (nlen >= sizeof(name)) {
+		pf_error("runaway name", np, cpend);
+		goto again;
+	}
+	if (vlen >= sizeof(value)) {
+		pf_error("runaway value", vp, cpend);
+		goto again;
+	}
 
-	/*
-	 * Return this.  All done.
-	 */
-	if (np < cpend && ',' == *np)
-		np++;
-	*datap = np;
-	*datalen = size2int_sat(cpend - np);
+	/* copy name and value into NUL-terminated buffers */
+	memcpy(name, np, nlen);
+	name[nlen] = '\0';
+	*vname = name;
+	
+	memcpy(value, vp, vlen);
+	value[vlen] = '\0';
 	*vvalue = value;
-	return 1;
+
+	/* check if there's more to do or if we are finshed */
+	*datalen = (size_t)(cpend - *datap);
+	return TRUE;
+
+  final_done:
+	*datap = cpend;
+	*datalen = 0;
+	return FALSE;
 }
 
 
@@ -3318,11 +3507,11 @@
 	 * Hack to align delay and offset values
 	 */
 	for (i = (int)strlen(name); i < 11; i++)
-	    *bp++ = ' ';
+		*bp++ = ' ';
 
 	for (i = narr; i > 0; i--) {
-		if (i != narr)
-		    *bp++ = ' ';
+		if (i != (size_t)narr)
+			*bp++ = ' ';
 		cp = lfptoms(lfp, 2);
 		len = strlen(cp);
 		if (len > 7) {
@@ -3346,44 +3535,61 @@
 	u_long val
 	)
 {
-	register char *cp, *s;
-	size_t cb;
-	register int i;
-	register const char *sep;
+#	if CBLEN < 10
+#	 error BLEN is too small -- increase!
+#	endif
 
-	sep = "";
+	char *cp, *s;
+	size_t cb, i;
+	int l;
+
 	s = cp = circ_buf[nextcb];
 	if (++nextcb >= NUMCB)
 		nextcb = 0;
 	cb = sizeof(circ_buf[0]);
 
-	snprintf(cp, cb, "%02lx", val);
-	cp += strlen(cp);
-	cb -= strlen(cp);
+	l = snprintf(cp, cb, "%02lx", val);
+	if (l < 0 || (size_t)l >= cb)
+		goto fail;
+	cp += l;
+	cb -= l;
 	if (!val) {
-		strlcat(cp, " ok", cb);
-		cp += strlen(cp);
-		cb -= strlen(cp);
+		l = strlcat(cp, " ok", cb);
+		if ((size_t)l >= cb)
+			goto fail;
+		cp += l;
+		cb -= l;
 	} else {
-		if (cb) {
-			*cp++ = ' ';
-			cb--;
-		}
-		for (i = 0; i < (int)COUNTOF(tstflagnames); i++) {
+		const char *sep;
+		
+		sep = " ";
+		for (i = 0; i < COUNTOF(tstflagnames); i++) {
 			if (val & 0x1) {
-				snprintf(cp, cb, "%s%s", sep,
-					 tstflagnames[i]);
+				l = snprintf(cp, cb, "%s%s", sep,
+					     tstflagnames[i]);
+				if (l < 0)
+					goto fail;
+				if ((size_t)l >= cb) {
+					cp += cb - 4;
+					cb = 4;
+					l = strlcpy (cp, "...", cb);
+					cp += l;
+					cb -= l;
+					break;
+				}
 				sep = ", ";
-				cp += strlen(cp);
-				cb -= strlen(cp);
+				cp += l;
+				cb -= l;
 			}
 			val >>= 1;
 		}
 	}
-	if (cb)
-		*cp = '\0';
 
 	return s;
+
+  fail:
+	*cp = '\0';
+	return s;
 }
 
 /*
@@ -3630,220 +3836,218 @@
 #  define K_DELIM_STR	", "
 
 struct hstate {
-   char *list;
-   const char **seen;
-   int idx;
+	char *list;
+	const char **seen;
+	int idx;
 };
 
 
+#  ifndef BUILD_AS_LIB
 static void
 list_md_fn(const EVP_MD *m, const char *from, const char *to, void *arg)
 {
-    size_t 	  len, n, digest_len;
-    const char	  *name, **seen;
-    struct hstate *hstate = arg;
-    char	  *cp;
+	size_t 	       len, n;
+	const char    *name, **seen;
+	struct hstate *hstate = arg;
+	const char    *cp;
+	
+	/* m is MD obj, from is name or alias, to is base name for alias */
+	if (!m || !from || to)
+		return; /* Ignore aliases */
 
-    /* m is MD obj, from is name or alias, to is base name for alias */
-    if (!m || !from || to) {
-        return; /* Ignore aliases */
-    }
+	/* Discard MACs that NTP won't accept. */
+	/* Keep this consistent with keytype_from_text() in ssl_init.c. */
+	if (EVP_MD_size(m) > (MAX_MAC_LEN - sizeof(keyid_t)))
+		return;
+	
+	name = EVP_MD_name(m);
+	
+	/* Lowercase names aren't accepted by keytype_from_text in ssl_init.c */
+	
+	for (cp = name; *cp; cp++)
+		if (islower((unsigned char)*cp))
+			return;
 
-    /* Discard MACs that NTP won't accept. */
-    /* Keep this consistent with keytype_from_text() in ssl_init.c. */
-    if (EVP_MD_size(m) > (MAX_MAC_LEN - sizeof(keyid_t))) {
-        return;
-    }
+	len = (cp - name) + 1;
+	
+	/* There are duplicates.  Discard if name has been seen. */
+	
+	for (seen = hstate->seen; *seen; seen++)
+		if (!strcmp(*seen, name))
+			return;
 
-    name = EVP_MD_name(m);
+	n = (seen - hstate->seen) + 2;
+	hstate->seen = erealloc(hstate->seen, n * sizeof(*seen));
+	hstate->seen[n-2] = name;
+	hstate->seen[n-1] = NULL;
+	
+	if (hstate->list != NULL)
+		len += strlen(hstate->list);
 
-    /* Lowercase names aren't accepted by keytype_from_text in ssl_init.c */
+	len += (hstate->idx >= K_PER_LINE)
+	    ? strlen(K_NL_PFX_STR)
+	    : strlen(K_DELIM_STR);
 
-    for (cp = name; *cp; cp++) {
-	if (islower((unsigned char)*cp)) {
-	    return;
+	if (hstate->list == NULL) {
+		hstate->list = (char *)emalloc(len);
+		hstate->list[0] = '\0';
+	} else {
+		hstate->list = (char *)erealloc(hstate->list, len);
 	}
-    }
-
-    len = (cp - name) + 1;
-
-    /* There are duplicates.  Discard if name has been seen. */
-
-    for (seen = hstate->seen; *seen; seen++) {
-        if (!strcmp(*seen, name)) {
-	    return;
-	}
-    }
-
-    n = (seen - hstate->seen) + 2;
-    hstate->seen = erealloc(hstate->seen, n * sizeof(*seen));
-    hstate->seen[n-2] = name;
-    hstate->seen[n-1] = NULL;
-
-    if (hstate->list != NULL) {
-	len += strlen(hstate->list);
-    }
-
-    len += (hstate->idx >= K_PER_LINE)
-		? strlen(K_NL_PFX_STR)
-		: strlen(K_DELIM_STR);
-
-    if (hstate->list == NULL) {
-        hstate->list = (char *)emalloc(len);
-	hstate->list[0] = '\0';
-    } else {
-	hstate->list = (char *)erealloc(hstate->list, len);
-    }
-
-    sprintf(hstate->list + strlen(hstate->list), "%s%s",
-	    ((hstate->idx >= K_PER_LINE) ? K_NL_PFX_STR : K_DELIM_STR),
-	    name);
-
-    if (hstate->idx >= K_PER_LINE) {
-	hstate->idx = 1;
-    } else {
-	hstate->idx++;
-    }
+	
+	sprintf(hstate->list + strlen(hstate->list), "%s%s",
+		((hstate->idx >= K_PER_LINE) ? K_NL_PFX_STR : K_DELIM_STR),
+		name);
+	
+	if (hstate->idx >= K_PER_LINE)
+		hstate->idx = 1;
+	else
+		hstate->idx++;
 }
+#  endif /* !defined(BUILD_AS_LIB) */
 
-
+#  ifndef BUILD_AS_LIB
 /* Insert CMAC into SSL digests list */
 static char *
 insert_cmac(char *list)
 {
-    int insert;
-    size_t len;
+#ifdef ENABLE_CMAC
+	int insert;
+	size_t len;
 
 
-    /* If list empty, we need to insert CMAC on new line */
-    insert = (!list || !*list);
-
-    if (insert) {
-	len = strlen(K_NL_PFX_STR) + strlen(CMAC);
-	list = (char *)erealloc(list, len + 1);
-	sprintf(list, "%s%s", K_NL_PFX_STR, CMAC);
-    } else {	/* List not empty */
-	/* Check if CMAC already in list - future proofing */
-	const char *cmac_sn;
-	char *cmac_p;
-
-	cmac_sn = OBJ_nid2sn(NID_cmac);
-	cmac_p = list;
-	insert = cmac_sn != NULL && *cmac_sn != '\0';
-
-	/* CMAC in list if found, followed by nul char or ',' */
-	while (insert && NULL != (cmac_p = strstr(cmac_p, cmac_sn))) {
-	    cmac_p += strlen(cmac_sn);
-	    /* Still need to insert if not nul and not ',' */
-	    insert = *cmac_p && ',' != *cmac_p;
-	}
-
-	/* Find proper insertion point */
+	/* If list empty, we need to insert CMAC on new line */
+	insert = (!list || !*list);
+	
 	if (insert) {
-	    char *last_nl;
-	    char *point;
-	    char *delim;
-	    int found;
-
-	    /* Default to start if list empty */
-	    found = 0;
-	    delim = list;
-	    len = strlen(list);
-
-	    /* While new lines */
-	    while (delim < list + len && *delim &&
-			!strncmp(K_NL_PFX_STR, delim, strlen(K_NL_PFX_STR))) {
-		point = delim + strlen(K_NL_PFX_STR);
-
-		/* While digest names on line */
-		while (point < list + len && *point) {
-		    /* Another digest after on same or next line? */
-		    delim = strstr( point, K_DELIM_STR);
-		    last_nl = strstr( point, K_NL_PFX_STR);
-
-		    /* No - end of list */
-		    if (!delim && !last_nl) {
-			delim = list + len;
-		    } else
-		    /* New line and no delim or before delim? */
-		    if (last_nl && (!delim || last_nl < delim)) {
-			delim = last_nl;
-		    }
-
-		    /* Found insertion point where CMAC before entry? */
-		    if (strncmp(CMAC, point, delim - point) < 0) {
-			found = 1;
-			break;
-		    }
-
-		    if (delim < list + len && *delim &&
-			    !strncmp(K_DELIM_STR, delim, strlen(K_DELIM_STR))) {
-			point += strlen(K_DELIM_STR);
-		    } else {
-			break;
-		    }
-		} /* While digest names on line */
-	    } /* While new lines */
-
-	    /* If found in list */
-	    if (found) {
-		/* insert cmac and delim */
-		/* Space for list could move - save offset */
-		ptrdiff_t p_offset = point - list;
-		len += strlen(CMAC) + strlen(K_DELIM_STR);
+		len = strlen(K_NL_PFX_STR) + strlen(CMAC);
 		list = (char *)erealloc(list, len + 1);
-		point = list + p_offset;
-		/* move to handle src/dest overlap */
-		memmove(point + strlen(CMAC) + strlen(K_DELIM_STR),
+		sprintf(list, "%s%s", K_NL_PFX_STR, CMAC);
+	} else {	/* List not empty */
+		/* Check if CMAC already in list - future proofing */
+		const char *cmac_sn;
+		char *cmac_p;
+		
+		cmac_sn = OBJ_nid2sn(NID_cmac);
+		cmac_p = list;
+		insert = cmac_sn != NULL && *cmac_sn != '\0';
+		
+		/* CMAC in list if found, followed by nul char or ',' */
+		while (insert && NULL != (cmac_p = strstr(cmac_p, cmac_sn))) {
+			cmac_p += strlen(cmac_sn);
+			/* Still need to insert if not nul and not ',' */
+			insert = *cmac_p && ',' != *cmac_p;
+		}
+		
+		/* Find proper insertion point */
+		if (insert) {
+			char *last_nl;
+			char *point;
+			char *delim;
+			int found;
+			
+			/* Default to start if list empty */
+			found = 0;
+			delim = list;
+			len = strlen(list);
+			
+			/* While new lines */
+			while (delim < list + len && *delim &&
+			       !strncmp(K_NL_PFX_STR, delim, strlen(K_NL_PFX_STR))) {
+				point = delim + strlen(K_NL_PFX_STR);
+				
+				/* While digest names on line */
+				while (point < list + len && *point) {
+					/* Another digest after on same or next line? */
+					delim = strstr( point, K_DELIM_STR);
+					last_nl = strstr( point, K_NL_PFX_STR);
+					
+					/* No - end of list */
+					if (!delim && !last_nl) {
+						delim = list + len;
+					} else
+						/* New line and no delim or before delim? */
+						if (last_nl && (!delim || last_nl < delim)) {
+							delim = last_nl;
+						}
+					
+					/* Found insertion point where CMAC before entry? */
+					if (strncmp(CMAC, point, delim - point) < 0) {
+						found = 1;
+						break;
+					}
+					
+					if (delim < list + len && *delim &&
+					    !strncmp(K_DELIM_STR, delim, strlen(K_DELIM_STR))) {
+						point += strlen(K_DELIM_STR);
+					} else {
+						break;
+					}
+				} /* While digest names on line */
+			} /* While new lines */
+			
+			/* If found in list */
+			if (found) {
+				/* insert cmac and delim */
+				/* Space for list could move - save offset */
+				ptrdiff_t p_offset = point - list;
+				len += strlen(CMAC) + strlen(K_DELIM_STR);
+				list = (char *)erealloc(list, len + 1);
+				point = list + p_offset;
+				/* move to handle src/dest overlap */
+				memmove(point + strlen(CMAC) + strlen(K_DELIM_STR),
 					point, strlen(point) + 1);
-		strncpy(point, CMAC, strlen(CMAC));
-		strncpy(point + strlen(CMAC), K_DELIM_STR, strlen(K_DELIM_STR));
-	    } else {	/* End of list */
-		/* append delim and cmac */
-		len += strlen(K_DELIM_STR) + strlen(CMAC);
-		list = (char *)erealloc(list, len + 1);
-		strcpy(list + strlen(list), K_DELIM_STR);
-		strcpy(list + strlen(list), CMAC);
-	    }
-	} /* insert */
-    } /* List not empty */
-
-    return list;
+				strncpy(point, CMAC, strlen(CMAC));
+				strncpy(point + strlen(CMAC), K_DELIM_STR, strlen(K_DELIM_STR));
+			} else {	/* End of list */
+				/* append delim and cmac */
+				len += strlen(K_DELIM_STR) + strlen(CMAC);
+				list = (char *)erealloc(list, len + 1);
+				strcpy(list + strlen(list), K_DELIM_STR);
+				strcpy(list + strlen(list), CMAC);
+			}
+		} /* insert */
+	} /* List not empty */
+#endif /*ENABLE_CMAC*/
+	return list;
 }
+#  endif /* !defined(BUILD_AS_LIB) */
 # endif
 #endif
 
 
+#ifndef BUILD_AS_LIB
 static char *
 list_digest_names(void)
 {
-    char *list = NULL;
-
+	char *list = NULL;
+	
 #ifdef OPENSSL
 # ifdef HAVE_EVP_MD_DO_ALL_SORTED
-    struct hstate hstate = { NULL, NULL, K_PER_LINE+1 };
-
-    /* replace calloc(1, sizeof(const char *)) */
-    hstate.seen = (const char **)emalloc_zero(sizeof(const char *));
-
-    INIT_SSL();
-    EVP_MD_do_all_sorted(list_md_fn, &hstate);
-    list = hstate.list;
-    free(hstate.seen);
-
-    list = insert_cmac(list);	/* Insert CMAC into SSL digests list */
-
+	struct hstate hstate = { NULL, NULL, K_PER_LINE+1 };
+	
+	/* replace calloc(1, sizeof(const char *)) */
+	hstate.seen = (const char **)emalloc_zero(sizeof(const char *));
+	
+	INIT_SSL();
+	EVP_MD_do_all_sorted(list_md_fn, &hstate);
+	list = hstate.list;
+	free(hstate.seen);
+	
+	list = insert_cmac(list);	/* Insert CMAC into SSL digests list */
+	
 # else
-    list = (char *)emalloc(sizeof("md5, others (upgrade to OpenSSL-1.0 for full list)"));
-    strcpy(list, "md5, others (upgrade to OpenSSL-1.0 for full list)");
+	list = (char *)emalloc(sizeof("md5, others (upgrade to OpenSSL-1.0 for full list)"));
+	strcpy(list, "md5, others (upgrade to OpenSSL-1.0 for full list)");
 # endif
 #else
-    list = (char *)emalloc(sizeof("md5"));
-    strcpy(list, "md5");
+	list = (char *)emalloc(sizeof("md5"));
+	strcpy(list, "md5");
 #endif
-
-    return list;
+	
+	return list;
 }
+#endif /* !defined(BUILD_AS_LIB) */
 
 #define CTRLC_STACK_MAX 4
 static volatile size_t		ctrlc_stack_len = 0;
@@ -3881,6 +4085,7 @@
 	return FALSE;
 }
 
+#ifndef BUILD_AS_LIB
 static void
 on_ctrlc(void)
 {
@@ -3889,7 +4094,9 @@
 		if ((*ctrlc_stack[--size])())
 			break;
 }
+#endif /* !defined(BUILD_AS_LIB) */
 
+#ifndef BUILD_AS_LIB
 static int
 my_easprintf(
 	char ** 	ppinto,
@@ -3927,3 +4134,4 @@
 	*ppinto = buf;
 	return prc;
 }
+#endif /* !defined(BUILD_AS_LIB) */
--- contrib/ntp/ntpq/ntpq.html.orig
+++ contrib/ntp/ntpq/ntpq.html
@@ -1,122 +1,179 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>ntpq: Network Time Protocol Query User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="ntpq: Network Time Protocol Query User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ntpq: Network Time Protocol Query User&rsquo;s Manual</title>
+
+<meta name="description" content="ntpq: Network Time Protocol Query User&rsquo;s Manual">
+<meta name="keywords" content="ntpq: Network Time Protocol Query User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">ntpq: Network Time Protocol Query User's Manual</h1>
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">ntpq: Network Time Protocol Query User Manual</a>
+
+<body lang="en">
+<h1 class="settitle" align="center">ntpq: Network Time Protocol Query User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
 </div>
 
 
-
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-Description">ntpq Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-Description" accesskey="n" rel="next">ntpq Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="ntpq_003a-Network-Time-Protocol-Query-User-Manual"></a>
+<h1 class="top">ntpq: Network Time Protocol Query User Manual</h1>
 
-<h2 class="unnumbered">ntpq: Network Time Protocol Query User Manual</h2>
-
 <p>The <code>ntpq</code> utility program is used to
 monitor the operational status
 and determine the performance of
 <code>ntpd</code>, the NTP daemon.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntpq</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-Description" accesskey="1">ntpq Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-Invocation" accesskey="2">ntpq Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntpq
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="3">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Internal-Commands" accesskey="4">Internal Commands</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Control-Message-Commands" accesskey="5">Control Message Commands</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Status-Words-and-Kiss-Codes" accesskey="6">Status Words and Kiss Codes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#System-Variables" accesskey="7">System Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Peer-Variables" accesskey="8">Peer Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Clock-Variables" accesskey="9">Clock Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-  <p>This document applies to version 4.2.8p11 of <code>ntpq</code>.
-
-<ul class="menu">
-<li><a accesskey="1" href="#ntpq-Description">ntpq Description</a>
-<li><a accesskey="2" href="#ntpq-Invocation">ntpq Invocation</a>:              Invoking ntpq
-<li><a accesskey="3" href="#Usage">Usage</a>
-<li><a accesskey="4" href="#Internal-Commands">Internal Commands</a>
-<li><a accesskey="5" href="#Control-Message-Commands">Control Message Commands</a>
-<li><a accesskey="6" href="#Status-Words-and-Kiss-Codes">Status Words and Kiss Codes</a>
-<li><a accesskey="7" href="#System-Variables">System Variables</a>
-<li><a accesskey="8" href="#Peer-Variables">Peer Variables</a>
-<li><a accesskey="9" href="#Clock-Variables">Clock Variables</a>
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntpq-Description"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Usage">Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="ntpq-Description"></a>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
-<p>The <code>ntpq</code> utility program is used to monitor NTP daemon <code>ntpd</code> operations and determine performance. 
+<p>The <code>ntpq</code> utility program is used to monitor NTP daemon <code>ntpd</code> operations and determine performance.
 It uses the standard NTP mode 6 control message formats defined in
-Appendix B of the NTPv3 specification RFC1305. 
-The same formats are used in NTPv4, although some of the variable names have changed and new ones added. 
+Appendix B of the NTPv3 specification RFC1305.
+The same formats are used in NTPv4, although some of the variable names have changed and new ones added.
 The description on this page is for the NTPv4 variables.
+</p>
+<p>The program can be run either in interactive mode or controlled using command line arguments.  Requests to read and write arbitrary variables can be assembled, with raw and pretty-printed output options being available.  The <code>ntpq</code> can also obtain and print a list of peers in a common format by sending multiple queries to the server.
+</p>
+<p>If one or more request options is included on the command line when <code>ntpq</code> is executed, each of the requests will be sent to the NTP servers running on each of the hosts given as command line arguments, or on localhost by default.  If no request options are given, <code>ntpq</code> will attempt to read commands from the standard input and execute these on the NTP server running on the first host given on the command line, again defaulting to localhost when no other host is specified.  <code>ntpq</code> will prompt for commands if the standard input is a terminal device.
+</p>
+<p><code>ntpq</code> uses NTP mode 6 packets to communicate with the NTP server, and hence can be used to query any compatible server on the network which permits it.  Note that since NTP is a UDP protocol this communication will be somewhat unreliable, especially over large distances in terms of network topology.  <code>ntpq</code> makes one attempt to retransmit requests, and will time requests out if the remote host is not heard from within a suitable timeout time.
+</p>
+<p>Note that in contexts where a host name is expected, a <code>-4</code> qualifier preceding the host name forces DNS resolution to the IPv4 namespace, while a <code>-6</code> qualifier forces DNS resolution to the IPv6 namespace.
+</p>
+<p>For examples and usage, see the <a href="debug.html">NTP Debugging Techniques</a> page.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-Invocation" accesskey="1">ntpq Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="2">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Internal-Commands" accesskey="3">Internal Commands</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Control-Message-Commands" accesskey="4">Control Message Commands</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Status-Words-and-Kiss-Codes" accesskey="5">Status Words and Kiss Codes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#System-Variables" accesskey="6">System Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Peer-Variables" accesskey="7">Peer Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Clock-Variables" accesskey="8">Clock Variables</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-  <p>The program can be run either in interactive mode or controlled using command line arguments.  Requests to read and write arbitrary variables can be assembled, with raw and pretty-printed output options being available.  The <code>ntpq</code> can also obtain and print a list of peers in a common format by sending multiple queries to the server.
-
-  <p>If one or more request options is included on the command line when <code>ntpq</code> is executed, each of the requests will be sent to the NTP servers running on each of the hosts given as command line arguments, or on localhost by default.  If no request options are given, <code>ntpq</code> will attempt to read commands from the standard input and execute these on the NTP server running on the first host given on the command line, again defaulting to localhost when no other host is specified.  <code>ntpq</code> will prompt for commands if the standard input is a terminal device.
-
-  <p><code>ntpq</code> uses NTP mode 6 packets to communicate with the NTP server, and hence can be used to query any compatible server on the network which permits it.  Note that since NTP is a UDP protocol this communication will be somewhat unreliable, especially over large distances in terms of network topology.  <code>ntpq</code> makes one attempt to retransmit requests, and will time requests out if the remote host is not heard from within a suitable timeout time.
-
-  <p>Note that in contexts where a host name is expected, a <code>-4</code> qualifier preceding the host name forces DNS resolution to the IPv4 namespace, while a <code>-6</code> qualifier forces DNS resolution to the IPv6 namespace.
-
-  <p>For examples and usage, see the <a href="debug.html">NTP Debugging Techniques</a> page.
-
-<div class="node">
-<p><hr>
+<hr>
 <a name="ntpq-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#ntpq-Description" accesskey="p" rel="prev">ntpq Description</a>, Up: <a href="#ntpq-Description" accesskey="u" rel="up">ntpq Description</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntpq"></a>
+<h3 class="section">1.1 Invoking ntpq</h3>
+<a name="index-ntpq"></a>
+<a name="index-standard-NTP-query-program"></a>
 
-<h3 class="section">Invoking ntpq</h3>
 
-<p><a name="index-ntpq-1"></a><a name="index-standard-NTP-query-program-2"></a>
-
-  <p>The
+<p>The
 <code>ntpq</code>
 utility program is used to query NTP servers to monitor NTP operations
 and performance, requesting
-information about current state and/or changes in that state. 
+information about current state and/or changes in that state.
 The program may be run either in interactive mode or controlled using
-command line arguments. 
+command line arguments.
 Requests to read and write arbitrary
 variables can be assembled, with raw and pretty-printed output
-options being available. 
+options being available.
 The
 <code>ntpq</code>
 utility can also obtain and print a
 list of peers in a common format by sending multiple queries to the
 server.
-
-  <p>If one or more request options is included on the command line
+</p>
+<p>If one or more request options is included on the command line
 when
 <code>ntpq</code>
 is executed, each of the requests will be sent
 to the NTP servers running on each of the hosts given as command
-line arguments, or on localhost by default. 
+line arguments, or on localhost by default.
 If no request options
 are given,
 <code>ntpq</code>
@@ -123,19 +180,19 @@
 will attempt to read commands from the
 standard input and execute these on the NTP server running on the
 first host given on the command line, again defaulting to localhost
-when no other host is specified. 
+when no other host is specified.
 The
 <code>ntpq</code>
 utility will prompt for
 commands if the standard input is a terminal device.
-
-  <p><code>ntpq</code>
+</p>
+<p><code>ntpq</code>
 uses NTP mode 6 packets to communicate with the
 NTP server, and hence can be used to query any compatible server on
-the network which permits it. 
+the network which permits it.
 Note that since NTP is a UDP protocol
 this communication will be somewhat unreliable, especially over
-large distances in terms of network topology. 
+large distances in terms of network topology.
 The
 <code>ntpq</code>
 utility makes
@@ -142,18 +199,18 @@
 one attempt to retransmit requests, and will time requests out if
 the remote host is not heard from within a suitable timeout
 time.
-
-  <p>Note that in contexts where a host name is expected, a
+</p>
+<p>Note that in contexts where a host name is expected, a
 <code>-4</code>
 qualifier preceding the host name forces resolution to the IPv4
 namespace, while a
 <code>-6</code>
-qualifier forces resolution to the IPv6 namespace. 
+qualifier forces resolution to the IPv6 namespace.
 For examples and usage, see the
-NTP Debugging Techniques
+&ldquo;NTP Debugging Techniques&rdquo;
 page.
-
-  <p>Specifying a
+</p>
+<p>Specifying a
 command line option other than
 <code>-i</code>
 or
@@ -160,43 +217,78 @@
 <code>-n</code>
 will
 cause the specified query (queries) to be sent to the indicated
-host(s) immediately. 
+host(s) immediately.
 Otherwise,
 <code>ntpq</code>
 will attempt to read
 interactive format commands from the standard input.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-usage" accesskey="1">ntpq usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-ipv4" accesskey="2">ntpq ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-ipv6" accesskey="3">ntpq ipv6</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-command" accesskey="4">ntpq command</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-interactive" accesskey="5">ntpq interactive</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-numeric" accesskey="6">ntpq numeric</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-old_002drv" accesskey="7">ntpq old-rv</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-peers" accesskey="8">ntpq peers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-refid" accesskey="9">ntpq refid</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-wide">ntpq wide</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-config">ntpq config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-exit-status">ntpq exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<h5 class="subsubsection">Internal Commands</h5>
+<a name="Internal-Commands-1"></a>
+<h4 class="subsection">1.1.1 Internal Commands</h4>
 
 <p>Interactive format commands consist of a keyword followed by zero
-to four arguments. 
+to four arguments.
 Only enough characters of the full keyword to
 uniquely identify the command need be typed.
-
-  <p>A
+</p>
+<p>A
 number of interactive format commands are executed entirely within
 the
 <code>ntpq</code>
 utility itself and do not result in NTP
-requests being sent to a server. 
+requests being sent to a server.
 These are described following.
-     <dl>
-<dt><code>?</code> <code>[</code><kbd>command</kbd><code>]</code><br><dt><code>help</code> <code>[</code><kbd>command</kbd><code>]</code><dd>A
-? 
+</p><dl compact="compact">
+<dt><code>?</code> <code>[<kbd>command</kbd>]</code></dt>
+<dt><code>help</code> <code>[<kbd>command</kbd>]</code></dt>
+<dd><p>A
+&lsquo;?&rsquo;
 by itself will print a list of all the commands
 known to
 <code>ntpq</code>
 A
-? 
+&lsquo;?&rsquo;
 followed by a command name will print function and usage
-information about the command. 
-<br><dt><code>addvars</code> <kbd>name</kbd><code>[=</code><kbd>value</kbd><code>]</code><code>[,...]</code><br><dt><code>rmvars</code> <kbd>name</kbd><code>[,...]</code><br><dt><code>clearvars</code><br><dt><code>showvars</code><dd>The arguments to this command consist of a list of
+information about the command.
+</p></dd>
+<dt><code>addvars</code> <kbd>name</kbd><code>[=<kbd>value</kbd>]</code><code>[,...]</code></dt>
+<dt><code>rmvars</code> <kbd>name</kbd><code>[,...]</code></dt>
+<dt><code>clearvars</code></dt>
+<dt><code>showvars</code></dt>
+<dd><p>The arguments to this command consist of a list of
 items of the form
-<kbd>name</kbd><code>[=</code><kbd>value</kbd><code>]</code>,
+<kbd>name</kbd><code>[=<kbd>value</kbd>]</code>,
 where the
 .No = Ns Ar value
 is ignored, and can be omitted,
-in requests to the server to read variables. 
+in requests to the server to read variables.
 The
 <code>ntpq</code>
 utility maintains an internal list in which data to be included in
@@ -204,13 +296,13 @@
 <code>readlist</code>
 and
 <code>writelist</code>
-commands described below. 
+commands described below.
 The
 <code>addvars</code>
 command allows variables and their optional values to be added to
-the list. 
+the list.
 If more than one variable is to be added, the list should
-be comma-separated and not contain white space. 
+be comma-separated and not contain white space.
 The
 <code>rmvars</code>
 command can be used to remove individual variables from the list,
@@ -217,142 +309,177 @@
 while the
 <code>clearvars</code>
 command removes all variables from the
-list. 
+list.
 The
 <code>showvars</code>
-command displays the current list of optional variables. 
-<br><dt><code>authenticate</code> <code>[yes|no]</code><dd>Normally
+command displays the current list of optional variables.
+</p></dd>
+<dt><code>authenticate</code> <code>[<code>yes</code>|<code>no</code>]</code></dt>
+<dd><p>Normally
 <code>ntpq</code>
 does not authenticate requests unless
-they are write requests. 
+they are write requests.
 The command
 <code>authenticate</code> <code>yes</code>
 causes
 <code>ntpq</code>
 to send authentication with all requests it
-makes. 
+makes.
 Authenticated requests causes some servers to handle
-requests slightly differently. 
+requests slightly differently.
 The command
 <code>authenticate</code>
 causes
 <code>ntpq</code>
 to display whether or not
-it is currently authenticating requests. 
-<br><dt><code>cooked</code><dd>Causes output from query commands to be "cooked", so that
+it is currently authenticating requests.
+</p></dd>
+<dt><code>cooked</code></dt>
+<dd><p>Causes output from query commands to be &quot;cooked&quot;, so that
 variables which are recognized by
 <code>ntpq</code>
 will have their
-values reformatted for human consumption. 
+values reformatted for human consumption.
 Variables which
 <code>ntpq</code>
 could not decode completely are
 marked with a trailing
-?. 
-<br><dt><code>debug</code> <code>[more|less|off]</code><dd>With no argument, displays the current debug level. 
-Otherwise, the debugging level is changed as indicated. 
-<br><dt><code>delay</code> <code>[</code><kbd>milliseconds</kbd><code>]</code><dd>Specify a time interval to be added to timestamps included in
-requests which require authentication. 
+&lsquo;?&rsquo;.
+</p></dd>
+<dt><code>debug</code> <code>[<code>more</code>|<code>less</code>|<code>off</code>]</code></dt>
+<dd><p>With no argument, displays the current debug level.
+Otherwise, the debugging level is changed as indicated.
+</p></dd>
+<dt><code>delay</code> <code>[<kbd>milliseconds</kbd>]</code></dt>
+<dd><p>Specify a time interval to be added to timestamps included in
+requests which require authentication.
 This is used to enable
 (unreliable) server reconfiguration over long delay network paths
-or between machines whose clocks are unsynchronized. 
+or between machines whose clocks are unsynchronized.
 Actually the
 server does not now require timestamps in authenticated requests,
-so this command may be obsolete. 
-Without any arguments, displays the current delay. 
-<br><dt><code>drefid</code> <code>[hash|ipv4]</code><dd>Display refids as IPv4 or hash. 
+so this command may be obsolete.
+Without any arguments, displays the current delay.
+</p></dd>
+<dt><code>drefid</code> <code>[<code>hash</code>|<code>ipv4</code>]</code></dt>
+<dd><p>Display refids as IPv4 or hash.
 Without any arguments, displays whether refids are shown as IPv4
-addresses or hashes. 
-<br><dt><code>exit</code><dd>Exit
+addresses or hashes.
+</p></dd>
+<dt><code>exit</code></dt>
+<dd><p>Exit
 <code>ntpq</code>
-<br><dt><code>host</code> <code>[</code><kbd>name</kbd><code>]</code><dd>Set the host to which future queries will be sent. 
+</p></dd>
+<dt><code>host</code> <code>[<kbd>name</kbd>]</code></dt>
+<dd><p>Set the host to which future queries will be sent.
 The
 <kbd>name</kbd>
-may be either a host name or a numeric address. 
-Without any arguments, displays the current host. 
-<br><dt><code>hostnames</code> <code>[yes|no]</code><dd>If
+may be either a host name or a numeric address.
+Without any arguments, displays the current host.
+</p></dd>
+<dt><code>hostnames</code> <code>[<code>yes</code>|<code>no</code>]</code></dt>
+<dd><p>If
 <code>yes</code>
 is specified, host names are printed in
-information displays. 
+information displays.
 If
 <code>no</code>
 is specified, numeric
-addresses are printed instead. 
+addresses are printed instead.
 The default is
 <code>yes</code>,
 unless
 modified using the command line
 <code>-n</code>
-switch. 
+switch.
 Without any arguments, displays whether host names or numeric addresses
-are shown. 
-<br><dt><code>keyid</code> <code>[</code><kbd>keyid</kbd><code>]</code><dd>This command allows the specification of a key number to be
-used to authenticate configuration requests. 
+are shown.
+</p></dd>
+<dt><code>keyid</code> <code>[<kbd>keyid</kbd>]</code></dt>
+<dd><p>This command allows the specification of a key number to be
+used to authenticate configuration requests.
 This must correspond
 to the
 <code>controlkey</code>
 key number the server has been configured to use for this
-purpose. 
+purpose.
 Without any arguments, displays the current
-<kbd>keyid</kbd>. 
-<br><dt><code>keytype</code> <code>[</code><kbd>digest</kbd><code>]</code><dd>Specify the digest algorithm to use for authenticating requests, with default
-<code>MD5</code>. 
+<kbd>keyid</kbd>.
+</p></dd>
+<dt><code>keytype</code> <code>[<kbd>digest</kbd>]</code></dt>
+<dd><p>Specify the digest algorithm to use for authenticating requests, with default
+<code>MD5</code>.
 If
 <code>ntpq</code>
 was built with OpenSSL support, and OpenSSL is installed,
 <kbd>digest</kbd>
-can be any message digest algorithm supported by OpenSSL. 
+can be any message digest algorithm supported by OpenSSL.
 If no argument is given, the current
 <code>keytype</code> <kbd>digest</kbd>
-algorithm used is displayed. 
-<br><dt><code>ntpversion</code> <code>[1|2|3|4]</code><dd>Sets the NTP version number which
+algorithm used is displayed.
+</p></dd>
+<dt><code>ntpversion</code> <code>[<code>1</code>|<code>2</code>|<code>3</code>|<code>4</code>]</code></dt>
+<dd><p>Sets the NTP version number which
 <code>ntpq</code>
 claims in
-packets. 
+packets.
 Defaults to 3, and note that mode 6 control messages (and
-modes, for that matter) didn't exist in NTP version 1. 
+modes, for that matter) didn&rsquo;t exist in NTP version 1.
 There appear
-to be no servers left which demand version 1. 
+to be no servers left which demand version 1.
 With no argument, displays the current NTP version that will be used
-when communicating with servers. 
-<br><dt><code>passwd</code><dd>This command prompts you to type in a password (which will not
+when communicating with servers.
+</p></dd>
+<dt><code>passwd</code></dt>
+<dd><p>This command prompts you to type in a password (which will not
 be echoed) which will be used to authenticate configuration
-requests. 
+requests.
 The password must correspond to the key configured for
 use by the NTP server for this purpose if such requests are to be
-successful. 
-<br><dt><code>poll</code> <code>[</code><kbd>n</kbd><code>]</code> <code>[verbose]</code><dd>Poll an NTP server in client mode
+successful.
+</p></dd>
+<dt><code>poll</code> <code>[<kbd>n</kbd>]</code> <code>[<code>verbose</code>]</code></dt>
+<dd><p>Poll an NTP server in client mode
 <kbd>n</kbd>
-times. 
-Poll not implemented yet. 
-<br><dt><code>quit</code><dd>Exit
+times.
+Poll not implemented yet.
+</p></dd>
+<dt><code>quit</code></dt>
+<dd><p>Exit
 <code>ntpq</code>
-<br><dt><code>raw</code><dd>Causes all output from query commands is printed as received
-from the remote server. 
+</p></dd>
+<dt><code>raw</code></dt>
+<dd><p>Causes all output from query commands is printed as received
+from the remote server.
 The only formating/interpretation done on
 the data is to transform nonascii data into a printable (but barely
-understandable) form. 
-<br><dt><code>timeout</code> <code>[</code><kbd>milliseconds</kbd><code>]</code><dd>Specify a timeout period for responses to server queries. 
+understandable) form.
+</p></dd>
+<dt><code>timeout</code> <code>[<kbd>milliseconds</kbd>]</code></dt>
+<dd><p>Specify a timeout period for responses to server queries.
 The
-default is about 5000 milliseconds. 
-Without any arguments, displays the current timeout period. 
+default is about 5000 milliseconds.
+Without any arguments, displays the current timeout period.
 Note that since
 <code>ntpq</code>
 retries each query once after a timeout, the total waiting time for
-a timeout will be twice the timeout value set. 
-<br><dt><code>version</code><dd>Display the version of the
+a timeout will be twice the timeout value set.
+</p></dd>
+<dt><code>version</code></dt>
+<dd><p>Display the version of the
 <code>ntpq</code>
-program. 
+program.
+</p></dd>
 </dl>
 
-<h5 class="subsubsection">Control Message Commands</h5>
-
-<p>Association ids are used to identify system, peer and clock variables. 
+<a name="Control-Message-Commands-1"></a>
+<h4 class="subsubsection">1.1.1.1 Control Message Commands</h4>
+<p>Association ids are used to identify system, peer and clock variables.
 System variables are assigned an association id of zero and system name
 space, while each association is assigned a nonzero association id and
-peer namespace. 
+peer namespace.
 Most control commands send a single message to the server and expect a
-single response message. 
+single response message.
 The exceptions are the
 <code>peers</code>
 command, which sends a series of messages,
@@ -361,97 +488,149 @@
 and
 <code>mreadvar</code>
 commands, which iterate over a range of associations.
-     <dl>
-<dt><code>apeers</code><dd>Display a list of peers in the form:
-     <pre class="example">          [tally]remote refid assid st t when pool reach delay offset jitter
-     </pre>
-     <p>where the output is just like the
+</p><dl compact="compact">
+<dt><code>apeers</code></dt>
+<dd><p>Display a list of peers in the form:
+</p><div class="example">
+<pre class="example">[tally]remote refid assid st t when pool reach delay offset jitter
+</pre></div>
+<p>where the output is just like the
 <code>peers</code>
 command except that the
 <code>refid</code>
-is displayed in hex format and the association number is also displayed. 
-<br><dt><code>associations</code><dd>Display a list of mobilized associations in the form:
-     <pre class="example">          ind assid status conf reach auth condition last_event cnt
-     </pre>
-          <dl>
-<dt>Sy Variable Ta Sy Description<br><dt><code>ind</code> <code>Ta</code> <code>index</code> <code>on</code> <code>this</code> <code>list</code><br><dt><code>assid</code> <code>Ta</code> <code>association</code> <code>id</code><br><dt><code>status</code> <code>Ta</code> <code>peer</code> <code>status</code> <code>word</code><br><dt><code>conf</code> <code>Ta</code> <code>yes</code>: <code>No</code> <code>persistent,</code> <code>no</code>: <code>No</code> <code>ephemeral</code><br><dt><code>reach</code> <code>Ta</code> <code>yes</code>: <code>No</code> <code>reachable,</code> <code>no</code>: <code>No</code> <code>unreachable</code><br><dt><code>auth</code> <code>Ta</code> <code>ok</code>, <code>yes</code>, <code>bad</code> <code>No</code> <code>and</code> <code>none</code><br><dt><code>condition</code> <code>Ta</code> <code>selection</code> <code>status</code> <code>(see</code> <code>the</code> <code>select</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code><br><dt><code>last_event</code> <code>Ta</code> <code>event</code> <code>report</code> <code>(see</code> <code>the</code> <code>event</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code><br><dt><code>cnt</code> <code>Ta</code> <code>event</code> <code>count</code> <code>(see</code> <code>the</code> <code>count</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code><dd></dl>
-     <br><dt><code>authinfo</code><dd>Display the authentication statistics counters:
+is displayed in hex format and the association number is also displayed.
+</p></dd>
+<dt><code>associations</code></dt>
+<dd><p>Display a list of mobilized associations in the form:
+</p><div class="example">
+<pre class="example">ind assid status conf reach auth condition last_event cnt
+</pre></div>
+<dl compact="compact">
+<dt>Sy Variable Ta Sy Description</dt>
+<dt><code>ind</code> <code>Ta</code> <code>index</code> <code>on</code> <code>this</code> <code>list</code></dt>
+<dt><code>assid</code> <code>Ta</code> <code>association</code> <code>id</code></dt>
+<dt><code>status</code> <code>Ta</code> <code>peer</code> <code>status</code> <code>word</code></dt>
+<dt><code>conf</code> <code>Ta</code> <code>yes</code>: <code>No</code> <code>persistent,</code> <code>no</code>: <code>No</code> <code>ephemeral</code></dt>
+<dt><code>reach</code> <code>Ta</code> <code>yes</code>: <code>No</code> <code>reachable,</code> <code>no</code>: <code>No</code> <code>unreachable</code></dt>
+<dt><code>auth</code> <code>Ta</code> <code>ok</code>, <code>yes</code>, <code>bad</code> <code>No</code> <code>and</code> <code>none</code></dt>
+<dt><code>condition</code> <code>Ta</code> <code>selection</code> <code>status</code> <code>(see</code> <code>the</code> <code>select</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code></dt>
+<dt><code>last_event</code> <code>Ta</code> <code>event</code> <code>report</code> <code>(see</code> <code>the</code> <code>event</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code></dt>
+<dt><code>cnt</code> <code>Ta</code> <code>event</code> <code>count</code> <code>(see</code> <code>the</code> <code>count</code> <code>No</code> <code>field</code> <code>of</code> <code>the</code> <code>peer</code> <code>status</code> <code>word)</code></dt>
+</dl>
+</dd>
+<dt><code>authinfo</code></dt>
+<dd><p>Display the authentication statistics counters:
 time since reset, stored keys, free keys, key lookups, keys not found,
-uncached keys, expired keys, encryptions, decryptions. 
-<br><dt><code>clocklist</code> <code>[</code><kbd>associd</kbd><code>]</code><br><dt><code>cl</code> <code>[</code><kbd>associd</kbd><code>]</code><dd>Display all clock variables in the variable list for those associations
-supporting a reference clock. 
-<br><dt><code>clockvar</code> <code>[</code><kbd>associd</kbd><code>]</code> <code>[</code><kbd>name</kbd><code>[=</code><kbd>value</kbd><code>]]</code><code>[,...]</code><br><dt><code>cv</code> <code>[</code><kbd>associd</kbd><code>]</code> <code>[</code><kbd>name</kbd><code>[=</code><kbd>value</kbd><code>]]</code><code>[,...]</code><dd>Display a list of clock variables for those associations supporting a
-reference clock. 
-<br><dt><code>:config</code> <kbd>configuration command line</kbd><dd>Send the remainder of the command line, including whitespace, to the
+uncached keys, expired keys, encryptions, decryptions.
+</p></dd>
+<dt><code>clocklist</code> <code>[<kbd>associd</kbd>]</code></dt>
+<dt><code>cl</code> <code>[<kbd>associd</kbd>]</code></dt>
+<dd><p>Display all clock variables in the variable list for those associations
+supporting a reference clock.
+</p></dd>
+<dt><code>clockvar</code> <code>[<kbd>associd</kbd>]</code> <code>[<kbd>name</kbd><code>[=<kbd>value</kbd>]</code>]</code><code>[,...]</code></dt>
+<dt><code>cv</code> <code>[<kbd>associd</kbd>]</code> <code>[<kbd>name</kbd><code>[=<kbd>value</kbd>]</code>]</code><code>[,...]</code></dt>
+<dd><p>Display a list of clock variables for those associations supporting a
+reference clock.
+</p></dd>
+<dt><code>:config</code> <kbd>configuration command line</kbd></dt>
+<dd><p>Send the remainder of the command line, including whitespace, to the
 server as a run-time configuration command in the same format as a line
-in the configuration file. 
-This command is experimental until further notice and clarification. 
-Authentication is of course required. 
-<br><dt><code>config-from-file</code> <kbd>filename</kbd><dd>Send each line of
+in the configuration file.
+This command is experimental until further notice and clarification.
+Authentication is of course required.
+</p></dd>
+<dt><code>config-from-file</code> <kbd>filename</kbd></dt>
+<dd><p>Send each line of
 <kbd>filename</kbd>
 to the server as run-time configuration commands in the same format as
-lines in the configuration file. 
-This command is experimental until further notice and clarification. 
-Authentication is required. 
-<br><dt><code>ifstats</code><dd>Display status and statistics counters for each local network interface address:
+lines in the configuration file.
+This command is experimental until further notice and clarification.
+Authentication is required.
+</p></dd>
+<dt><code>ifstats</code></dt>
+<dd><p>Display status and statistics counters for each local network interface address:
 interface number, interface name and address or broadcast, drop, flag,
-ttl, mc, received, sent, send failed, peers, uptime. 
-Authentication is required. 
-<br><dt><code>iostats</code><dd>Display network and reference clock I/O statistics:
+ttl, mc, received, sent, send failed, peers, uptime.
+Authentication is required.
+</p></dd>
+<dt><code>iostats</code></dt>
+<dd><p>Display network and reference clock I/O statistics:
 time since reset, receive buffers, free receive buffers, used receive buffers,
 low water refills, dropped packets, ignored packets, received packets,
-packets sent, packet send failures, input wakeups, useful input wakeups. 
-<br><dt><code>kerninfo</code><dd>Display kernel loop and PPS statistics:
+packets sent, packet send failures, input wakeups, useful input wakeups.
+</p></dd>
+<dt><code>kerninfo</code></dt>
+<dd><p>Display kernel loop and PPS statistics:
 associd, status, pll offset, pll frequency, maximum error,
 estimated error, kernel status, pll time constant, precision,
 frequency tolerance, pps frequency, pps stability, pps jitter,
 calibration interval, calibration cycles, jitter exceeded,
-stability exceeded, calibration errors. 
+stability exceeded, calibration errors.
 As with other ntpq output, times are in milliseconds; very small values
-may be shown as exponentials. 
+may be shown as exponentials.
 The precision value displayed is in milliseconds as well, unlike the
-precision system variable. 
-<br><dt><code>lassociations</code><dd>Perform the same function as the associations command, except display
-mobilized and unmobilized associations, including all clients. 
-<br><dt><code>lopeers</code> <code>[-4|-6]</code><dd>Display a list of all peers and clients showing
+precision system variable.
+</p></dd>
+<dt><code>lassociations</code></dt>
+<dd><p>Perform the same function as the associations command, except display
+mobilized and unmobilized associations, including all clients.
+</p></dd>
+<dt><code>lopeers</code> <code>[<code>-4</code>|<code>-6</code>]</code></dt>
+<dd><p>Display a list of all peers and clients showing
 <code>dstadr</code>
-(associated with the given IP version). 
-<br><dt><code>lpassociations</code><dd>Display the last obtained list of associations, including all clients. 
-<br><dt><code>lpeers</code> <code>[-4|-6]</code><dd>Display a list of all peers and clients (associated with the given IP version). 
-<br><dt><code>monstats</code><dd>Display monitor facility status, statistics, and limits:
+(associated with the given IP version).
+</p></dd>
+<dt><code>lpassociations</code></dt>
+<dd><p>Display the last obtained list of associations, including all clients.
+</p></dd>
+<dt><code>lpeers</code> <code>[<code>-4</code>|<code>-6</code>]</code></dt>
+<dd><p>Display a list of all peers and clients (associated with the given IP version).
+</p></dd>
+<dt><code>monstats</code></dt>
+<dd><p>Display monitor facility status, statistics, and limits:
 enabled, addresses, peak addresses, maximum addresses,
-reclaim above count, reclaim older than, kilobytes, maximum kilobytes. 
-<br><dt><code>mreadlist</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd><br><dt><code>mrl</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd><dd>Perform the same function as the
+reclaim above count, reclaim older than, kilobytes, maximum kilobytes.
+</p></dd>
+<dt><code>mreadlist</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd></dt>
+<dt><code>mrl</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd></dt>
+<dd><p>Perform the same function as the
 <code>readlist</code>
-command for a range of association ids. 
-<br><dt><code>mreadvar</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd> <code>[</code><kbd>name</kbd><code>]</code><code>[,...]</code><dd>This range may be determined from the list displayed by any
-command showing associations. 
-<br><dt><code>mrv</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd> <code>[</code><kbd>name</kbd><code>]</code><code>[,...]</code><dd>Perform the same function as the
+command for a range of association ids.
+</p></dd>
+<dt><code>mreadvar</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd> <code>[<kbd>name</kbd>]</code><code>[,...]</code></dt>
+<dd><p>This range may be determined from the list displayed by any
+command showing associations.
+</p></dd>
+<dt><code>mrv</code> <kbd>associdlo</kbd> <kbd>associdhi</kbd> <code>[<kbd>name</kbd>]</code><code>[,...]</code></dt>
+<dd><p>Perform the same function as the
 <code>readvar</code>
-command for a range of association ids. 
+command for a range of association ids.
 This range may be determined from the list displayed by any
-command showing associations. 
-<br><dt><code>mrulist</code> <code>[limited | kod | mincount=</code><kbd>count</kbd><code> | laddr=</code><kbd>localaddr</kbd><code> | sort=[-]</code><kbd>sortorder</kbd><code> | resany=</code><kbd>hexmask</kbd><code> | resall=</code><kbd>hexmask</kbd><code>]</code><dd>Display traffic counts of the most recently seen source addresses
-collected and maintained by the monitor facility. 
+command showing associations.
+</p></dd>
+<dt><code>mrulist</code> <code>[<code>limited</code> | <code>kod</code> | <code>mincount</code>=<kbd>count</kbd> | <code>laddr</code>=<kbd>localaddr</kbd> | <code>sort</code>=<code>[-]</code><kbd>sortorder</kbd> | <code>resany</code>=<kbd>hexmask</kbd> | <code>resall</code>=<kbd>hexmask</kbd>]</code></dt>
+<dd><p>Display traffic counts of the most recently seen source addresses
+collected and maintained by the monitor facility.
 With the exception of
 <code>sort</code>=<code>[-]</code><kbd>sortorder</kbd>,
 the options filter the list returned by
-<code>ntpd(8)</code>. 
+<code>ntpd(8)</code>.
 The
 <code>limited</code>
 and
 <code>kod</code>
 options return only entries representing client addresses from which the
-last packet received triggered either discarding or a KoD response. 
+last packet received triggered either discarding or a KoD response.
 The
 <code>mincount</code>=<kbd>count</kbd>
 option filters entries representing less than
 <kbd>count</kbd>
-packets. 
+packets.
 The
 <code>laddr</code>=<kbd>localaddr</kbd>
 option filters entries for packets received on any local address other than
-<kbd>localaddr</kbd>. 
+<kbd>localaddr</kbd>.
 <code>resany</code>=<kbd>hexmask</kbd>
 and
 <code>resall</code>=<kbd>hexmask</kbd>
@@ -458,75 +637,113 @@
 filter entries containing none or less than all, respectively, of the bits in
 <kbd>hexmask</kbd>,
 which must begin with
-<code>0x</code>. 
+<code>0x</code>.
 The
 <kbd>sortorder</kbd>
 defaults to
 <code>lstint</code>
-and may be
+and may be 
 <code>addr</code>,
 <code>avgint</code>,
 <code>count</code>,
 <code>lstint</code>,
 or any of those preceded by
--
-to reverse the sort order. 
+&lsquo;-&rsquo;
+to reverse the sort order.
 The output columns are:
-          <dl>
-<dt>Column<dd>Description
-<br><dt><code>lstint</code><dd>Interval in seconds between the receipt of the most recent packet from
+</p><dl compact="compact">
+<dt>Column</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>lstint</code></dt>
+<dd><p>Interval in seconds between the receipt of the most recent packet from
 this address and the completion of the retrieval of the MRU list by
 <code>ntpq</code>
-<br><dt><code>avgint</code><dd>Average interval in s between packets from this address. 
-<br><dt><code>rstr</code><dd>Restriction flags associated with this address. 
+</p></dd>
+<dt><code>avgint</code></dt>
+<dd><p>Average interval in s between packets from this address.
+</p></dd>
+<dt><code>rstr</code></dt>
+<dd><p>Restriction flags associated with this address.
 Most are copied unchanged from the matching
 <code>restrict</code>
 command, however 0x400 (kod) and 0x20 (limited) flags are cleared unless
-the last packet from this address triggered a rate control response. 
-<br><dt><code>r</code><dd>Rate control indicator, either
+the last packet from this address triggered a rate control response.
+</p></dd>
+<dt><code>r</code></dt>
+<dd><p>Rate control indicator, either
 a period,
 <code>L</code>
 or
 <code>K</code>
 for no rate control response,
-rate limiting by discarding, or rate limiting with a KoD response, respectively. 
-<br><dt><code>m</code><dd>Packet mode. 
-<br><dt><code>v</code><dd>Packet version number. 
-<br><dt><code>count</code><dd>Packets received from this address. 
-<br><dt><code>rport</code><dd>Source port of last packet from this address. 
-<br><dt><code>remote</code> <code>address</code><dd>host or DNS name, numeric address, or address followed by
-claimed DNS name which could not be verified in parentheses. 
+rate limiting by discarding, or rate limiting with a KoD response, respectively.
+</p></dd>
+<dt><code>m</code></dt>
+<dd><p>Packet mode.
+</p></dd>
+<dt><code>v</code></dt>
+<dd><p>Packet version number.
+</p></dd>
+<dt><code>count</code></dt>
+<dd><p>Packets received from this address.
+</p></dd>
+<dt><code>rport</code></dt>
+<dd><p>Source port of last packet from this address.
+</p></dd>
+<dt><code>remote</code> <code>address</code></dt>
+<dd><p>host or DNS name, numeric address, or address followed by
+claimed DNS name which could not be verified in parentheses.
+</p></dd>
 </dl>
-     <br><dt><code>opeers</code> <code>[-4 | -6]</code><dd>Obtain and print the old-style list of all peers and clients showing
+</dd>
+<dt><code>opeers</code> <code>[<code>-4</code> | <code>-6</code>]</code></dt>
+<dd><p>Obtain and print the old-style list of all peers and clients showing
 <code>dstadr</code>
 (associated with the given IP version),
 rather than the
-<code>refid</code>. 
-<br><dt><code>passociations</code><dd>Perform the same function as the
+<code>refid</code>.
+</p></dd>
+<dt><code>passociations</code></dt>
+<dd><p>Perform the same function as the
 <code>associations</code>
 command,
-except that it uses previously stored data rather than making a new query. 
-<br><dt><code>peers</code><dd>Display a list of peers in the form:
-     <pre class="example">          [tally]remote refid st t when pool reach delay offset jitter
-     </pre>
-          <dl>
-<dt>Variable<dd>Description
-<br><dt><code>[tally]</code><dd>single-character code indicating current value of the
+except that it uses previously stored data rather than making a new query.
+</p></dd>
+<dt><code>peers</code></dt>
+<dd><p>Display a list of peers in the form:
+</p><div class="example">
+<pre class="example">[tally]remote refid st t when pool reach delay offset jitter
+</pre></div>
+<dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>[tally]</code></dt>
+<dd><p>single-character code indicating current value of the
 <code>select</code>
 field of the
-.Lk decode.html#peer "peer status word"
-<br><dt><code>remote</code><dd>host name (or IP number) of peer. 
+.Lk decode.html#peer &quot;peer status word&quot;
+</p></dd>
+<dt><code>remote</code></dt>
+<dd><p>host name (or IP number) of peer.
 The value displayed will be truncated to 15 characters unless the
 <code>ntpq</code>
 <code>-w</code>
 option is given, in which case the full value will be displayed
 on the first line, and if too long,
-the remaining data will be displayed on the next line. 
-<br><dt><code>refid</code><dd>source IP address or
-.Lk decode.html#kiss "'kiss code"
-<br><dt><code>st</code><dd>stratum: 0 for local reference clocks, 1 for servers with local
+the remaining data will be displayed on the next line.
+</p></dd>
+<dt><code>refid</code></dt>
+<dd><p>source IP address or
+.Lk decode.html#kiss &quot;&rsquo;kiss code&quot;
+</p></dd>
+<dt><code>st</code></dt>
+<dd><p>stratum: 0 for local reference clocks, 1 for servers with local
 reference clocks, ..., 16 for unsynchronized server clocks
-<br><dt><code>t</code><dd><code>u</code>:
+</p></dd>
+<dt><code>t</code></dt>
+<dd><p><code>u</code>:
 unicast or manycast client,
 <code>b</code>:
 broadcast or multicast client,
@@ -542,27 +759,48 @@
 broadcast server,
 <code>M</code>:
 multicast server
-<br><dt><code>when</code><dd>time in seconds, minutes, hours, or days since the last packet
+</p></dd>
+<dt><code>when</code></dt>
+<dd><p>time in seconds, minutes, hours, or days since the last packet
 was received, or
--
+&lsquo;-&rsquo;
 if a packet has never been received
-<br><dt><code>poll</code><dd>poll interval (s)
-<br><dt><code>reach</code><dd>reach shift register (octal)
-<br><dt><code>delay</code><dd>roundtrip delay
-<br><dt><code>offset</code><dd>offset of server relative to this host
-<br><dt><code>jitter</code><dd>offset RMS error estimate. 
+</p></dd>
+<dt><code>poll</code></dt>
+<dd><p>poll interval (s)
+</p></dd>
+<dt><code>reach</code></dt>
+<dd><p>reach shift register (octal)
+</p></dd>
+<dt><code>delay</code></dt>
+<dd><p>roundtrip delay
+</p></dd>
+<dt><code>offset</code></dt>
+<dd><p>offset of server relative to this host
+</p></dd>
+<dt><code>jitter</code></dt>
+<dd><p>offset RMS error estimate.
+</p></dd>
 </dl>
-     <br><dt><code>pstats</code> <kbd>associd</kbd><dd>Display the statistics for the peer with the given
+</dd>
+<dt><code>pstats</code> <kbd>associd</kbd></dt>
+<dd><p>Display the statistics for the peer with the given
 <kbd>associd</kbd>:
 associd, status, remote host, local address, time last received,
 time until next send, reachability change, packets sent,
 packets received, bad authentication, bogus origin, duplicate,
-bad dispersion, bad reference time, candidate order. 
-<br><dt><code>readlist</code> <code>[</code><kbd>associd</kbd><code>]</code><br><dt><code>rl</code> <code>[</code><kbd>associd</kbd><code>]</code><dd>Display all system or peer variables. 
+bad dispersion, bad reference time, candidate order.
+</p></dd>
+<dt><code>readlist</code> <code>[<kbd>associd</kbd>]</code></dt>
+<dt><code>rl</code> <code>[<kbd>associd</kbd>]</code></dt>
+<dd><p>Display all system or peer variables.
 If the
 <kbd>associd</kbd>
-is omitted, it is assumed to be zero. 
-<br><dt><code>readvar</code> <code>[</code><kbd>associd</kbd> <kbd>name</kbd><code>[=</code><kbd>value</kbd><code>] [, ...]]</code><br><dt><code>rv</code> <code>[</code><kbd>associd</kbd> <kbd>name</kbd><code>[=</code><kbd>value</kbd><code>] [, ...]]</code><dd>Display the specified system or peer variables. 
+is omitted, it is assumed to be zero.
+</p></dd>
+<dt><code>readvar</code> <code>[<kbd>associd</kbd> <kbd>name</kbd><code>[=<kbd>value</kbd>]</code> <code>[, ...]</code>]</code></dt>
+<dt><code>rv</code> <code>[<kbd>associd</kbd> <kbd>name</kbd><code>[=<kbd>value</kbd>]</code> <code>[, ...]</code>]</code></dt>
+<dd><p>Display the specified system or peer variables.
 If
 <kbd>associd</kbd>
 is zero, the variables are from the
@@ -569,19 +807,19 @@
 <a href="#System-Variables">System Variables</a>
 name space, otherwise they are from the
 <a href="#Peer-Variables">Peer Variables</a>
-name space. 
+name space.
 The
 <kbd>associd</kbd>
-is required, as the same name can occur in both spaces. 
+is required, as the same name can occur in both spaces.
 If no
 <kbd>name</kbd>
-is included, all operative variables in the name space are displayed. 
+is included, all operative variables in the name space are displayed.
 In this case only, if the
 <kbd>associd</kbd>
-is omitted, it is assumed to be zero. 
-Multiple names are specified with comma separators and without whitespace. 
+is omitted, it is assumed to be zero.
+Multiple names are specified with comma separators and without whitespace.
 Note that time values are represented in milliseconds
-and frequency values in parts-per-million (PPM). 
+and frequency values in parts-per-million (PPM).
 Some NTP timestamps are represented in the format
 <kbd>YYYY</kbd><kbd>MM</kbd> <kbd>DD</kbd> <kbd>TTTT</kbd>,
 where
@@ -592,47 +830,62 @@
 <kbd>DD</kbd>
 the day of month and
 <kbd>TTTT</kbd>
-the time of day. 
-<br><dt><code>reslist</code><dd>Display the access control (restrict) list for
+the time of day.
+</p></dd>
+<dt><code>reslist</code></dt>
+<dd><p>Display the access control (restrict) list for
 <code>ntpq</code>
-Authentication is required. 
-<br><dt><code>saveconfig</code> <kbd>filename</kbd><dd>Save the current configuration,
+Authentication is required.
+</p></dd>
+<dt><code>saveconfig</code> <kbd>filename</kbd></dt>
+<dd><p>Save the current configuration,
 including any runtime modifications made by
 <code>:config</code>
 or
 <code>config-from-file</code>,
 to the NTP server host file
-<kbd>filename</kbd>. 
+<kbd>filename</kbd>.
 This command will be rejected by the server unless
-.Lk miscopt.html#saveconfigdir "saveconfigdir"
+.Lk miscopt.html#saveconfigdir &quot;saveconfigdir&quot;
 appears in the
 <code>ntpd(8)</code>
-configuration file. 
+configuration file.
 <kbd>filename</kbd>
 can use
 <code>date(1)</code>
 format specifiers to substitute the current date and time, for
 example,
-     <pre class="example">          <code>saveconfig</code> <span class="file">ntp-%Y%m%d-%H%M%S.conf</span>.
-     </pre>
-     <p>The filename used is stored in system variable
-<code>savedconfig</code>. 
-Authentication is required. 
-<br><dt><code>sysinfo</code><dd>Display system operational summary:
+</p><div class="example">
+<pre class="example"><code>saveconfig</code> <samp>ntp-%Y%m%d-%H%M%S.conf</samp>. 
+</pre></div>
+<p>The filename used is stored in system variable
+<code>savedconfig</code>.
+Authentication is required.
+</p></dd>
+<dt><code>sysinfo</code></dt>
+<dd><p>Display system operational summary:
 associd, status, system peer, system peer mode, leap indicator,
 stratum, log2 precision, root delay, root dispersion,
 reference id, reference time, system jitter, clock jitter,
-clock wander, broadcast delay, symm. auth. delay. 
-<br><dt><code>sysstats</code><dd>Display system uptime and packet counts maintained in the
+clock wander, broadcast delay, symm. auth. delay.
+</p></dd>
+<dt><code>sysstats</code></dt>
+<dd><p>Display system uptime and packet counts maintained in the
 protocol module:
 uptime, sysstats reset, packets received, current version,
 older version, bad length or format, authentication failed,
 declined, restricted, rate limited, KoD responses,
-processed for time. 
-<br><dt><code>timerstats</code><dd>Display interval timer counters:
-time since reset, timer overruns, calls to transmit. 
-<br><dt><code>writelist</code> <kbd>associd</kbd><dd>Set all system or peer variables included in the variable list. 
-<br><dt><code>writevar</code> <kbd>associd</kbd> <kbd>name</kbd>=<kbd>value</kbd> <code>[, ...]</code><dd>Set the specified variables in the variable list. 
+processed for time.
+</p></dd>
+<dt><code>timerstats</code></dt>
+<dd><p>Display interval timer counters:
+time since reset, timer overruns, calls to transmit.
+</p></dd>
+<dt><code>writelist</code> <kbd>associd</kbd></dt>
+<dd><p>Set all system or peer variables included in the variable list.
+</p></dd>
+<dt><code>writevar</code> <kbd>associd</kbd> <kbd>name</kbd>=<kbd>value</kbd> <code>[, ...]</code></dt>
+<dd><p>Set the specified variables in the variable list.
 If the
 <kbd>associd</kbd>
 is zero, the variables are from the
@@ -639,223 +892,408 @@
 <a href="#System-Variables">System Variables</a>
 name space, otherwise they are from the
 <a href="#Peer-Variables">Peer Variables</a>
-name space. 
+name space.
 The
 <kbd>associd</kbd>
-is required, as the same name can occur in both spaces. 
-Authentication is required. 
+is required, as the same name can occur in both spaces.
+Authentication is required.
+</p></dd>
 </dl>
 
-<h5 class="subsubsection">Status Words and Kiss Codes</h5>
-
+<a name="Status-Words-and-Kiss-Codes-1"></a>
+<h4 class="subsubsection">1.1.1.2 Status Words and Kiss Codes</h4>
 <p>The current state of the operating program is shown
 in a set of status words
-maintained by the system. 
-Status information is also available on a per-association basis. 
+maintained by the system.
+Status information is also available on a per-association basis.
 These words are displayed by the
 <code>readlist</code>
 and
 <code>associations</code>
-commands both in hexadecimal and in decoded short tip strings. 
+commands both in hexadecimal and in decoded short tip strings.
 The codes, tips and short explanations are documented on the
-.Lk decode.html "Event Messages and Status Words"
-page. 
+.Lk decode.html &quot;Event Messages and Status Words&quot;
+page.
 The page also includes a list of system and peer messages,
 the code for the latest of which is included in the status word.
-
-  <p>Information resulting from protocol machine state transitions
+</p>
+<p>Information resulting from protocol machine state transitions
 is displayed using an informal set of ASCII strings called
-.Lk decode.html#kiss "kiss codes" . 
-The original purpose was for kiss-o'-death (KoD) packets
-sent by the server to advise the client of an unusual condition. 
+.Lk decode.html#kiss &quot;kiss codes&quot; .
+The original purpose was for kiss-o&rsquo;-death (KoD) packets
+sent by the server to advise the client of an unusual condition.
 They are now displayed, when appropriate,
 in the reference identifier field in various billboards.
-
-<h5 class="subsubsection">System Variables</h5>
-
+</p>
+<a name="System-Variables-1"></a>
+<h4 class="subsubsection">1.1.1.3 System Variables</h4>
 <p>The following system variables appear in the
 <code>readlist</code>
-billboard. 
+billboard.
 Not all variables are displayed in some configurations.
-
-     <dl>
-<dt>Variable<dd>Description
-<br><dt><code>status</code><dd>.Lk decode.html#sys "system status word"
-<br><dt><code>version</code><dd>NTP software version and build time
-<br><dt><code>processor</code><dd>hardware platform and version
-<br><dt><code>system</code><dd>operating system and version
-<br><dt><code>leap</code><dd>leap warning indicator (0-3)
-<br><dt><code>stratum</code><dd>stratum (1-15)
-<br><dt><code>precision</code><dd>precision (log2 s)
-<br><dt><code>rootdelay</code><dd>total roundtrip delay to the primary reference clock
-<br><dt><code>rootdisp</code><dd>total dispersion to the primary reference clock
-<br><dt><code>refid</code><dd>reference id or
-.Lk decode.html#kiss "kiss code"
-<br><dt><code>reftime</code><dd>reference time
-<br><dt><code>clock</code><dd>date and time of day
-<br><dt><code>peer</code><dd>system peer association id
-<br><dt><code>tc</code><dd>time constant and poll exponent (log2 s) (3-17)
-<br><dt><code>mintc</code><dd>minimum time constant (log2 s) (3-10)
-<br><dt><code>offset</code><dd>combined offset of server relative to this host
-<br><dt><code>frequency</code><dd>frequency drift (PPM) relative to hardware clock
-<br><dt><code>sys_jitter</code><dd>combined system jitter
-<br><dt><code>clk_wander</code><dd>clock frequency wander (PPM)
-<br><dt><code>clk_jitter</code><dd>clock jitter
-<br><dt><code>tai</code><dd>TAI-UTC offset (s)
-<br><dt><code>leapsec</code><dd>NTP seconds when the next leap second is/was inserted
-<br><dt><code>expire</code><dd>NTP seconds when the NIST leapseconds file expires
+</p>
+<dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>status</code></dt>
+<dd><p>.Lk decode.html#sys &quot;system status word&quot;
+</p></dd>
+<dt><code>version</code></dt>
+<dd><p>NTP software version and build time
+</p></dd>
+<dt><code>processor</code></dt>
+<dd><p>hardware platform and version
+</p></dd>
+<dt><code>system</code></dt>
+<dd><p>operating system and version
+</p></dd>
+<dt><code>leap</code></dt>
+<dd><p>leap warning indicator (0-3)
+</p></dd>
+<dt><code>stratum</code></dt>
+<dd><p>stratum (1-15)
+</p></dd>
+<dt><code>precision</code></dt>
+<dd><p>precision (log2 s)
+</p></dd>
+<dt><code>rootdelay</code></dt>
+<dd><p>total roundtrip delay to the primary reference clock
+</p></dd>
+<dt><code>rootdisp</code></dt>
+<dd><p>total dispersion to the primary reference clock
+</p></dd>
+<dt><code>refid</code></dt>
+<dd><p>reference id or
+.Lk decode.html#kiss &quot;kiss code&quot;
+</p></dd>
+<dt><code>reftime</code></dt>
+<dd><p>reference time
+</p></dd>
+<dt><code>clock</code></dt>
+<dd><p>date and time of day
+</p></dd>
+<dt><code>peer</code></dt>
+<dd><p>system peer association id
+</p></dd>
+<dt><code>tc</code></dt>
+<dd><p>time constant and poll exponent (log2 s) (3-17)
+</p></dd>
+<dt><code>mintc</code></dt>
+<dd><p>minimum time constant (log2 s) (3-10)
+</p></dd>
+<dt><code>offset</code></dt>
+<dd><p>combined offset of server relative to this host
+</p></dd>
+<dt><code>frequency</code></dt>
+<dd><p>frequency drift (PPM) relative to hardware clock
+</p></dd>
+<dt><code>sys_jitter</code></dt>
+<dd><p>combined system jitter
+</p></dd>
+<dt><code>clk_wander</code></dt>
+<dd><p>clock frequency wander (PPM)
+</p></dd>
+<dt><code>clk_jitter</code></dt>
+<dd><p>clock jitter
+</p></dd>
+<dt><code>tai</code></dt>
+<dd><p>TAI-UTC offset (s)
+</p></dd>
+<dt><code>leapsec</code></dt>
+<dd><p>NTP seconds when the next leap second is/was inserted
+</p></dd>
+<dt><code>expire</code></dt>
+<dd><p>NTP seconds when the NIST leapseconds file expires
+</p></dd>
 </dl>
-  The jitter and wander statistics are exponentially-weighted RMS averages. 
+<p>The jitter and wander statistics are exponentially-weighted RMS averages.
 The system jitter is defined in the NTPv4 specification;
 the clock jitter statistic is computed by the clock discipline module.
-
-  <p>When the NTPv4 daemon is compiled with the OpenSSL software library,
+</p>
+<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
 additional system variables are displayed,
 including some or all of the following,
 depending on the particular Autokey dance:
-     <dl>
-<dt>Variable<dd>Description
-<br><dt><code>host</code><dd>Autokey host name for this host
-<br><dt><code>ident</code><dd>Autokey group name for this host
-<br><dt><code>flags</code><dd>host flags  (see Autokey specification)
-<br><dt><code>digest</code><dd>OpenSSL message digest algorithm
-<br><dt><code>signature</code><dd>OpenSSL digest/signature scheme
-<br><dt><code>update</code><dd>NTP seconds at last signature update
-<br><dt><code>cert</code><dd>certificate subject, issuer and certificate flags
-<br><dt><code>until</code><dd>NTP seconds when the certificate expires
+</p><dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>host</code></dt>
+<dd><p>Autokey host name for this host
+</p></dd>
+<dt><code>ident</code></dt>
+<dd><p>Autokey group name for this host
+</p></dd>
+<dt><code>flags</code></dt>
+<dd><p>host flags  (see Autokey specification)
+</p></dd>
+<dt><code>digest</code></dt>
+<dd><p>OpenSSL message digest algorithm
+</p></dd>
+<dt><code>signature</code></dt>
+<dd><p>OpenSSL digest/signature scheme
+</p></dd>
+<dt><code>update</code></dt>
+<dd><p>NTP seconds at last signature update
+</p></dd>
+<dt><code>cert</code></dt>
+<dd><p>certificate subject, issuer and certificate flags
+</p></dd>
+<dt><code>until</code></dt>
+<dd><p>NTP seconds when the certificate expires
+</p></dd>
 </dl>
-
-<h5 class="subsubsection">Peer Variables</h5>
-
+<a name="Peer-Variables-1"></a>
+<h4 class="subsubsection">1.1.1.4 Peer Variables</h4>
 <p>The following peer variables appear in the
 <code>readlist</code>
-billboard for each association. 
+billboard for each association.
 Not all variables are displayed in some configurations.
-
-     <dl>
-<dt>Variable<dd>Description
-<br><dt><code>associd</code><dd>association id
-<br><dt><code>status</code><dd>.Lk decode.html#peer "peer status word"
-<br><dt><code>srcadr</code><dd>source (remote) IP address
-<br><dt><code>srcport</code><dd>source (remote) port
-<br><dt><code>dstadr</code><dd>destination (local) IP address
-<br><dt><code>dstport</code><dd>destination (local) port
-<br><dt><code>leap</code><dd>leap indicator (0-3)
-<br><dt><code>stratum</code><dd>stratum (0-15)
-<br><dt><code>precision</code><dd>precision (log2 s)
-<br><dt><code>rootdelay</code><dd>total roundtrip delay to the primary reference clock
-<br><dt><code>rootdisp</code><dd>total root dispersion to the primary reference clock
-<br><dt><code>refid</code><dd>reference id or
-.Lk decode.html#kiss "kiss code"
-<br><dt><code>reftime</code><dd>reference time
-<br><dt><code>rec</code><dd>last packet received time
-<br><dt><code>reach</code><dd>reach register (octal)
-<br><dt><code>unreach</code><dd>unreach counter
-<br><dt><code>hmode</code><dd>host mode (1-6)
-<br><dt><code>pmode</code><dd>peer mode (1-5)
-<br><dt><code>hpoll</code><dd>host poll exponent (log2 s) (3-17)
-<br><dt><code>ppoll</code><dd>peer poll exponent (log2 s) (3-17)
-<br><dt><code>headway</code><dd>headway (see
-.Lk rate.html "Rate Management and the Kiss-o'-Death Packet" )
-<br><dt><code>flash</code><dd>.Lk decode.html#flash "flash status word"
-<br><dt><code>keyid</code><dd>symmetric key id
-<br><dt><code>offset</code><dd>filter offset
-<br><dt><code>delay</code><dd>filter delay
-<br><dt><code>dispersion</code><dd>filter dispersion
-<br><dt><code>jitter</code><dd>filter jitter
-<br><dt><code>bias</code><dd>unicast/broadcast bias
-<br><dt><code>xleave</code><dd>interleave delay (see
-.Lk xleave.html "NTP Interleaved Modes" )
+</p>
+<dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>associd</code></dt>
+<dd><p>association id
+</p></dd>
+<dt><code>status</code></dt>
+<dd><p>.Lk decode.html#peer &quot;peer status word&quot;
+</p></dd>
+<dt><code>srcadr</code></dt>
+<dd><p>source (remote) IP address
+</p></dd>
+<dt><code>srcport</code></dt>
+<dd><p>source (remote) port
+</p></dd>
+<dt><code>dstadr</code></dt>
+<dd><p>destination (local) IP address
+</p></dd>
+<dt><code>dstport</code></dt>
+<dd><p>destination (local) port
+</p></dd>
+<dt><code>leap</code></dt>
+<dd><p>leap indicator (0-3)
+</p></dd>
+<dt><code>stratum</code></dt>
+<dd><p>stratum (0-15)
+</p></dd>
+<dt><code>precision</code></dt>
+<dd><p>precision (log2 s)
+</p></dd>
+<dt><code>rootdelay</code></dt>
+<dd><p>total roundtrip delay to the primary reference clock
+</p></dd>
+<dt><code>rootdisp</code></dt>
+<dd><p>total root dispersion to the primary reference clock
+</p></dd>
+<dt><code>refid</code></dt>
+<dd><p>reference id or
+.Lk decode.html#kiss &quot;kiss code&quot;
+</p></dd>
+<dt><code>reftime</code></dt>
+<dd><p>reference time
+</p></dd>
+<dt><code>rec</code></dt>
+<dd><p>last packet received time
+</p></dd>
+<dt><code>reach</code></dt>
+<dd><p>reach register (octal)
+</p></dd>
+<dt><code>unreach</code></dt>
+<dd><p>unreach counter
+</p></dd>
+<dt><code>hmode</code></dt>
+<dd><p>host mode (1-6)
+</p></dd>
+<dt><code>pmode</code></dt>
+<dd><p>peer mode (1-5)
+</p></dd>
+<dt><code>hpoll</code></dt>
+<dd><p>host poll exponent (log2 s) (3-17)
+</p></dd>
+<dt><code>ppoll</code></dt>
+<dd><p>peer poll exponent (log2 s) (3-17)
+</p></dd>
+<dt><code>headway</code></dt>
+<dd><p>headway (see
+.Lk rate.html &quot;Rate Management and the Kiss-o&rsquo;-Death Packet&quot; )
+</p></dd>
+<dt><code>flash</code></dt>
+<dd><p>.Lk decode.html#flash &quot;flash status word&quot;
+</p></dd>
+<dt><code>keyid</code></dt>
+<dd><p>symmetric key id
+</p></dd>
+<dt><code>offset</code></dt>
+<dd><p>filter offset
+</p></dd>
+<dt><code>delay</code></dt>
+<dd><p>filter delay
+</p></dd>
+<dt><code>dispersion</code></dt>
+<dd><p>filter dispersion
+</p></dd>
+<dt><code>jitter</code></dt>
+<dd><p>filter jitter
+</p></dd>
+<dt><code>bias</code></dt>
+<dd><p>unicast/broadcast bias
+</p></dd>
+<dt><code>xleave</code></dt>
+<dd><p>interleave delay (see
+.Lk xleave.html &quot;NTP Interleaved Modes&quot; )
+</p></dd>
 </dl>
-  The
+<p>The
 <code>bias</code>
 variable is calculated when the first broadcast packet is received
-after the calibration volley. 
+after the calibration volley.
 It represents the offset of the broadcast subgraph relative to the
-unicast subgraph. 
+unicast subgraph.
 The
 <code>xleave</code>
-variable appears only for the interleaved symmetric and interleaved modes. 
+variable appears only for the interleaved symmetric and interleaved modes.
 It represents the internal queuing, buffering and transmission delays
 for the preceding packet.
-
-  <p>When the NTPv4 daemon is compiled with the OpenSSL software library,
+</p>
+<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
 additional peer variables are displayed, including the following:
-     <dl>
-<dt>Variable<dd>Description
-<br><dt><code>flags</code><dd>peer flags (see Autokey specification)
-<br><dt><code>host</code><dd>Autokey server name
-<br><dt><code>flags</code><dd>peer flags (see Autokey specification)
-<br><dt><code>signature</code><dd>OpenSSL digest/signature scheme
-<br><dt><code>initsequence</code><dd>initial key id
-<br><dt><code>initkey</code><dd>initial key index
-<br><dt><code>timestamp</code><dd>Autokey signature timestamp
-<br><dt><code>ident</code><dd>Autokey group name for this association
+</p><dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>flags</code></dt>
+<dd><p>peer flags (see Autokey specification)
+</p></dd>
+<dt><code>host</code></dt>
+<dd><p>Autokey server name
+</p></dd>
+<dt><code>flags</code></dt>
+<dd><p>peer flags (see Autokey specification)
+</p></dd>
+<dt><code>signature</code></dt>
+<dd><p>OpenSSL digest/signature scheme
+</p></dd>
+<dt><code>initsequence</code></dt>
+<dd><p>initial key id
+</p></dd>
+<dt><code>initkey</code></dt>
+<dd><p>initial key index
+</p></dd>
+<dt><code>timestamp</code></dt>
+<dd><p>Autokey signature timestamp
+</p></dd>
+<dt><code>ident</code></dt>
+<dd><p>Autokey group name for this association
+</p></dd>
 </dl>
 
-<h5 class="subsubsection">Clock Variables</h5>
-
+<a name="Clock-Variables-1"></a>
+<h4 class="subsubsection">1.1.1.5 Clock Variables</h4>
 <p>The following clock variables appear in the
 <code>clocklist</code>
-billboard for each association with a reference clock. 
+billboard for each association with a reference clock.
 Not all variables are displayed in some configurations.
-     <dl>
-<dt>Variable<dd>Description
-<br><dt><code>associd</code><dd>association id
-<br><dt><code>status</code><dd>.Lk decode.html#clock "clock status word"
-<br><dt><code>device</code><dd>device description
-<br><dt><code>timecode</code><dd>ASCII time code string (specific to device)
-<br><dt><code>poll</code><dd>poll messages sent
-<br><dt><code>noreply</code><dd>no reply
-<br><dt><code>badformat</code><dd>bad format
-<br><dt><code>baddata</code><dd>bad date or time
-<br><dt><code>fudgetime1</code><dd>fudge time 1
-<br><dt><code>fudgetime2</code><dd>fudge time 2
-<br><dt><code>stratum</code><dd>driver stratum
-<br><dt><code>refid</code><dd>driver reference id
-<br><dt><code>flags</code><dd>driver flags
+</p><dl compact="compact">
+<dt>Variable</dt>
+<dd><p>Description
+</p></dd>
+<dt><code>associd</code></dt>
+<dd><p>association id
+</p></dd>
+<dt><code>status</code></dt>
+<dd><p>.Lk decode.html#clock &quot;clock status word&quot;
+</p></dd>
+<dt><code>device</code></dt>
+<dd><p>device description
+</p></dd>
+<dt><code>timecode</code></dt>
+<dd><p>ASCII time code string (specific to device)
+</p></dd>
+<dt><code>poll</code></dt>
+<dd><p>poll messages sent
+</p></dd>
+<dt><code>noreply</code></dt>
+<dd><p>no reply
+</p></dd>
+<dt><code>badformat</code></dt>
+<dd><p>bad format
+</p></dd>
+<dt><code>baddata</code></dt>
+<dd><p>bad date or time
+</p></dd>
+<dt><code>fudgetime1</code></dt>
+<dd><p>fudge time 1
+</p></dd>
+<dt><code>fudgetime2</code></dt>
+<dd><p>fudge time 2
+</p></dd>
+<dt><code>stratum</code></dt>
+<dd><p>driver stratum
+</p></dd>
+<dt><code>refid</code></dt>
+<dd><p>driver reference id
+</p></dd>
+<dt><code>flags</code></dt>
+<dd><p>driver flags
+</p></dd>
 </dl>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpq</code> program. 
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpq</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-usage" accesskey="1">ntpq usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntpq help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-ipv4" accesskey="2">ntpq ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv4 option (-4)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-ipv6" accesskey="3">ntpq ipv6</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv6 option (-6)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-command" accesskey="4">ntpq command</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">command option (-c)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-interactive" accesskey="5">ntpq interactive</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">interactive option (-i)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-numeric" accesskey="6">ntpq numeric</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">numeric option (-n)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-old_002drv" accesskey="7">ntpq old-rv</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">old-rv option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-peers" accesskey="8">ntpq peers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">peers option (-p)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-refid" accesskey="9">ntpq refid</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">refid option (-r)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-wide">ntpq wide</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">wide option (-w)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-config">ntpq config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">presetting/configuring ntpq
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpq-exit-status">ntpq exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpq-usage">ntpq usage</a>:                   ntpq help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntpq-ipv4">ntpq ipv4</a>:                    ipv4 option (-4)
-<li><a accesskey="3" href="#ntpq-ipv6">ntpq ipv6</a>:                    ipv6 option (-6)
-<li><a accesskey="4" href="#ntpq-command">ntpq command</a>:                 command option (-c)
-<li><a accesskey="5" href="#ntpq-interactive">ntpq interactive</a>:             interactive option (-i)
-<li><a accesskey="6" href="#ntpq-numeric">ntpq numeric</a>:                 numeric option (-n)
-<li><a accesskey="7" href="#ntpq-old_002drv">ntpq old-rv</a>:                  old-rv option
-<li><a accesskey="8" href="#ntpq-peers">ntpq peers</a>:                   peers option (-p)
-<li><a accesskey="9" href="#ntpq-refid">ntpq refid</a>:                   refid option (-r)
-<li><a href="#ntpq-wide">ntpq wide</a>:                    wide option (-w)
-<li><a href="#ntpq-config">ntpq config</a>:                  presetting/configuring ntpq
-<li><a href="#ntpq-exit-status">ntpq exit status</a>:             exit status
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntpq-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-ipv4">ntpq ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<hr>
+<a name="ntpq-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-ipv4" accesskey="n" rel="next">ntpq ipv4</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpq-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1.2 ntpq help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntpq-help"></a>
 
-<h4 class="subsection">ntpq help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntpq-help-3"></a>
-This is the automatically generated usage text for ntpq.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntpq.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntpq - standard NTP query program - Ver. 4.2.8p10
+</p>
+<div class="example">
+<pre class="example">ntpq - standard NTP query program - Ver. 4.2.8p12
 Usage:  ntpq [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [ host ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 name resolution
@@ -894,1046 +1332,827 @@
  - reading file ./.ntprc
  - examining environment variables named NTPQ_*
 
-The valid "refid" option keywords are:
+The valid &quot;refid&quot; option keywords are:
   hash ipv4
   or an integer from 0 through 1
 
 Please send bug reports to:  &lt;http://bugs.ntp.org, bugs@ntp.org&gt;
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntpq-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-ipv6">ntpq ipv6</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-usage">ntpq usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntpq-ipv4"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-ipv6" accesskey="n" rel="next">ntpq ipv6</a>, Previous: <a href="#ntpq-usage" accesskey="p" rel="prev">ntpq usage</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv4-option-_0028_002d4_0029"></a>
+<h4 class="subsection">1.1.3 ipv4 option (-4)</h4>
+<a name="index-ntpq_002dipv4"></a>
 
-<h4 class="subsection">ipv4 option (-4)</h4>
+<p>This is the &ldquo;force ipv4 name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv6.
+</li></ul>
 
-<p><a name="index-ntpq_002dipv4-4"></a>
-This is the &ldquo;force ipv4 name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv6. 
-</ul>
-
-  <p>Force resolution of following host names on the command line
-to the IPv4 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpq-ipv6"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-command">ntpq command</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-ipv4">ntpq ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<p>Force resolution of following host names on the command line
+to the IPv4 namespace.
+</p><hr>
+<a name="ntpq-ipv6"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-command" accesskey="n" rel="next">ntpq command</a>, Previous: <a href="#ntpq-ipv4" accesskey="p" rel="prev">ntpq ipv4</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv6-option-_0028_002d6_0029"></a>
+<h4 class="subsection">1.1.4 ipv6 option (-6)</h4>
+<a name="index-ntpq_002dipv6"></a>
 
-<h4 class="subsection">ipv6 option (-6)</h4>
+<p>This is the &ldquo;force ipv6 name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv4.
+</li></ul>
 
-<p><a name="index-ntpq_002dipv6-5"></a>
-This is the &ldquo;force ipv6 name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv4. 
-</ul>
-
-  <p>Force resolution of following host names on the command line
-to the IPv6 namespace. 
-<div class="node">
-<p><hr>
-<a name="ntpq-command"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-interactive">ntpq interactive</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-ipv6">ntpq ipv6</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<p>Force resolution of following host names on the command line
+to the IPv6 namespace.
+</p><hr>
+<a name="ntpq-command"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-interactive" accesskey="n" rel="next">ntpq interactive</a>, Previous: <a href="#ntpq-ipv6" accesskey="p" rel="prev">ntpq ipv6</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="command-option-_0028_002dc_0029"></a>
+<h4 class="subsection">1.1.5 command option (-c)</h4>
+<a name="index-ntpq_002dcommand"></a>
 
-<h4 class="subsection">command option (-c)</h4>
+<p>This is the &ldquo;run a command and exit&rdquo; option.
+This option takes a string argument <samp>cmd</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-ntpq_002dcommand-6"></a>
-This is the &ldquo;run a command and exit&rdquo; option. 
-This option takes a string argument <span class="file">cmd</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>The following argument is interpreted as an interactive format command
+<p>The following argument is interpreted as an interactive format command
 and is added to the list of commands to be executed on the specified
-host(s). 
-<div class="node">
-<p><hr>
-<a name="ntpq-interactive"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-numeric">ntpq numeric</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-command">ntpq command</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+host(s).
+</p><hr>
+<a name="ntpq-interactive"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-numeric" accesskey="n" rel="next">ntpq numeric</a>, Previous: <a href="#ntpq-command" accesskey="p" rel="prev">ntpq command</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="interactive-option-_0028_002di_0029"></a>
+<h4 class="subsection">1.1.6 interactive option (-i)</h4>
+<a name="index-ntpq_002dinteractive"></a>
 
-<h4 class="subsection">interactive option (-i)</h4>
+<p>This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+command, peers.
+</li></ul>
 
-<p><a name="index-ntpq_002dinteractive-7"></a>
-This is the &ldquo;force ntpq to operate in interactive mode&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-command, peers. 
-</ul>
-
-  <p>Force <code>ntpq</code> to operate in interactive mode. 
+<p>Force <code>ntpq</code> to operate in interactive mode.
 Prompts will be written to the standard output and
-commands read from the standard input. 
-<div class="node">
-<p><hr>
-<a name="ntpq-numeric"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-old_002drv">ntpq old-rv</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-interactive">ntpq interactive</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+commands read from the standard input.
+</p><hr>
+<a name="ntpq-numeric"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-old_002drv" accesskey="n" rel="next">ntpq old-rv</a>, Previous: <a href="#ntpq-interactive" accesskey="p" rel="prev">ntpq interactive</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="numeric-option-_0028_002dn_0029"></a>
+<h4 class="subsection">1.1.7 numeric option (-n)</h4>
+<a name="index-ntpq_002dnumeric"></a>
 
-<h4 class="subsection">numeric option (-n)</h4>
-
-<p><a name="index-ntpq_002dnumeric-8"></a>
-This is the &ldquo;numeric host addresses&rdquo; option. 
+<p>This is the &ldquo;numeric host addresses&rdquo; option.
 Output all host addresses in dotted-quad numeric format rather than
-converting to the canonical host names. 
-<div class="node">
-<p><hr>
-<a name="ntpq-old_002drv"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-peers">ntpq peers</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-numeric">ntpq numeric</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+converting to the canonical host names.
+</p><hr>
+<a name="ntpq-old_002drv"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-peers" accesskey="n" rel="next">ntpq peers</a>, Previous: <a href="#ntpq-numeric" accesskey="p" rel="prev">ntpq numeric</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="old_002drv-option"></a>
+<h4 class="subsection">1.1.8 old-rv option</h4>
+<a name="index-ntpq_002dold_002drv"></a>
 
-<h4 class="subsection">old-rv option</h4>
-
-<p><a name="index-ntpq_002dold_002drv-9"></a>
-This is the &ldquo;always output status line with readvar&rdquo; option. 
+<p>This is the &ldquo;always output status line with readvar&rdquo; option.
 By default, <code>ntpq</code> now suppresses the <code>associd=...</code>
 line that precedes the output of <code>readvar</code>
 (alias <code>rv</code>) when a single variable is requested, such as
-<code>ntpq -c "rv 0 offset"</code>. 
+<code>ntpq -c &quot;rv 0 offset&quot;</code>.
 This option causes <code>ntpq</code> to include both lines of output
-for a single-variable <code>readvar</code>. 
+for a single-variable <code>readvar</code>.
 Using an environment variable to
 preset this option in a script will enable both older and
-newer <code>ntpq</code> to behave identically in this regard. 
-<div class="node">
-<p><hr>
-<a name="ntpq-peers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-refid">ntpq refid</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-old_002drv">ntpq old-rv</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+newer <code>ntpq</code> to behave identically in this regard.
+</p><hr>
+<a name="ntpq-peers"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-refid" accesskey="n" rel="next">ntpq refid</a>, Previous: <a href="#ntpq-old_002drv" accesskey="p" rel="prev">ntpq old-rv</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="peers-option-_0028_002dp_0029"></a>
+<h4 class="subsection">1.1.9 peers option (-p)</h4>
+<a name="index-ntpq_002dpeers"></a>
 
-<h4 class="subsection">peers option (-p)</h4>
+<p>This is the &ldquo;print a list of the peers&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+interactive.
+</li></ul>
 
-<p><a name="index-ntpq_002dpeers-10"></a>
-This is the &ldquo;print a list of the peers&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-interactive. 
-</ul>
-
-  <p>Print a list of the peers known to the server as well as a summary
-of their state. This is equivalent to the 'peers' interactive command. 
-<div class="node">
-<p><hr>
-<a name="ntpq-refid"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-wide">ntpq wide</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-peers">ntpq peers</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<p>Print a list of the peers known to the server as well as a summary
+of their state. This is equivalent to the &rsquo;peers&rsquo; interactive command.
+</p><hr>
+<a name="ntpq-refid"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-wide" accesskey="n" rel="next">ntpq wide</a>, Previous: <a href="#ntpq-peers" accesskey="p" rel="prev">ntpq peers</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="refid-option-_0028_002dr_0029"></a>
+<h4 class="subsection">1.1.10 refid option (-r)</h4>
+<a name="index-ntpq_002drefid"></a>
 
-<h4 class="subsection">refid option (-r)</h4>
-
-<p><a name="index-ntpq_002drefid-11"></a>
-This is the &ldquo;set default display type for s2+ refids&rdquo; option. 
+<p>This is the &ldquo;set default display type for s2+ refids&rdquo; option.
 This option takes a keyword argument.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>This option takes a keyword as its argument. 
-The argument sets an enumeration value that can be tested by comparing the option value macro (OPT_VALUE_REFID). 
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> This option takes a keyword as its argument.
+The argument sets an enumeration value that can be tested by comparing the option value macro (OPT_VALUE_REFID).
 The available keywords are:
-     <pre class="example">             hash ipv4
-    </pre>
-     <p>or their numeric equivalent.</ul>
+<div class="example">
+<pre class="example">    hash ipv4
+</pre></div>
 
-  <p>Set the default display format for S2+ refids. 
-<div class="node">
-<p><hr>
-<a name="ntpq-wide"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-config">ntpq config</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-refid">ntpq refid</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<p>or their numeric equivalent.</p></li></ul>
+
+<p>Set the default display format for S2+ refids.
+</p><hr>
+<a name="ntpq-wide"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-config" accesskey="n" rel="next">ntpq config</a>, Previous: <a href="#ntpq-refid" accesskey="p" rel="prev">ntpq refid</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="wide-option-_0028_002dw_0029"></a>
+<h4 class="subsection">1.1.11 wide option (-w)</h4>
+<a name="index-ntpq_002dwide"></a>
 
-<h4 class="subsection">wide option (-w)</h4>
-
-<p><a name="index-ntpq_002dwide-12"></a>
-This is the &ldquo;display the full 'remote' value&rdquo; option. 
-Display the full value of the 'remote' value.  If this requires
+<p>This is the &ldquo;display the full &rsquo;remote&rsquo; value&rdquo; option.
+Display the full value of the &rsquo;remote&rsquo; value.  If this requires
 more than 15 characters, display the full value, emit a newline,
 and continue the data display properly indented on the next line.
+</p>
 
-<div class="node">
-<p><hr>
-<a name="ntpq-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpq-exit-status">ntpq exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-wide">ntpq wide</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<hr>
+<a name="ntpq-config"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpq-exit-status" accesskey="n" rel="next">ntpq exit status</a>, Previous: <a href="#ntpq-wide" accesskey="p" rel="prev">ntpq wide</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="presetting_002fconfiguring-ntpq"></a>
+<h4 class="subsection">1.1.12 presetting/configuring ntpq</h4>
 
-<h4 class="subsection">presetting/configuring ntpq</h4>
-
 <p>Any option that is not marked as <i>not presettable</i> may be preset by
-loading values from configuration ("rc" or "ini") files, and values from environment variables named <code>NTPQ</code> and <code>NTPQ_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
-the options listed above in upper case and segmented with underscores. 
+loading values from configuration (&quot;rc&quot; or &quot;ini&quot;) files, and values from environment variables named <code>NTPQ</code> and <code>NTPQ_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
+the options listed above in upper case and segmented with underscores.
 The <code>NTPQ</code> variable will be tokenized and parsed like
 the command line.  The remaining variables are tested for existence and their
 values are treated like option arguments.
+</p>
 
-<p class="noindent"><code>libopts</code> will search in 2 places for configuration files:
-     <ul>
-<li>$HOME
-<li>$PWD
-</ul>
-  The environment variables <code>HOME</code>, and <code>PWD</code>
-are expanded and replaced when <span class="file">ntpq</span> runs. 
-For any of these that are plain files, they are simply processed. 
-For any that are directories, then a file named <span class="file">.ntprc</span> is searched for
+<p><code>libopts</code> will search in 2 places for configuration files:
+</p><ul>
+<li> $HOME
+</li><li> $PWD
+</li></ul>
+<p>The environment variables <code>HOME</code>, and <code>PWD</code>
+are expanded and replaced when <samp>ntpq</samp> runs.
+For any of these that are plain files, they are simply processed.
+For any that are directories, then a file named <samp>.ntprc</samp> is searched for
 within that directory and processed.
-
-  <p>Configuration files may be in a wide variety of formats. 
+</p>
+<p>Configuration files may be in a wide variety of formats.
 The basic format is an option name followed by a value (argument) on the
 same line.  Values may be separated from the option name with a colon,
 equal sign or simply white space.  Values may be continued across multiple
 lines by escaping the newline with a backslash.
-
-  <p>Multiple programs may also share the same initialization file. 
+</p>
+<p>Multiple programs may also share the same initialization file.
 Common options are collected at the top, followed by program specific
 segments.  The segments are separated by lines like:
-<pre class="example">    [NTPQ]
-</pre>
-  <p class="noindent">or by
-<pre class="example">    &lt;?program ntpq&gt;
-</pre>
-  <p class="noindent">Do not mix these styles within one configuration file.
-
-  <p>Compound values and carefully constructed string values may also be
+</p><div class="example">
+<pre class="example">[NTPQ]
+</pre></div>
+<p>or by
+</p><div class="example">
+<pre class="example">&lt;?program ntpq&gt;
+</pre></div>
+<p>Do not mix these styles within one configuration file.
+</p>
+<p>Compound values and carefully constructed string values may also be
 specified using XML syntax:
-<pre class="example">    &lt;option-name&gt;
-       &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
-    &lt;/option-name&gt;
-</pre>
-  <p class="noindent">yielding an <code>option-name.sub-opt</code> string value of
-<pre class="example">    "...&lt;...&gt;..."
-</pre>
-  <p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
+</p><div class="example">
+<pre class="example">&lt;option-name&gt;
+   &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
+&lt;/option-name&gt;
+</pre></div>
+<p>yielding an <code>option-name.sub-opt</code> string value of
+</p><div class="example">
+<pre class="example">&quot;...&lt;...&gt;...&quot;
+</pre></div>
+<p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
 hierarchicly valued option.  <code>AutoOpts</code> does provide a means for searching
 the associated name/value pair list (see: optionFindValue).
+</p>
+<p>The command line options relating to configuration and/or usage help are:
+</p>
+<a name="version-_0028_002d_0029"></a>
+<h4 class="subsubheading">version (-)</h4>
 
-  <p>The command line options relating to configuration and/or usage help are:
-
-<h5 class="subsubheading">version (-)</h5>
-
 <p>Print the program version to standard out, optionally with licensing
 information, then exit 0.  The optional argument specifies how much licensing
-detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument. 
+detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.
 Only the first letter of the argument is examined:
-
-     <dl>
-<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
-<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
-<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
+</p>
+<dl compact="compact">
+<dt>&lsquo;<samp>version</samp>&rsquo;</dt>
+<dd><p>Only print the version.  This is the default.
+</p></dd>
+<dt>&lsquo;<samp>copyright</samp>&rsquo;</dt>
+<dd><p>Name the copyright usage licensing terms.
+</p></dd>
+<dt>&lsquo;<samp>verbose</samp>&rsquo;</dt>
+<dd><p>Print the full copyright usage licensing terms.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="ntpq-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-config">ntpq config</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpq-Invocation">ntpq Invocation</a>
-<br>
+<hr>
+<a name="ntpq-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntpq-config" accesskey="p" rel="prev">ntpq config</a>, Up: <a href="#ntpq-Invocation" accesskey="u" rel="up">ntpq Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpq-exit-status-1"></a>
+<h4 class="subsection">1.1.13 ntpq exit status</h4>
 
-<h4 class="subsection">ntpq exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
-<br><dt><span class="samp">66 (EX_NOINPUT)</span><dd>A specified configuration file could not be loaded. 
-<br><dt><span class="samp">70 (EX_SOFTWARE)</span><dd>libopts had an internal operational error.  Please report
-it to autogen-users@lists.sourceforge.net.  Thank you. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
+<dt>&lsquo;<samp>66 (EX_NOINPUT)</samp>&rsquo;</dt>
+<dd><p>A specified configuration file could not be loaded.
+</p></dd>
+<dt>&lsquo;<samp>70 (EX_SOFTWARE)</samp>&rsquo;</dt>
+<dd><p>libopts had an internal operational error.  Please report
+it to autogen-users@lists.sourceforge.net.  Thank you.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Internal-Commands">Internal Commands</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpq-Description">ntpq Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#Internal-Commands" accesskey="n" rel="next">Internal Commands</a>, Previous: <a href="#ntpq-Description" accesskey="p" rel="prev">ntpq Description</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Usage-1"></a>
+<h3 class="section">1.2 Usage</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Usage</h3>
+<table>
+<thead><tr><th width="23%">What</th><th width="23%">Default</th><th width="5%">Flag</th><th width="15%">Option</th></tr></thead>
+<tr><td width="23%">configuration file</td><td width="23%"><code>/etc/ntp.conf</code></td><td width="5%"><code>-c</code></td><td width="15%"><code>conffile</code></td></tr>
+<tr><td width="23%">frequency file</td><td width="23%">none</td><td width="5%"><code>-f</code></td><td width="15%"><code>driftfile</code></td></tr>
+<tr><td width="23%">leapseconds file</td><td width="23%">none</td><td width="5%"></td><td width="15%"><code>leapfile</code></td></tr>
+<tr><td width="23%">process ID file</td><td width="23%">none</td><td width="5%"><code>-p</code></td><td width="15%"><code>pidfile</code></td></tr>
+<tr><td width="23%">log file</td><td width="23%">system log</td><td width="5%"><code>-l</code></td><td width="15%"><code>logfile</code></td></tr>
+<tr><td width="23%">include file</td><td width="23%">none</td><td width="5%">none</td><td width="15%"><code>includefile</code></td></tr>
+<tr><td width="23%">statistics path</td><td width="23%"><code>/var/NTP</code></td><td width="5%"><code>-s</code></td><td width="15%"><code>statsdir</code></td></tr>
+<tr><td width="23%">keys path</td><td width="23%"><code>/usr/local/etc</code></td><td width="5%"><code>-k</code></td><td width="15%"><code>keysdir</code></td></tr>
+</table>
 
-<p><table summary=""><tr align="left"><th valign="top" width="23%">What </th><th valign="top" width="23%">Default </th><th valign="top" width="5%">Flag </th><th valign="top" width="15%">Option
-<br></th></tr><tr align="left"><td valign="top" width="23%">configuration file
-</td><td valign="top" width="23%"><code>/etc/ntp.conf</code>
-</td><td valign="top" width="5%"><code>-c</code>
-</td><td valign="top" width="15%"><code>conffile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">frequency file
-</td><td valign="top" width="23%">none
-</td><td valign="top" width="5%"><code>-f</code>
-</td><td valign="top" width="15%"><code>driftfile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">leapseconds file
-</td><td valign="top" width="23%">none
-</td><td valign="top" width="5%">
-</td><td valign="top" width="15%"><code>leapfile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">process ID file
-</td><td valign="top" width="23%">none
-</td><td valign="top" width="5%"><code>-p</code>
-</td><td valign="top" width="15%"><code>pidfile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">log file
-</td><td valign="top" width="23%">system log
-</td><td valign="top" width="5%"><code>-l</code>
-</td><td valign="top" width="15%"><code>logfile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">include file
-</td><td valign="top" width="23%">none
-</td><td valign="top" width="5%">none
-</td><td valign="top" width="15%"><code>includefile</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">statistics path
-</td><td valign="top" width="23%"><code>/var/NTP</code>
-</td><td valign="top" width="5%"><code>-s</code>
-</td><td valign="top" width="15%"><code>statsdir</code>
-<br></td></tr><tr align="left"><td valign="top" width="23%">keys path
-</td><td valign="top" width="23%"><code>/usr/local/etc</code>
-</td><td valign="top" width="5%"><code>-k</code>
-</td><td valign="top" width="15%"><code>keysdir</code>
-<br></td></tr></table>
-
-<div class="node">
-<p><hr>
-<a name="Internal-Commands"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Control-Message-Commands">Control Message Commands</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Usage">Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Internal-Commands"></a>
+<div class="header">
+<p>
+Next: <a href="#Control-Message-Commands" accesskey="n" rel="next">Control Message Commands</a>, Previous: <a href="#Usage" accesskey="p" rel="prev">Usage</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Internal-Commands-2"></a>
+<h3 class="section">1.3 Internal Commands</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Internal Commands</h3>
-
 <p>Interactive format commands consist of a keyword followed by zero to four arguments.  Only enough characters of the full keyword to uniquely identify the command need be typed.  The output of a command is normally sent to the standard output, but optionally the output of individual commands may be sent to a file by appending a <code>&gt;</code>, followed by a file name, to the command line.  A number of interactive format commands are executed entirely within the <code>ntpq</code> program itself and do not result in NTP mode-6 requests being sent to a server.  These are described following.
-
-     <dl>
-<dt><code><a name="help"></a> ? [</code><kbd>command_keyword</kbd><code>]</code><dt><code>help [</code><kbd>command_keyword</kbd><code>]</code><dd>A <code>?</code> by itself will print a list of all the command keywords known to <code>ntpq</code>.  A <code>?</code> followed by a command keyword will print function and usage information about the command.
-
-     <br><dt><code><a name="addvars"></a> &gt;addvars </code><kbd>name</kbd><code> [ = </code><kbd>value</kbd><code>] [...]</code><dt><code>rmvars </code><kbd>name</kbd><code> [...]</code><dt><code>clearvars&lt;/dt&gt;</code><dd>The arguments to these commands consist of a list of items of the form
-<kbd>name</kbd><code> = </code><kbd>value</kbd>, where the <code>= </code><kbd>value</kbd> is ignored,
-and can be omitted in read requests. 
+</p>
+<dl compact="compact">
+<dt><code><a name="help"></a><code>? [</code><kbd>command_keyword</kbd><code>]</code></code></dt>
+<dt><code><code>help [</code><kbd>command_keyword</kbd><code>]</code></code></dt>
+<dd><p>A <code>?</code> by itself will print a list of all the command keywords known to <code>ntpq</code>.  A <code>?</code> followed by a command keyword will print function and usage information about the command.
+</p>
+</dd>
+<dt><code><a name="addvars"></a>&gt;<code>addvars <kbd>name</kbd> [ = <kbd>value</kbd>] [...]</code></code></dt>
+<dt><code><code>rmvars <kbd>name</kbd> [...]</code></code></dt>
+<dt><code><code>clearvars</code>&lt;/dt&gt;</code></dt>
+<dd><p>The arguments to these commands consist of a list of items of the form
+<code><kbd>name</kbd> = <kbd>value</kbd></code>, where the <code>= <kbd>value</kbd></code> is ignored,
+and can be omitted in read requests.
 <code>ntpq</code> maintains an internal list in which data to be included
 in control messages can be assembled, and sent using the <code>readlist</code>
-and <code>writelist</code> commands described below. 
+and <code>writelist</code> commands described below.
 The <code>addvars</code> command allows variables and optional values
-to be added to the list. 
+to be added to the list.
 If more than one variable is to be added
-the list should be comma-separated and not contain white space. 
+the list should be comma-separated and not contain white space.
 The <code>rmvars</code> command can be used to remove individual variables
 from the list,
 while the <code>clearlist</code> command removes all variables from the list.
-
-     <br><dt><code><a name="cooked"></a> cooked</code><dd>Display server messages in prettyprint format.
-
-     <br><dt><code><a name="debug"></a> debug more | less | off</code><dd>Turns internal query program debugging on and off.
-
-     <br><dt><code><a name="delay"></a> delay </code><kbd>milliseconds</kbd><dd>Specify a time interval to be added to timestamps included in requests which require authentication.  This is used to enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks are unsynchronized.  Actually the server does not now require timestamps in authenticated requests, so this command may be obsolete.
-
-     <br><dt><code><a name="host"></a> host </code><kbd>name</kbd><dd>Set the host to which future queries will be sent. 
+</p>
+</dd>
+<dt><code><a name="cooked"></a><code>cooked</code></code></dt>
+<dd><p>Display server messages in prettyprint format.
+</p>
+</dd>
+<dt><code><a name="debug"></a><code>debug more | less | off</code></code></dt>
+<dd><p>Turns internal query program debugging on and off.
+</p>
+</dd>
+<dt><code><a name="delay"></a><code>delay <kbd>milliseconds</kbd></code></code></dt>
+<dd><p>Specify a time interval to be added to timestamps included in requests which require authentication.  This is used to enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks are unsynchronized.  Actually the server does not now require timestamps in authenticated requests, so this command may be obsolete.
+</p>
+</dd>
+<dt><code><a name="host"></a><code>host <kbd>name</kbd></code></code></dt>
+<dd><p>Set the host to which future queries will be sent.
 The name may be either a DNS name or a numeric address.
-
-     <br><dt><code><a name="hostnames"></a> hostnames [yes | no]</code><dd>If <code>yes</code> is specified, host names are printed in information displays. 
-If <code>no</code> is specified, numeric addresses are printed instead. 
+</p>
+</dd>
+<dt><code><a name="hostnames"></a><code>hostnames [yes | no]</code></code></dt>
+<dd><p>If <code>yes</code> is specified, host names are printed in information displays.
+If <code>no</code> is specified, numeric addresses are printed instead.
 The default is <code>yes</code>,
 unless modified using the command line <code>-n</code> switch.
-
-     <br><dt><code><a name="keyid"></a> keyid </code><kbd>keyid</kbd><dd>This command specifies the key number to be used
-to authenticate configuration requests. 
+</p>
+</dd>
+<dt><code><a name="keyid"></a><code>keyid <kbd>keyid</kbd></code></code></dt>
+<dd><p>This command specifies the key number to be used
+to authenticate configuration requests.
 This must correspond to a key ID configured in <code>ntp.conf</code> for this purpose.
-
-     <br><dt><code><a name="keytype"></a> keytype</code><dd>Specify the digest algorithm to use for authenticated requests,
-with default <code>MD5</code>. 
+</p>
+</dd>
+<dt><code><a name="keytype"></a><code>keytype</code></code></dt>
+<dd><p>Specify the digest algorithm to use for authenticated requests,
+with default <code>MD5</code>.
 If the OpenSSL library is installed,
-digest can be be any message digest algorithm supported by the library. 
+digest can be be any message digest algorithm supported by the library.
 The current selections are: <code>AES128CMAC</code>, <code>MD2</code>, <code>MD4</code>, <code>MD5</code>, <code>MDC2</code>, <code>RIPEMD160</code>, <code>SHA</code> and <code>SHA1</code>.
-
-     <br><dt><code><a name="ntpversion"></a> ntpversion 1 | 2 | 3 | 4</code><dd>Sets the NTP version number which <code>ntpq</code> claims in packets. 
-Defaults to 2. 
+</p>
+</dd>
+<dt><code><a name="ntpversion"></a><code>ntpversion 1 | 2 | 3 | 4</code></code></dt>
+<dd><p>Sets the NTP version number which <code>ntpq</code> claims in packets.
+Defaults to 2.
 Note that mode-6 control messages (and modes, for that matter)
-didn't exist in NTP version 1.
-
-     <br><dt><code><a name="passwd"></a> passwd</code><dd>This command prompts for a password to authenticate requests. 
+didn&rsquo;t exist in NTP version 1.
+</p>
+</dd>
+<dt><code><a name="passwd"></a><code>passwd</code></code></dt>
+<dd><p>This command prompts for a password to authenticate requests.
 The password must correspond to the key ID configured in <code>ntp.conf</code> for this purpose.
-
-     <br><dt><code><a name="quit"></a> quit</code><dd>Exit <code>ntpq</code>.
-
-     <br><dt><code><a name="raw"></a> raw</code><dd>Display server messages as received and without reformatting.
-
-     <br><dt><code><a name="timeout"></a> timeout </code><kbd>millseconds</kbd><dd>Specify a timeout period for responses to server queries. 
-The default is about 5000 milliseconds. 
+</p>
+</dd>
+<dt><code><a name="quit"></a><code>quit</code></code></dt>
+<dd><p>Exit <code>ntpq</code>.
+</p>
+</dd>
+<dt><code><a name="raw"></a><code>raw</code></code></dt>
+<dd><p>Display server messages as received and without reformatting.
+</p>
+</dd>
+<dt><code><a name="timeout"></a><code>timeout <kbd>milliseconds</kbd></code></code></dt>
+<dd><p>Specify a timeout period for responses to server queries.
+The default is about 5000 milliseconds.
 Note that since <code>ntpq</code> retries each query once after a timeout
 the total waiting time for a timeout will be twice the timeout value set.
+</p>
+</dd>
+</dl>
 
-  </dl>
-
-<div class="node">
-<p><hr>
-<a name="Control-Message-Commands"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Status-Words-and-Kiss-Codes">Status Words and Kiss Codes</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Internal-Commands">Internal Commands</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Control-Message-Commands"></a>
+<div class="header">
+<p>
+Next: <a href="#Status-Words-and-Kiss-Codes" accesskey="n" rel="next">Status Words and Kiss Codes</a>, Previous: <a href="#Internal-Commands" accesskey="p" rel="prev">Internal Commands</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Control-Message-Commands-2"></a>
+<h3 class="section">1.4 Control Message Commands</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Control Message Commands</h3>
-
-<p>Association IDs are used to identify system, peer and clock variables. 
+<p>Association IDs are used to identify system, peer and clock variables.
 System variables are assigned an association ID of zero and system name space,
-while each association is assigned a nonzero association ID and peer namespace. 
+while each association is assigned a nonzero association ID and peer namespace.
 Most control commands send a single mode-6 message to the server
-and expect a single response message. 
+and expect a single response message.
 The exceptions are the <code>peers</code> command,
 which sends a series of messages,
 and the <code>mreadlist</code> and <code>mreadvar</code> commands,
 which iterate over a range of associations.
-
-  <p><a name="as"></a>
-     <dl>
-<dt><code>associations</code><dd>Display a list of mobilized associations in the form:
+</p>
+<a name="as"></a><dl compact="compact">
+<dt><code><code>associations</code></code></dt>
+<dd><p>Display a list of mobilized associations in the form:
 <br>
 <code>ind assid status conf reach auth condition last_event cnt</code>
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="40%">Description</th></tr></thead>
+<tr><td width="10%"><code>ind</code></td><td width="40%">index on this list</td></tr>
+<tr><td width="10%"><code>assid</code></td><td width="40%">association ID</td></tr>
+<tr><td width="10%"><code>status</code></td><td width="40%"><a href="decode.html#peer">peer status word</a></td></tr>
+<tr><td width="10%"><code>conf</code></td><td width="40%"><code>yes</code>: persistent, <code>no</code>: ephemeral</td></tr>
+<tr><td width="10%"><code>reach</code></td><td width="40%"><code>yes</code>: reachable, <code>no</code>: unreachable</td></tr>
+<tr><td width="10%"><code>auth</code></td><td width="40%"><code>ok</code>, <code>yes</code>, <code>bad</code> and <code>none</code></td></tr>
+<tr><td width="10%"><code>condition</code></td><td width="40%">selection status (see the <code>select</code> field of the <a href="decode.html#peer">peer status word</a>)</td></tr>
+<tr><td width="10%"><code>last_event</code></td><td width="40%">event report (see the <code>event</code> field of the <a href="decode.html#peer">peer status word</a>)</td></tr>
+<tr><td width="10%"><code>cnt</code>
+event count (see the <code>count</code> field of the <a href="decode.html#peer">peer status word</a>)</td></tr>
+</table>
 
-     <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="40%">Description
-
-     <p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>ind</code>
-</td><td valign="top" width="40%">index on this list
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>assid</code>
-</td><td valign="top" width="40%">association ID
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>status</code>
-</td><td valign="top" width="40%"><a href="decode.html#peer">peer status word</a>
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>conf</code>
-</td><td valign="top" width="40%"><code>yes</code>: persistent, <code>no</code>: ephemeral
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>reach</code>
-</td><td valign="top" width="40%"><code>yes</code>: reachable, <code>no</code>: unreachable
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>auth</code>
-</td><td valign="top" width="40%"><code>ok</code>, <code>yes</code>, <code>bad</code> and <code>none</code>
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>condition</code>
-</td><td valign="top" width="40%">selection status (see the <code>select</code> field of the <a href="decode.html#peer">peer status word</a>)
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>last_event</code>
-</td><td valign="top" width="40%">event report (see the <code>event</code> field of the <a href="decode.html#peer">peer status word</a>)
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>cnt</code>
-event count (see the <code>count</code> field of the <a href="decode.html#peer">peer status word</a>)
-
-     <br></td></tr></table>
-
-     <br><dt><code><a name="cv"></a> clockvar </code><kbd>assocID</kbd><code> [</code><kbd>name</kbd><code> [ = </code><kbd>value</kbd><code> [...]] [...]]</code><dt><code>cv </code><kbd>assocID</kbd><code> [</code><kbd>name</kbd><code> [ = </code><kbd>value</kbd><code> [...] ][...]]</code><dd>Display a list of <a href="#clock">clock variables</a> for those associations supporting a reference clock.
-
-     <br><dt><code><a name="_003aconfig"></a> :config [...]</code><dd>Send the remainder of the command line, including whitespace, to the server
+</dd>
+<dt><code><a name="cv"></a>clockvar <kbd>assocID</kbd> [<kbd>name</kbd> [ = <kbd>value</kbd> [...]] [...]]</code></dt>
+<dt><code>cv <kbd>assocID</kbd> [<kbd>name</kbd> [ = <kbd>value</kbd> [...] ][...]]</code></dt>
+<dd><p>Display a list of &lsquo;clock variables&rsquo; for those associations supporting a reference clock.
+</p>
+</dd>
+<dt><code><a name="g_t_003aconfig"></a>:config [...]</code></dt>
+<dd><p>Send the remainder of the command line, including whitespace, to the server
 as a run-time configuration command in the same format
-as the configuration file. 
-This command is experimental until further notice and clarification. 
+as the configuration file.
+This command is experimental until further notice and clarification.
 Authentication is of course required.
-
-     <br><dt><code><a name="config_002dfrom_002dfile"></a> config-from-file </code><kbd>filename</kbd><dd>Send the each line of <kbd>filename</kbd> to the server as
-run-time configuration commands in the same format as the configuration file. 
-This command is experimental until further notice and clarification. 
+</p>
+</dd>
+<dt><code><a name="config_002dfrom_002dfile"></a>config-from-file <kbd>filename</kbd></code></dt>
+<dd><p>Send the each line of <kbd>filename</kbd> to the server as
+run-time configuration commands in the same format as the configuration file.
+This command is experimental until further notice and clarification.
 Authentication is required.
-
-     <br><dt><code><a name="ifstats"></a> ifstats</code><dd>Display statistics for each local network address. 
+</p>
+</dd>
+<dt><code><a name="ifstats"></a>ifstats</code></dt>
+<dd><p>Display statistics for each local network address.
 Authentication is required.
-
-     <br><dt><code><a name="iostats"></a> iostats</code><dd>Display network and reference clock I/O statistics.
-
-     <br><dt><code><a name="kerninfo"></a> kerninfo</code><dd>Display kernel loop and PPS statistics. 
-As with other ntpq output, times are in milliseconds. 
+</p>
+</dd>
+<dt><code><a name="iostats"></a>iostats</code></dt>
+<dd><p>Display network and reference clock I/O statistics.
+</p>
+</dd>
+<dt><code><a name="kerninfo"></a>kerninfo</code></dt>
+<dd><p>Display kernel loop and PPS statistics.
+As with other ntpq output, times are in milliseconds.
 The precision value displayed is in milliseconds as well,
 unlike the precision system variable.
-
-     <br><dt><code><a name="lassoc"></a> lassociations</code><dd>Perform the same function as the associations command,
+</p>
+</dd>
+<dt><code><a name="lassoc"></a>lassociations</code></dt>
+<dd><p>Perform the same function as the associations command,
 except display mobilized and unmobilized associations.
-
-     <br><dt><code><a name="monstats"></a> monstats</code><dd>Display monitor facility statistics.
-
-     <br><dt><code><a name="mrulist"></a> mrulist [limited | kod | mincount=</code><kbd>count</kbd><code> | laddr=</code><kbd>localaddr</kbd><code> | sort=</code><kbd>sortorder</kbd><code> | resany=</code><kbd>hexmask</kbd><code> | resall=</code><kbd>hexmask</kbd><code>]</code><dd>Obtain and print traffic counts collected and maintained by
-the monitor facility. 
-With the exception of <code>sort=</code><kbd>sortorder</kbd>,
-the options filter the list returned by <code>ntpd</code>. 
+</p>
+</dd>
+<dt><code><a name="monstats"></a>monstats</code></dt>
+<dd><p>Display monitor facility statistics.
+</p>
+</dd>
+<dt><code><a name="mrulist"></a>mrulist [limited | kod | mincount=<kbd>count</kbd> | laddr=<kbd>localaddr</kbd> | sort=<kbd>sortorder</kbd> | resany=<kbd>hexmask</kbd> | resall=<kbd>hexmask</kbd>]</code></dt>
+<dd><p>Obtain and print traffic counts collected and maintained by
+the monitor facility.
+With the exception of <code>sort=<kbd>sortorder</kbd></code>,
+the options filter the list returned by <code>ntpd</code>.
 The <code>limited</code> and <code>kod</code> options return only entries
 representing client addresses from which the last packet received
-triggered either discarding or a KoD response. 
-The <code>mincount=</code><kbd>count</kbd> option filters entries representing
-less than <kbd>count</kbd> packets. 
-The <code>laddr=</code><kbd>localaddr</kbd> option filters entries for packets
-received on any local address other than <kbd>localaddr</kbd>. 
-<code>resany=</code><kbd>hexmask</kbd> and <code>resall=</code><kbd>hexmask</kbd>
+triggered either discarding or a KoD response.
+The <code>mincount=<kbd>count</kbd></code> option filters entries representing
+less than <code><kbd>count</kbd></code> packets.
+The <code>laddr=<kbd>localaddr</kbd></code> option filters entries for packets
+received on any local address other than <code><kbd>localaddr</kbd></code>.
+<code>resany=<kbd>hexmask</kbd></code> and <code>resall=<kbd>hexmask</kbd></code>
 filter entries containing none or less than all, respectively,
-of the bits in <kbd>hexmask</kbd>, which must begin with <code>0x</code>. 
+of the bits in <code><kbd>hexmask</kbd></code>, which must begin with <code>0x</code>.
 <br>
-The <kbd>sortorder</kbd> defaults to <code>lstint</code> and may be any of
+The <code><kbd>sortorder</kbd></code> defaults to <code>lstint</code> and may be any of
 <code>addr</code>, <code>count</code>, <code>avgint</code>, <code>lstint</code>, or
-any of those preceded by a minus sign (hyphen) to reverse the sort order. 
+any of those preceded by a minus sign (hyphen) to reverse the sort order.
 The output columns are:
-
-     <p><table summary=""><tr align="left"><th valign="top" width="10%">Column </th><th valign="top" width="40%">Description
-
-     <p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>lstint</code>
-</td><td valign="top" width="40%">
-Interval in s between the receipt of the most recent packet from this
-address and the completion of the retrieval of the MRU list by <code>ntpq</code>
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>avgint</code>
-</td><td valign="top" width="40%">
-Average interval in s between packets from this address.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rstr</code>
-</td><td valign="top" width="40%">
-Restriction flags associated with this address. 
+</p>
+<table>
+<thead><tr><th width="10%">Column</th><th width="40%">Description</th></tr></thead>
+<tr><td width="10%"><code>lstint</code></td><td width="40%">Interval in s between the receipt of the most recent packet from this
+address and the completion of the retrieval of the MRU list by <code>ntpq</code></td></tr>
+<tr><td width="10%"><code>avgint</code></td><td width="40%">Average interval in s between packets from this address.</td></tr>
+<tr><td width="10%"><code>rstr</code></td><td width="40%">Restriction flags associated with this address.
 Most are copied unchanged from the matching <code>restrict</code> command,
 however 0x400 (kod) and 0x20 (limited) flags are cleared unless
-the last packet from this address triggered a rate control response.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>r</code>
-</td><td valign="top" width="40%">
-Rate control indicator, either a period, <code>L</code> or <code>K</code> for
+the last packet from this address triggered a rate control response.</td></tr>
+<tr><td width="10%"><code>r</code></td><td width="40%">Rate control indicator, either a period, <code>L</code> or <code>K</code> for
 no rate control response, rate limiting by discarding, or
-rate limiting with a KoD response, respectively.
+rate limiting with a KoD response, respectively.</td></tr>
+<tr><td width="10%"><code>m</code></td><td width="40%">Packet mode.</td></tr>
+<tr><td width="10%"><code>v</code></td><td width="40%">Packet version number.</td></tr>
+<tr><td width="10%"><code>count</code></td><td width="40%">Packets received from this address.</td></tr>
+<tr><td width="10%"><code>rport</code></td><td width="40%">Source port of last packet from this address.</td></tr>
+<tr><td width="10%"><code>remote address</code></td><td width="40%">DNS name, numeric address, or address followed by claimed DNS name which
+could not be verified in parentheses.</td></tr>
+</table>
 
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>m</code>
-</td><td valign="top" width="40%">
-Packet mode. 
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>v</code>
-</td><td valign="top" width="40%">
-Packet version number.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>count</code>
-</td><td valign="top" width="40%">
-Packets received from this address.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rport</code>
-</td><td valign="top" width="40%">
-Source port of last packet from this address.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>remote address</code>
-</td><td valign="top" width="40%">
-DNS name, numeric address, or address followed by claimed DNS name which
-could not be verified in parentheses.
-
-     <br></td></tr></table>
-
-     <br><dt><code><a name="mreadvar"></a> mreadvar </code><kbd>assocID</kbd> <kbd>assocID</kbd><code> [ </code><kbd>variable_name</kbd><code> [ = </code><kbd>value</kbd><code>[ ... ]</code><dt><code><a name="mrv"></a> mrv </code><kbd>assocID</kbd> <kbd>assocID</kbd><code> [ </code><kbd>variable_name</kbd><code> [ = </code><kbd>value</kbd><code>[ ... ]</code><dd>Perform the same function as the <code>readvar</code> command,
-except for a range of association IDs. 
+</dd>
+<dt><code><a name="mreadvar"></a><code>mreadvar <kbd>assocID</kbd> <kbd>assocID</kbd> [ <kbd>variable_name</kbd> [ = <kbd>value</kbd>[ ... ]</code></code></dt>
+<dt><code><a name="mrv"></a><code>mrv <kbd>assocID</kbd> <kbd>assocID</kbd> [ <kbd>variable_name</kbd> [ = <kbd>value</kbd>[ ... ]</code></code></dt>
+<dd><p>Perform the same function as the <code>readvar</code> command,
+except for a range of association IDs.
 This range is determined from the association list cached by
 the most recent <code>associations</code> command.
-
-     <br><dt><code><a name="passoc"></a> passociations</code><dd>Perform the same function as the <code>associations command</code>, except that
+</p>
+</dd>
+<dt><code><a name="passoc"></a><code>passociations</code></code></dt>
+<dd><p>Perform the same function as the <code>associations command</code>, except that
 it uses previously stored data rather than making a new query.
-
-     <br><dt><code><a name="pe"></a> peers</code><dd>Display a list of peers in the form:
+</p>
+</dd>
+<dt><code><a name="pe"></a><code>peers</code></code></dt>
+<dd><p>Display a list of peers in the form:
 <br>
 <code>[tally]remote refid st t when pool reach delay offset jitter</code>
-
-     <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-<br></th></tr><tr align="left"><td valign="top" width="10%"><code>[tally]</code>
-</td><td valign="top" width="20%">
-single-character code indicating current value of the <code>select</code> field
-of the <a href="decode.html#peer">peer status word</a>.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>remote</code>
-</td><td valign="top" width="20%">
-host name (or IP number) of peer
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>refid</code>
-</td><td valign="top" width="20%">
-association ID or <a href="decode.html#kiss">kiss code</a>.
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>st</code>
-</td><td valign="top" width="20%">
-stratum
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>t</code>
-</td><td valign="top" width="20%">
-<code>u</code>: unicast or manycast client,
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>[tally]</code></td><td width="20%">single-character code indicating current value of the <code>select</code> field
+of the <a href="decode.html#peer">peer status word</a>.</td></tr>
+<tr><td width="10%"><code>remote</code></td><td width="20%">host name (or IP number) of peer</td></tr>
+<tr><td width="10%"><code>refid</code></td><td width="20%">association ID or <a href="decode.html#kiss">kiss code</a>.</td></tr>
+<tr><td width="10%"><code>st</code></td><td width="20%">stratum</td></tr>
+<tr><td width="10%"><code>t</code></td><td width="20%"><code>u</code>: unicast or manycast client,
 <code>b</code>: broadcast or multicast client,
 <code>l</code>: local (reference clock),
 <code>s</code>: symmetric (peer),
 <code>A</code>: manycast server,
 <code>B</code>: broadcast server,
-<code>M</code>: multicast server.
+<code>M</code>: multicast server.</td></tr>
+<tr><td width="10%"><code>when</code></td><td width="20%">sec/min/hr since last received packet</td></tr>
+<tr><td width="10%"><code>poll</code></td><td width="20%">poll interval (log(2) s)</td></tr>
+<tr><td width="10%"><code>reach</code></td><td width="20%">reach shift register (octal)</td></tr>
+<tr><td width="10%"><code>delay</code></td><td width="20%">roundtrip delay</td></tr>
+<tr><td width="10%"><code>offset</code></td><td width="20%">offset of server relative to this host</td></tr>
+<tr><td width="10%"><code>jitter</code></td><td width="20%">jitter</td></tr>
+</table>
 
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>when</code>
-</td><td valign="top" width="20%">
-sec/min/hr since last received packet
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>poll</code>
-</td><td valign="top" width="20%">
-poll interval (log(2) s)
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>reach</code>
-</td><td valign="top" width="20%">
-reach shift register (octal)
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>delay</code>
-</td><td valign="top" width="20%">
-roundtrip delay
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>offset</code>
-</td><td valign="top" width="20%">
-offset of server relative to this host
-
-     <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>jitter</code>
-</td><td valign="top" width="20%">
-jitter
-
-     <br></td></tr></table>
-
-     <br><dt><code><a name="rv"></a> readvar </code><kbd>assocID</kbd> <kbd>name</kbd><code> [ = </code><kbd>value</kbd><code> ] [,...]</code><dt><code>rv </code><kbd>assocID</kbd><code> [ </code><kbd>name</kbd><code> ] [,...]</code><dd>Display the specified variables. 
-If <kbd>assocID</kbd> is zero,
-the variables are from the <a href="#system">system variables</a> name space,
-otherwise they are from the <a href="#peer">peer variables</a> name space. 
-The <kbd>assocID</kbd> is required, as the same name can occur in both spaces. 
+</dd>
+<dt><code><a name="rv"></a>readvar <kbd>assocID</kbd> <kbd>name</kbd> [ = <kbd>value</kbd> ] [,...]</code></dt>
+<dt><code>rv <kbd>assocID</kbd> [ <kbd>name</kbd> ] [,...]</code></dt>
+<dd><p>Display the specified variables.
+If <code><kbd>assocID</kbd></code> is zero,
+the variables are from the &lsquo;system variables&rsquo; name space,
+otherwise they are from the &lsquo;peer variables&rsquo; name space.
+The <kbd>assocID</kbd> is required, as the same name can occur in both spaces.
 If no <kbd>name</kbd> is included,
-all operative variables in the name space are displayed. 
-In this case only, if the <kbd>assocID</kbd> is omitted, it is assumed zero. 
-Multiple names are specified with comma separators and without whitespace. 
+all operative variables in the name space are displayed.
+In this case only, if the <code><kbd>assocID</kbd></code> is omitted, it is assumed zero.
+Multiple names are specified with comma separators and without whitespace.
 Note that time values are represented in milliseconds and
-frequency values in parts-per-million (PPM). 
+frequency values in parts-per-million (PPM).
 Some NTP timestamps are represented in the format YYYYMMDDTTTT,
 where YYYY is the year, MM the month of year, DD the day of month and
 TTTT the time of day.
-
-     <br><dt><code><a name="saveconfig"></a> saveconfig </code><kbd>filename</kbd><dd>Write the current configuration, including any runtime modifications
+</p>
+</dd>
+<dt><code><a name="saveconfig"></a><code>saveconfig <kbd>filename</kbd></code></code></dt>
+<dd><p>Write the current configuration, including any runtime modifications
 given with <code>:config</code> or <code>config-from-file</code>,
-to the ntpd host's file <kbd>filename</kbd>. 
+to the ntpd host&rsquo;s file <kbd>filename</kbd>.
 This command will be rejected by the server unless
 <a href="miscopt.html#saveconfigdir">saveconfigdir</a>
-appears in the <code>ntpd</code> configuration file. 
+appears in the <code>ntpd</code> configuration file.
 <kbd>filename</kbd> can use <code>strftime()</code> format specifiers
 to substitute the current date and time, for example,
-<code>saveconfig ntp-%Y%m%d-%H%M%S.conf</code>. 
-The filename used is stored in system variable <code>savedconfig</code>. 
+<code>saveconfig ntp-%Y%m%d-%H%M%S.conf</code>.
+The filename used is stored in system variable <code>savedconfig</code>.
 Authentication is required.
-
-     <br><dt><code><a name="writevar"></a> writevar </code><kbd>assocID</kbd> <kbd>name</kbd><code> = </code><kbd>value</kbd><code> [,...]</code><dd>Write the specified variables. 
-If the <kbd>assocID</kbd> is zero, the variables are from the
-<a href="#system">system variables</a> name space, otherwise they are from the
-<a href="#peer">peer variables</a> name	space. 
-The <kbd>assocID</kbd> is required,
+</p>
+</dd>
+<dt><code><a name="writevar"></a>writevar <kbd>assocID</kbd> <kbd>name</kbd> = <kbd>value</kbd> [,...]</code></dt>
+<dd><p>Write the specified variables.
+If the <code><kbd>assocID</kbd></code> is zero, the variables are from the
+&lsquo;system variables&rsquo; name space, otherwise they are from the
+&lsquo;peer variables&rsquo; name	space.
+The <code><kbd>assocID</kbd></code> is required,
 as the same name can occur in both spaces.
+</p>
+</dd>
+<dt><code><a name="sysinfo"></a><code>sysinfo</code></code></dt>
+<dd><p>Display operational summary.
+</p>
+</dd>
+<dt><code><a name="sysstats"></a><code>sysstats</code></code></dt>
+<dd><p>Print statistics counters maintained in the protocol module.
+</p>
+</dd>
+</dl>
 
-     <br><dt><code><a name="sysinfo"></a> sysinfo</code><dd>Display operational summary.
-
-     <br><dt><code><a name="sysstats"></a> sysstats</code><dd>Print statistics counters maintained in the protocol module.
-
-  </dl>
-
-<div class="node">
-<p><hr>
-<a name="Status-Words-and-Kiss-Codes"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#System-Variables">System Variables</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Control-Message-Commands">Control Message Commands</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Status-Words-and-Kiss-Codes"></a>
+<div class="header">
+<p>
+Next: <a href="#System-Variables" accesskey="n" rel="next">System Variables</a>, Previous: <a href="#Control-Message-Commands" accesskey="p" rel="prev">Control Message Commands</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Status-Words-and-Kiss-Codes-2"></a>
+<h3 class="section">1.5 Status Words and Kiss Codes</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Status Words and Kiss Codes</h3>
-
 <p>The current state of the operating program is shown
 in a set of status words maintained by the system
-and each association separately. 
+and each association separately.
 These words are displayed in the <code>rv</code> and <code>as</code> commands
-both in hexadecimal and decoded short tip strings. 
+both in hexadecimal and decoded short tip strings.
 The codes, tips and short explanations are on the
-<a href="decode.html">Event Messages and Status Words</a> page. 
+<a href="decode.html">Event Messages and Status Words</a> page.
 The page also includes a list of system and peer messages,
 the code for the latest of which is included in the status word.
-
-  <p>Information resulting from protocol machine state transitions
+</p>
+<p>Information resulting from protocol machine state transitions
 is displayed using an informal set of ASCII strings called
-<a href="decode.html#kiss">kiss codes</a>. 
-The original purpose was for kiss-o'-death (KoD) packets sent
-by the server to advise the client of an unusual condition. 
+<a href="decode.html#kiss">kiss codes</a>.
+The original purpose was for kiss-o&rsquo;-death (KoD) packets sent
+by the server to advise the client of an unusual condition.
 They are now displayed, when appropriate,
 in the reference identifier field in various billboards.
-
-<div class="node">
-<p><hr>
-<a name="System-Variables"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Peer-Variables">Peer Variables</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Status-Words-and-Kiss-Codes">Status Words and Kiss Codes</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+</p>
+<hr>
+<a name="System-Variables"></a>
+<div class="header">
+<p>
+Next: <a href="#Peer-Variables" accesskey="n" rel="next">Peer Variables</a>, Previous: <a href="#Status-Words-and-Kiss-Codes" accesskey="p" rel="prev">Status Words and Kiss Codes</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="System-Variables-2"></a>
+<h3 class="section">1.6 System Variables</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">System Variables</h3>
-
-<p>The following system variables appear in the <code>rv</code> billboard. 
+<p>The following system variables appear in the <code>rv</code> billboard.
 Not all variables are displayed in some configurations.
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>status</code></td><td width="20%"><a href="decode.html#sys">system status word</a></td></tr>
+<tr><td width="10%"><code>version</code></td><td width="20%">NTP software version and build time</td></tr>
+<tr><td width="10%"><code>processor</code></td><td width="20%">hardware platform and version</td></tr>
+<tr><td width="10%"><code>system</code></td><td width="20%">operating system and version</td></tr>
+<tr><td width="10%"><code>leap</code></td><td width="20%">leap warning indicator (0-3)</td></tr>
+<tr><td width="10%"><code>stratum</code></td><td width="20%">stratum (1-15)</td></tr>
+<tr><td width="10%"><code>precision</code></td><td width="20%">precision (log(2) s)</td></tr>
+<tr><td width="10%"><code>rootdelay</code></td><td width="20%">total roundtrip delay to the primary reference clock</td></tr>
+<tr><td width="10%"><code>rootdisp</code></td><td width="20%">total dispersion to the primary reference clock</td></tr>
+<tr><td width="10%"><code>peer</code></td><td width="20%">system peer association ID</td></tr>
+<tr><td width="10%"><code>tc</code>
+time constant and poll exponent (log(2) s) (3-17)</td></tr>
+<tr><td width="10%"><code>mintc</code>
+minimum time constant (log(2) s) (3-10)</td></tr>
+<tr><td width="10%"><code>clock</code></td><td width="20%">date and time of day</td></tr>
+<tr><td width="10%"><code>refid</code>
+reference ID or <a href="decode.html#kiss">kiss code</a></td></tr>
+<tr><td width="10%"><code>reftime</code></td><td width="20%">reference time</td></tr>
+<tr><td width="10%"><code>offset</code></td><td width="20%">combined offset of server relative to this host</td></tr>
+<tr><td width="10%"><code>sys_jitter</code></td><td width="20%">combined system jitter</td></tr>
+<tr><td width="10%"><code>frequency</code></td><td width="20%">frequency offset (PPM) relative to hardware clock</td></tr>
+<tr><td width="10%"><code>clk_wander</code></td><td width="20%">clock frequency wander (PPM)</td></tr>
+<tr><td width="10%"><code>clk_jitter</code></td><td width="20%">clock jitter</td></tr>
+<tr><td width="10%"><code>tai</code></td><td width="20%">TAI-UTC offset (s)</td></tr>
+<tr><td width="10%"><code>leapsec</code></td><td width="20%">NTP seconds when the next leap second is/was inserted</td></tr>
+<tr><td width="10%"><code>expire</code></td><td width="20%">NTP seconds when the NIST leapseconds file expires</td></tr>
+</table>
 
-  <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-
-<p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>status</code>
-</td><td valign="top" width="20%">
-<a href="decode.html#sys">system status word</a>
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>version</code>
-</td><td valign="top" width="20%">
-NTP software version and build time
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>processor</code>
-</td><td valign="top" width="20%">
-hardware platform and version
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>system</code>
-</td><td valign="top" width="20%">
-operating system and version
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>leap</code>
-</td><td valign="top" width="20%">
-leap warning indicator (0-3)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>stratum</code>
-</td><td valign="top" width="20%">
-stratum (1-15)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>precision</code>
-</td><td valign="top" width="20%">
-precision (log(2) s)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rootdelay</code>
-</td><td valign="top" width="20%">
-total roundtrip delay to the primary reference clock
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rootdisp</code>
-</td><td valign="top" width="20%">
-total dispersion to the primary reference clock
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>peer</code>
-</td><td valign="top" width="20%">
-system peer association ID
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>tc</code>
-time constant and poll exponent (log(2) s) (3-17)
-
-  <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>mintc</code>
-minimum time constant (log(2) s) (3-10)
-
-  <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>clock</code>
-</td><td valign="top" width="20%">
-date and time of day
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>refid</code>
-reference ID or <a href="decode.html#kiss">kiss code</a>
-
-  <p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>reftime</code>
-</td><td valign="top" width="20%">
-reference time
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>offset</code>
-</td><td valign="top" width="20%">
-combined offset of server relative to this host
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>sys_jitter</code>
-</td><td valign="top" width="20%">
-combined system jitter
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>frequency</code>
-</td><td valign="top" width="20%">
-frequency offset (PPM) relative to hardware clock
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>clk_wander</code>
-</td><td valign="top" width="20%">
-clock frequency wander (PPM)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>clk_jitter</code>
-</td><td valign="top" width="20%">
-clock jitter
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>tai</code>
-</td><td valign="top" width="20%">
-TAI-UTC offset (s)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>leapsec</code>
-</td><td valign="top" width="20%">
-NTP seconds when the next leap second is/was inserted
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>expire</code>
-</td><td valign="top" width="20%">
-NTP seconds when the NIST leapseconds file expires
-
-  <br></td></tr></table>
-
-  <p>The jitter and wander statistics are exponentially-weighted RMS averages. 
+<p>The jitter and wander statistics are exponentially-weighted RMS averages.
 The system jitter is defined in the NTPv4 specification;
 the clock jitter statistic is computed by the clock discipline module.
-
-  <p>When the NTPv4 daemon is compiled with the OpenSSL software library,
+</p>
+<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
 additional system variables are displayed, including some or all of the
 following, depending on the particular Autokey dance:
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>host</code></td><td width="20%">Autokey host name for this host</td></tr>
+<tr><td width="10%"><code>ident</code></td><td width="20%">Autokey group name for this host</td></tr>
+<tr><td width="10%"><code>flags</code></td><td width="20%">host flags  (see Autokey specification)</td></tr>
+<tr><td width="10%"><code>digest</code></td><td width="20%">OpenSSL message digest algorithm</td></tr>
+<tr><td width="10%"><code>signature</code></td><td width="20%">OpenSSL digest/signature scheme</td></tr>
+<tr><td width="10%"><code>update</code></td><td width="20%">NTP seconds at last signature update</td></tr>
+<tr><td width="10%"><code>cert</code></td><td width="20%">certificate subject, issuer and certificate flags</td></tr>
+<tr><td width="10%"><code>until</code></td><td width="20%">NTP seconds when the certificate expires</td></tr>
+</table>
 
-  <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-
-<p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>host</code>
-</td><td valign="top" width="20%">
-Autokey host name for this host
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>ident</code>
-</td><td valign="top" width="20%">
-Autokey group name for this host
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>flags</code>
-</td><td valign="top" width="20%">
-host flags  (see Autokey specification)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>digest</code>
-</td><td valign="top" width="20%">
-OpenSSL message digest algorithm
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>signature</code>
-</td><td valign="top" width="20%">
-OpenSSL digest/signature scheme
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>update</code>
-</td><td valign="top" width="20%">
-NTP seconds at last signature update
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>cert</code>
-</td><td valign="top" width="20%">
-certificate subject, issuer and certificate flags
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>until</code>
-</td><td valign="top" width="20%">
-NTP seconds when the certificate expires
-
-  <br></td></tr></table>
-
-<div class="node">
-<p><hr>
-<a name="Peer-Variables"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Clock-Variables">Clock Variables</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#System-Variables">System Variables</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Peer-Variables"></a>
+<div class="header">
+<p>
+Next: <a href="#Clock-Variables" accesskey="n" rel="next">Clock Variables</a>, Previous: <a href="#System-Variables" accesskey="p" rel="prev">System Variables</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Peer-Variables-2"></a>
+<h3 class="section">1.7 Peer Variables</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Peer Variables</h3>
-
 <p>The following peer variables appear in the <code>rv</code> billboard
-for each association. 
+for each association.
 Not all variables are displayed in some configurations.
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>associd</code></td><td width="20%">association ID</td></tr>
+<tr><td width="10%"><code>status</code></td><td width="20%"><a href="decode.html#peer">peer status word</a></td></tr>
+<tr><td width="10%"><code>srcadr</code>
+<p><code>srcport</code>
+</p></td><td width="20%">source (remote) IP address and port</td></tr>
+<tr><td width="10%"><code>dstadr</code>
+<p><code>dstport</code>
+</p></td><td width="20%">destination (local) IP address and port</td></tr>
+<tr><td width="10%"><code>leap</code></td><td width="20%">leap indicator (0-3)</td></tr>
+<tr><td width="10%"><code>stratum</code></td><td width="20%">stratum (0-15)</td></tr>
+<tr><td width="10%"><code>precision</code></td><td width="20%">precision (log(2) s)</td></tr>
+<tr><td width="10%"><code>rootdelay</code></td><td width="20%">total roundtrip delay to the primary reference clock</td></tr>
+<tr><td width="10%"><code>rootdisp</code></td><td width="20%">total root dispersion to the primary reference clock</td></tr>
+<tr><td width="10%"><code>refid</code></td><td width="20%">reference ID or <a href="decode.html#kiss">kiss code</a></td></tr>
+<tr><td width="10%"><code>reftime</code></td><td width="20%">reference time</td></tr>
+<tr><td width="10%"><code>reach</code></td><td width="20%">reach register (octal)</td></tr>
+<tr><td width="10%"><code>unreach</code></td><td width="20%">unreach counter</td></tr>
+<tr><td width="10%"><code>hmode</code></td><td width="20%">host mode (1-6)</td></tr>
+<tr><td width="10%"><code>pmode</code></td><td width="20%">peer mode (1-5)</td></tr>
+<tr><td width="10%"><code>hpoll</code></td><td width="20%">host poll exponent (log(2) s) (3-17)</td></tr>
+<tr><td width="10%"><code>ppoll</code></td><td width="20%">peer poll exponent (log(2) s) (3-17)</td></tr>
+<tr><td width="10%"><code>headway</code></td><td width="20%">headway (see <a href="rate.html">Rate Management and the Kiss-o&rsquo;-Death Packet</a>)</td></tr>
+<tr><td width="10%"><code>flash</code></td><td width="20%"><a href="decode.html#flash">flash status word</a></td></tr>
+<tr><td width="10%"><code>offset</code></td><td width="20%">filter offset</td></tr>
+<tr><td width="10%"><code>delay</code></td><td width="20%">filter delay</td></tr>
+<tr><td width="10%"><code>dispersion</code></td><td width="20%">filter dispersion</td></tr>
+<tr><td width="10%"><code>jitter</code></td><td width="20%">filter jitter</td></tr>
+<tr><td width="10%"><code>ident</code></td><td width="20%">Autokey group name for this association</td></tr>
+<tr><td width="10%"><code>bias</code></td><td width="20%">unicast/broadcast bias</td></tr>
+<tr><td width="10%"><code>xleave</code></td><td width="20%">interleave delay (see <a href="xleave.html">NTP Interleaved Modes</a>)</td></tr>
+</table>
 
-  <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-
-<p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>associd</code>
-</td><td valign="top" width="20%">
-association ID
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>status</code>
-</td><td valign="top" width="20%">
-<a href="decode.html#peer">peer status word</a>
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>srcadr</code>
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>srcport</code>
-</td><td valign="top" width="20%">
-source (remote) IP address and port
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>dstadr</code>
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>dstport</code>
-</td><td valign="top" width="20%">
-destination (local) IP address and port
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>leap</code>
-</td><td valign="top" width="20%">
-leap indicator (0-3)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>stratum</code>
-</td><td valign="top" width="20%">
-stratum (0-15)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>precision</code>
-</td><td valign="top" width="20%">
-precision (log(2) s)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rootdelay</code>
-</td><td valign="top" width="20%">
-total roundtrip delay to the primary reference clock
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>rootdisp</code>
-</td><td valign="top" width="20%">total root dispersion to the primary reference clock
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>refid</code>
-</td><td valign="top" width="20%">
-reference ID or <a href="decode.html#kiss">kiss code</a>
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>reftime</code>
-</td><td valign="top" width="20%">
-reference time
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>reach</code>
-</td><td valign="top" width="20%">
-reach register (octal)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>unreach</code>
-</td><td valign="top" width="20%">
-unreach counter
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>hmode</code>
-</td><td valign="top" width="20%">
-host mode (1-6)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>pmode</code>
-</td><td valign="top" width="20%">
-peer mode (1-5)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>hpoll</code>
-</td><td valign="top" width="20%">
-host poll exponent (log(2) s) (3-17)
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>ppoll</code>
-</td><td valign="top" width="20%">
-peer poll exponent (log(2) s) (3-17)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>headway</code>
-</td><td valign="top" width="20%">
-headway (see <a href="rate.html">Rate Management and the Kiss-o'-Death Packet</a>)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>flash</code>
-</td><td valign="top" width="20%">
-<a href="decode.html#flash">flash status word</a>
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>offset</code>
-</td><td valign="top" width="20%">
-filter offset
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>delay</code>
-</td><td valign="top" width="20%">
-filter delay
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>dispersion</code>
-</td><td valign="top" width="20%">
-filter dispersion
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>jitter</code>
-</td><td valign="top" width="20%">
-filter jitter
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>ident</code>
-</td><td valign="top" width="20%">
-Autokey group name for this association
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>bias</code>
-</td><td valign="top" width="20%">
-unicast/broadcast bias
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>xleave</code>
-</td><td valign="top" width="20%">
-interleave delay (see <a href="xleave.html">NTP Interleaved Modes</a>)
-
-  <br></td></tr></table>
-
-  <p>The bias variable is calculated when the first broadcast packet is received
+<p>The bias variable is calculated when the first broadcast packet is received
 after the calibration volley.  It represents the offset of the broadcast
 subgraph relative to the unicast subgraph.  The xleave variable appears
 only the interleaved symmetric and interleaved modes.  It represents
 the internal queuing, buffering and transmission delays for the preceding
 packet.
-
-  <p>When the NTPv4 daemon is compiled with the OpenSSL software library,
+</p>
+<p>When the NTPv4 daemon is compiled with the OpenSSL software library,
 additional peer variables are displayed, including the following:
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>flags</code></td><td width="20%">peer flags (see Autokey specification)</td></tr>
+<tr><td width="10%"><code>host</code></td><td width="20%">Autokey server name</td></tr>
+<tr><td width="10%"><code>flags</code></td><td width="20%">peer flags (see Autokey specification)</td></tr>
+<tr><td width="10%"><code>signature</code></td><td width="20%">OpenSSL digest/signature scheme</td></tr>
+<tr><td width="10%"><code>initsequence</code></td><td width="20%">initial key ID</td></tr>
+<tr><td width="10%"><code>initkey</code></td><td width="20%">initial key index</td></tr>
+<tr><td width="10%"><code>timestamp</code></td><td width="20%">Autokey signature timestamp</td></tr>
+</table>
 
-  <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-
-<p><br></th></tr><tr align="left"><td valign="top" width="10%"><code>flags</code>
-</td><td valign="top" width="20%">
-peer flags (see Autokey specification)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>host</code>
-</td><td valign="top" width="20%">
-Autokey server name
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>flags</code>
-</td><td valign="top" width="20%">
-peer flags (see Autokey specification)
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>signature</code>
-</td><td valign="top" width="20%">
-OpenSSL digest/signature scheme
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>initsequence</code>
-</td><td valign="top" width="20%">
-initial key ID
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>initkey</code>
-</td><td valign="top" width="20%">
-initial key index
-
-<p><br></td></tr><tr align="left"><td valign="top" width="10%"><code>timestamp</code>
-</td><td valign="top" width="20%">
-Autokey signature timestamp
-
-  <br></td></tr></table>
-
-<div class="node">
-<p><hr>
-<a name="Clock-Variables"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#Peer-Variables">Peer Variables</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Clock-Variables"></a>
+<div class="header">
+<p>
+Previous: <a href="#Peer-Variables" accesskey="p" rel="prev">Peer Variables</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Clock-Variables-2"></a>
+<h3 class="section">1.8 Clock Variables</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Clock Variables</h3>
-
 <p>The following clock variables appear in the <code>cv</code> billboard for each association with a reference clock.  Not all variables are displayed in some configurations.
+</p>
+<table>
+<thead><tr><th width="10%">Variable</th><th width="20%">Description</th></tr></thead>
+<tr><td width="10%"><code>associd</code></td><td width="20%">association ID</td></tr>
+<tr><td width="10%"><code>status</code></td><td width="20%"><a href="decode.html#clock">clock status word</a></td></tr>
+<tr><td width="10%"><code>device</code></td><td width="20%">device description</td></tr>
+<tr><td width="10%"><code>timecode</code></td><td width="20%">ASCII time code string (specific to device)</td></tr>
+<tr><td width="10%"><code>poll</code></td><td width="20%">poll messages sent</td></tr>
+<tr><td width="10%"><code>noreply</code></td><td width="20%">no reply</td></tr>
+<tr><td width="10%"><code>badformat</code></td><td width="20%">bad format</td></tr>
+<tr><td width="10%"><code>baddata</code></td><td width="20%">bad date or time</td></tr>
+<tr><td width="10%"><code>fudgetime1</code></td><td width="20%">fudge time 1</td></tr>
+<tr><td width="10%"><code>fudgetime2</code></td><td width="20%">fudge time 2</td></tr>
+<tr><td width="10%"><code>stratum</code></td><td width="20%">driver stratum</td></tr>
+<tr><td width="10%"><code>refid</code></td><td width="20%">driver reference ID</td></tr>
+<tr><td width="10%"><code>flags</code></td><td width="20%">driver flags</td></tr>
+</table>
+<hr>
 
-  <p><table summary=""><tr align="left"><th valign="top" width="10%">Variable </th><th valign="top" width="20%">Description
-<br></th></tr><tr align="left"><td valign="top" width="10%"><code>associd</code>
-</td><td valign="top" width="20%">association ID
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>status</code>
-</td><td valign="top" width="20%"><a href="decode.html#clock">clock status word</a>
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>device</code>
-</td><td valign="top" width="20%">device description
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>timecode</code>
-</td><td valign="top" width="20%">ASCII time code string (specific to device)
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>poll</code>
-</td><td valign="top" width="20%">poll messages sent
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>noreply</code>
-</td><td valign="top" width="20%">no reply
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>badformat</code>
-</td><td valign="top" width="20%">bad format
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>baddata</code>
-</td><td valign="top" width="20%">bad date or time
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>fudgetime1</code>
-</td><td valign="top" width="20%">fudge time 1
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>fudgetime2</code>
-</td><td valign="top" width="20%">fudge time 2
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>stratum</code>
-</td><td valign="top" width="20%">driver stratum
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>refid</code>
-</td><td valign="top" width="20%">driver reference ID
-<br></td></tr><tr align="left"><td valign="top" width="10%"><code>flags</code>
-</td><td valign="top" width="20%">driver flags
-  <br></td></tr></table>
 
-</body></html>
 
+</body>
+</html>
--- contrib/ntp/ntpq/ntpq.man.in.orig
+++ contrib/ntp/ntpq/ntpq.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpq @NTPQ_MS@ "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpq @NTPQ_MS@ "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-D4aGRT/ag-Q4ayQT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:22 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:02 AM by AutoGen 5.18.5
 .\" From the definitions ntpq-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpq/ntpq.mdoc.in.orig
+++ contrib/ntp/ntpq/ntpq.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPQ @NTPQ_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpq-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:28 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:56:59 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpq-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpq/ntpq.texi.orig
+++ contrib/ntp/ntpq/ntpq.texi
@@ -186,7 +186,7 @@
 @item @anchor{raw} @code{raw}
 Display server messages as received and without reformatting.
 
-@item @anchor{timeout} @code{timeout @kbd{millseconds}}
+@item @anchor{timeout} @code{timeout @kbd{milliseconds}}
 Specify a timeout period for responses to server queries.
 The default is about 5000 milliseconds.
 Note that since @code{ntpq} retries each query once after a timeout
--- contrib/ntp/ntpsnmpd/Makefile.in.orig
+++ contrib/ntp/ntpsnmpd/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/ntpsnmpd/invoke-ntpsnmpd.texi.orig
+++ contrib/ntp/ntpsnmpd/invoke-ntpsnmpd.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntpsnmpd.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:15:36 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:07 AM by AutoGen 5.18.5
 # From the definitions    ntpsnmpd-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -47,18 +47,18 @@
 
 @exampleindent 0
 @example
-ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.7p245
-USAGE:  ntpsnmpd [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...
+ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.8p13
+Usage:  ntpsnmpd [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...
   Flg Arg Option-Name    Description
    -n no  nofork         Do not fork
    -p no  syslog         Log to syslog()
       Str agentxsocket   The socket address ntpsnmpd uses to connect to net-snmpd
-      opt version        Output version information and exit
-   -? no  help           Display extended usage information and exit
-   -! no  more-help      Extended usage information passed thru pager
-   -> opt save-opts      Save the option state to a config file
-   -< Str load-opts      Load options from a config file
-                                - disabled as --no-load-opts
+      opt version        output version information and exit
+   -? no  help           display extended usage information and exit
+   -! no  more-help      extended usage information passed thru pager
+   -> opt save-opts      save the option state to a config file
+   -< Str load-opts      load options from a config file
+                                - disabled as '--no-load-opts'
                                 - may appear multiple times
 
 Options are specified by doubled hyphens and their name or by a single
@@ -65,13 +65,12 @@
 hyphen and the flag character.
 
 
-
 The following option preset mechanisms are supported:
  - reading file $HOME/.ntprc
  - reading file ./.ntprc
  - examining environment variables named NTPSNMPD_*
 
-please send bug reports to:  http://bugs.ntp.org, bugs@@ntp.org
+Please send bug reports to:  <http://bugs.ntp.org, bugs@@ntp.org>
 @end example
 @exampleindent 4
 
--- contrib/ntp/ntpsnmpd/ntpsnmpd-opts.c.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpsnmpd-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:31 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:57:03 AM by AutoGen 5.18.5
  *  From the definitions    ntpsnmpd-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -61,7 +61,7 @@
  *  static const strings for ntpsnmpd options
  */
 static char const ntpsnmpd_opt_strs[1613] =
-/*     0 */ "ntpsnmpd 4.2.8p11\n"
+/*     0 */ "ntpsnmpd 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -101,7 +101,7 @@
 /*  1415 */ "no-load-opts\0"
 /*  1428 */ "no\0"
 /*  1431 */ "NTPSNMPD\0"
-/*  1440 */ "ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.8p11\n"
+/*  1440 */ "ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]...\n\0"
 /*  1544 */ "$HOME\0"
 /*  1550 */ ".\0"
@@ -108,7 +108,7 @@
 /*  1552 */ ".ntprc\0"
 /*  1559 */ "http://bugs.ntp.org, bugs@ntp.org\0"
 /*  1593 */ "\n\0"
-/*  1595 */ "ntpsnmpd 4.2.8p11";
+/*  1595 */ "ntpsnmpd 4.2.8p13";
 
 /**
  *  nofork option description:
@@ -554,7 +554,7 @@
      translate option names.
    */
   /* referenced via ntpsnmpdOptions.pzCopyright */
-  puts(_("ntpsnmpd 4.2.8p11\n\
+  puts(_("ntpsnmpd 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -599,7 +599,7 @@
   puts(_("load options from a config file"));
 
   /* referenced via ntpsnmpdOptions.pzUsageTitle */
-  puts(_("ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.8p11\n\
+  puts(_("ntpsnmpd - NTP SNMP MIB agent - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]...\n"));
 
   /* referenced via ntpsnmpdOptions.pzExplain */
@@ -606,7 +606,7 @@
   puts(_("\n"));
 
   /* referenced via ntpsnmpdOptions.pzFullVersion */
-  puts(_("ntpsnmpd 4.2.8p11"));
+  puts(_("ntpsnmpd 4.2.8p13"));
 
   /* referenced via ntpsnmpdOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/ntpsnmpd/ntpsnmpd-opts.h.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntpsnmpd-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:31 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:57:03 AM by AutoGen 5.18.5
  *  From the definitions    ntpsnmpd-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -76,9 +76,9 @@
 /** count of all options for ntpsnmpd */
 #define OPTION_CT    8
 /** ntpsnmpd version */
-#define NTPSNMPD_VERSION       "4.2.8p11"
+#define NTPSNMPD_VERSION       "4.2.8p13"
 /** Full ntpsnmpd version text */
-#define NTPSNMPD_FULL_VERSION  "ntpsnmpd 4.2.8p11"
+#define NTPSNMPD_FULL_VERSION  "ntpsnmpd 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/ntpsnmpd/ntpsnmpd.1ntpsnmpdman.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd.1ntpsnmpdman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpsnmpd 1ntpsnmpdman "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpsnmpd 1ntpsnmpdman "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-_Ia4FU/ag-lJaWEU)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:33 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:08 AM by AutoGen 5.18.5
 .\" From the definitions ntpsnmpd-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd.1ntpsnmpdmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPSNMPD 1ntpsnmpdmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpsnmpd-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:39 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:05 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpsnmpd-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/ntpsnmpd/ntpsnmpd.html.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd.html
@@ -1,79 +1,116 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>ntpsnmpd: Network Time Protocol SNMP Daemon User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="ntpsnmpd: Network Time Protocol SNMP Daemon User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ntpsnmpd: Network Time Protocol SNMP Daemon User&rsquo;s Manual</title>
+
+<meta name="description" content="ntpsnmpd: Network Time Protocol SNMP Daemon User&rsquo;s Manual">
+<meta name="keywords" content="ntpsnmpd: Network Time Protocol SNMP Daemon User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">ntpsnmpd: Network Time Protocol SNMP Daemon User's Manual</h1>
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">ntpsnmpd: Network Time Protocol Query User Manual</a>
-</ul>
-</div>
 
+<body lang="en">
+<h1 class="settitle" align="center">ntpsnmpd: Network Time Protocol SNMP Daemon User&rsquo;s Manual</h1>
 
 
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsnmpd-Description">ntpsnmpd Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">ntpsnmpd: Network Time Protocol Query User Manual</h2>
 
-<p>The <code>ntpsnmpd</code> utility program is used to monitor NTP daemon <code>ntpd</code>
-operations and determine performance.  It uses the standard NTP mode 6 control
 
-  <p>This document applies to version 4.2.8p11 of <code>ntpsnmpd</code>.
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpsnmpd-Description">ntpsnmpd Description</a>:             Description
-<li><a accesskey="2" href="#ntpsnmpd-Invocation">ntpsnmpd Invocation</a>: 		Invoking ntpsnmpd
-<li><a accesskey="3" href="#Usage">Usage</a>:                        Usage
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="ntpsnmpd-Description"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Usage">Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsnmpd-Description" accesskey="n" rel="next">ntpsnmpd Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="ntpsnmpd_003a-Network-Time-Protocol-Query-User-Manual"></a>
+<h1 class="top">ntpsnmpd: Network Time Protocol Query User Manual</h1>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
+<p>The <code>ntpsnmpd</code> utility program is used to monitor NTP daemon <code>ntpd</code>
+operations and determine performance.  It uses the standard NTP mode 6 control
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntpsnmpd</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpsnmpd-Description" accesskey="1">ntpsnmpd Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; ntpsnmpd Invocation:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntpsnmpd
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="3">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+</table>
 
+<hr>
+<a name="ntpsnmpd-Description"></a>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
+</div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
+
 <p>The <code>ntpsnmpd</code> utility program provides an SNMP MIB agent for <code>ntpd</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="1">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
-<a name="Usage"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsnmpd-Description">ntpsnmpd Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Usage"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntpsnmpd-Description" accesskey="p" rel="prev">ntpsnmpd Description</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Usage-1"></a>
+<h3 class="section">1.1 Usage</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Usage</h3>
-
 <p>(what should we say here?)
+</p><hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/ntpsnmpd/ntpsnmpd.man.in.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpsnmpd @NTPSNMPD_MS@ "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH ntpsnmpd @NTPSNMPD_MS@ "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-_Ia4FU/ag-lJaWEU)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:33 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:08 AM by AutoGen 5.18.5
 .\" From the definitions ntpsnmpd-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/ntpsnmpd/ntpsnmpd.mdoc.in.orig
+++ contrib/ntp/ntpsnmpd/ntpsnmpd.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPSNMPD @NTPSNMPD_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpsnmpd-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:39 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:05 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpsnmpd-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/packageinfo.sh.orig
+++ contrib/ntp/packageinfo.sh
@@ -83,7 +83,7 @@
 # - Numeric values increment
 # - empty 'increments' to 1
 # - NEW 'increments' to empty
-point=11
+point=13
 
 ### betapoint is normally modified by script.
 # ntp-stable Beta number (betapoint)
--- contrib/ntp/parseutil/Makefile.in.orig
+++ contrib/ntp/parseutil/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/Makefile.in.orig
+++ contrib/ntp/scripts/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/build/Makefile.in.orig
+++ contrib/ntp/scripts/build/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/build/check--help.orig
+++ contrib/ntp/scripts/build/check--help
@@ -10,13 +10,13 @@
 
 if test ! -f $1
 then
-	echo "$0: $1 is not a regular file!" 2>&3
+	echo "$0: $1 is not a regular file!" 1>&2
 	exit 1
 fi
 
 if grep -q 'no --help' $1
 then
-	echo "$0: $1 contains 'no --help'!" 2>&3
+	echo "$0: $1 contains 'no --help'!" 1>&2
 	mv ${1} ${1}-
 	exit 1
 fi
--- contrib/ntp/scripts/calc_tickadj/Makefile.in.orig
+++ contrib/ntp/scripts/calc_tickadj/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/calc_tickadj/calc_tickadj.1calc_tickadjman.orig
+++ contrib/ntp/scripts/calc_tickadj/calc_tickadj.1calc_tickadjman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH calc_tickadj 1calc_tickadjman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH calc_tickadj 1calc_tickadjman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-mfaiQP/ag-zfaqPP)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:49:40 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:23 AM by AutoGen 5.18.5
 .\" From the definitions calc_tickadj-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc.orig
+++ contrib/ntp/scripts/calc_tickadj/calc_tickadj.1calc_tickadjmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt CALC_TICKADJ 1calc_tickadjmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (calc_tickadj-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:49:43 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:24 AM by AutoGen 5.18.5
 .\"  From the definitions    calc_tickadj-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/calc_tickadj/calc_tickadj.html.orig
+++ contrib/ntp/scripts/calc_tickadj/calc_tickadj.html
@@ -1,116 +1,157 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>calc_tickadj User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="calc_tickadj User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>calc_tickadj User&rsquo;s Manual</title>
+
+<meta name="description" content="calc_tickadj User&rsquo;s Manual">
+<meta name="keywords" content="calc_tickadj User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">calc_tickadj User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#calc_005ftickadj-Description">calc_tickadj Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">calc_tickadj User's Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">calc_tickadj User&rsquo;s Manual</h1>
 
-<p>This document describes the use of the NTP Project's <code>calc_tickadj</code> program. 
-This document applies to version 4.2.8p11 of <code>calc_tickadj</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">calc_tickadj User's Manual</a>
-</ul>
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="calc_005ftickadj-User_0027s-Manual"></a>
+<h1 class="top">calc_tickadj User&rsquo;s Manual</h1>
 
-<ul class="menu">
-<li><a accesskey="1" href="#calc_005ftickadj-Description">calc_tickadj Description</a>:        Description
-<li><a accesskey="2" href="#calc_005ftickadj-Invocation">calc_tickadj Invocation</a>:         Invoking calc_tickadj
+<p>This document describes the use of the NTP Project&rsquo;s <code>calc_tickadj</code> program.
+This document applies to version 4.2.8p13 of <code>calc_tickadj</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Invoking-calc_005ftickadj" href="#toc-Invoking-calc_005ftickadj">1 Invoking calc_tickadj</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="calc_005ftickadj-Invocation"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#calc_005ftickadj-Description">calc_tickadj Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; calc_tickadj Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-Invocation" accesskey="2">calc_tickadj Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking calc_tickadj
+</td></tr>
+</table>
+
+<hr>
+<a name="calc_005ftickadj-Invocation"></a>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-calc_005ftickadj"></a>
+<h2 class="chapter">1 Invoking calc_tickadj</h2>
+<a name="index-calc_005ftickadj"></a>
+<a name="index-Calculates-_0022optimal_0022-value-for-tick-given-ntp-drift-file_002e"></a>
 
-<h3 class="section">Invoking calc_tickadj</h3>
-
-<p><a name="index-calc_005ftickadj-1"></a><a name="index-Calculates-_0022optimal_0022-value-for-tick-given-ntp-drift-file_002e-2"></a>
-The <code>calc_tickadj</code> script uses provided ntp drift file to generate optimal
+<p>The <code>calc_tickadj</code> script uses provided ntp drift file to generate optimal
 tick value. Generally, ntpd can do better job if the drift value is the
-smallest possible number.
+smallest possible number. 
+</p>
+<p>The example output of 
+</p><div class="example">
+<pre class="example">$ ./calc_tickadj
+81.699 (drift)
+9999 usec; 9999779 nsec
+$ cat /etc/ntp/drift
+-23.159
+</pre></div>
 
-  <p>The example output of
-<pre class="example">     $ ./calc_tickadj
-     81.699 (drift)
-     9999 usec; 9999779 nsec
-     $ cat /etc/ntp/drift
-     -23.159
-</pre>
-  <p>means the following. If tick on that box is 10,000, by making the value 9999
-we'll shift the box from its current drift of -23.159 to a drift of 81.699, and
-in doing so we'll speed the clock up a little every second instead of slowing
+<p>means the following. If tick on that box is 10,000, by making the value 9999
+we&rsquo;ll shift the box from its current drift of -23.159 to a drift of 81.699, and
+in doing so we&rsquo;ll speed the clock up a little every second instead of slowing
 the clock down a little.
-
-  <p>If 'tick' on that box is 10,000,000 then by setting it to 9999779 the drift
+</p>
+<p>If &rsquo;tick&rsquo; on that box is 10,000,000 then by setting it to 9999779 the drift
 value will be somewhere around 0.0.
-
-  <p><code>calc_tickadj</code> tries to determine the the tick value by using
-<code>tickadj</code> program from ntp package. If this doesn't work you can specify
+</p>
+<p><code>calc_tickadj</code> tries to determine the the tick value by using
+<code>tickadj</code> program from ntp package. If this doesn&rsquo;t work you can specify
 current tick manually on command line.
+</p>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>calc_tickadj</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-usage" accesskey="1">calc_tickadj usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">calc_tickadj help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-drift_002dfile" accesskey="2">calc_tickadj drift-file</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">drift-file option (-d)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-tick" accesskey="3">calc_tickadj tick</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">tick option (-t)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-exit-status" accesskey="4">calc_tickadj exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#calc_005ftickadj-usage">calc_tickadj usage</a>:                   calc_tickadj help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#calc_005ftickadj-drift_002dfile">calc_tickadj drift-file</a>:              drift-file option (-d)
-<li><a accesskey="3" href="#calc_005ftickadj-tick">calc_tickadj tick</a>:                    tick option (-t)
-<li><a accesskey="4" href="#calc_005ftickadj-exit-status">calc_tickadj exit status</a>:             exit status
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="calc_005ftickadj-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#calc_005ftickadj-drift_002dfile">calc_tickadj drift-file</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#calc_005ftickadj-Invocation">calc_tickadj Invocation</a>
-<br>
+<hr>
+<a name="calc_005ftickadj-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#calc_005ftickadj-drift_002dfile" accesskey="n" rel="next">calc_tickadj drift-file</a>, Up: <a href="#calc_005ftickadj-Invocation" accesskey="u" rel="up">calc_tickadj Invocation</a> &nbsp; </p>
 </div>
+<a name="calc_005ftickadj-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h3 class="section">1.1 calc_tickadj help/usage (<samp>--help</samp>)</h3>
+<a name="index-calc_005ftickadj-help"></a>
 
-<h4 class="subsection">calc_tickadj help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-calc_005ftickadj-help-3"></a>
-This is the automatically generated usage text for calc_tickadj.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for calc_tickadj.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
+</p>
+<div class="example">
+<pre class="example">calc_tickadj - Calculates &quot;optimal&quot; value for tick given ntp drift file. - Ver. 4.2.7p467
+USAGE: calc_tickadj [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... 
 
-<pre class="example">calc_tickadj - Calculates "optimal" value for tick given ntp drift file. - Ver. 4.2.7p467
-USAGE: calc_tickadj [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
-
     -d, --drift-file=str         Ntp drift file to use
     -t, --tick=num               Tick value of this host
     -?, --help                   Display usage information and exit
@@ -118,49 +159,64 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="calc_005ftickadj-drift_002dfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#calc_005ftickadj-tick">calc_tickadj tick</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#calc_005ftickadj-usage">calc_tickadj usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#calc_005ftickadj-Invocation">calc_tickadj Invocation</a>
-<br>
+</pre></div>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-drift_002dfile" accesskey="1">calc_tickadj drift-file</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-tick" accesskey="2">calc_tickadj tick</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#calc_005ftickadj-exit-status" accesskey="3">calc_tickadj exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="calc_005ftickadj-drift_002dfile"></a>
+<div class="header">
+<p>
+Next: <a href="#calc_005ftickadj-tick" accesskey="n" rel="next">calc_tickadj tick</a>, Previous: <a href="#calc_005ftickadj-usage" accesskey="p" rel="prev">calc_tickadj usage</a>, Up: <a href="#calc_005ftickadj-usage" accesskey="u" rel="up">calc_tickadj usage</a> &nbsp; </p>
 </div>
+<a name="drift_002dfile-option-_0028_002dd_0029"></a>
+<h4 class="subsection">1.1.1 drift-file option (-d)</h4>
+<a name="index-calc_005ftickadj_002ddrift_002dfile"></a>
 
-<h4 class="subsection">drift-file option (-d)</h4>
-
-<p><a name="index-calc_005ftickadj_002ddrift_002dfile-4"></a>
-This is the &ldquo;ntp drift file to use&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;ntp drift file to use&rdquo; option.
+This option takes a string argument.
 Use the specified drift file for calculations
-<div class="node">
-<p><hr>
-<a name="calc_005ftickadj-tick"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#calc_005ftickadj-exit-status">calc_tickadj exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#calc_005ftickadj-drift_002dfile">calc_tickadj drift-file</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#calc_005ftickadj-Invocation">calc_tickadj Invocation</a>
-<br>
+</p><hr>
+<a name="calc_005ftickadj-tick"></a>
+<div class="header">
+<p>
+Next: <a href="#calc_005ftickadj-exit-status" accesskey="n" rel="next">calc_tickadj exit status</a>, Previous: <a href="#calc_005ftickadj-drift_002dfile" accesskey="p" rel="prev">calc_tickadj drift-file</a>, Up: <a href="#calc_005ftickadj-usage" accesskey="u" rel="up">calc_tickadj usage</a> &nbsp; </p>
 </div>
+<a name="tick-option-_0028_002dt_0029"></a>
+<h4 class="subsection">1.1.2 tick option (-t)</h4>
+<a name="index-calc_005ftickadj_002dtick"></a>
 
-<h4 class="subsection">tick option (-t)</h4>
-
-<p><a name="index-calc_005ftickadj_002dtick-5"></a>
-This is the &ldquo;tick value of this host&rdquo; option. 
-This option takes a number argument. 
+<p>This is the &ldquo;tick value of this host&rdquo; option.
+This option takes a number argument.
 The current tick which to adjustment will be calculated
-<div class="node">
-<p><hr>
-<a name="calc_005ftickadj-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#calc_005ftickadj-tick">calc_tickadj tick</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#calc_005ftickadj-Invocation">calc_tickadj Invocation</a>
-<br>
+</p><hr>
+<a name="calc_005ftickadj-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#calc_005ftickadj-tick" accesskey="p" rel="prev">calc_tickadj tick</a>, Up: <a href="#calc_005ftickadj-usage" accesskey="u" rel="up">calc_tickadj usage</a> &nbsp; </p>
 </div>
+<a name="calc_005ftickadj-exit-status-1"></a>
+<h4 class="subsection">1.1.3 calc_tickadj exit status</h4>
 
-<h4 class="subsection">calc_tickadj exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
+<hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/scripts/calc_tickadj/calc_tickadj.man.in.orig
+++ contrib/ntp/scripts/calc_tickadj/calc_tickadj.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH calc_tickadj 1calc_tickadjman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH calc_tickadj 1calc_tickadjman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-mfaiQP/ag-zfaqPP)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:49:40 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:23 AM by AutoGen 5.18.5
 .\" From the definitions calc_tickadj-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/calc_tickadj/calc_tickadj.mdoc.in.orig
+++ contrib/ntp/scripts/calc_tickadj/calc_tickadj.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt CALC_TICKADJ 1calc_tickadjmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (calc_tickadj-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:49:43 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:24 AM by AutoGen 5.18.5
 .\"  From the definitions    calc_tickadj-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/calc_tickadj/invoke-calc_tickadj.texi.orig
+++ contrib/ntp/scripts/calc_tickadj/invoke-calc_tickadj.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-calc_tickadj.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:49:45 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:25 AM by AutoGen 5.18.5
 # From the definitions    calc_tickadj-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
--- contrib/ntp/scripts/invoke-plot_summary.texi.orig
+++ contrib/ntp/scripts/invoke-plot_summary.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-plot_summary.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:55:58 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:25 PM by AutoGen 5.18.5
 # From the definitions    plot_summary-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -41,7 +41,7 @@
 
 @exampleindent 0
 @example
-plot_summary - plot statistics generated by summary script - Ver. 4.2.8p11
+plot_summary - plot statistics generated by summary script - Ver. 4.2.8p13
 USAGE: plot_summary [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... 
 
         --directory=str          Where the summary files are
--- contrib/ntp/scripts/invoke-summary.texi.orig
+++ contrib/ntp/scripts/invoke-summary.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-summary.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:56:04 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:29 PM by AutoGen 5.18.5
 # From the definitions    summary-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -42,7 +42,7 @@
 
 @exampleindent 0
 @example
-summary - compute various stastics from NTP stat files - Ver. 4.2.8p11
+summary - compute various stastics from NTP stat files - Ver. 4.2.8p13
 USAGE: summary [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... 
 
         --directory=str          Directory containing stat files
--- contrib/ntp/scripts/lib/Makefile.in.orig
+++ contrib/ntp/scripts/lib/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/ntp-wait/Makefile.in.orig
+++ contrib/ntp/scripts/ntp-wait/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/ntp-wait/invoke-ntp-wait.texi.orig
+++ contrib/ntp/scripts/ntp-wait/invoke-ntp-wait.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntp-wait.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:49:53 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:28 AM by AutoGen 5.18.5
 # From the definitions    ntp-wait-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -61,7 +61,7 @@
 
 @exampleindent 0
 @example
-ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p11
+ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p13
 USAGE: ntp-wait [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... 
 
     -n, --tries=num              Number of times to check ntpd
--- contrib/ntp/scripts/ntp-wait/ntp-wait-opts.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (ntp-wait-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:49:48 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:27 AM by AutoGen 5.18.5
 # From the definitions    ntp-wait-opts.def
 # and the template file   perlopt
 
@@ -40,7 +40,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p11
+ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p13
 USAGE: ntp-wait [ -<flag> [<val>] | --<name>[{=| }<val>] ]... 
 
     -n, --tries=num              Number of times to check ntpd
--- contrib/ntp/scripts/ntp-wait/ntp-wait.1ntp-waitman.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait.1ntp-waitman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp-wait 1ntp-waitman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntp-wait 1ntp-waitman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-tuay0Q/ag-GuaGZQ)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:49:50 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:30 AM by AutoGen 5.18.5
 .\" From the definitions ntp-wait-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntp-wait/ntp-wait.1ntp-waitmdoc.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait.1ntp-waitmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_WAIT 1ntp-waitmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp-wait-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:49:55 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:27 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp-wait-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/ntp-wait/ntp-wait.html.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait.html
@@ -1,68 +1,105 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Ntp-wait User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Ntp-wait User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Ntp-wait User&rsquo;s Manual</title>
+
+<meta name="description" content="Ntp-wait User&rsquo;s Manual">
+<meta name="keywords" content="Ntp-wait User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Ntp-wait User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Description">ntp-wait Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">Ntp-wait User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<h1 class="node-heading">Top</h1>
 
-  <p>This document describes the use of the NTP Project's <code>ntp-wait</code> program.
-
-  <p>If there are time-sensitive applications,
+<p>This document describes the use of the NTP Project&rsquo;s <code>ntp-wait</code> program.
+</p>
+<p>If there are time-sensitive applications,
 the proper sequence of events is to
 run <code>ntpd -g</code> as early as possible,
 then invoke all of the non-time-sensitive process,
 run <code>ntp-wait</code> to block
-until the system's time has stabilized and synchronized,
+until the system&rsquo;s time has stabilized and synchronized,
 and only then start any applicaitons (like database servers) that require
 accurate and stable time.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntp-wait</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <p>This document applies to version 4.2.8p11 of <code>ntp-wait</code>.
+<div class="shortcontents">
+<li><a name="stoc-Invoking-ntp_002dwait" href="#toc-Invoking-ntp_002dwait">1 Invoking ntp-wait</a></li>
 
-<div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-</ul>
 </div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002dwait-Description">ntp-wait Description</a>:             Description
-<li><a accesskey="2" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>: 		Invoking ntp-wait
-</ul>
 
-<div class="node">
-<p><hr>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; ntp-wait Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-Invocation" accesskey="2">ntp-wait Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntp-wait
+</td></tr>
+</table>
+
+<hr>
 <a name="ntp_002dwait-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntp_002dwait"></a>
+<h3 class="section">1 Invoking ntp-wait</h3>
+<a name="index-ntp_002dwait"></a>
+<a name="index-Wait-for-ntpd-to-stabilize-the-system-clock"></a>
 
-<h3 class="section">0.1 Invoking ntp-wait</h3>
 
-<p><a name="index-ntp_002dwait-1"></a><a name="index-Wait-for-ntpd-to-stabilize-the-system-clock-2"></a>
 
-  <p><code>ntp-wait</code>
+<p><code>ntp-wait</code>
 will send at most
 <kbd>num-tries</kbd>
 queries to
@@ -72,51 +109,59 @@
 after each status return that says
 <code>ntpd(8)</code>
 has not yet produced a synchronized and stable system clock.
-
-  <p><code>ntp-wait</code>
+</p>
+<p><code>ntp-wait</code>
 will do this quietly, unless the
 <code>-v</code>
-flag is provided. 
+flag is provided.
 This can be useful at boot time, to delay the boot sequence until after
 <kbd>ntpd</kbd> <kbd>-g</kbd>
 has set the time.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp-wait</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-usage" accesskey="1">ntp-wait usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntp-wait help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-tries" accesskey="2">ntp-wait tries</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">tries option (-n)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-sleep" accesskey="3">ntp-wait sleep</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">sleep option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-verbose" accesskey="4">ntp-wait verbose</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">verbose option (-v)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-exit-status" accesskey="5">ntp-wait exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-Authors" accesskey="6">ntp-wait Authors</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authors
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dwait-Notes" accesskey="7">ntp-wait Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Notes
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002dwait-usage">ntp-wait usage</a>:                   ntp-wait help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntp_002dwait-tries">ntp-wait tries</a>:                   tries option (-n)
-<li><a accesskey="3" href="#ntp_002dwait-sleep">ntp-wait sleep</a>:                   sleep option (-s)
-<li><a accesskey="4" href="#ntp_002dwait-verbose">ntp-wait verbose</a>:                 verbose option (-v)
-<li><a accesskey="5" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>:             exit status
-<li><a accesskey="6" href="#ntp_002dwait-Authors">ntp-wait Authors</a>:                 Authors
-<li><a accesskey="7" href="#ntp_002dwait-Notes">ntp-wait Notes</a>:                   Notes
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dwait-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-tries">ntp-wait tries</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dwait-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-tries" accesskey="n" rel="next">ntp-wait tries</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dwait-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1 ntp-wait help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntp_002dwait-help"></a>
 
-<h4 class="subsection">0.1.1 ntp-wait help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntp_002dwait-help-3"></a>
-This is the automatically generated usage text for ntp-wait.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntp-wait.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
+</p>
+<div class="example">
+<pre class="example">ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p13
+USAGE: ntp-wait [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... 
 
-<pre class="example">ntp-wait - Wait for ntpd to stabilize the system clock - Ver. 4.2.8p11
-USAGE: ntp-wait [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
-
     -n, --tries=num              Number of times to check ntpd
     -s, --sleep=num              How long to sleep between tries
     -v, --verbose                Be verbose
@@ -125,84 +170,86 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntp_002dwait-tries"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-sleep">ntp-wait sleep</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-usage">ntp-wait usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntp_002dwait-tries"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-sleep" accesskey="n" rel="next">ntp-wait sleep</a>, Previous: <a href="#ntp_002dwait-usage" accesskey="p" rel="prev">ntp-wait usage</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="tries-option-_0028_002dn_0029"></a>
+<h4 class="subsection">1.2 tries option (-n)</h4>
+<a name="index-ntp_002dwait_002dtries"></a>
 
-<h4 class="subsection">0.1.2 tries option (-n)</h4>
-
-<p><a name="index-ntp_002dwait_002dtries-4"></a>
-This is the &ldquo;number of times to check ntpd&rdquo; option. 
-This option takes a number argument. 
+<p>This is the &ldquo;number of times to check ntpd&rdquo; option.
+This option takes a number argument.
         The maximum number of times we will check <code>ntpd</code> to see if
-        it has been able to synchronize and stabilize the system clock. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dwait-sleep"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-verbose">ntp-wait verbose</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-tries">ntp-wait tries</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+        it has been able to synchronize and stabilize the system clock.
+</p><hr>
+<a name="ntp_002dwait-sleep"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-verbose" accesskey="n" rel="next">ntp-wait verbose</a>, Previous: <a href="#ntp_002dwait-tries" accesskey="p" rel="prev">ntp-wait tries</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="sleep-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.3 sleep option (-s)</h4>
+<a name="index-ntp_002dwait_002dsleep"></a>
 
-<h4 class="subsection">0.1.3 sleep option (-s)</h4>
-
-<p><a name="index-ntp_002dwait_002dsleep-5"></a>
-This is the &ldquo;how long to sleep between tries&rdquo; option. 
-This option takes a number argument <span class="file">secs-between-tries</span>. 
-        We will sleep for <span class="file">secs-between-tries</span> after each query
-        of <code>ntpd</code> that returns "the time is not yet stable". 
-<div class="node">
-<p><hr>
-<a name="ntp_002dwait-verbose"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-sleep">ntp-wait sleep</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+<p>This is the &ldquo;how long to sleep between tries&rdquo; option.
+This option takes a number argument <samp>secs-between-tries</samp>.
+        We will sleep for <samp>secs-between-tries</samp> after each query
+        of <code>ntpd</code> that returns &quot;the time is not yet stable&quot;.
+</p><hr>
+<a name="ntp_002dwait-verbose"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-exit-status" accesskey="n" rel="next">ntp-wait exit status</a>, Previous: <a href="#ntp_002dwait-sleep" accesskey="p" rel="prev">ntp-wait sleep</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="verbose-option-_0028_002dv_0029"></a>
+<h4 class="subsection">1.4 verbose option (-v)</h4>
+<a name="index-ntp_002dwait_002dverbose"></a>
 
-<h4 class="subsection">0.1.4 verbose option (-v)</h4>
-
-<p><a name="index-ntp_002dwait_002dverbose-6"></a>
-This is the &ldquo;be verbose&rdquo; option. 
-        By default, <code>ntp-wait</code> is silent. 
-        With this option, <code>ntp-wait</code> will provide status information. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dwait-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-verbose">ntp-wait verbose</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+<p>This is the &ldquo;be verbose&rdquo; option.
+        By default, <code>ntp-wait</code> is silent.
+        With this option, <code>ntp-wait</code> will provide status information.
+</p><hr>
+<a name="ntp_002dwait-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-Authors" accesskey="n" rel="next">ntp-wait Authors</a>, Previous: <a href="#ntp_002dwait-verbose" accesskey="p" rel="prev">ntp-wait verbose</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dwait-exit-status-1"></a>
+<h4 class="subsection">1.5 ntp-wait exit status</h4>
 
-<h4 class="subsection">0.1.5 ntp-wait exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="ntp_002dwait-Authors"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dwait-Notes">ntp-wait Notes</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-exit-status">ntp-wait exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dwait-Authors"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dwait-Notes" accesskey="n" rel="next">ntp-wait Notes</a>, Previous: <a href="#ntp_002dwait-exit-status" accesskey="p" rel="prev">ntp-wait exit status</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">0.1.6 ntp-wait Authors</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dwait-Notes"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dwait-Authors">ntp-wait Authors</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dwait-Invocation">ntp-wait Invocation</a>
-<br>
+<a name="ntp_002dwait-Authors-1"></a>
+<h4 class="subsection">1.6 ntp-wait Authors</h4>
+<hr>
+<a name="ntp_002dwait-Notes"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002dwait-Authors" accesskey="p" rel="prev">ntp-wait Authors</a>, Up: <a href="#ntp_002dwait-Invocation" accesskey="u" rel="up">ntp-wait Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dwait-Notes-1"></a>
+<h4 class="subsection">1.7 ntp-wait Notes</h4>
+<hr>
 
-<h4 class="subsection">0.1.7 ntp-wait Notes</h4>
 
-</body></html>
 
+</body>
+</html>
--- contrib/ntp/scripts/ntp-wait/ntp-wait.man.in.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp-wait @NTP_WAIT_MS@ "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntp-wait @NTP_WAIT_MS@ "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-tuay0Q/ag-GuaGZQ)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:49:50 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:30 AM by AutoGen 5.18.5
 .\" From the definitions ntp-wait-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntp-wait/ntp-wait.mdoc.in.orig
+++ contrib/ntp/scripts/ntp-wait/ntp-wait.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_WAIT @NTP_WAIT_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp-wait-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:49:55 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:27 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp-wait-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/ntpsweep/Makefile.in.orig
+++ contrib/ntp/scripts/ntpsweep/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/ntpsweep/invoke-ntpsweep.texi.orig
+++ contrib/ntp/scripts/ntpsweep/invoke-ntpsweep.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntpsweep.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:49:59 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:31 AM by AutoGen 5.18.5
 # From the definitions    ntpsweep-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -45,7 +45,7 @@
 
 @exampleindent 0
 @example
-ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p11
+ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p13
 USAGE: ntpsweep [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... [hostfile]
 
     -l, --host-list=str          Host to execute actions on
--- contrib/ntp/scripts/ntpsweep/ntpsweep-opts.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (ntpsweep-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:49:57 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:31 AM by AutoGen 5.18.5
 # From the definitions    ntpsweep-opts.def
 # and the template file   perlopt
 
@@ -43,7 +43,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p11
+ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p13
 USAGE: ntpsweep [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [hostfile]
 
     -l, --host-list=str          Host to execute actions on
--- contrib/ntp/scripts/ntpsweep/ntpsweep.1ntpsweepman.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep.1ntpsweepman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpsweep 1ntpsweepman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntpsweep 1ntpsweepman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-cfaGaS/ag-pfaO_R)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:01 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:33 AM by AutoGen 5.18.5
 .\" From the definitions ntpsweep-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntpsweep/ntpsweep.1ntpsweepmdoc.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep.1ntpsweepmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPSWEEP 1ntpsweepmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpsweep-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:50:04 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:32 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpsweep-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/ntpsweep/ntpsweep.html.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep.html
@@ -1,96 +1,140 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>ntpsweep User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="ntpsweep User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>ntpsweep User&rsquo;s Manual</title>
+
+<meta name="description" content="ntpsweep User&rsquo;s Manual">
+<meta name="keywords" content="ntpsweep User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">ntpsweep User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-Description">ntpsweep Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">ntpsweep User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<h1 class="node-heading">Top</h1>
 
-  <p>This document describes the use of the NTP Project's <code>ntpsweep</code> program.
+<p>This document describes the use of the NTP Project&rsquo;s <code>ntpsweep</code> program.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntpsweep</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <p>This document applies to version 4.2.8p11 of <code>ntpsweep</code>.
+<div class="shortcontents">
+<li><a name="stoc-Invoking-ntpsweep" href="#toc-Invoking-ntpsweep">1 Invoking ntpsweep</a></li>
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-</ul>
 </div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpsweep-Description">ntpsweep Description</a>:             Description
-<li><a accesskey="2" href="#ntpsweep-Invocation">ntpsweep Invocation</a>: 		Invoking ntpsweep
-</ul>
 
-<div class="node">
-<p><hr>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; ntpsweep Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-Invocation" accesskey="2">ntpsweep Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntpsweep
+</td></tr>
+</table>
+
+<hr>
 <a name="ntpsweep-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntpsweep"></a>
+<h3 class="section">1 Invoking ntpsweep</h3>
+<a name="index-ntpsweep"></a>
+<a name="index-Print-various-informations-about-given-ntp-servers"></a>
 
-<h3 class="section">0.1 Invoking ntpsweep</h3>
-
-<p><a name="index-ntpsweep-1"></a><a name="index-Print-various-informations-about-given-ntp-servers-2"></a>
-<code>ntpsweep</code>
+<p><code>ntpsweep</code>
 prints per host the NTP stratum level, the clock offset in seconds, the daemon
 version, the operating system and the processor. Optionally recursing through
 all peers.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntpsweep</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-usage" accesskey="1">ntpsweep usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntpsweep help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-host_002dlist" accesskey="2">ntpsweep host-list</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">host-list option (-l)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-peers" accesskey="3">ntpsweep peers</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">peers option (-p)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-maxlevel" accesskey="4">ntpsweep maxlevel</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">maxlevel option (-m)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-strip" accesskey="5">ntpsweep strip</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">strip option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-host" accesskey="6">ntpsweep host</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">host option (-h)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntpsweep-exit-status" accesskey="7">ntpsweep exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntpsweep-usage">ntpsweep usage</a>:                   ntpsweep help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntpsweep-host_002dlist">ntpsweep host-list</a>:               host-list option (-l)
-<li><a accesskey="3" href="#ntpsweep-peers">ntpsweep peers</a>:                   peers option (-p)
-<li><a accesskey="4" href="#ntpsweep-maxlevel">ntpsweep maxlevel</a>:                maxlevel option (-m)
-<li><a accesskey="5" href="#ntpsweep-strip">ntpsweep strip</a>:                   strip option (-s)
-<li><a accesskey="6" href="#ntpsweep-host">ntpsweep host</a>:                    host option (-h)
-<li><a accesskey="7" href="#ntpsweep-exit-status">ntpsweep exit status</a>:             exit status
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntpsweep-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-host_002dlist">ntpsweep host-list</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<hr>
+<a name="ntpsweep-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-host_002dlist" accesskey="n" rel="next">ntpsweep host-list</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpsweep-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1 ntpsweep help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntpsweep-help"></a>
 
-<h4 class="subsection">0.1.1 ntpsweep help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntpsweep-help-3"></a>
-This is the automatically generated usage text for ntpsweep.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntpsweep.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p11
+</p>
+<div class="example">
+<pre class="example">ntpsweep - Print various informations about given ntp servers - Ver. 4.2.8p13
 USAGE: ntpsweep [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [hostfile]
 
     -l, --host-list=str          Host to execute actions on
@@ -103,99 +147,102 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntpsweep-host_002dlist"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-peers">ntpsweep peers</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-usage">ntpsweep usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntpsweep-host_002dlist"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-peers" accesskey="n" rel="next">ntpsweep peers</a>, Previous: <a href="#ntpsweep-usage" accesskey="p" rel="prev">ntpsweep usage</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="host_002dlist-option-_0028_002dl_0029"></a>
+<h4 class="subsection">1.2 host-list option (-l)</h4>
+<a name="index-ntpsweep_002dhost_002dlist"></a>
 
-<h4 class="subsection">0.1.2 host-list option (-l)</h4>
-
-<p><a name="index-ntpsweep_002dhost_002dlist-4"></a>
-This is the &ldquo;host to execute actions on&rdquo; option. 
+<p>This is the &ldquo;host to execute actions on&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>Use this option to specify the host on which this script operates. 
-            May appear multiple times. 
-<div class="node">
-<p><hr>
-<a name="ntpsweep-peers"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-maxlevel">ntpsweep maxlevel</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-host_002dlist">ntpsweep host-list</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<p>Use this option to specify the host on which this script operates.
+            May appear multiple times.
+</p><hr>
+<a name="ntpsweep-peers"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-maxlevel" accesskey="n" rel="next">ntpsweep maxlevel</a>, Previous: <a href="#ntpsweep-host_002dlist" accesskey="p" rel="prev">ntpsweep host-list</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="peers-option-_0028_002dp_0029"></a>
+<h4 class="subsection">1.3 peers option (-p)</h4>
+<a name="index-ntpsweep_002dpeers"></a>
 
-<h4 class="subsection">0.1.3 peers option (-p)</h4>
-
-<p><a name="index-ntpsweep_002dpeers-5"></a>
-This is the &ldquo;recursively list all peers a host synchronizes to&rdquo; option. 
-This option has no <span class="samp">doc</span> documentation. 
-<div class="node">
-<p><hr>
-<a name="ntpsweep-maxlevel"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-strip">ntpsweep strip</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-peers">ntpsweep peers</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<p>This is the &ldquo;recursively list all peers a host synchronizes to&rdquo; option.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p><hr>
+<a name="ntpsweep-maxlevel"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-strip" accesskey="n" rel="next">ntpsweep strip</a>, Previous: <a href="#ntpsweep-peers" accesskey="p" rel="prev">ntpsweep peers</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="maxlevel-option-_0028_002dm_0029"></a>
+<h4 class="subsection">1.4 maxlevel option (-m)</h4>
+<a name="index-ntpsweep_002dmaxlevel"></a>
 
-<h4 class="subsection">0.1.4 maxlevel option (-m)</h4>
-
-<p><a name="index-ntpsweep_002dmaxlevel-6"></a>
-This is the &ldquo;traverse peers up to this level (4 is a reasonable number)&rdquo; option. 
-This option takes a number argument. 
-This option has no <span class="samp">doc</span> documentation. 
-<div class="node">
-<p><hr>
-<a name="ntpsweep-strip"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-host">ntpsweep host</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-maxlevel">ntpsweep maxlevel</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<p>This is the &ldquo;traverse peers up to this level (4 is a reasonable number)&rdquo; option.
+This option takes a number argument.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p><hr>
+<a name="ntpsweep-strip"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-host" accesskey="n" rel="next">ntpsweep host</a>, Previous: <a href="#ntpsweep-maxlevel" accesskey="p" rel="prev">ntpsweep maxlevel</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="strip-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.5 strip option (-s)</h4>
+<a name="index-ntpsweep_002dstrip"></a>
 
-<h4 class="subsection">0.1.5 strip option (-s)</h4>
-
-<p><a name="index-ntpsweep_002dstrip-7"></a>
-This is the &ldquo;strip this string from hostnames&rdquo; option. 
-This option takes a string argument. 
-This option has no <span class="samp">doc</span> documentation. 
-<div class="node">
-<p><hr>
-<a name="ntpsweep-host"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntpsweep-exit-status">ntpsweep exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-strip">ntpsweep strip</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<p>This is the &ldquo;strip this string from hostnames&rdquo; option.
+This option takes a string argument.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p><hr>
+<a name="ntpsweep-host"></a>
+<div class="header">
+<p>
+Next: <a href="#ntpsweep-exit-status" accesskey="n" rel="next">ntpsweep exit status</a>, Previous: <a href="#ntpsweep-strip" accesskey="p" rel="prev">ntpsweep strip</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="host-option-_0028_002dh_0029"></a>
+<h4 class="subsection">1.6 host option (-h)</h4>
+<a name="index-ntpsweep_002dhost"></a>
 
-<h4 class="subsection">0.1.6 host option (-h)</h4>
-
-<p><a name="index-ntpsweep_002dhost-8"></a>
-This is the &ldquo;specify a single host&rdquo; option. 
-This option takes a string argument. 
-This option has no <span class="samp">doc</span> documentation.
-
-  <p><strong>NOTE</strong><strong>: THIS OPTION IS DEPRECATED</strong>
-<div class="node">
-<p><hr>
-<a name="ntpsweep-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntpsweep-host">ntpsweep host</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntpsweep-Invocation">ntpsweep Invocation</a>
-<br>
+<p>This is the &ldquo;specify a single host&rdquo; option.
+This option takes a string argument.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p>
+<p><strong>NOTE</strong><strong>: THIS OPTION IS DEPRECATED</strong>
+</p><hr>
+<a name="ntpsweep-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntpsweep-host" accesskey="p" rel="prev">ntpsweep host</a>, Up: <a href="#ntpsweep-Invocation" accesskey="u" rel="up">ntpsweep Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpsweep-exit-status-1"></a>
+<h4 class="subsection">1.7 ntpsweep exit status</h4>
 
-<h4 class="subsection">0.1.7 ntpsweep exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
+<hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/scripts/ntpsweep/ntpsweep.man.in.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntpsweep 1ntpsweepman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntpsweep 1ntpsweepman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-cfaGaS/ag-pfaO_R)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:01 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:33 AM by AutoGen 5.18.5
 .\" From the definitions ntpsweep-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntpsweep/ntpsweep.mdoc.in.orig
+++ contrib/ntp/scripts/ntpsweep/ntpsweep.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPSWEEP 1ntpsweepmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpsweep-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:50:04 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:32 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpsweep-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/ntptrace/Makefile.in.orig
+++ contrib/ntp/scripts/ntptrace/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/ntptrace/invoke-ntptrace.texi.orig
+++ contrib/ntp/scripts/ntptrace/invoke-ntptrace.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntptrace.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:50:11 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:36 AM by AutoGen 5.18.5
 # From the definitions    ntptrace-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -62,7 +62,7 @@
 
 @exampleindent 0
 @example
-ntptrace - Trace peers of an NTP server - Ver. 4.2.8p11
+ntptrace - Trace peers of an NTP server - Ver. 4.2.8p13
 USAGE: ntptrace [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... [host]
 
     -n, --numeric                Print IP addresses instead of hostnames
--- contrib/ntp/scripts/ntptrace/ntptrace-opts.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (ntptrace-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 10:50:06 AM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:35 AM by AutoGen 5.18.5
 # From the definitions    ntptrace-opts.def
 # and the template file   perlopt
 
@@ -40,7 +40,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-ntptrace - Trace peers of an NTP server - Ver. 4.2.8p11
+ntptrace - Trace peers of an NTP server - Ver. 4.2.8p13
 USAGE: ntptrace [ -<flag> [<val>] | --<name>[{=| }<val>] ]... [host]
 
     -n, --numeric                Print IP addresses instead of hostnames
--- contrib/ntp/scripts/ntptrace/ntptrace.1ntptraceman.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace.1ntptraceman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntptrace 1ntptraceman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntptrace 1ntptraceman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-wXa4cT/ag-JXaacT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:08 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:37 AM by AutoGen 5.18.5
 .\" From the definitions ntptrace-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntptrace/ntptrace.1ntptracemdoc.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace.1ntptracemdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPTRACE 1ntptracemdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntptrace-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:50:13 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:35 AM by AutoGen 5.18.5
 .\"  From the definitions    ntptrace-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/ntptrace/ntptrace.html.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace.html
@@ -1,113 +1,156 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Ntptrace User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Ntptrace User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Ntptrace User&rsquo;s Manual</title>
+
+<meta name="description" content="Ntptrace User&rsquo;s Manual">
+<meta name="keywords" content="Ntptrace User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Ntptrace User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntptrace-Description">ntptrace Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">Simple Network Time Protocol User Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">Ntptrace User&rsquo;s Manual</h1>
 
-<p>This document describes the use of the NTP Project's <code>ntptrace</code> program. 
-This document applies to version 4.2.8p11 of <code>ntptrace</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">Simple Network Time Protocol User Manual</a>
-</ul>
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="Simple-Network-Time-Protocol-User-Manual"></a>
+<h1 class="top">Simple Network Time Protocol User Manual</h1>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntptrace-Description">ntptrace Description</a>:             Description
-<li><a accesskey="2" href="#ntptrace-Invocation">ntptrace Invocation</a>: 		    Invoking ntptrace
+<p>This document describes the use of the NTP Project&rsquo;s <code>ntptrace</code> program.
+This document applies to version 4.2.8p13 of <code>ntptrace</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Invoking-ntptrace" href="#toc-Invoking-ntptrace">1 Invoking ntptrace</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="ntptrace-Invocation"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntptrace-Description">ntptrace Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; ntptrace Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-Invocation" accesskey="2">ntptrace Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntptrace
+</td></tr>
+</table>
+
+<hr>
+<a name="ntptrace-Invocation"></a>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntptrace"></a>
+<h2 class="chapter">1 Invoking ntptrace</h2>
+<a name="index-ntptrace"></a>
+<a name="index-Trace-peers-of-an-NTP-server"></a>
 
-<h3 class="section">Invoking ntptrace</h3>
-
-<p><a name="index-ntptrace-1"></a><a name="index-Trace-peers-of-an-NTP-server-2"></a>
-<code>ntptrace</code> is a perl script that uses the ntpq utility program to follow
+<p><code>ntptrace</code> is a perl script that uses the ntpq utility program to follow
 the chain of NTP servers from a given host back to the primary time source. For
 ntptrace to work properly, each of these servers must implement the NTP Control
 and Monitoring Protocol specified in RFC 1305 and enable NTP Mode 6 packets.
-
-  <p>If given no arguments, ntptrace starts with localhost. Here is an example of
+</p>
+<p>If given no arguments, ntptrace starts with localhost. Here is an example of
 the output from ntptrace:
+</p>
+<div class="example">
+<pre class="example">% ntptrace localhost: stratum 4, offset 0.0019529, synch distance 0.144135
+server2ozo.com: stratum 2, offset 0.0124263, synch distance 0.115784 usndh.edu:
+stratum 1, offset 0.0019298, synch distance 0.011993, refid 'WWVB'
+</pre></div>
 
-<pre class="example">     % ntptrace localhost: stratum 4, offset 0.0019529, synch distance 0.144135
-     server2ozo.com: stratum 2, offset 0.0124263, synch distance 0.115784 usndh.edu:
-     stratum 1, offset 0.0019298, synch distance 0.011993, refid 'WWVB'
-</pre>
-  <p>On each line, the fields are (left to right): the host name, the host stratum,
+<p>On each line, the fields are (left to right): the host name, the host stratum,
 the time offset between that host and the local host (as measured by
-<code>ntptrace</code>; this is why it is not always zero for "localhost"), the host
+<code>ntptrace</code>; this is why it is not always zero for &quot;localhost&quot;), the host
 synchronization distance, and (only for stratum-1 servers) the reference clock
 ID. All times are given in seconds. Note that the stratum is the server hop
 count to the primary source, while the synchronization distance is the
 estimated error relative to the primary source. These terms are precisely
 defined in RFC-1305.
+</p>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntptrace</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-usage" accesskey="1">ntptrace usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntptrace help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-numeric" accesskey="2">ntptrace numeric</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">numeric option (-n)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-max_002dhosts" accesskey="3">ntptrace max-hosts</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">max-hosts option (-m)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-host" accesskey="4">ntptrace host</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">host option (-r)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-exit-status" accesskey="5">ntptrace exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntptrace-usage">ntptrace usage</a>:                   ntptrace help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntptrace-numeric">ntptrace numeric</a>:                 numeric option (-n)
-<li><a accesskey="3" href="#ntptrace-max_002dhosts">ntptrace max-hosts</a>:               max-hosts option (-m)
-<li><a accesskey="4" href="#ntptrace-host">ntptrace host</a>:                    host option (-r)
-<li><a accesskey="5" href="#ntptrace-exit-status">ntptrace exit status</a>:             exit status
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntptrace-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntptrace-numeric">ntptrace numeric</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntptrace-Invocation">ntptrace Invocation</a>
-<br>
+<hr>
+<a name="ntptrace-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntptrace-numeric" accesskey="n" rel="next">ntptrace numeric</a>, Up: <a href="#ntptrace-Invocation" accesskey="u" rel="up">ntptrace Invocation</a> &nbsp; </p>
 </div>
+<a name="ntptrace-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h3 class="section">1.1 ntptrace help/usage (<samp>--help</samp>)</h3>
+<a name="index-ntptrace-help"></a>
 
-<h4 class="subsection">ntptrace help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntptrace-help-3"></a>
-This is the automatically generated usage text for ntptrace.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntptrace.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntptrace - Trace peers of an NTP server - Ver. 4.2.8p11
+</p>
+<div class="example">
+<pre class="example">ntptrace - Trace peers of an NTP server - Ver. 4.2.8p13
 USAGE: ntptrace [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... [host]
 
     -n, --numeric                Print IP addresses instead of hostnames
@@ -118,63 +161,79 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntptrace-numeric"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntptrace-max_002dhosts">ntptrace max-hosts</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntptrace-usage">ntptrace usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntptrace-Invocation">ntptrace Invocation</a>
-<br>
+</pre></div>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-numeric" accesskey="1">ntptrace numeric</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-max_002dhosts" accesskey="2">ntptrace max-hosts</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-host" accesskey="3">ntptrace host</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntptrace-exit-status" accesskey="4">ntptrace exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="ntptrace-numeric"></a>
+<div class="header">
+<p>
+Next: <a href="#ntptrace-max_002dhosts" accesskey="n" rel="next">ntptrace max-hosts</a>, Previous: <a href="#ntptrace-usage" accesskey="p" rel="prev">ntptrace usage</a>, Up: <a href="#ntptrace-usage" accesskey="u" rel="up">ntptrace usage</a> &nbsp; </p>
 </div>
+<a name="numeric-option-_0028_002dn_0029"></a>
+<h4 class="subsection">1.1.1 numeric option (-n)</h4>
+<a name="index-ntptrace_002dnumeric"></a>
 
-<h4 class="subsection">numeric option (-n)</h4>
-
-<p><a name="index-ntptrace_002dnumeric-4"></a>
-This is the &ldquo;print ip addresses instead of hostnames&rdquo; option. 
+<p>This is the &ldquo;print ip addresses instead of hostnames&rdquo; option.
 Output hosts as dotted-quad numeric format rather than converting to
-the canonical host names. 
-<div class="node">
-<p><hr>
-<a name="ntptrace-max_002dhosts"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntptrace-host">ntptrace host</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntptrace-numeric">ntptrace numeric</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntptrace-Invocation">ntptrace Invocation</a>
-<br>
+the canonical host names.
+</p><hr>
+<a name="ntptrace-max_002dhosts"></a>
+<div class="header">
+<p>
+Next: <a href="#ntptrace-host" accesskey="n" rel="next">ntptrace host</a>, Previous: <a href="#ntptrace-numeric" accesskey="p" rel="prev">ntptrace numeric</a>, Up: <a href="#ntptrace-usage" accesskey="u" rel="up">ntptrace usage</a> &nbsp; </p>
 </div>
+<a name="max_002dhosts-option-_0028_002dm_0029"></a>
+<h4 class="subsection">1.1.2 max-hosts option (-m)</h4>
+<a name="index-ntptrace_002dmax_002dhosts"></a>
 
-<h4 class="subsection">max-hosts option (-m)</h4>
-
-<p><a name="index-ntptrace_002dmax_002dhosts-5"></a>
-This is the &ldquo;maximum number of peers to trace&rdquo; option. 
-This option takes a number argument. 
-This option has no <span class="samp">doc</span> documentation. 
-<div class="node">
-<p><hr>
-<a name="ntptrace-host"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntptrace-exit-status">ntptrace exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntptrace-max_002dhosts">ntptrace max-hosts</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntptrace-Invocation">ntptrace Invocation</a>
-<br>
+<p>This is the &ldquo;maximum number of peers to trace&rdquo; option.
+This option takes a number argument.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p><hr>
+<a name="ntptrace-host"></a>
+<div class="header">
+<p>
+Next: <a href="#ntptrace-exit-status" accesskey="n" rel="next">ntptrace exit status</a>, Previous: <a href="#ntptrace-max_002dhosts" accesskey="p" rel="prev">ntptrace max-hosts</a>, Up: <a href="#ntptrace-usage" accesskey="u" rel="up">ntptrace usage</a> &nbsp; </p>
 </div>
+<a name="host-option-_0028_002dr_0029"></a>
+<h4 class="subsection">1.1.3 host option (-r)</h4>
+<a name="index-ntptrace_002dhost"></a>
 
-<h4 class="subsection">host option (-r)</h4>
-
-<p><a name="index-ntptrace_002dhost-6"></a>
-This is the &ldquo;single remote host&rdquo; option. 
-This option takes a string argument. 
-This option has no <span class="samp">doc</span> documentation. 
-<div class="node">
-<p><hr>
-<a name="ntptrace-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntptrace-host">ntptrace host</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntptrace-Invocation">ntptrace Invocation</a>
-<br>
+<p>This is the &ldquo;single remote host&rdquo; option.
+This option takes a string argument.
+This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p><hr>
+<a name="ntptrace-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntptrace-host" accesskey="p" rel="prev">ntptrace host</a>, Up: <a href="#ntptrace-usage" accesskey="u" rel="up">ntptrace usage</a> &nbsp; </p>
 </div>
+<a name="ntptrace-exit-status-1"></a>
+<h4 class="subsection">1.1.4 ntptrace exit status</h4>
 
-<h4 class="subsection">ntptrace exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
+<hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/scripts/ntptrace/ntptrace.man.in.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntptrace @NTPTRACE_MS@ "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntptrace @NTPTRACE_MS@ "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-wXa4cT/ag-JXaacT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:08 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:37 AM by AutoGen 5.18.5
 .\" From the definitions ntptrace-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/ntptrace/ntptrace.mdoc.in.orig
+++ contrib/ntp/scripts/ntptrace/ntptrace.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTPTRACE @NTPTRACE_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntptrace-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 10:50:13 AM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:35 AM by AutoGen 5.18.5
 .\"  From the definitions    ntptrace-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/plot_summary-opts.orig
+++ contrib/ntp/scripts/plot_summary-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (plot_summary-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:55:55 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:25 PM by AutoGen 5.18.5
 # From the definitions    plot_summary-opts.def
 # and the template file   perlopt
 
@@ -46,7 +46,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-plot_summary - plot statistics generated by summary script - Ver. 4.2.8p11
+plot_summary - plot statistics generated by summary script - Ver. 4.2.8p13
 USAGE: plot_summary [ -<flag> [<val>] | --<name>[{=| }<val>] ]... 
 
         --directory=str          Where the summary files are
--- contrib/ntp/scripts/plot_summary.1plot_summaryman.orig
+++ contrib/ntp/scripts/plot_summary.1plot_summaryman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH plot_summary 1plot_summaryman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH plot_summary 1plot_summaryman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-NpayvG/ag-0paGuG)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 04:56:00 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:26 PM by AutoGen 5.18.5
 .\" From the definitions plot_summary-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/plot_summary.1plot_summarymdoc.orig
+++ contrib/ntp/scripts/plot_summary.1plot_summarymdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt PLOT_SUMMARY 1plot_summarymdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (plot_summary-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:56:02 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 05:04:27 PM by AutoGen 5.18.5
 .\"  From the definitions    plot_summary-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/plot_summary.html.orig
+++ contrib/ntp/scripts/plot_summary.html
@@ -1,97 +1,139 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Plot_summary User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Plot_summary User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Plot_summary User&rsquo;s Manual</title>
+
+<meta name="description" content="Plot_summary User&rsquo;s Manual">
+<meta name="keywords" content="Plot_summary User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Plot_summary User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-Description">plot_summary Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">Plot_summary User Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">Plot_summary User&rsquo;s Manual</h1>
 
-<p>This document describes the use of the NTP Project's <code>plot_summary</code> program. 
-This document applies to version 4.2.8p11 of <code>plot_summary</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">Plot_summary User Manual</a>
-</ul>
-</div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#plot_005fsummary-Description">plot_summary Description</a>:              Description
-<li><a accesskey="2" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>: 		    Invoking plot_summary
-</ul>
 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-Invocation"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-Description">plot_summary Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="Plot_005fsummary-User-Manual"></a>
+<h1 class="top">Plot_summary User Manual</h1>
 
-<h3 class="section">Invoking plot_summary</h3>
+<p>This document describes the use of the NTP Project&rsquo;s <code>plot_summary</code> program.
+This document applies to version 4.2.8p13 of <code>plot_summary</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-<p><a name="index-plot_005fsummary-1"></a><a name="index-plot-statistics-generated-by-summary-script-2"></a>
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Invoking-plot_005fsummary" href="#toc-Invoking-plot_005fsummary">1 Invoking plot_summary</a></li>
+</ul>
+</div>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>plot_summary</code> program.
 
-<ul class="menu">
-<li><a accesskey="1" href="#plot_005fsummary-usage">plot_summary usage</a>:                   plot_summary help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#plot_005fsummary-directory">plot_summary directory</a>:               directory option
-<li><a accesskey="3" href="#plot_005fsummary-identifier">plot_summary identifier</a>:              identifier option
-<li><a accesskey="4" href="#plot_005fsummary-peer">plot_summary peer</a>:                    peer option
-<li><a accesskey="5" href="#plot_005fsummary-plot_002dterm">plot_summary plot-term</a>:               plot-term option
-<li><a accesskey="6" href="#plot_005fsummary-output_002dfile">plot_summary output-file</a>:             output-file option
-<li><a accesskey="7" href="#plot_005fsummary-exit-status">plot_summary exit status</a>:             exit status
-</ul>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; plot_summary Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-Invocation" accesskey="2">plot_summary Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking plot_summary
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-directory">plot_summary directory</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+<hr>
+<a name="plot_005fsummary-Invocation"></a>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-plot_005fsummary"></a>
+<h2 class="chapter">1 Invoking plot_summary</h2>
+<a name="index-plot_005fsummary"></a>
+<a name="index-plot-statistics-generated-by-summary-script"></a>
 
-<h4 class="subsection">plot_summary help/usage (<span class="option">--help</span>)</h4>
 
-<p><a name="index-plot_005fsummary-help-3"></a>
-This is the automatically generated usage text for plot_summary.
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>plot_summary</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-usage" accesskey="1">plot_summary usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">plot_summary help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-directory" accesskey="2">plot_summary directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">directory option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-identifier" accesskey="3">plot_summary identifier</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">identifier option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-peer" accesskey="4">plot_summary peer</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">peer option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-plot_002dterm" accesskey="5">plot_summary plot-term</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">plot-term option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-output_002dfile" accesskey="6">plot_summary output-file</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">output-file option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-exit-status" accesskey="7">plot_summary exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<hr>
+<a name="plot_005fsummary-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-directory" accesskey="n" rel="next">plot_summary directory</a>, Up: <a href="#plot_005fsummary-Invocation" accesskey="u" rel="up">plot_summary Invocation</a> &nbsp; </p>
+</div>
+<a name="plot_005fsummary-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h3 class="section">1.1 plot_summary help/usage (<samp>--help</samp>)</h3>
+<a name="index-plot_005fsummary-help"></a>
+
+<p>This is the automatically generated usage text for plot_summary.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
+</p>
+<div class="example">
+<pre class="example">plot_summary - plot statistics generated by summary script - Ver. 4.2.8p13
+USAGE: plot_summary [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... 
 
-<pre class="example">plot_summary - plot statistics generated by summary script - Ver. 4.2.8p11
-USAGE: plot_summary [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
-
         --directory=str          Where the summary files are
         --identifier=str         Origin of the data
         --offset-limit=float     Limit of absolute offset
@@ -105,103 +147,121 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="plot_005fsummary-directory"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-identifier">plot_summary identifier</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-usage">plot_summary usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+</pre></div>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-directory" accesskey="1">plot_summary directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-identifier" accesskey="2">plot_summary identifier</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-peer" accesskey="3">plot_summary peer</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-plot_002dterm" accesskey="4">plot_summary plot-term</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-output_002dfile" accesskey="5">plot_summary output-file</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#plot_005fsummary-exit-status" accesskey="6">plot_summary exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="plot_005fsummary-directory"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-identifier" accesskey="n" rel="next">plot_summary identifier</a>, Previous: <a href="#plot_005fsummary-usage" accesskey="p" rel="prev">plot_summary usage</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="directory-option"></a>
+<h4 class="subsection">1.1.1 directory option</h4>
+<a name="index-plot_005fsummary_002ddirectory"></a>
 
-<h4 class="subsection">directory option</h4>
-
-<p><a name="index-plot_005fsummary_002ddirectory-4"></a>
-This is the &ldquo;where the summary files are&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;where the summary files are&rdquo; option.
+This option takes a string argument.
         The directory where the <code>plot_summary</code> will search for the
-        *_summary files generated by <code>summary</code> script. 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-identifier"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-peer">plot_summary peer</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-directory">plot_summary directory</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+        *_summary files generated by <code>summary</code> script.
+</p><hr>
+<a name="plot_005fsummary-identifier"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-peer" accesskey="n" rel="next">plot_summary peer</a>, Previous: <a href="#plot_005fsummary-directory" accesskey="p" rel="prev">plot_summary directory</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="identifier-option"></a>
+<h4 class="subsection">1.1.2 identifier option</h4>
+<a name="index-plot_005fsummary_002didentifier"></a>
 
-<h4 class="subsection">identifier option</h4>
-
-<p><a name="index-plot_005fsummary_002didentifier-5"></a>
-This is the &ldquo;origin of the data&rdquo; option. 
-This option takes a string argument. 
-        Where does the plotted data come from, default to string "host" plus
+<p>This is the &ldquo;origin of the data&rdquo; option.
+This option takes a string argument.
+        Where does the plotted data come from, default to string &quot;host&quot; plus
         current hostname
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-peer"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-plot_002dterm">plot_summary plot-term</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-identifier">plot_summary identifier</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+</p><hr>
+<a name="plot_005fsummary-peer"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-plot_002dterm" accesskey="n" rel="next">plot_summary plot-term</a>, Previous: <a href="#plot_005fsummary-identifier" accesskey="p" rel="prev">plot_summary identifier</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="peer-option"></a>
+<h4 class="subsection">1.1.3 peer option</h4>
+<a name="index-plot_005fsummary_002dpeer"></a>
 
-<h4 class="subsection">peer option</h4>
-
-<p><a name="index-plot_005fsummary_002dpeer-6"></a>
-This is the &ldquo;peers to generate plots for&rdquo; option. 
+<p>This is the &ldquo;peers to generate plots for&rdquo; option.
 This option takes a string argument.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>By default the peer_summary plots are not generated. Use this option to
-        specify list of peers if you want to generate plots for them. 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-plot_002dterm"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-output_002dfile">plot_summary output-file</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-peer">plot_summary peer</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+<p>By default the peer_summary plots are not generated. Use this option to
+        specify list of peers if you want to generate plots for them.
+</p><hr>
+<a name="plot_005fsummary-plot_002dterm"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-output_002dfile" accesskey="n" rel="next">plot_summary output-file</a>, Previous: <a href="#plot_005fsummary-peer" accesskey="p" rel="prev">plot_summary peer</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="plot_002dterm-option"></a>
+<h4 class="subsection">1.1.4 plot-term option</h4>
+<a name="index-plot_005fsummary_002dplot_002dterm"></a>
 
-<h4 class="subsection">plot-term option</h4>
-
-<p><a name="index-plot_005fsummary_002dplot_002dterm-7"></a>
-This is the &ldquo;gnuplot terminal&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;gnuplot terminal&rdquo; option.
+This option takes a string argument.
         This is string is passed directly to the <code>gnuplot set terminal</code>
         command.  Default is <code>x11</code> if <code>DISPLAY</code> is set and
-        <code>dumb</code> is it's not'. See output from  -e "set
-        terminal") for the list of available options. 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-output_002dfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#plot_005fsummary-exit-status">plot_summary exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-plot_002dterm">plot_summary plot-term</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+        <code>dumb</code> is it&rsquo;s not&rsquo;. See output from (gnuplot -e &quot;set
+        terminal&quot;) for the list of available options.
+</p><hr>
+<a name="plot_005fsummary-output_002dfile"></a>
+<div class="header">
+<p>
+Next: <a href="#plot_005fsummary-exit-status" accesskey="n" rel="next">plot_summary exit status</a>, Previous: <a href="#plot_005fsummary-plot_002dterm" accesskey="p" rel="prev">plot_summary plot-term</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="output_002dfile-option"></a>
+<h4 class="subsection">1.1.5 output-file option</h4>
+<a name="index-plot_005fsummary_002doutput_002dfile"></a>
 
-<h4 class="subsection">output-file option</h4>
-
-<p><a name="index-plot_005fsummary_002doutput_002dfile-8"></a>
-This is the &ldquo;output file&rdquo; option. 
-This option takes a str argument. 
-        Output file for <code>gnuplot</code>, default to stdout. 
-<div class="node">
-<p><hr>
-<a name="plot_005fsummary-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#plot_005fsummary-output_002dfile">plot_summary output-file</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#plot_005fsummary-Invocation">plot_summary Invocation</a>
-<br>
+<p>This is the &ldquo;output file&rdquo; option.
+This option takes a str argument.
+        Output file for <code>gnuplot</code>, default to stdout.
+</p><hr>
+<a name="plot_005fsummary-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#plot_005fsummary-output_002dfile" accesskey="p" rel="prev">plot_summary output-file</a>, Up: <a href="#plot_005fsummary-usage" accesskey="u" rel="up">plot_summary usage</a> &nbsp; </p>
 </div>
+<a name="plot_005fsummary-exit-status-1"></a>
+<h4 class="subsection">1.1.6 plot_summary exit status</h4>
 
-<h4 class="subsection">plot_summary exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
+<hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/scripts/plot_summary.man.in.orig
+++ contrib/ntp/scripts/plot_summary.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH plot_summary 1plot_summaryman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH plot_summary 1plot_summaryman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-NpayvG/ag-0paGuG)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 04:56:00 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:26 PM by AutoGen 5.18.5
 .\" From the definitions plot_summary-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/plot_summary.mdoc.in.orig
+++ contrib/ntp/scripts/plot_summary.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt PLOT_SUMMARY 1plot_summarymdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (plot_summary-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:56:02 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 05:04:27 PM by AutoGen 5.18.5
 .\"  From the definitions    plot_summary-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/summary-opts.orig
+++ contrib/ntp/scripts/summary-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (summary-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:55:57 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:25 PM by AutoGen 5.18.5
 # From the definitions    summary-opts.def
 # and the template file   perlopt
 
@@ -44,7 +44,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-summary - compute various stastics from NTP stat files - Ver. 4.2.8p11
+summary - compute various stastics from NTP stat files - Ver. 4.2.8p13
 USAGE: summary [ -<flag> [<val>] | --<name>[{=| }<val>] ]... 
 
         --directory=str          Directory containing stat files
--- contrib/ntp/scripts/summary.1summaryman.orig
+++ contrib/ntp/scripts/summary.1summaryman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH summary 1summaryman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH summary 1summaryman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-AMaaJG/ag-NMaiIG)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 04:56:06 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:30 PM by AutoGen 5.18.5
 .\" From the definitions summary-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/summary.1summarymdoc.orig
+++ contrib/ntp/scripts/summary.1summarymdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt SUMMARY 1summarymdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (summary-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:56:08 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 05:04:31 PM by AutoGen 5.18.5
 .\"  From the definitions    summary-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/summary.html.orig
+++ contrib/ntp/scripts/summary.html
@@ -1,96 +1,139 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Summary User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Summary User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Summary User&rsquo;s Manual</title>
+
+<meta name="description" content="Summary User&rsquo;s Manual">
+<meta name="keywords" content="Summary User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Summary User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-Description">summary Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">Summary User Manual</h2>
+<body lang="en">
+<h1 class="settitle" align="center">Summary User&rsquo;s Manual</h1>
 
-<p>This document describes the use of the NTP Project's <code>summary</code> program. 
-This document applies to version 4.2.8p11 of <code>summary</code>.
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">Summary User Manual</a>
-</ul>
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="Summary-User-Manual"></a>
+<h1 class="top">Summary User Manual</h1>
 
-<ul class="menu">
-<li><a accesskey="1" href="#summary-Description">summary Description</a>:              Description
-<li><a accesskey="2" href="#summary-Invocation">summary Invocation</a>: 		    Invoking summary
+<p>This document describes the use of the NTP Project&rsquo;s <code>summary</code> program.
+This document applies to version 4.2.8p13 of <code>summary</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Invoking-summary" href="#toc-Invoking-summary">1 Invoking summary</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="summary-Invocation"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-Description">summary Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; summary Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-Invocation" accesskey="2">summary Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking summary
+</td></tr>
+</table>
+
+<hr>
+<a name="summary-Invocation"></a>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-summary"></a>
+<h2 class="chapter">1 Invoking summary</h2>
+<a name="index-summary"></a>
+<a name="index-compute-various-stastics-from-NTP-stat-files"></a>
 
-<h3 class="section">Invoking summary</h3>
 
-<p><a name="index-summary-1"></a><a name="index-compute-various-stastics-from-NTP-stat-files-2"></a>
 
-  <p>This section was generated by <strong>AutoGen</strong>,
+
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>summary</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#summary-usage" accesskey="1">summary usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">summary help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-directory" accesskey="2">summary directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">directory option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-end_002ddate" accesskey="3">summary end-date</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">end-date option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-output_002ddirectory" accesskey="4">summary output-directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">output-directory option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-start_002ddate" accesskey="5">summary start-date</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">start-date option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-exit-status" accesskey="6">summary exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#summary-usage">summary usage</a>:                   summary help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#summary-directory">summary directory</a>:               directory option
-<li><a accesskey="3" href="#summary-end_002ddate">summary end-date</a>:                end-date option
-<li><a accesskey="4" href="#summary-output_002ddirectory">summary output-directory</a>:        output-directory option
-<li><a accesskey="5" href="#summary-start_002ddate">summary start-date</a>:              start-date option
-<li><a accesskey="6" href="#summary-exit-status">summary exit status</a>:             exit status
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="summary-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-directory">summary directory</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+<hr>
+<a name="summary-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#summary-directory" accesskey="n" rel="next">summary directory</a>, Up: <a href="#summary-Invocation" accesskey="u" rel="up">summary Invocation</a> &nbsp; </p>
 </div>
+<a name="summary-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h3 class="section">1.1 summary help/usage (<samp>--help</samp>)</h3>
+<a name="index-summary-help"></a>
 
-<h4 class="subsection">summary help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-summary-help-3"></a>
-This is the automatically generated usage text for summary.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for summary.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
+</p>
+<div class="example">
+<pre class="example">summary - compute various stastics from NTP stat files - Ver. 4.2.8p13
+USAGE: summary [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... 
 
-<pre class="example">summary - compute various stastics from NTP stat files - Ver. 4.2.8p11
-USAGE: summary [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
-
         --directory=str          Directory containing stat files
         --end-date=num           End date
         --output-directory=str   Output directory
@@ -102,81 +145,98 @@
 
 Options are specified by doubled hyphens and their name or by a single
 hyphen and the flag character.
-</pre>
-  <div class="node">
-<p><hr>
-<a name="summary-directory"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-end_002ddate">summary end-date</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-usage">summary usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+</pre></div>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#summary-directory" accesskey="1">summary directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-end_002ddate" accesskey="2">summary end-date</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-output_002ddirectory" accesskey="3">summary output-directory</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-start_002ddate" accesskey="4">summary start-date</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#summary-exit-status" accesskey="5">summary exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<hr>
+<a name="summary-directory"></a>
+<div class="header">
+<p>
+Next: <a href="#summary-end_002ddate" accesskey="n" rel="next">summary end-date</a>, Previous: <a href="#summary-usage" accesskey="p" rel="prev">summary usage</a>, Up: <a href="#summary-usage" accesskey="u" rel="up">summary usage</a> &nbsp; </p>
 </div>
+<a name="directory-option"></a>
+<h4 class="subsection">1.1.1 directory option</h4>
+<a name="index-summary_002ddirectory"></a>
 
-<h4 class="subsection">directory option</h4>
-
-<p><a name="index-summary_002ddirectory-4"></a>
-This is the &ldquo;directory containing stat files&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;directory containing stat files&rdquo; option.
+This option takes a string argument.
         The directory where <code>ntpd</code> will search for .stat files generated
-        by <code>ntpd</code>. 
-<div class="node">
-<p><hr>
-<a name="summary-end_002ddate"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-output_002ddirectory">summary output-directory</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-directory">summary directory</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+        by <code>ntpd</code>.
+</p><hr>
+<a name="summary-end_002ddate"></a>
+<div class="header">
+<p>
+Next: <a href="#summary-output_002ddirectory" accesskey="n" rel="next">summary output-directory</a>, Previous: <a href="#summary-directory" accesskey="p" rel="prev">summary directory</a>, Up: <a href="#summary-usage" accesskey="u" rel="up">summary usage</a> &nbsp; </p>
 </div>
+<a name="end_002ddate-option"></a>
+<h4 class="subsection">1.1.2 end-date option</h4>
+<a name="index-summary_002dend_002ddate"></a>
 
-<h4 class="subsection">end-date option</h4>
-
-<p><a name="index-summary_002dend_002ddate-5"></a>
-This is the &ldquo;end date&rdquo; option. 
-This option takes a number argument. 
+<p>This is the &ldquo;end date&rdquo; option.
+This option takes a number argument.
         Process all files with the date suffix less or equal to value of this
         option.  Defaults to today minus one day (Use <code>date -u +%Y%m%d</code>)
-        to get the timestamp. 
-<div class="node">
-<p><hr>
-<a name="summary-output_002ddirectory"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-start_002ddate">summary start-date</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-end_002ddate">summary end-date</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+        to get the timestamp.
+</p><hr>
+<a name="summary-output_002ddirectory"></a>
+<div class="header">
+<p>
+Next: <a href="#summary-start_002ddate" accesskey="n" rel="next">summary start-date</a>, Previous: <a href="#summary-end_002ddate" accesskey="p" rel="prev">summary end-date</a>, Up: <a href="#summary-usage" accesskey="u" rel="up">summary usage</a> &nbsp; </p>
 </div>
+<a name="output_002ddirectory-option"></a>
+<h4 class="subsection">1.1.3 output-directory option</h4>
+<a name="index-summary_002doutput_002ddirectory"></a>
 
-<h4 class="subsection">output-directory option</h4>
-
-<p><a name="index-summary_002doutput_002ddirectory-6"></a>
-This is the &ldquo;output directory&rdquo; option. 
-This option takes a str argument. 
-        The output directory <code>summary</code> will write all output files to. 
-<div class="node">
-<p><hr>
-<a name="summary-start_002ddate"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#summary-exit-status">summary exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-output_002ddirectory">summary output-directory</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+<p>This is the &ldquo;output directory&rdquo; option.
+This option takes a str argument.
+        The output directory <code>summary</code> will write all output files to.
+</p><hr>
+<a name="summary-start_002ddate"></a>
+<div class="header">
+<p>
+Next: <a href="#summary-exit-status" accesskey="n" rel="next">summary exit status</a>, Previous: <a href="#summary-output_002ddirectory" accesskey="p" rel="prev">summary output-directory</a>, Up: <a href="#summary-usage" accesskey="u" rel="up">summary usage</a> &nbsp; </p>
 </div>
+<a name="start_002ddate-option"></a>
+<h4 class="subsection">1.1.4 start-date option</h4>
+<a name="index-summary_002dstart_002ddate"></a>
 
-<h4 class="subsection">start-date option</h4>
-
-<p><a name="index-summary_002dstart_002ddate-7"></a>
-This is the &ldquo;start date&rdquo; option. 
-This option takes a num argument. 
+<p>This is the &ldquo;start date&rdquo; option.
+This option takes a num argument.
         Process all files with the date suffix more or equal to value of
-        this option.  Defaults to 197000101. 
-<div class="node">
-<p><hr>
-<a name="summary-exit-status"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#summary-start_002ddate">summary start-date</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#summary-Invocation">summary Invocation</a>
-<br>
+        this option.  Defaults to 197000101.
+</p><hr>
+<a name="summary-exit-status"></a>
+<div class="header">
+<p>
+Previous: <a href="#summary-start_002ddate" accesskey="p" rel="prev">summary start-date</a>, Up: <a href="#summary-usage" accesskey="u" rel="up">summary usage</a> &nbsp; </p>
 </div>
+<a name="summary-exit-status-1"></a>
+<h4 class="subsection">1.1.5 summary exit status</h4>
 
-<h4 class="subsection">summary exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
+<hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/scripts/summary.man.in.orig
+++ contrib/ntp/scripts/summary.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH summary 1summaryman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH summary 1summaryman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-AMaaJG/ag-NMaiIG)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 04:56:06 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:30 PM by AutoGen 5.18.5
 .\" From the definitions summary-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/summary.mdoc.in.orig
+++ contrib/ntp/scripts/summary.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt SUMMARY 1summarymdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (summary-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:56:08 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 05:04:31 PM by AutoGen 5.18.5
 .\"  From the definitions    summary-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/update-leap/Makefile.in.orig
+++ contrib/ntp/scripts/update-leap/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/scripts/update-leap/invoke-update-leap.texi.orig
+++ contrib/ntp/scripts/update-leap/invoke-update-leap.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-update-leap.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:55:50 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:22 PM by AutoGen 5.18.5
 # From the definitions    update-leap-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
--- contrib/ntp/scripts/update-leap/update-leap-opts.orig
+++ contrib/ntp/scripts/update-leap/update-leap-opts
@@ -1,6 +1,6 @@
 # EDIT THIS FILE WITH CAUTION  (update-leap-opts)
 #
-# It has been AutoGen-ed  February 27, 2018 at 04:32:15 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 05:04:25 PM by AutoGen 5.18.5
 # From the definitions    update-leap-opts.def
 # and the template file   perlopt
 
@@ -46,7 +46,7 @@
         'help|?', 'more-help'));
 
     $usage = <<'USAGE';
-update-leap - leap-seconds file manager/updater - Ver. 4.2.8p11
+update-leap - leap-seconds file manager/updater - Ver. 4.2.8p13
 USAGE: update-leap [ -<flag> [<val>] | --<name>[{=| }<val>] ]... 
 
     -s, --source-url=str         The URL of the master copy of the leapseconds file
--- contrib/ntp/scripts/update-leap/update-leap.1update-leapman.orig
+++ contrib/ntp/scripts/update-leap/update-leap.1update-leapman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH update-leap 1update-leapman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH update-leap 1update-leapman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-cKaOWT/ag-pKaWVT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:15 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:24 PM by AutoGen 5.18.5
 .\" From the definitions update-leap-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/update-leap/update-leap.1update-leapmdoc.orig
+++ contrib/ntp/scripts/update-leap/update-leap.1update-leapmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt UPDATE_LEAP 1update-leapmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (update-leap-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:55:53 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:38 AM by AutoGen 5.18.5
 .\"  From the definitions    update-leap-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/scripts/update-leap/update-leap.html.orig
+++ contrib/ntp/scripts/update-leap/update-leap.html
@@ -1,274 +1,396 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>update-leap User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="update-leap User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>update-leap User&rsquo;s Manual</title>
+
+<meta name="description" content="update-leap User&rsquo;s Manual">
+<meta name="keywords" content="update-leap User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">update-leap User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-Description">update-leap Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">update-leap User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<h1 class="node-heading">Top</h1>
 
-  <p>This document describes the use of the NTP Project's <code>update-leap</code> program.
+<p>This document describes the use of the NTP Project&rsquo;s <code>update-leap</code> program.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>update-leap</code>.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <p>This document applies to version 4.2.8p11 of <code>update-leap</code>.
+<div class="shortcontents">
+<li><a name="stoc-Invoking-update_002dleap" href="#toc-Invoking-update_002dleap">1 Invoking update-leap</a></li>
 
-<div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-</ul>
 </div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#update_002dleap-Description">update-leap Description</a>:             Description
-<li><a accesskey="2" href="#update_002dleap-Invocation">update-leap Invocation</a>: 		Invoking update-leap
-</ul>
 
-<div class="node">
-<p><hr>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; update-leap Description:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-Invocation" accesskey="2">update-leap Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking update-leap
+</td></tr>
+</table>
+
+<hr>
 <a name="update_002dleap-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Invoking-update_002dleap"></a>
+<h3 class="section">1 Invoking update-leap</h3>
+<a name="index-update_002dleap"></a>
+<a name="index-leap_002dseconds-file-manager_002fupdater"></a>
 
-<h3 class="section">0.1 Invoking update-leap</h3>
 
-<p><a name="index-update_002dleap-1"></a><a name="index-leap_002dseconds-file-manager_002fupdater-2"></a>
 
-  <p><code>update-leap</code>
+<p><code>update-leap</code>
 will validate the file currently on the local system
 and if necessary, updates leap-second definition file.
-
-  <p>Ordinarily, the file is found using the "leapfile" directive in
-<code>ntp.conf(5)</code>. 
+</p>
+<p>Ordinarily, the file is found using the &quot;leapfile&quot; directive in
+<code>ntp.conf(5)</code>.
 However, an alternate location can be specified on the command line.
-
-  <p>If the file does not exist, is not valid, has expired, or is expiring soon,
+</p>
+<p>If the file does not exist, is not valid, has expired, or is expiring soon,
 a new copy will be downloaded.  If the new copy validates, it is installed and
 NTP is (optionally) restarted.
-
-  <p>If the current file is acceptable, no download or restart occurs.
-
-  <p>-c can also be used to invoke another script to perform administrative
-functions, e.g. to copy the file to other local systems. 
+</p>
+<p>If the current file is acceptable, no download or restart occurs.
+</p>
+<p>-c can also be used to invoke another script to perform administrative
+functions, e.g. to copy the file to other local systems.
 .PP
 This can be run as a cron job.  As the file is rarely updated, and leap
 seconds are announced at least one month in advance (usually longer), it
-need not be run more frequently than about once every three weeks. 
+need not be run more frequently than about once every three weeks.
 .PP
-For cron-friendly behavior, define CRONJOB=1 in the crontab. 
+For cron-friendly behavior, define CRONJOB=1 in the crontab.
 .PP
 This script depends on$REQUIREDCMDS
-
-  <p>This section was generated by <strong>AutoGen</strong>,
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
 using the <code>agtexi-cmd</code> template and the option descriptions for the <code>update-leap</code> program.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-usage" accesskey="1">update-leap usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">update-leap help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-source_002durl" accesskey="2">update-leap source-url</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">source-url option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-ipv4" accesskey="3">update-leap ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv4 option (-4)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-destination" accesskey="4">update-leap destination</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">destination option (-d)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-expiration" accesskey="5">update-leap expiration</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">expiration option (-e)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-ntp_002dconf_002dfile" accesskey="6">update-leap ntp-conf-file</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntp-conf-file option (-f)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-force_002dupdate" accesskey="7">update-leap force-update</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">force-update option (-F)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-exit-status" accesskey="8">update-leap exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-Usage" accesskey="9">update-leap Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#update_002dleap-Authors">update-leap Authors</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authors
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#update_002dleap-usage">update-leap usage</a>:                   update-leap help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#update_002dleap-source_002durl">update-leap source-url</a>:              source-url option (-s)
-<li><a accesskey="3" href="#update_002dleap-ipv4">update-leap ipv4</a>:                    ipv4 option (-4)
-<li><a accesskey="4" href="#update_002dleap-destination">update-leap destination</a>:             destination option (-d)
-<li><a accesskey="5" href="#update_002dleap-expiration">update-leap expiration</a>:              expiration option (-e)
-<li><a accesskey="6" href="#update_002dleap-ntp_002dconf_002dfile">update-leap ntp-conf-file</a>:           ntp-conf-file option (-f)
-<li><a accesskey="7" href="#update_002dleap-force_002dupdate">update-leap force-update</a>:            force-update option (-F)
-<li><a accesskey="8" href="#update_002dleap-exit-status">update-leap exit status</a>:             exit status
-<li><a accesskey="9" href="#update_002dleap-Usage">update-leap Usage</a>:                   Usage
-<li><a href="#update_002dleap-Authors">update-leap Authors</a>:                 Authors
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="update_002dleap-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-source_002durl">update-leap source-url</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+<hr>
+<a name="update_002dleap-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-source_002durl" accesskey="n" rel="next">update-leap source-url</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="update_002dleap-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1 update-leap help/usage (<samp>--help</samp>)</h4>
+<a name="index-update_002dleap-help"></a>
 
-<h4 class="subsection">0.1.1 update-leap help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-update_002dleap-help-3"></a>
-This is the automatically generated usage text for update-leap.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for update-leap.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
+</p>
+<div class="example">
+<pre class="example">
 
-<pre class="example">
-</pre>
-  <div class="node">
-<p><hr>
-<a name="update_002dleap-source_002durl"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-ipv4">update-leap ipv4</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-usage">update-leap usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+Usage: update-leap [options]
+
+Verifies and if necessary, updates leap-second definition file
+
+All arguments are optional:  Default (or current value) shown:
+    -C    Absolute path to CA Cert (see SSL/TLS Considerations)
+    -D    Path to a CAdir (see SSL/TLS Considerations)
+    -e    Specify how long (in days) before expiration the file is to be
+              refreshed.  Note that larger values imply more frequent refreshes.
+          60
+    -F    Force update even if current file is OK and not close to expiring.
+    -f    Absolute path ntp.conf file (default /etc/ntp.conf)
+          /etc/ntp.conf
+    -h    show help
+    -i    Specify number of minutes between retries
+          10
+    -L    Absolute path to leapfile on the local system
+          (overrides value in ntp.conf)
+    -l    Specify the syslog(3) facility for logging
+          LOG_USER
+    -q    Only report errors (cannot be used with -v)
+    -r    Specify number of attempts to retrieve file
+          6
+    -s    Send output to syslog(3) - implied if STDOUT has no tty or redirected
+    -t    Send output to terminal - implied if STDOUT attached to terminal
+    -u    Specify the URL of the master copy to download
+          https://www.ietf.org/timezones/data/leap-seconds.list
+    -v    Verbose - show debug messages (cannot be used with -q)
+
+The following options are not (yet) implemented in the perl version:
+    -4    Use only IPv4
+    -6    Use only IPv6
+    -c    Command to restart NTP after installing a new file
+          &lt;none&gt; - ntpd checks file daily
+    -p 4|6
+          Prefer IPv4 or IPv6 (as specified) addresses, but use either
+
+update-leap will validate the file currently on the local system.
+
+Ordinarily, the leapfile is found using the 'leapfile' directive in
+/etc/ntp.conf.  However, an alternate location can be specified on the
+command line with the -L flag.
+
+If the leapfile does not exist, is not valid, has expired, or is
+expiring soon, a new copy will be downloaded.  If the new copy is
+valid, it is installed.
+
+If the current file is acceptable, no download or restart occurs.
+
+This can be run as a cron job.  As the file is rarely updated, and
+leap seconds are announced at least one month in advance (usually
+longer), it need not be run more frequently than about once every
+three weeks.
+
+SSL/TLS Considerations
+-----------------------
+The perl modules can usually locate the CA certificate used to verify
+the peer's identity.
+
+On BSDs, the default is typically the file /etc/ssl/certs.pem.  On
+Linux, the location is typically a path to a CAdir - a directory of
+symlinks named according to a hash of the certificates' subject names.
+
+The -C or -D options are available to pass in a location if no CA cert
+is found in the default location.
+
+External Dependencies
+---------------------
+The following perl modules are required:
+HTTP::Tiny         - version &gt;= 0.056
+IO::Socket::SSL - version &gt;= 1.56
+NET::SSLeay         - version &gt;= 1.49
+
+Version: 1.004
+</pre></div>
+
+<hr>
+<a name="update_002dleap-source_002durl"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-ipv4" accesskey="n" rel="next">update-leap ipv4</a>, Previous: <a href="#update_002dleap-usage" accesskey="p" rel="prev">update-leap usage</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="source_002durl-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.2 source-url option (-s)</h4>
+<a name="index-update_002dleap_002dsource_002durl"></a>
 
-<h4 class="subsection">0.1.2 source-url option (-s)</h4>
-
-<p><a name="index-update_002dleap_002dsource_002durl-4"></a>
-This is the &ldquo;the url of the master copy of the leapseconds file&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;the url of the master copy of the leapseconds file&rdquo; option.
+This option takes a string argument.
 Specify the URL of the master copy to download
 $LEAPSRC
-<div class="node">
-<p><hr>
-<a name="update_002dleap-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-destination">update-leap destination</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-source_002durl">update-leap source-url</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+</p><hr>
+<a name="update_002dleap-ipv4"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-destination" accesskey="n" rel="next">update-leap destination</a>, Previous: <a href="#update_002dleap-source_002durl" accesskey="p" rel="prev">update-leap source-url</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv4-option-_0028_002d4_0029"></a>
+<h4 class="subsection">1.3 ipv4 option (-4)</h4>
+<a name="index-update_002dleap_002dipv4"></a>
 
-<h4 class="subsection">0.1.3 ipv4 option (-4)</h4>
+<p>This is the &ldquo;use only ipv4 addresses for dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv6.
+</li></ul>
 
-<p><a name="index-update_002dleap_002dipv4-5"></a>
-This is the &ldquo;use only ipv4 addresses for dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv6. 
-</ul>
-
-  <p>Force DNS resolution of following host names on the command line
-        to the IPv4 namespace. 
+<p>Force DNS resolution of following host names on the command line
+        to the IPv4 namespace.
         _EndOfDoc_;
 ;
-
-  <p>flag = 
+</p>
+<p>flag = 
     name      = ipv6;
     flags-cant = ipv4, prefer;
     value     = 6;
-    descrip   = "Use only IPv6 addresses for DNS name resolution";
+    descrip   = &quot;Use only IPv6 addresses for DNS name resolution&quot;;
     doc = &lt;&lt;-  _EndOfDoc_
         Force DNS resolution of following host names on the command line
-        to the IPv6 namespace. 
+        to the IPv6 namespace.
         _EndOfDoc_;
 ;
-
-  <p>flag = 
+</p>
+<p>flag = 
     name        = prefer;
     flags-cant	= ipv4, ipv6;
     value	= p;
     arg-type    = keyword;
     keyword	= 4, 6;
-    descrip     = 'Prefer IPv4 or IPv6 (as specified) addresses, but use either';
+    descrip     = &rsquo;Prefer IPv4 or IPv6 (as specified) addresses, but use either&rsquo;;
     doc         = &lt;&lt;-  _EndOfDoc_
-Prefer IPv4 or IPv6 (as specified) addresses, but use either. 
-<div class="node">
-<p><hr>
-<a name="update_002dleap-destination"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-expiration">update-leap expiration</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-ipv4">update-leap ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+Prefer IPv4 or IPv6 (as specified) addresses, but use either.
+</p><hr>
+<a name="update_002dleap-destination"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-expiration" accesskey="n" rel="next">update-leap expiration</a>, Previous: <a href="#update_002dleap-ipv4" accesskey="p" rel="prev">update-leap ipv4</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="destination-option-_0028_002dd_0029"></a>
+<h4 class="subsection">1.4 destination option (-d)</h4>
+<a name="index-update_002dleap_002ddestination"></a>
 
-<h4 class="subsection">0.1.4 destination option (-d)</h4>
-
-<p><a name="index-update_002dleap_002ddestination-6"></a>
-This is the &ldquo;filename on the local system&rdquo; option. 
-This option takes a string argument <span class="file">float</span>. 
-The name to use to store the leapfile on the local system. 
+<p>This is the &ldquo;filename on the local system&rdquo; option.
+This option takes a string argument <samp>float</samp>.
+The name to use to store the leapfile on the local system.
 $LEAPFILE
-<div class="node">
-<p><hr>
-<a name="update_002dleap-expiration"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-ntp_002dconf_002dfile">update-leap ntp-conf-file</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-destination">update-leap destination</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+</p><hr>
+<a name="update_002dleap-expiration"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-ntp_002dconf_002dfile" accesskey="n" rel="next">update-leap ntp-conf-file</a>, Previous: <a href="#update_002dleap-destination" accesskey="p" rel="prev">update-leap destination</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="expiration-option-_0028_002de_0029"></a>
+<h4 class="subsection">1.5 expiration option (-e)</h4>
+<a name="index-update_002dleap_002dexpiration"></a>
 
-<h4 class="subsection">0.1.5 expiration option (-e)</h4>
-
-<p><a name="index-update_002dleap_002dexpiration-7"></a>
-This is the &ldquo;refresh the leapfile this long before it expires&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;refresh the leapfile this long before it expires&rdquo; option.
+This option takes a string argument.
 Specify how long before expiration the file is to be refreshed
-Units are required, e.g. "-e 60 days"  Note that larger values
-imply more frequent refreshes. 
-"$PREFETCH"
-<div class="node">
-<p><hr>
-<a name="update_002dleap-ntp_002dconf_002dfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-force_002dupdate">update-leap force-update</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-expiration">update-leap expiration</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+Units are required, e.g. &quot;-e 60 days&quot;  Note that larger values
+imply more frequent refreshes.
+&quot;$PREFETCH&quot;
+</p><hr>
+<a name="update_002dleap-ntp_002dconf_002dfile"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-force_002dupdate" accesskey="n" rel="next">update-leap force-update</a>, Previous: <a href="#update_002dleap-expiration" accesskey="p" rel="prev">update-leap expiration</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dconf_002dfile-option-_0028_002df_0029"></a>
+<h4 class="subsection">1.6 ntp-conf-file option (-f)</h4>
+<a name="index-update_002dleap_002dntp_002dconf_002dfile"></a>
 
-<h4 class="subsection">0.1.6 ntp-conf-file option (-f)</h4>
-
-<p><a name="index-update_002dleap_002dntp_002dconf_002dfile-8"></a>
-This is the &ldquo;location of the ntp.conf file&rdquo; option. 
-This option takes a string argument. 
+<p>This is the &ldquo;location of the ntp.conf file&rdquo; option.
+This option takes a string argument.
 Specify location of ntp.conf (used to make sure leapfile directive is
 present and to default  leapfile)
 /etc/ntp.conf
-<div class="node">
-<p><hr>
-<a name="update_002dleap-force_002dupdate"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-exit-status">update-leap exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-ntp_002dconf_002dfile">update-leap ntp-conf-file</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+</p><hr>
+<a name="update_002dleap-force_002dupdate"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-exit-status" accesskey="n" rel="next">update-leap exit status</a>, Previous: <a href="#update_002dleap-ntp_002dconf_002dfile" accesskey="p" rel="prev">update-leap ntp-conf-file</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="force_002dupdate-option-_0028_002dF_0029"></a>
+<h4 class="subsection">1.7 force-update option (-F)</h4>
+<a name="index-update_002dleap_002dforce_002dupdate"></a>
 
-<h4 class="subsection">0.1.7 force-update option (-F)</h4>
-
-<p><a name="index-update_002dleap_002dforce_002dupdate-9"></a>
-This is the &ldquo;force update of the leapfile&rdquo; option. 
-Force update even if current file is OK and not close to expiring. 
-<div class="node">
-<p><hr>
-<a name="update_002dleap-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-Usage">update-leap Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-force_002dupdate">update-leap force-update</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+<p>This is the &ldquo;force update of the leapfile&rdquo; option.
+Force update even if current file is OK and not close to expiring.
+</p><hr>
+<a name="update_002dleap-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-Usage" accesskey="n" rel="next">update-leap Usage</a>, Previous: <a href="#update_002dleap-force_002dupdate" accesskey="p" rel="prev">update-leap force-update</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="update_002dleap-exit-status-1"></a>
+<h4 class="subsection">1.8 update-leap exit status</h4>
 
-<h4 class="subsection">0.1.8 update-leap exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="update_002dleap-Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#update_002dleap-Authors">update-leap Authors</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-exit-status">update-leap exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+<hr>
+<a name="update_002dleap-Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#update_002dleap-Authors" accesskey="n" rel="next">update-leap Authors</a>, Previous: <a href="#update_002dleap-exit-status" accesskey="p" rel="prev">update-leap exit status</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">0.1.9 update-leap Usage</h4>
-
-<div class="node">
-<p><hr>
-<a name="update_002dleap-Authors"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#update_002dleap-Usage">update-leap Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#update_002dleap-Invocation">update-leap Invocation</a>
-<br>
+<a name="update_002dleap-Usage-1"></a>
+<h4 class="subsection">1.9 update-leap Usage</h4>
+<hr>
+<a name="update_002dleap-Authors"></a>
+<div class="header">
+<p>
+Previous: <a href="#update_002dleap-Usage" accesskey="p" rel="prev">update-leap Usage</a>, Up: <a href="#update_002dleap-Invocation" accesskey="u" rel="up">update-leap Invocation</a> &nbsp; </p>
 </div>
+<a name="update_002dleap-Authors-1"></a>
+<h4 class="subsection">1.10 update-leap Authors</h4>
+<hr>
 
-<h4 class="subsection">0.1.10 update-leap Authors</h4>
 
-</body></html>
 
+</body>
+</html>
--- contrib/ntp/scripts/update-leap/update-leap.man.in.orig
+++ contrib/ntp/scripts/update-leap/update-leap.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH update-leap 1update-leapman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH update-leap 1update-leapman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-cKaOWT/ag-pKaWVT)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 10:50:15 AM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 05:04:24 PM by AutoGen 5.18.5
 .\" From the definitions update-leap-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/scripts/update-leap/update-leap.mdoc.in.orig
+++ contrib/ntp/scripts/update-leap/update-leap.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt UPDATE_LEAP 1update-leapmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (update-leap-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 04:55:53 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:38 AM by AutoGen 5.18.5
 .\"  From the definitions    update-leap-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/sntp/COPYRIGHT.orig
+++ contrib/ntp/sntp/COPYRIGHT
@@ -1,16 +1,15 @@
 This file is automatically generated from html/copyright.html
+  Copyright Notice
 
-  Copyright Notice
-  
    jpg "Clone me," says Dolly sheepishly.
-   
+
    Last update: 2-Jan-2017 11:58 UTC
-     _________________________________________________________________
-   
-   The following copyright notice applies to all files collectively
-   called the Network Time Protocol Version 4 Distribution. Unless
-   specifically declared otherwise in an individual file, this entire
-   notice applies as if the text was explicitly included in the file.
+     __________________________________________________________________
+
+   The following copyright notice applies to all files collectively called
+   the Network Time Protocol Version 4 Distribution. Unless specifically
+   declared otherwise in an individual file, this entire notice applies as
+   if the text was explicitly included in the file.
 ***********************************************************************
 *                                                                     *
 * Copyright (c) University of Delaware 1992-2015                      *
@@ -62,13 +61,13 @@
 ***********************************************************************
 
    The following individuals contributed in part to the Network Time
-   Protocol Distribution Version 4 and are acknowledged as authors of
-   this work.
+   Protocol Distribution Version 4 and are acknowledged as authors of this
+   work.
     1. [1]Takao Abe <takao_abe@xurb.jp> Clock driver for JJY receivers
     2. [2]Mark Andrews <mark_andrews@isc.org> Leitch atomic clock
        controller
-    3. [3]Bernd Altmeier <altmeier@atlsoft.de> hopf Elektronik serial
-       line and PCI-bus devices
+    3. [3]Bernd Altmeier <altmeier@atlsoft.de> hopf Elektronik serial line
+       and PCI-bus devices
     4. [4]Viraj Bais <vbais@mailman1.intel.com> and [5]Clayton Kirkwood
        <kirkwood@striderfm.intel.com> port to WindowsNT 3.5
     5. [6]Michael Barone <michael,barone@lmco.com> GPSVME fixes
@@ -84,13 +83,12 @@
        <Jean-Francois.Boudreault@viagenie.qc.ca> IPv6 support
    12. [13]Reg Clemens <reg@dwf.com> Oncore driver (Current maintainer)
    13. [14]Steve Clift <clift@ml.csiro.au> OMEGA clock driver
-   14. [15]Casey Crellin <casey@csc.co.za> vxWorks (Tornado) port and
-       help with target configuration
+   14. [15]Casey Crellin <casey@csc.co.za> vxWorks (Tornado) port and help
+       with target configuration
    15. [16]Sven Dietrich <sven_dietrich@trimble.com> Palisade reference
        clock driver, NT adj. residuals, integrated Greg's Winnt port.
    16. [17]John A. Dundas III <dundas@salt.jpl.nasa.gov> Apple A/UX port
-   17. [18]Torsten Duwe <duwe@immd4.informatik.uni-erlangen.de> Linux
-       port
+   17. [18]Torsten Duwe <duwe@immd4.informatik.uni-erlangen.de> Linux port
    18. [19]Dennis Ferguson <dennis@mrbill.canet.ca> foundation code for
        NTP Version 2 as specified in RFC-1119
    19. [20]John Hay <jhay@icomtek.csir.co.za> IPv6 support and testing
@@ -122,9 +120,8 @@
        code for Version 3 as specified in RFC-1305
    36. [39]Danny Mayer <mayer@ntp.org>Network I/O, Windows Port, Code
        Maintenance
-   37. [40]David L. Mills <mills@udel.edu> Version 4 foundation,
-       precision kernel; clock drivers: 1, 3, 4, 6, 7, 11, 13, 18, 19,
-       22, 36
+   37. [40]David L. Mills <mills@udel.edu> Version 4 foundation, precision
+       kernel; clock drivers: 1, 3, 4, 6, 7, 11, 13, 18, 19, 22, 36
    38. [41]Wolfgang Moeller <moeller@gwdgv1.dnet.gwdg.de> VMS port
    39. [42]Jeffrey Mogul <mogul@pa.dec.com> ntptrace utility
    40. [43]Tom Moore <tmoore@fievel.daytonoh.ncr.com> i386 svr4 port
@@ -136,22 +133,18 @@
    44. [48]Rainer Pruy <Rainer.Pruy@informatik.uni-erlangen.de>
        monitoring/trap scripts, statistics file handling
    45. [49]Dirce Richards <dirce@zk3.dec.com> Digital UNIX V4.0 port
-   46. [50]Wilfredo Sánchez <wsanchez@apple.com> added support for
-       NetInfo
+   46. [50]Wilfredo Sánchez <wsanchez@apple.com> added support for NetInfo
    47. [51]Nick Sayer <mrapple@quack.kfu.com> SunOS streams modules
    48. [52]Jack Sasportas <jack@innovativeinternet.com> Saved a Lot of
        space on the stuff in the html/pic/ subdirectory
    49. [53]Ray Schnitzler <schnitz@unipress.com> Unixware1 port
    50. [54]Michael Shields <shields@tembel.org> USNO clock driver
-   51. [55]Jeff Steinman <jss@pebbles.jpl.nasa.gov> Datum PTS clock
-       driver
+   51. [55]Jeff Steinman <jss@pebbles.jpl.nasa.gov> Datum PTS clock driver
    52. [56]Harlan Stenn <harlan@pfcs.com> GNU automake/autoconfigure
        makeover, various other bits (see the ChangeLog)
    53. [57]Kenneth Stone <ken@sdd.hp.com> HP-UX port
-   54. [58]Ajit Thyagarajan <ajit@ee.udel.edu>IP multicast/anycast
-       support
-   55. [59]Tomoaki TSURUOKA <tsuruoka@nc.fukuoka-u.ac.jp>TRAK clock
-       driver
+   54. [58]Ajit Thyagarajan <ajit@ee.udel.edu>IP multicast/anycast support
+   55. [59]Tomoaki TSURUOKA <tsuruoka@nc.fukuoka-u.ac.jp>TRAK clock driver
    56. [60]Brian Utterback <brian.utterback@oracle.com> General codebase,
        Solaris issues
    57. [61]Loganaden Velvindron <loganaden@gmail.com> Sandboxing
@@ -160,7 +153,7 @@
        TrueTime clock driver
    59. [63]Ulrich Windl <Ulrich.Windl@rz.uni-regensburg.de> corrected and
        validated HTML documents according to the HTML DTD
-     _________________________________________________________________
+     __________________________________________________________________
 
 References
 
--- contrib/ntp/sntp/Makefile.in.orig
+++ contrib/ntp/sntp/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1211,7 +1211,7 @@
 	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
 	|| chmod -R a+r "$(distdir)"
 dist-gzip: distdir
-	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
+	tardir=$(distdir) && $(am__tar) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).tar.gz
 	$(am__post_remove_distdir)
 
 dist-bzip2: distdir
@@ -1237,7 +1237,7 @@
 	@echo WARNING: "Support for shar distribution archives is" \
 	               "deprecated." >&2
 	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
-	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
+	shar $(distdir) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).shar.gz
 	$(am__post_remove_distdir)
 
 dist-zip: distdir
@@ -1255,7 +1255,7 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).tar.gz | $(am__untar) ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\
 	*.tar.lz*) \
@@ -1265,7 +1265,7 @@
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).shar.gz | unshar ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
 	esac
--- contrib/ntp/sntp/aclocal.m4.orig
+++ contrib/ntp/sntp/aclocal.m4
@@ -1,6 +1,6 @@
-# generated automatically by aclocal 1.15 -*- Autoconf -*-
+# generated automatically by aclocal 1.15.1 -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -20,126 +20,121 @@
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically 'autoreconf'.])])
 
-# serial 9  -*- Autoconf -*-
-# Enable extensions on systems that normally disable them.
+# longlong.m4 serial 17
+dnl Copyright (C) 1999-2007, 2009-2016 Free Software Foundation, Inc.
+dnl This file is free software; the Free Software Foundation
+dnl gives unlimited permission to copy and/or distribute it,
+dnl with or without modifications, as long as this notice is preserved.
 
-# Copyright (C) 2003, 2006-2010 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
+dnl From Paul Eggert.
 
-# This definition of AC_USE_SYSTEM_EXTENSIONS is stolen from CVS
-# Autoconf.  Perhaps we can remove this once we can assume Autoconf
-# 2.62 or later everywhere, but since CVS Autoconf mutates rapidly
-# enough in this area it's likely we'll need to redefine
-# AC_USE_SYSTEM_EXTENSIONS for quite some time.
+# Define HAVE_LONG_LONG_INT if 'long long int' works.
+# This fixes a bug in Autoconf 2.61, and can be faster
+# than what's in Autoconf 2.62 through 2.68.
 
-# If autoconf reports a warning
-#     warning: AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# or  warning: AC_RUN_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# the fix is
-#   1) to ensure that AC_USE_SYSTEM_EXTENSIONS is never directly invoked
-#      but always AC_REQUIREd,
-#   2) to ensure that for each occurrence of
-#        AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
-#      or
-#        AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
-#      the corresponding gnulib module description has 'extensions' among
-#      its dependencies. This will ensure that the gl_USE_SYSTEM_EXTENSIONS
-#      invocation occurs in gl_EARLY, not in gl_INIT.
+# Note: If the type 'long long int' exists but is only 32 bits large
+# (as on some very old compilers), HAVE_LONG_LONG_INT will not be
+# defined. In this case you can treat 'long long int' like 'long int'.
 
-# AC_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-# Remember that #undef in AH_VERBATIM gets replaced with #define by
-# AC_DEFINE.  The goal here is to define all known feature-enabling
-# macros, then, if reports of conflicts are made, disable macros that
-# cause problems on some platforms (such as __EXTENSIONS__).
-AC_DEFUN_ONCE([AC_USE_SYSTEM_EXTENSIONS],
-[AC_BEFORE([$0], [AC_COMPILE_IFELSE])dnl
-AC_BEFORE([$0], [AC_RUN_IFELSE])dnl
+AC_DEFUN([AC_TYPE_LONG_LONG_INT],
+[
+  AC_REQUIRE([AC_TYPE_UNSIGNED_LONG_LONG_INT])
+  AC_CACHE_CHECK([for long long int], [ac_cv_type_long_long_int],
+     [ac_cv_type_long_long_int=yes
+      if test "x${ac_cv_prog_cc_c99-no}" = xno; then
+        ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
+        if test $ac_cv_type_long_long_int = yes; then
+          dnl Catch a bug in Tandem NonStop Kernel (OSS) cc -O circa 2004.
+          dnl If cross compiling, assume the bug is not important, since
+          dnl nobody cross compiles for this platform as far as we know.
+          AC_RUN_IFELSE(
+            [AC_LANG_PROGRAM(
+               [[@%:@include <limits.h>
+                 @%:@ifndef LLONG_MAX
+                 @%:@ define HALF \
+                          (1LL << (sizeof (long long int) * CHAR_BIT - 2))
+                 @%:@ define LLONG_MAX (HALF - 1 + HALF)
+                 @%:@endif]],
+               [[long long int n = 1;
+                 int i;
+                 for (i = 0; ; i++)
+                   {
+                     long long int m = n << i;
+                     if (m >> i != n)
+                       return 1;
+                     if (LLONG_MAX / 2 < m)
+                       break;
+                   }
+                 return 0;]])],
+            [],
+            [ac_cv_type_long_long_int=no],
+            [:])
+        fi
+      fi])
+  if test $ac_cv_type_long_long_int = yes; then
+    AC_DEFINE([HAVE_LONG_LONG_INT], [1],
+      [Define to 1 if the system has the type 'long long int'.])
+  fi
+])
 
-  AC_REQUIRE([AC_CANONICAL_HOST])
+# Define HAVE_UNSIGNED_LONG_LONG_INT if 'unsigned long long int' works.
+# This fixes a bug in Autoconf 2.61, and can be faster
+# than what's in Autoconf 2.62 through 2.68.
 
-  AC_CHECK_HEADER([minix/config.h], [MINIX=yes], [MINIX=])
-  if test "$MINIX" = yes; then
-    AC_DEFINE([_POSIX_SOURCE], [1],
-      [Define to 1 if you need to in order for `stat' and other
-       things to work.])
-    AC_DEFINE([_POSIX_1_SOURCE], [2],
-      [Define to 2 if the system does not provide POSIX.1 features
-       except with this defined.])
-    AC_DEFINE([_MINIX], [1],
-      [Define to 1 if on MINIX.])
+# Note: If the type 'unsigned long long int' exists but is only 32 bits
+# large (as on some very old compilers), AC_TYPE_UNSIGNED_LONG_LONG_INT
+# will not be defined. In this case you can treat 'unsigned long long int'
+# like 'unsigned long int'.
+
+AC_DEFUN([AC_TYPE_UNSIGNED_LONG_LONG_INT],
+[
+  AC_CACHE_CHECK([for unsigned long long int],
+    [ac_cv_type_unsigned_long_long_int],
+    [ac_cv_type_unsigned_long_long_int=yes
+     if test "x${ac_cv_prog_cc_c99-no}" = xno; then
+       AC_LINK_IFELSE(
+         [_AC_TYPE_LONG_LONG_SNIPPET],
+         [],
+         [ac_cv_type_unsigned_long_long_int=no])
+     fi])
+  if test $ac_cv_type_unsigned_long_long_int = yes; then
+    AC_DEFINE([HAVE_UNSIGNED_LONG_LONG_INT], [1],
+      [Define to 1 if the system has the type 'unsigned long long int'.])
   fi
-
-  dnl HP-UX 11.11 defines mbstate_t only if _XOPEN_SOURCE is defined to 500,
-  dnl regardless of whether the flags -Ae or _D_HPUX_SOURCE=1 are already
-  dnl provided.
-  case "$host_os" in
-    hpux*)
-      AC_DEFINE([_XOPEN_SOURCE], [500],
-        [Define to 500 only on HP-UX.])
-      ;;
-  esac
-
-  AH_VERBATIM([__EXTENSIONS__],
-[/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
 ])
-  AC_CACHE_CHECK([whether it is safe to define __EXTENSIONS__],
-    [ac_cv_safe_to_define___extensions__],
-    [AC_COMPILE_IFELSE(
-       [AC_LANG_PROGRAM([[
-#         define __EXTENSIONS__ 1
-          ]AC_INCLUDES_DEFAULT])],
-       [ac_cv_safe_to_define___extensions__=yes],
-       [ac_cv_safe_to_define___extensions__=no])])
-  test $ac_cv_safe_to_define___extensions__ = yes &&
-    AC_DEFINE([__EXTENSIONS__])
-  AC_DEFINE([_ALL_SOURCE])
-  AC_DEFINE([_GNU_SOURCE])
-  AC_DEFINE([_POSIX_PTHREAD_SEMANTICS])
-  AC_DEFINE([_TANDEM_SOURCE])
-])# AC_USE_SYSTEM_EXTENSIONS
 
-# gl_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-AC_DEFUN_ONCE([gl_USE_SYSTEM_EXTENSIONS],
+# Expands to a C program that can be used to test for simultaneous support
+# of 'long long' and 'unsigned long long'. We don't want to say that
+# 'long long' is available if 'unsigned long long' is not, or vice versa,
+# because too many programs rely on the symmetry between signed and unsigned
+# integer types (excluding 'bool').
+AC_DEFUN([_AC_TYPE_LONG_LONG_SNIPPET],
 [
-  dnl Require this macro before AC_USE_SYSTEM_EXTENSIONS.
-  dnl gnulib does not need it. But if it gets required by third-party macros
-  dnl after AC_USE_SYSTEM_EXTENSIONS is required, autoconf 2.62..2.63 emit a
-  dnl warning: "AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS".
-  dnl Note: We can do this only for one of the macros AC_AIX, AC_GNU_SOURCE,
-  dnl AC_MINIX. If people still use AC_AIX or AC_MINIX, they are out of luck.
-  AC_REQUIRE([AC_GNU_SOURCE])
-
-  AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
+  AC_LANG_PROGRAM(
+    [[/* For now, do not test the preprocessor; as of 2007 there are too many
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
+      /* Test literals.  */
+      long long int ll = 9223372036854775807ll;
+      long long int nll = -9223372036854775807LL;
+      unsigned long long int ull = 18446744073709551615ULL;
+      /* Test constant expressions.   */
+      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
+                     ? 1 : -1)];
+      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
+                     ? 1 : -1)];
+      int i = 63;]],
+    [[/* Test availability of runtime routines for shift and division.  */
+      long long int llmax = 9223372036854775807ll;
+      unsigned long long int ullmax = 18446744073709551615ull;
+      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));]])
 ])
 
-# Copyright (C) 2002-2014 Free Software Foundation, Inc.
+# Copyright (C) 2002-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -154,7 +149,7 @@
 [am__api_version='1.15'
 dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
 dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.15], [],
+m4_if([$1], [1.15.1], [],
       [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
 ])
 
@@ -170,12 +165,12 @@
 # Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
 # This function is AC_REQUIREd by AM_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.15])dnl
+[AM_AUTOMAKE_VERSION([1.15.1])dnl
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
 _AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
 
-# Copyright (C) 2011-2014 Free Software Foundation, Inc.
+# Copyright (C) 2011-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -237,7 +232,7 @@
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -289,7 +284,7 @@
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -320,7 +315,7 @@
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -511,7 +506,7 @@
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -587,7 +582,7 @@
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -784,7 +779,7 @@
 done
 echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -805,7 +800,7 @@
 fi
 AC_SUBST([install_sh])])
 
-# Copyright (C) 2003-2014 Free Software Foundation, Inc.
+# Copyright (C) 2003-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -826,7 +821,7 @@
 
 # Check to see how 'make' treats includes.	            -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -876,7 +871,7 @@
 
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -915,7 +910,7 @@
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -944,7 +939,7 @@
 AC_DEFUN([_AM_IF_OPTION],
 [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -991,7 +986,7 @@
 # For backward compatibility.
 AC_DEFUN_ONCE([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC])])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1010,7 +1005,7 @@
 
 # Check to make sure that the build environment is sane.    -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1091,7 +1086,7 @@
 rm -f conftest.file
 ])
 
-# Copyright (C) 2009-2014 Free Software Foundation, Inc.
+# Copyright (C) 2009-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1151,7 +1146,7 @@
 _AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
 ])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1179,7 +1174,7 @@
 INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006-2014 Free Software Foundation, Inc.
+# Copyright (C) 2006-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1198,7 +1193,7 @@
 
 # Check how to create a tarball.                            -*- Autoconf -*-
 
-# Copyright (C) 2004-2014 Free Software Foundation, Inc.
+# Copyright (C) 2004-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/config.h.in.orig
+++ contrib/ntp/sntp/config.h.in
@@ -194,7 +194,7 @@
 /* Define to 1 if the system has the type `long long'. */
 #undef HAVE_LONG_LONG
 
-/* Define to 1 if the system has the type `long long int'. */
+/* Define to 1 if the system has the type 'long long int'. */
 #undef HAVE_LONG_LONG_INT
 
 /* if you have SunOS LWP package */
@@ -260,6 +260,12 @@
 /* if you have NT Threads */
 #undef HAVE_NT_THREADS
 
+/* Define to 1 if you have the <openssl/cmac.h> header file. */
+#undef HAVE_OPENSSL_CMAC_H
+
+/* Define to 1 if you have the <openssl/hmac.h> header file. */
+#undef HAVE_OPENSSL_HMAC_H
+
 /* Define this if pathfind(3) works */
 #undef HAVE_PATHFIND
 
@@ -477,6 +483,9 @@
 /* Define to 1 if you have the <sys/limits.h> header file. */
 #undef HAVE_SYS_LIMITS_H
 
+/* Define to 1 if you have the <sys/mac.h> header file. */
+#undef HAVE_SYS_MAC_H
+
 /* Define to 1 if you have the <sys/mman.h> header file. */
 #undef HAVE_SYS_MMAN_H
 
@@ -556,6 +565,9 @@
 /* Define to 1 if you have the <time.h> header file. */
 #undef HAVE_TIME_H
 
+/* Are TrustedBSD MAC policy privileges available? */
+#undef HAVE_TRUSTEDBSD_MAC
+
 /* Define to 1 if the system has the type `uint16_t'. */
 #undef HAVE_UINT16_T
 
@@ -580,7 +592,7 @@
 /* deviant sigwait? */
 #undef HAVE_UNIXWARE_SIGWAIT
 
-/* Define to 1 if the system has the type `unsigned long long int'. */
+/* Define to 1 if the system has the type 'unsigned long long int'. */
 #undef HAVE_UNSIGNED_LONG_LONG_INT
 
 /* Define to 1 if you have the <utime.h> header file. */
@@ -840,6 +852,28 @@
 /* OK to use snprintb()? */
 #undef USE_SNPRINTB
 
+/* Enable extensions on AIX 3, Interix.  */
+#ifndef _ALL_SOURCE
+# undef _ALL_SOURCE
+#endif
+/* Enable GNU extensions on systems that have them.  */
+#ifndef _GNU_SOURCE
+# undef _GNU_SOURCE
+#endif
+/* Enable threading extensions on Solaris.  */
+#ifndef _POSIX_PTHREAD_SEMANTICS
+# undef _POSIX_PTHREAD_SEMANTICS
+#endif
+/* Enable extensions on HP NonStop.  */
+#ifndef _TANDEM_SOURCE
+# undef _TANDEM_SOURCE
+#endif
+/* Enable general extensions on Solaris.  */
+#ifndef __EXTENSIONS__
+# undef __EXTENSIONS__
+#endif
+
+
 /* Can we use SIGPOLL for tty IO? */
 #undef USE_TTY_SIGPOLL
 
@@ -892,9 +926,6 @@
 /* enable thread safety */
 #undef _THREAD_SAFE
 
-/* Define to 500 only on HP-UX. */
-#undef _XOPEN_SOURCE
-
 /* Are we _special_? */
 #undef __APPLE_USE_RFC_3542
 
@@ -903,28 +934,6 @@
 # undef __CHAR_UNSIGNED__
 #endif
 
-/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
-
-
 /* Define to empty if `const' does not conform to ANSI C. */
 #undef const
 
--- contrib/ntp/sntp/configure.orig
+++ contrib/ntp/sntp/configure
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.69 for sntp 4.2.8p11.
+# Generated by GNU Autoconf 2.69 for sntp 4.2.8p13.
 #
 # Report bugs to <http://bugs.ntp.org./>.
 #
@@ -590,8 +590,8 @@
 # Identity of this package.
 PACKAGE_NAME='sntp'
 PACKAGE_TARNAME='sntp'
-PACKAGE_VERSION='4.2.8p11'
-PACKAGE_STRING='sntp 4.2.8p11'
+PACKAGE_VERSION='4.2.8p13'
+PACKAGE_STRING='sntp 4.2.8p13'
 PACKAGE_BUGREPORT='http://bugs.ntp.org./'
 PACKAGE_URL='http://www.ntp.org./'
 
@@ -907,6 +907,8 @@
 enable_clockctl
 enable_linuxcaps
 enable_solarisprivs
+enable_trustedbsd_mac
+enable_signalled_io
 enable_shared
 enable_static
 with_pic
@@ -1484,7 +1486,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures sntp 4.2.8p11 to adapt to many kinds of systems.
+\`configure' configures sntp 4.2.8p13 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1554,7 +1556,7 @@
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of sntp 4.2.8p11:";;
+     short | recursive ) echo "Configuration of sntp 4.2.8p13:";;
    esac
   cat <<\_ACEOF
 
@@ -1575,6 +1577,9 @@
   --enable-clockctl       s Use /dev/clockctl for non-root clock control
   --enable-linuxcaps      + Use Linux capabilities for non-root clock control
   --enable-solarisprivs   + Use Solaris privileges for non-root clock control
+  --enable-trustedbsd-mac s Use TrustedBSD MAC policy for non-root clock
+                          control
+  --enable-signalled-io   s Use signalled IO if we can
   --enable-shared[=PKGS]  build shared libraries [default=no]
   --enable-static[=PKGS]  build static libraries [default=yes]
   --enable-fast-install[=PKGS]
@@ -1702,7 +1707,7 @@
 test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
-sntp configure 4.2.8p11
+sntp configure 4.2.8p13
 generated by GNU Autoconf 2.69
 
 Copyright (C) 2012 Free Software Foundation, Inc.
@@ -2411,7 +2416,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by sntp $as_me 4.2.8p11, which was
+It was created by sntp $as_me 4.2.8p13, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   $ $0 $@
@@ -3408,7 +3413,7 @@
 
 # Define the identity of the package.
  PACKAGE='sntp'
- VERSION='4.2.8p11'
+ VERSION='4.2.8p13'
 
 
 cat >>confdefs.h <<_ACEOF
@@ -4881,8 +4886,6 @@
 
 
 
-
-
   ac_fn_c_check_header_mongrel "$LINENO" "minix/config.h" "ac_cv_header_minix_config_h" "$ac_includes_default"
 if test "x$ac_cv_header_minix_config_h" = xyes; then :
   MINIX=yes
@@ -4903,15 +4906,7 @@
 
   fi
 
-        case "$host_os" in
-    hpux*)
 
-$as_echo "#define _XOPEN_SOURCE 500" >>confdefs.h
-
-      ;;
-  esac
-
-
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
 $as_echo_n "checking whether it is safe to define __EXTENSIONS__... " >&6; }
 if ${ac_cv_safe_to_define___extensions__+:} false; then :
@@ -6762,9 +6757,9 @@
 /* end confdefs.h.  */
 
   /* For now, do not test the preprocessor; as of 2007 there are too many
-	 implementations with broken preprocessors.  Perhaps this can
-	 be revisited in 2012.  In the meantime, code should not expect
-	 #if to work with literals wider than 32 bits.  */
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
       /* Test literals.  */
       long long int ll = 9223372036854775807ll;
       long long int nll = -9223372036854775807LL;
@@ -6771,9 +6766,9 @@
       unsigned long long int ull = 18446744073709551615ULL;
       /* Test constant expressions.   */
       typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       int i = 63;
 int
 main ()
@@ -6782,9 +6777,9 @@
       long long int llmax = 9223372036854775807ll;
       unsigned long long int ullmax = 18446744073709551615ull;
       return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
-	      | (llmax / ll) | (llmax % ll)
-	      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
-	      | (ullmax / ull) | (ullmax % ull));
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));
   ;
   return 0;
 }
@@ -6972,33 +6967,33 @@
 else
   ac_cv_type_long_long_int=yes
       if test "x${ac_cv_prog_cc_c99-no}" = xno; then
-	ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
-	if test $ac_cv_type_long_long_int = yes; then
-	  	  	  	  if test "$cross_compiling" = yes; then :
+        ac_cv_type_long_long_int=$ac_cv_type_unsigned_long_long_int
+        if test $ac_cv_type_long_long_int = yes; then
+                                        if test "$cross_compiling" = yes; then :
   :
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <limits.h>
-		 #ifndef LLONG_MAX
-		 # define HALF \
-			  (1LL << (sizeof (long long int) * CHAR_BIT - 2))
-		 # define LLONG_MAX (HALF - 1 + HALF)
-		 #endif
+                 #ifndef LLONG_MAX
+                 # define HALF \
+                          (1LL << (sizeof (long long int) * CHAR_BIT - 2))
+                 # define LLONG_MAX (HALF - 1 + HALF)
+                 #endif
 int
 main ()
 {
 long long int n = 1;
-		 int i;
-		 for (i = 0; ; i++)
-		   {
-		     long long int m = n << i;
-		     if (m >> i != n)
-		       return 1;
-		     if (LLONG_MAX / 2 < m)
-		       break;
-		   }
-		 return 0;
+                 int i;
+                 for (i = 0; ; i++)
+                   {
+                     long long int m = n << i;
+                     if (m >> i != n)
+                       return 1;
+                     if (LLONG_MAX / 2 < m)
+                       break;
+                   }
+                 return 0;
   ;
   return 0;
 }
@@ -7012,7 +7007,7 @@
   conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 
-	fi
+        fi
       fi
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_long_long_int" >&5
@@ -7035,9 +7030,9 @@
 /* end confdefs.h.  */
 
   /* For now, do not test the preprocessor; as of 2007 there are too many
-	 implementations with broken preprocessors.  Perhaps this can
-	 be revisited in 2012.  In the meantime, code should not expect
-	 #if to work with literals wider than 32 bits.  */
+         implementations with broken preprocessors.  Perhaps this can
+         be revisited in 2012.  In the meantime, code should not expect
+         #if to work with literals wider than 32 bits.  */
       /* Test literals.  */
       long long int ll = 9223372036854775807ll;
       long long int nll = -9223372036854775807LL;
@@ -7044,9 +7039,9 @@
       unsigned long long int ull = 18446744073709551615ULL;
       /* Test constant expressions.   */
       typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1
-		     ? 1 : -1)];
+                     ? 1 : -1)];
       int i = 63;
 int
 main ()
@@ -7055,9 +7050,9 @@
       long long int llmax = 9223372036854775807ll;
       unsigned long long int ullmax = 18446744073709551615ull;
       return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)
-	      | (llmax / ll) | (llmax % ll)
-	      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
-	      | (ullmax / ull) | (ullmax % ull));
+              | (llmax / ll) | (llmax % ll)
+              | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)
+              | (ullmax / ull) | (ullmax % ull));
   ;
   return 0;
 }
@@ -14696,12 +14691,51 @@
 
 $as_echo "#define HAVE_SOLARIS_PRIVS 1" >>confdefs.h
 
+    ;;
+ '') ntp_have_solarisprivs="no"
+    ;;
 esac
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ntp_have_solarisprivs" >&5
 $as_echo "$ntp_have_solarisprivs" >&6; }
 
-case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs" in
+for ac_header in sys/mac.h
+do :
+  ac_fn_c_check_header_mongrel "$LINENO" "sys/mac.h" "ac_cv_header_sys_mac_h" "$ac_includes_default"
+if test "x$ac_cv_header_sys_mac_h" = xyes; then :
+  cat >>confdefs.h <<_ACEOF
+#define HAVE_SYS_MAC_H 1
+_ACEOF
+
+fi
+
+done
+
+
+# Check whether --enable-trustedbsd_mac was given.
+if test "${enable_trustedbsd_mac+set}" = set; then :
+  enableval=$enable_trustedbsd_mac; ntp_use_trustedbsd_mac=$enableval
+
+fi
+
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should use TrustedBSD MAC privileges" >&5
+$as_echo_n "checking if we should use TrustedBSD MAC privileges... " >&6; }
+
+case "$ntp_use_trustedbsd_mac$ac_cv_header_sys_mac_h" in
+ yesyes)
+
+$as_echo "#define HAVE_TRUSTEDBSD_MAC 1" >>confdefs.h
+
+    ;;
+ *) ntp_use_trustedbsd_mac="no";
+    ;;
+esac
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ntp_use_trustedbsd_mac" >&5
+$as_echo "$ntp_use_trustedbsd_mac" >&6; }
+
+case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs$ntp_use_trustedbsd_mac" in
  *yes*)
 
 $as_echo "#define HAVE_DROPROOT 1" >>confdefs.h
@@ -15215,6 +15249,16 @@
 done
 
 
+# HMS: does this need to be a cached variable?
+# Check whether --enable-signalled-io was given.
+if test "${enable_signalled_io+set}" = set; then :
+  enableval=$enable_signalled_io; use_signalled_io=$enableval
+else
+  use_signalled_io=yes
+
+fi
+
+
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SIGIO" >&5
 $as_echo_n "checking for SIGIO... " >&6; }
 if ${ntp_cv_hdr_def_sigio+:} false; then :
@@ -15289,13 +15333,24 @@
 	ans=no
 	;;
     esac
+    case "$ans" in
+     no)
+	ans="Possible for $host but disabled because of reported problems"
+	;;
+    esac
     ;;
 esac
 case "$ans" in
  yes)
+    case "$use_signalled_io" in
+     yes)
 
 $as_echo "#define HAVE_SIGNALED_IO 1" >>confdefs.h
 
+	;;
+     *) ans="Allowed for $host but --disable-signalled-io was given"
+	;;
+    esac
 esac
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ans" >&5
 $as_echo "$ans" >&6; }
@@ -25297,7 +25352,20 @@
 
 case "$ntp_openssl" in
  yes)
+    for ac_header in openssl/cmac.h openssl/hmac.h
+do :
+  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
+ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
+  cat >>confdefs.h <<_ACEOF
+#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
+_ACEOF
 
+fi
+
+done
+
+
 $as_echo "#define OPENSSL /**/" >>confdefs.h
 
     case "$VER_SUFFIX" in
@@ -27078,7 +27146,7 @@
 # report actual input values of CONFIG_FILES etc. instead of their
 # values after options handling.
 ac_log="
-This file was extended by sntp $as_me 4.2.8p11, which was
+This file was extended by sntp $as_me 4.2.8p13, which was
 generated by GNU Autoconf 2.69.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -27145,7 +27213,7 @@
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
-sntp config.status 4.2.8p11
+sntp config.status 4.2.8p13
 configured by $0, generated by GNU Autoconf 2.69,
   with options \\"\$ac_cs_config\\"
 
--- contrib/ntp/sntp/crypto.c.orig
+++ contrib/ntp/sntp/crypto.c
@@ -12,13 +12,6 @@
 #include "isc/string.h"
 #include "ntp_md5.h"
 
-/* HMS: We may not have OpenSSL, but we have our own AES-128-CMAC */
-#define  CMAC		"AES128CMAC"
-#ifdef OPENSSL
-# include "openssl/cmac.h"
-# define  AES_128_KEY_SIZE	16
-#endif /* OPENSSL */
-
 #ifndef EVP_MAX_MD_SIZE
 # define EVP_MAX_MD_SIZE 32
 #endif
@@ -45,7 +38,7 @@
 	INIT_SSL();
 	key_type = keytype_from_text(macname, NULL);
 
-#ifdef OPENSSL
+#if defined(OPENSSL) && defined(ENABLE_CMAC)
 	/* Check if CMAC key type specific code required */
 	if (key_type == NID_cmac) {
 		CMAC_CTX *	ctx    = NULL;
--- contrib/ntp/sntp/include/Makefile.in.orig
+++ contrib/ntp/sntp/include/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/include/version.def.orig
+++ contrib/ntp/sntp/include/version.def
@@ -1 +1 @@
-version = '4.2.8p11';
+version = '4.2.8p13';
--- contrib/ntp/sntp/include/version.texi.orig
+++ contrib/ntp/sntp/include/version.texi
@@ -1,3 +1,3 @@
-@set UPDATED 27 February 2018
-@set EDITION 4.2.8p11
-@set VERSION 4.2.8p11
+@set UPDATED 20 February 2019
+@set EDITION 4.2.8p13
+@set VERSION 4.2.8p13
--- contrib/ntp/sntp/invoke-sntp.texi.orig
+++ contrib/ntp/sntp/invoke-sntp.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-sntp.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:13:11 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:55:49 AM by AutoGen 5.18.5
 # From the definitions    sntp-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -101,18 +101,15 @@
 
 @exampleindent 0
 @example
-sntp - standard Simple Network Time Protocol client program - Ver. 4.2.7p245
-USAGE:  sntp [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... \
+sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p13
+Usage:  sntp [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]... \
                 [ hostname-or-IP ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 DNS name resolution
-                                - prohibits these options:
-                                ipv6
+                                - prohibits the option 'ipv6'
    -6 no  ipv6           Force IPv6 DNS name resolution
-                                - prohibits these options:
-                                ipv4
-   -a Num authentication Enable authentication with the key @@var@{auth-keynumber@}
-   -B Num bctimeout      The number of seconds to wait for broadcasts
+                                - prohibits the option 'ipv4'
+   -a Num authentication Enable authentication with the key auth-keynumber
    -b Str broadcast      Listen to the address specified for broadcast time sync
                                 - may appear multiple times
    -c Str concurrent     Concurrently query all IPs returned for host-name
@@ -119,31 +116,31 @@
                                 - may appear multiple times
    -d no  debug-level    Increase debug verbosity level
                                 - may appear multiple times
-   -D Str set-debug-level Set the debug verbosity level
+   -D Num set-debug-level Set the debug verbosity level
                                 - may appear multiple times
    -g Num gap            The gap (in milliseconds) between time requests
    -K Fil kod            KoD history filename
-   -k Fil keyfile        Look in this file for the key specified with @@option@{-a@}
+   -k Fil keyfile        Look in this file for the key specified with -a
    -l Fil logfile        Log to specified logfile
-   -M Num steplimit      Adjustments less than @@var@{steplimit@} msec will be slewed
-                                - It must be in the range:
+   -M Num steplimit      Adjustments less than steplimit msec will be slewed
+                                - it must be in the range:
                                   greater than or equal to 0
-   -o Num ntpversion     Send @@var@{int@} as our NTP version
-                                - It must be in the range:
+   -o Num ntpversion     Send int as our NTP protocol version
+                                - it must be in the range:
                                   0 to 7
    -r no  usereservedport Use the NTP Reserved Port (port 123)
-   -S no  step           OK to 'step' the time with @@command@{settimeofday(2)@}
-   -s no  slew           OK to 'slew' the time with @@command@{adjtime(2)@}
-   -u Num uctimeout      The number of seconds to wait for unicast responses
+   -S no  step           OK to 'step' the time with settimeofday(2)
+   -s no  slew           OK to 'slew' the time with adjtime(2)
+   -t Num timeout        The number of seconds to wait for responses
       no  wait           Wait for pending replies (if not setting the time)
-                                - disabled as --no-wait
+                                - disabled as '--no-wait'
                                 - enabled by default
-      opt version        Output version information and exit
-   -? no  help           Display extended usage information and exit
-   -! no  more-help      Extended usage information passed thru pager
-   -> opt save-opts      Save the option state to a config file
-   -< Str load-opts      Load options from a config file
-                                - disabled as --no-load-opts
+      opt version        output version information and exit
+   -? no  help           display extended usage information and exit
+   -! no  more-help      extended usage information passed thru pager
+   -> opt save-opts      save the option state to a config file
+   -< Str load-opts      load options from a config file
+                                - disabled as '--no-load-opts'
                                 - may appear multiple times
 
 Options are specified by doubled hyphens and their name or by a single
@@ -150,13 +147,12 @@
 hyphen and the flag character.
 
 
-
 The following option preset mechanisms are supported:
  - reading file $HOME/.ntprc
  - reading file ./.ntprc
  - examining environment variables named SNTP_*
 
-please send bug reports to:  http://bugs.ntp.org, bugs@@ntp.org
+Please send bug reports to:  <http://bugs.ntp.org, bugs@@ntp.org>
 @end example
 @exampleindent 4
 
--- contrib/ntp/sntp/libevent/Makefile.in.orig
+++ contrib/ntp/sntp/libevent/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -2168,7 +2168,7 @@
 	  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \; \
 	|| chmod -R a+r "$(distdir)"
 dist-gzip: distdir
-	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
+	tardir=$(distdir) && $(am__tar) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).tar.gz
 	$(am__post_remove_distdir)
 
 dist-bzip2: distdir
@@ -2194,7 +2194,7 @@
 	@echo WARNING: "Support for shar distribution archives is" \
 	               "deprecated." >&2
 	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
-	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
+	shar $(distdir) | eval GZIP= gzip $(GZIP_ENV) -c >$(distdir).shar.gz
 	$(am__post_remove_distdir)
 
 dist-zip: distdir
@@ -2212,7 +2212,7 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).tar.gz | $(am__untar) ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\
 	*.tar.lz*) \
@@ -2222,7 +2222,7 @@
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
-	  GZIP=$(GZIP_ENV) gzip -dc $(distdir).shar.gz | unshar ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
 	esac
--- contrib/ntp/sntp/libevent/aclocal.m4.orig
+++ contrib/ntp/sntp/libevent/aclocal.m4
@@ -1,6 +1,6 @@
-# generated automatically by aclocal 1.15 -*- Autoconf -*-
+# generated automatically by aclocal 1.15.1 -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -20,126 +20,7 @@
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically 'autoreconf'.])])
 
-# serial 9  -*- Autoconf -*-
-# Enable extensions on systems that normally disable them.
-
-# Copyright (C) 2003, 2006-2010 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# This definition of AC_USE_SYSTEM_EXTENSIONS is stolen from CVS
-# Autoconf.  Perhaps we can remove this once we can assume Autoconf
-# 2.62 or later everywhere, but since CVS Autoconf mutates rapidly
-# enough in this area it's likely we'll need to redefine
-# AC_USE_SYSTEM_EXTENSIONS for quite some time.
-
-# If autoconf reports a warning
-#     warning: AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# or  warning: AC_RUN_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS
-# the fix is
-#   1) to ensure that AC_USE_SYSTEM_EXTENSIONS is never directly invoked
-#      but always AC_REQUIREd,
-#   2) to ensure that for each occurrence of
-#        AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
-#      or
-#        AC_REQUIRE([gl_USE_SYSTEM_EXTENSIONS])
-#      the corresponding gnulib module description has 'extensions' among
-#      its dependencies. This will ensure that the gl_USE_SYSTEM_EXTENSIONS
-#      invocation occurs in gl_EARLY, not in gl_INIT.
-
-# AC_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-# Remember that #undef in AH_VERBATIM gets replaced with #define by
-# AC_DEFINE.  The goal here is to define all known feature-enabling
-# macros, then, if reports of conflicts are made, disable macros that
-# cause problems on some platforms (such as __EXTENSIONS__).
-AC_DEFUN_ONCE([AC_USE_SYSTEM_EXTENSIONS],
-[AC_BEFORE([$0], [AC_COMPILE_IFELSE])dnl
-AC_BEFORE([$0], [AC_RUN_IFELSE])dnl
-
-  AC_REQUIRE([AC_CANONICAL_HOST])
-
-  AC_CHECK_HEADER([minix/config.h], [MINIX=yes], [MINIX=])
-  if test "$MINIX" = yes; then
-    AC_DEFINE([_POSIX_SOURCE], [1],
-      [Define to 1 if you need to in order for `stat' and other
-       things to work.])
-    AC_DEFINE([_POSIX_1_SOURCE], [2],
-      [Define to 2 if the system does not provide POSIX.1 features
-       except with this defined.])
-    AC_DEFINE([_MINIX], [1],
-      [Define to 1 if on MINIX.])
-  fi
-
-  dnl HP-UX 11.11 defines mbstate_t only if _XOPEN_SOURCE is defined to 500,
-  dnl regardless of whether the flags -Ae or _D_HPUX_SOURCE=1 are already
-  dnl provided.
-  case "$host_os" in
-    hpux*)
-      AC_DEFINE([_XOPEN_SOURCE], [500],
-        [Define to 500 only on HP-UX.])
-      ;;
-  esac
-
-  AH_VERBATIM([__EXTENSIONS__],
-[/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
-])
-  AC_CACHE_CHECK([whether it is safe to define __EXTENSIONS__],
-    [ac_cv_safe_to_define___extensions__],
-    [AC_COMPILE_IFELSE(
-       [AC_LANG_PROGRAM([[
-#         define __EXTENSIONS__ 1
-          ]AC_INCLUDES_DEFAULT])],
-       [ac_cv_safe_to_define___extensions__=yes],
-       [ac_cv_safe_to_define___extensions__=no])])
-  test $ac_cv_safe_to_define___extensions__ = yes &&
-    AC_DEFINE([__EXTENSIONS__])
-  AC_DEFINE([_ALL_SOURCE])
-  AC_DEFINE([_GNU_SOURCE])
-  AC_DEFINE([_POSIX_PTHREAD_SEMANTICS])
-  AC_DEFINE([_TANDEM_SOURCE])
-])# AC_USE_SYSTEM_EXTENSIONS
-
-# gl_USE_SYSTEM_EXTENSIONS
-# ------------------------
-# Enable extensions on systems that normally disable them,
-# typically due to standards-conformance issues.
-AC_DEFUN_ONCE([gl_USE_SYSTEM_EXTENSIONS],
-[
-  dnl Require this macro before AC_USE_SYSTEM_EXTENSIONS.
-  dnl gnulib does not need it. But if it gets required by third-party macros
-  dnl after AC_USE_SYSTEM_EXTENSIONS is required, autoconf 2.62..2.63 emit a
-  dnl warning: "AC_COMPILE_IFELSE was called before AC_USE_SYSTEM_EXTENSIONS".
-  dnl Note: We can do this only for one of the macros AC_AIX, AC_GNU_SOURCE,
-  dnl AC_MINIX. If people still use AC_AIX or AC_MINIX, they are out of luck.
-  AC_REQUIRE([AC_GNU_SOURCE])
-
-  AC_REQUIRE([AC_USE_SYSTEM_EXTENSIONS])
-])
-
-# Copyright (C) 2002-2014 Free Software Foundation, Inc.
+# Copyright (C) 2002-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -154,7 +35,7 @@
 [am__api_version='1.15'
 dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
 dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.15], [],
+m4_if([$1], [1.15.1], [],
       [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
 ])
 
@@ -170,7 +51,7 @@
 # Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
 # This function is AC_REQUIREd by AM_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.15])dnl
+[AM_AUTOMAKE_VERSION([1.15.1])dnl
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
 _AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
@@ -177,7 +58,7 @@
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -229,7 +110,7 @@
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -260,7 +141,7 @@
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -451,7 +332,7 @@
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -527,7 +408,7 @@
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -724,7 +605,7 @@
 done
 echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -745,7 +626,7 @@
 fi
 AC_SUBST([install_sh])])
 
-# Copyright (C) 2003-2014 Free Software Foundation, Inc.
+# Copyright (C) 2003-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -766,7 +647,7 @@
 
 # Check to see how 'make' treats includes.	            -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -816,7 +697,7 @@
 
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997-2014 Free Software Foundation, Inc.
+# Copyright (C) 1997-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -855,7 +736,7 @@
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -884,7 +765,7 @@
 AC_DEFUN([_AM_IF_OPTION],
 [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -931,7 +812,7 @@
 # For backward compatibility.
 AC_DEFUN_ONCE([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC])])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -950,7 +831,7 @@
 
 # Check to make sure that the build environment is sane.    -*- Autoconf -*-
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1031,7 +912,7 @@
 rm -f conftest.file
 ])
 
-# Copyright (C) 2009-2014 Free Software Foundation, Inc.
+# Copyright (C) 2009-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1091,7 +972,7 @@
 _AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
 ])
 
-# Copyright (C) 2001-2014 Free Software Foundation, Inc.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1119,7 +1000,7 @@
 INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006-2014 Free Software Foundation, Inc.
+# Copyright (C) 2006-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1138,7 +1019,7 @@
 
 # Check how to create a tarball.                            -*- Autoconf -*-
 
-# Copyright (C) 2004-2014 Free Software Foundation, Inc.
+# Copyright (C) 2004-2017 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/libevent/build-aux/ar-lib.orig
+++ contrib/ntp/sntp/libevent/build-aux/ar-lib
@@ -4,7 +4,7 @@
 me=ar-lib
 scriptversion=2012-03-01.08; # UTC
 
-# Copyright (C) 2010-2014 Free Software Foundation, Inc.
+# Copyright (C) 2010-2017 Free Software Foundation, Inc.
 # Written by Peter Rosin <peda@lysator.liu.se>.
 #
 # This program is free software; you can redistribute it and/or modify
--- contrib/ntp/sntp/libevent/build-aux/compile.orig
+++ contrib/ntp/sntp/libevent/build-aux/compile
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Wrapper for compilers which do not understand '-c -o'.
 
-scriptversion=2012-10-14.11; # UTC
+scriptversion=2016-01-11.22; # UTC
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 # Written by Tom Tromey <tromey@cygnus.com>.
 #
 # This program is free software; you can redistribute it and/or modify
@@ -255,7 +255,8 @@
     echo "compile $scriptversion"
     exit $?
     ;;
-  cl | *[/\\]cl | cl.exe | *[/\\]cl.exe )
+  cl | *[/\\]cl | cl.exe | *[/\\]cl.exe | \
+  icl | *[/\\]icl | icl.exe | *[/\\]icl.exe )
     func_cl_wrapper "$@"      # Doesn't return...
     ;;
 esac
@@ -342,6 +343,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/build-aux/config.guess.orig
+++ contrib/ntp/sntp/libevent/build-aux/config.guess
@@ -1,8 +1,8 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
-#   Copyright 1992-2014 Free Software Foundation, Inc.
+#   Copyright 1992-2015 Free Software Foundation, Inc.
 
-timestamp='2014-11-04'
+timestamp='2015-03-04'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -50,7 +50,7 @@
 GNU config.guess ($timestamp)
 
 Originally written by Per Bothner.
-Copyright 1992-2014 Free Software Foundation, Inc.
+Copyright 1992-2015 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
@@ -168,8 +168,10 @@
 	# Note: NetBSD doesn't particularly care about the vendor
 	# portion of the name.  We always set it to "unknown".
 	sysctl="sysctl -n hw.machine_arch"
-	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \
-	    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`
+	UNAME_MACHINE_ARCH=`(uname -p 2>/dev/null || \
+	    /sbin/$sysctl 2>/dev/null || \
+	    /usr/sbin/$sysctl 2>/dev/null || \
+	    echo unknown)`
 	case "${UNAME_MACHINE_ARCH}" in
 	    armeb) machine=armeb-unknown ;;
 	    arm*) machine=arm-unknown ;;
@@ -176,12 +178,17 @@
 	    sh3el) machine=shl-unknown ;;
 	    sh3eb) machine=sh-unknown ;;
 	    sh5el) machine=sh5le-unknown ;;
+	    earmv*)
+		arch=`echo ${UNAME_MACHINE_ARCH} | sed -e 's,^e\(armv[0-9]\).*$,\1,'`
+		endian=`echo ${UNAME_MACHINE_ARCH} | sed -ne 's,^.*\(eb\)$,\1,p'`
+		machine=${arch}${endian}-unknown
+		;;
 	    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;
 	esac
 	# The Operating System including object format, if it has switched
 	# to ELF recently, or will in the future.
 	case "${UNAME_MACHINE_ARCH}" in
-	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
+	    arm*|earm*|i386|m68k|ns32k|sh3*|sparc|vax)
 		eval $set_cc_for_build
 		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
 			| grep -q __ELF__
@@ -197,6 +204,13 @@
 		os=netbsd
 		;;
 	esac
+	# Determine ABI tags.
+	case "${UNAME_MACHINE_ARCH}" in
+	    earm*)
+		expr='s/^earmv[0-9]/-eabi/;s/eb$//'
+		abi=`echo ${UNAME_MACHINE_ARCH} | sed -e "$expr"`
+		;;
+	esac
 	# The OS release
 	# Debian GNU/NetBSD machines have a different userland, and
 	# thus, need a distinct triplet. However, they do not need
@@ -213,7 +227,7 @@
 	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
 	# contains redundant information, the shorter form:
 	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
-	echo "${machine}-${os}${release}"
+	echo "${machine}-${os}${release}${abi}"
 	exit ;;
     *:Bitrig:*:*)
 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
@@ -811,12 +825,7 @@
 	exit ;;
     *:FreeBSD:*:*)
 	UNAME_PROCESSOR=`/usr/bin/uname -p`
-	case ${UNAME_PROCESSOR} in
-	    amd64)
-		echo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
-	    *)
-		echo ${UNAME_PROCESSOR}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
-	esac
+	echo ${UNAME_PROCESSOR}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
 	exit ;;
     i*:CYGWIN*:*)
 	echo ${UNAME_MACHINE}-pc-cygwin
@@ -933,6 +942,9 @@
     crisv32:Linux:*:*)
 	echo ${UNAME_MACHINE}-axis-linux-${LIBC}
 	exit ;;
+    e2k:Linux:*:*)
+	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
+	exit ;;
     frv:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
 	exit ;;
--- contrib/ntp/sntp/libevent/build-aux/config.sub.orig
+++ contrib/ntp/sntp/libevent/build-aux/config.sub
@@ -1,8 +1,8 @@
 #! /bin/sh
 # Configuration validation subroutine script.
-#   Copyright 1992-2014 Free Software Foundation, Inc.
+#   Copyright 1992-2015 Free Software Foundation, Inc.
 
-timestamp='2014-12-03'
+timestamp='2015-03-08'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -68,7 +68,7 @@
 version="\
 GNU config.sub ($timestamp)
 
-Copyright 1992-2014 Free Software Foundation, Inc.
+Copyright 1992-2015 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
@@ -117,7 +117,7 @@
 case $maybe_os in
   nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc | linux-newlib* | \
   linux-musl* | linux-uclibc* | uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | \
-  knetbsd*-gnu* | netbsd*-gnu* | \
+  knetbsd*-gnu* | netbsd*-gnu* | netbsd*-eabi* | \
   kopensolaris*-gnu* | \
   storm-chaos* | os2-emx* | rtmk-nova*)
     os=-$maybe_os
@@ -259,8 +259,8 @@
 	| bfin \
 	| c4x | c8051 | clipper \
 	| d10v | d30v | dlx | dsp16xx \
-	| epiphany \
-	| fido | fr30 | frv \
+	| e2k | epiphany \
+	| fido | fr30 | frv | ft32 \
 	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
 	| hexagon \
 	| i370 | i860 | i960 | ia64 \
@@ -300,7 +300,7 @@
 	| ns16k | ns32k \
 	| open8 | or1k | or1knd | or32 \
 	| pdp10 | pdp11 | pj | pjl \
-	| powerpc | powerpc64 | powerpc64le | powerpcle \
+	| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
 	| pyramid \
 	| riscv32 | riscv64 \
 	| rl78 | rx \
@@ -373,7 +373,7 @@
 	| aarch64-* | aarch64_be-* \
 	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
 	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
-	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* | arceb-* \
+	| alphapca5[67]-* | alpha64pca5[67]-* | amd64-* | arc-* | arceb-* \
 	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
 	| avr-* | avr32-* \
 	| be32-* | be64-* \
@@ -381,7 +381,7 @@
 	| c[123]* | c30-* | [cjt]90-* | c4x-* \
 	| c8051-* | clipper-* | craynv-* | cydra-* \
 	| d10v-* | d30v-* | dlx-* \
-	| elxsi-* \
+	| e2k-* | elxsi-* \
 	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
 	| h8300-* | h8500-* \
 	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
@@ -426,7 +426,7 @@
 	| or1k*-* \
 	| orion-* \
 	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
-	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* \
+	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | powerpcspe-* \
 	| pyramid-* \
 	| rl78-* | romp-* | rs6000-* | rx-* \
 	| sh-* | sh[1234]-* | sh[24]a-* | sh[24]aeb-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
@@ -485,12 +485,6 @@
 		basic_machine=a29k-none
 		os=-bsd
 		;;
-	amd64)
-		basic_machine=x86_64-pc
-		;;
-	amd64-*)
-		basic_machine=x86_64-`echo $basic_machine | sed 's/^[^-]*-//'`
-		;;
 	amdahl)
 		basic_machine=580-amdahl
 		os=-sysv
@@ -518,6 +512,9 @@
 		basic_machine=i386-pc
 		os=-aros
 		;;
+        asmjs)
+		basic_machine=asmjs-unknown
+		;;
 	aux)
 		basic_machine=m68k-apple
 		os=-aux
@@ -1373,7 +1370,7 @@
 	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \
 	      | -sym* | -kopensolaris* | -plan9* \
 	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
-	      | -aos* | -aros* \
+	      | -aos* | -aros* | -cloudabi* \
 	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
 	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
 	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \
--- contrib/ntp/sntp/libevent/build-aux/depcomp.orig
+++ contrib/ntp/sntp/libevent/build-aux/depcomp
@@ -1,9 +1,9 @@
 #! /bin/sh
 # depcomp - compile a program generating dependencies as side-effects
 
-scriptversion=2013-05-30.07; # UTC
+scriptversion=2016-01-11.22; # UTC
 
-# Copyright (C) 1999-2014 Free Software Foundation, Inc.
+# Copyright (C) 1999-2017 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -786,6 +786,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/build-aux/install-sh.orig
+++ contrib/ntp/sntp/libevent/build-aux/install-sh
@@ -1,7 +1,7 @@
 #!/bin/sh
 # install - install a program, script, or datafile
 
-scriptversion=2013-12-25.23; # UTC
+scriptversion=2016-01-11.22; # UTC
 
 # This originates from X11R5 (mit/util/scripts/install.sh), which was
 # later released in X11R6 (xc/config/util/install.sh) with the
@@ -496,6 +496,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/build-aux/missing.orig
+++ contrib/ntp/sntp/libevent/build-aux/missing
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Common wrapper for a few potentially missing GNU programs.
 
-scriptversion=2013-10-28.13; # UTC
+scriptversion=2016-01-11.22; # UTC
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 # Originally written by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
 
 # This program is free software; you can redistribute it and/or modify
@@ -210,6 +210,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/build-aux/test-driver.orig
+++ contrib/ntp/sntp/libevent/build-aux/test-driver
@@ -1,9 +1,9 @@
 #! /bin/sh
 # test-driver - basic testsuite driver script.
 
-scriptversion=2013-07-13.22; # UTC
+scriptversion=2016-01-11.22; # UTC
 
-# Copyright (C) 2011-2014 Free Software Foundation, Inc.
+# Copyright (C) 2011-2017 Free Software Foundation, Inc.
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -143,6 +143,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/build-aux/ylwrap.orig
+++ contrib/ntp/sntp/libevent/build-aux/ylwrap
@@ -1,9 +1,9 @@
 #! /bin/sh
 # ylwrap - wrapper for lex/yacc invocations.
 
-scriptversion=2013-01-12.17; # UTC
+scriptversion=2016-01-11.22; # UTC
 
-# Copyright (C) 1996-2014 Free Software Foundation, Inc.
+# Copyright (C) 1996-2017 Free Software Foundation, Inc.
 #
 # Written by Tom Tromey <tromey@cygnus.com>.
 #
@@ -242,6 +242,6 @@
 # eval: (add-hook 'write-file-hooks 'time-stamp)
 # time-stamp-start: "scriptversion="
 # time-stamp-format: "%:y-%02m-%02d.%02H"
-# time-stamp-time-zone: "UTC"
+# time-stamp-time-zone: "UTC0"
 # time-stamp-end: "; # UTC"
 # End:
--- contrib/ntp/sntp/libevent/config.h.in.orig
+++ contrib/ntp/sntp/libevent/config.h.in
@@ -449,6 +449,28 @@
 /* Define to 1 if you can safely include both <sys/time.h> and <time.h>. */
 #undef TIME_WITH_SYS_TIME
 
+/* Enable extensions on AIX 3, Interix.  */
+#ifndef _ALL_SOURCE
+# undef _ALL_SOURCE
+#endif
+/* Enable GNU extensions on systems that have them.  */
+#ifndef _GNU_SOURCE
+# undef _GNU_SOURCE
+#endif
+/* Enable threading extensions on Solaris.  */
+#ifndef _POSIX_PTHREAD_SEMANTICS
+# undef _POSIX_PTHREAD_SEMANTICS
+#endif
+/* Enable extensions on HP NonStop.  */
+#ifndef _TANDEM_SOURCE
+# undef _TANDEM_SOURCE
+#endif
+/* Enable general extensions on Solaris.  */
+#ifndef __EXTENSIONS__
+# undef __EXTENSIONS__
+#endif
+
+
 /* Version number of package */
 #undef VERSION
 
@@ -473,31 +495,6 @@
 /* Define to 1 if you need to in order for `stat' and other things to work. */
 #undef _POSIX_SOURCE
 
-/* Define to 500 only on HP-UX. */
-#undef _XOPEN_SOURCE
-
-/* Enable extensions on AIX 3, Interix.  */
-#ifndef _ALL_SOURCE
-# undef _ALL_SOURCE
-#endif
-/* Enable GNU extensions on systems that have them.  */
-#ifndef _GNU_SOURCE
-# undef _GNU_SOURCE
-#endif
-/* Enable threading extensions on Solaris.  */
-#ifndef _POSIX_PTHREAD_SEMANTICS
-# undef _POSIX_PTHREAD_SEMANTICS
-#endif
-/* Enable extensions on HP NonStop.  */
-#ifndef _TANDEM_SOURCE
-# undef _TANDEM_SOURCE
-#endif
-/* Enable general extensions on Solaris.  */
-#ifndef __EXTENSIONS__
-# undef __EXTENSIONS__
-#endif
-
-
 /* Define to appropriate substitue if compiler doesnt have __func__ */
 #undef __func__
 
--- contrib/ntp/sntp/libevent/configure.orig
+++ contrib/ntp/sntp/libevent/configure
@@ -703,6 +703,14 @@
 LIBTOOL
 SED
 LN_S
+host_os
+host_vendor
+host_cpu
+host
+build_os
+build_vendor
+build_cpu
+build
 EGREP
 GREP
 CPP
@@ -723,14 +731,6 @@
 LDFLAGS
 CFLAGS
 CC
-host_os
-host_vendor
-host_cpu
-host
-build_os
-build_vendor
-build_cpu
-build
 AM_BACKSLASH
 AM_DEFAULT_VERBOSITY
 AM_DEFAULT_V
@@ -3287,77 +3287,6 @@
 fi
 
 
-# Make sure we can run config.sub.
-$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
-  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
-
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
-$as_echo_n "checking build system type... " >&6; }
-if ${ac_cv_build+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  ac_build_alias=$build_alias
-test "x$ac_build_alias" = x &&
-  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
-test "x$ac_build_alias" = x &&
-  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
-ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
-  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
-
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
-$as_echo "$ac_cv_build" >&6; }
-case $ac_cv_build in
-*-*-*) ;;
-*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
-esac
-build=$ac_cv_build
-ac_save_IFS=$IFS; IFS='-'
-set x $ac_cv_build
-shift
-build_cpu=$1
-build_vendor=$2
-shift; shift
-# Remember, the first character of IFS is used to create $*,
-# except with old shells:
-build_os=$*
-IFS=$ac_save_IFS
-case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
-
-
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
-$as_echo_n "checking host system type... " >&6; }
-if ${ac_cv_host+:} false; then :
-  $as_echo_n "(cached) " >&6
-else
-  if test "x$host_alias" = x; then
-  ac_cv_host=$ac_cv_build
-else
-  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
-    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
-fi
-
-fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
-$as_echo "$ac_cv_host" >&6; }
-case $ac_cv_host in
-*-*-*) ;;
-*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
-esac
-host=$ac_cv_host
-ac_save_IFS=$IFS; IFS='-'
-set x $ac_cv_host
-shift
-host_cpu=$1
-host_vendor=$2
-shift; shift
-# Remember, the first character of IFS is used to create $*,
-# except with old shells:
-host_os=$*
-IFS=$ac_save_IFS
-case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
-
-
 DEPDIR="${am__leading_dot}deps"
 
 ac_config_commands="$ac_config_commands depfiles"
@@ -4796,8 +4725,6 @@
 
 
 
-
-
   ac_fn_c_check_header_mongrel "$LINENO" "minix/config.h" "ac_cv_header_minix_config_h" "$ac_includes_default"
 if test "x$ac_cv_header_minix_config_h" = xyes; then :
   MINIX=yes
@@ -4818,15 +4745,7 @@
 
   fi
 
-        case "$host_os" in
-    hpux*)
 
-$as_echo "#define _XOPEN_SOURCE 500" >>confdefs.h
-
-      ;;
-  esac
-
-
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
 $as_echo_n "checking whether it is safe to define __EXTENSIONS__... " >&6; }
 if ${ac_cv_safe_to_define___extensions__+:} false; then :
@@ -4868,9 +4787,78 @@
 
 
 
+# Make sure we can run config.sub.
+$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
+  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
 
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
+$as_echo_n "checking build system type... " >&6; }
+if ${ac_cv_build+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  ac_build_alias=$build_alias
+test "x$ac_build_alias" = x &&
+  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
+test "x$ac_build_alias" = x &&
+  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
+ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
+  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
 
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
+$as_echo "$ac_cv_build" >&6; }
+case $ac_cv_build in
+*-*-*) ;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
+esac
+build=$ac_cv_build
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_build
+shift
+build_cpu=$1
+build_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+build_os=$*
+IFS=$ac_save_IFS
+case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
 
+
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
+$as_echo_n "checking host system type... " >&6; }
+if ${ac_cv_host+:} false; then :
+  $as_echo_n "(cached) " >&6
+else
+  if test "x$host_alias" = x; then
+  ac_cv_host=$ac_cv_build
+else
+  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
+    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
+fi
+
+fi
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
+$as_echo "$ac_cv_host" >&6; }
+case $ac_cv_host in
+*-*-*) ;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
+esac
+host=$ac_cv_host
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_host
+shift
+host_cpu=$1
+host_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+host_os=$*
+IFS=$ac_save_IFS
+case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
+
+
+
 #case "$host_os" in
 #
 # osf5*)
--- contrib/ntp/sntp/libevent/evconfig-private.h.orig
+++ contrib/ntp/sntp/libevent/evconfig-private.h
@@ -26,7 +26,7 @@
 #endif
 
 /* Number of bits in a file offset, on hosts where this is settable. */
-#define _FILE_OFFSET_BITS 64
+/* #undef _FILE_OFFSET_BITS */
 /* Define for large files, on AIX-style hosts. */
 /* #undef _LARGE_FILES */
 
--- contrib/ntp/sntp/libevent/test/regress.gen.c.orig
+++ contrib/ntp/sntp/libevent/test/regress.gen.c
@@ -1 +1,1225 @@
- 
+/*
+ * Automatically generated from ../../../sntp/libevent/test/regress.rpc
+ * by event_rpcgen.py/0.1.  DO NOT EDIT THIS FILE.
+ */
+
+#include <stdlib.h>
+#include <string.h>
+#include <assert.h>
+#include <event2/event-config.h>
+#include <event2/event.h>
+#include <event2/buffer.h>
+#include <event2/tag.h>
+
+#ifdef EVENT____func__
+#define __func__ EVENT____func__
+#endif
+
+
+#include "regress.gen.h"
+
+void event_warn(const char *fmt, ...);
+void event_warnx(const char *fmt, ...);
+
+
+/*
+ * Implementation of msg
+ */
+
+static struct msg_access_ msg_base__ = {
+  msg_from_name_assign,
+  msg_from_name_get,
+  msg_to_name_assign,
+  msg_to_name_get,
+  msg_attack_assign,
+  msg_attack_get,
+  msg_run_assign,
+  msg_run_get,
+  msg_run_add,
+};
+
+struct msg *
+msg_new(void)
+{
+  return msg_new_with_arg(NULL);
+}
+
+struct msg *
+msg_new_with_arg(void *unused)
+{
+  struct msg *tmp;
+  if ((tmp = malloc(sizeof(struct msg))) == NULL) {
+    event_warn("%s: malloc", __func__);
+    return (NULL);
+  }
+  tmp->base = &msg_base__;
+
+  tmp->from_name_data = NULL;
+  tmp->from_name_set = 0;
+
+  tmp->to_name_data = NULL;
+  tmp->to_name_set = 0;
+
+  tmp->attack_data = NULL;
+  tmp->attack_set = 0;
+
+  tmp->run_data = NULL;
+  tmp->run_length = 0;
+  tmp->run_num_allocated = 0;
+  tmp->run_set = 0;
+
+  return (tmp);
+}
+
+
+
+
+static int
+msg_run_expand_to_hold_more(struct msg *msg)
+{
+  int tobe_allocated = msg->run_num_allocated;
+  struct run** new_data = NULL;
+  tobe_allocated = !tobe_allocated ? 1 : tobe_allocated << 1;
+  new_data = (struct run**) realloc(msg->run_data,
+      tobe_allocated * sizeof(struct run*));
+  if (new_data == NULL)
+    return -1;
+  msg->run_data = new_data;
+  msg->run_num_allocated = tobe_allocated;
+  return 0;}
+
+struct run* 
+msg_run_add(struct msg *msg)
+{
+  if (++msg->run_length >= msg->run_num_allocated) {
+    if (msg_run_expand_to_hold_more(msg)<0)
+      goto error;
+  }
+  msg->run_data[msg->run_length - 1] = run_new();
+  if (msg->run_data[msg->run_length - 1] == NULL)
+    goto error;
+  msg->run_set = 1;
+  return (msg->run_data[msg->run_length - 1]);
+error:
+  --msg->run_length;
+  return (NULL);
+}
+
+int
+msg_from_name_assign(struct msg *msg,
+    const char * value)
+{
+  if (msg->from_name_data != NULL)
+    free(msg->from_name_data);
+  if ((msg->from_name_data = strdup(value)) == NULL)
+    return (-1);
+  msg->from_name_set = 1;
+  return (0);
+}
+
+int
+msg_to_name_assign(struct msg *msg,
+    const char * value)
+{
+  if (msg->to_name_data != NULL)
+    free(msg->to_name_data);
+  if ((msg->to_name_data = strdup(value)) == NULL)
+    return (-1);
+  msg->to_name_set = 1;
+  return (0);
+}
+
+int
+msg_attack_assign(struct msg *msg,
+    const struct kill* value)
+{
+   struct evbuffer *tmp = NULL;
+   if (msg->attack_set) {
+     kill_clear(msg->attack_data);
+     msg->attack_set = 0;
+   } else {
+     msg->attack_data = kill_new();
+     if (msg->attack_data == NULL) {
+       event_warn("%s: kill_new()", __func__);
+       goto error;
+     }
+   }
+   if ((tmp = evbuffer_new()) == NULL) {
+     event_warn("%s: evbuffer_new()", __func__);
+     goto error;
+   }
+   kill_marshal(tmp, value);
+   if (kill_unmarshal(msg->attack_data, tmp) == -1) {
+     event_warnx("%s: kill_unmarshal", __func__);
+     goto error;
+   }
+   msg->attack_set = 1;
+   evbuffer_free(tmp);
+   return (0);
+ error:
+   if (tmp != NULL)
+     evbuffer_free(tmp);
+   if (msg->attack_data != NULL) {
+     kill_free(msg->attack_data);
+     msg->attack_data = NULL;
+   }
+   return (-1);
+}
+
+int
+msg_run_assign(struct msg *msg, int off,
+    const struct run* value)
+{
+  if (!msg->run_set || off < 0 || off >= msg->run_length)
+    return (-1);
+
+  {
+    int had_error = 0;
+    struct evbuffer *tmp = NULL;
+    run_clear(msg->run_data[off]);
+    if ((tmp = evbuffer_new()) == NULL) {
+      event_warn("%s: evbuffer_new()", __func__);
+      had_error = 1;
+      goto done;
+    }
+    run_marshal(tmp, value);
+    if (run_unmarshal(msg->run_data[off], tmp) == -1) {
+      event_warnx("%s: run_unmarshal", __func__);
+      had_error = 1;
+      goto done;
+    }
+    done:if (tmp != NULL)
+      evbuffer_free(tmp);
+    if (had_error) {
+      run_clear(msg->run_data[off]);
+      return (-1);
+    }
+  }
+  return (0);
+}
+
+int
+msg_from_name_get(struct msg *msg, char * *value)
+{
+  if (msg->from_name_set != 1)
+    return (-1);
+  *value = msg->from_name_data;
+  return (0);
+}
+
+int
+msg_to_name_get(struct msg *msg, char * *value)
+{
+  if (msg->to_name_set != 1)
+    return (-1);
+  *value = msg->to_name_data;
+  return (0);
+}
+
+int
+msg_attack_get(struct msg *msg, struct kill* *value)
+{
+  if (msg->attack_set != 1) {
+    msg->attack_data = kill_new();
+    if (msg->attack_data == NULL)
+      return (-1);
+    msg->attack_set = 1;
+  }
+  *value = msg->attack_data;
+  return (0);
+}
+
+int
+msg_run_get(struct msg *msg, int offset,
+    struct run* *value)
+{
+  if (!msg->run_set || offset < 0 || offset >= msg->run_length)
+    return (-1);
+  *value = msg->run_data[offset];
+  return (0);
+}
+
+void
+msg_clear(struct msg *tmp)
+{
+  if (tmp->from_name_set == 1) {
+    free(tmp->from_name_data);
+    tmp->from_name_data = NULL;
+    tmp->from_name_set = 0;
+  }
+  if (tmp->to_name_set == 1) {
+    free(tmp->to_name_data);
+    tmp->to_name_data = NULL;
+    tmp->to_name_set = 0;
+  }
+  if (tmp->attack_set == 1) {
+    kill_free(tmp->attack_data);
+    tmp->attack_data = NULL;
+    tmp->attack_set = 0;
+  }
+  if (tmp->run_set == 1) {
+    int i;
+    for (i = 0; i < tmp->run_length; ++i) {
+      run_free(tmp->run_data[i]);
+    }
+    free(tmp->run_data);
+    tmp->run_data = NULL;
+    tmp->run_set = 0;
+    tmp->run_length = 0;
+    tmp->run_num_allocated = 0;
+  }
+}
+
+void
+msg_free(struct msg *tmp)
+{
+  if (tmp->from_name_data != NULL)
+      free (tmp->from_name_data);
+  if (tmp->to_name_data != NULL)
+      free (tmp->to_name_data);
+  if (tmp->attack_data != NULL)
+      kill_free(tmp->attack_data);
+  if (tmp->run_set == 1) {
+    int i;
+    for (i = 0; i < tmp->run_length; ++i) {
+      run_free(tmp->run_data[i]);
+    }
+    free(tmp->run_data);
+    tmp->run_data = NULL;
+    tmp->run_set = 0;
+    tmp->run_length = 0;
+    tmp->run_num_allocated = 0;
+  }
+  free(tmp->run_data);
+  free(tmp);
+}
+
+void
+msg_marshal(struct evbuffer *evbuf, const struct msg *tmp){
+  evtag_marshal_string(evbuf, MSG_FROM_NAME, tmp->from_name_data);
+  evtag_marshal_string(evbuf, MSG_TO_NAME, tmp->to_name_data);
+  if (tmp->attack_set) {
+    evtag_marshal_kill(evbuf, MSG_ATTACK, tmp->attack_data);
+  }
+  if (tmp->run_set) {
+    {
+      int i;
+      for (i = 0; i < tmp->run_length; ++i) {
+    evtag_marshal_run(evbuf, MSG_RUN, tmp->run_data[i]);
+      }
+    }
+  }
+}
+
+int
+msg_unmarshal(struct msg *tmp,  struct evbuffer *evbuf)
+{
+  ev_uint32_t tag;
+  while (evbuffer_get_length(evbuf) > 0) {
+    if (evtag_peek(evbuf, &tag) == -1)
+      return (-1);
+    switch (tag) {
+
+      case MSG_FROM_NAME:
+
+        if (tmp->from_name_set)
+          return (-1);
+        if (evtag_unmarshal_string(evbuf, MSG_FROM_NAME, &tmp->from_name_data) == -1) {
+          event_warnx("%s: failed to unmarshal from_name", __func__);
+          return (-1);
+        }
+        tmp->from_name_set = 1;
+        break;
+
+      case MSG_TO_NAME:
+
+        if (tmp->to_name_set)
+          return (-1);
+        if (evtag_unmarshal_string(evbuf, MSG_TO_NAME, &tmp->to_name_data) == -1) {
+          event_warnx("%s: failed to unmarshal to_name", __func__);
+          return (-1);
+        }
+        tmp->to_name_set = 1;
+        break;
+
+      case MSG_ATTACK:
+
+        if (tmp->attack_set)
+          return (-1);
+        tmp->attack_data = kill_new();
+        if (tmp->attack_data == NULL)
+          return (-1);
+        if (evtag_unmarshal_kill(evbuf, MSG_ATTACK, tmp->attack_data) == -1) {
+          event_warnx("%s: failed to unmarshal attack", __func__);
+          return (-1);
+        }
+        tmp->attack_set = 1;
+        break;
+
+      case MSG_RUN:
+
+        if (tmp->run_length >= tmp->run_num_allocated &&
+            msg_run_expand_to_hold_more(tmp) < 0) {
+          puts("HEY NOW");
+          return (-1);
+        }
+        tmp->run_data[tmp->run_length] = run_new();
+        if (tmp->run_data[tmp->run_length] == NULL)
+          return (-1);
+        if (evtag_unmarshal_run(evbuf, MSG_RUN, tmp->run_data[tmp->run_length]) == -1) {
+          event_warnx("%s: failed to unmarshal run", __func__);
+          return (-1);
+        }
+        ++tmp->run_length;
+        tmp->run_set = 1;
+        break;
+
+      default:
+        return -1;
+    }
+  }
+
+  if (msg_complete(tmp) == -1)
+    return (-1);
+  return (0);
+}
+
+int
+msg_complete(struct msg *msg)
+{
+  if (!msg->from_name_set)
+    return (-1);
+  if (!msg->to_name_set)
+    return (-1);
+  if (msg->attack_set && kill_complete(msg->attack_data) == -1)
+    return (-1);
+  {
+    int i;
+    for (i = 0; i < msg->run_length; ++i) {
+      if (msg->run_set && run_complete(msg->run_data[i]) == -1)
+        return (-1);
+    }
+  }
+  return (0);
+}
+
+int
+evtag_unmarshal_msg(struct evbuffer *evbuf, ev_uint32_t need_tag, struct msg *msg)
+{
+  ev_uint32_t tag;
+  int res = -1;
+
+  struct evbuffer *tmp = evbuffer_new();
+
+  if (evtag_unmarshal(evbuf, &tag, tmp) == -1 || tag != need_tag)
+    goto error;
+
+  if (msg_unmarshal(msg, tmp) == -1)
+    goto error;
+
+  res = 0;
+
+ error:
+  evbuffer_free(tmp);
+  return (res);
+}
+
+void
+evtag_marshal_msg(struct evbuffer *evbuf, ev_uint32_t tag, const struct msg *msg)
+{
+  struct evbuffer *buf_ = evbuffer_new();
+  assert(buf_ != NULL);
+  msg_marshal(buf_, msg);
+  evtag_marshal_buffer(evbuf, tag, buf_);
+   evbuffer_free(buf_);
+}
+
+/*
+ * Implementation of kill
+ */
+
+static struct kill_access_ kill_base__ = {
+  kill_weapon_assign,
+  kill_weapon_get,
+  kill_action_assign,
+  kill_action_get,
+  kill_how_often_assign,
+  kill_how_often_get,
+  kill_how_often_add,
+};
+
+struct kill *
+kill_new(void)
+{
+  return kill_new_with_arg(NULL);
+}
+
+struct kill *
+kill_new_with_arg(void *unused)
+{
+  struct kill *tmp;
+  if ((tmp = malloc(sizeof(struct kill))) == NULL) {
+    event_warn("%s: malloc", __func__);
+    return (NULL);
+  }
+  tmp->base = &kill_base__;
+
+  tmp->weapon_data = NULL;
+  tmp->weapon_set = 0;
+
+  tmp->action_data = NULL;
+  tmp->action_set = 0;
+
+  tmp->how_often_data = NULL;
+  tmp->how_often_length = 0;
+  tmp->how_often_num_allocated = 0;
+  tmp->how_often_set = 0;
+
+  return (tmp);
+}
+
+
+
+static int
+kill_how_often_expand_to_hold_more(struct kill *msg)
+{
+  int tobe_allocated = msg->how_often_num_allocated;
+  ev_uint32_t* new_data = NULL;
+  tobe_allocated = !tobe_allocated ? 1 : tobe_allocated << 1;
+  new_data = (ev_uint32_t*) realloc(msg->how_often_data,
+      tobe_allocated * sizeof(ev_uint32_t));
+  if (new_data == NULL)
+    return -1;
+  msg->how_often_data = new_data;
+  msg->how_often_num_allocated = tobe_allocated;
+  return 0;}
+
+ev_uint32_t *
+kill_how_often_add(struct kill *msg, const ev_uint32_t value)
+{
+  if (++msg->how_often_length >= msg->how_often_num_allocated) {
+    if (kill_how_often_expand_to_hold_more(msg)<0)
+      goto error;
+  }
+  msg->how_often_data[msg->how_often_length - 1] = value;
+  msg->how_often_set = 1;
+  return &(msg->how_often_data[msg->how_often_length - 1]);
+error:
+  --msg->how_often_length;
+  return (NULL);
+}
+
+int
+kill_weapon_assign(struct kill *msg,
+    const char * value)
+{
+  if (msg->weapon_data != NULL)
+    free(msg->weapon_data);
+  if ((msg->weapon_data = strdup(value)) == NULL)
+    return (-1);
+  msg->weapon_set = 1;
+  return (0);
+}
+
+int
+kill_action_assign(struct kill *msg,
+    const char * value)
+{
+  if (msg->action_data != NULL)
+    free(msg->action_data);
+  if ((msg->action_data = strdup(value)) == NULL)
+    return (-1);
+  msg->action_set = 1;
+  return (0);
+}
+
+int
+kill_how_often_assign(struct kill *msg, int off,
+    const ev_uint32_t value)
+{
+  if (!msg->how_often_set || off < 0 || off >= msg->how_often_length)
+    return (-1);
+
+  {
+    msg->how_often_data[off] = value;
+  }
+  return (0);
+}
+
+int
+kill_weapon_get(struct kill *msg, char * *value)
+{
+  if (msg->weapon_set != 1)
+    return (-1);
+  *value = msg->weapon_data;
+  return (0);
+}
+
+int
+kill_action_get(struct kill *msg, char * *value)
+{
+  if (msg->action_set != 1)
+    return (-1);
+  *value = msg->action_data;
+  return (0);
+}
+
+int
+kill_how_often_get(struct kill *msg, int offset,
+    ev_uint32_t *value)
+{
+  if (!msg->how_often_set || offset < 0 || offset >= msg->how_often_length)
+    return (-1);
+  *value = msg->how_often_data[offset];
+  return (0);
+}
+
+void
+kill_clear(struct kill *tmp)
+{
+  if (tmp->weapon_set == 1) {
+    free(tmp->weapon_data);
+    tmp->weapon_data = NULL;
+    tmp->weapon_set = 0;
+  }
+  if (tmp->action_set == 1) {
+    free(tmp->action_data);
+    tmp->action_data = NULL;
+    tmp->action_set = 0;
+  }
+  if (tmp->how_often_set == 1) {
+    free(tmp->how_often_data);
+    tmp->how_often_data = NULL;
+    tmp->how_often_set = 0;
+    tmp->how_often_length = 0;
+    tmp->how_often_num_allocated = 0;
+  }
+}
+
+void
+kill_free(struct kill *tmp)
+{
+  if (tmp->weapon_data != NULL)
+      free (tmp->weapon_data);
+  if (tmp->action_data != NULL)
+      free (tmp->action_data);
+  if (tmp->how_often_set == 1) {
+    free(tmp->how_often_data);
+    tmp->how_often_data = NULL;
+    tmp->how_often_set = 0;
+    tmp->how_often_length = 0;
+    tmp->how_often_num_allocated = 0;
+  }
+  free(tmp->how_often_data);
+  free(tmp);
+}
+
+void
+kill_marshal(struct evbuffer *evbuf, const struct kill *tmp){
+  evtag_marshal_string(evbuf, KILL_WEAPON, tmp->weapon_data);
+  evtag_marshal_string(evbuf, KILL_ACTION, tmp->action_data);
+  if (tmp->how_often_set) {
+    {
+      int i;
+      for (i = 0; i < tmp->how_often_length; ++i) {
+    evtag_marshal_int(evbuf, KILL_HOW_OFTEN, tmp->how_often_data[i]);
+      }
+    }
+  }
+}
+
+int
+kill_unmarshal(struct kill *tmp,  struct evbuffer *evbuf)
+{
+  ev_uint32_t tag;
+  while (evbuffer_get_length(evbuf) > 0) {
+    if (evtag_peek(evbuf, &tag) == -1)
+      return (-1);
+    switch (tag) {
+
+      case KILL_WEAPON:
+
+        if (tmp->weapon_set)
+          return (-1);
+        if (evtag_unmarshal_string(evbuf, KILL_WEAPON, &tmp->weapon_data) == -1) {
+          event_warnx("%s: failed to unmarshal weapon", __func__);
+          return (-1);
+        }
+        tmp->weapon_set = 1;
+        break;
+
+      case KILL_ACTION:
+
+        if (tmp->action_set)
+          return (-1);
+        if (evtag_unmarshal_string(evbuf, KILL_ACTION, &tmp->action_data) == -1) {
+          event_warnx("%s: failed to unmarshal action", __func__);
+          return (-1);
+        }
+        tmp->action_set = 1;
+        break;
+
+      case KILL_HOW_OFTEN:
+
+        if (tmp->how_often_length >= tmp->how_often_num_allocated &&
+            kill_how_often_expand_to_hold_more(tmp) < 0) {
+          puts("HEY NOW");
+          return (-1);
+        }
+        if (evtag_unmarshal_int(evbuf, KILL_HOW_OFTEN, &tmp->how_often_data[tmp->how_often_length]) == -1) {
+          event_warnx("%s: failed to unmarshal how_often", __func__);
+          return (-1);
+        }
+        ++tmp->how_often_length;
+        tmp->how_often_set = 1;
+        break;
+
+      default:
+        return -1;
+    }
+  }
+
+  if (kill_complete(tmp) == -1)
+    return (-1);
+  return (0);
+}
+
+int
+kill_complete(struct kill *msg)
+{
+  if (!msg->weapon_set)
+    return (-1);
+  if (!msg->action_set)
+    return (-1);
+  return (0);
+}
+
+int
+evtag_unmarshal_kill(struct evbuffer *evbuf, ev_uint32_t need_tag, struct kill *msg)
+{
+  ev_uint32_t tag;
+  int res = -1;
+
+  struct evbuffer *tmp = evbuffer_new();
+
+  if (evtag_unmarshal(evbuf, &tag, tmp) == -1 || tag != need_tag)
+    goto error;
+
+  if (kill_unmarshal(msg, tmp) == -1)
+    goto error;
+
+  res = 0;
+
+ error:
+  evbuffer_free(tmp);
+  return (res);
+}
+
+void
+evtag_marshal_kill(struct evbuffer *evbuf, ev_uint32_t tag, const struct kill *msg)
+{
+  struct evbuffer *buf_ = evbuffer_new();
+  assert(buf_ != NULL);
+  kill_marshal(buf_, msg);
+  evtag_marshal_buffer(evbuf, tag, buf_);
+   evbuffer_free(buf_);
+}
+
+/*
+ * Implementation of run
+ */
+
+static struct run_access_ run_base__ = {
+  run_how_assign,
+  run_how_get,
+  run_some_bytes_assign,
+  run_some_bytes_get,
+  run_fixed_bytes_assign,
+  run_fixed_bytes_get,
+  run_notes_assign,
+  run_notes_get,
+  run_notes_add,
+  run_large_number_assign,
+  run_large_number_get,
+  run_other_numbers_assign,
+  run_other_numbers_get,
+  run_other_numbers_add,
+};
+
+struct run *
+run_new(void)
+{
+  return run_new_with_arg(NULL);
+}
+
+struct run *
+run_new_with_arg(void *unused)
+{
+  struct run *tmp;
+  if ((tmp = malloc(sizeof(struct run))) == NULL) {
+    event_warn("%s: malloc", __func__);
+    return (NULL);
+  }
+  tmp->base = &run_base__;
+
+  tmp->how_data = NULL;
+  tmp->how_set = 0;
+
+  tmp->some_bytes_data = NULL;
+  tmp->some_bytes_length = 0;
+  tmp->some_bytes_set = 0;
+
+  memset(tmp->fixed_bytes_data, 0, sizeof(tmp->fixed_bytes_data));
+  tmp->fixed_bytes_set = 0;
+
+  tmp->notes_data = NULL;
+  tmp->notes_length = 0;
+  tmp->notes_num_allocated = 0;
+  tmp->notes_set = 0;
+
+  tmp->large_number_data = 0;
+  tmp->large_number_set = 0;
+
+  tmp->other_numbers_data = NULL;
+  tmp->other_numbers_length = 0;
+  tmp->other_numbers_num_allocated = 0;
+  tmp->other_numbers_set = 0;
+
+  return (tmp);
+}
+
+
+
+
+static int
+run_notes_expand_to_hold_more(struct run *msg)
+{
+  int tobe_allocated = msg->notes_num_allocated;
+  char ** new_data = NULL;
+  tobe_allocated = !tobe_allocated ? 1 : tobe_allocated << 1;
+  new_data = (char **) realloc(msg->notes_data,
+      tobe_allocated * sizeof(char *));
+  if (new_data == NULL)
+    return -1;
+  msg->notes_data = new_data;
+  msg->notes_num_allocated = tobe_allocated;
+  return 0;}
+
+char * *
+run_notes_add(struct run *msg, const char * value)
+{
+  if (++msg->notes_length >= msg->notes_num_allocated) {
+    if (run_notes_expand_to_hold_more(msg)<0)
+      goto error;
+  }
+  if (value != NULL) {
+    msg->notes_data[msg->notes_length - 1] = strdup(value);
+    if (msg->notes_data[msg->notes_length - 1] == NULL) {
+      goto error;
+    }
+  } else {
+    msg->notes_data[msg->notes_length - 1] = NULL;
+  }
+  msg->notes_set = 1;
+  return &(msg->notes_data[msg->notes_length - 1]);
+error:
+  --msg->notes_length;
+  return (NULL);
+}
+
+
+static int
+run_other_numbers_expand_to_hold_more(struct run *msg)
+{
+  int tobe_allocated = msg->other_numbers_num_allocated;
+  ev_uint32_t* new_data = NULL;
+  tobe_allocated = !tobe_allocated ? 1 : tobe_allocated << 1;
+  new_data = (ev_uint32_t*) realloc(msg->other_numbers_data,
+      tobe_allocated * sizeof(ev_uint32_t));
+  if (new_data == NULL)
+    return -1;
+  msg->other_numbers_data = new_data;
+  msg->other_numbers_num_allocated = tobe_allocated;
+  return 0;}
+
+ev_uint32_t *
+run_other_numbers_add(struct run *msg, const ev_uint32_t value)
+{
+  if (++msg->other_numbers_length >= msg->other_numbers_num_allocated) {
+    if (run_other_numbers_expand_to_hold_more(msg)<0)
+      goto error;
+  }
+  msg->other_numbers_data[msg->other_numbers_length - 1] = value;
+  msg->other_numbers_set = 1;
+  return &(msg->other_numbers_data[msg->other_numbers_length - 1]);
+error:
+  --msg->other_numbers_length;
+  return (NULL);
+}
+
+int
+run_how_assign(struct run *msg,
+    const char * value)
+{
+  if (msg->how_data != NULL)
+    free(msg->how_data);
+  if ((msg->how_data = strdup(value)) == NULL)
+    return (-1);
+  msg->how_set = 1;
+  return (0);
+}
+
+int
+run_some_bytes_assign(struct run *msg, const ev_uint8_t * value, ev_uint32_t len)
+{
+  if (msg->some_bytes_data != NULL)
+    free (msg->some_bytes_data);
+  msg->some_bytes_data = malloc(len);
+  if (msg->some_bytes_data == NULL)
+    return (-1);
+  msg->some_bytes_set = 1;
+  msg->some_bytes_length = len;
+  memcpy(msg->some_bytes_data, value, len);
+  return (0);
+}
+
+int
+run_fixed_bytes_assign(struct run *msg, const ev_uint8_t *value)
+{
+  msg->fixed_bytes_set = 1;
+  memcpy(msg->fixed_bytes_data, value, 24);
+  return (0);
+}
+
+int
+run_notes_assign(struct run *msg, int off,
+    const char * value)
+{
+  if (!msg->notes_set || off < 0 || off >= msg->notes_length)
+    return (-1);
+
+  {
+    if (msg->notes_data[off] != NULL)
+      free(msg->notes_data[off]);
+    msg->notes_data[off] = strdup(value);
+    if (msg->notes_data[off] == NULL) {
+      event_warnx("%s: strdup", __func__);
+      return (-1);
+    }
+  }
+  return (0);
+}
+
+int
+run_large_number_assign(struct run *msg, const ev_uint64_t value)
+{
+  msg->large_number_set = 1;
+  msg->large_number_data = value;
+  return (0);
+}
+
+int
+run_other_numbers_assign(struct run *msg, int off,
+    const ev_uint32_t value)
+{
+  if (!msg->other_numbers_set || off < 0 || off >= msg->other_numbers_length)
+    return (-1);
+
+  {
+    msg->other_numbers_data[off] = value;
+  }
+  return (0);
+}
+
+int
+run_how_get(struct run *msg, char * *value)
+{
+  if (msg->how_set != 1)
+    return (-1);
+  *value = msg->how_data;
+  return (0);
+}
+
+int
+run_some_bytes_get(struct run *msg, ev_uint8_t * *value, ev_uint32_t *plen)
+{
+  if (msg->some_bytes_set != 1)
+    return (-1);
+  *value = msg->some_bytes_data;
+  *plen = msg->some_bytes_length;
+  return (0);
+}
+
+int
+run_fixed_bytes_get(struct run *msg, ev_uint8_t **value)
+{
+  if (msg->fixed_bytes_set != 1)
+    return (-1);
+  *value = msg->fixed_bytes_data;
+  return (0);
+}
+
+int
+run_notes_get(struct run *msg, int offset,
+    char * *value)
+{
+  if (!msg->notes_set || offset < 0 || offset >= msg->notes_length)
+    return (-1);
+  *value = msg->notes_data[offset];
+  return (0);
+}
+
+int
+run_large_number_get(struct run *msg, ev_uint64_t *value)
+{
+  if (msg->large_number_set != 1)
+    return (-1);
+  *value = msg->large_number_data;
+  return (0);
+}
+
+int
+run_other_numbers_get(struct run *msg, int offset,
+    ev_uint32_t *value)
+{
+  if (!msg->other_numbers_set || offset < 0 || offset >= msg->other_numbers_length)
+    return (-1);
+  *value = msg->other_numbers_data[offset];
+  return (0);
+}
+
+void
+run_clear(struct run *tmp)
+{
+  if (tmp->how_set == 1) {
+    free(tmp->how_data);
+    tmp->how_data = NULL;
+    tmp->how_set = 0;
+  }
+  if (tmp->some_bytes_set == 1) {
+    free (tmp->some_bytes_data);
+    tmp->some_bytes_data = NULL;
+    tmp->some_bytes_length = 0;
+    tmp->some_bytes_set = 0;
+  }
+  tmp->fixed_bytes_set = 0;
+  memset(tmp->fixed_bytes_data, 0, sizeof(tmp->fixed_bytes_data));
+  if (tmp->notes_set == 1) {
+    int i;
+    for (i = 0; i < tmp->notes_length; ++i) {
+      if (tmp->notes_data[i] != NULL) free(tmp->notes_data[i]);
+    }
+    free(tmp->notes_data);
+    tmp->notes_data = NULL;
+    tmp->notes_set = 0;
+    tmp->notes_length = 0;
+    tmp->notes_num_allocated = 0;
+  }
+  tmp->large_number_set = 0;
+  if (tmp->other_numbers_set == 1) {
+    free(tmp->other_numbers_data);
+    tmp->other_numbers_data = NULL;
+    tmp->other_numbers_set = 0;
+    tmp->other_numbers_length = 0;
+    tmp->other_numbers_num_allocated = 0;
+  }
+}
+
+void
+run_free(struct run *tmp)
+{
+  if (tmp->how_data != NULL)
+      free (tmp->how_data);
+  if (tmp->some_bytes_data != NULL)
+      free(tmp->some_bytes_data);
+  if (tmp->notes_set == 1) {
+    int i;
+    for (i = 0; i < tmp->notes_length; ++i) {
+      if (tmp->notes_data[i] != NULL) free(tmp->notes_data[i]);
+    }
+    free(tmp->notes_data);
+    tmp->notes_data = NULL;
+    tmp->notes_set = 0;
+    tmp->notes_length = 0;
+    tmp->notes_num_allocated = 0;
+  }
+  free(tmp->notes_data);
+  if (tmp->other_numbers_set == 1) {
+    free(tmp->other_numbers_data);
+    tmp->other_numbers_data = NULL;
+    tmp->other_numbers_set = 0;
+    tmp->other_numbers_length = 0;
+    tmp->other_numbers_num_allocated = 0;
+  }
+  free(tmp->other_numbers_data);
+  free(tmp);
+}
+
+void
+run_marshal(struct evbuffer *evbuf, const struct run *tmp){
+  evtag_marshal_string(evbuf, RUN_HOW, tmp->how_data);
+  if (tmp->some_bytes_set) {
+    evtag_marshal(evbuf, RUN_SOME_BYTES, tmp->some_bytes_data, tmp->some_bytes_length);
+  }
+  evtag_marshal(evbuf, RUN_FIXED_BYTES, tmp->fixed_bytes_data, (24));
+  if (tmp->notes_set) {
+    {
+      int i;
+      for (i = 0; i < tmp->notes_length; ++i) {
+    evtag_marshal_string(evbuf, RUN_NOTES, tmp->notes_data[i]);
+      }
+    }
+  }
+  if (tmp->large_number_set) {
+    evtag_marshal_int64(evbuf, RUN_LARGE_NUMBER, tmp->large_number_data);
+  }
+  if (tmp->other_numbers_set) {
+    {
+      int i;
+      for (i = 0; i < tmp->other_numbers_length; ++i) {
+    evtag_marshal_int(evbuf, RUN_OTHER_NUMBERS, tmp->other_numbers_data[i]);
+      }
+    }
+  }
+}
+
+int
+run_unmarshal(struct run *tmp,  struct evbuffer *evbuf)
+{
+  ev_uint32_t tag;
+  while (evbuffer_get_length(evbuf) > 0) {
+    if (evtag_peek(evbuf, &tag) == -1)
+      return (-1);
+    switch (tag) {
+
+      case RUN_HOW:
+
+        if (tmp->how_set)
+          return (-1);
+        if (evtag_unmarshal_string(evbuf, RUN_HOW, &tmp->how_data) == -1) {
+          event_warnx("%s: failed to unmarshal how", __func__);
+          return (-1);
+        }
+        tmp->how_set = 1;
+        break;
+
+      case RUN_SOME_BYTES:
+
+        if (tmp->some_bytes_set)
+          return (-1);
+        if (evtag_payload_length(evbuf, &tmp->some_bytes_length) == -1)
+          return (-1);
+        if (tmp->some_bytes_length > evbuffer_get_length(evbuf))
+          return (-1);
+        if ((tmp->some_bytes_data = malloc(tmp->some_bytes_length)) == NULL)
+          return (-1);
+        if (evtag_unmarshal_fixed(evbuf, RUN_SOME_BYTES, tmp->some_bytes_data, tmp->some_bytes_length) == -1) {
+          event_warnx("%s: failed to unmarshal some_bytes", __func__);
+          return (-1);
+        }
+        tmp->some_bytes_set = 1;
+        break;
+
+      case RUN_FIXED_BYTES:
+
+        if (tmp->fixed_bytes_set)
+          return (-1);
+        if (evtag_unmarshal_fixed(evbuf, RUN_FIXED_BYTES, tmp->fixed_bytes_data, (24)) == -1) {
+          event_warnx("%s: failed to unmarshal fixed_bytes", __func__);
+          return (-1);
+        }
+        tmp->fixed_bytes_set = 1;
+        break;
+
+      case RUN_NOTES:
+
+        if (tmp->notes_length >= tmp->notes_num_allocated &&
+            run_notes_expand_to_hold_more(tmp) < 0) {
+          puts("HEY NOW");
+          return (-1);
+        }
+        if (evtag_unmarshal_string(evbuf, RUN_NOTES, &tmp->notes_data[tmp->notes_length]) == -1) {
+          event_warnx("%s: failed to unmarshal notes", __func__);
+          return (-1);
+        }
+        ++tmp->notes_length;
+        tmp->notes_set = 1;
+        break;
+
+      case RUN_LARGE_NUMBER:
+
+        if (tmp->large_number_set)
+          return (-1);
+        if (evtag_unmarshal_int64(evbuf, RUN_LARGE_NUMBER, &tmp->large_number_data) == -1) {
+          event_warnx("%s: failed to unmarshal large_number", __func__);
+          return (-1);
+        }
+        tmp->large_number_set = 1;
+        break;
+
+      case RUN_OTHER_NUMBERS:
+
+        if (tmp->other_numbers_length >= tmp->other_numbers_num_allocated &&
+            run_other_numbers_expand_to_hold_more(tmp) < 0) {
+          puts("HEY NOW");
+          return (-1);
+        }
+        if (evtag_unmarshal_int(evbuf, RUN_OTHER_NUMBERS, &tmp->other_numbers_data[tmp->other_numbers_length]) == -1) {
+          event_warnx("%s: failed to unmarshal other_numbers", __func__);
+          return (-1);
+        }
+        ++tmp->other_numbers_length;
+        tmp->other_numbers_set = 1;
+        break;
+
+      default:
+        return -1;
+    }
+  }
+
+  if (run_complete(tmp) == -1)
+    return (-1);
+  return (0);
+}
+
+int
+run_complete(struct run *msg)
+{
+  if (!msg->how_set)
+    return (-1);
+  if (!msg->fixed_bytes_set)
+    return (-1);
+  return (0);
+}
+
+int
+evtag_unmarshal_run(struct evbuffer *evbuf, ev_uint32_t need_tag, struct run *msg)
+{
+  ev_uint32_t tag;
+  int res = -1;
+
+  struct evbuffer *tmp = evbuffer_new();
+
+  if (evtag_unmarshal(evbuf, &tag, tmp) == -1 || tag != need_tag)
+    goto error;
+
+  if (run_unmarshal(msg, tmp) == -1)
+    goto error;
+
+  res = 0;
+
+ error:
+  evbuffer_free(tmp);
+  return (res);
+}
+
+void
+evtag_marshal_run(struct evbuffer *evbuf, ev_uint32_t tag, const struct run *msg)
+{
+  struct evbuffer *buf_ = evbuffer_new();
+  assert(buf_ != NULL);
+  run_marshal(buf_, msg);
+  evtag_marshal_buffer(evbuf, tag, buf_);
+   evbuffer_free(buf_);
+}
+
--- contrib/ntp/sntp/libevent/test/regress.gen.h.orig
+++ contrib/ntp/sntp/libevent/test/regress.gen.h
@@ -1 +1,207 @@
-#define NO_PYTHON_EXISTS
+/*
+ * Automatically generated from ../../../sntp/libevent/test/regress.rpc
+ */
+
+#ifndef EVENT_RPCOUT__________SNTP_LIBEVENT_TEST_REGRESS_RPC_
+#define EVENT_RPCOUT__________SNTP_LIBEVENT_TEST_REGRESS_RPC_
+
+#include <event2/util.h> /* for ev_uint*_t */
+#include <event2/rpc.h>
+
+struct msg;
+struct kill;
+struct run;
+
+/* Tag definition for msg */
+enum msg_ {
+  MSG_FROM_NAME=1,
+  MSG_TO_NAME=2,
+  MSG_ATTACK=3,
+  MSG_RUN=4,
+  MSG_MAX_TAGS
+};
+
+/* Structure declaration for msg */
+struct msg_access_ {
+  int (*from_name_assign)(struct msg *, const char *);
+  int (*from_name_get)(struct msg *, char * *);
+  int (*to_name_assign)(struct msg *, const char *);
+  int (*to_name_get)(struct msg *, char * *);
+  int (*attack_assign)(struct msg *, const struct kill*);
+  int (*attack_get)(struct msg *, struct kill* *);
+  int (*run_assign)(struct msg *, int, const struct run*);
+  int (*run_get)(struct msg *, int, struct run* *);
+  struct run*  (*run_add)(struct msg *msg);
+};
+
+struct msg {
+  struct msg_access_ *base;
+
+  char *from_name_data;
+  char *to_name_data;
+  struct kill* attack_data;
+  struct run* *run_data;
+  int run_length;
+  int run_num_allocated;
+
+  ev_uint8_t from_name_set;
+  ev_uint8_t to_name_set;
+  ev_uint8_t attack_set;
+  ev_uint8_t run_set;
+};
+
+struct msg *msg_new(void);
+struct msg *msg_new_with_arg(void *);
+void msg_free(struct msg *);
+void msg_clear(struct msg *);
+void msg_marshal(struct evbuffer *, const struct msg *);
+int msg_unmarshal(struct msg *, struct evbuffer *);
+int msg_complete(struct msg *);
+void evtag_marshal_msg(struct evbuffer *, ev_uint32_t,
+    const struct msg *);
+int evtag_unmarshal_msg(struct evbuffer *, ev_uint32_t,
+    struct msg *);
+int msg_from_name_assign(struct msg *, const char *);
+int msg_from_name_get(struct msg *, char * *);
+int msg_to_name_assign(struct msg *, const char *);
+int msg_to_name_get(struct msg *, char * *);
+int msg_attack_assign(struct msg *, const struct kill*);
+int msg_attack_get(struct msg *, struct kill* *);
+int msg_run_assign(struct msg *, int, const struct run*);
+int msg_run_get(struct msg *, int, struct run* *);
+struct run*  msg_run_add(struct msg *msg);
+/* --- msg done --- */
+
+/* Tag definition for kill */
+enum kill_ {
+  KILL_WEAPON=65825,
+  KILL_ACTION=2,
+  KILL_HOW_OFTEN=3,
+  KILL_MAX_TAGS
+};
+
+/* Structure declaration for kill */
+struct kill_access_ {
+  int (*weapon_assign)(struct kill *, const char *);
+  int (*weapon_get)(struct kill *, char * *);
+  int (*action_assign)(struct kill *, const char *);
+  int (*action_get)(struct kill *, char * *);
+  int (*how_often_assign)(struct kill *, int, const ev_uint32_t);
+  int (*how_often_get)(struct kill *, int, ev_uint32_t *);
+  ev_uint32_t * (*how_often_add)(struct kill *msg, const ev_uint32_t value);
+};
+
+struct kill {
+  struct kill_access_ *base;
+
+  char *weapon_data;
+  char *action_data;
+  ev_uint32_t *how_often_data;
+  int how_often_length;
+  int how_often_num_allocated;
+
+  ev_uint8_t weapon_set;
+  ev_uint8_t action_set;
+  ev_uint8_t how_often_set;
+};
+
+struct kill *kill_new(void);
+struct kill *kill_new_with_arg(void *);
+void kill_free(struct kill *);
+void kill_clear(struct kill *);
+void kill_marshal(struct evbuffer *, const struct kill *);
+int kill_unmarshal(struct kill *, struct evbuffer *);
+int kill_complete(struct kill *);
+void evtag_marshal_kill(struct evbuffer *, ev_uint32_t,
+    const struct kill *);
+int evtag_unmarshal_kill(struct evbuffer *, ev_uint32_t,
+    struct kill *);
+int kill_weapon_assign(struct kill *, const char *);
+int kill_weapon_get(struct kill *, char * *);
+int kill_action_assign(struct kill *, const char *);
+int kill_action_get(struct kill *, char * *);
+int kill_how_often_assign(struct kill *, int, const ev_uint32_t);
+int kill_how_often_get(struct kill *, int, ev_uint32_t *);
+ev_uint32_t * kill_how_often_add(struct kill *msg, const ev_uint32_t value);
+/* --- kill done --- */
+
+/* Tag definition for run */
+enum run_ {
+  RUN_HOW=1,
+  RUN_SOME_BYTES=2,
+  RUN_FIXED_BYTES=3,
+  RUN_NOTES=4,
+  RUN_LARGE_NUMBER=5,
+  RUN_OTHER_NUMBERS=6,
+  RUN_MAX_TAGS
+};
+
+/* Structure declaration for run */
+struct run_access_ {
+  int (*how_assign)(struct run *, const char *);
+  int (*how_get)(struct run *, char * *);
+  int (*some_bytes_assign)(struct run *, const ev_uint8_t *, ev_uint32_t);
+  int (*some_bytes_get)(struct run *, ev_uint8_t * *, ev_uint32_t *);
+  int (*fixed_bytes_assign)(struct run *, const ev_uint8_t *);
+  int (*fixed_bytes_get)(struct run *, ev_uint8_t **);
+  int (*notes_assign)(struct run *, int, const char *);
+  int (*notes_get)(struct run *, int, char * *);
+  char * * (*notes_add)(struct run *msg, const char * value);
+  int (*large_number_assign)(struct run *, const ev_uint64_t);
+  int (*large_number_get)(struct run *, ev_uint64_t *);
+  int (*other_numbers_assign)(struct run *, int, const ev_uint32_t);
+  int (*other_numbers_get)(struct run *, int, ev_uint32_t *);
+  ev_uint32_t * (*other_numbers_add)(struct run *msg, const ev_uint32_t value);
+};
+
+struct run {
+  struct run_access_ *base;
+
+  char *how_data;
+  ev_uint8_t *some_bytes_data;
+  ev_uint32_t some_bytes_length;
+  ev_uint8_t fixed_bytes_data[24];
+  char * *notes_data;
+  int notes_length;
+  int notes_num_allocated;
+  ev_uint64_t large_number_data;
+  ev_uint32_t *other_numbers_data;
+  int other_numbers_length;
+  int other_numbers_num_allocated;
+
+  ev_uint8_t how_set;
+  ev_uint8_t some_bytes_set;
+  ev_uint8_t fixed_bytes_set;
+  ev_uint8_t notes_set;
+  ev_uint8_t large_number_set;
+  ev_uint8_t other_numbers_set;
+};
+
+struct run *run_new(void);
+struct run *run_new_with_arg(void *);
+void run_free(struct run *);
+void run_clear(struct run *);
+void run_marshal(struct evbuffer *, const struct run *);
+int run_unmarshal(struct run *, struct evbuffer *);
+int run_complete(struct run *);
+void evtag_marshal_run(struct evbuffer *, ev_uint32_t,
+    const struct run *);
+int evtag_unmarshal_run(struct evbuffer *, ev_uint32_t,
+    struct run *);
+int run_how_assign(struct run *, const char *);
+int run_how_get(struct run *, char * *);
+int run_some_bytes_assign(struct run *, const ev_uint8_t *, ev_uint32_t);
+int run_some_bytes_get(struct run *, ev_uint8_t * *, ev_uint32_t *);
+int run_fixed_bytes_assign(struct run *, const ev_uint8_t *);
+int run_fixed_bytes_get(struct run *, ev_uint8_t **);
+int run_notes_assign(struct run *, int, const char *);
+int run_notes_get(struct run *, int, char * *);
+char * * run_notes_add(struct run *msg, const char * value);
+int run_large_number_assign(struct run *, const ev_uint64_t);
+int run_large_number_get(struct run *, ev_uint64_t *);
+int run_other_numbers_assign(struct run *, int, const ev_uint32_t);
+int run_other_numbers_get(struct run *, int, ev_uint32_t *);
+ev_uint32_t * run_other_numbers_add(struct run *msg, const ev_uint32_t value);
+/* --- run done --- */
+
+#endif  /* EVENT_RPCOUT__________SNTP_LIBEVENT_TEST_REGRESS_RPC_ */
--- contrib/ntp/sntp/libopts/Makefile.in.orig
+++ contrib/ntp/sntp/libopts/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/libopts/autoopts/options.h.orig
+++ contrib/ntp/sntp/libopts/autoopts/options.h
@@ -109,7 +109,7 @@
  * @{
  */
 /// autoopts structure version
-#define OPTIONS_STRUCT_VERSION      167936
+#define OPTIONS_STRUCT_VERSION      167937
 /// autoopts structure version string
 #define OPTIONS_VERSION_STRING      "41:0:16"
 /// minimum version the autoopts library supports
--- contrib/ntp/sntp/libopts/genshell.h.orig
+++ contrib/ntp/sntp/libopts/genshell.h
@@ -55,7 +55,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
--- contrib/ntp/sntp/m4/ntp_libntp.m4.orig
+++ contrib/ntp/sntp/m4/ntp_libntp.m4
@@ -689,11 +689,38 @@
  yes)
     AC_DEFINE([HAVE_SOLARIS_PRIVS], [1],
 	[Are Solaris privileges available?])
+    ;;
+ '') ntp_have_solarisprivs="no"
+    ;;
 esac
 
 AC_MSG_RESULT([$ntp_have_solarisprivs])
 
-case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs" in
+AC_CHECK_HEADERS([sys/mac.h])
+
+AC_ARG_ENABLE(
+    [trustedbsd_mac],
+    [AS_HELP_STRING(
+	[--enable-trustedbsd-mac],
+	[s Use TrustedBSD MAC policy for non-root clock control]
+    )],
+    [ntp_use_trustedbsd_mac=$enableval]
+)
+
+AC_MSG_CHECKING([if we should use TrustedBSD MAC privileges])
+
+case "$ntp_use_trustedbsd_mac$ac_cv_header_sys_mac_h" in
+ yesyes)
+    AC_DEFINE([HAVE_TRUSTEDBSD_MAC], [1],
+	[Are TrustedBSD MAC policy privileges available?])
+    ;;
+ *) ntp_use_trustedbsd_mac="no";
+    ;;
+esac
+
+AC_MSG_RESULT([$ntp_use_trustedbsd_mac])
+
+case "$ntp_use_dev_clockctl$ntp_have_linuxcaps$ntp_have_solarisprivs$ntp_use_trustedbsd_mac" in
  *yes*)
     AC_DEFINE([HAVE_DROPROOT], [1],
 	[Can we drop root privileges?])
@@ -862,6 +889,14 @@
 AC_SEARCH_LIBS([MD5Init], [md5 md])
 AC_CHECK_FUNCS([MD5Init sysconf getdtablesize sigaction sigset sigvec])
 
+# HMS: does this need to be a cached variable?
+AC_ARG_ENABLE(
+    [signalled-io],
+    [AS_HELP_STRING([--enable-signalled-io], [s Use signalled IO if we can])],
+    [use_signalled_io=$enableval],
+    [use_signalled_io=yes]
+    )
+
 AC_CACHE_CHECK(
     [for SIGIO],
     [ntp_cv_hdr_def_sigio],
@@ -925,12 +960,23 @@
 	ans=no
 	;;
     esac
+    case "$ans" in
+     no)
+	ans="Possible for $host but disabled because of reported problems"
+	;;
+    esac
     ;;
 esac
 case "$ans" in
  yes)
-    AC_DEFINE([HAVE_SIGNALED_IO], [1],
-	[Can we use SIGIO for tcp and udp IO?])
+    case "$use_signalled_io" in
+     yes)
+	AC_DEFINE([HAVE_SIGNALED_IO], [1],
+	    [Can we use SIGIO for tcp and udp IO?])
+	;;
+     *) ans="Allowed for $host but --disable-signalled-io was given"
+	;;
+    esac
 esac
 AC_MSG_RESULT([$ans])
 
--- contrib/ntp/sntp/m4/ntp_openssl.m4.orig
+++ contrib/ntp/sntp/m4/ntp_openssl.m4
@@ -242,6 +242,7 @@
 
 case "$ntp_openssl" in
  yes)
+    AC_CHECK_HEADERS([openssl/cmac.h openssl/hmac.h])
     AC_DEFINE([OPENSSL], [], [Use OpenSSL?])
     case "$VER_SUFFIX" in
      *o*) ;;
--- contrib/ntp/sntp/m4/version.m4.orig
+++ contrib/ntp/sntp/m4/version.m4
@@ -1 +1 @@
-m4_define([VERSION_NUMBER],[4.2.8p11])
+m4_define([VERSION_NUMBER],[4.2.8p13])
--- contrib/ntp/sntp/main.c.orig
+++ contrib/ntp/sntp/main.c
@@ -1608,3 +1608,9 @@
 #endif
 }
 
+/* Dummy function to satisfy libntp/work_fork.c */
+extern int set_user_group_ids(void);
+int set_user_group_ids(void)
+{
+    return 1;
+}
--- contrib/ntp/sntp/networking.c.orig
+++ contrib/ntp/sntp/networking.c
@@ -78,7 +78,8 @@
 	
 	u_int nlen;	/* next extension length */
 	while ((tail - head) > 6) {
-		nlen = ntohl(*head++) & 0xffff;
+		nlen = ntohl(*head) & 0xffff;
+		++head;
 		nlen = (nlen + 3) >> 2;
 		if (nlen > (u_int)(tail - head) || nlen < 4)
 			return NULL;	/* Blooper! Inconsistent! */
--- contrib/ntp/sntp/scm-rev.orig
+++ contrib/ntp/sntp/scm-rev
@@ -1 +1 @@
-1.3728
+1.3847
--- contrib/ntp/sntp/scripts/Makefile.in.orig
+++ contrib/ntp/sntp/scripts/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/sntp-opts.c.orig
+++ contrib/ntp/sntp/sntp-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (sntp-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 10:25:32 AM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:55:45 AM by AutoGen 5.18.5
  *  From the definitions    sntp-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -70,7 +70,7 @@
  *  static const strings for sntp options
  */
 static char const sntp_opt_strs[2566] =
-/*     0 */ "sntp 4.2.8p11\n"
+/*     0 */ "sntp 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -156,7 +156,7 @@
 /*  2313 */ "LOAD_OPTS\0"
 /*  2323 */ "no-load-opts\0"
 /*  2336 */ "SNTP\0"
-/*  2341 */ "sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p11\n"
+/*  2341 */ "sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... \\\n"
             "\t\t[ hostname-or-IP ...]\n\0"
 /*  2501 */ "$HOME\0"
@@ -164,7 +164,7 @@
 /*  2509 */ ".ntprc\0"
 /*  2516 */ "http://bugs.ntp.org, bugs@ntp.org\0"
 /*  2550 */ "\n\0"
-/*  2552 */ "sntp 4.2.8p11";
+/*  2552 */ "sntp 4.2.8p13";
 
 /**
  *  ipv4 option description with
@@ -1176,7 +1176,7 @@
      translate option names.
    */
   /* referenced via sntpOptions.pzCopyright */
-  puts(_("sntp 4.2.8p11\n\
+  puts(_("sntp 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -1266,7 +1266,7 @@
   puts(_("load options from a config file"));
 
   /* referenced via sntpOptions.pzUsageTitle */
-  puts(_("sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p11\n\
+  puts(_("sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]... \\\n\
 \t\t[ hostname-or-IP ...]\n"));
 
@@ -1274,7 +1274,7 @@
   puts(_("\n"));
 
   /* referenced via sntpOptions.pzFullVersion */
-  puts(_("sntp 4.2.8p11"));
+  puts(_("sntp 4.2.8p13"));
 
   /* referenced via sntpOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/sntp/sntp-opts.h.orig
+++ contrib/ntp/sntp/sntp-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (sntp-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 10:25:31 AM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:55:45 AM by AutoGen 5.18.5
  *  From the definitions    sntp-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -91,9 +91,9 @@
 /** count of all options for sntp */
 #define OPTION_CT    23
 /** sntp version */
-#define SNTP_VERSION       "4.2.8p11"
+#define SNTP_VERSION       "4.2.8p13"
 /** Full sntp version text */
-#define SNTP_FULL_VERSION  "sntp 4.2.8p11"
+#define SNTP_FULL_VERSION  "sntp 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/sntp/sntp.1sntpman.orig
+++ contrib/ntp/sntp/sntp.1sntpman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH sntp 1sntpman "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH sntp 1sntpman "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-eaayfN/ag-qaaqeN)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:13:07 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:55:51 AM by AutoGen 5.18.5
 .\" From the definitions sntp-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/sntp/sntp.1sntpmdoc.orig
+++ contrib/ntp/sntp/sntp.1sntpmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt SNTP 1sntpmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (sntp-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:13:14 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:55:48 AM by AutoGen 5.18.5
 .\"  From the definitions    sntp-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/sntp/sntp.html.orig
+++ contrib/ntp/sntp/sntp.html
@@ -1,106 +1,153 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Sntp User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Sntp User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Sntp User&rsquo;s Manual</title>
+
+<meta name="description" content="Sntp User&rsquo;s Manual">
+<meta name="keywords" content="Sntp User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Sntp User's Manual</h1>
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-Description">sntp Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<body lang="en">
+<h1 class="settitle" align="center">Sntp User&rsquo;s Manual</h1>
+
+
+
+
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-Description" accesskey="n" rel="next">sntp Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="Simple-Network-Time-Protocol-User-Manual"></a>
+<h1 class="top">Simple Network Time Protocol User Manual</h1>
 
-<h2 class="unnumbered">Simple Network Time Protocol User Manual</h2>
-
-<p>This document describes the use of the NTP Project's <code>sntp</code> program,
+<p>This document describes the use of the NTP Project&rsquo;s <code>sntp</code> program,
 that can be used to query a Network Time Protocol (NTP) server and
 display the time offset of the system clock relative to the server
 clock.  Run as root, it can correct the system clock to this offset as
 well.  It can be run as an interactive command or from a cron job.
-
-  <p>This document applies to version 4.2.8p11 of <code>sntp</code>.
-
-  <p>The program implements the SNTP protocol as defined by RFC 5905, the NTPv4
+</p>
+<p>This document applies to version 4.2.8p13 of <code>sntp</code>.
+</p>
+<p>The program implements the SNTP protocol as defined by RFC 5905, the NTPv4
 IETF specification.
+</p>
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
 
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">Simple Network Time Protocol User Manual</a>
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description" href="#toc-Description">1 Description</a></li>
 </ul>
 </div>
 
-<ul class="menu">
-<li><a accesskey="1" href="#sntp-Description">sntp Description</a>:             Description
-<li><a accesskey="2" href="#sntp-Invocation">sntp Invocation</a>: 		Invoking sntp
-<li><a accesskey="3" href="#Usage">Usage</a>:                        Usage
-</ul>
 
-<div class="node">
-<p><hr>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#sntp-Description" accesskey="1">sntp Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Description
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-Invocation" accesskey="2">sntp Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking sntp
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="3">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+</table>
+
+<hr>
 <a name="sntp-Description"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#sntp-Invocation" accesskey="n" rel="next">sntp Invocation</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>By default, <code>sntp</code> writes the local data and time (i.e., not UTC) to the
 standard output in the format:
+</p>
+<div class="example">
+<pre class="example">1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 secs
+</pre></div>
 
-<pre class="example">     1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 secs
-</pre>
-  <p>where
+<p>where
 YYYY-MM-DD HH:MM:SS.SUBSEC is the local date and time,
 (+0800) is the local timezone adjustment (so we would add 8 hours and 0 minutes to convert the reported local time to UTC),
 and
 the +4.567 +/- 0.089 secs indicates the time offset and
 error bound of the system clock relative to the server clock.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#sntp-Invocation" accesskey="1">sntp Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Usage" accesskey="2">Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
+<hr>
 <a name="sntp-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Usage" accesskey="n" rel="next">Usage</a>, Previous: <a href="#sntp-Description" accesskey="p" rel="prev">sntp Description</a>, Up: <a href="#sntp-Description" accesskey="u" rel="up">sntp Description</a> &nbsp; </p>
 </div>
+<a name="Invoking-sntp"></a>
+<h3 class="section">1.1 Invoking sntp</h3>
+<a name="index-sntp"></a>
+<a name="index-standard-Simple-Network-Time-Protocol-client-program"></a>
 
-<h3 class="section">Invoking sntp</h3>
 
-<p><a name="index-sntp-1"></a><a name="index-standard-Simple-Network-Time-Protocol-client-program-2"></a>
 
-  <p><code>sntp</code>
+<p><code>sntp</code>
 can be used as an SNTP client to query a NTP or SNTP server and either display
-the time or set the local system's time (given suitable privilege).  It can be
+the time or set the local system&rsquo;s time (given suitable privilege).  It can be
 run as an interactive command or from a
 <code>cron</code>
 job.
-
-  <p>NTP (the Network Time Protocol) and SNTP (the Simple Network Time Protocol)
+</p>
+<p>NTP (the Network Time Protocol) and SNTP (the Simple Network Time Protocol)
 are defined and described by RFC 5905.
+</p>
 
-  <p>The default is to write the estimated correct local date and time (i.e. not
+<p>The default is to write the estimated correct local date and time (i.e. not
 UTC) to the standard output in a format like:
-
-  <p><code>'1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 [host] IP sN'</code>
-
-  <p>where the
+</p>
+<p><code>'1996-10-15 20:17:25.123 (+0800) +4.567 +/- 0.089 [host] IP sN'</code>
+</p>
+<p>where the
 <code>'(+0800)'</code>
 means that to get to UTC from the reported local time one must
 add 8 hours and 0 minutes,
@@ -107,87 +154,104 @@
 the
 <code>'+4.567'</code>
 indicates the local clock is 4.567 seconds behind the correct time
-(so 4.567 seconds must be added to the local clock to get it to be correct). 
+(so 4.567 seconds must be added to the local clock to get it to be correct).
 Note that the number of decimals printed for this value will change
-based on the reported precision of the server. 
+based on the reported precision of the server.
 <code>'+/- 0.089'</code>
 is the reported
 <em>synchronization</em> <em>distance</em>
-(in seconds), which represents the maximum error due to all causes. 
+(in seconds), which represents the maximum error due to all causes.
 If the server does not report valid data needed to calculate the
 synchronization distance, this will be reported as
-<code>'+/- ?'</code>. 
+<code>'+/- ?'</code>.
 If the
 <em>host</em>
 is different from the
 <em>IP</em>,
-both will be displayed. 
-Otherwise, only the
+both will be displayed.
+Otherwise, only the 
 <em>IP</em>
-is displayed. 
+is displayed.
 Finally, the
 <em>stratum</em>
 of the host is reported
 and the leap indicator is decoded and displayed.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>sntp</code> program. 
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>sntp</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#sntp-usage" accesskey="1">sntp usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">sntp help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-ipv4" accesskey="2">sntp ipv4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv4 option (-4)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-ipv6" accesskey="3">sntp ipv6</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ipv6 option (-6)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-authentication" accesskey="4">sntp authentication</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">authentication option (-a)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-broadcast" accesskey="5">sntp broadcast</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">broadcast option (-b)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-concurrent" accesskey="6">sntp concurrent</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">concurrent option (-c)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-gap" accesskey="7">sntp gap</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">gap option (-g)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-kod" accesskey="8">sntp kod</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">kod option (-K)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-keyfile" accesskey="9">sntp keyfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">keyfile option (-k)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-logfile">sntp logfile</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">logfile option (-l)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-steplimit">sntp steplimit</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">steplimit option (-M)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-ntpversion">sntp ntpversion</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntpversion option (-o)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-usereservedport">sntp usereservedport</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">usereservedport option (-r)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-timeout">sntp timeout</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">timeout option (-t)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-wait">sntp wait</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">wait option
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-config">sntp config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">presetting/configuring sntp
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-exit-status">sntp exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-Usage">sntp Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#sntp-Authors">sntp Authors</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authors
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#sntp-usage">sntp usage</a>:                   sntp help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#sntp-ipv4">sntp ipv4</a>:                    ipv4 option (-4)
-<li><a accesskey="3" href="#sntp-ipv6">sntp ipv6</a>:                    ipv6 option (-6)
-<li><a accesskey="4" href="#sntp-authentication">sntp authentication</a>:          authentication option (-a)
-<li><a accesskey="5" href="#sntp-broadcast">sntp broadcast</a>:               broadcast option (-b)
-<li><a accesskey="6" href="#sntp-concurrent">sntp concurrent</a>:              concurrent option (-c)
-<li><a accesskey="7" href="#sntp-gap">sntp gap</a>:                     gap option (-g)
-<li><a accesskey="8" href="#sntp-kod">sntp kod</a>:                     kod option (-K)
-<li><a accesskey="9" href="#sntp-keyfile">sntp keyfile</a>:                 keyfile option (-k)
-<li><a href="#sntp-logfile">sntp logfile</a>:                 logfile option (-l)
-<li><a href="#sntp-steplimit">sntp steplimit</a>:               steplimit option (-M)
-<li><a href="#sntp-ntpversion">sntp ntpversion</a>:              ntpversion option (-o)
-<li><a href="#sntp-usereservedport">sntp usereservedport</a>:         usereservedport option (-r)
-<li><a href="#sntp-timeout">sntp timeout</a>:                 timeout option (-t)
-<li><a href="#sntp-wait">sntp wait</a>:                    wait option
-<li><a href="#sntp-config">sntp config</a>:                  presetting/configuring sntp
-<li><a href="#sntp-exit-status">sntp exit status</a>:             exit status
-<li><a href="#sntp-Usage">sntp Usage</a>:                   Usage
-<li><a href="#sntp-Authors">sntp Authors</a>:                 Authors
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="sntp-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-ipv4">sntp ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<hr>
+<a name="sntp-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-ipv4" accesskey="n" rel="next">sntp ipv4</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="sntp-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.1.1 sntp help/usage (<samp>--help</samp>)</h4>
+<a name="index-sntp-help"></a>
 
-<h4 class="subsection">sntp help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-sntp-help-3"></a>
-This is the automatically generated usage text for sntp.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for sntp.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">sntp - standard Simple Network Time Protocol client program - Ver. 4.2.7p245
-USAGE:  sntp [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... \
+</p>
+<div class="example">
+<pre class="example">sntp - standard Simple Network Time Protocol client program - Ver. 4.2.8p13
+Usage:  sntp [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]... \
                 [ hostname-or-IP ...]
   Flg Arg Option-Name    Description
    -4 no  ipv4           Force IPv4 DNS name resolution
-                                - prohibits these options:
-                                ipv6
+                                - prohibits the option 'ipv6'
    -6 no  ipv6           Force IPv6 DNS name resolution
-                                - prohibits these options:
-                                ipv4
-   -a Num authentication Enable authentication with the key @var{auth-keynumber}
-   -B Num bctimeout      The number of seconds to wait for broadcasts
+                                - prohibits the option 'ipv4'
+   -a Num authentication Enable authentication with the key auth-keynumber
    -b Str broadcast      Listen to the address specified for broadcast time sync
                                 - may appear multiple times
    -c Str concurrent     Concurrently query all IPs returned for host-name
@@ -194,31 +258,31 @@
                                 - may appear multiple times
    -d no  debug-level    Increase debug verbosity level
                                 - may appear multiple times
-   -D Str set-debug-level Set the debug verbosity level
+   -D Num set-debug-level Set the debug verbosity level
                                 - may appear multiple times
    -g Num gap            The gap (in milliseconds) between time requests
    -K Fil kod            KoD history filename
-   -k Fil keyfile        Look in this file for the key specified with @option{-a}
+   -k Fil keyfile        Look in this file for the key specified with -a
    -l Fil logfile        Log to specified logfile
-   -M Num steplimit      Adjustments less than @var{steplimit} msec will be slewed
-                                - It must be in the range:
+   -M Num steplimit      Adjustments less than steplimit msec will be slewed
+                                - it must be in the range:
                                   greater than or equal to 0
-   -o Num ntpversion     Send @var{int} as our NTP version
-                                - It must be in the range:
+   -o Num ntpversion     Send int as our NTP protocol version
+                                - it must be in the range:
                                   0 to 7
    -r no  usereservedport Use the NTP Reserved Port (port 123)
-   -S no  step           OK to 'step' the time with @command{settimeofday(2)}
-   -s no  slew           OK to 'slew' the time with @command{adjtime(2)}
-   -u Num uctimeout      The number of seconds to wait for unicast responses
+   -S no  step           OK to 'step' the time with settimeofday(2)
+   -s no  slew           OK to 'slew' the time with adjtime(2)
+   -t Num timeout        The number of seconds to wait for responses
       no  wait           Wait for pending replies (if not setting the time)
-                                - disabled as --no-wait
+                                - disabled as '--no-wait'
                                 - enabled by default
-      opt version        Output version information and exit
-   -? no  help           Display extended usage information and exit
-   -! no  more-help      Extended usage information passed thru pager
-   -&gt; opt save-opts      Save the option state to a config file
-   -&lt; Str load-opts      Load options from a config file
-                                - disabled as --no-load-opts
+      opt version        output version information and exit
+   -? no  help           display extended usage information and exit
+   -! no  more-help      extended usage information passed thru pager
+   -&gt; opt save-opts      save the option state to a config file
+   -&lt; Str load-opts      load options from a config file
+                                - disabled as '--no-load-opts'
                                 - may appear multiple times
 
 Options are specified by doubled hyphens and their name or by a single
@@ -225,404 +289,414 @@
 hyphen and the flag character.
 
 
-
 The following option preset mechanisms are supported:
  - reading file $HOME/.ntprc
  - reading file ./.ntprc
  - examining environment variables named SNTP_*
 
-please send bug reports to:  http://bugs.ntp.org, bugs@ntp.org
-</pre>
-  <div class="node">
-<p><hr>
-<a name="sntp-ipv4"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-ipv6">sntp ipv6</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-usage">sntp usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+Please send bug reports to:  &lt;http://bugs.ntp.org, bugs@ntp.org&gt;
+</pre></div>
+
+<hr>
+<a name="sntp-ipv4"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-ipv6" accesskey="n" rel="next">sntp ipv6</a>, Previous: <a href="#sntp-usage" accesskey="p" rel="prev">sntp usage</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv4-option-_0028_002d4_0029"></a>
+<h4 class="subsection">1.1.2 ipv4 option (-4)</h4>
+<a name="index-sntp_002dipv4"></a>
 
-<h4 class="subsection">ipv4 option (-4)</h4>
+<p>This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv6.
+</li></ul>
 
-<p><a name="index-sntp_002dipv4-4"></a>
-This is the &ldquo;force ipv4 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv6. 
-</ul>
-
-  <p>Force DNS resolution of the following host names on the command line
-to the IPv4 namespace. 
-<div class="node">
-<p><hr>
-<a name="sntp-ipv6"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-authentication">sntp authentication</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-ipv4">sntp ipv4</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<p>Force DNS resolution of the following host names on the command line
+to the IPv4 namespace.
+</p><hr>
+<a name="sntp-ipv6"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-authentication" accesskey="n" rel="next">sntp authentication</a>, Previous: <a href="#sntp-ipv4" accesskey="p" rel="prev">sntp ipv4</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="ipv6-option-_0028_002d6_0029"></a>
+<h4 class="subsection">1.1.3 ipv6 option (-6)</h4>
+<a name="index-sntp_002dipv6"></a>
 
-<h4 class="subsection">ipv6 option (-6)</h4>
+<p>This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must not appear in combination with any of the following options:
+ipv4.
+</li></ul>
 
-<p><a name="index-sntp_002dipv6-5"></a>
-This is the &ldquo;force ipv6 dns name resolution&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must not appear in combination with any of the following options:
-ipv4. 
-</ul>
-
-  <p>Force DNS resolution of the following host names on the command line
-to the IPv6 namespace. 
-<div class="node">
-<p><hr>
-<a name="sntp-authentication"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-broadcast">sntp broadcast</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-ipv6">sntp ipv6</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<p>Force DNS resolution of the following host names on the command line
+to the IPv6 namespace.
+</p><hr>
+<a name="sntp-authentication"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-broadcast" accesskey="n" rel="next">sntp broadcast</a>, Previous: <a href="#sntp-ipv6" accesskey="p" rel="prev">sntp ipv6</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="authentication-option-_0028_002da_0029"></a>
+<h4 class="subsection">1.1.4 authentication option (-a)</h4>
+<a name="index-sntp_002dauthentication"></a>
 
-<h4 class="subsection">authentication option (-a)</h4>
-
-<p><a name="index-sntp_002dauthentication-6"></a>
-This is the &ldquo;enable authentication with the key <var>auth-keynumber</var>&rdquo; option. 
-This option takes a number argument <span class="file">auth-keynumber</span>. 
-Enable authentication using the key specified in this option's
-argument.  The argument of this option is the <span class="option">keyid</span>, a
-number specified in the <span class="option">keyfile</span> as this key's identifier. 
-See the <span class="option">keyfile</span> option (<span class="option">-k</span>) for more details. 
-<div class="node">
-<p><hr>
-<a name="sntp-broadcast"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-concurrent">sntp concurrent</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-authentication">sntp authentication</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<p>This is the &ldquo;enable authentication with the key <var>auth-keynumber</var>&rdquo; option.
+This option takes a number argument <samp>auth-keynumber</samp>.
+Enable authentication using the key specified in this option&rsquo;s
+argument.  The argument of this option is the <samp>keyid</samp>, a
+number specified in the <samp>keyfile</samp> as this key&rsquo;s identifier.
+See the <samp>keyfile</samp> option (<samp>-k</samp>) for more details.
+</p><hr>
+<a name="sntp-broadcast"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-concurrent" accesskey="n" rel="next">sntp concurrent</a>, Previous: <a href="#sntp-authentication" accesskey="p" rel="prev">sntp authentication</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="broadcast-option-_0028_002db_0029"></a>
+<h4 class="subsection">1.1.5 broadcast option (-b)</h4>
+<a name="index-sntp_002dbroadcast"></a>
 
-<h4 class="subsection">broadcast option (-b)</h4>
+<p>This is the &ldquo;listen to the address specified for broadcast time sync&rdquo; option.
+This option takes a string argument <samp>broadcast-address</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-sntp_002dbroadcast-7"></a>
-This is the &ldquo;listen to the address specified for broadcast time sync&rdquo; option. 
-This option takes a string argument <span class="file">broadcast-address</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>If specified <code>sntp</code> will listen to the specified address
+<p>If specified <code>sntp</code> will listen to the specified address
 for NTP broadcasts.  The default maximum wait time
-can (and probably should) be modified with <span class="option">-t</span>. 
-<div class="node">
-<p><hr>
-<a name="sntp-concurrent"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-gap">sntp gap</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-broadcast">sntp broadcast</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+can (and probably should) be modified with <samp>-t</samp>.
+</p><hr>
+<a name="sntp-concurrent"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-gap" accesskey="n" rel="next">sntp gap</a>, Previous: <a href="#sntp-broadcast" accesskey="p" rel="prev">sntp broadcast</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="concurrent-option-_0028_002dc_0029"></a>
+<h4 class="subsection">1.1.6 concurrent option (-c)</h4>
+<a name="index-sntp_002dconcurrent"></a>
 
-<h4 class="subsection">concurrent option (-c)</h4>
+<p>This is the &ldquo;concurrently query all ips returned for host-name&rdquo; option.
+This option takes a string argument <samp>host-name</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> may appear an unlimited number of times.
+</li></ul>
 
-<p><a name="index-sntp_002dconcurrent-8"></a>
-This is the &ldquo;concurrently query all ips returned for host-name&rdquo; option. 
-This option takes a string argument <span class="file">host-name</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>may appear an unlimited number of times. 
-</ul>
-
-  <p>Requests from an NTP "client" to a "server" should never be sent
+<p>Requests from an NTP &quot;client&quot; to a &quot;server&quot; should never be sent
 more rapidly than one every 2 seconds.  By default, any IPs returned
 as part of a DNS lookup are assumed to be for a single instance of
 <code>ntpd</code>, and therefore <code>sntp</code> will send queries to these IPs
 one after another, with a 2-second gap in between each query.
-
-  <p>The <span class="option">-c</span> or <span class="option">--concurrent</span> flag says that any IPs
+</p>
+<p>The <samp>-c</samp> or <samp>--concurrent</samp> flag says that any IPs
 returned for the DNS lookup of the supplied host-name are on
-different machines, so we can send concurrent queries. 
-<div class="node">
-<p><hr>
-<a name="sntp-gap"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-kod">sntp kod</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-concurrent">sntp concurrent</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+different machines, so we can send concurrent queries.
+</p><hr>
+<a name="sntp-gap"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-kod" accesskey="n" rel="next">sntp kod</a>, Previous: <a href="#sntp-concurrent" accesskey="p" rel="prev">sntp concurrent</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="gap-option-_0028_002dg_0029"></a>
+<h4 class="subsection">1.1.7 gap option (-g)</h4>
+<a name="index-sntp_002dgap"></a>
 
-<h4 class="subsection">gap option (-g)</h4>
-
-<p><a name="index-sntp_002dgap-9"></a>
-This is the &ldquo;the gap (in milliseconds) between time requests&rdquo; option. 
-This option takes a number argument <span class="file">milliseconds</span>. 
-Since we're only going to use the first valid response we get and
+<p>This is the &ldquo;the gap (in milliseconds) between time requests&rdquo; option.
+This option takes a number argument <samp>milliseconds</samp>.
+Since we&rsquo;re only going to use the first valid response we get and
 there is benefit to specifying a good number of servers to query,
 separate the queries we send out by the specified number of
-milliseconds. 
-<div class="node">
-<p><hr>
-<a name="sntp-kod"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-keyfile">sntp keyfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-gap">sntp gap</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+milliseconds.
+</p><hr>
+<a name="sntp-kod"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-keyfile" accesskey="n" rel="next">sntp keyfile</a>, Previous: <a href="#sntp-gap" accesskey="p" rel="prev">sntp gap</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="kod-option-_0028_002dK_0029"></a>
+<h4 class="subsection">1.1.8 kod option (-K)</h4>
+<a name="index-sntp_002dkod"></a>
 
-<h4 class="subsection">kod option (-K)</h4>
-
-<p><a name="index-sntp_002dkod-10"></a>
-This is the &ldquo;kod history filename&rdquo; option. 
-This option takes a file argument <span class="file">file-name</span>. 
+<p>This is the &ldquo;kod history filename&rdquo; option.
+This option takes a file argument <samp>file-name</samp>.
 Specifies the filename to be used for the persistent history of KoD
 responses received from servers.  If the file does not exist, a
-warning message will be displayed.  The file will not be created. 
-<div class="node">
-<p><hr>
-<a name="sntp-keyfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-logfile">sntp logfile</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-kod">sntp kod</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+warning message will be displayed.  The file will not be created.
+</p><hr>
+<a name="sntp-keyfile"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-logfile" accesskey="n" rel="next">sntp logfile</a>, Previous: <a href="#sntp-kod" accesskey="p" rel="prev">sntp kod</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="keyfile-option-_0028_002dk_0029"></a>
+<h4 class="subsection">1.1.9 keyfile option (-k)</h4>
+<a name="index-sntp_002dkeyfile"></a>
 
-<h4 class="subsection">keyfile option (-k)</h4>
-
-<p><a name="index-sntp_002dkeyfile-11"></a>
-This is the &ldquo;look in this file for the key specified with <span class="option">-a</span>&rdquo; option. 
-This option takes a file argument <span class="file">file-name</span>. 
-This option specifies the keyfile. 
-<code>sntp</code> will search for the key specified with <span class="option">-a</span>
-<span class="file">keyno</span> in this file.  See <span class="command">ntp.keys(5)</span> for more
-information. 
-<div class="node">
-<p><hr>
-<a name="sntp-logfile"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-steplimit">sntp steplimit</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-keyfile">sntp keyfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<p>This is the &ldquo;look in this file for the key specified with <samp>-a</samp>&rdquo; option.
+This option takes a file argument <samp>file-name</samp>.
+This option specifies the keyfile.
+<code>sntp</code> will search for the key specified with <samp>-a</samp>
+<samp>keyno</samp> in this file.  See <code>ntp.keys(5)</code> for more
+information.
+</p><hr>
+<a name="sntp-logfile"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-steplimit" accesskey="n" rel="next">sntp steplimit</a>, Previous: <a href="#sntp-keyfile" accesskey="p" rel="prev">sntp keyfile</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="logfile-option-_0028_002dl_0029"></a>
+<h4 class="subsection">1.1.10 logfile option (-l)</h4>
+<a name="index-sntp_002dlogfile"></a>
 
-<h4 class="subsection">logfile option (-l)</h4>
-
-<p><a name="index-sntp_002dlogfile-12"></a>
-This is the &ldquo;log to specified logfile&rdquo; option. 
-This option takes a file argument <span class="file">file-name</span>. 
+<p>This is the &ldquo;log to specified logfile&rdquo; option.
+This option takes a file argument <samp>file-name</samp>.
 This option causes the client to write log messages to the specified
-<span class="file">logfile</span>. 
-<div class="node">
-<p><hr>
-<a name="sntp-steplimit"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-ntpversion">sntp ntpversion</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-logfile">sntp logfile</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<samp>logfile</samp>.
+</p><hr>
+<a name="sntp-steplimit"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-ntpversion" accesskey="n" rel="next">sntp ntpversion</a>, Previous: <a href="#sntp-logfile" accesskey="p" rel="prev">sntp logfile</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="steplimit-option-_0028_002dM_0029"></a>
+<h4 class="subsection">1.1.11 steplimit option (-M)</h4>
+<a name="index-sntp_002dsteplimit"></a>
 
-<h4 class="subsection">steplimit option (-M)</h4>
-
-<p><a name="index-sntp_002dsteplimit-13"></a>
-This is the &ldquo;adjustments less than <var>steplimit</var> msec will be slewed&rdquo; option. 
-This option takes a number argument. 
-If the time adjustment is less than <span class="file">steplimit</span> milliseconds,
-slew the amount using <span class="command">adjtime(2)</span>.  Otherwise, step the
-correction using <span class="command">settimeofday(2)</span>.  The default value is 0,
+<p>This is the &ldquo;adjustments less than <var>steplimit</var> msec will be slewed&rdquo; option.
+This option takes a number argument.
+If the time adjustment is less than <samp>steplimit</samp> milliseconds,
+slew the amount using <code>adjtime(2)</code>.  Otherwise, step the
+correction using <code>settimeofday(2)</code>.  The default value is 0,
 which means all adjustments will be stepped.  This is a feature, as
-different situations demand different values. 
-<div class="node">
-<p><hr>
-<a name="sntp-ntpversion"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-usereservedport">sntp usereservedport</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-steplimit">sntp steplimit</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+different situations demand different values.
+</p><hr>
+<a name="sntp-ntpversion"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-usereservedport" accesskey="n" rel="next">sntp usereservedport</a>, Previous: <a href="#sntp-steplimit" accesskey="p" rel="prev">sntp steplimit</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="ntpversion-option-_0028_002do_0029"></a>
+<h4 class="subsection">1.1.12 ntpversion option (-o)</h4>
+<a name="index-sntp_002dntpversion"></a>
 
-<h4 class="subsection">ntpversion option (-o)</h4>
-
-<p><a name="index-sntp_002dntpversion-14"></a>
-This is the &ldquo;send <var>int</var> as our ntp protocol version&rdquo; option. 
-This option takes a number argument. 
+<p>This is the &ldquo;send <var>int</var> as our ntp protocol version&rdquo; option.
+This option takes a number argument.
 When sending requests to a remote server, tell them we are running
-NTP protocol version <span class="file">ntpversion</span> . 
-<div class="node">
-<p><hr>
-<a name="sntp-usereservedport"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-timeout">sntp timeout</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-ntpversion">sntp ntpversion</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+NTP protocol version <samp>ntpversion</samp> .
+</p><hr>
+<a name="sntp-usereservedport"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-timeout" accesskey="n" rel="next">sntp timeout</a>, Previous: <a href="#sntp-ntpversion" accesskey="p" rel="prev">sntp ntpversion</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="usereservedport-option-_0028_002dr_0029"></a>
+<h4 class="subsection">1.1.13 usereservedport option (-r)</h4>
+<a name="index-sntp_002dusereservedport"></a>
 
-<h4 class="subsection">usereservedport option (-r)</h4>
-
-<p><a name="index-sntp_002dusereservedport-15"></a>
-This is the &ldquo;use the ntp reserved port (port 123)&rdquo; option. 
+<p>This is the &ldquo;use the ntp reserved port (port 123)&rdquo; option.
 Use port 123, which is reserved for NTP, for our network
-communications. 
-<div class="node">
-<p><hr>
-<a name="sntp-timeout"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-wait">sntp wait</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-usereservedport">sntp usereservedport</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+communications.
+</p><hr>
+<a name="sntp-timeout"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-wait" accesskey="n" rel="next">sntp wait</a>, Previous: <a href="#sntp-usereservedport" accesskey="p" rel="prev">sntp usereservedport</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="timeout-option-_0028_002dt_0029"></a>
+<h4 class="subsection">1.1.14 timeout option (-t)</h4>
+<a name="index-sntp_002dtimeout"></a>
 
-<h4 class="subsection">timeout option (-t)</h4>
-
-<p><a name="index-sntp_002dtimeout-16"></a>
-This is the &ldquo;the number of seconds to wait for responses&rdquo; option. 
-This option takes a number argument <span class="file">seconds</span>. 
+<p>This is the &ldquo;the number of seconds to wait for responses&rdquo; option.
+This option takes a number argument <samp>seconds</samp>.
 When waiting for a reply, <code>sntp</code> will wait the number
 of seconds specified before giving up.  The default should be
 more than enough for a unicast response.  If <code>sntp</code> is
 only waiting for a broadcast response a longer timeout is
-likely needed. 
-<div class="node">
-<p><hr>
-<a name="sntp-wait"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-config">sntp config</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-timeout">sntp timeout</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+likely needed.
+</p><hr>
+<a name="sntp-wait"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-config" accesskey="n" rel="next">sntp config</a>, Previous: <a href="#sntp-timeout" accesskey="p" rel="prev">sntp timeout</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="wait-option"></a>
+<h4 class="subsection">1.1.15 wait option</h4>
+<a name="index-sntp_002dwait"></a>
 
-<h4 class="subsection">wait option</h4>
+<p>This is the &ldquo;wait for pending replies (if not setting the time)&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> can be disabled with &ndash;no-wait.
+</li><li> It is enabled by default.
+</li></ul>
 
-<p><a name="index-sntp_002dwait-17"></a>
-This is the &ldquo;wait for pending replies (if not setting the time)&rdquo; option.
+<p>If we are not setting the time, wait for all pending responses.
+</p>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>can be disabled with &ndash;no-wait. 
-<li>It is enabled by default. 
-</ul>
-
-  <p>If we are not setting the time, wait for all pending responses.
-
-<div class="node">
-<p><hr>
-<a name="sntp-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-exit-status">sntp exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-wait">sntp wait</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<hr>
+<a name="sntp-config"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-exit-status" accesskey="n" rel="next">sntp exit status</a>, Previous: <a href="#sntp-wait" accesskey="p" rel="prev">sntp wait</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="presetting_002fconfiguring-sntp"></a>
+<h4 class="subsection">1.1.16 presetting/configuring sntp</h4>
 
-<h4 class="subsection">presetting/configuring sntp</h4>
-
 <p>Any option that is not marked as <i>not presettable</i> may be preset by
-loading values from configuration ("rc" or "ini") files, and values from environment variables named <code>SNTP</code> and <code>SNTP_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
-the options listed above in upper case and segmented with underscores. 
+loading values from configuration (&quot;rc&quot; or &quot;ini&quot;) files, and values from environment variables named <code>SNTP</code> and <code>SNTP_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
+the options listed above in upper case and segmented with underscores.
 The <code>SNTP</code> variable will be tokenized and parsed like
 the command line.  The remaining variables are tested for existence and their
 values are treated like option arguments.
+</p>
 
-<p class="noindent"><code>libopts</code> will search in 2 places for configuration files:
-     <ul>
-<li>$HOME
-<li>$PWD
-</ul>
-  The environment variables <code>HOME</code>, and <code>PWD</code>
-are expanded and replaced when <span class="file">sntp</span> runs. 
-For any of these that are plain files, they are simply processed. 
-For any that are directories, then a file named <span class="file">.ntprc</span> is searched for
+<p><code>libopts</code> will search in 2 places for configuration files:
+</p><ul>
+<li> $HOME
+</li><li> $PWD
+</li></ul>
+<p>The environment variables <code>HOME</code>, and <code>PWD</code>
+are expanded and replaced when <samp>sntp</samp> runs.
+For any of these that are plain files, they are simply processed.
+For any that are directories, then a file named <samp>.ntprc</samp> is searched for
 within that directory and processed.
-
-  <p>Configuration files may be in a wide variety of formats. 
+</p>
+<p>Configuration files may be in a wide variety of formats.
 The basic format is an option name followed by a value (argument) on the
 same line.  Values may be separated from the option name with a colon,
 equal sign or simply white space.  Values may be continued across multiple
 lines by escaping the newline with a backslash.
-
-  <p>Multiple programs may also share the same initialization file. 
+</p>
+<p>Multiple programs may also share the same initialization file.
 Common options are collected at the top, followed by program specific
 segments.  The segments are separated by lines like:
-<pre class="example">    [SNTP]
-</pre>
-  <p class="noindent">or by
-<pre class="example">    &lt;?program sntp&gt;
-</pre>
-  <p class="noindent">Do not mix these styles within one configuration file.
-
-  <p>Compound values and carefully constructed string values may also be
+</p><div class="example">
+<pre class="example">[SNTP]
+</pre></div>
+<p>or by
+</p><div class="example">
+<pre class="example">&lt;?program sntp&gt;
+</pre></div>
+<p>Do not mix these styles within one configuration file.
+</p>
+<p>Compound values and carefully constructed string values may also be
 specified using XML syntax:
-<pre class="example">    &lt;option-name&gt;
-       &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
-    &lt;/option-name&gt;
-</pre>
-  <p class="noindent">yielding an <code>option-name.sub-opt</code> string value of
-<pre class="example">    "...&lt;...&gt;..."
-</pre>
-  <p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
+</p><div class="example">
+<pre class="example">&lt;option-name&gt;
+   &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
+&lt;/option-name&gt;
+</pre></div>
+<p>yielding an <code>option-name.sub-opt</code> string value of
+</p><div class="example">
+<pre class="example">&quot;...&lt;...&gt;...&quot;
+</pre></div>
+<p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
 hierarchicly valued option.  <code>AutoOpts</code> does provide a means for searching
 the associated name/value pair list (see: optionFindValue).
+</p>
+<p>The command line options relating to configuration and/or usage help are:
+</p>
+<a name="version-_0028_002d_0029"></a>
+<h4 class="subsubheading">version (-)</h4>
 
-  <p>The command line options relating to configuration and/or usage help are:
-
-<h5 class="subsubheading">version (-)</h5>
-
 <p>Print the program version to standard out, optionally with licensing
 information, then exit 0.  The optional argument specifies how much licensing
-detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument. 
+detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.
 Only the first letter of the argument is examined:
-
-     <dl>
-<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
-<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
-<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
+</p>
+<dl compact="compact">
+<dt>&lsquo;<samp>version</samp>&rsquo;</dt>
+<dd><p>Only print the version.  This is the default.
+</p></dd>
+<dt>&lsquo;<samp>copyright</samp>&rsquo;</dt>
+<dd><p>Name the copyright usage licensing terms.
+</p></dd>
+<dt>&lsquo;<samp>verbose</samp>&rsquo;</dt>
+<dd><p>Print the full copyright usage licensing terms.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="sntp-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-Usage">sntp Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-config">sntp config</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<hr>
+<a name="sntp-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-Usage" accesskey="n" rel="next">sntp Usage</a>, Previous: <a href="#sntp-config" accesskey="p" rel="prev">sntp config</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="sntp-exit-status-1"></a>
+<h4 class="subsection">1.1.17 sntp exit status</h4>
 
-<h4 class="subsection">sntp exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
-<br><dt><span class="samp">66 (EX_NOINPUT)</span><dd>A specified configuration file could not be loaded. 
-<br><dt><span class="samp">70 (EX_SOFTWARE)</span><dd>libopts had an internal operational error.  Please report
-it to autogen-users@lists.sourceforge.net.  Thank you. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
+<dt>&lsquo;<samp>66 (EX_NOINPUT)</samp>&rsquo;</dt>
+<dd><p>A specified configuration file could not be loaded.
+</p></dd>
+<dt>&lsquo;<samp>70 (EX_SOFTWARE)</samp>&rsquo;</dt>
+<dd><p>libopts had an internal operational error.  Please report
+it to autogen-users@lists.sourceforge.net.  Thank you.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="sntp-Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#sntp-Authors">sntp Authors</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-exit-status">sntp exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<hr>
+<a name="sntp-Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#sntp-Authors" accesskey="n" rel="next">sntp Authors</a>, Previous: <a href="#sntp-exit-status" accesskey="p" rel="prev">sntp exit status</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">sntp Usage</h4>
-
-<div class="node">
-<p><hr>
-<a name="sntp-Authors"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#sntp-Usage">sntp Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#sntp-Invocation">sntp Invocation</a>
-<br>
+<a name="sntp-Usage-1"></a>
+<h4 class="subsection">1.1.18 sntp Usage</h4>
+<hr>
+<a name="sntp-Authors"></a>
+<div class="header">
+<p>
+Previous: <a href="#sntp-Usage" accesskey="p" rel="prev">sntp Usage</a>, Up: <a href="#sntp-Invocation" accesskey="u" rel="up">sntp Invocation</a> &nbsp; </p>
 </div>
+<a name="sntp-Authors-1"></a>
+<h4 class="subsection">1.1.19 sntp Authors</h4>
 
-<h4 class="subsection">sntp Authors</h4>
-
-<div class="node">
-<p><hr>
+<hr>
 <a name="Usage"></a>
-<br>
+<div class="header">
+<p>
+Previous: <a href="#sntp-Invocation" accesskey="p" rel="prev">sntp Invocation</a>, Up: <a href="#sntp-Description" accesskey="u" rel="up">sntp Description</a> &nbsp; </p>
 </div>
+<a name="Usage-1"></a>
+<h3 class="section">1.2 Usage</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Usage</h3>
-
 <p>The simplest use of this program is as an unprivileged command to
-check the current time, offset, and error in the local clock. 
+check the current time, offset, and error in the local clock.
 For example:
+</p>
+<div class="example">
+<pre class="example">sntp ntpserver.somewhere
+</pre></div>
 
-<pre class="example">    sntp ntpserver.somewhere
-</pre>
-  <p>With suitable privilege, it can be run as a command or in a
+<p>With suitable privilege, it can be run as a command or in a
 <code>crom</code> job to reset the local clock from a reliable server, like
-the <code>ntpdate</code> and <code>rdate</code> commands. 
+the <code>ntpdate</code> and <code>rdate</code> commands.
 For example:
+</p>
+<div class="example">
+<pre class="example">sntp -a ntpserver.somewhere
+</pre></div>
+<hr>
 
-<pre class="example">    sntp -a ntpserver.somewhere
-</pre>
-  </body></html>
 
+
+</body>
+</html>
--- contrib/ntp/sntp/sntp.man.in.orig
+++ contrib/ntp/sntp/sntp.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH sntp @SNTP_MS@ "27 Feb 2018" "4.2.8p11" "User Commands"
+.TH sntp @SNTP_MS@ "20 Feb 2019" "4.2.8p13" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-eaayfN/ag-qaaqeN)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:13:07 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:55:51 AM by AutoGen 5.18.5
 .\" From the definitions sntp-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
--- contrib/ntp/sntp/sntp.mdoc.in.orig
+++ contrib/ntp/sntp/sntp.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt SNTP @SNTP_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (sntp-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:13:14 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:55:48 AM by AutoGen 5.18.5
 .\"  From the definitions    sntp-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- contrib/ntp/sntp/tests/Makefile.in.orig
+++ contrib/ntp/sntp/tests/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/tests/crypto.c.orig
+++ contrib/ntp/sntp/tests/crypto.c
@@ -85,7 +85,7 @@
 void
 test_MakeCMac(void)
 {
-#ifdef OPENSSL
+#if defined(OPENSSL) && defined(ENABLE_CMAC)
 
 	const char* PKT_DATA = "abcdefgh0123";
 	const int PKT_LEN = strlen(PKT_DATA);
@@ -191,7 +191,7 @@
 void
 VerifyOpenSSLCMAC(struct key *cmac)
 {
-#ifdef OPENSSL
+#if defined(OPENSSL) && defined(ENABLE_CMAC)
 
 	/* XXX: HMS: auth_md5 must be renamed/incorrect. */
 	// TEST_ASSERT_TRUE(auth_md5(PKT_DATA, PKT_LEN, CMAC_LENGTH, cmac));
--- contrib/ntp/sntp/tests/packetProcessing.c.orig
+++ contrib/ntp/sntp/tests/packetProcessing.c
@@ -464,6 +464,8 @@
 void
 test_CorrectAuthenticatedPacketCMAC(void)
 {
+#if defined(OPENSSL) && defined(ENABLE_CMAC)
+
 	PrepareAuthenticationTest(30, CMAC_LENGTH, CMAC, "abcdefghijklmnop");
 	TEST_ASSERT_TRUE(ENABLED_OPT(AUTHENTICATION));
 
@@ -480,5 +482,11 @@
 	TEST_ASSERT_EQUAL(pkt_len,
 			  process_pkt(&testpkt.p, &testsock, pkt_len,
 				      MODE_SERVER, &testspkt.p, "UnitTest"));
+
+#else
+	
+	TEST_IGNORE_MESSAGE("OpenSSL CMAC not used, skipping...");
+	
+#endif	/* OPENSSL */
 }
 
--- contrib/ntp/sntp/unity/Makefile.in.orig
+++ contrib/ntp/sntp/unity/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/sntp/version.c.orig
+++ contrib/ntp/sntp/version.c
@@ -2,4 +2,4 @@
  * version file for sntp
  */
 #include <config.h>
-const char * Version = "sntp 4.2.8p11@1.3728-o Tue Feb 27 22:59:12 UTC 2018 (50)";
+const char * Version = "sntp 4.2.8p13@1.3847-o Thu Feb 21 01:04:54 UTC 2019 (1)";
--- contrib/ntp/util/Makefile.in.orig
+++ contrib/ntp/util/Makefile.in
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.15 from Makefile.am.
+# Makefile.in generated by automake 1.15.1 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2014 Free Software Foundation, Inc.
+# Copyright (C) 1994-2017 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
--- contrib/ntp/util/invoke-ntp-keygen.texi.orig
+++ contrib/ntp/util/invoke-ntp-keygen.texi
@@ -6,7 +6,7 @@
 #
 # EDIT THIS FILE WITH CAUTION  (invoke-ntp-keygen.texi)
 #
-# It has been AutoGen-ed  February 27, 2018 at 05:15:57 PM by AutoGen 5.18.5
+# It has been AutoGen-ed  February 20, 2019 at 09:57:13 AM by AutoGen 5.18.5
 # From the definitions    ntp-keygen-opts.def
 # and the template file   agtexi-cmd.tpl
 @end ignore
@@ -948,7 +948,7 @@
 @end example
 where
 @kbd{keyno}
-is a positive integer in the range 1-65534;
+is a positive integer in the range 1-65535;
 @kbd{type}
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
@@ -1056,14 +1056,17 @@
 
 @exampleindent 0
 @example
-ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.7p245
-USAGE:  ntp-keygen [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...
+ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p13
+Usage:  ntp-keygen [ -<flag> [<val>] | --<name>[@{=| @}<val>] ]...
   Flg Arg Option-Name    Description
+   -b Num imbits         identity modulus bits
+                                - it must be in the range:
+                                  256 to 2048
    -c Str certificate    certificate scheme
    -C Str cipher         privatekey cipher
    -d no  debug-level    Increase debug verbosity level
                                 - may appear multiple times
-   -D Str set-debug-level Set the debug verbosity level
+   -D Num set-debug-level Set the debug verbosity level
                                 - may appear multiple times
    -e no  id-key         Write IFF or GQ identity keys
    -G no  gq-params      Generate GQ parameters and keys
@@ -1071,24 +1074,24 @@
    -I no  iffkey         generate IFF parameters
    -i Str ident          set Autokey group name
    -l Num lifetime       set certificate lifetime
-   -M no  md5key         generate MD5 keys
-   -m Num modulus        modulus
-                                - It must be in the range:
+   -m Num modulus        prime modulus
+                                - it must be in the range:
                                   256 to 2048
+   -M no  md5key         generate symmetric keys
    -P no  pvt-cert       generate PC private certificate
-   -p Str pvt-passwd     output private password
-   -q Str get-pvt-passwd input private password
+   -p Str password       local private password
+   -q Str export-passwd  export IFF or GQ group keys with password
+   -s Str subject-name   set host and optionally group name
    -S Str sign-key       generate sign key (RSA or DSA)
-   -s Str subject-name   set host and optionally group name
    -T no  trusted-cert   trusted certificate (TC scheme)
    -V Num mv-params      generate <num> MV parameters
    -v Num mv-keys        update <num> MV keys
-      opt version        Output version information and exit
-   -? no  help           Display extended usage information and exit
-   -! no  more-help      Extended usage information passed thru pager
-   -> opt save-opts      Save the option state to a config file
-   -< Str load-opts      Load options from a config file
-                                - disabled as --no-load-opts
+      opt version        output version information and exit
+   -? no  help           display extended usage information and exit
+   -! no  more-help      extended usage information passed thru pager
+   -> opt save-opts      save the option state to a config file
+   -< Str load-opts      load options from a config file
+                                - disabled as '--no-load-opts'
                                 - may appear multiple times
 
 Options are specified by doubled hyphens and their name or by a single
@@ -1095,13 +1098,12 @@
 hyphen and the flag character.
 
 
-
 The following option preset mechanisms are supported:
  - reading file $HOME/.ntprc
  - reading file ./.ntprc
  - examining environment variables named NTP_KEYGEN_*
 
-please send bug reports to:  http://bugs.ntp.org, bugs@@ntp.org
+Please send bug reports to:  <http://bugs.ntp.org, bugs@@ntp.org>
 @end example
 @exampleindent 4
 
--- contrib/ntp/util/ntp-keygen-opts.c.orig
+++ contrib/ntp/util/ntp-keygen-opts.c
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.c)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:44 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:57:09 AM by AutoGen 5.18.5
  *  From the definitions    ntp-keygen-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This source file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -72,7 +72,7 @@
  *  static const strings for ntp-keygen options
  */
 static char const ntp_keygen_opt_strs[2442] =
-/*     0 */ "ntp-keygen (ntp) 4.2.8p11\n"
+/*     0 */ "ntp-keygen (ntp) 4.2.8p13\n"
             "Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n"
             "This is free software. It is licensed for use, modification and\n"
             "redistribution under the terms of the NTP License, copies of which\n"
@@ -165,7 +165,7 @@
 /*  2223 */ "no-load-opts\0"
 /*  2236 */ "no\0"
 /*  2239 */ "NTP_KEYGEN\0"
-/*  2250 */ "ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p11\n"
+/*  2250 */ "ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p13\n"
             "Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]...\n\0"
 /*  2365 */ "$HOME\0"
 /*  2371 */ ".\0"
@@ -172,7 +172,7 @@
 /*  2373 */ ".ntprc\0"
 /*  2380 */ "http://bugs.ntp.org, bugs@ntp.org\0"
 /*  2414 */ "\n\0"
-/*  2416 */ "ntp-keygen (ntp) 4.2.8p11";
+/*  2416 */ "ntp-keygen (ntp) 4.2.8p13";
 
 /**
  *  imbits option description:
@@ -1310,7 +1310,7 @@
      translate option names.
    */
   /* referenced via ntp_keygenOptions.pzCopyright */
-  puts(_("ntp-keygen (ntp) 4.2.8p11\n\
+  puts(_("ntp-keygen (ntp) 4.2.8p13\n\
 Copyright (C) 1992-2017 The University of Delaware and Network Time Foundation, all rights reserved.\n\
 This is free software. It is licensed for use, modification and\n\
 redistribution under the terms of the NTP License, copies of which\n\
@@ -1409,7 +1409,7 @@
   puts(_("load options from a config file"));
 
   /* referenced via ntp_keygenOptions.pzUsageTitle */
-  puts(_("ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p11\n\
+  puts(_("ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p13\n\
 Usage:  %s [ -<flag> [<val>] | --<name>[{=| }<val>] ]...\n"));
 
   /* referenced via ntp_keygenOptions.pzExplain */
@@ -1416,7 +1416,7 @@
   puts(_("\n"));
 
   /* referenced via ntp_keygenOptions.pzFullVersion */
-  puts(_("ntp-keygen (ntp) 4.2.8p11"));
+  puts(_("ntp-keygen (ntp) 4.2.8p13"));
 
   /* referenced via ntp_keygenOptions.pzFullUsage */
   puts(_("<<<NOT-FOUND>>>"));
--- contrib/ntp/util/ntp-keygen-opts.def.orig
+++ contrib/ntp/util/ntp-keygen-opts.def
@@ -1210,7 +1210,7 @@
 .D1 Ar keyno Ar type Ar key
 where
 .Ar keyno
-is a positive integer in the range 1-65534;
+is a positive integer in the range 1-65535;
 .Ar type
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- contrib/ntp/util/ntp-keygen-opts.h.orig
+++ contrib/ntp/util/ntp-keygen-opts.h
@@ -1,11 +1,11 @@
 /*
  *  EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.h)
  *
- *  It has been AutoGen-ed  February 27, 2018 at 05:15:43 PM by AutoGen 5.18.5
+ *  It has been AutoGen-ed  February 20, 2019 at 09:57:09 AM by AutoGen 5.18.5
  *  From the definitions    ntp-keygen-opts.def
  *  and the template file   options
  *
- * Generated from AutoOpts 41:0:16 templates.
+ * Generated from AutoOpts 41:1:16 templates.
  *
  *  AutoOpts is a copyrighted work.  This header file is not encumbered
  *  by AutoOpts licensing, but is provided under the licensing terms chosen
@@ -53,7 +53,7 @@
  *  tolerable version is at least as old as what was current when the header
  *  template was released.
  */
-#define AO_TEMPLATE_VERSION 167936
+#define AO_TEMPLATE_VERSION 167937
 #if (AO_TEMPLATE_VERSION < OPTIONS_MINIMUM_VERSION) \
  || (AO_TEMPLATE_VERSION > OPTIONS_STRUCT_VERSION)
 # error option template version mismatches autoopts/options.h header
@@ -94,9 +94,9 @@
 /** count of all options for ntp-keygen */
 #define OPTION_CT    26
 /** ntp-keygen version */
-#define NTP_KEYGEN_VERSION       "4.2.8p11"
+#define NTP_KEYGEN_VERSION       "4.2.8p13"
 /** Full ntp-keygen version text */
-#define NTP_KEYGEN_FULL_VERSION  "ntp-keygen (ntp) 4.2.8p11"
+#define NTP_KEYGEN_FULL_VERSION  "ntp-keygen (ntp) 4.2.8p13"
 
 /**
  *  Interface defines for all options.  Replace "n" with the UPPER_CASED
--- contrib/ntp/util/ntp-keygen.1ntp-keygenman.orig
+++ contrib/ntp/util/ntp-keygen.1ntp-keygenman
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp-keygen 1ntp-keygenman "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntp-keygen 1ntp-keygenman "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-bBa46V/ag-nBaW5V)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:53 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:14 AM by AutoGen 5.18.5
 .\" From the definitions ntp-keygen-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
@@ -1054,7 +1054,7 @@
 .in -4
 where
 \f\*[I-Font]keyno\f[]
-is a positive integer in the range 1-65534;
+is a positive integer in the range 1-65535;
 \f\*[I-Font]type\f[]
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- contrib/ntp/util/ntp-keygen.1ntp-keygenmdoc.orig
+++ contrib/ntp/util/ntp-keygen.1ntp-keygenmdoc
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_KEYGEN 1ntp-keygenmdoc User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:16:00 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:11 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp-keygen-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -943,7 +943,7 @@
 .D1 Ar keyno Ar type Ar key
 where
 .Ar keyno
-is a positive integer in the range 1\-65534;
+is a positive integer in the range 1\-65535;
 .Ar type
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- contrib/ntp/util/ntp-keygen.html.orig
+++ contrib/ntp/util/ntp-keygen.html
@@ -1,88 +1,116 @@
-<html lang="en">
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
+<html>
+<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
 <head>
-<title>Ntp-keygen User's Manual</title>
-<meta http-equiv="Content-Type" content="text/html">
-<meta name="description" content="Ntp-keygen User's Manual">
-<meta name="generator" content="makeinfo 4.7">
-<link title="Top" rel="top" href="#Top">
-<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
-<meta http-equiv="Content-Style-Type" content="text/css">
-<style type="text/css"><!--
-  pre.display { font-family:inherit }
-  pre.format  { font-family:inherit }
-  pre.smalldisplay { font-family:inherit; font-size:smaller }
-  pre.smallformat  { font-family:inherit; font-size:smaller }
-  pre.smallexample { font-size:smaller }
-  pre.smalllisp    { font-size:smaller }
-  span.sc { font-variant:small-caps }
-  span.roman { font-family: serif; font-weight: normal; } 
---></style>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<title>Ntp-keygen User&rsquo;s Manual</title>
+
+<meta name="description" content="Ntp-keygen User&rsquo;s Manual">
+<meta name="keywords" content="Ntp-keygen User&rsquo;s Manual">
+<meta name="resource-type" content="document">
+<meta name="distribution" content="global">
+<meta name="Generator" content="makeinfo">
+<link href="#Top" rel="start" title="Top">
+<link href="dir.html#Top" rel="up" title="(dir)">
+<style type="text/css">
+<!--
+a.summary-letter {text-decoration: none}
+blockquote.indentedblock {margin-right: 0em}
+blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
+blockquote.smallquotation {font-size: smaller}
+div.display {margin-left: 3.2em}
+div.example {margin-left: 3.2em}
+div.lisp {margin-left: 3.2em}
+div.smalldisplay {margin-left: 3.2em}
+div.smallexample {margin-left: 3.2em}
+div.smalllisp {margin-left: 3.2em}
+kbd {font-style: oblique}
+pre.display {font-family: inherit}
+pre.format {font-family: inherit}
+pre.menu-comment {font-family: serif}
+pre.menu-preformatted {font-family: serif}
+pre.smalldisplay {font-family: inherit; font-size: smaller}
+pre.smallexample {font-size: smaller}
+pre.smallformat {font-family: inherit; font-size: smaller}
+pre.smalllisp {font-size: smaller}
+span.nolinebreak {white-space: nowrap}
+span.roman {font-family: initial; font-weight: normal}
+span.sansserif {font-family: sans-serif; font-weight: normal}
+ul.no-bullet {list-style: none}
+-->
+</style>
+
+
 </head>
-<body>
-<h1 class="settitle">Ntp-keygen User's Manual</h1>
-  <div class="shortcontents">
-<h2>Short Contents</h2>
-<ul>
-<a href="#Top">Top</a>
-<a href="#Top">NTP Key Generation Program User Manual</a>
-</ul>
-</div>
 
+<body lang="en">
+<h1 class="settitle" align="center">Ntp-keygen User&rsquo;s Manual</h1>
 
 
-<div class="node">
-<p><hr>
-<a name="Top"></a>Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
-</div>
 
-<h2 class="unnumbered">Top</h2>
 
-<ul class="menu">
-<li><a accesskey="1" href="#Description">Description</a>
-<li><a accesskey="2" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>: 	Invoking ntp-keygen
-<li><a accesskey="3" href="#Running-the-Program">Running the Program</a>
-<li><a accesskey="4" href="#Random-Seed-File">Random Seed File</a>
-<li><a accesskey="5" href="#Cryptographic-Data-Files">Cryptographic Data Files</a>
+
+<a name="SEC_Overview"></a>
+<h2 class="shortcontents-heading">Short Table of Contents</h2>
+
+<div class="shortcontents">
+<ul class="no-bullet">
+<li><a name="stoc-Description-1" href="#toc-Description-1">1 Description</a></li>
 </ul>
+</div>
 
-<div class="node">
-<p><hr>
-<a name="Top"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Description">Description</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>
-<br>
+
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#Description" accesskey="1">Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Invocation" accesskey="2">ntp-keygen Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Invoking ntp-keygen
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Running-the-Program" accesskey="3">Running the Program</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Random-Seed-File" accesskey="4">Random Seed File</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Cryptographic-Data-Files" accesskey="5">Cryptographic Data Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
+
+<a name="Top"></a>
+<div class="header">
+<p>
+Next: <a href="#Description" accesskey="n" rel="next">Description</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
 </div>
+<a name="NTP-Key-Generation-Program-User-Manual"></a>
+<h1 class="top">NTP Key Generation Program User Manual</h1>
 
-<h2 class="unnumbered">NTP Key Generation Program User Manual</h2>
-
-<p>This document describes the use of the NTP Project's <code>ntp-keygen</code>
+<p>This document describes the use of the NTP Project&rsquo;s <code>ntp-keygen</code>
 program, that generates cryptographic data files used by the NTPv4
-authentication and identity schemes. 
+authentication and identity schemes.
 It can generate message digest keys used in symmetric key cryptography and,
 if the OpenSSL software
 library has been installed, it can generate host keys, sign keys,
 certificates, and identity keys and parameters used by the Autokey
-public key cryptography. 
+public key cryptography.
 The message digest keys file is generated in a
-format compatible with NTPv3. 
+format compatible with NTPv3.
 All other files are in PEM-encoded
 printable ASCII format so they can be embedded as MIME attachments in
 mail to other sites.
+</p>
+<p>This document applies to version 4.2.8p13 of <code>ntp-keygen</code>.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#Description" accesskey="1">Description</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-  <p>This document applies to version 4.2.8p11 of <code>ntp-keygen</code>.
-
-<div class="node">
-<p><hr>
-<a name="Description"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Running-the-Program">Running the Program</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Description"></a>
+<div class="header">
+<p>
+Next: <a href="#Running-the-Program" accesskey="n" rel="next">Running the Program</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Description-1"></a>
+<h2 class="chapter">1 Description</h2>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Description</h3>
-
 <p>This program generates cryptographic data files used by the NTPv4
 authentication and identity schemes. It can generate message digest
 keys used in symmetric key cryptography and, if the OpenSSL software
@@ -92,155 +120,167 @@
 format compatible with NTPv3. All other files are in PEM-encoded
 printable ASCII format so they can be embedded as MIME attachments in
 mail to other sites.
-
-  <p>When used to generate message digest keys, the program produces a file
+</p>
+<p>When used to generate message digest keys, the program produces a file
 containing ten pseudo-random printable ASCII strings suitable for the
-MD5 message digest algorithm included in the distribution. 
+MD5 message digest algorithm included in the distribution.
 If the
 OpenSSL library is installed, it produces an additional ten hex-encoded
 random bit strings suitable for the SHA1 and other message digest
-algorithms. 
+algorithms.
 The message digest keys file must be distributed and stored
-using secure means beyond the scope of NTP itself. 
+using secure means beyond the scope of NTP itself.
 Besides the keys
 used for ordinary NTP associations, additional keys can be defined as
 passwords for the ntpq and ntpdc utility programs.
-
-  <p>The remaining generated files are compatible with other OpenSSL
-applications and other Public Key Infrastructure (PKI) resources. 
+</p>
+<p>The remaining generated files are compatible with other OpenSSL
+applications and other Public Key Infrastructure (PKI) resources.
 Certificates generated by this program are compatible with extant
 industry practice, although some users might find the interpretation of
-X509v3 extension fields somewhat liberal. 
+X509v3 extension fields somewhat liberal.
 However, the identity keys
 are probably not compatible with anything other than Autokey.
-
-  <p>Some files used by this program are encrypted using a private password. 
+</p>
+<p>Some files used by this program are encrypted using a private password.
 The <code>-p</code> option specifies the password for local encrypted files and the
-<code>-q</code> option the password for encrypted files sent to remote sites. 
+<code>-q</code> option the password for encrypted files sent to remote sites.
 If no password is specified, the host name returned by the Unix
 <code>gethostname()</code> function, normally the DNS name of the host, is used.
-
-  <p>The <kbd>pw</kbd> option of the <code>crypto</code> configuration command
-specifies the read password for previously encrypted local files. 
-This must match the local password used by this program. 
-If not specified, the host name is used. 
+</p>
+<p>The <kbd>pw</kbd> option of the <code>crypto</code> configuration command
+specifies the read password for previously encrypted local files.
+This must match the local password used by this program.
+If not specified, the host name is used.
 Thus, if files are generated by this program without password,
 they can be read back by ntpd without password, but only on the same
 host.
-
-  <p>Normally, encrypted files for each host are generated by that host and
+</p>
+<p>Normally, encrypted files for each host are generated by that host and
 used only by that host, although exceptions exist as noted later on
-this page. 
+this page.
 The symmetric keys file, normally called <code>ntp.keys</code>, is
-usually installed in <code>/etc</code>. 
+usually installed in <code>/etc</code>.
 Other files and links are usually installed
 in <code>/usr/local/etc</code>, which is normally in a shared filesystem in
-NFS-mounted networks and cannot be changed by shared clients. 
+NFS-mounted networks and cannot be changed by shared clients.
 The location of the keys directory can be changed by the keysdir
-configuration command in such cases. 
+configuration command in such cases.
 Normally, this is in <code>/etc</code>.
-
-  <p>This program directs commentary and error messages to the standard
+</p>
+<p>This program directs commentary and error messages to the standard
 error stream <code>stderr</code> and remote files to the standard output stream
 <code>stdout</code> where they can be piped to other applications or redirected to
-files. 
+files.
 The names used for generated files and links all begin with the
 string <code>ntpkey</code> and include the file type,
 generating host and filestamp,
 as described in the <a href="#Cryptographic-Data-Files">Cryptographic Data Files</a> section below.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#Running-the-Program" accesskey="1">Running the Program</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Invocation" accesskey="2">ntp-keygen Invocation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Random-Seed-File" accesskey="3">Random Seed File</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#Cryptographic-Data-Files" accesskey="4">Cryptographic Data Files</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<div class="node">
-<p><hr>
-<a name="Running-the-Program"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Random-Seed-File">Random Seed File</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Description">Description</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Running-the-Program"></a>
+<div class="header">
+<p>
+Next: <a href="#Random-Seed-File" accesskey="n" rel="next">Random Seed File</a>, Previous: <a href="#Description" accesskey="p" rel="prev">Description</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Running-the-Program-1"></a>
+<h3 class="section">1.1 Running the Program</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Running the Program</h3>
-
 <p>To test and gain experience with Autokey concepts, log in as root and
-change to the keys directory, usually <code>/usr/local/etc</code>. 
+change to the keys directory, usually <code>/usr/local/etc</code>.
 When run for the
 first time, or if all files with names beginning <code>ntpkey</code>] have been
 removed, use the <code>ntp-keygen</code> command without arguments to generate a
 default RSA host key and matching RSA-MD5 certificate with expiration
-date one year hence. 
+date one year hence.
 If run again without options, the program uses the
 existing keys and parameters and generates only a new certificate with
 new expiration date one year hence.
-
-  <p>Run the command on as many hosts as necessary. 
+</p>
+<p>Run the command on as many hosts as necessary.
 Designate one of them as the trusted host (TH) using <code>ntp-keygen</code>
 with the <code>-T</code> option and configure
-it to synchronize from reliable Internet servers. 
-Then configure the other hosts to synchronize to the TH directly or indirectly. 
+it to synchronize from reliable Internet servers.
+Then configure the other hosts to synchronize to the TH directly or indirectly.
 A certificate trail is created when Autokey asks the immediately
 ascendant host towards the TH to sign its certificate, which is then
-provided to the immediately descendant host on request. 
+provided to the immediately descendant host on request.
 All group hosts should have acyclic certificate trails ending on the TH.
-
-  <p>The host key is used to encrypt the cookie when required and so must be
-RSA type. 
-By default, the host key is also the sign key used to encrypt signatures. 
+</p>
+<p>The host key is used to encrypt the cookie when required and so must be
+RSA type.
+By default, the host key is also the sign key used to encrypt signatures.
 A different sign key can be assigned using the <code>-S</code> option
-and this can be either RSA or DSA type. 
+and this can be either RSA or DSA type.
 By default, the signature
 message digest type is MD5, but any combination of sign key type and
 message digest type supported by the OpenSSL library can be specified
 using the <code>-c</code> option.
-
-  <p>The rules say cryptographic media should be generated with proventic
+</p>
+<p>The rules say cryptographic media should be generated with proventic
 filestamps, which means the host should already be synchronized before
-this program is run. 
+this program is run.
 This of course creates a chicken-and-egg problem
-when the host is started for the first time. 
+when the host is started for the first time.
 Accordingly, the host time
 should be set by some other means, such as eyeball-and-wristwatch, at
-least so that the certificate lifetime is within the current year. 
+least so that the certificate lifetime is within the current year.
 After that and when the host is synchronized to a proventic source, the
 certificate should be re-generated.
-
-  <p>Additional information on trusted groups and identity schemes is on the
+</p>
+<p>Additional information on trusted groups and identity schemes is on the
 Autokey Public-Key Authentication page.
-
-<div class="node">
-<p><hr>
+</p>
+<hr>
 <a name="ntp_002dkeygen-Invocation"></a>
-<br>
+<div class="header">
+<p>
+Next: <a href="#Random-Seed-File" accesskey="n" rel="next">Random Seed File</a>, Previous: <a href="#Running-the-Program" accesskey="p" rel="prev">Running the Program</a>, Up: <a href="#Description" accesskey="u" rel="up">Description</a> &nbsp; </p>
 </div>
+<a name="Invoking-ntp_002dkeygen"></a>
+<h3 class="section">1.2 Invoking ntp-keygen</h3>
+<a name="index-ntp_002dkeygen"></a>
+<a name="index-Create-a-NTP-host-key"></a>
 
-<h3 class="section">Invoking ntp-keygen</h3>
 
-<p><a name="index-ntp_002dkeygen-1"></a><a name="index-Create-a-NTP-host-key-2"></a>
 
-  <p>This program generates cryptographic data files used by the NTPv4
-authentication and identification schemes. 
+<p>This program generates cryptographic data files used by the NTPv4
+authentication and identification schemes.
 It can generate message digest keys used in symmetric key cryptography and,
 if the OpenSSL software library has been installed, it can generate host keys,
 signing keys, certificates, and identity keys and parameters used in Autokey
-public key cryptography. 
+public key cryptography.
 These files are used for cookie encryption,
 digital signature, and challenge/response identification algorithms
 compatible with the Internet standard security infrastructure.
-
-  <p>The message digest symmetric keys file is generated in a format
-compatible with NTPv3. 
+</p>
+<p>The message digest symmetric keys file is generated in a format
+compatible with NTPv3.
 All other files are in PEM-encoded printable ASCII format,
 so they can be embedded as MIME attachments in email to other sites
-and certificate authorities. 
+and certificate authorities.
 By default, files are not encrypted.
-
-  <p>When used to generate message digest symmetric keys, the program
+</p>
+<p>When used to generate message digest symmetric keys, the program
 produces a file containing ten pseudo-random printable ASCII strings
 suitable for the MD5 message digest algorithm included in the
-distribution. 
+distribution.
 If the OpenSSL library is installed, it produces an additional ten
 hex-encoded random bit strings suitable for SHA1, AES-128-CMAC, and
-other message digest algorithms. 
+other message digest algorithms.
 The message digest symmetric keys file must be distributed and stored
-using secure means beyond the scope of NTP itself. 
+using secure means beyond the scope of NTP itself.
 Besides the keys used for ordinary NTP associations, additional keys
 can be defined as passwords for the
 <code>ntpq(1ntpqmdoc)</code>
@@ -247,100 +287,153 @@
 and
 <code>ntpdc(1ntpdcmdoc)</code>
 utility programs.
-
-  <p>The remaining generated files are compatible with other OpenSSL
-applications and other Public Key Infrastructure (PKI) resources. 
+</p>
+<p>The remaining generated files are compatible with other OpenSSL
+applications and other Public Key Infrastructure (PKI) resources.
 Certificates generated by this program are compatible with extant
 industry practice, although some users might find the interpretation of
-X509v3 extension fields somewhat liberal. 
+X509v3 extension fields somewhat liberal.
 However, the identity keys are probably not compatible with anything
 other than Autokey.
-
-  <p>Some files used by this program are encrypted using a private password. 
+</p>
+<p>Some files used by this program are encrypted using a private password.
 The
 <code>-p</code>
 option specifies the read password for local encrypted files and the
 <code>-q</code>
-option the write password for encrypted files sent to remote sites. 
+option the write password for encrypted files sent to remote sites.
 If no password is specified, the host name returned by the Unix
 <code>hostname(1)</code>
 command, normally the DNS name of the host, is used as the the default read
-password, for convenience. 
+password, for convenience.
 The
 <code>ntp-keygen</code>
 program prompts for the password if it reads an encrypted file
-and the password is missing or incorrect. 
+and the password is missing or incorrect.
 If an encrypted file is read successfully and
 no write password is specified, the read password is used
 as the write password by default.
-
-  <p>The
+</p>
+<p>The
 <code>pw</code>
 option of the
 <code>crypto</code>
 <code>ntpd(1ntpdmdoc)</code>
 configuration command specifies the read
-password for previously encrypted local files. 
-This must match the local read password used by this program. 
-If not specified, the host name is used. 
+password for previously encrypted local files.
+This must match the local read password used by this program.
+If not specified, the host name is used.
 Thus, if files are generated by this program without an explicit password,
 they can be read back by
 <code>ntpd(1ntpdmdoc)</code>
-without specifying an explicit password but only on the same host. 
+without specifying an explicit password but only on the same host.
 If the write password used for encryption is specified as the host name,
 these files can be read by that host with no explicit password.
-
-  <p>Normally, encrypted files for each host are generated by that host and
+</p>
+<p>Normally, encrypted files for each host are generated by that host and
 used only by that host, although exceptions exist as noted later on
-this page. 
+this page.
 The symmetric keys file, normally called
-<span class="file">ntp.keys</span>,
+<samp>ntp.keys</samp>,
 is usually installed in
-<span class="file">/etc</span>. 
+<samp>/etc</samp>.
 Other files and links are usually installed in
-<span class="file">/usr/local/etc</span>,
+<samp>/usr/local/etc</samp>,
 which is normally in a shared filesystem in
-NFS-mounted networks and cannot be changed by shared clients. 
+NFS-mounted networks and cannot be changed by shared clients.
 In these cases, NFS clients can specify the files in another
 directory such as
-<span class="file">/etc</span>
+<samp>/etc</samp>
 using the
 <code>keysdir</code>
 <code>ntpd(1ntpdmdoc)</code>
 configuration file command.
-
-  <p>This program directs commentary and error messages to the standard
+</p>
+<p>This program directs commentary and error messages to the standard
 error stream
-<span class="file">stderr</span>
+<samp>stderr</samp>
 and remote files to the standard output stream
-<span class="file">stdout</span>
-where they can be piped to other applications or redirected to files. 
+<samp>stdout</samp>
+where they can be piped to other applications or redirected to files.
 The names used for generated files and links all begin with the
 string
-<span class="file">ntpkey*</span>
+<samp>ntpkey*</samp>
 and include the file type, generating host and filestamp,
 as described in the
 <a href="#Cryptographic-Data-Files">Cryptographic Data Files</a>
 section below.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-usage" accesskey="1">ntp-keygen usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-imbits" accesskey="2">ntp-keygen imbits</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-certificate" accesskey="3">ntp-keygen certificate</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-cipher" accesskey="4">ntp-keygen cipher</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-id_002dkey" accesskey="5">ntp-keygen id-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-gq_002dparams" accesskey="6">ntp-keygen gq-params</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-host_002dkey" accesskey="7">ntp-keygen host-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-iffkey" accesskey="8">ntp-keygen iffkey</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-ident" accesskey="9">ntp-keygen ident</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-lifetime">ntp-keygen lifetime</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-modulus">ntp-keygen modulus</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-md5key">ntp-keygen md5key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-pvt_002dcert">ntp-keygen pvt-cert</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-password">ntp-keygen password</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-export_002dpasswd">ntp-keygen export-passwd</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-subject_002dname">ntp-keygen subject-name</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-sign_002dkey">ntp-keygen sign-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-trusted_002dcert">ntp-keygen trusted-cert</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-mv_002dparams">ntp-keygen mv-params</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-mv_002dkeys">ntp-keygen mv-keys</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-config">ntp-keygen config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-exit-status">ntp-keygen exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Usage">ntp-keygen Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Notes">ntp-keygen Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Bugs">ntp-keygen Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
+</td></tr>
+</table>
 
-<h5 class="subsubsection">Running the Program</h5>
-
+<a name="Running-the-Program-2"></a>
+<h4 class="subsection">1.2.1 Running the Program</h4>
 <p>The safest way to run the
 <code>ntp-keygen</code>
-program is logged in directly as root. 
+program is logged in directly as root.
 The recommended procedure is change to the
 <kbd>keys</kbd>
 directory, usually
-<span class="file">/usr/local/etc</span>,
+<samp>/usr/local/etc</samp>,
 then run the program.
-
-  <p>To test and gain experience with Autokey concepts, log in as root and
+</p>
+<p>To test and gain experience with Autokey concepts, log in as root and
 change to the
 <kbd>keys</kbd>
 directory, usually
-<span class="file">/usr/local/etc</span>. 
+<samp>/usr/local/etc</samp>.
 When run for the first time, or if all files with names beginning with
-<span class="file">ntpkey*</span>
+<samp>ntpkey*</samp>
 have been removed, use the
 <code>ntp-keygen</code>
 command without arguments to generate a default
@@ -348,23 +441,23 @@
 host key and matching
 <code>RSA-MD5</code>
 certificate file with expiration date one year hence,
-which is all that is necessary in many cases. 
+which is all that is necessary in many cases.
 The program also generates soft links from the generic names
-to the respective files. 
+to the respective files.
 If run again without options, the program uses the
 existing keys and parameters and generates a new certificate file with
 new expiration date one year hence, and soft link.
-
-  <p>The host key is used to encrypt the cookie when required and so must be
+</p>
+<p>The host key is used to encrypt the cookie when required and so must be
 <code>RSA</code>
-type. 
-By default, the host key is also the sign key used to encrypt signatures. 
+type.
+By default, the host key is also the sign key used to encrypt signatures.
 When necessary, a different sign key can be specified and this can be
 either
 <code>RSA</code>
 or
 <code>DSA</code>
-type. 
+type.
 By default, the message digest type is
 <code>MD5</code>,
 but any combination
@@ -373,9 +466,9 @@
 <code>AES128CMAC</code>, <code>MD2</code>, <code>MD5</code>, <code>MDC2</code>, <code>SHA</code>, <code>SHA1</code>
 and
 <code>RIPE160</code>
-message digest algorithms. 
+message digest algorithms.
 However, the scheme specified in the certificate must be compatible
-with the sign key. 
+with the sign key.
 Certificates using any digest algorithm are compatible with
 <code>RSA</code>
 sign keys;
@@ -386,72 +479,72 @@
 certificates are compatible with
 <code>DSA</code>
 sign keys.
-
-  <p>Private/public key files and certificates are compatible with
-other OpenSSL applications and very likely other libraries as well. 
+</p>
+<p>Private/public key files and certificates are compatible with
+other OpenSSL applications and very likely other libraries as well.
 Certificates or certificate requests derived from them should be compatible
 with extant industry practice, although some users might find
-the interpretation of X509v3 extension fields somewhat liberal. 
+the interpretation of X509v3 extension fields somewhat liberal.
 However, the identification parameter files, although encoded
 as the other files, are probably not compatible with anything other than Autokey.
-
-  <p>Running the program as other than root and using the Unix
+</p>
+<p>Running the program as other than root and using the Unix
 <code>su(1)</code>
 command
 to assume root may not work properly, since by default the OpenSSL library
 looks for the random seed file
-<span class="file">.rnd</span>
-in the user home directory. 
+<samp>.rnd</samp>
+in the user home directory.
 However, there should be only one
-<span class="file">.rnd</span>,
+<samp>.rnd</samp>,
 most conveniently
 in the root directory, so it is convenient to define the
 .Ev RANDFILE
 environment variable used by the OpenSSL library as the path to
-<span class="file">.rnd</span>.
-
-  <p>Installing the keys as root might not work in NFS-mounted
+<samp>.rnd</samp>.
+</p>
+<p>Installing the keys as root might not work in NFS-mounted
 shared file systems, as NFS clients may not be able to write
-to the shared keys directory, even as root. 
+to the shared keys directory, even as root.
 In this case, NFS clients can specify the files in another
 directory such as
-<span class="file">/etc</span>
+<samp>/etc</samp>
 using the
 <code>keysdir</code>
 <code>ntpd(1ntpdmdoc)</code>
-configuration file command. 
+configuration file command.
 There is no need for one client to read the keys and certificates
 of other clients or servers, as these data are obtained automatically
 by the Autokey protocol.
-
-  <p>Ordinarily, cryptographic files are generated by the host that uses them,
+</p>
+<p>Ordinarily, cryptographic files are generated by the host that uses them,
 but it is possible for a trusted agent (TA) to generate these files
-for other hosts; however, in such cases files should always be encrypted. 
+for other hosts; however, in such cases files should always be encrypted.
 The subject name and trusted name default to the hostname
-of the host generating the files, but can be changed by command line options. 
+of the host generating the files, but can be changed by command line options.
 It is convenient to designate the owner name and trusted name
-as the subject and issuer fields, respectively, of the certificate. 
+as the subject and issuer fields, respectively, of the certificate.
 The owner name is also used for the host and sign key files,
 while the trusted name is used for the identity files.
-
-  <p>All files are installed by default in the keys directory
-<span class="file">/usr/local/etc</span>,
+</p>
+<p>All files are installed by default in the keys directory
+<samp>/usr/local/etc</samp>,
 which is normally in a shared filesystem
-in NFS-mounted networks. 
+in NFS-mounted networks.
 The actual location of the keys directory
 and each file can be overridden by configuration commands,
-but this is not recommended. 
+but this is not recommended.
 Normally, the files for each host are generated by that host
 and used only by that host, although exceptions exist
 as noted later on this page.
-
-  <p>Normally, files containing private values,
+</p>
+<p>Normally, files containing private values,
 including the host key, sign key and identification parameters,
 are permitted root read/write-only;
-while others containing public values are permitted world readable. 
+while others containing public values are permitted world readable.
 Alternatively, files containing private values can be encrypted
 and these files permitted world readable,
-which simplifies maintenance in shared file systems. 
+which simplifies maintenance in shared file systems.
 Since uniqueness is insured by the
 <kbd>hostname</kbd>
 and
@@ -458,24 +551,24 @@
 <kbd>filestamp</kbd>
 file name extensions, the files for an NTP server and
 dependent clients can all be installed in the same shared directory.
-
-  <p>The recommended practice is to keep the file name extensions
+</p>
+<p>The recommended practice is to keep the file name extensions
 when installing a file and to install a soft link
 from the generic names specified elsewhere on this page
-to the generated files. 
+to the generated files.
 This allows new file generations to be activated simply
-by changing the link. 
+by changing the link.
 If a link is present,
 <code>ntpd(1ntpdmdoc)</code>
 follows it to the file name to extract the
-<kbd>filestamp</kbd>. 
+<kbd>filestamp</kbd>.
 If a link is not present,
 <code>ntpd(1ntpdmdoc)</code>
 extracts the
 <kbd>filestamp</kbd>
-from the file itself. 
+from the file itself.
 This allows clients to verify that the file and generation times
-are always current. 
+are always current.
 The
 <code>ntp-keygen</code>
 program uses the same
@@ -483,24 +576,24 @@
 extension for all files generated
 at one time, so each generation is distinct and can be readily
 recognized in monitoring data.
-
-  <p>Run the command on as many hosts as necessary. 
+</p>
+<p>Run the command on as many hosts as necessary.
 Designate one of them as the trusted host (TH) using
 <code>ntp-keygen</code>
 with the
 <code>-T</code>
-option and configure it to synchronize from reliable Internet servers. 
+option and configure it to synchronize from reliable Internet servers.
 Then configure the other hosts to synchronize to the TH directly or
-indirectly. 
+indirectly.
 A certificate trail is created when Autokey asks the immediately
 ascendant host towards the TH to sign its certificate, which is then
-provided to the immediately descendant host on request. 
+provided to the immediately descendant host on request.
 All group hosts should have acyclic certificate trails ending on the TH.
-
-  <p>The host key is used to encrypt the cookie when required and so must be
-RSA type. 
+</p>
+<p>The host key is used to encrypt the cookie when required and so must be
+RSA type.
 By default, the host key is also the sign key used to encrypt
-signatures. 
+signatures.
 A different sign key can be assigned using the
 <code>-S</code>
 option and this can be either
@@ -507,7 +600,7 @@
 <code>RSA</code>
 or
 <code>DSA</code>
-type. 
+type.
 By default, the signature
 message digest type is
 <code>MD5</code>,
@@ -516,26 +609,26 @@
 using the
 <code>-c</code>
 option.
-
-  <p>The rules say cryptographic media should be generated with proventic
+</p>
+<p>The rules say cryptographic media should be generated with proventic
 filestamps, which means the host should already be synchronized before
-this program is run. 
+this program is run.
 This of course creates a chicken-and-egg problem
-when the host is started for the first time. 
+when the host is started for the first time.
 Accordingly, the host time
 should be set by some other means, such as eyeball-and-wristwatch, at
-least so that the certificate lifetime is within the current year. 
+least so that the certificate lifetime is within the current year.
 After that and when the host is synchronized to a proventic source, the
 certificate should be re-generated.
-
-  <p>Additional information on trusted groups and identity schemes is on the
-Autokey Public-Key Authentication
+</p>
+<p>Additional information on trusted groups and identity schemes is on the
+&ldquo;Autokey Public-Key Authentication&rdquo;
 page.
-
-  <p>File names begin with the prefix
-<span class="file">ntpkey</span>_
+</p>
+<p>File names begin with the prefix
+<samp>ntpkey</samp>_
 and end with the suffix
-<span class="file">_</span><kbd>hostname</kbd>. <kbd>filestamp</kbd>,
+<samp>_</samp><kbd>hostname</kbd>. <kbd>filestamp</kbd>,
 where
 <kbd>hostname</kbd>
 is the owner name, usually the string returned
@@ -543,27 +636,27 @@
 <code>hostname(1)</code>
 command, and
 <kbd>filestamp</kbd>
-is the NTP seconds when the file was generated, in decimal digits. 
+is the NTP seconds when the file was generated, in decimal digits.
 This both guarantees uniqueness and simplifies maintenance
 procedures, since all files can be quickly removed
 by a
-<code>rm</code> <span class="file">ntpkey*</span>
+<code>rm</code> <samp>ntpkey*</samp>
 command or all files generated
 at a specific time can be removed by a
-<code>rm</code> <span class="file">*</span><kbd>filestamp</kbd>
-command. 
+<code>rm</code> <samp>*</samp><kbd>filestamp</kbd>
+command.
 To further reduce the risk of misconfiguration,
 the first two lines of a file contain the file name
 and generation date and time as comments.
-
-<h5 class="subsubsection">Trusted Hosts and Groups</h5>
-
+</p>
+<a name="Trusted-Hosts-and-Groups"></a>
+<h4 class="subsubsection">1.2.1.1 Trusted Hosts and Groups</h4>
 <p>Each cryptographic configuration involves selection of a signature scheme
 and identification scheme, called a cryptotype,
 as explained in the
-<a href="#Authentication-Options">Authentication Options</a>
+&lsquo;Authentication Options&rsquo;
 section of
-<code>ntp.conf(5)</code>. 
+<code>ntp.conf(5)</code>.
 The default cryptotype uses
 <code>RSA</code>
 encryption,
@@ -571,39 +664,39 @@
 message digest
 and
 <code>TC</code>
-identification. 
+identification.
 First, configure a NTP subnet including one or more low-stratum
 trusted hosts from which all other hosts derive synchronization
-directly or indirectly. 
+directly or indirectly.
 Trusted hosts have trusted certificates;
-all other hosts have nontrusted certificates. 
+all other hosts have nontrusted certificates.
 These hosts will automatically and dynamically build authoritative
-certificate trails to one or more trusted hosts. 
+certificate trails to one or more trusted hosts.
 A trusted group is the set of all hosts that have, directly or indirectly,
-a certificate trail ending at a trusted host. 
+a certificate trail ending at a trusted host.
 The trail is defined by static configuration file entries
 or dynamic means described on the
-<a href="#Automatic-NTP-Configuration-Options">Automatic NTP Configuration Options</a>
+&lsquo;Automatic NTP Configuration Options&rsquo;
 section of
 <code>ntp.conf(5)</code>.
-
-  <p>On each trusted host as root, change to the keys directory. 
+</p>
+<p>On each trusted host as root, change to the keys directory.
 To insure a fresh fileset, remove all
-<span class="file">ntpkey</span>
-files. 
+<samp>ntpkey</samp>
+files.
 Then run
 <code>ntp-keygen</code>
 <code>-T</code>
-to generate keys and a trusted certificate. 
+to generate keys and a trusted certificate.
 On all other hosts do the same, but leave off the
 <code>-T</code>
-flag to generate keys and nontrusted certificates. 
+flag to generate keys and nontrusted certificates.
 When complete, start the NTP daemons beginning at the lowest stratum
-and working up the tree. 
+and working up the tree.
 It may take some time for Autokey to instantiate the certificate trails
 throughout the subnet, but setting up the environment is completely automatic.
-
-  <p>If it is necessary to use a different sign key or different digest/signature
+</p>
+<p>If it is necessary to use a different sign key or different digest/signature
 scheme than the default, run
 <code>ntp-keygen</code>
 with the
@@ -613,10 +706,10 @@
 is either
 <code>RSA</code>
 or
-<code>DSA</code>. 
+<code>DSA</code>.
 The most frequent need to do this is when a
 <code>DSA</code>-signed
-certificate is used. 
+certificate is used.
 If it is necessary to use a different certificate scheme than the default,
 run
 <code>ntp-keygen</code>
@@ -624,83 +717,83 @@
 <code>-c</code> <kbd>scheme</kbd>
 option and selected
 <kbd>scheme</kbd>
-as needed. 
+as needed.
 If
 <code>ntp-keygen</code>
 is run again without these options, it generates a new certificate
 using the same scheme and sign key, and soft link.
-
-  <p>After setting up the environment it is advisable to update certificates
-from time to time, if only to extend the validity interval. 
+</p>
+<p>After setting up the environment it is advisable to update certificates
+from time to time, if only to extend the validity interval.
 Simply run
 <code>ntp-keygen</code>
 with the same flags as before to generate new certificates
-using existing keys, and soft links. 
+using existing keys, and soft links.
 However, if the host or sign key is changed,
 <code>ntpd(1ntpdmdoc)</code>
-should be restarted. 
+should be restarted.
 When
 <code>ntpd(1ntpdmdoc)</code>
-is restarted, it loads any new files and restarts the protocol. 
+is restarted, it loads any new files and restarts the protocol.
 Other dependent hosts will continue as usual until signatures are refreshed,
 at which time the protocol is restarted.
-
-<h5 class="subsubsection">Identity Schemes</h5>
-
+</p>
+<a name="Identity-Schemes"></a>
+<h4 class="subsubsection">1.2.1.2 Identity Schemes</h4>
 <p>As mentioned on the Autonomous Authentication page,
 the default
 <code>TC</code>
-identity scheme is vulnerable to a middleman attack. 
+identity scheme is vulnerable to a middleman attack.
 However, there are more secure identity schemes available,
 including
 <code>PC</code>, <code>IFF</code>, <code>GQ</code>
 and
 <code>MV</code>
-schemes described below. 
+schemes described below.
 These schemes are based on a TA, one or more trusted hosts
-and some number of nontrusted hosts. 
+and some number of nontrusted hosts.
 Trusted hosts prove identity using values provided by the TA,
 while the remaining hosts prove identity using values provided
-by a trusted host and certificate trails that end on that host. 
+by a trusted host and certificate trails that end on that host.
 The name of a trusted host is also the name of its sugroup
-and also the subject and issuer name on its trusted certificate. 
+and also the subject and issuer name on its trusted certificate.
 The TA is not necessarily a trusted host in this sense, but often is.
-
-  <p>In some schemes there are separate keys for servers and clients. 
+</p>
+<p>In some schemes there are separate keys for servers and clients.
 A server can also be a client of another server,
-but a client can never be a server for another client. 
+but a client can never be a server for another client.
 In general, trusted hosts and nontrusted hosts that operate
 as both server and client have parameter files that contain
-both server and client keys. 
+both server and client keys.
 Hosts that operate
 only as clients have key files that contain only client keys.
-
-  <p>The PC scheme supports only one trusted host in the group. 
+</p>
+<p>The PC scheme supports only one trusted host in the group.
 On trusted host alice run
 <code>ntp-keygen</code>
 <code>-P</code>
 <code>-p</code> <kbd>password</kbd>
 to generate the host key file
-<span class="file">ntpkey</span>_ <code>RSA</code> <span class="file">key_alice.</span> <kbd>filestamp</kbd>
+<samp>ntpkey</samp>_ <code>RSA</code> <samp>key_alice.</samp> <kbd>filestamp</kbd>
 and trusted private certificate file
-<span class="file">ntpkey</span>_ <code>RSA-MD5</code> <code>_</code> <span class="file">cert_alice.</span> <kbd>filestamp</kbd>,
-and soft links. 
+<samp>ntpkey</samp>_ <code>RSA-MD5</code> <code>_</code> <samp>cert_alice.</samp> <kbd>filestamp</kbd>,
+and soft links.
 Copy both files to all group hosts;
-they replace the files which would be generated in other schemes. 
+they replace the files which would be generated in other schemes.
 On each host
 <kbd>bob</kbd>
 install a soft link from the generic name
-<span class="file">ntpkey_host_</span><kbd>bob</kbd>
+<samp>ntpkey_host_</samp><kbd>bob</kbd>
 to the host key file and soft link
-<span class="file">ntpkey_cert_</span><kbd>bob</kbd>
-to the private certificate file. 
+<samp>ntpkey_cert_</samp><kbd>bob</kbd>
+to the private certificate file.
 Note the generic links are on bob, but point to files generated
-by trusted host alice. 
+by trusted host alice.
 In this scheme it is not possible to refresh
 either the keys or certificates without copying them
 to all other hosts in the group, and recreating the soft links.
-
-  <p>For the
+</p>
+<p>For the
 <code>IFF</code>
 scheme proceed as in the
 <code>TC</code>
@@ -708,7 +801,7 @@
 and certificates for all group hosts, then for every trusted host in the group,
 generate the
 <code>IFF</code>
-parameter file. 
+parameter file.
 On trusted host alice run
 <code>ntp-keygen</code>
 <code>-T</code>
@@ -715,35 +808,35 @@
 <code>-I</code>
 <code>-p</code> <kbd>password</kbd>
 to produce her parameter file
-<span class="file">ntpkey_IFFpar_alice.</span><kbd>filestamp</kbd>,
-which includes both server and client keys. 
+<samp>ntpkey_IFFpar_alice.</samp><kbd>filestamp</kbd>,
+which includes both server and client keys.
 Copy this file to all group hosts that operate as both servers
 and clients and install a soft link from the generic
-<span class="file">ntpkey_iff_alice</span>
-to this file. 
+<samp>ntpkey_iff_alice</samp>
+to this file.
 If there are no hosts restricted to operate only as clients,
-there is nothing further to do. 
+there is nothing further to do.
 As the
 <code>IFF</code>
 scheme is independent
 of keys and certificates, these files can be refreshed as needed.
-
-  <p>If a rogue client has the parameter file, it could masquerade
-as a legitimate server and present a middleman threat. 
+</p>
+<p>If a rogue client has the parameter file, it could masquerade
+as a legitimate server and present a middleman threat.
 To eliminate this threat, the client keys can be extracted
-from the parameter file and distributed to all restricted clients. 
+from the parameter file and distributed to all restricted clients.
 After generating the parameter file, on alice run
 <code>ntp-keygen</code>
 <code>-e</code>
-and pipe the output to a file or email program. 
-Copy or email this file to all restricted clients. 
+and pipe the output to a file or email program.
+Copy or email this file to all restricted clients.
 On these clients install a soft link from the generic
-<span class="file">ntpkey_iff_alice</span>
-to this file. 
+<samp>ntpkey_iff_alice</samp>
+to this file.
 To further protect the integrity of the keys,
 each file can be encrypted with a secret password.
-
-  <p>For the
+</p>
+<p>For the
 <code>GQ</code>
 scheme proceed as in the
 <code>TC</code>
@@ -751,7 +844,7 @@
 and certificates for all group hosts, then for every trusted host
 in the group, generate the
 <code>IFF</code>
-parameter file. 
+parameter file.
 On trusted host alice run
 <code>ntp-keygen</code>
 <code>-T</code>
@@ -758,18 +851,18 @@
 <code>-G</code>
 <code>-p</code> <kbd>password</kbd>
 to produce her parameter file
-<span class="file">ntpkey_GQpar_alice.</span><kbd>filestamp</kbd>,
-which includes both server and client keys. 
+<samp>ntpkey_GQpar_alice.</samp><kbd>filestamp</kbd>,
+which includes both server and client keys.
 Copy this file to all group hosts and install a soft link
 from the generic
-<span class="file">ntpkey_gq_alice</span>
-to this file. 
+<samp>ntpkey_gq_alice</samp>
+to this file.
 In addition, on each host
 <kbd>bob</kbd>
 install a soft link
 from generic
-<span class="file">ntpkey_gq_</span><kbd>bob</kbd>
-to this file. 
+<samp>ntpkey_gq_</samp><kbd>bob</kbd>
+to this file.
 As the
 <code>GQ</code>
 scheme updates the
@@ -776,15 +869,15 @@
 <code>GQ</code>
 parameters file and certificate
 at the same time, keys and certificates can be regenerated as needed.
-
-  <p>For the
+</p>
+<p>For the
 <code>MV</code>
 scheme, proceed as in the
 <code>TC</code>
 scheme to generate keys
-and certificates for all group hosts. 
+and certificates for all group hosts.
 For illustration assume trish is the TA, alice one of several trusted hosts
-and bob one of her clients. 
+and bob one of her clients.
 On TA trish run
 <code>ntp-keygen</code>
 <code>-V</code> <kbd>n</kbd>
@@ -793,49 +886,52 @@
 <kbd>n</kbd>
 is the number of revokable keys (typically 5) to produce
 the parameter file
-<span class="file">ntpkeys_MVpar_trish.</span><kbd>filestamp</kbd>
+<samp>ntpkeys_MVpar_trish.</samp><kbd>filestamp</kbd>
 and client key files
-<span class="file">ntpkeys_MVkey</span><kbd>d</kbd> <kbd>_</kbd> <span class="file">trish.</span> <kbd>filestamp</kbd>
+<samp>ntpkeys_MVkey</samp><kbd>d</kbd> <kbd>_</kbd> <samp>trish.</samp> <kbd>filestamp</kbd>
 where
 <kbd>d</kbd>
 is the key number (0 &lt;
 <kbd>d</kbd>
 &lt;
-<kbd>n</kbd>). 
+<kbd>n</kbd>).
 Copy the parameter file to alice and install a soft link
 from the generic
-<span class="file">ntpkey_mv_alice</span>
-to this file. 
+<samp>ntpkey_mv_alice</samp>
+to this file.
 Copy one of the client key files to alice for later distribution
-to her clients. 
+to her clients.
 It does not matter which client key file goes to alice,
-since they all work the same way. 
-Alice copies the client key file to all of her clients. 
+since they all work the same way.
+Alice copies the client key file to all of her clients.
 On client bob install a soft link from generic
-<span class="file">ntpkey_mvkey_bob</span>
-to the client key file. 
+<samp>ntpkey_mvkey_bob</samp>
+to the client key file.
 As the
 <code>MV</code>
 scheme is independent of keys and certificates,
 these files can be refreshed as needed.
-
-<h5 class="subsubsection">Command Line Options</h5>
-
-     <dl>
-<dt><code>-b</code> <code>--imbits</code>= <kbd>modulus</kbd><dd>Set the number of bits in the identity modulus for generating identity keys to
+</p>
+<a name="Command-Line-Options"></a>
+<h4 class="subsubsection">1.2.1.3 Command Line Options</h4>
+<dl compact="compact">
+<dt><code>-b</code> <code>--imbits</code>= <kbd>modulus</kbd></dt>
+<dd><p>Set the number of bits in the identity modulus for generating identity keys to
 <kbd>modulus</kbd>
-bits. 
+bits.
 The number of bits in the identity modulus defaults to 256, but can be set to
-values from 256 to 2048 (32 to 256 octets). 
+values from 256 to 2048 (32 to 256 octets).
 Use the larger moduli with caution, as this can consume considerable computing
-resources and increases the size of authenticated packets. 
-<br><dt><code>-c</code> <code>--certificate</code>= <kbd>scheme</kbd><dd>Select certificate signature encryption/message digest scheme. 
+resources and increases the size of authenticated packets.
+</p></dd>
+<dt><code>-c</code> <code>--certificate</code>= <kbd>scheme</kbd></dt>
+<dd><p>Select certificate signature encryption/message digest scheme.
 The
 <kbd>scheme</kbd>
 can be one of the following:
 <code>RSA-MD2</code>, <code>RSA-MD5</code>, <code>RSA-MDC2</code>, <code>RSA-SHA</code>, <code>RSA-SHA1</code>, <code>RSA-RIPEMD160</code>, <code>DSA-SHA</code>,
 or
-<code>DSA-SHA1</code>. 
+<code>DSA-SHA1</code>.
 Note that
 <code>RSA</code>
 schemes must be used with an
@@ -844,26 +940,34 @@
 <code>DSA</code>
 schemes must be used with a
 <code>DSA</code>
-sign key. 
+sign key.
 The default without this option is
-<code>RSA-MD5</code>. 
+<code>RSA-MD5</code>.
 If compatibility with FIPS 140-2 is required, either the
 <code>DSA-SHA</code>
 or
 <code>DSA-SHA1</code>
-scheme must be used. 
-<br><dt><code>-C</code> <code>--cipher</code>= <kbd>cipher</kbd><dd>Select the OpenSSL cipher to encrypt the files containing private keys. 
+scheme must be used.
+</p></dd>
+<dt><code>-C</code> <code>--cipher</code>= <kbd>cipher</kbd></dt>
+<dd><p>Select the OpenSSL cipher to encrypt the files containing private keys.
 The default without this option is three-key triple DES in CBC mode,
-<code>des-ede3-cbc</code>. 
+<code>des-ede3-cbc</code>.
 The
 <code>openssl</code> <code>-h</code>
-command provided with OpenSSL displays available ciphers. 
-<br><dt><code>-d</code> <code>--debug-level</code><dd>Increase debugging verbosity level. 
-This option displays the cryptographic data produced in eye-friendly billboards. 
-<br><dt><code>-D</code> <code>--set-debug-level</code>= <kbd>level</kbd><dd>Set the debugging verbosity to
-<kbd>level</kbd>. 
-This option displays the cryptographic data produced in eye-friendly billboards. 
-<br><dt><code>-e</code> <code>--id-key</code><dd>Write the
+command provided with OpenSSL displays available ciphers.
+</p></dd>
+<dt><code>-d</code> <code>--debug-level</code></dt>
+<dd><p>Increase debugging verbosity level.
+This option displays the cryptographic data produced in eye-friendly billboards.
+</p></dd>
+<dt><code>-D</code> <code>--set-debug-level</code>= <kbd>level</kbd></dt>
+<dd><p>Set the debugging verbosity to
+<kbd>level</kbd>.
+This option displays the cryptographic data produced in eye-friendly billboards.
+</p></dd>
+<dt><code>-e</code> <code>--id-key</code></dt>
+<dd><p>Write the
 <code>IFF</code>
 or
 <code>GQ</code>
@@ -871,41 +975,49 @@
 <kbd>IFFkey</kbd> <kbd>or</kbd> <kbd>GQkey</kbd>
 client keys file previously specified
 as unencrypted data to the standard output stream
-<span class="file">stdout</span>. 
-This is intended for automatic key distribution by email. 
-<br><dt><code>-G</code> <code>--gq-params</code><dd>Generate a new encrypted
+<samp>stdout</samp>.
+This is intended for automatic key distribution by email.
+</p></dd>
+<dt><code>-G</code> <code>--gq-params</code></dt>
+<dd><p>Generate a new encrypted
 <code>GQ</code>
-parameters and key file for the Guillou-Quisquater (GQ) identity scheme. 
+parameters and key file for the Guillou-Quisquater (GQ) identity scheme.
 This option is mutually exclusive with the
 <code>-I</code>
 and
 <code>-V</code>
-options. 
-<br><dt><code>-H</code> <code>--host-key</code><dd>Generate a new encrypted
+options.
+</p></dd>
+<dt><code>-H</code> <code>--host-key</code></dt>
+<dd><p>Generate a new encrypted
 <code>RSA</code>
-public/private host key file. 
-<br><dt><code>-I</code> <code>--iffkey</code><dd>Generate a new encrypted
+public/private host key file.
+</p></dd>
+<dt><code>-I</code> <code>--iffkey</code></dt>
+<dd><p>Generate a new encrypted
 <code>IFF</code>
-key file for the Schnorr (IFF) identity scheme. 
+key file for the Schnorr (IFF) identity scheme.
 This option is mutually exclusive with the
 <code>-G</code>
 and
 Fl V
-options. 
-<br><dt><code>-i</code> <code>--ident</code>= <kbd>group</kbd><dd>Set the optional Autokey group name to
-<kbd>group</kbd>. 
+options.
+</p></dd>
+<dt><code>-i</code> <code>--ident</code>= <kbd>group</kbd></dt>
+<dd><p>Set the optional Autokey group name to
+<kbd>group</kbd>.
 This is used in the identity scheme parameter file names of
 <code>IFF</code>, <code>GQ</code>,
 and
 <code>MV</code>
-client parameters files. 
-In that role, the default is the host name if no group is provided. 
+client parameters files.
+In that role, the default is the host name if no group is provided.
 The group name, if specified using
 <code>-i</code>
 or
 <code>-s</code>
 following an
-@
+&lsquo;@&rsquo;
 character, is also used in certificate subject and issuer names in the form
 <kbd>host</kbd> <kbd>@</kbd> <kbd>group</kbd>
 and should match the group specified via
@@ -912,127 +1024,148 @@
 <code>crypto</code> <code>ident</code>
 or
 <code>server</code> <code>ident</code>
-in the ntpd configuration file. 
-<br><dt><code>-l</code> <code>--lifetime</code>= <kbd>days</kbd><dd>Set the lifetime for certificate expiration to
-<kbd>days</kbd>. 
-The default lifetime is one year (365 days). 
-<br><dt><code>-m</code> <code>--modulus</code>= <kbd>bits</kbd><dd>Set the number of bits in the prime modulus for generating files to
-<kbd>bits</kbd>. 
-The modulus defaults to 512, but can be set from 256 to 2048 (32 to 256 octets). 
+in the ntpd configuration file.
+</p></dd>
+<dt><code>-l</code> <code>--lifetime</code>= <kbd>days</kbd></dt>
+<dd><p>Set the lifetime for certificate expiration to
+<kbd>days</kbd>.
+The default lifetime is one year (365 days).
+</p></dd>
+<dt><code>-m</code> <code>--modulus</code>= <kbd>bits</kbd></dt>
+<dd><p>Set the number of bits in the prime modulus for generating files to
+<kbd>bits</kbd>.
+The modulus defaults to 512, but can be set from 256 to 2048 (32 to 256 octets).
 Use the larger moduli with caution, as this can consume considerable computing
-resources and increases the size of authenticated packets. 
-<br><dt><code>-M</code> <code>--md5key</code><dd>Generate a new symmetric keys file containing 10
+resources and increases the size of authenticated packets.
+</p></dd>
+<dt><code>-M</code> <code>--md5key</code></dt>
+<dd><p>Generate a new symmetric keys file containing 10
 <code>MD5</code>
 keys, and if OpenSSL is available, 10
 <code>SHA</code>
-keys. 
+keys.
 An
 <code>MD5</code>
 key is a string of 20 random printable ASCII characters, while a
 <code>SHA</code>
-key is a string of 40 random hex digits. 
-The file can be edited using a text editor to change the key type or key content. 
-This option is mutually exclusive with all other options. 
-<br><dt><code>-p</code> <code>--password</code>= <kbd>passwd</kbd><dd>Set the password for reading and writing encrypted files to
-<kbd>passwd</kbd>. 
-These include the host, sign and identify key files. 
+key is a string of 40 random hex digits.
+The file can be edited using a text editor to change the key type or key content.
+This option is mutually exclusive with all other options.
+</p></dd>
+<dt><code>-p</code> <code>--password</code>= <kbd>passwd</kbd></dt>
+<dd><p>Set the password for reading and writing encrypted files to
+<kbd>passwd</kbd>.
+These include the host, sign and identify key files.
 By default, the password is the string returned by the Unix
 <code>hostname</code>
-command. 
-<br><dt><code>-P</code> <code>--pvt-cert</code><dd>Generate a new private certificate used by the
+command.
+</p></dd>
+<dt><code>-P</code> <code>--pvt-cert</code></dt>
+<dd><p>Generate a new private certificate used by the
 <code>PC</code>
-identity scheme. 
-By default, the program generates public certificates. 
-Note: the PC identity scheme is not recommended for new installations. 
-<br><dt><code>-q</code> <code>--export-passwd</code>= <kbd>passwd</kbd><dd>Set the password for writing encrypted
+identity scheme.
+By default, the program generates public certificates.
+Note: the PC identity scheme is not recommended for new installations.
+</p></dd>
+<dt><code>-q</code> <code>--export-passwd</code>= <kbd>passwd</kbd></dt>
+<dd><p>Set the password for writing encrypted
 <code>IFF</code>, <code>GQ</code> <code>and</code> <code>MV</code>
 identity files redirected to
-<span class="file">stdout</span>
+<samp>stdout</samp>
 to
-<kbd>passwd</kbd>. 
+<kbd>passwd</kbd>.
 In effect, these files are decrypted with the
 <code>-p</code>
 password, then encrypted with the
 <code>-q</code>
-password. 
+password.
 By default, the password is the string returned by the Unix
 <code>hostname</code>
-command. 
-<br><dt><code>-s</code> <code>--subject-key</code>= <code>[host]</code> <code>[@ </code><kbd>group</kbd><code>]</code><dd>Specify the Autokey host name, where
+command.
+</p></dd>
+<dt><code>-s</code> <code>--subject-key</code>= <code>[host]</code> <code>[@ <kbd>group</kbd>]</code></dt>
+<dd><p>Specify the Autokey host name, where
 <kbd>host</kbd>
 is the optional host name and
 <kbd>group</kbd>
-is the optional group name. 
+is the optional group name.
 The host name, and if provided, group name are used in
 <kbd>host</kbd> <kbd>@</kbd> <kbd>group</kbd>
-form as certificate subject and issuer. 
+form as certificate subject and issuer.
 Specifying
 <code>-s</code> <code>-@</code> <kbd>group</kbd>
 is allowed, and results in leaving the host name unchanged, as with
-<code>-i</code> <kbd>group</kbd>. 
+<code>-i</code> <kbd>group</kbd>.
 The group name, or if no group is provided, the host name are also used in the
 file names of
 <code>IFF</code>, <code>GQ</code>,
 and
 <code>MV</code>
-identity scheme client parameter files. 
+identity scheme client parameter files.
 If
 <kbd>host</kbd>
 is not specified, the default host name is the string returned by the Unix
 <code>hostname</code>
-command. 
-<br><dt><code>-S</code> <code>--sign-key</code>= <code>[RSA | DSA]</code><dd>Generate a new encrypted public/private sign key file of the specified type. 
-By default, the sign key is the host key and has the same type. 
+command.
+</p></dd>
+<dt><code>-S</code> <code>--sign-key</code>= <code>[<code>RSA</code> | <code>DSA</code>]</code></dt>
+<dd><p>Generate a new encrypted public/private sign key file of the specified type.
+By default, the sign key is the host key and has the same type.
 If compatibility with FIPS 140-2 is required, the sign key type must be
-<code>DSA</code>. 
-<br><dt><code>-T</code> <code>--trusted-cert</code><dd>Generate a trusted certificate. 
-By default, the program generates a non-trusted certificate. 
-<br><dt><code>-V</code> <code>--mv-params</code> <kbd>nkeys</kbd><dd>Generate
+<code>DSA</code>.
+</p></dd>
+<dt><code>-T</code> <code>--trusted-cert</code></dt>
+<dd><p>Generate a trusted certificate.
+By default, the program generates a non-trusted certificate.
+</p></dd>
+<dt><code>-V</code> <code>--mv-params</code> <kbd>nkeys</kbd></dt>
+<dd><p>Generate
 <kbd>nkeys</kbd>
 encrypted server keys and parameters for the Mu-Varadharajan (MV)
-identity scheme. 
+identity scheme.
 This option is mutually exclusive with the
 <code>-I</code>
 and
 <code>-G</code>
-options. 
-Note: support for this option should be considered a work in progress. 
+options.
+Note: support for this option should be considered a work in progress.
+</p></dd>
 </dl>
 
-<h5 class="subsubsection">Random Seed File</h5>
-
+<a name="Random-Seed-File-1"></a>
+<h4 class="subsubsection">1.2.1.4 Random Seed File</h4>
 <p>All cryptographically sound key generation schemes must have means
 to randomize the entropy seed used to initialize
 the internal pseudo-random number generator used
-by the library routines. 
-The OpenSSL library uses a designated random seed file for this purpose. 
+by the library routines.
+The OpenSSL library uses a designated random seed file for this purpose.
 The file must be available when starting the NTP daemon and
 <code>ntp-keygen</code>
-program. 
+program.
 If a site supports OpenSSL or its companion OpenSSH,
 it is very likely that means to do this are already available.
-
-  <p>It is important to understand that entropy must be evolved
+</p>
+<p>It is important to understand that entropy must be evolved
 for each generation, for otherwise the random number sequence
-would be predictable. 
+would be predictable.
 Various means dependent on external events, such as keystroke intervals,
-can be used to do this and some systems have built-in entropy sources. 
+can be used to do this and some systems have built-in entropy sources.
 Suitable means are described in the OpenSSL software documentation,
 but are outside the scope of this page.
-
-  <p>The entropy seed used by the OpenSSL library is contained in a file,
+</p>
+<p>The entropy seed used by the OpenSSL library is contained in a file,
 usually called
-<span class="file">.rnd</span>,
+<samp>.rnd</samp>,
 which must be available when starting the NTP daemon
 or the
 <code>ntp-keygen</code>
-program. 
+program.
 The NTP daemon will first look for the file
 using the path specified by the
 <code>randfile</code>
 subcommand of the
 <code>crypto</code>
-configuration command. 
+configuration command.
 If not specified in this way, or when starting the
 <code>ntp-keygen</code>
 program,
@@ -1040,31 +1173,31 @@
 by the
 .Ev RANDFILE
 environment variable in the user home directory,
-whether root or some other user. 
+whether root or some other user.
 If the
 .Ev RANDFILE
 environment variable is not present,
 the library will look for the
-<span class="file">.rnd</span>
-file in the user home directory. 
+<samp>.rnd</samp>
+file in the user home directory.
 Since both the
 <code>ntp-keygen</code>
 program and
 <code>ntpd(1ntpdmdoc)</code>
 daemon must run as root, the logical place to put this file is in
-<span class="file">/.rnd</span>
+<samp>/.rnd</samp>
 or
-<span class="file">/root/.rnd</span>. 
+<samp>/root/.rnd</samp>.
 If the file is not available or cannot be written,
 the daemon exits with a message to the system log and the program
 exits with a suitable error message.
-
-<h5 class="subsubsection">Cryptographic Data Files</h5>
-
-<p>All file formats begin with two nonencrypted lines. 
+</p>
+<a name="Cryptographic-Data-Files-1"></a>
+<h4 class="subsubsection">1.2.1.5 Cryptographic Data Files</h4>
+<p>All file formats begin with two nonencrypted lines.
 The first line contains the file name, including the generated host name
 and filestamp, in the format
-<span class="file">ntpkey_</span><kbd>key</kbd> <kbd>_</kbd> <kbd>name</kbd>. <kbd>filestamp</kbd>,
+<samp>ntpkey_</samp><kbd>key</kbd> <kbd>_</kbd> <kbd>name</kbd>. <kbd>filestamp</kbd>,
 where
 <kbd>key</kbd>
 is the key or parameter type,
@@ -1071,46 +1204,45 @@
 <kbd>name</kbd>
 is the host or group name and
 <kbd>filestamp</kbd>
-is the filestamp (NTP seconds) when the file was created. 
+is the filestamp (NTP seconds) when the file was created.
 By convention,
 <kbd>key</kbd>
 names in generated file names include both upper and lower case
 characters, while
 <kbd>key</kbd>
-names in generated link names include only lower case characters. 
-The filestamp is not used in generated link names. 
+names in generated link names include only lower case characters.
+The filestamp is not used in generated link names.
 The second line contains the datestamp in conventional Unix
-<span class="file">date</span>
-format. 
+<samp>date</samp>
+format.
 Lines beginning with
-#
+&lsquo;#&rsquo;
 are considered comments and ignored by the
 <code>ntp-keygen</code>
 program and
 <code>ntpd(1ntpdmdoc)</code>
 daemon.
-
-  <p>The remainder of the file contains cryptographic data, encoded first using ASN.1
+</p>
+<p>The remainder of the file contains cryptographic data, encoded first using ASN.1
 rules, then encrypted if necessary, and finally written in PEM-encoded
 printable ASCII text, preceded and followed by MIME content identifier lines.
-
-  <p>The format of the symmetric keys file, ordinarily named
-<span class="file">ntp.keys</span>,
-is somewhat different than the other files in the interest of backward compatibility. 
+</p>
+<p>The format of the symmetric keys file, ordinarily named
+<samp>ntp.keys</samp>,
+is somewhat different than the other files in the interest of backward compatibility.
 Ordinarily, the file is generated by this program, but it can be constructed
 and edited using an ordinary text editor.
-<pre class="verbatim">
-# ntpkey_MD5key_bk.ntp.org.3595864945
+</p><pre class="verbatim"># ntpkey_MD5key_bk.ntp.org.3595864945
 # Thu Dec 12 19:22:25 2013
 
-1  MD5 L";Nw&lt;\`.I&lt;f4U0)247"i  # MD5 key
-2  MD5 &amp;>l0%XXK9O'51VwV&lt;xq~  # MD5 key
+1  MD5 L&quot;;Nw&lt;\`.I&lt;f4U0)247&quot;i  # MD5 key
+2  MD5 &amp;&gt;l0%XXK9O'51VwV&lt;xq~  # MD5 key
 3  MD5 lb4zLW~d^!K:]RsD'qb6  # MD5 key
 4  MD5 Yue:tL[+vR)M\`n~bY,'?  # MD5 key
 5  MD5 B;fx'Kgr/&amp;4ZTbL6=RxA  # MD5 key
 6  MD5 4eYwa\`o@}3i@@@@V@@..R9!l  # MD5 key
 7  MD5 \`A.([h+;wTQ|xfi%Sn_!  # MD5 key
-8  MD5 45:V,r4]l6y^JH6"Sh?F  # MD5 key
+8  MD5 45:V,r4]l6y^JH6&quot;Sh?F  # MD5 key
 9  MD5 3-5vcn*6l29DS?Xdsg)*  # MD5 key
 10 MD5 2late4Me              # MD5 key
 11 SHA1 a27872d3030a9025b8446c751b4551a7629af65c  # SHA1 key
@@ -1123,17 +1255,19 @@
 18 MDC2 a8d5e2315c025bf3a79174c87fbd10477de2eabc  # MDC2 key
 19 RIPEMD160 77ca332cafb30e3cafb174dcd5b80ded7ba9b3d2  # RIPEMD160 key
 20 AES128CMAC f92ff73eee86c1e7dc638d6489a04e4e555af878  # AES128CMAC key
-</pre>
-<pre class="example">     Figure 1. Typical Symmetric Key File
-</pre>
-  <p>Figure 1 shows a typical symmetric keys file used by the reference
-implementation. 
+</pre><div class="example">
+<pre class="example">Figure 1. Typical Symmetric Key File
+</pre></div>
+
+<p>Figure 1 shows a typical symmetric keys file used by the reference
+implementation.
 Following the header the keys are entered one per line in the format
-<pre class="example">     <kbd>keyno</kbd> <kbd>type</kbd> <kbd>key</kbd>
-</pre>
-  <p>where
+</p><div class="example">
+<pre class="example"><kbd>keyno</kbd> <kbd>type</kbd> <kbd>key</kbd>
+</pre></div>
+<p>where
 <kbd>keyno</kbd>
-is a positive integer in the range 1-65534;
+is a positive integer in the range 1-65535;
 <kbd>type</kbd>
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
@@ -1151,18 +1285,18 @@
 which is a printable ASCII string 20 characters or less in length:
 each character is chosen from the 93 printable characters
 in the range 0x21 through 0x7e (
-! 
+&lsquo;&rsquo;!
 through
-~
+&lsquo;~&rsquo;
 ) excluding space and the
-#
+&lsquo;#&rsquo;
 character, and terminated by whitespace or a
-#
-character. 
+&lsquo;#&rsquo;
+character.
 An OpenSSL key consists of a hex-encoded ASCII string of 40 characters, which
 is truncated as necessary.
-
-  <p>Note that the keys used by the
+</p>
+<p>Note that the keys used by the
 <code>ntpq(1ntpqmdoc)</code>
 and
 <code>ntpdc(1ntpdcmdoc)</code>
@@ -1170,21 +1304,21 @@
 are checked against passwords requested by the programs
 and entered by hand, so it is generally appropriate to specify these keys
 in human readable ASCII format.
-
-  <p>The
+</p>
+<p>The
 <code>ntp-keygen</code>
 program generates a symmetric keys file
-<span class="file">ntpkey_MD5key_</span><kbd>hostname</kbd>. <kbd>filestamp</kbd>. 
+<samp>ntpkey_MD5key_</samp><kbd>hostname</kbd>. <kbd>filestamp</kbd>.
 Since the file contains private shared keys,
 it should be visible only to root and distributed by secure means
-to other subnet hosts. 
+to other subnet hosts.
 The NTP daemon loads the file
-<span class="file">ntp.keys</span>,
+<samp>ntp.keys</samp>,
 so
 <code>ntp-keygen</code>
-installs a soft link from this name to the generated file. 
+installs a soft link from this name to the generated file.
 Subsequently, similar soft links must be installed by manual
-or automated means on the other subnet hosts. 
+or automated means on the other subnet hosts.
 While this file is not used with the Autokey Version 2 protocol,
 it is needed to authenticate some remote configuration commands
 used by the
@@ -1192,60 +1326,86 @@
 and
 <code>ntpdc(1ntpdcmdoc)</code>
 utilities.
-
-  <p>This section was generated by <strong>AutoGen</strong>,
-using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp-keygen</code> program. 
+</p>
+<p>This section was generated by <strong>AutoGen</strong>,
+using the <code>agtexi-cmd</code> template and the option descriptions for the <code>ntp-keygen</code> program.
 This software is released under the NTP license, &lt;http://ntp.org/license&gt;.
+</p>
+<table class="menu" border="0" cellspacing="0">
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-usage" accesskey="1">ntp-keygen usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ntp-keygen help/usage (<samp>--help</samp>)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-imbits" accesskey="2">ntp-keygen imbits</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">imbits option (-b)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-certificate" accesskey="3">ntp-keygen certificate</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">certificate option (-c)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-cipher" accesskey="4">ntp-keygen cipher</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">cipher option (-C)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-id_002dkey" accesskey="5">ntp-keygen id-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">id-key option (-e)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-gq_002dparams" accesskey="6">ntp-keygen gq-params</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">gq-params option (-G)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-host_002dkey" accesskey="7">ntp-keygen host-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">host-key option (-H)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-iffkey" accesskey="8">ntp-keygen iffkey</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">iffkey option (-I)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-ident" accesskey="9">ntp-keygen ident</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">ident option (-i)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-lifetime">ntp-keygen lifetime</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">lifetime option (-l)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-modulus">ntp-keygen modulus</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">modulus option (-m)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-md5key">ntp-keygen md5key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">md5key option (-M)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-pvt_002dcert">ntp-keygen pvt-cert</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">pvt-cert option (-P)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-password">ntp-keygen password</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">password option (-p)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-export_002dpasswd">ntp-keygen export-passwd</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">export-passwd option (-q)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-subject_002dname">ntp-keygen subject-name</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">subject-name option (-s)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-sign_002dkey">ntp-keygen sign-key</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">sign-key option (-S)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-trusted_002dcert">ntp-keygen trusted-cert</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">trusted-cert option (-T)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-mv_002dparams">ntp-keygen mv-params</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">mv-params option (-V)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-mv_002dkeys">ntp-keygen mv-keys</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">mv-keys option (-v)
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-config">ntp-keygen config</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">presetting/configuring ntp-keygen
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-exit-status">ntp-keygen exit status</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">exit status
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Usage">ntp-keygen Usage</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Usage
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Notes">ntp-keygen Notes</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Notes
+</td></tr>
+<tr><td align="left" valign="top">&bull; <a href="#ntp_002dkeygen-Bugs">ntp-keygen Bugs</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Bugs
+</td></tr>
+</table>
 
-<ul class="menu">
-<li><a accesskey="1" href="#ntp_002dkeygen-usage">ntp-keygen usage</a>:                   ntp-keygen help/usage (<span class="option">--help</span>)
-<li><a accesskey="2" href="#ntp_002dkeygen-imbits">ntp-keygen imbits</a>:                  imbits option (-b)
-<li><a accesskey="3" href="#ntp_002dkeygen-certificate">ntp-keygen certificate</a>:             certificate option (-c)
-<li><a accesskey="4" href="#ntp_002dkeygen-cipher">ntp-keygen cipher</a>:                  cipher option (-C)
-<li><a accesskey="5" href="#ntp_002dkeygen-id_002dkey">ntp-keygen id-key</a>:                  id-key option (-e)
-<li><a accesskey="6" href="#ntp_002dkeygen-gq_002dparams">ntp-keygen gq-params</a>:               gq-params option (-G)
-<li><a accesskey="7" href="#ntp_002dkeygen-host_002dkey">ntp-keygen host-key</a>:                host-key option (-H)
-<li><a accesskey="8" href="#ntp_002dkeygen-iffkey">ntp-keygen iffkey</a>:                  iffkey option (-I)
-<li><a accesskey="9" href="#ntp_002dkeygen-ident">ntp-keygen ident</a>:                   ident option (-i)
-<li><a href="#ntp_002dkeygen-lifetime">ntp-keygen lifetime</a>:                lifetime option (-l)
-<li><a href="#ntp_002dkeygen-modulus">ntp-keygen modulus</a>:                 modulus option (-m)
-<li><a href="#ntp_002dkeygen-md5key">ntp-keygen md5key</a>:                  md5key option (-M)
-<li><a href="#ntp_002dkeygen-pvt_002dcert">ntp-keygen pvt-cert</a>:                pvt-cert option (-P)
-<li><a href="#ntp_002dkeygen-password">ntp-keygen password</a>:                password option (-p)
-<li><a href="#ntp_002dkeygen-export_002dpasswd">ntp-keygen export-passwd</a>:           export-passwd option (-q)
-<li><a href="#ntp_002dkeygen-subject_002dname">ntp-keygen subject-name</a>:            subject-name option (-s)
-<li><a href="#ntp_002dkeygen-sign_002dkey">ntp-keygen sign-key</a>:                sign-key option (-S)
-<li><a href="#ntp_002dkeygen-trusted_002dcert">ntp-keygen trusted-cert</a>:            trusted-cert option (-T)
-<li><a href="#ntp_002dkeygen-mv_002dparams">ntp-keygen mv-params</a>:               mv-params option (-V)
-<li><a href="#ntp_002dkeygen-mv_002dkeys">ntp-keygen mv-keys</a>:                 mv-keys option (-v)
-<li><a href="#ntp_002dkeygen-config">ntp-keygen config</a>:                  presetting/configuring ntp-keygen
-<li><a href="#ntp_002dkeygen-exit-status">ntp-keygen exit status</a>:             exit status
-<li><a href="#ntp_002dkeygen-Usage">ntp-keygen Usage</a>:                   Usage
-<li><a href="#ntp_002dkeygen-Notes">ntp-keygen Notes</a>:                   Notes
-<li><a href="#ntp_002dkeygen-Bugs">ntp-keygen Bugs</a>:                    Bugs
-</ul>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-imbits">ntp-keygen imbits</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dkeygen-usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-imbits" accesskey="n" rel="next">ntp-keygen imbits</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dkeygen-help_002fusage-_0028_002d_002dhelp_0029"></a>
+<h4 class="subsection">1.2.2 ntp-keygen help/usage (<samp>--help</samp>)</h4>
+<a name="index-ntp_002dkeygen-help"></a>
 
-<h4 class="subsection">ntp-keygen help/usage (<span class="option">--help</span>)</h4>
-
-<p><a name="index-ntp_002dkeygen-help-3"></a>
-This is the automatically generated usage text for ntp-keygen.
-
-  <p>The text printed is the same whether selected with the <code>help</code> option
-(<span class="option">--help</span>) or the <code>more-help</code> option (<span class="option">--more-help</span>).  <code>more-help</code> will print
-the usage text by passing it through a pager program. 
+<p>This is the automatically generated usage text for ntp-keygen.
+</p>
+<p>The text printed is the same whether selected with the <code>help</code> option
+(<samp>--help</samp>) or the <code>more-help</code> option (<samp>--more-help</samp>).  <code>more-help</code> will print
+the usage text by passing it through a pager program.
 <code>more-help</code> is disabled on platforms without a working
 <code>fork(2)</code> function.  The <code>PAGER</code> environment variable is
-used to select the program, defaulting to <span class="file">more</span>.  Both will exit
+used to select the program, defaulting to <samp>more</samp>.  Both will exit
 with a status code of 0.
-
-<pre class="example">ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p10
+</p>
+<div class="example">
+<pre class="example">ntp-keygen (ntp) - Create a NTP host key - Ver. 4.2.8p12
 Usage:  ntp-keygen [ -&lt;flag&gt; [&lt;val&gt;] | --&lt;name&gt;[{=| }&lt;val&gt;] ]...
   Flg Arg Option-Name    Description
    -b Num imbits         identity modulus bits
@@ -1293,680 +1453,679 @@
  - examining environment variables named NTP_KEYGEN_*
 
 Please send bug reports to:  &lt;http://bugs.ntp.org, bugs@ntp.org&gt;
-</pre>
-  <div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-imbits"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-certificate">ntp-keygen certificate</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-usage">ntp-keygen usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+</pre></div>
+
+<hr>
+<a name="ntp_002dkeygen-imbits"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-certificate" accesskey="n" rel="next">ntp-keygen certificate</a>, Previous: <a href="#ntp_002dkeygen-usage" accesskey="p" rel="prev">ntp-keygen usage</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="imbits-option-_0028_002db_0029"></a>
+<h4 class="subsection">1.2.3 imbits option (-b)</h4>
+<a name="index-ntp_002dkeygen_002dimbits"></a>
 
-<h4 class="subsection">imbits option (-b)</h4>
+<p>This is the &ldquo;identity modulus bits&rdquo; option.
+This option takes a number argument <samp>imbits</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dimbits-4"></a>
-This is the &ldquo;identity modulus bits&rdquo; option. 
-This option takes a number argument <span class="file">imbits</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>The number of bits in the identity modulus.  The default is 256. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-certificate"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-cipher">ntp-keygen cipher</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-imbits">ntp-keygen imbits</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>The number of bits in the identity modulus.  The default is 256.
+</p><hr>
+<a name="ntp_002dkeygen-certificate"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-cipher" accesskey="n" rel="next">ntp-keygen cipher</a>, Previous: <a href="#ntp_002dkeygen-imbits" accesskey="p" rel="prev">ntp-keygen imbits</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="certificate-option-_0028_002dc_0029"></a>
+<h4 class="subsection">1.2.4 certificate option (-c)</h4>
+<a name="index-ntp_002dkeygen_002dcertificate"></a>
 
-<h4 class="subsection">certificate option (-c)</h4>
+<p>This is the &ldquo;certificate scheme&rdquo; option.
+This option takes a string argument <samp>scheme</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dcertificate-5"></a>
-This is the &ldquo;certificate scheme&rdquo; option. 
-This option takes a string argument <span class="file">scheme</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>scheme is one of
+<p>scheme is one of
 RSA-MD2, RSA-MD5, RSA-MDC2, RSA-SHA, RSA-SHA1, RSA-RIPEMD160,
 DSA-SHA, or DSA-SHA1.
-
-  <p>Select the certificate signature encryption/message digest scheme. 
+</p>
+<p>Select the certificate signature encryption/message digest scheme.
 Note that RSA schemes must be used with a RSA sign key and DSA
 schemes must be used with a DSA sign key.  The default without
-this option is RSA-MD5. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-cipher"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-id_002dkey">ntp-keygen id-key</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-certificate">ntp-keygen certificate</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+this option is RSA-MD5.
+</p><hr>
+<a name="ntp_002dkeygen-cipher"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-id_002dkey" accesskey="n" rel="next">ntp-keygen id-key</a>, Previous: <a href="#ntp_002dkeygen-certificate" accesskey="p" rel="prev">ntp-keygen certificate</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="cipher-option-_0028_002dC_0029"></a>
+<h4 class="subsection">1.2.5 cipher option (-C)</h4>
+<a name="index-ntp_002dkeygen_002dcipher"></a>
 
-<h4 class="subsection">cipher option (-C)</h4>
+<p>This is the &ldquo;privatekey cipher&rdquo; option.
+This option takes a string argument <samp>cipher</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dcipher-6"></a>
-This is the &ldquo;privatekey cipher&rdquo; option. 
-This option takes a string argument <span class="file">cipher</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Select the cipher which is used to encrypt the files containing
+<p>Select the cipher which is used to encrypt the files containing
 private keys.  The default is three-key triple DES in CBC mode,
-equivalent to "<code>-C des-ede3-cbc</code>".  The openssl tool lists ciphers
-available in "<code>openssl -h</code>" output. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-id_002dkey"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-gq_002dparams">ntp-keygen gq-params</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-cipher">ntp-keygen cipher</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+equivalent to &quot;<code>-C des-ede3-cbc</code>&quot;.  The openssl tool lists ciphers
+available in &quot;<code>openssl -h</code>&quot; output.
+</p><hr>
+<a name="ntp_002dkeygen-id_002dkey"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-gq_002dparams" accesskey="n" rel="next">ntp-keygen gq-params</a>, Previous: <a href="#ntp_002dkeygen-cipher" accesskey="p" rel="prev">ntp-keygen cipher</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="id_002dkey-option-_0028_002de_0029"></a>
+<h4 class="subsection">1.2.6 id-key option (-e)</h4>
+<a name="index-ntp_002dkeygen_002did_002dkey"></a>
 
-<h4 class="subsection">id-key option (-e)</h4>
+<p>This is the &ldquo;write iff or gq identity keys&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002did_002dkey-7"></a>
-This is the &ldquo;write iff or gq identity keys&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Write the public parameters from the IFF or GQ client keys to
-the standard output. 
-This is intended for automatic key distribution by email. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-gq_002dparams"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-host_002dkey">ntp-keygen host-key</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-id_002dkey">ntp-keygen id-key</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Write the public parameters from the IFF or GQ client keys to
+the standard output.
+This is intended for automatic key distribution by email.
+</p><hr>
+<a name="ntp_002dkeygen-gq_002dparams"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-host_002dkey" accesskey="n" rel="next">ntp-keygen host-key</a>, Previous: <a href="#ntp_002dkeygen-id_002dkey" accesskey="p" rel="prev">ntp-keygen id-key</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="gq_002dparams-option-_0028_002dG_0029"></a>
+<h4 class="subsection">1.2.7 gq-params option (-G)</h4>
+<a name="index-ntp_002dkeygen_002dgq_002dparams"></a>
 
-<h4 class="subsection">gq-params option (-G)</h4>
+<p>This is the &ldquo;generate gq parameters and keys&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dgq_002dparams-8"></a>
-This is the &ldquo;generate gq parameters and keys&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate parameters and keys for the GQ identification scheme,
-obsoleting any that may exist. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-host_002dkey"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-iffkey">ntp-keygen iffkey</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-gq_002dparams">ntp-keygen gq-params</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate parameters and keys for the GQ identification scheme,
+obsoleting any that may exist.
+</p><hr>
+<a name="ntp_002dkeygen-host_002dkey"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-iffkey" accesskey="n" rel="next">ntp-keygen iffkey</a>, Previous: <a href="#ntp_002dkeygen-gq_002dparams" accesskey="p" rel="prev">ntp-keygen gq-params</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="host_002dkey-option-_0028_002dH_0029"></a>
+<h4 class="subsection">1.2.8 host-key option (-H)</h4>
+<a name="index-ntp_002dkeygen_002dhost_002dkey"></a>
 
-<h4 class="subsection">host-key option (-H)</h4>
+<p>This is the &ldquo;generate rsa host key&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dhost_002dkey-9"></a>
-This is the &ldquo;generate rsa host key&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate new host keys, obsoleting any that may exist. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-iffkey"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-ident">ntp-keygen ident</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-host_002dkey">ntp-keygen host-key</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate new host keys, obsoleting any that may exist.
+</p><hr>
+<a name="ntp_002dkeygen-iffkey"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-ident" accesskey="n" rel="next">ntp-keygen ident</a>, Previous: <a href="#ntp_002dkeygen-host_002dkey" accesskey="p" rel="prev">ntp-keygen host-key</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="iffkey-option-_0028_002dI_0029"></a>
+<h4 class="subsection">1.2.9 iffkey option (-I)</h4>
+<a name="index-ntp_002dkeygen_002diffkey"></a>
 
-<h4 class="subsection">iffkey option (-I)</h4>
+<p>This is the &ldquo;generate iff parameters&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002diffkey-10"></a>
-This is the &ldquo;generate iff parameters&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate parameters for the IFF identification scheme, obsoleting
-any that may exist. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-ident"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-lifetime">ntp-keygen lifetime</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-iffkey">ntp-keygen iffkey</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate parameters for the IFF identification scheme, obsoleting
+any that may exist.
+</p><hr>
+<a name="ntp_002dkeygen-ident"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-lifetime" accesskey="n" rel="next">ntp-keygen lifetime</a>, Previous: <a href="#ntp_002dkeygen-iffkey" accesskey="p" rel="prev">ntp-keygen iffkey</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="ident-option-_0028_002di_0029"></a>
+<h4 class="subsection">1.2.10 ident option (-i)</h4>
+<a name="index-ntp_002dkeygen_002dident"></a>
 
-<h4 class="subsection">ident option (-i)</h4>
+<p>This is the &ldquo;set autokey group name&rdquo; option.
+This option takes a string argument <samp>group</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dident-11"></a>
-This is the &ldquo;set autokey group name&rdquo; option. 
-This option takes a string argument <span class="file">group</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Set the optional Autokey group name to name.  This is used in
+<p>Set the optional Autokey group name to name.  This is used in
 the file name of IFF, GQ, and MV client parameters files.  In
 that role, the default is the host name if this option is not
 provided.  The group name, if specified using <code>-i/--ident</code> or
-using <code>-s/--subject-name</code> following an '<code>@</code>' character,
+using <code>-s/--subject-name</code> following an &rsquo;<code>@</code>&rsquo; character,
 is also a part of the self-signed host certificate subject and
 issuer names in the form <code>host@group</code> and should match the
-'<code>crypto ident</code>' or '<code>server ident</code>' configuration in the
-<code>ntpd</code> configuration file. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-lifetime"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-modulus">ntp-keygen modulus</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-ident">ntp-keygen ident</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+&rsquo;<code>crypto ident</code>&rsquo; or &rsquo;<code>server ident</code>&rsquo; configuration in the
+<code>ntpd</code> configuration file.
+</p><hr>
+<a name="ntp_002dkeygen-lifetime"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-modulus" accesskey="n" rel="next">ntp-keygen modulus</a>, Previous: <a href="#ntp_002dkeygen-ident" accesskey="p" rel="prev">ntp-keygen ident</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="lifetime-option-_0028_002dl_0029"></a>
+<h4 class="subsection">1.2.11 lifetime option (-l)</h4>
+<a name="index-ntp_002dkeygen_002dlifetime"></a>
 
-<h4 class="subsection">lifetime option (-l)</h4>
+<p>This is the &ldquo;set certificate lifetime&rdquo; option.
+This option takes a number argument <samp>lifetime</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dlifetime-12"></a>
-This is the &ldquo;set certificate lifetime&rdquo; option. 
-This option takes a number argument <span class="file">lifetime</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Set the certificate expiration to lifetime days from now. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-modulus"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-md5key">ntp-keygen md5key</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-lifetime">ntp-keygen lifetime</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Set the certificate expiration to lifetime days from now.
+</p><hr>
+<a name="ntp_002dkeygen-modulus"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-md5key" accesskey="n" rel="next">ntp-keygen md5key</a>, Previous: <a href="#ntp_002dkeygen-lifetime" accesskey="p" rel="prev">ntp-keygen lifetime</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="modulus-option-_0028_002dm_0029"></a>
+<h4 class="subsection">1.2.12 modulus option (-m)</h4>
+<a name="index-ntp_002dkeygen_002dmodulus"></a>
 
-<h4 class="subsection">modulus option (-m)</h4>
+<p>This is the &ldquo;prime modulus&rdquo; option.
+This option takes a number argument <samp>modulus</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dmodulus-13"></a>
-This is the &ldquo;prime modulus&rdquo; option. 
-This option takes a number argument <span class="file">modulus</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>The number of bits in the prime modulus.  The default is 512. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-md5key"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-pvt_002dcert">ntp-keygen pvt-cert</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-modulus">ntp-keygen modulus</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>The number of bits in the prime modulus.  The default is 512.
+</p><hr>
+<a name="ntp_002dkeygen-md5key"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-pvt_002dcert" accesskey="n" rel="next">ntp-keygen pvt-cert</a>, Previous: <a href="#ntp_002dkeygen-modulus" accesskey="p" rel="prev">ntp-keygen modulus</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="md5key-option-_0028_002dM_0029"></a>
+<h4 class="subsection">1.2.13 md5key option (-M)</h4>
+<a name="index-ntp_002dkeygen_002dmd5key"></a>
 
-<h4 class="subsection">md5key option (-M)</h4>
-
-<p><a name="index-ntp_002dkeygen_002dmd5key-14"></a>
-This is the &ldquo;generate symmetric keys&rdquo; option. 
-Generate symmetric keys, obsoleting any that may exist. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-pvt_002dcert"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-password">ntp-keygen password</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-md5key">ntp-keygen md5key</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>This is the &ldquo;generate symmetric keys&rdquo; option.
+Generate symmetric keys, obsoleting any that may exist.
+</p><hr>
+<a name="ntp_002dkeygen-pvt_002dcert"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-password" accesskey="n" rel="next">ntp-keygen password</a>, Previous: <a href="#ntp_002dkeygen-md5key" accesskey="p" rel="prev">ntp-keygen md5key</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="pvt_002dcert-option-_0028_002dP_0029"></a>
+<h4 class="subsection">1.2.14 pvt-cert option (-P)</h4>
+<a name="index-ntp_002dkeygen_002dpvt_002dcert"></a>
 
-<h4 class="subsection">pvt-cert option (-P)</h4>
+<p>This is the &ldquo;generate pc private certificate&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dpvt_002dcert-15"></a>
-This is the &ldquo;generate pc private certificate&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate a private certificate.  By default, the program generates
-public certificates. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-password"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-export_002dpasswd">ntp-keygen export-passwd</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-pvt_002dcert">ntp-keygen pvt-cert</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate a private certificate.  By default, the program generates
+public certificates.
+</p><hr>
+<a name="ntp_002dkeygen-password"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-export_002dpasswd" accesskey="n" rel="next">ntp-keygen export-passwd</a>, Previous: <a href="#ntp_002dkeygen-pvt_002dcert" accesskey="p" rel="prev">ntp-keygen pvt-cert</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="password-option-_0028_002dp_0029"></a>
+<h4 class="subsection">1.2.15 password option (-p)</h4>
+<a name="index-ntp_002dkeygen_002dpassword"></a>
 
-<h4 class="subsection">password option (-p)</h4>
+<p>This is the &ldquo;local private password&rdquo; option.
+This option takes a string argument <samp>passwd</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dpassword-16"></a>
-This is the &ldquo;local private password&rdquo; option. 
-This option takes a string argument <span class="file">passwd</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Local files containing private data are encrypted with the
+<p>Local files containing private data are encrypted with the
 DES-CBC algorithm and the specified password.  The same password
-must be specified to the local ntpd via the "crypto pw password"
+must be specified to the local ntpd via the &quot;crypto pw password&quot;
 configuration command.  The default password is the local
-hostname. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-export_002dpasswd"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-subject_002dname">ntp-keygen subject-name</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-password">ntp-keygen password</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+hostname.
+</p><hr>
+<a name="ntp_002dkeygen-export_002dpasswd"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-subject_002dname" accesskey="n" rel="next">ntp-keygen subject-name</a>, Previous: <a href="#ntp_002dkeygen-password" accesskey="p" rel="prev">ntp-keygen password</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="export_002dpasswd-option-_0028_002dq_0029"></a>
+<h4 class="subsection">1.2.16 export-passwd option (-q)</h4>
+<a name="index-ntp_002dkeygen_002dexport_002dpasswd"></a>
 
-<h4 class="subsection">export-passwd option (-q)</h4>
+<p>This is the &ldquo;export iff or gq group keys with password&rdquo; option.
+This option takes a string argument <samp>passwd</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dexport_002dpasswd-17"></a>
-This is the &ldquo;export iff or gq group keys with password&rdquo; option. 
-This option takes a string argument <span class="file">passwd</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Export IFF or GQ identity group keys to the standard output,
-encrypted with the DES-CBC algorithm and the specified password. 
+<p>Export IFF or GQ identity group keys to the standard output,
+encrypted with the DES-CBC algorithm and the specified password.
 The same password must be specified to the remote ntpd via the
-"crypto pw password" configuration command.  See also the option
-&ndash;id-key (-e) for unencrypted exports. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-subject_002dname"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-sign_002dkey">ntp-keygen sign-key</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-export_002dpasswd">ntp-keygen export-passwd</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+&quot;crypto pw password&quot; configuration command.  See also the option
+&ndash;id-key (-e) for unencrypted exports.
+</p><hr>
+<a name="ntp_002dkeygen-subject_002dname"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-sign_002dkey" accesskey="n" rel="next">ntp-keygen sign-key</a>, Previous: <a href="#ntp_002dkeygen-export_002dpasswd" accesskey="p" rel="prev">ntp-keygen export-passwd</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="subject_002dname-option-_0028_002ds_0029"></a>
+<h4 class="subsection">1.2.17 subject-name option (-s)</h4>
+<a name="index-ntp_002dkeygen_002dsubject_002dname"></a>
 
-<h4 class="subsection">subject-name option (-s)</h4>
+<p>This is the &ldquo;set host and optionally group name&rdquo; option.
+This option takes a string argument <samp>host@group</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dsubject_002dname-18"></a>
-This is the &ldquo;set host and optionally group name&rdquo; option. 
-This option takes a string argument <span class="file">host@group</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Set the Autokey host name, and optionally, group name specified
-following an '<code>@</code>' character.  The host name is used in the file
+<p>Set the Autokey host name, and optionally, group name specified
+following an &rsquo;<code>@</code>&rsquo; character.  The host name is used in the file
 name of generated host and signing certificates, without the
 group name.  The host name, and if provided, group name are used
 in <code>host@group</code> form for the host certificate subject and issuer
-fields.  Specifying '<code>-s @group</code>' is allowed, and results in
+fields.  Specifying &rsquo;<code>-s @group</code>&rsquo; is allowed, and results in
 leaving the host name unchanged while appending <code>@group</code> to the
 subject and issuer fields, as with <code>-i group</code>.  The group name, or
 if not provided, the host name are also used in the file names
-of IFF, GQ, and MV client parameter files. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-sign_002dkey"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-trusted_002dcert">ntp-keygen trusted-cert</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-subject_002dname">ntp-keygen subject-name</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+of IFF, GQ, and MV client parameter files.
+</p><hr>
+<a name="ntp_002dkeygen-sign_002dkey"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-trusted_002dcert" accesskey="n" rel="next">ntp-keygen trusted-cert</a>, Previous: <a href="#ntp_002dkeygen-subject_002dname" accesskey="p" rel="prev">ntp-keygen subject-name</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="sign_002dkey-option-_0028_002dS_0029"></a>
+<h4 class="subsection">1.2.18 sign-key option (-S)</h4>
+<a name="index-ntp_002dkeygen_002dsign_002dkey"></a>
 
-<h4 class="subsection">sign-key option (-S)</h4>
+<p>This is the &ldquo;generate sign key (rsa or dsa)&rdquo; option.
+This option takes a string argument <samp>sign</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dsign_002dkey-19"></a>
-This is the &ldquo;generate sign key (rsa or dsa)&rdquo; option. 
-This option takes a string argument <span class="file">sign</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate a new sign key of the designated type, obsoleting any
+<p>Generate a new sign key of the designated type, obsoleting any
 that may exist.  By default, the program uses the host key as the
-sign key. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-trusted_002dcert"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-mv_002dparams">ntp-keygen mv-params</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-sign_002dkey">ntp-keygen sign-key</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+sign key.
+</p><hr>
+<a name="ntp_002dkeygen-trusted_002dcert"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-mv_002dparams" accesskey="n" rel="next">ntp-keygen mv-params</a>, Previous: <a href="#ntp_002dkeygen-sign_002dkey" accesskey="p" rel="prev">ntp-keygen sign-key</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="trusted_002dcert-option-_0028_002dT_0029"></a>
+<h4 class="subsection">1.2.19 trusted-cert option (-T)</h4>
+<a name="index-ntp_002dkeygen_002dtrusted_002dcert"></a>
 
-<h4 class="subsection">trusted-cert option (-T)</h4>
+<p>This is the &ldquo;trusted certificate (tc scheme)&rdquo; option.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dtrusted_002dcert-20"></a>
-This is the &ldquo;trusted certificate (tc scheme)&rdquo; option.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate a trusted certificate.  By default, the program generates
-a non-trusted certificate. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-mv_002dparams"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-mv_002dkeys">ntp-keygen mv-keys</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-trusted_002dcert">ntp-keygen trusted-cert</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate a trusted certificate.  By default, the program generates
+a non-trusted certificate.
+</p><hr>
+<a name="ntp_002dkeygen-mv_002dparams"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-mv_002dkeys" accesskey="n" rel="next">ntp-keygen mv-keys</a>, Previous: <a href="#ntp_002dkeygen-trusted_002dcert" accesskey="p" rel="prev">ntp-keygen trusted-cert</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="mv_002dparams-option-_0028_002dV_0029"></a>
+<h4 class="subsection">1.2.20 mv-params option (-V)</h4>
+<a name="index-ntp_002dkeygen_002dmv_002dparams"></a>
 
-<h4 class="subsection">mv-params option (-V)</h4>
+<p>This is the &ldquo;generate &lt;num&gt; mv parameters&rdquo; option.
+This option takes a number argument <samp>num</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dmv_002dparams-21"></a>
-This is the &ldquo;generate &lt;num&gt; mv parameters&rdquo; option. 
-This option takes a number argument <span class="file">num</span>.
-
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>Generate parameters and keys for the Mu-Varadharajan (MV)
-identification scheme. 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-mv_002dkeys"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-config">ntp-keygen config</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-mv_002dparams">ntp-keygen mv-params</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<p>Generate parameters and keys for the Mu-Varadharajan (MV)
+identification scheme.
+</p><hr>
+<a name="ntp_002dkeygen-mv_002dkeys"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-config" accesskey="n" rel="next">ntp-keygen config</a>, Previous: <a href="#ntp_002dkeygen-mv_002dparams" accesskey="p" rel="prev">ntp-keygen mv-params</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="mv_002dkeys-option-_0028_002dv_0029"></a>
+<h4 class="subsection">1.2.21 mv-keys option (-v)</h4>
+<a name="index-ntp_002dkeygen_002dmv_002dkeys"></a>
 
-<h4 class="subsection">mv-keys option (-v)</h4>
+<p>This is the &ldquo;update &lt;num&gt; mv keys&rdquo; option.
+This option takes a number argument <samp>num</samp>.
+</p>
+<p>This option has some usage constraints.  It:
+</p><ul>
+<li> must be compiled in by defining <code>AUTOKEY</code> during the compilation.
+</li></ul>
 
-<p><a name="index-ntp_002dkeygen_002dmv_002dkeys-22"></a>
-This is the &ldquo;update &lt;num&gt; mv keys&rdquo; option. 
-This option takes a number argument <span class="file">num</span>.
+<p>This option has no &lsquo;<samp>doc</samp>&rsquo; documentation.
+</p>
 
-<p class="noindent">This option has some usage constraints.  It:
-     <ul>
-<li>must be compiled in by defining <code>AUTOKEY</code> during the compilation. 
-</ul>
-
-  <p>This option has no <span class="samp">doc</span> documentation.
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-config"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-exit-status">ntp-keygen exit status</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-mv_002dkeys">ntp-keygen mv-keys</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dkeygen-config"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-exit-status" accesskey="n" rel="next">ntp-keygen exit status</a>, Previous: <a href="#ntp_002dkeygen-mv_002dkeys" accesskey="p" rel="prev">ntp-keygen mv-keys</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="presetting_002fconfiguring-ntp_002dkeygen"></a>
+<h4 class="subsection">1.2.22 presetting/configuring ntp-keygen</h4>
 
-<h4 class="subsection">presetting/configuring ntp-keygen</h4>
-
 <p>Any option that is not marked as <i>not presettable</i> may be preset by
-loading values from configuration ("rc" or "ini") files, and values from environment variables named <code>NTP-KEYGEN</code> and <code>NTP-KEYGEN_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
-the options listed above in upper case and segmented with underscores. 
+loading values from configuration (&quot;rc&quot; or &quot;ini&quot;) files, and values from environment variables named <code>NTP-KEYGEN</code> and <code>NTP-KEYGEN_&lt;OPTION_NAME&gt;</code>.  <code>&lt;OPTION_NAME&gt;</code> must be one of
+the options listed above in upper case and segmented with underscores.
 The <code>NTP-KEYGEN</code> variable will be tokenized and parsed like
 the command line.  The remaining variables are tested for existence and their
 values are treated like option arguments.
+</p>
 
-<p class="noindent"><code>libopts</code> will search in 2 places for configuration files:
-     <ul>
-<li>$HOME
-<li>$PWD
-</ul>
-  The environment variables <code>HOME</code>, and <code>PWD</code>
-are expanded and replaced when <span class="file">ntp-keygen</span> runs. 
-For any of these that are plain files, they are simply processed. 
-For any that are directories, then a file named <span class="file">.ntprc</span> is searched for
+<p><code>libopts</code> will search in 2 places for configuration files:
+</p><ul>
+<li> $HOME
+</li><li> $PWD
+</li></ul>
+<p>The environment variables <code>HOME</code>, and <code>PWD</code>
+are expanded and replaced when <samp>ntp-keygen</samp> runs.
+For any of these that are plain files, they are simply processed.
+For any that are directories, then a file named <samp>.ntprc</samp> is searched for
 within that directory and processed.
-
-  <p>Configuration files may be in a wide variety of formats. 
+</p>
+<p>Configuration files may be in a wide variety of formats.
 The basic format is an option name followed by a value (argument) on the
 same line.  Values may be separated from the option name with a colon,
 equal sign or simply white space.  Values may be continued across multiple
 lines by escaping the newline with a backslash.
-
-  <p>Multiple programs may also share the same initialization file. 
+</p>
+<p>Multiple programs may also share the same initialization file.
 Common options are collected at the top, followed by program specific
 segments.  The segments are separated by lines like:
-<pre class="example">    [NTP-KEYGEN]
-</pre>
-  <p class="noindent">or by
-<pre class="example">    &lt;?program ntp-keygen&gt;
-</pre>
-  <p class="noindent">Do not mix these styles within one configuration file.
-
-  <p>Compound values and carefully constructed string values may also be
+</p><div class="example">
+<pre class="example">[NTP-KEYGEN]
+</pre></div>
+<p>or by
+</p><div class="example">
+<pre class="example">&lt;?program ntp-keygen&gt;
+</pre></div>
+<p>Do not mix these styles within one configuration file.
+</p>
+<p>Compound values and carefully constructed string values may also be
 specified using XML syntax:
-<pre class="example">    &lt;option-name&gt;
-       &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
-    &lt;/option-name&gt;
-</pre>
-  <p class="noindent">yielding an <code>option-name.sub-opt</code> string value of
-<pre class="example">    "...&lt;...&gt;..."
-</pre>
-  <p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
+</p><div class="example">
+<pre class="example">&lt;option-name&gt;
+   &lt;sub-opt&gt;...&amp;lt;...&amp;gt;...&lt;/sub-opt&gt;
+&lt;/option-name&gt;
+</pre></div>
+<p>yielding an <code>option-name.sub-opt</code> string value of
+</p><div class="example">
+<pre class="example">&quot;...&lt;...&gt;...&quot;
+</pre></div>
+<p><code>AutoOpts</code> does not track suboptions.  You simply note that it is a
 hierarchicly valued option.  <code>AutoOpts</code> does provide a means for searching
 the associated name/value pair list (see: optionFindValue).
+</p>
+<p>The command line options relating to configuration and/or usage help are:
+</p>
+<a name="version-_0028_002d_0029"></a>
+<h4 class="subsubheading">version (-)</h4>
 
-  <p>The command line options relating to configuration and/or usage help are:
-
-<h5 class="subsubheading">version (-)</h5>
-
 <p>Print the program version to standard out, optionally with licensing
 information, then exit 0.  The optional argument specifies how much licensing
-detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument. 
+detail to provide.  The default is to print just the version.  The licensing infomation may be selected with an option argument.
 Only the first letter of the argument is examined:
-
-     <dl>
-<dt><span class="samp">version</span><dd>Only print the version.  This is the default. 
-<br><dt><span class="samp">copyright</span><dd>Name the copyright usage licensing terms. 
-<br><dt><span class="samp">verbose</span><dd>Print the full copyright usage licensing terms. 
+</p>
+<dl compact="compact">
+<dt>&lsquo;<samp>version</samp>&rsquo;</dt>
+<dd><p>Only print the version.  This is the default.
+</p></dd>
+<dt>&lsquo;<samp>copyright</samp>&rsquo;</dt>
+<dd><p>Name the copyright usage licensing terms.
+</p></dd>
+<dt>&lsquo;<samp>verbose</samp>&rsquo;</dt>
+<dd><p>Print the full copyright usage licensing terms.
+</p></dd>
 </dl>
 
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-exit-status"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-Usage">ntp-keygen Usage</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-config">ntp-keygen config</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dkeygen-exit-status"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-Usage" accesskey="n" rel="next">ntp-keygen Usage</a>, Previous: <a href="#ntp_002dkeygen-config" accesskey="p" rel="prev">ntp-keygen config</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dkeygen-exit-status-1"></a>
+<h4 class="subsection">1.2.23 ntp-keygen exit status</h4>
 
-<h4 class="subsection">ntp-keygen exit status</h4>
-
 <p>One of the following exit values will be returned:
-     <dl>
-<dt><span class="samp">0 (EXIT_SUCCESS)</span><dd>Successful program execution. 
-<br><dt><span class="samp">1 (EXIT_FAILURE)</span><dd>The operation failed or the command syntax was not valid. 
-<br><dt><span class="samp">66 (EX_NOINPUT)</span><dd>A specified configuration file could not be loaded. 
-<br><dt><span class="samp">70 (EX_SOFTWARE)</span><dd>libopts had an internal operational error.  Please report
-it to autogen-users@lists.sourceforge.net.  Thank you. 
+</p><dl compact="compact">
+<dt>&lsquo;<samp>0 (EXIT_SUCCESS)</samp>&rsquo;</dt>
+<dd><p>Successful program execution.
+</p></dd>
+<dt>&lsquo;<samp>1 (EXIT_FAILURE)</samp>&rsquo;</dt>
+<dd><p>The operation failed or the command syntax was not valid.
+</p></dd>
+<dt>&lsquo;<samp>66 (EX_NOINPUT)</samp>&rsquo;</dt>
+<dd><p>A specified configuration file could not be loaded.
+</p></dd>
+<dt>&lsquo;<samp>70 (EX_SOFTWARE)</samp>&rsquo;</dt>
+<dd><p>libopts had an internal operational error.  Please report
+it to autogen-users@lists.sourceforge.net.  Thank you.
+</p></dd>
 </dl>
-  <div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-Usage"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-Notes">ntp-keygen Notes</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-exit-status">ntp-keygen exit status</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<hr>
+<a name="ntp_002dkeygen-Usage"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-Notes" accesskey="n" rel="next">ntp-keygen Notes</a>, Previous: <a href="#ntp_002dkeygen-exit-status" accesskey="p" rel="prev">ntp-keygen exit status</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp-keygen Usage</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-Notes"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#ntp_002dkeygen-Bugs">ntp-keygen Bugs</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-Usage">ntp-keygen Usage</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<a name="ntp_002dkeygen-Usage-1"></a>
+<h4 class="subsection">1.2.24 ntp-keygen Usage</h4>
+<hr>
+<a name="ntp_002dkeygen-Notes"></a>
+<div class="header">
+<p>
+Next: <a href="#ntp_002dkeygen-Bugs" accesskey="n" rel="next">ntp-keygen Bugs</a>, Previous: <a href="#ntp_002dkeygen-Usage" accesskey="p" rel="prev">ntp-keygen Usage</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
-
-<h4 class="subsection">ntp-keygen Notes</h4>
-
-<div class="node">
-<p><hr>
-<a name="ntp_002dkeygen-Bugs"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#ntp_002dkeygen-Notes">ntp-keygen Notes</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#ntp_002dkeygen-Invocation">ntp-keygen Invocation</a>
-<br>
+<a name="ntp_002dkeygen-Notes-1"></a>
+<h4 class="subsection">1.2.25 ntp-keygen Notes</h4>
+<hr>
+<a name="ntp_002dkeygen-Bugs"></a>
+<div class="header">
+<p>
+Previous: <a href="#ntp_002dkeygen-Notes" accesskey="p" rel="prev">ntp-keygen Notes</a>, Up: <a href="#ntp_002dkeygen-Invocation" accesskey="u" rel="up">ntp-keygen Invocation</a> &nbsp; </p>
 </div>
+<a name="ntp_002dkeygen-Bugs-1"></a>
+<h4 class="subsection">1.2.26 ntp-keygen Bugs</h4>
 
-<h4 class="subsection">ntp-keygen Bugs</h4>
-
-<div class="node">
-<p><hr>
-<a name="Random-Seed-File"></a>Next:&nbsp;<a rel="next" accesskey="n" href="#Cryptographic-Data-Files">Cryptographic Data Files</a>,
-Previous:&nbsp;<a rel="previous" accesskey="p" href="#Running-the-Program">Running the Program</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+<hr>
+<a name="Random-Seed-File"></a>
+<div class="header">
+<p>
+Next: <a href="#Cryptographic-Data-Files" accesskey="n" rel="next">Cryptographic Data Files</a>, Previous: <a href="#Running-the-Program" accesskey="p" rel="prev">Running the Program</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Random-Seed-File-2"></a>
+<h3 class="section">1.3 Random Seed File</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Random Seed File</h3>
-
 <p>All cryptographically sound key generation schemes must have means to
 randomize the entropy seed used to initialize the internal
-pseudo-random number generator used by the OpenSSL library routines. 
+pseudo-random number generator used by the OpenSSL library routines.
 If a site supports ssh, it is very likely that means to do this are
-already available. 
+already available.
 The entropy seed used by the OpenSSL library is contained in a file,
 usually called <code>.rnd</code>, which must be available when
 starting the <code>ntp-keygen</code> program or <code>ntpd</code> daemon.
-
-  <p>The OpenSSL library looks for the file using the path specified by the
+</p>
+<p>The OpenSSL library looks for the file using the path specified by the
 <code>RANDFILE</code> environment variable in the user home directory, whether root
-or some other user. 
+or some other user.
 If the <code>RANDFILE</code> environment variable is not
 present, the library looks for the <code>.rnd</code> file in the user home
-directory. 
+directory.
 Since both the <code>ntp-keygen</code> program and <code>ntpd</code> daemon must run
 as root, the logical place to put this file is in <code>/.rnd</code> or
-<code>/root/.rnd</code>. 
+<code>/root/.rnd</code>.
 If the file is not available or cannot be written, the program exits
 with a message to the system log.
-
-<div class="node">
-<p><hr>
-<a name="Cryptographic-Data-Files"></a>Previous:&nbsp;<a rel="previous" accesskey="p" href="#Random-Seed-File">Random Seed File</a>,
-Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>
-<br>
+</p>
+<hr>
+<a name="Cryptographic-Data-Files"></a>
+<div class="header">
+<p>
+Previous: <a href="#Random-Seed-File" accesskey="p" rel="prev">Random Seed File</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
 </div>
+<a name="Cryptographic-Data-Files-2"></a>
+<h3 class="section">1.4 Cryptographic Data Files</h3>
 
-<!-- node-name,  next,  previous,  up -->
-<h3 class="section">Cryptographic Data Files</h3>
-
 <p>File and link names are in the <code>form ntpkey_key_name.fstamp</code>,
 where <code>key</code> is the key or parameter type,
 <code>name</code> is the host or group name and
-<code>fstamp</code> is the filestamp (NTP seconds) when the file was created). 
+<code>fstamp</code> is the filestamp (NTP seconds) when the file was created).
 By convention, key names in generated file names include both upper and
 lower case characters, while key names in generated link names include
 only lower case characters. The filestamp is not used in generated link
 names.
-
-  <p>The key name is a string defining the cryptographic key type. 
+</p>
+<p>The key name is a string defining the cryptographic key type.
 Key types include public/private keys host and sign, certificate cert
-and several challenge/response key types. 
+and several challenge/response key types.
 By convention, client files used for
 challenges have a par subtype, as in the IFF challenge IFFpar, while
 server files for responses have a key subtype, as in the GQ response
 GQkey.
-
-  <p>All files begin with two nonencrypted lines. The first line contains
-the file name in the format <code>ntpkey_key_host.fstamp</code>. 
-The second line contains the datestamp in conventional Unix date format. 
+</p>
+<p>All files begin with two nonencrypted lines. The first line contains
+the file name in the format <code>ntpkey_key_host.fstamp</code>.
+The second line contains the datestamp in conventional Unix date format.
 Lines beginning with <code>#</code> are ignored.
-
-  <p>The remainder of the file contains cryptographic data encoded first
+</p>
+<p>The remainder of the file contains cryptographic data encoded first
 using ASN.1 rules, then encrypted using the DES-CBC algorithm with
 given password and finally written in PEM-encoded printable ASCII text
 preceded and followed by MIME content identifier lines.
-
-  <p>The format of the symmetric keys file, ordinarily named <code>ntp.keys</code>,
+</p>
+<p>The format of the symmetric keys file, ordinarily named <code>ntp.keys</code>,
 is somewhat different than the other files in the interest of backward
-compatibility. 
+compatibility.
 Ordinarily, the file is generated by this program, but
 it can be constructed and edited using an ordinary text editor.
+</p>
+<div class="example">
+<pre class="example"># ntpkey_MD5key_hms.local.3564038757
+# Sun Dec  9 02:45:57 2012
 
-<pre class="example">    # ntpkey_MD5key_hms.local.3564038757
-    # Sun Dec  9 02:45:57 2012
-    
-     1 MD5 "]!ghT%O;3)WJ,/Nc:&gt;I  # MD5 key
-     2 MD5 lu+H^tF46BKR-6~pV_5  # MD5 key
-     3 MD5 :lnoVsE%Yz*avh%EtNC  # MD5 key
-     4 MD5 |fdZrf0sF~^V  # MD5 key
-     5 MD5 IyAG&gt;O"y"LmCRS!*bHC  # MD5 key
-     6 MD5 "&gt;e\A  # MD5 key
-     7 MD5 c9x=M'CfLxax9v)PV-si  # MD5 key
-     8 MD5 E|=jvFVov?Bn|Ev=&amp;aK\  # MD5 key
-     9 MD5 T!c4UT&amp;`(m$+m+B6,`Q0  # MD5 key
-    10 MD5 JVF/1=)=IFbHbJQz..Cd  # MD5 key
-    11 SHA1 6dea311109529e436c2b4fccae9bc753c16d1b48  # SHA1 key
-    12 SHA1 7076f373d86c4848c59ff8046e49cb7d614ec394  # SHA1 key
-    13 SHA1 5f48b1b60591eb01b7cf1d33b7774f08d20262d3  # SHA1 key
-    14 SHA1 eed5ab9d9497319ec60cf3781d52607e76720178  # SHA1 key
-    15 SHA1 f283562611a04c964da8126296f5f8e58c3f85de  # SHA1 key
-    16 SHA1 1930da171297dd63549af50b29449de17dcf341f  # SHA1 key
-    17 SHA1 fee892110358cd4382322b889869e750db8e8a8f  # SHA1 key
-    18 SHA1 b5520c9fadd7ad3fd8bfa061c8821b65d029bb37  # SHA1 key
-    19 SHA1 8c74fb440ec80f453ec6aaa62b9baed0ab723b92  # SHA1 key
-    20 SHA1 6bc05f734306a189326000970c19b3910f403795  # SHA1 key
-</pre>
-  <p>Figure 1. Typical Symmetric Key File
+ 1 MD5 &quot;]!ghT%O;3)WJ,/Nc:&gt;I  # MD5 key
+ 2 MD5 lu+H^tF46BKR-6~pV_5  # MD5 key
+ 3 MD5 :lnoVsE%Yz*avh%EtNC  # MD5 key
+ 4 MD5 |fdZrf0sF~;w-i^V  # MD5 key
+ 5 MD5 IyAG&gt;O&quot;y&quot;LmCRS!*bHC  # MD5 key
+ 6 MD5 &quot;&gt;e\A&gt;hT/661ri52,,H  # MD5 key
+ 7 MD5 c9x=M'CfLxax9v)PV-si  # MD5 key
+ 8 MD5 E|=jvFVov?Bn|Ev=&amp;aK\  # MD5 key
+ 9 MD5 T!c4UT&amp;`(m$+m+B6,`Q0  # MD5 key
+10 MD5 JVF/1=)=IFbHbJQz..Cd  # MD5 key
+11 SHA1 6dea311109529e436c2b4fccae9bc753c16d1b48  # SHA1 key
+12 SHA1 7076f373d86c4848c59ff8046e49cb7d614ec394  # SHA1 key
+13 SHA1 5f48b1b60591eb01b7cf1d33b7774f08d20262d3  # SHA1 key
+14 SHA1 eed5ab9d9497319ec60cf3781d52607e76720178  # SHA1 key
+15 SHA1 f283562611a04c964da8126296f5f8e58c3f85de  # SHA1 key
+16 SHA1 1930da171297dd63549af50b29449de17dcf341f  # SHA1 key
+17 SHA1 fee892110358cd4382322b889869e750db8e8a8f  # SHA1 key
+18 SHA1 b5520c9fadd7ad3fd8bfa061c8821b65d029bb37  # SHA1 key
+19 SHA1 8c74fb440ec80f453ec6aaa62b9baed0ab723b92  # SHA1 key
+20 SHA1 6bc05f734306a189326000970c19b3910f403795  # SHA1 key
+</pre></div>
 
-  <p>Figure 1 shows a typical symmetric keys file used by the reference
-implementation. 
+<p>Figure 1. Typical Symmetric Key File
+</p>
+<p>Figure 1 shows a typical symmetric keys file used by the reference
+implementation.
 Each line of the file contains three fields, first an
-integer between 1 and 65534, inclusive, representing the key identifier
-used in the server and peer configuration commands. 
+integer between 1 and 65535, inclusive, representing the key identifier
+used in the server and peer configuration commands.
 Next is the key type for the message digest algorithm,
 which in the absence of the
 OpenSSL library must be MD5 to designate the MD5 message digest
-algorithm. 
+algorithm.
 If the OpenSSL library is installed, the key type can be any
-message digest algorithm supported by that library. 
+message digest algorithm supported by that library.
 However, if
 compatibility with FIPS 140-2 is required, the key type must be either
-SHA or SHA1. 
+SHA or SHA1.
 The key type can be changed using an ASCII text editor.
-
-  <p>An MD5 key consists of a printable ASCII string less than or equal to
-16 characters and terminated by whitespace or a # character. 
+</p>
+<p>An MD5 key consists of a printable ASCII string less than or equal to
+16 characters and terminated by whitespace or a # character.
 An OpenSSL
 key consists of a hex-encoded ASCII string of 40 characters, which is
 truncated as necessary.
-
-  <p>Note that the keys used by the <code>ntpq</code> and <code>ntpdc</code> programs are
+</p>
+<p>Note that the keys used by the <code>ntpq</code> and <code>ntpdc</code> programs are
 checked against passwords requested by the programs and entered by hand,
 so it
 is generally appropriate to specify these keys in human readable ASCII
 format.
-
-  <p>The <code>ntp-keygen</code> program generates a MD5 symmetric keys file
-<code>ntpkey_MD5key_hostname.filestamp</code>. 
+</p>
+<p>The <code>ntp-keygen</code> program generates a MD5 symmetric keys file
+<code>ntpkey_MD5key_hostname.filestamp</code>.
 Since the file contains private
 shared keys, it should be visible only to root and distributed by
-secure means to other subnet hosts. 
+secure means to other subnet hosts.
 The NTP daemon loads the file <code>ntp.keys</code>, so <code>ntp-keygen</code>
-installs a soft link from this name to the generated file. 
+installs a soft link from this name to the generated file.
 Subsequently, similar soft links must be installed by
-manual or automated means on the other subnet hosts. 
+manual or automated means on the other subnet hosts.
 While this file is
 not used with the Autokey Version 2 protocol, it is needed to
 authenticate some remote configuration commands used by the <code>ntpq</code> and
 <code>ntpdc</code> utilities.
+</p><hr>
 
-</body></html>
 
+
+</body>
+</html>
--- contrib/ntp/util/ntp-keygen.man.in.orig
+++ contrib/ntp/util/ntp-keygen.man.in
@@ -10,11 +10,11 @@
 .ds B-Font B
 .ds I-Font I
 .ds R-Font R
-.TH ntp-keygen @NTP_KEYGEN_MS@ "27 Feb 2018" "ntp (4.2.8p11)" "User Commands"
+.TH ntp-keygen @NTP_KEYGEN_MS@ "20 Feb 2019" "ntp (4.2.8p13)" "User Commands"
 .\"
-.\" EDIT THIS FILE WITH CAUTION (/tmp/.ag-bBa46V/ag-nBaW5V)
+.\" EDIT THIS FILE WITH CAUTION (in-mem file)
 .\"
-.\" It has been AutoGen-ed February 27, 2018 at 05:15:53 PM by AutoGen 5.18.5
+.\" It has been AutoGen-ed February 20, 2019 at 09:57:14 AM by AutoGen 5.18.5
 .\" From the definitions ntp-keygen-opts.def
 .\" and the template file agman-cmd.tpl
 .SH NAME
@@ -1054,7 +1054,7 @@
 .in -4
 where
 \f\*[I-Font]keyno\f[]
-is a positive integer in the range 1-65534;
+is a positive integer in the range 1-65535;
 \f\*[I-Font]type\f[]
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- contrib/ntp/util/ntp-keygen.mdoc.in.orig
+++ contrib/ntp/util/ntp-keygen.mdoc.in
@@ -1,9 +1,9 @@
-.Dd February 27 2018
+.Dd February 20 2019
 .Dt NTP_KEYGEN @NTP_KEYGEN_MS@ User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.mdoc)
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:16:00 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  February 20, 2019 at 09:57:11 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp-keygen-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -943,7 +943,7 @@
 .D1 Ar keyno Ar type Ar key
 where
 .Ar keyno
-is a positive integer in the range 1\-65534;
+is a positive integer in the range 1\-65535;
 .Ar type
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- contrib/ntp/util/ntp-keygen.texi.orig
+++ contrib/ntp/util/ntp-keygen.texi
@@ -267,7 +267,7 @@
 Figure 1 shows a typical symmetric keys file used by the reference
 implementation.
 Each line of the file contains three fields, first an
-integer between 1 and 65534, inclusive, representing the key identifier
+integer between 1 and 65535, inclusive, representing the key identifier
 used in the server and peer configuration commands.
 Next is the key type for the message digest algorithm,
 which in the absence of the
--- contrib/ntp/util/ntptime.c.orig
+++ contrib/ntp/util/ntptime.c
@@ -349,10 +349,6 @@
 		printf("  status %s,\n", sprintb((u_int)ntx.status, TIMEX_STA_BITS));
 		ftemp = (double)ntx.tolerance / SCALE_FREQ;
 		gtemp = (double)ntx.precision;
-#ifdef STA_NANO
-		if (flash & STA_NANO)
-			gtemp /= 1000.0;
-#endif
 		printf(
 		    "  time constant %lu, precision %.3f us, tolerance %.0f ppm,\n",
 		    (u_long)ntx.constant, gtemp, ftemp);
--- contrib/ntp/util/sht.c.orig
+++ contrib/ntp/util/sht.c
@@ -196,7 +196,7 @@
 		 * certain jitter!)
 		 */
 		time_t clk_sec, rcv_sec;
-		uint   clk_frc, rcv_frc;
+		u_int  clk_frc, rcv_frc;
 
 #if defined(HAVE_CLOCK_GETTIME) && defined(CLOCK_REALTIME)
 		
@@ -206,17 +206,17 @@
 		struct timespec tmptime;
 		if (0 == clock_gettime(CLOCK_REALTIME, &tmptime)) {
 			rcv_sec = tmptime.tv_sec;
-			rcv_frc = (uint)tmptime.tv_nsec;
+			rcv_frc = (u_int)tmptime.tv_nsec;
 		}
 		else
 #endif
 		{
 			time(&rcv_sec);
-			rcv_frc = (uint)random() % 1000000000u;
+			rcv_frc = (u_int)random() % 1000000000u;
 		}
 		/* add a wobble of ~3.5msec to the clock time */
 		clk_sec = rcv_sec;
-		clk_frc = rcv_frc + (uint)(random()%7094713 - 3547356);
+		clk_frc = rcv_frc + (u_int)(random()%7094713 - 3547356);
 		/* normalise result -- the SHM driver is picky! */
 		while ((int)clk_frc < 0) {
 			clk_frc += 1000000000;
--- usr.sbin/ntp/config.h.orig
+++ usr.sbin/ntp/config.h
@@ -313,6 +313,9 @@
 /* Provide the explicit 127.0.0.0/8 martian filter? */
 #define ENABLE_BUG3020_FIX 1
 
+/* Enable CMAC support? */
+#define ENABLE_CMAC 1
+
 /* nls support in libopts */
 /* #undef ENABLE_NLS */
 
@@ -374,6 +377,14 @@
 /* Define to 1 if you have the `daemon' function. */
 #define HAVE_DAEMON 1
 
+/* Define to 1 if you have the declaration of `siglongjmp', and to 0 if you
+   don't. */
+#define HAVE_DECL_SIGLONGJMP 1
+
+/* Define to 1 if you have the declaration of `sigsetjmp', and to 0 if you
+   don't. */
+#define HAVE_DECL_SIGSETJMP 1
+
 /* Define to 1 if you have the declaration of `strerror_r', and to 0 if you
    don't. */
 #define HAVE_DECL_STRERROR_R 1
@@ -655,6 +666,12 @@
 /* if you have NT Threads */
 /* #undef HAVE_NT_THREADS */
 
+/* Define to 1 if you have the <openssl/cmac.h> header file. */
+#define HAVE_OPENSSL_CMAC_H 1
+
+/* Define to 1 if you have the <openssl/hmac.h> header file. */
+#define HAVE_OPENSSL_HMAC_H 1
+
 /* Define to 1 if the system has the type `pid_t'. */
 #define HAVE_PID_T 1
 
@@ -959,6 +976,9 @@
 /* Define to 1 if you have the <sys/lock.h> header file. */
 #define HAVE_SYS_LOCK_H 1
 
+/* Define to 1 if you have the <sys/mac.h> header file. */
+#define HAVE_SYS_MAC_H 1
+
 /* Define to 1 if you have the <sys/mman.h> header file. */
 #define HAVE_SYS_MMAN_H 1
 
@@ -1445,7 +1465,7 @@
 #define PACKAGE_NAME "ntp"
 
 /* Define to the full name and version of this package. */
-#define PACKAGE_STRING "ntp 4.2.8p11"
+#define PACKAGE_STRING "ntp 4.2.8p12"
 
 /* Define to the one symbol short name of this package. */
 #define PACKAGE_TARNAME "ntp"
@@ -1454,7 +1474,7 @@
 #define PACKAGE_URL "http://www.ntp.org./"
 
 /* Define to the version of this package. */
-#define PACKAGE_VERSION "4.2.8p11"
+#define PACKAGE_VERSION "4.2.8p12"
 
 /* data dir */
 #define PERLLIBDIR "/usr/share/ntp/lib"
@@ -1635,10 +1655,10 @@
 /* #undef USE_UDP_SIGPOLL */
 
 /* Version number of package */
-#define VERSION "4.2.8p11"
+#define VERSION "4.2.8p12"
 
 /* vsnprintf expands "%m" to strerror(errno) */
-/* #undef VSNPRINTF_PERCENT_M */
+#define VSNPRINTF_PERCENT_M 1
 
 /* configure --enable-ipv6 */
 #define WANT_IPV6 1
@@ -1812,5 +1832,5 @@
 /*
  * FreeBSD specific: Explicitly specify date/time for reproducible build.
  */
-#define	MKREPRO_DATE "Feb 28 2018"
-#define	MKREPRO_TIME "06:33:03"
+#define	MKREPRO_DATE "Aug 19 2018"
+#define	MKREPRO_TIME "01:24:29"
--- usr.sbin/ntp/doc/ntp-keygen.8.orig
+++ usr.sbin/ntp/doc/ntp-keygen.8
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTP_KEYGEN 8 User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp-keygen-opts.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:16:00 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:30:38 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp-keygen-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -945,7 +945,7 @@
 .D1 Ar keyno Ar type Ar key
 where
 .Ar keyno
-is a positive integer in the range 1\-65534;
+is a positive integer in the range 1\-65535;
 .Ar type
 is the key type for the message digest algorithm, which in the absence of the
 OpenSSL library must be
--- usr.sbin/ntp/doc/ntp.conf.5.orig
+++ usr.sbin/ntp/doc/ntp.conf.5
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTP_CONF 5 File Formats
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:42 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:29:15 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.conf.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
@@ -327,7 +327,7 @@
 All packets sent to and received from the server or peer are to
 include authentication fields encrypted using the specified
 .Ar key
-identifier with values from 1 to 65534, inclusive.
+identifier with values from 1 to 65535, inclusive.
 The
 default is to include no encryption field.
 .It Cm minpoll Ar minpoll
@@ -585,7 +585,7 @@
 .Li http://www.ntp.org/ .
 .Ss Symmetric\-Key Cryptography
 The original RFC\-1305 specification allows any one of possibly
-65,534 keys, each distinguished by a 32\-bit key identifier, to
+65,535 keys, each distinguished by a 32\-bit key identifier, to
 authenticate an association.
 The servers and clients involved must
 agree on the key and key identifier to
@@ -879,7 +879,7 @@
 .Ar key
 argument is
 the key identifier for a trusted key, where the value can be in the
-range 1 to 65,534, inclusive.
+range 1 to 65,535, inclusive.
 .It Xo Ic crypto
 .Op Cm cert Ar file
 .Op Cm leap Ar file
@@ -983,7 +983,7 @@
 .Ar key
 argument is a key identifier
 for the trusted key, where the value can be in the range 1 to
-65,534, inclusive.
+65,535, inclusive.
 .It Ic revoke Ar logsec
 Specifies the interval between re\-randomization of certain
 cryptographic values used by the Autokey scheme, as a power of 2 in
@@ -1010,7 +1010,7 @@
 The
 .Ar key
 arguments are 32\-bit unsigned
-integers with values from 1 to 65,534.
+integers with values from 1 to 65,535.
 .El
 .Ss Error Codes
 The following error codes are reported via the NTP control
--- usr.sbin/ntp/doc/ntp.keys.5.orig
+++ usr.sbin/ntp/doc/ntp.keys.5
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTP_KEYS 5 File Formats
 .Os SunOS 5.10
 .\"  EDIT THIS FILE WITH CAUTION  (ntp.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:46 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:29:18 AM by AutoGen 5.18.5
 .\"  From the definitions    ntp.keys.def
 .\"  and the template file   agmdoc-file.tpl
 .Sh NAME
@@ -39,7 +39,7 @@
 While key number 0 is fixed by the NTP standard
 (as 56 zero bits)
 and may not be changed,
-one or more keys numbered between 1 and 65534
+one or more keys numbered between 1 and 65535
 may be arbitrarily set in the keys file.
 .Pp
 The key file uses the same comment conventions
@@ -50,7 +50,7 @@
 .Pp
 where
 .Ar keyno
-is a positive integer (between 1 and 65534),
+is a positive integer (between 1 and 65535),
 .Ar type
 is the message digest algorithm,
 .Ar key
--- usr.sbin/ntp/doc/ntpd.8.orig
+++ usr.sbin/ntp/doc/ntpd.8
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTPD 8 User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpd-opts.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:14:47 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:29:20 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpd-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- usr.sbin/ntp/doc/ntpdc.8.orig
+++ usr.sbin/ntp/doc/ntpdc.8
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTPDC 8 User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpdc-opts.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:09 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:29:43 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpdc-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- usr.sbin/ntp/doc/ntpq.8.orig
+++ usr.sbin/ntp/doc/ntpq.8
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt NTPQ 8 User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (ntpq-opts.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:15:28 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:30:05 AM by AutoGen 5.18.5
 .\"  From the definitions    ntpq-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- usr.sbin/ntp/doc/sntp.8.orig
+++ usr.sbin/ntp/doc/sntp.8
@@ -1,4 +1,4 @@
-.Dd February 27 2018
+.Dd August 14 2018
 .Dt SNTP 8 User Commands
 .Os
 .\"  EDIT THIS FILE WITH CAUTION  (sntp-opts.mdoc)
@@ -5,7 +5,7 @@
 .\"
 .\" $FreeBSD$
 .\"
-.\"  It has been AutoGen-ed  February 27, 2018 at 05:13:14 PM by AutoGen 5.18.5
+.\"  It has been AutoGen-ed  August 14, 2018 at 08:27:40 AM by AutoGen 5.18.5
 .\"  From the definitions    sntp-opts.def
 .\"  and the template file   agmdoc-cmd.tpl
 .Sh NAME
--- usr.sbin/ntp/libntp/Makefile.orig
+++ usr.sbin/ntp/libntp/Makefile
@@ -29,7 +29,7 @@
 	socktoa.c	socktohost.c	ssl_init.c	statestr.c \
 	strdup.c	strl_obsd.c	syssignal.c	timetoa.c \
 	timevalops.c	uglydate.c	vint64ops.c	work_fork.c \
-	work_thread.c	ymd2yd.c
+	work_thread.c	xsbprintf.c	ymd2yd.c
 
 ISC_PTHREADS_SRCS= condition.c \
 	thread.c \
--- usr.sbin/ntp/scripts/mkver.orig
+++ usr.sbin/ntp/scripts/mkver
@@ -6,7 +6,7 @@
 
 ConfStr="$PROG"
 
-ConfStr="$ConfStr 4.2.8p11"
+ConfStr="$ConfStr 4.2.8p12"
 
 case "$CSET" in
  '') ;;
