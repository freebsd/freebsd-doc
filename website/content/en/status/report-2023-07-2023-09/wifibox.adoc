=== Wifibox: Use Linux to Drive your Wireless Card on FreeBSD

Links: +
link:https://github.com/pgj/freebsd-wifibox[Project GitHub Page] URL: link:https://github.com/pgj/freebsd-wifibox[] +
link:https://cgit.freebsd.org/ports/tree/net/wifibox[net/wifibox port] URL: link:[https://cgit.freebsd.org/ports/tree/net/wifibox]

Contact: PÁLI Gábor János <pali.gabor@gmail.com>

Wifibox deploys a virtualized Linux guest to drive wireless networking hardware on a FreeBSD host.

Various guides describe manual setup.
Wifibox is an experimental project that aims to implement these ideas as a single, easy-to-use package.

==== System Requirements

* an x64 CPU with I/O MMU (AMD-Vi, Intel VT-d)
* ~150 MB physical memory
* disk space for a guest virtual disk image, which can be as small as ~30 MB
* FreeBSD 12 or later
* some cards may require FreeBSD 13 or later.

==== Features

The single package: 

* allows easy installation and removal
* provides an man:rc[8] service that starts the Linux guest when FreeBSD boots, and stops the guest when FreeBSD shuts down.
* provides diagnostic tools that can ease management of hardware.

Use of man:bhyve[8] to run Linux.
This helps to achieve a low resource footprint.

The recent version features Linux 6.1.
6.5 is an alternative.

The guest is constructed using link:https://alpinelinux.org/[Alpine Linux] -- a security-oriented, lightweight distribution based on link:https://www.musl-libc.org/[musl libc] and link:https://busybox.net/[BusyBox] -- with custom extensions and patches imported, most notably, from link:https://archlinux.org/[Arch Linux].

Configuration files are shared with the host system.
The guest uses man:wpa_supplicant[8] or man:hostapd[8] (depending on configuration), so it is possible to import the host's man:wpa_supplicant.conf[5] or man:hostapd.conf[5] file, unchanged.

When configured, man:wpa_supplicant[8] and man:hostapd[8] control sockets can be exposed by the guest.
This enables host use of utilities such as man:wpa_cli[8] and man:wpa_gui[8] (from the package:net/wpa_supplicant_gui[] port) and man:hostapd_cli[8].

It can be configured to forward IPv6 traffic.
This experimental option is enabled by default.

Wifibox has been tested mainly with Intel chipsets, it has shown great performance and stability.
Therefore, it might serve as an interim solution whilst FreeBSD matures its support for these chipsets.

Wifibox is also confirmed to work with Atheros, Realtek, and Mediatek chipsets.
Broadcom chips, often found in MacBook Pros, may also work, however there are stability issues.
Feedback on use with other chipsets is more than welcome.
