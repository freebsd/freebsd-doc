=== Sockstat UI Improvements

Links: +
link:https://wiki.freebsd.org/SummerOfCode2025Projects/SockstatUIImprovements[Sockstat UI Improvements  wiki] URL: https://wiki.freebsd.org/SummerOfCode2025Projects/SockstatUIImprovements[] +
link:https://github.com/freebsd/freebsd-src/pull/1720[Automatic column sizing PR] URL: https://github.com/freebsd/freebsd-src/pull/1720[] +
link:https://github.com/freebsd/freebsd-src/pull/1746[Reintroduced -w flag PR] URL: https://github.com/freebsd/freebsd-src/pull/1746[] +
link:https://github.com/freebsd/freebsd-src/pull/1770[Libxo support PR] URL: https://github.com/freebsd/freebsd-src/pull/1770[] +

Contact: Damin Rido <rido@FreeBSD.org>

Sockstat is a command-line tool in FreeBSD that displays detailed information about open network sockets.
However, its traditional fixed-width formatting made the output hard to read, especially when handling long addresses.
This project improves sockstat by introducing dynamically sized columns and structured output support via libxo.
With these enhancements, users can more easily read output on the terminal or export it in formats such as JSON, XML, or HTML for scripting and integration with external tools.

The work was carried out in two phases.
First, I replaced the fixed-width layout with dynamic column sizing using a two-pass algorithm.
This ensures proper alignment and readability even with long socket addresses.
I also redefined the `-w` option to enable wide, auto-sized output, while keeping the default mode compatible with terminal displays.
Next, I integrated libxo into sockstat by replacing `printf()` calls with `xo_emit()`, tagging fields correctly, and testing with libxo's validation options.
This enables machine-readable structured output while maintaining traditional human-readable formatting.

This project was part of Google Summer of Code 2025.
It has modernized sockstat and made it both more user-friendly and better suited for integration into automated workflows.

Sponsor: Google Summer of Code 2025