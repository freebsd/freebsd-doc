---
title: "FreeBSD 11.1-RELEASE Release Notes"
sidenav: download
---

include::shared/en/urls.adoc[]

= FreeBSD 11.1-RELEASE Release Notes

== Abstract

The release notes for FreeBSD 11.0-RELEASE contain a summary of the changes made to the FreeBSD base system on the 11.0-STABLE development line. This document lists applicable security advisories that were issued since the last release, as well as significant changes to the FreeBSD kernel and userland. Some brief remarks on upgrading are also presented.

== Table of Contents

* <<intro,Introduction>>
* <<upgrade,Upgrading from Previous Releases of FreeBSD>>
* <<security-errata,Security and Errata>>
** <<security,Security Advisories>>
** <<errata,Errata Notices>>
* <<userland,Userland>>
** <<userland-config,Userland Configuration Changes>>
** <<userland-programs,Userland Application Changes>>
** <<userland-contrib,Contributed Software>>
** <<userland-installer,Installation and Configuration Tools>>
** <<userland-rc,`/etc/rc.d` Scripts>>
** <<userland-periodic,`/etc/periodic` Scripts>>
** <<userland-libraries,Runtime Libraries and API>>
** <<userland-abi,ABI Compatibility>>
** <<userland-debug,Userland Debugging>>
* <<kernel,Kernel>>
** <<kernel-general,General Kernel Changes>>
** <<kernel-bugfix,Kernel Bug Fixes>>
** <<kernel-config,Kernel Configuration>>
** <<kernel-modules,Kernel Modules>>
** <<kernel-sysctl,System Tuning and Controls>>
* <<drivers,Devices and Drivers>>
** <<drivers-device,Device Drivers>>
** <<drivers-storage,Storage Drivers>>
** <<drivers-network,Network Drivers>>
* <<hardware,Hardware Support>>
** <<hardware-support,Hardware Support>>
** <<hardware-virtualization,Virtualization Support>>
** <<hardware-arm,ARM Support>>
* <<storage,Storage>>
** <<storage-net,Networked Storage>>
** <<storage-zfs,ZFS>>
* <<boot,Boot Loader Changes>>
** <<boot-loader,Boot Loader Changes>>
* <<network,Networking>>
** <<network-general,General Network Changes>>
** <<network-protocols,Network Protocols>>
* <<ports,Ports Collection and Package Infrastructure>>
** <<ports-packages,Packaging Changes>>

[intro]]
== Introduction

This document contains the release notes for FreeBSD 11.1-RELEASE. It describes recently added, changed, or deleted features of FreeBSD. It also provides some notes on upgrading from previous versions of FreeBSD.

This distribution of FreeBSD 11.1-RELEASE is a release distribution. It can be found at `https://www.FreeBSD.org/releases/` or any of its mirrors. More information on obtaining this (or other) release distributions of FreeBSD can be found in the link:{handbook}#mirrors[Obtaining FreeBSD' appendix] to the link:{handbook}[FreeBSD Handbook].

All users are encouraged to consult the release errata before installing FreeBSD. The errata document is updated with "late-breaking" information discovered late in the release cycle or after the release. Typically, it contains information on known bugs, security advisories, and corrections to documentation. An up-to-date copy of the errata for FreeBSD 11.1-RELEASE can be found on the FreeBSD Web site.

This document describes the most user-visible new or changed features in FreeBSD since 11.0-RELEASE. In general, changes described here are unique to the 11.1-STABLE branch unless specifically marked as MERGED features.

Typical release note items document recent security advisories issued after 11.0-RELEASE, new drivers or hardware support, new commands or options, major bug fixes, or contributed software upgrades. They may also list changes to major ports/packages or release engineering practices. Clearly the release notes cannot list every single change made to FreeBSD between releases; this document focuses primarily on security advisories, user-visible changes, and major architectural improvements.

[upgrade]]
== Upgrading from Previous Releases of FreeBSD

[amd64,i386] Binary upgrades between RELEASE versions (and snapshots of the various security branches) are supported using the http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)] utility. The binary upgrade procedure will update unmodified userland utilities, as well as unmodified GENERIC kernels distributed as a part of an official FreeBSD release. The http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)] utility requires that the host being upgraded have Internet connectivity.

Source-based upgrades (those based on recompiling the FreeBSD base system from source code) from previous versions are supported, according to the instructions in `/usr/src/UPDATING`.

[.important]
*Important*: +
Upgrading FreeBSD should only be attempted after backing up _all_ data and configuration files.

[[security-errata]]
== Security and Errata

This section lists the various Security Advisories and Errata Notices since 11.0-RELEASE.

[[security]]
== Security Advisories

[width="100%",cols="40%,30%,30%",options="header",]
|===
|Advisory |Date |Topic
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:32.bhyve.asc[FreeBSD-SA-16:32.bhyve] |25 October 2016 |Privilege escalation vulnerability
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:33.openssh.asc[FreeBSD-SA-16:33.openssh] |2 November 2016 |Remote Denial of Service vulnerability
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:36.telnetd.asc[FreeBSD-SA-16:36.telnetd] |6 December 2016 |Possible http://www.FreeBSD.org/cgi/man.cgi?query=login&sektion=1&manpath=freebsd-release-ports[login(1)] argument injection
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:37.libc.asc[FreeBSD-SA-16:37.libc] |6 December 2016 |http://www.FreeBSD.org/cgi/man.cgi?query=link_ntoa&sektion=3&manpath=freebsd-release-ports[link_ntoa(3)] buffer overflow
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:38.bhyve.asc[FreeBSD-SA-16:38.bhyve] |6 December 2016 |Possible escape from http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=8&manpath=freebsd-release-ports[bhyve(8)] virtual machine
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-16:39.ntp.asc[FreeBSD-SA-16:39.ntp] |22 December 2016 |Multiple vulnerabilities
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-17:01.openssh.asc[FreeBSD-SA-17:01.openssh] |10 January 2017 |Multiple vulnerabilities
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-17:02.openssl.asc[FreeBSD-SA-17:02.openssl] |23 February 2017 |Multiple vulnerabilities
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-17:03.ntp.asc[FreeBSD-SA-17:03.ntp] |12 April 2017 |Multiple vulnerabilities
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-17:04.ipfilter.asc[FreeBSD-SA-17:04.ipfilter] |27 April 2017 |Fix fragment handling panic
|https://www.FreeBSD.org/security/advisories/FreeBSD-SA-17:05.heimdal.asc[FreeBSD-SA-17:05.heimdal] |12 July 2017 |Fix KDC-REP service name validation vulnerability
|===

[errata]]
== Errata Notices

[width="100%",cols="40%,30%,30%",options="header",]
|===
|Errata |Date |Topic
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-16:18.loader.asc[FreeBSD-EN-16:18.loader] |25 October 2016 |Loader may hang during boot
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-16:19.tzcode.asc[FreeBSD-EN-16:19.tzcode] |6 December 2016 |Fix warnings about invalid timezone abbreviations
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-16:20.tzdata.asc[FreeBSD-EN-16:20.tzdata] |6 December 2016 |Update timezone database information
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-16:21.localedef.asc[FreeBSD-EN-16:21.localedef] |6 December 2016 |Fix incorrectly defined unicode characters
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-17:01.pcie.asc[FreeBSD-EN-17:01.pcie] |23 February 2017 |Fix system hang when booting when PCI-express HotPlug is enabled
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-17:02.yp.asc[FreeBSD-EN-17:02.yp] |23 February 2017 |Fix NIS master updates are not pushed to an NIS slave
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-17:03.hyperv.asc[FreeBSD-EN-17:03.hyperv] |23 February 2017 |Fix compatibility with Hyper-V/storage after KB3172614 or KB3179574
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-17:04.mandoc.asc[FreeBSD-EN-17:04.mandoc] |23 February 2017 |Make http://www.FreeBSD.org/cgi/man.cgi?query=makewhatis&sektion=1&manpath=freebsd-release-ports[makewhatis(1)] output reproducible
|https://www.FreeBSD.org/security/advisories/FreeBSD-EN-17:05.xen.asc[FreeBSD-EN-17:05.xen] |23 February 2017 |Xen migration enhancements
|===

[[userland]]
== Userland

This section covers changes and additions to userland applications, contributed software, and system utilities.

[[userland-config]]
== Userland Configuration Changes

The http://www.FreeBSD.org/cgi/man.cgi?query=inetd&sektion=8&manpath=freebsd-release-ports[inetd(8)] utility is now built without `libwrap` support when `WITHOUT_TCP_WRAPPERS` is set in http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=313203[(r313203)]

The http://www.FreeBSD.org/cgi/man.cgi?query=libthr&sektion=3&manpath=freebsd-release-ports[libthr(3)] library and related files are now evaluated and removed by the `delete-old-libs` target when upgrading the system if `WITHOUT_LIBTHR` is set in http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=316045[(r316045)]

The `WITH_LLD_AS_LD` build knob has been added, which installs LLD as `/usr/bin/ld` if set. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

LLD has been enabled by default and installed as `/usr/bin/ld` on FreeBSD/arm64. http://svn.freebsd.org/viewvc/base?view=revision&revision=318472[(r318472)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `WITH_RPCBIND_WARMSTART_SUPPORT` http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)] knob has been added, which when enabled allows building http://www.FreeBSD.org/cgi/man.cgi?query=rpcbind&sektion=8&manpath=freebsd-release-ports[rpcbind(8)] with `warmstart` support. http://svn.freebsd.org/viewvc/base?view=revision&revision=319244[(r319244)]

[[userland-programs]]
== Userland Application Changes

Support for http://www.FreeBSD.org/cgi/man.cgi?query=blacklistd&sektion=8&manpath=freebsd-release-ports[blacklistd(8)] has been added to OpenSSH. http://svn.freebsd.org/viewvc/base?view=revision&revision=305476[(r305476)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=bspatch&sektion=1&manpath=freebsd-release-ports[bspatch(1)] utility has been updated with http://www.FreeBSD.org/cgi/man.cgi?query=capsicum&sektion=4&manpath=freebsd-release-ports[capsicum(4)] support. http://svn.freebsd.org/viewvc/base?view=revision&revision=306213[(r306213)]

The http://www.FreeBSD.org/cgi/man.cgi?query=cron&sektion=8&manpath=freebsd-release-ports[cron(8)] utility has been updated to add support for including files within `/etc/cron.d` and `/usr/local/etc/cron.d` by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=308720[(r308720)] [.contrib]#(Sponsored by Gandi.net)#

The http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8&manpath=freebsd-release-ports[syslogd(8)] utility has been updated to add the `include` keyword which allows specifying a directory containing configuration files to be included in addition to http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&sektion=5&manpath=freebsd-release-ports[syslog.conf(5)]. The default http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&sektion=5&manpath=freebsd-release-ports[syslog.conf(5)] has been updated to include `/etc/syslog.d` and `/usr/local/etc/syslog.d` by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=308721[(r308721)] [.contrib]#(Sponsored by Gandi.net)#

The http://www.FreeBSD.org/cgi/man.cgi?query=zfsbootcfg&sektion=8&manpath=freebsd-release-ports[zfsbootcfg(8)] utility has been added, providing one-time http://www.FreeBSD.org/cgi/man.cgi?query=boot.config&sektion=5&manpath=freebsd-release-ports[boot.config(5)]-style options for http://www.FreeBSD.org/cgi/man.cgi?query=zfsboot&sektion=8&manpath=freebsd-release-ports[zfsboot(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=308914[(r308914)]

The http://www.FreeBSD.org/cgi/man.cgi?query=setkey&sektion=8&manpath=freebsd-release-ports[setkey(8)] utility has been modified to show the runtime NAT-T configuration. The `-g` and `-t` flags have been added, which list only global and virtual policies, respectively, when used with the `-D` and `-P` flags. http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

The http://www.FreeBSD.org/cgi/man.cgi?query=getaddrinfo&sektion=1&manpath=freebsd-release-ports[getaddrinfo(1)] utility has been added, ported from NetBSD. http://svn.freebsd.org/viewvc/base?view=revision&revision=316098[(r316098)] [.contrib]#(Sponsored by Dell EMC)#

The http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] utility has been updated to allow explicitly-assigned IPv4 and IPv6 addresses to be used within a jail. http://svn.freebsd.org/viewvc/base?view=revision&revision=316944[(r316944)] [.contrib]#(Sponsored by Multiplay)#

The http://www.FreeBSD.org/cgi/man.cgi?query=daemon&sektion=8&manpath=freebsd-release-ports[daemon(8)] utility has been updated to allow redirecting http://www.FreeBSD.org/cgi/man.cgi?query=stdout&sektion=4&manpath=freebsd-release-ports[stdout(4)] and http://www.FreeBSD.org/cgi/man.cgi?query=stderr&sektion=4&manpath=freebsd-release-ports[stderr(4)] output to http://www.FreeBSD.org/cgi/man.cgi?query=syslog&sektion=3&manpath=freebsd-release-ports[syslog(3)] or to a file. http://svn.freebsd.org/viewvc/base?view=revision&revision=317855[(r317855)]

The http://www.FreeBSD.org/cgi/man.cgi?query=efivar&sektion=8&manpath=freebsd-release-ports[efivar(8)] utility has been added, providing an interface to manage UEFI variables. http://svn.freebsd.org/viewvc/base?view=revision&revision=318576[(r318576)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbetool&sektion=8&manpath=freebsd-release-ports[cxgbetool(8)] utility has been added, providing command-line access to features and debugging facilities of http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] devices. http://svn.freebsd.org/viewvc/base?view=revision&revision=319388[(r319388)]

The http://www.FreeBSD.org/cgi/man.cgi?query=primes&sektion=6&manpath=freebsd-release-ports[primes(6)] utility now enumerates primes beyond `3825123056546413050`, up to a new limit of `2^64 - 1`. http://svn.freebsd.org/viewvc/base?view=revision&revision=320218[(r320218)]

The http://www.FreeBSD.org/cgi/man.cgi?query=rcp&sektion=1&manpath=freebsd-release-ports[rcp(1)], http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&sektion=1&manpath=freebsd-release-ports[rlogin(1)], http://www.FreeBSD.org/cgi/man.cgi?query=rsh&sektion=1&manpath=freebsd-release-ports[rsh(1)], http://www.FreeBSD.org/cgi/man.cgi?query=ruptime&sektion=1&manpath=freebsd-release-ports[ruptime(1)], http://www.FreeBSD.org/cgi/man.cgi?query=rwho&sektion=1&manpath=freebsd-release-ports[rwho(1)], http://www.FreeBSD.org/cgi/man.cgi?query=rlogind&sektion=8&manpath=freebsd-release-ports[rlogind(8)], http://www.FreeBSD.org/cgi/man.cgi?query=rshd&sektion=8&manpath=freebsd-release-ports[rshd(8)], and http://www.FreeBSD.org/cgi/man.cgi?query=rwhod&sektion=8&manpath=freebsd-release-ports[rwhod(8)] utilities have been marked as deprecated, and planned for removal in FreeBSD 12.0-RELEASE. http://svn.freebsd.org/viewvc/base?view=revision&revision=320654[(r320654)]

The http://www.FreeBSD.org/cgi/man.cgi?query=gdb&sektion=1&manpath=freebsd-release-ports[gdb(1)] and http://www.FreeBSD.org/cgi/man.cgi?query=kgdb&sektion=1&manpath=freebsd-release-ports[kgdb(1)] utilities have been marked as deprecated, and planned for removal from the base system in the future. A newer version is available in the `devel/gdb` port. http://svn.freebsd.org/viewvc/base?view=revision&revision=320874[(r320874)]

[[userland-contrib]]
== Contributed Software

http://www.FreeBSD.org/cgi/man.cgi?query=readelf&sektion=1&manpath=freebsd-release-ports[readelf(1)] has been updated to report arm program and section header types. http://svn.freebsd.org/viewvc/base?view=revision&revision=305837[(r305837)]

The ELF Tool Chain has been updated to upstream revision r3490. http://svn.freebsd.org/viewvc/base?view=revision&revision=305844[(r305844)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

http://www.FreeBSD.org/cgi/man.cgi?query=groff&sektion=1&manpath=freebsd-release-ports[groff(1)] has been updated to use the changelog date rather than file modification date in manual pages for build reproducibility. http://svn.freebsd.org/viewvc/base?view=revision&revision=307631[(r307631)]

[.note]
*Note*:
http://www.FreeBSD.org/cgi/man.cgi?query=groff&sektion=1&manpath=freebsd-release-ports[groff(1)] is planned to be deprecated effective FreeBSD 12.0-RELEASE.

http://www.FreeBSD.org/cgi/man.cgi?query=unbound&sektion=8&manpath=freebsd-release-ports[unbound(8)] has been updated to version 1.5.10. http://svn.freebsd.org/viewvc/base?view=revision&revision=307729[(r307729)]

http://www.FreeBSD.org/cgi/man.cgi?query=strings&sektion=1&manpath=freebsd-release-ports[strings(1)] has been updated to fix the exit status when multiple files are provided as arguments, and an error is encountered before the last file. http://svn.freebsd.org/viewvc/base?view=revision&revision=309125[(r309125)]

http://www.FreeBSD.org/cgi/man.cgi?query=makewhatis&sektion=1&manpath=freebsd-release-ports[makewhatis(1)] has been updated to produce build-reproducible output. http://svn.freebsd.org/viewvc/base?view=revision&revision=309183[(r309183)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Subversion has been updated to version 1.9.5. http://svn.freebsd.org/viewvc/base?view=revision&revision=309511[(r309511)]

http://www.FreeBSD.org/cgi/man.cgi?query=file&sektion=1&manpath=freebsd-release-ports[file(1)] has been updated to version 5.29. http://svn.freebsd.org/viewvc/base?view=revision&revision=309847[(r309847)]

The http://www.FreeBSD.org/cgi/man.cgi?query=amd&sektion=8&manpath=freebsd-release-ports[amd(8)] utility has been updated to version 6.2. http://svn.freebsd.org/viewvc/base?view=revision&revision=310490[(r310490)]

The CLDR locales have been updated to version 30.0.3. The unicode locales have been updated to version 9.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=312336[(r312336)]

http://www.FreeBSD.org/cgi/man.cgi?query=xz&sektion=1&manpath=freebsd-release-ports[xz(1)] has been updated to version 5.2.3. http://svn.freebsd.org/viewvc/base?view=revision&revision=312517[(r312517)]

http://www.FreeBSD.org/cgi/man.cgi?query=tcpdump&sektion=1&manpath=freebsd-release-ports[tcpdump(1)] has been updated to version 4.9.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=313537[(r313537)]

http://www.FreeBSD.org/cgi/man.cgi?query=zlib&sektion=3&manpath=freebsd-release-ports[zlib(3)] has been updated to version 1.2.11. http://svn.freebsd.org/viewvc/base?view=revision&revision=313795[(r313795)]

openresolv has been updated to version 3.9.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=313980[(r313980)]

The NetBSD test suite has been updated to the 01.11.2017_23.20 snapshot. http://svn.freebsd.org/viewvc/base?view=revision&revision=313680[(r313680)]

`libucl` has been updated to version 20170219. http://svn.freebsd.org/viewvc/base?view=revision&revision=314278[(r314278)]

http://www.FreeBSD.org/cgi/man.cgi?query=libarchive&sektion=3&manpath=freebsd-release-ports[libarchive(3)] has been updated to version 3.3.1. http://svn.freebsd.org/viewvc/base?view=revision&revision=315432[(r315432)]

http://www.FreeBSD.org/cgi/man.cgi?query=dma&sektion=8&manpath=freebsd-release-ports[dma(8)] has been updated to the 2017-02-10 snapshot. http://svn.freebsd.org/viewvc/base?view=revision&revision=315995[(r315995)]

http://www.FreeBSD.org/cgi/man.cgi?query=ntpd&sektion=8&manpath=freebsd-release-ports[ntpd(8)] has been updated to version 4.2.8p10. http://svn.freebsd.org/viewvc/base?view=revision&revision=316068[(r316068)]

ACPICA has been updated to version 20170303. http://svn.freebsd.org/viewvc/base?view=revision&revision=316303[(r316303)]

Timezone data files have been updated to version 2017b. http://svn.freebsd.org/viewvc/base?view=revision&revision=316349[(r316349)]

http://www.FreeBSD.org/cgi/man.cgi?query=mandoc&sektion=1&manpath=freebsd-release-ports[mandoc(1)] has been updated to version 1.14. http://svn.freebsd.org/viewvc/base?view=revision&revision=316420[(r316420)]

Clang has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

LLVM has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

LLD has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

LLDB has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

compiler-rt has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

libc++ has been updated to version 4.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=316423[(r316423)]

http://www.FreeBSD.org/cgi/man.cgi?query=tcsh&sektion=1&manpath=freebsd-release-ports[tcsh(1)] has been updated to version 6.20.00. http://svn.freebsd.org/viewvc/base?view=revision&revision=316957[(r316957)]

http://www.FreeBSD.org/cgi/man.cgi?query=blacklistd&sektion=8&manpath=freebsd-release-ports[blacklistd(8)] has been updated to the 20170503 snapshot. http://svn.freebsd.org/viewvc/base?view=revision&revision=318239[(r318239)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

http://www.FreeBSD.org/cgi/man.cgi?query=blacklistd&sektion=8&manpath=freebsd-release-ports[blacklistd(8)] support for OpenSSH has been refined to adjust notification points to catch all authentication failures rather than only those caused by invalid login usernames. http://svn.freebsd.org/viewvc/base?view=revision&revision=318402[(r318402)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

http://www.FreeBSD.org/cgi/man.cgi?query=byacc&sektion=1&manpath=freebsd-release-ports[byacc(1)] has been updated to version 20170201. http://svn.freebsd.org/viewvc/base?view=revision&revision=319349[(r319349)]

bmake has been updated to version 20170510. http://svn.freebsd.org/viewvc/base?view=revision&revision=319884[(r319884)]

[userland-installer]]
== Installation and Configuration Tools

The installer, http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)], has been updated to include support for hidden wireless networks when configuring the http://www.FreeBSD.org/cgi/man.cgi?query=wlan&sektion=4&manpath=freebsd-release-ports[wlan(4)] interface. http://svn.freebsd.org/viewvc/base?view=revision&revision=311686[(r311686)]

The default EFI partition created by http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)] has been increased from 800KB to 200MB. http://svn.freebsd.org/viewvc/base?view=revision&revision=320088[(r320088)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

[[userland-rc]]
== `/etc/rc.d` Scripts

The `jail_confwarn` http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=freebsd-release-ports[rc.conf(5)] entry has been added, which suppresses warnings about obsolete per-http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] configurations. http://svn.freebsd.org/viewvc/base?view=revision&revision=310009[(r310009)] [.contrib]#(Sponsored by FIS Global, Inc.)#

[[userland-periodic]]
== `/etc/periodic` Scripts

The default http://www.FreeBSD.org/cgi/man.cgi?query=periodic.conf&sektion=5&manpath=freebsd-release-ports[periodic.conf(5)] has been updated to include the `anticongestion_sleeptime` option, consolidating random sleeps in http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=freebsd-release-ports[periodic(8)] scripts and replacing the `daily_ntpd_avoid_congestion` option. The default value is 3600 seconds. http://svn.freebsd.org/viewvc/base?view=revision&revision=317373[(r317373)]

The `410.status-mfi` http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=freebsd-release-ports[periodic(8)] script has been added to monitor the status of http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=freebsd-release-ports[mfi(4)] volumes. http://svn.freebsd.org/viewvc/base?view=revision&revision=317857[(r317857)]

[[userland-libraries]]
== Runtime Libraries and API

The `libmd` library has been updated to introduce functions that operate on http://www.FreeBSD.org/cgi/man.cgi?query=fd&sektion=4&manpath=freebsd-release-ports[fd(4)] instead of `filename`. http://svn.freebsd.org/viewvc/base?view=revision&revision=310372[(r310372)]

The http://www.FreeBSD.org/cgi/man.cgi?query=kvm_close&sektion=3&manpath=freebsd-release-ports[kvm_close(3)] function has been updated to return the accumulated error from previous http://www.FreeBSD.org/cgi/man.cgi?query=close&sektion=2&manpath=freebsd-release-ports[close(2)] calls. http://svn.freebsd.org/viewvc/base?view=revision&revision=316039[(r316039)]

The C standard library has been updated to make use of http://www.FreeBSD.org/cgi/man.cgi?query=reallocarray&sektion=3&manpath=freebsd-release-ports[reallocarray(3)] for bounds checking. http://svn.freebsd.org/viewvc/base?view=revision&revision=316613[(r316613)]

The `clock_nanosleep()` system call has been added. The `nanosleep()` system call is now a wrapper around `clock_nanosleep()`. http://svn.freebsd.org/viewvc/base?view=revision&revision=317618[(r317618)] [.contrib]#(Sponsored by Dell EMC)#

The system libraries have been updated to make use of http://www.FreeBSD.org/cgi/man.cgi?query=reallocarray&sektion=3&manpath=freebsd-release-ports[reallocarray(3)] for bounds checking. http://svn.freebsd.org/viewvc/base?view=revision&revision=318121[(r318121)]

[[userland-abi]]
== ABI Compatibility

The type `max_align_t` is now defined for C11 compliance. http://svn.freebsd.org/viewvc/base?view=revision&revision=309258[(r309258)]

The `sem_clockwait_np()` library function has been added, which allows the caller to specify the reference clock and choose between absolute and relative mode. http://svn.freebsd.org/viewvc/base?view=revision&revision=315274[(r315274)] [.contrib]#(Sponsored by Dell EMC)#

The clang `nullability` qualifiers have been added to the `C` library headers. http://svn.freebsd.org/viewvc/base?view=revision&revision=315282[(r315282)]

Uses of the GNU `__nonnull__` attribute have been replaced with the more benign Clang nullability attributes. http://svn.freebsd.org/viewvc/base?view=revision&revision=315282[(r315282)]

[[userland-debug]]
== Userland Debugging

http://www.FreeBSD.org/cgi/man.cgi?query=ptrace&sektion=2&manpath=freebsd-release-ports[ptrace(2)] now supports events for http://www.FreeBSD.org/cgi/man.cgi?query=vfork&sektion=2&manpath=freebsd-release-ports[vfork(2)], permitting reliable debugging across http://www.FreeBSD.org/cgi/man.cgi?query=vfork&sektion=2&manpath=freebsd-release-ports[vfork(2)] invocations. http://svn.freebsd.org/viewvc/base?view=revision&revision=304499[(r304499)]

Process core dumps now include the process ID (PID) and command line arguments. http://svn.freebsd.org/viewvc/base?view=revision&revision=306786[(r306786)]

[[kernel]]
== Kernel

This section covers changes to kernel configurations, system tuning, and system control parameters that are not otherwise categorized.

[[kernel-general]]
== General Kernel Changes

The http://www.FreeBSD.org/cgi/man.cgi?query=getdtablesize&sektion=2&manpath=freebsd-release-ports[getdtablesize(2)] system call is now permitted in capability mode. http://svn.freebsd.org/viewvc/base?view=revision&revision=305514[(r305514)]

The `kern.proc.nfds` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] is now permitted in capability mode. http://svn.freebsd.org/viewvc/base?view=revision&revision=305516[(r305516)]

The `sys/conf/newvers.sh` script has been updated with an option to exclude build-specific metadata from the kernel for build reproducibility. http://svn.freebsd.org/viewvc/base?view=revision&revision=312249[(r312249)]

[[kernel-bugfix]]
== Kernel Bug Fixes

The http://www.FreeBSD.org/cgi/man.cgi?query=ipf&sektion=4&manpath=freebsd-release-ports[ipf(4)] packet filter has been updated to prevent `keep state` from incorrectly implying `keep frags`, matching the behavior documented in http://www.FreeBSD.org/cgi/man.cgi?query=ipf&sektion=5&manpath=freebsd-release-ports[ipf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=317434[(r317434)]

[[kernel-config]]
== Kernel Configuration

The `WITH_REPRODUCIBLE_BUILD` http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)] knob has been added, which when set, excludes build-specific metadata from the kernel, for build reproducibility. http://svn.freebsd.org/viewvc/base?view=revision&revision=312730[(r312730)]

Support for NAT-T is now enabled by default. The `IPSEC_NAT_T` kernel configuration option has been removed. http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

The `IPSEC_FILTERTUNNEL` kernel option has been removed, which was deprecated by the `net.inet.ipsec.filtertunnel` sysctl. http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

The `EARLY_AP_STARTUP` option has been enabled by default on amd64 and i386 architectures, which when enabled releases Application Processors (APs) earlier in the kernel startup process. http://svn.freebsd.org/viewvc/base?view=revision&revision=318763[(r318763)]

[[kernel-modules]]
== Kernel Modules

http://www.FreeBSD.org/cgi/man.cgi?query=cloudabi&sektion=4&manpath=freebsd-release-ports[cloudabi(4)] has been updated to allow running 32-bit binaries within 64-bit userland environments when the kernel configuration file has the `COMPAT_CLOUDABI32` option present. http://svn.freebsd.org/viewvc/base?view=revision&revision=307144[(r307144)]

The `ipsec` and `tcpmd5` kernel modules have been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

[.note]
*Note*:
Following the addition of the `tcpmd5` module, it is now necessary to have a security association (SA) entry for both inbound and outbound directions.

The http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=freebsd-release-ports[ipfw(4)] packet filter has been updated to add support for named dynamic states. http://svn.freebsd.org/viewvc/base?view=revision&revision=316274[(r316274)] [.contrib]#(Sponsored by Yandex LLC)#

The `ipfw_nptv6` kernel module has been added, implementing Network Prefix Translation for IPv6 as defined in RFC 6296. http://svn.freebsd.org/viewvc/base?view=revision&revision=316444[(r316444)] [.contrib]#(Sponsored by Yandex LLC)#

The `ipfw_nat64` kernel module has been added, implementing stateless and stateful NAT64. http://svn.freebsd.org/viewvc/base?view=revision&revision=316446[(r316446)] [.contrib]#(Sponsored by Yandex LLC)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cfumass&sektion=4&manpath=freebsd-release-ports[cfumass(4)] device has been added, providing a storage frontend to USB OTG-capable hardware. http://svn.freebsd.org/viewvc/base?view=revision&revision=316660[(r316660)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `ipfw_pmod` kernel module has been added, designed for modifying packets of any protocol. http://svn.freebsd.org/viewvc/base?view=revision&revision=317045[(r317045)] [.contrib]#(Sponsored by Yandex LLC)#

[.note]
*Note*:
At present, only TCP MSS modification is implemented.

[[kernel-sysctl]]
== System Tuning and Controls

The `vfs.root_mount_always_wait` tunable has been added, which forces the kernel to wait for root mount holds even if the root device is already present. http://svn.freebsd.org/viewvc/base?view=revision&revision=315539[(r315539)]

When the system real time clock (RTC) is adjusted, such as by `clock_settime()`, sleeping threads are now awakened and absolute sleep times are reevaluated based on the new value of the RTC. http://svn.freebsd.org/viewvc/base?view=revision&revision=316120[(r316120)] [.contrib]#(Sponsored by Dell EMC)#

[[drivers]]
== Devices and Drivers

This section covers changes and additions to devices and device drivers since 11.0-RELEASE.

[[drivers-device]]
== Device Drivers

The http://www.FreeBSD.org/cgi/man.cgi?query=jedec_ts&sektion=4&manpath=freebsd-release-ports[jedec_ts(4)] driver has been added, providing support for thermal sensors on memory modules. The driver currently supports chips that are fully compliant with the JEDEC JC 42.4 specification. http://svn.freebsd.org/viewvc/base?view=revision&revision=307768[(r307768)]

The http://www.FreeBSD.org/cgi/man.cgi?query=chromebook_platform&sektion=4&manpath=freebsd-release-ports[chromebook_platform(4)] driver has been added, providing support for various Chromebook models. http://svn.freebsd.org/viewvc/base?view=revision&revision=308104[(r308104)]

The http://www.FreeBSD.org/cgi/man.cgi?query=bytgpio&sektion=4&manpath=freebsd-release-ports[bytgpio(4)] driver has been added, providing support for Intel  Bay Trail™ SoC GPIO controllers. http://svn.freebsd.org/viewvc/base?view=revision&revision=308942[(r308942)]

`/dev/kmem` no longer supports access via `mmap()`. Consumers wishing to use `/dev/kmem` must use `read()` and `write()`. http://svn.freebsd.org/viewvc/base?view=revision&revision=312394[(r312394)]

http://www.FreeBSD.org/cgi/man.cgi?query=devctl&sektion=8&manpath=freebsd-release-ports[devctl(8)] now supports a "clear driver" command as a complement to "set driver". http://svn.freebsd.org/viewvc/base?view=revision&revision=306533[(r306533)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=digi&sektion=4&manpath=freebsd-release-ports[digi(4)], http://www.FreeBSD.org/cgi/man.cgi?query=ie&sektion=4&manpath=freebsd-release-ports[ie(4)], http://www.FreeBSD.org/cgi/man.cgi?query=mcd&sektion=4&manpath=freebsd-release-ports[mcd(4)], http://www.FreeBSD.org/cgi/man.cgi?query=scd&sektion=4&manpath=freebsd-release-ports[scd(4)], http://www.FreeBSD.org/cgi/man.cgi?query=si&sektion=4&manpath=freebsd-release-ports[si(4)], http://www.FreeBSD.org/cgi/man.cgi?query=spic&sektion=4&manpath=freebsd-release-ports[spic(4)], and http://www.FreeBSD.org/cgi/man.cgi?query=wl&sektion=4&manpath=freebsd-release-ports[wl(4)] drivers have been marked as deprecated, and removed in FreeBSD 12.0. The associated http://www.FreeBSD.org/cgi/man.cgi?query=sicontrol&sektion=8&manpath=freebsd-release-ports[sicontrol(8)] and http://www.FreeBSD.org/cgi/man.cgi?query=wlconfig&sektion=8&manpath=freebsd-release-ports[wlconfig(8)] utilities have been deprecated, as well. http://svn.freebsd.org/viewvc/base?view=revision&revision=320954[(r320954)]

[[drivers-storage]]
== Storage Drivers

The http://www.FreeBSD.org/cgi/man.cgi?query=mpr&sektion=4&manpath=freebsd-release-ports[mpr(4)] driver has been updated to support tri-mode (SAS/SATA/PCIe) Broadcom  storage adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=319435[(r319435)]

[[drivers-network]]
== Network Drivers

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] driver has been updated to provide support for Virtual Function devices (VFs) on Chelsio T4 and T5 adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=306660[(r306660)] [.contrib]#(Sponsored by Chelsio Communications)#

TCP connections using the TCP Offload Engine (TOE) on Chelsio T4+ adapters can now perform zero-copy sends via `aio_write()`. http://svn.freebsd.org/viewvc/base?view=revision&revision=306661[(r306661)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbev&sektion=4&manpath=freebsd-release-ports[cxgbev(4)] driver has been added, providing support for Virtual Function devices (VFs) on Chelsio T4 and T5 adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=306664[(r306664)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=bnxt&sektion=4&manpath=freebsd-release-ports[bnxt(4)] driver has been added, providing support for Broadcom  NetXtreme-C™ and NetXtreme-E™ devices. http://svn.freebsd.org/viewvc/base?view=revision&revision=309377[(r309377)] [.contrib]#(Sponsored by Broadcom Limited)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] driver now supports devices using T6-based adapters which support 10, 25, 40, and 100 Gbps. http://svn.freebsd.org/viewvc/base?view=revision&revision=309560[(r309560)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] driver has been updated to provide support for Virtual Function devices (VFs) on Chelsio T6 adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=309560[(r309560)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbev&sektion=4&manpath=freebsd-release-ports[cxgbev(4)] driver has been updated to provide support for Virtual Function devices (VFs) on Chelsio T6 adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=309560[(r309560)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=miibus&sektion=4&manpath=freebsd-release-ports[miibus(4)] driver has been updated to support Microchip/Micrel KSZ9031 Gigabit ethernet cards. http://svn.freebsd.org/viewvc/base?view=revision&revision=310852[(r310852)] [.contrib]#(Sponsored by Rubicon Communications, LLC (Netgate))#

The http://www.FreeBSD.org/cgi/man.cgi?query=alc&sektion=4&manpath=freebsd-release-ports[alc(4)] driver has been updated to provide support for Atheros  Killer E2400™ Gigabit ethernet cards. http://svn.freebsd.org/viewvc/base?view=revision&revision=312358[(r312358)]

The http://www.FreeBSD.org/cgi/man.cgi?query=alc&sektion=4&manpath=freebsd-release-ports[alc(4)] driver has been updated to provide support for Atheros  Killer E2500™ Gigabit ethernet cards. http://svn.freebsd.org/viewvc/base?view=revision&revision=314005[(r314005)] [.contrib]#(Sponsored by Microsoft)#

The http://www.FreeBSD.org/cgi/man.cgi?query=etherswitch&sektion=4&manpath=freebsd-release-ports[etherswitch(4)] driver has been updated to support RTL8366RB and RTL8366SR cards. http://svn.freebsd.org/viewvc/base?view=revision&revision=315330[(r315330)] [.contrib]#(Sponsored by Rubicon Communications, LLC (Netgate))#

The http://www.FreeBSD.org/cgi/man.cgi?query=if_ipsec&sektion=4&manpath=freebsd-release-ports[if_ipsec(4)] virtual tunneling interface has been added, implementing route-based VPNs protected with Encapsulating Security Payload (ESP). http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

The http://www.FreeBSD.org/cgi/man.cgi?query=qlnxe&sektion=4&manpath=freebsd-release-ports[qlnxe(4)] driver has been added, providing support for Cavium  Qlogic™ 45000 Series adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=317116[(r317116)]

The http://www.FreeBSD.org/cgi/man.cgi?query=qlxgbe&sektion=4&manpath=freebsd-release-ports[qlxgbe(4)] firmware has been updated to version 5.4.64. http://svn.freebsd.org/viewvc/base?view=revision&revision=317182[(r317182)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ixl&sektion=4&manpath=freebsd-release-ports[ixl(4)] driver has been updated to version 1.7.12-k. http://svn.freebsd.org/viewvc/base?view=revision&revision=318357[(r318357)] [.contrib]#(Sponsored by Intel Corporation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] driver has been updated to firmware version 1.16.45.0 for T4, T5, and T6 cards. http://svn.freebsd.org/viewvc/base?view=revision&revision=319269[(r319269)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=qlnxe&sektion=4&manpath=freebsd-release-ports[qlnxe(4)] driver has been updated to support QLE41XXX hardware. http://svn.freebsd.org/viewvc/base?view=revision&revision=320164[(r320164)]

The http://www.FreeBSD.org/cgi/man.cgi?query=qlnxe&sektion=4&manpath=freebsd-release-ports[qlnxe(4)] driver firmware has been updated to version 8.30.0.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=320164[(r320164)]

[[hardware]]
== Hardware Support

This section covers general hardware support for physical machines, hypervisors, and virtualization environments, as well as hardware changes and updates that do not otherwise fit in other sections of this document.

[[hardware-support]]
== Hardware Support

The http://www.FreeBSD.org/cgi/man.cgi?query=atkbdc&sektion=4&manpath=freebsd-release-ports[atkbdc(4)] driver has been updated to provide support for Elantech  trackpads. To enable hardware support, add `hw.psm.elantech_support=1` to http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=307576[(r307576)]

[[hardware-virtualization]]
== Virtualization Support

PCI passthrough with http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=4&manpath=freebsd-release-ports[bhyve(4)] supports more dynamic configurations permitting devices to be marked for passthrough or host use at runtime. http://svn.freebsd.org/viewvc/base?view=revision&revision=306471[(r306471)] [.contrib]#(Sponsored by Chelsio Communications)#

PCI passthrough with http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=4&manpath=freebsd-release-ports[bhyve(4)] resets functions via FLR when a virtual machine is started and stopped. http://svn.freebsd.org/viewvc/base?view=revision&revision=306520[(r306520)] [.contrib]#(Sponsored by Chelsio Communications)#

PCI passthrough support has been enabled on FreeBSD virtual machines running on Microsoft  Hyper-V™. http://svn.freebsd.org/viewvc/base?view=revision&revision=309312[(r309312)] [.contrib]#(Sponsored by Microsoft)#

The http://www.FreeBSD.org/cgi/man.cgi?query=hv_netvsc&sektion=4&manpath=freebsd-release-ports[hv_netvsc(4)] driver SR-IOV implementation has been updated to support Virtual Function (VF) devices, such as the Mellanox  Connect-X3™ network card. http://svn.freebsd.org/viewvc/base?view=revision&revision=314091[(r314091)] [.contrib]#(Sponsored by Microsoft)#

Support for Microsoft  Hyper-V™ Generation 2 virtual machines has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=316272[(r316272)] [.contrib]#(Sponsored by Microsoft)#

Support for synthetic keyboards has been added for virtual machines running on Microsoft  Hyper-V™. http://svn.freebsd.org/viewvc/base?view=revision&revision=317119[(r317119)] [.contrib]#(Sponsored by Microsoft)#

The FreeBSD virtual machines provided on Amazon  EC2™ now enable IPv6 by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=312790[(r312790)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ena&sektion=4&manpath=freebsd-release-ports[ena(4)] driver has been added, providing support for "next generation" Enhanced Networking on the Amazon  EC2™ platform. http://svn.freebsd.org/viewvc/base?view=revision&revision=320760[(r320760)] [.contrib]#(Sponsored by Amazon.com Inc.)#

[[hardware-arm]]
== ARM Support

Support for the Allwinner A13 board has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=305436[(r305436)]

[[storage]]
== Storage

This section covers changes and additions to file systems and other storage subsystems, both local and networked.

[[storage-net]]
== Networked Storage

The NFS client now properly handles `NFS4ERR_BAD_SESSION` errors received from an NFS server. Additionally, the kernel RPC client has been updated to prevent creating new TCP connections when `ERESTART` is received from http://www.FreeBSD.org/cgi/man.cgi?query=sosend&sektion=9&manpath=freebsd-release-ports[sosend(9)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=318660[(r318660)]

The NFS client now supports the Amazon  Elastic File System™ (EFS). http://svn.freebsd.org/viewvc/base?view=revision&revision=318660[(r318660)]

[[storage-zfs]]
== ZFS

A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `vfs.zfs.compressed_arc_enabled`, has been added, which when enabled stores compressed, on-disk data in the ZFS ARC, increasing the amount of data that can be cached in physical memory. It is enabled by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=307265[(r307265)]

The `vfs.zfs.debug_flags` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] has been deprecated in favor of `vfs.zfs.debugflags`. Additionally, `vfs.zfs.debugflags` can now be configured in http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)], whereas `vfs.zfs.debug_flags` could not. http://svn.freebsd.org/viewvc/base?view=revision&revision=318785[(r318785)]

[[boot]]
== Boot Loader Changes

This section covers the boot loader, boot menu, and other boot-related changes.

[[boot-loader]]
== Boot Loader Changes

The UEFI boot loader has been updated for build reproducibility. http://svn.freebsd.org/viewvc/base?view=revision&revision=305845[(r305845)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The EFI loader has been updated to support TFTPFS, providing netboot support without requiring an NFS server. http://svn.freebsd.org/viewvc/base?view=revision&revision=307632[(r307632)] [.contrib]#(Sponsored by Gandi.net)#

[[network]]
== Networking

This section describes changes that affect networking in FreeBSD.

[[network-general]]
== General Network Changes

The network stack has been updated to include `ip6_tryforward()`, providing performance benefits as result of a reduced number of checks. http://svn.freebsd.org/viewvc/base?view=revision&revision=311681[(r311681)] [.contrib]#(Sponsored by Yandex LLC)#

The network stack has been modified to fix incorrect or invalid IP addresses if multiple threads emit a UDP `log_in_vain` message concurrently. http://svn.freebsd.org/viewvc/base?view=revision&revision=313523[(r313523)] [.contrib]#(Sponsored by Dell EMC)#

The TCP stack has been changed to use the estimated RTT instead of timestamps for receive buffer auto resizing. http://svn.freebsd.org/viewvc/base?view=revision&revision=317368[(r317368)] [.contrib]#(Sponsored by Multiplay)#

[[network-protocols]]
== Network Protocols

Support for GARP (gratuitous ARP) retransmit has been added. A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `net.link.ether.inet.garp_rexmit_count`, has been added, which sets the maximum number of retransmissions when set to a non-zero value. http://svn.freebsd.org/viewvc/base?view=revision&revision=309337[(r309337)] [.contrib]#(Sponsored by Dell EMC)#

Support for the `UDP_ENCAP_ESPINUDP_NON_IKE` encapsulation type has been removed. http://svn.freebsd.org/viewvc/base?view=revision&revision=315514[(r315514)] [.contrib]#(Sponsored by Yandex LLC)#

[[ports]]
== Ports Collection and Package Infrastructure

This section covers changes to the FreeBSD Ports Collection, package infrastructure, and package maintenance and installation tools.

[[ports-packages]]
== Packaging Changes

The http://www.FreeBSD.org/cgi/man.cgi?query=pkg&sektion=8&manpath=freebsd-release-ports[pkg(8)] utility has been updated to version 1.10.1.

