---
title: "FreeBSD 11.0-RELEASE Release Notes"
sidenav: download
---

include::shared/en/urls.adoc[]

= FreeBSD 11.0-RELEASE Release Notes

== Abstract

The release notes for FreeBSD 11.0-RELEASE contain a summary of the changes made to the FreeBSD base system on the 11.0-STABLE development line. This document lists applicable security advisories that were issued since the last release, as well as significant changes to the FreeBSD kernel and userland. Some brief remarks on upgrading are also presented.

== Table of Contents

* <<intro,Introduction>>
* <<important,Important Notes>>
** <<important-notes,User-facing Changes>>
* <<upgrade,Upgrading from Previous Releases of FreeBSD>>
* <<userland,Userland>>
** <<userland-config,Userland Configuration Changes>>
** <<userland-programs,Userland Application Changes>>
** <<userland-contrib,Contributed Software>>
** <<userland-installer,Installation and Configuration Tools>>
** <<userland-rc,`/etc/rc.d` Scripts>>
** <<userland-periodic,`/etc/periodic` Scripts>>
** <<userland-libraries,Runtime Libraries and API>>
** <<userland-abi,ABI Compatibility>>
* <<kernel,Kernel>>
** <<kernel-bugfix,Kernel Bug Fixes>>
** <<kernel-config,Kernel Configuration>>
** <<kernel-sysctl,System Tuning and Controls>>
* <<drivers,Devices and Drivers>>
** <<drivers-device,Device Drivers>>
** <<drivers-storage,Storage Drivers>>
** <<drivers-network,Network Drivers>>
* <<hardware,Hardware Support>>
** <<hardware-support,Hardware Support>>
** <<hardware-virtualization,Virtualization Support>>
** <<hardware-arm,ARM Support>>
* <<storage,Storage>>
** <<storage-general,General Storage>>
** <<storage-net,Networked Storage>>
** <<storage-zfs,ZFS>>
** <<storage-geom,geom(4)>>
* <<boot,Boot Loader Changes>>
** <<boot-loader,Boot Loader Changes>>
* <<network,Networking>>
** <<network-protocols,Network Protocols>>
* <<releng,Release Engineering and Integration>>
** <<releng-changes,Integration Changes>>

[[intro]]
== Introduction

This document contains the release notes for FreeBSD 11.0-RELEASE. It describes recently added, changed, or deleted features of FreeBSD. It also provides some notes on upgrading from previous versions of FreeBSD.

This distribution of FreeBSD 11.0-RELEASE is a release distribution. It can be found at `https://www.FreeBSD.org/releases/` or any of its mirrors. More information on obtaining this (or other) release distributions of FreeBSD can be found in the link:{handbook}#mirrors[Obtaining FreeBSD' appendix] to the link:{handbook}[FreeBSD Handbook].

All users are encouraged to consult the release errata before installing FreeBSD. The errata document is updated with "late-breaking" information discovered late in the release cycle or after the release. Typically, it contains information on known bugs, security advisories, and corrections to documentation. An up-to-date copy of the errata for FreeBSD 11.0-RELEASE can be found on the FreeBSD Web site.

This document describes the most user-visible new or changed features in FreeBSD since 10.3-RELEASE. In general, changes described here are unique to the 11.0-STABLE branch unless specifically marked as MERGED features.

Typical release note items document recent security advisories issued after 10.3-RELEASE, new drivers or hardware support, new commands or options, major bug fixes, or contributed software upgrades. They may also list changes to major ports/packages or release engineering practices. Clearly the release notes cannot list every single change made to FreeBSD between releases; this document focuses primarily on security advisories, user-visible changes, and major architectural improvements.

[[important]]
== Important Notes

This section lists important information for those upgrading from prior FreeBSD releases.

[[important-notes]]
== User-facing Changes

As of `r303719`, OpenSSH `DSA` key generation has been disabled by default. It is important to update OpenSSH keys prior to upgrading. Additionally, `Protocol 1` support has been removed.

[[upgrade]]
== Upgrading from Previous Releases of FreeBSD

[amd64,i386] Binary upgrades between RELEASE versions (and snapshots of the various security branches) are supported using the http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)] utility. The binary upgrade procedure will update unmodified userland utilities, as well as unmodified GENERIC kernels distributed as a part of an official FreeBSD release. The http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)] utility requires that the host being upgraded have Internet connectivity.

Source-based upgrades (those based on recompiling the FreeBSD base system from source code) from previous versions are supported, using the instructions in `/usr/src/UPDATING`.

For information on upgrading via http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)], please see the `binary     upgrading section` in the Installation page.

[.important]
*Important*: +
Upgrading FreeBSD should only be attempted after backing up _all_ data and configuration files.

[[userland]]
== Userland

This section covers changes and additions to userland applications, contributed software, and system utilities.

[[userland-config]]
== Userland Configuration Changes

The default http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog.conf&sektion=5&manpath=freebsd-release-ports[newsyslog.conf(5)] now includes files in the `/etc/newsyslog.conf.d/` and `/usr/local/etc/newsyslog.conf.d/` directories for http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&sektion=8&manpath=freebsd-release-ports[newsyslog(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=266463[(r266463)]

The http://www.FreeBSD.org/cgi/man.cgi?query=mailwrapper&sektion=8&manpath=freebsd-release-ports[mailwrapper(8)] utility has been updated to use http://www.FreeBSD.org/cgi/man.cgi?query=mailer.conf&sektion=5&manpath=freebsd-release-ports[mailer.conf(5)] from the `LOCALBASE` environment variable, which defaults to `/usr/local` if unset. http://svn.freebsd.org/viewvc/base?view=revision&revision=270675[(r270675)]

The `MK_ARM_EABI` http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)] option has been removed and is now the only supported ABI for FreeBSD/arm. http://svn.freebsd.org/viewvc/base?view=revision&revision=272350[(r272350)]

The ntp suite has been updated to version 4.2.8p8. http://svn.freebsd.org/viewvc/base?view=revision&revision=301247[(r301247)]

`/etc/ntp/leap-seconds` has been updated to version 3676752000. http://svn.freebsd.org/viewvc/base?view=revision&revision=301247[(r301247)]

The `WITH_SYSTEM_COMPILER` http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)] option is enabled by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=302177[(r302177)]

[[userland-programs]]
== Userland Application Changes

When unable to load a kernel module with http://www.FreeBSD.org/cgi/man.cgi?query=kldload&sektion=8&manpath=freebsd-release-ports[kldload(8)], a message informing to view output of http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&sektion=8&manpath=freebsd-release-ports[dmesg(8)] is now printed, opposed to the previous output "Exec format error.". http://svn.freebsd.org/viewvc/base?view=revision&revision=260594[(r260594)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&sektion=8&manpath=freebsd-release-ports[pciconf(8)] utility can now identify PCI devices that are attached to a driver to be identified by their device name instead of just the selector. Additionally, the `-l` flag now accepts an optional device argument to list details about a single device. http://svn.freebsd.org/viewvc/base?view=revision&revision=260910[(r260910)]

A new flag, "onifconsole" has been added to `/etc/ttys`. This allows the system to provide a login prompt via serial console if the device is an active kernel console, otherwise it is equivalent to `off`. http://svn.freebsd.org/viewvc/base?view=revision&revision=260913[(r260913)]

Support for displaying VPD for PCI devices via http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&sektion=8&manpath=freebsd-release-ports[pciconf(8)] has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=260926[(r260926)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=freebsd-release-ports[ping(8)] utility has been updated to use the Capsicum framework to drop priviliges, protecting against malicious network packets. http://svn.freebsd.org/viewvc/base?view=revision&revision=261498[(r261498)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ps&sektion=1&manpath=freebsd-release-ports[ps(1)] utility has been updated to include the `-J` flag, used to filter output by matching http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] IDs and names. Additionally, argument `0` can be used to `-J` to only list processes running on the host system. http://svn.freebsd.org/viewvc/base?view=revision&revision=265229[(r265229)]

The http://www.FreeBSD.org/cgi/man.cgi?query=top&sektion=1&manpath=freebsd-release-ports[top(1)] utility has been updated to filter by http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] ID or name, in followup to the http://www.FreeBSD.org/cgi/man.cgi?query=ps&sektion=1&manpath=freebsd-release-ports[ps(1)] change in `r265229`. http://svn.freebsd.org/viewvc/base?view=revision&revision=265249[(r265249)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pmcstat&sektion=8&manpath=freebsd-release-ports[pmcstat(8)] utility has been updated to include a new flag, `-l`, which ends event collection after the specified number of seconds. http://svn.freebsd.org/viewvc/base?view=revision&revision=266209[(r266209)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ps&sektion=1&manpath=freebsd-release-ports[ps(1)] utility has been updated to include a new keyword, "tracer", which displays the PID of the tracing process. http://svn.freebsd.org/viewvc/base?view=revision&revision=270745[(r270745)]

Support for adding empty partitions has been added to the http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility. http://svn.freebsd.org/viewvc/base?view=revision&revision=271482[(r271482)]

The http://www.FreeBSD.org/cgi/man.cgi?query=primes&sektion=6&manpath=freebsd-release-ports[primes(6)] utility has been updated to correctly enumerate prime numbers between `4295098369` and `3825123056546413050`. Prior to this change, it was possible for returned values to be incorrectly identified as prime numbers. http://svn.freebsd.org/viewvc/base?view=revision&revision=272166[(r272166)]

The http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility has been updated to include three options used to print information about http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] itself: http://svn.freebsd.org/viewvc/base?view=revision&revision=272198[(r272198)]

[cols=",",options="header",]
|===
|Option |Output
|`--version` |The current version of the http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility
|`--formats` |The disk image file formats supported by http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)]
|`--schemes` |The partition schemes supported by http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)]
|===

Userland http://www.FreeBSD.org/cgi/man.cgi?query=ctf&sektion=5&manpath=freebsd-release-ports[ctf(5)] support in http://www.FreeBSD.org/cgi/man.cgi?query=dtrace&sektion=1&manpath=freebsd-release-ports[dtrace(1)] has been added. With this change, http://www.FreeBSD.org/cgi/man.cgi?query=dtrace&sektion=1&manpath=freebsd-release-ports[dtrace(1)] is able to resolve type info for function and USDT probe arguments, and function return values. http://svn.freebsd.org/viewvc/base?view=revision&revision=272488[(r272488)]

The http://www.FreeBSD.org/cgi/man.cgi?query=elfdump&sektion=1&manpath=freebsd-release-ports[elfdump(1)] utility has been updated to support capability mode provided by http://www.FreeBSD.org/cgi/man.cgi?query=capsicum&sektion=4&manpath=freebsd-release-ports[capsicum(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=274960[(r274960)]

The http://www.FreeBSD.org/cgi/man.cgi?query=fstyp&sektion=8&manpath=freebsd-release-ports[fstyp(8)] utility has been added, which is used to determine the filesystem on a specified device. http://svn.freebsd.org/viewvc/base?view=revision&revision=275680[(r275680)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `libedit` library has been updated to support UTF-8, which additionally provides unicode support to http://www.FreeBSD.org/cgi/man.cgi?query=sh&sektion=1&manpath=freebsd-release-ports[sh(1)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=276881[(r276881)]

The http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility has been updated to support the MBR EFI partition type. http://svn.freebsd.org/viewvc/base?view=revision&revision=276893[(r276893)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ptrace&sektion=2&manpath=freebsd-release-ports[ptrace(2)] system call has been updated include support for Altivec registers on FreeBSD/powerpc. http://svn.freebsd.org/viewvc/base?view=revision&revision=277166[(r277166)]

A new device control utility, http://www.FreeBSD.org/cgi/man.cgi?query=devctl&sektion=8&manpath=freebsd-release-ports[devctl(8)] has been added, which allows making administrative changes to individual devices, such as attaching and detaching drivers, and enabling and disabling devices. The http://www.FreeBSD.org/cgi/man.cgi?query=devctl&sektion=8&manpath=freebsd-release-ports[devctl(8)] utility uses the new http://www.FreeBSD.org/cgi/man.cgi?query=devctl&sektion=3&manpath=freebsd-release-ports[devctl(3)] library. http://svn.freebsd.org/viewvc/base?view=revision&revision=278320[(r278320)]

The http://www.FreeBSD.org/cgi/man.cgi?query=netstat&sektion=1&manpath=freebsd-release-ports[netstat(1)] utility has been updated to use http://www.FreeBSD.org/cgi/man.cgi?query=libxo&sektion=3&manpath=freebsd-release-ports[libxo(3)] to optionally generate machine-readable output. http://svn.freebsd.org/viewvc/base?view=revision&revision=279122[(r279122)] [.contrib]#(Sponsored by Juniper Networks, Inc.)#

A new flag, `-c`, has been added to the http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility, which allows specifying the capacity of the target disk image. http://svn.freebsd.org/viewvc/base?view=revision&revision=279139[(r279139)]

The UEFI Secure Boot signing utility, http://www.FreeBSD.org/cgi/man.cgi?query=uefisign&sektion=8&manpath=freebsd-release-ports[uefisign(8)] utility has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=279315[(r279315)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=freebsd-update&sektion=8&manpath=freebsd-release-ports[freebsd-update(8)] utility has been updated to prevent fetching updated binary patches when a previous upgrade has not been thoroughly completed. http://svn.freebsd.org/viewvc/base?view=revision&revision=279571[(r279571)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

A regression in the http://www.FreeBSD.org/cgi/man.cgi?query=libarchive&sektion=3&manpath=freebsd-release-ports[libarchive(3)] library that would prevent a directory from being included in the archive when `--one-file-system` is used has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=280870[(r280870)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ar&sektion=1&manpath=freebsd-release-ports[ar(1)] utility has been updated to set `ARCHIVE_EXTRACT_SECURE_SYMLINKS` and `ARCHIVE_EXTRACT_SECURE_NODOTDOT` to disallow directory traversal when extracting an archive, similar to http://www.FreeBSD.org/cgi/man.cgi?query=tar&sektion=1&manpath=freebsd-release-ports[tar(1)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=281311[(r281311)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

A race condition in http://www.FreeBSD.org/cgi/man.cgi?query=wc&sektion=1&manpath=freebsd-release-ports[wc(1)] that would cause final results to be sent to http://www.FreeBSD.org/cgi/man.cgi?query=stderr&sektion=4&manpath=freebsd-release-ports[stderr(4)] when receiving the `SIGINFO` signal has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=281617[(r281617)]

The http://www.FreeBSD.org/cgi/man.cgi?query=chflags&sektion=1&manpath=freebsd-release-ports[chflags(1)], http://www.FreeBSD.org/cgi/man.cgi?query=chgrp&sektion=1&manpath=freebsd-release-ports[chgrp(1)], http://www.FreeBSD.org/cgi/man.cgi?query=chmod&sektion=1&manpath=freebsd-release-ports[chmod(1)], and http://www.FreeBSD.org/cgi/man.cgi?query=chown&sektion=8&manpath=freebsd-release-ports[chown(8)] utilities now affect symbolic links when the `-R` flag is specified, as documented in http://www.FreeBSD.org/cgi/man.cgi?query=symlink&sektion=7&manpath=freebsd-release-ports[symlink(7)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=282208[(r282208)] [.contrib]#(Sponsored by Multiplay)#

The http://www.FreeBSD.org/cgi/man.cgi?query=date&sektion=1&manpath=freebsd-release-ports[date(1)] utility has been updated to print the modification time of the file passed as an argument to the `-r` flag, improving compatibility with the GNU http://www.FreeBSD.org/cgi/man.cgi?query=date&sektion=1&manpath=freebsd-release-ports[date(1)] utility behavior. http://svn.freebsd.org/viewvc/base?view=revision&revision=282608[(r282608)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pw&sektion=8&manpath=freebsd-release-ports[pw(8)] utility has been updated with a new flag, `-R`, that sets the root directory within which the utility will operate. http://svn.freebsd.org/viewvc/base?view=revision&revision=283961[(r283961)]

The http://www.FreeBSD.org/cgi/man.cgi?query=lockstat&sektion=1&manpath=freebsd-release-ports[lockstat(1)] utility has been updated with several improvements: http://svn.freebsd.org/viewvc/base?view=revision&revision=284297[(r284297)] [.contrib]#(Sponsored by ClusterHQ)#

* Spin locks are now reported as the amount of time spinning, instead of loop iterations.
* Reader locks are now recognized as adaptive that can spin on FreeBSD.
* Lock aquisition events for successful reader try-lock events are now reported.
* Spin and block events are now reported before lock acquisition events.

The http://www.FreeBSD.org/cgi/man.cgi?query=fstyp&sektion=8&manpath=freebsd-release-ports[fstyp(8)] utility has been updated to be able to detect http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=freebsd-release-ports[zfs(8)] and http://www.FreeBSD.org/cgi/man.cgi?query=geli&sektion=8&manpath=freebsd-release-ports[geli(8)] filesystems. http://svn.freebsd.org/viewvc/base?view=revision&revision=284589[(r284589)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility has been updated to include support for `NTFS` filesystems in both MBR and GPT partitioning schemes. http://svn.freebsd.org/viewvc/base?view=revision&revision=284883[(r284883)]

The http://www.FreeBSD.org/cgi/man.cgi?query=quota&sektion=1&manpath=freebsd-release-ports[quota(1)] utility has been updated to include support for IPv6. http://svn.freebsd.org/viewvc/base?view=revision&revision=285253[(r285253)]

The http://www.FreeBSD.org/cgi/man.cgi?query=jexec&sektion=8&manpath=freebsd-release-ports[jexec(8)] utility has been updated to include a new flag, `-l`, which ensures a clean environment in the target jail when used. Additionally, http://www.FreeBSD.org/cgi/man.cgi?query=jexec&sektion=8&manpath=freebsd-release-ports[jexec(8)] will run a shell within the target jail when run no commands are specified. http://svn.freebsd.org/viewvc/base?view=revision&revision=285420[(r285420)]

The http://www.FreeBSD.org/cgi/man.cgi?query=w&sektion=1&manpath=freebsd-release-ports[w(1)] utility has been updated to display the full IPv6 remote address of the host from which a user is connected. http://svn.freebsd.org/viewvc/base?view=revision&revision=285550[(r285550)]

The http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] framework has been updated to allow mounting http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&sektion=5&manpath=freebsd-release-ports[linprocfs(5)] and http://www.FreeBSD.org/cgi/man.cgi?query=linsysfs&sektion=5&manpath=freebsd-release-ports[linsysfs(5)] within a jail. http://svn.freebsd.org/viewvc/base?view=revision&revision=285685[(r285685)]

The http://www.FreeBSD.org/cgi/man.cgi?query=patch&sektion=1&manpath=freebsd-release-ports[patch(1)] utility has been updated to include a new option to the `-V` flag, `none`, which disables backup file creation when applying a patch. http://svn.freebsd.org/viewvc/base?view=revision&revision=285772[(r285772)] [.contrib]#(Sponsored by EMC / Isilon Storage Division)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ar&sektion=1&manpath=freebsd-release-ports[ar(1)] utility now enables deterministic mode (`-D`) by default. This behavior can be disabled by specifying the `-U` flag. http://svn.freebsd.org/viewvc/base?view=revision&revision=286010[(r286010)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=xargs&sektion=1&manpath=freebsd-release-ports[xargs(1)] utility has been updated to allow specifying `0` as an argument to the `-P` (parallel mode) flag, which allows creating as many concurrent processes as possible. http://svn.freebsd.org/viewvc/base?view=revision&revision=286289[(r286289)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=patch&sektion=1&manpath=freebsd-release-ports[patch(1)] utility has been updated to remove the automatic checkout feature. http://svn.freebsd.org/viewvc/base?view=revision&revision=286795[(r286795)]

The wireless network stack has been modified to no longer show physical wireless devices by default. In order to view available wireless devices on the system, run `sysctl net.wlan.devices`. http://svn.freebsd.org/viewvc/base?view=revision&revision=287197[(r287197)] [.contrib]#(Sponsored by Netflix, Nginx, Inc.)#

A new utility, http://www.FreeBSD.org/cgi/man.cgi?query=sesutil&sektion=8&manpath=freebsd-release-ports[sesutil(8)], has been added, which is used to manage http://www.FreeBSD.org/cgi/man.cgi?query=ses&sektion=4&manpath=freebsd-release-ports[ses(4)] (SCSI Environmental Services) devices. http://svn.freebsd.org/viewvc/base?view=revision&revision=287473[(r287473)] [.contrib]#(Sponsored by Gandi.net)#

The http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&sektion=8&manpath=freebsd-release-ports[pciconf(8)] utility has been updated to use the PCI ID database from the `misc/pciids` package, if present, falling back to the PCI ID database in the FreeBSD base system. http://svn.freebsd.org/viewvc/base?view=revision&revision=287522[(r287522)]

The resolver library has been updated to reload `/etc/resolv.conf` if the modification time has changed. http://svn.freebsd.org/viewvc/base?view=revision&revision=289315[(r289315)] [.contrib]#(Sponsored by Dell, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=uuencode&sektion=1&manpath=freebsd-release-ports[uuencode(1)] utility has been updated to include a new flag, `-r`, which when used will generate raw output similar the http://www.FreeBSD.org/cgi/man.cgi?query=uudecode&sektion=1&manpath=freebsd-release-ports[uudecode(1)] `-r` flag. http://svn.freebsd.org/viewvc/base?view=revision&revision=297678[(r297678)]

By default the http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=freebsd-release-ports[ifconfig(8)] utility will set the default regulatory domain to `FCC` on wireless interfaces. As a result, newly created wireless interfaces with default settings will have less chance to violate country-specific regulations. http://svn.freebsd.org/viewvc/base?view=revision&revision=300738[(r300738)]

A bug in the http://www.FreeBSD.org/cgi/man.cgi?query=ul&sektion=1&manpath=freebsd-release-ports[ul(1)] utility that caused lines to be truncated at 512 characters has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=302558[(r302558)]

[[userland-contrib]]
== Contributed Software

The binutils suite of utilities has been updated to include upstream patches that add new relocations for powerpc support. http://svn.freebsd.org/viewvc/base?view=revision&revision=275718[(r275718)]

The ELF Tool Chain has been updated to upstream revision r3477. http://svn.freebsd.org/viewvc/base?view=revision&revision=300698[(r300698)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The texinfo utility and `info` pages were removed from the base system. The `print/texinfo` port should be installed on systems where `info` pages are needed. http://svn.freebsd.org/viewvc/base?view=revision&revision=276551[(r276551)]

The ELF object manipulation tools addr2line, c++filt, objcopy, nm, readelf, size, strip, and strings were switched to the versions from the ELF Tool Chain project. http://svn.freebsd.org/viewvc/base?view=revision&revision=276796[(r276796)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=xz&sektion=1&manpath=freebsd-release-ports[xz(1)] utility has been updated to support multi-threaded compression. http://svn.freebsd.org/viewvc/base?view=revision&revision=278433[(r278433)]

The http://www.FreeBSD.org/cgi/man.cgi?query=nvi&sektion=1&manpath=freebsd-release-ports[nvi(1)] editor and related utilities have been updated to version 2.1.3. http://svn.freebsd.org/viewvc/base?view=revision&revision=281373[(r281373)]

The http://www.FreeBSD.org/cgi/man.cgi?query=wpa_supplicant&sektion=8&manpath=freebsd-release-ports[wpa_supplicant(8)] and http://www.FreeBSD.org/cgi/man.cgi?query=hostapd&sektion=8&manpath=freebsd-release-ports[hostapd(8)] utilities have been updated to version 2.4. http://svn.freebsd.org/viewvc/base?view=revision&revision=281806[(r281806)]

bmake has been updated to version 20150606. http://svn.freebsd.org/viewvc/base?view=revision&revision=284254[(r284254)]

Sendmail has been updated to 8.15.2. Starting with FreeBSD 11.0 and sendmail 8.15, sendmail uses uncompressed IPv6 addresses by default, i.e., they will not contain "::". For example, instead of "::1", it will be "0:0:0:0:0:0:0:1". This permits a zero subnet to have a more specific match, such as different map entries for IPv6:0:0 versus IPv6:0. This change requires that configuration data (including maps, files, classes, custom ruleset, etc.) must use the same format, so make certain such configuration data is in place before upgrading. As a very simple check search for patterns like 'IPv6:[0-9a-fA-F:]*::' and 'IPv6::'. To return to the old behavior, set the m4 option `confUSE_COMPRESSED_IPV6_ADDRESSES` or the cf option `UseCompressedIPv6Addresses`. http://svn.freebsd.org/viewvc/base?view=revision&revision=285229[(r285229)]

The http://www.FreeBSD.org/cgi/man.cgi?query=tcpdump&sektion=1&manpath=freebsd-release-ports[tcpdump(1)] utility has been updated to version 4.7.4. http://svn.freebsd.org/viewvc/base?view=revision&revision=285275[(r285275)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ssh&sektion=1&manpath=freebsd-release-ports[ssh(1)] utility has been updated to re-implement hostname canonicalization before locating the host in `known_hosts`. http://svn.freebsd.org/viewvc/base?view=revision&revision=285642[(r285642)] [.contrib]#(Sponsored by Dell, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=libarchive&sektion=3&manpath=freebsd-release-ports[libarchive(3)] library has been updated to properly skip a sparse file entry in a http://www.FreeBSD.org/cgi/man.cgi?query=tar&sektion=1&manpath=freebsd-release-ports[tar(1)] file, which would previously produce errors. http://svn.freebsd.org/viewvc/base?view=revision&revision=285972[(r285972)]

The apr library used by http://www.FreeBSD.org/cgi/man.cgi?query=svnlite&sektion=1&manpath=freebsd-release-ports[svnlite(1)] has been updated to version 1.5.2. http://svn.freebsd.org/viewvc/base?view=revision&revision=286503[(r286503)]

The serf library used by http://www.FreeBSD.org/cgi/man.cgi?query=svnlite&sektion=1&manpath=freebsd-release-ports[svnlite(1)] has been updated to version 1.3.8. http://svn.freebsd.org/viewvc/base?view=revision&revision=286505[(r286505)]

The http://www.FreeBSD.org/cgi/man.cgi?query=acpi&sektion=4&manpath=freebsd-release-ports[acpi(4)] subsystem has been updated to version 20150818. http://svn.freebsd.org/viewvc/base?view=revision&revision=287168[(r287168)]

The http://www.FreeBSD.org/cgi/man.cgi?query=unbound&sektion=8&manpath=freebsd-release-ports[unbound(8)] utility has been updated to version 1.5.4. http://svn.freebsd.org/viewvc/base?view=revision&revision=287917[(r287917)]

The http://www.FreeBSD.org/cgi/man.cgi?query=nc&sektion=1&manpath=freebsd-release-ports[nc(1)] utility has been updated to the OpenBSD 5.8 version. http://svn.freebsd.org/viewvc/base?view=revision&revision=288303[(r288303)]

Timezone data files have been updated to version 2015g. http://svn.freebsd.org/viewvc/base?view=revision&revision=290697[(r290697)]

The http://www.FreeBSD.org/cgi/man.cgi?query=xz&sektion=1&manpath=freebsd-release-ports[xz(1)] utility has been updated to version 5.2.2. http://svn.freebsd.org/viewvc/base?view=revision&revision=291125[(r291125)]

The http://www.FreeBSD.org/cgi/man.cgi?query=mandoc&sektion=1&manpath=freebsd-release-ports[mandoc(1)] utility has been updated to version 20160116. http://svn.freebsd.org/viewvc/base?view=revision&revision=292257[(r292257)]

OpenBSM has been updated to version 1.2 alpha 4. http://svn.freebsd.org/viewvc/base?view=revision&revision=292432[(r292432)]

Clang has been updated to version 3.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=296417[(r296417)]

LLVM has been updated to version 3.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=296417[(r296417)]

LLDB has been updated to version 3.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=296417[(r296417)]

libc++ has been updated to version 3.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=296417[(r296417)]

The compiler_rt utility has been updated to version 3.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=296417[(r296417)]

The http://www.FreeBSD.org/cgi/man.cgi?query=resolvconf&sektion=8&manpath=freebsd-release-ports[resolvconf(8)] utility has been updated to version 3.7.3. http://svn.freebsd.org/viewvc/base?view=revision&revision=296190[(r296190)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

OpenSSH has been updated to 7.2p2. http://svn.freebsd.org/viewvc/base?view=revision&revision=296633[(r296633)]

The http://www.FreeBSD.org/cgi/man.cgi?query=byacc&sektion=1&manpath=freebsd-release-ports[byacc(1)] utility has been updated to version 20160324. http://svn.freebsd.org/viewvc/base?view=revision&revision=297276[(r297276)]

The sqlite3 library used by http://www.FreeBSD.org/cgi/man.cgi?query=svnlite&sektion=1&manpath=freebsd-release-ports[svnlite(1)] and http://www.FreeBSD.org/cgi/man.cgi?query=kerberos&sektion=8&manpath=freebsd-release-ports[kerberos(8)] has been updated to version 3.12.1. http://svn.freebsd.org/viewvc/base?view=revision&revision=298161[(r298161)]

libucl has been updated to version 0.8.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=298166[(r298166)]

The http://www.FreeBSD.org/cgi/man.cgi?query=svnlite&sektion=1&manpath=freebsd-release-ports[svnlite(1)] utility has been updated to version 1.9.4. http://svn.freebsd.org/viewvc/base?view=revision&revision=298845[(r298845)]

ACPICA has been updated to version 20160527. http://svn.freebsd.org/viewvc/base?view=revision&revision=300879[(r300879)]

The http://www.FreeBSD.org/cgi/man.cgi?query=libblacklist&sektion=3&manpath=freebsd-release-ports[libblacklist(3)] library and applications have been ported from the NetBSD Project. Packet filtering support for the http://www.FreeBSD.org/cgi/man.cgi?query=pf&sektion=4&manpath=freebsd-release-ports[pf(4)] packet filtering systems has been implemented. The blacklist system provides the blacklistd daemon, the helper script blacklistd-helper to make changes to the running packet filter system and the blacklistctl control program. A selection of system daemons, including: fingerd, ftpd, rlogind, and rshd have been modified to support sending notifications to the blacklistd daemon. http://svn.freebsd.org/viewvc/base?view=revision&revision=301169[(r301169)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=jemalloc&sektion=3&manpath=freebsd-release-ports[jemalloc(3)] library has been updated to version 4.2.1. http://svn.freebsd.org/viewvc/base?view=revision&revision=301718[(r301718)]

Support for the http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=freebsd-release-ports[ipfw(4)] packet filter has been added to the blacklistd-helper script. http://svn.freebsd.org/viewvc/base?view=revision&revision=301736[(r301736)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Support for the http://www.FreeBSD.org/cgi/man.cgi?query=ipfilter&sektion=4&manpath=freebsd-release-ports[ipfilter(4)] packet filter has been added to the blacklistd-helper script. http://svn.freebsd.org/viewvc/base?view=revision&revision=301843[(r301843)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=file&sektion=1&manpath=freebsd-release-ports[file(1)] utility has been updated to version 5.28. http://svn.freebsd.org/viewvc/base?view=revision&revision=302221[(r302221)]

SSHv1 support has been removed from OpenSSH. http://svn.freebsd.org/viewvc/base?view=revision&revision=303716[(r303716)]

Support for DSA is disabled by default in OpenSSH. http://svn.freebsd.org/viewvc/base?view=revision&revision=303719[(r303719)]

OpenSSL has been updated to version 1.0.2i. http://svn.freebsd.org/viewvc/base?view=revision&revision=306198[(r306198)]

[[userland-installer]]
== Installation and Configuration Tools

The http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)] partition editor and http://www.FreeBSD.org/cgi/man.cgi?query=sade&sektion=8&manpath=freebsd-release-ports[sade(8)] utility have been updated to include native ZFS support. http://svn.freebsd.org/viewvc/base?view=revision&revision=271539[(r271539)]

The FreeBSD installation utility, http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)], has been updated to set the `canmount` http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=freebsd-release-ports[zfs(8)] property to `off` for the `/var` dataset, preventing the contents of directories within `/var` from conflicting when using multiple boot environments, such as that provided by `sysutils/beadm`. http://svn.freebsd.org/viewvc/base?view=revision&revision=272274[(r272274)]

The http://www.FreeBSD.org/cgi/man.cgi?query=bsdconfig&sektion=8&manpath=freebsd-release-ports[bsdconfig(8)] utility has been updated to skip the initial http://www.FreeBSD.org/cgi/man.cgi?query=tzsetup&sektion=8&manpath=freebsd-release-ports[tzsetup(8)] UTC versus wall-clock time prompt when run in a virtual machine, determined when the `kern.vm_guest` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] is set to `1`. http://svn.freebsd.org/viewvc/base?view=revision&revision=274394[(r274394)]

The http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)] utility has been updated to use the new http://www.FreeBSD.org/cgi/man.cgi?query=dpv&sektion=3&manpath=freebsd-release-ports[dpv(3)] library to display progress when extracting the FreeBSD distributions. http://svn.freebsd.org/viewvc/base?view=revision&revision=275874[(r275874)]

Support for detecting and implementing aligning partitions on 1Mb boundaries has been added to http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=285557[(r285557)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

Support for detecting and implementing a workaround for various laptops and motherboards that do not boot properly from GPT-partitioned disks has been added to http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)]. Additionally, the `active` flag will be set on the partition when needed. http://svn.freebsd.org/viewvc/base?view=revision&revision=285679[(r285679)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

Support for selecting the partitioning scheme when installing on the UFS filesystem has been added to http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=285679[(r285679)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)] utility now supports a "BIOS+UEFI option during installation, supporting systems with UEFI or BIOS/CSM capability. http://svn.freebsd.org/viewvc/base?view=revision&revision=298243[(r298243)]

The http://www.FreeBSD.org/cgi/man.cgi?query=bsdinstall&sektion=8&manpath=freebsd-release-ports[bsdinstall(8)] utility has been updated to include various system hardening options during installation. http://svn.freebsd.org/viewvc/base?view=revision&revision=303447[(r303447)]

[[userland-rc]]
== [.filename]`/etc/rc.d` Scripts

The http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=freebsd-release-ports[rc(8)] subsystem has been updated to allow configuring services in `${LOCALBASE}/etc/rc.conf.d/`. If `LOCALBASE` is unset, it defaults to `/usr/local`. http://svn.freebsd.org/viewvc/base?view=revision&revision=270676[(r270676)]

A new http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=freebsd-release-ports[rc(8)] script, `growfs`, has been added, which will resize the root filesystem to fill the device on boot if `/firstboot` exists and `growfs_enable` is enabled in http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=freebsd-release-ports[rc.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=273955[(r273955)]

The `mrouted` http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=freebsd-release-ports[rc(8)] script has been removed from the base system. An equivalent script is available from the `net/mrouted` port. http://svn.freebsd.org/viewvc/base?view=revision&revision=275299[(r275299)]

The http://www.FreeBSD.org/cgi/man.cgi?query=service&sektion=8&manpath=freebsd-release-ports[service(8)] utility has been updated to honor entries within `/etc/rc.conf.d/`. http://svn.freebsd.org/viewvc/base?view=revision&revision=287576[(r287576)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

Two new subcommands have been added to the http://www.FreeBSD.org/cgi/man.cgi?query=rc&sektion=8&manpath=freebsd-release-ports[rc(8)] subsystem. `describe` shows an rc script's description, and `extracommands` shows any non-standard commands present in an rc script, like `reload`, `configtest`, or `keygen`. http://svn.freebsd.org/viewvc/base?view=revision&revision=298515[(r298515)]

[[userland-periodic]]
== [.filename]`/etc/periodic` Scripts

The daily http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=freebsd-release-ports[periodic(8)] script `110.clean-tmps` has been updated to avoid crossing filesystem mount boundaries when cleaning files in `/tmp`. http://svn.freebsd.org/viewvc/base?view=revision&revision=271321[(r271321)]

A new http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=freebsd-release-ports[periodic(8)] script, `510.status-world-kernel`, has been added, which evaluates the running userland and kernel versions from the http://www.FreeBSD.org/cgi/man.cgi?query=uname&sektion=1&manpath=freebsd-release-ports[uname(1)] `-U` and `-K` arguments, and prints an error if the system userland and kernel are not in sync. http://svn.freebsd.org/viewvc/base?view=revision&revision=277216[(r277216)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

[[userland-libraries]]
== Runtime Libraries and API

The Blowfish http://www.FreeBSD.org/cgi/man.cgi?query=crypt&sektion=3&manpath=freebsd-release-ports[crypt(3)] default format has been changed to `$2b$`. http://svn.freebsd.org/viewvc/base?view=revision&revision=265995[(r265995)]

The http://www.FreeBSD.org/cgi/man.cgi?query=readline&sektion=3&manpath=freebsd-release-ports[readline(3)] library is now statically linked in software within the base system, and the shared library is no longer installed, allowing the Ports Collection to use a modern version of the library. http://svn.freebsd.org/viewvc/base?view=revision&revision=268461[(r268461)]

The http://www.FreeBSD.org/cgi/man.cgi?query=strptime&sektion=3&manpath=freebsd-release-ports[strptime(3)] library has been updated to add support for POSIX-2001 features `%U` and `%W`. http://svn.freebsd.org/viewvc/base?view=revision&revision=272273[(r272273)]

The http://www.FreeBSD.org/cgi/man.cgi?query=dl_iterate_phdr&sektion=3&manpath=freebsd-release-ports[dl_iterate_phdr(3)] library has been changed to always return the path name of the ELF object in the `dlpi_name` structure member. http://svn.freebsd.org/viewvc/base?view=revision&revision=272848[(r272848)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=libxo&sektion=3&manpath=freebsd-release-ports[libxo(3)] library has been imported to the base system. http://svn.freebsd.org/viewvc/base?view=revision&revision=273562[(r273562)] [.contrib]#(Sponsored by Juniper Networks, Inc.)#

A userland library for Chelsio Terminator 5 based iWARP cards has been added, allowing userland RDMA applications to work over compatible NICs. http://svn.freebsd.org/viewvc/base?view=revision&revision=273806[(r273806)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=gpio&sektion=3&manpath=freebsd-release-ports[gpio(3)] library has been added, providing a wrapper around the http://www.FreeBSD.org/cgi/man.cgi?query=gpio&sektion=4&manpath=freebsd-release-ports[gpio(4)] kernel interface. http://svn.freebsd.org/viewvc/base?view=revision&revision=274987[(r274987)]

The http://www.FreeBSD.org/cgi/man.cgi?query=procctl&sektion=2&manpath=freebsd-release-ports[procctl(2)] system call has been updated to include a facility for non-http://www.FreeBSD.org/cgi/man.cgi?query=init&sektion=8&manpath=freebsd-release-ports[init(8)] processes to be declared as the reaper of child processes and their decendants. http://svn.freebsd.org/viewvc/base?view=revision&revision=275800[(r275800)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `futimens()` and `utimensat()` system calls have been added. See http://www.FreeBSD.org/cgi/man.cgi?query=utimensat&sektion=2&manpath=freebsd-release-ports[utimensat(2)] for more information. http://svn.freebsd.org/viewvc/base?view=revision&revision=277610[(r277610)]

The http://www.FreeBSD.org/cgi/man.cgi?query=elf&sektion=3&manpath=freebsd-release-ports[elf(3)] compile-time dependency has been removed from `dtri.o`, which allows adding DTrace probes to userland applications and libraries without also linking against http://www.FreeBSD.org/cgi/man.cgi?query=elf&sektion=3&manpath=freebsd-release-ports[elf(3)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=278934[(r278934)]

The http://www.FreeBSD.org/cgi/man.cgi?query=setmode&sektion=3&manpath=freebsd-release-ports[setmode(3)] function has been updated to consistently set `errno` on failure. http://svn.freebsd.org/viewvc/base?view=revision&revision=279186[(r279186)]

The http://www.FreeBSD.org/cgi/man.cgi?query=qsort&sektion=3&manpath=freebsd-release-ports[qsort(3)]-related functions have been updated to be able to handle 32-bit aligned data on 64-bit platforms, also providing a significant improvement in 32-bit workloads. http://svn.freebsd.org/viewvc/base?view=revision&revision=279663[(r279663)]

Several standard include headers have been updated to make use of gcc attributes, such as `__result_use_check()`, `__alloc_size()`, and `__nonnull()`. http://svn.freebsd.org/viewvc/base?view=revision&revision=281130[(r281130]]

Support for file verification in MAC has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=281845[(r281845)]

The `libgomp` library is now only built when building GCC from the base system. An up-to-date version is available in the Ports Collection as `devel/libiomp5-devel`. http://svn.freebsd.org/viewvc/base?view=revision&revision=282973[(r282973)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `stdlib.h` and `malloc.h` headers have been updated to make use of the gcc `alloc_align()` attribute. http://svn.freebsd.org/viewvc/base?view=revision&revision=282988[(r282988)]

The Blowfish http://www.FreeBSD.org/cgi/man.cgi?query=crypt&sektion=3&manpath=freebsd-release-ports[crypt(3)] library has been updated to support $2y$ hashes. http://svn.freebsd.org/viewvc/base?view=revision&revision=284483[(r284483)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=execl&sektion=3&manpath=freebsd-release-ports[execl(3)] and http://www.FreeBSD.org/cgi/man.cgi?query=execlp&sektion=3&manpath=freebsd-release-ports[execlp(3)] library functions have been updated to use the `__sentinel` gcc attribute. http://svn.freebsd.org/viewvc/base?view=revision&revision=285277[(r285277)]

[[userland-abi]]
== ABI Compatibility

The Linux(R) compatibility version has been updated to `2.6.18`. The `compat.linux.osrelease` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] is evaluated when building the `emulators/linux-c6` and related ports. http://svn.freebsd.org/viewvc/base?view=revision&revision=271982[(r271982)]

The stack protector has been upgraded to the "strong" level, elevating the protection against buffer overflows. While this significantly improves the security of the system, extensive testing was done to ensure there are no measurable side effects in performance or functionality. http://svn.freebsd.org/viewvc/base?view=revision&revision=288669[(r288669)]

[[kernel]]
== Kernel

This section covers changes to kernel configurations, system tuning, and system control parameters that are not otherwise categorized.

[[kernel-bugfix]]
== Kernel Bug Fixes

A kernel bug that inhibited proper functionality of the `dev.cpu.0.freq` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] on Intel(R) processors with Turbo Boost(TM) enabled has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=265876[(r265876)]

Support for http://www.FreeBSD.org/cgi/man.cgi?query=dtrace&sektion=1&manpath=freebsd-release-ports[dtrace(1)] stack tracing has been fixed for FreeBSD/powerpc, using the `trapexit()` and `asttrapexit()` functions instead of checking within addressed kernel space. http://svn.freebsd.org/viewvc/base?view=revision&revision=271697[(r271697)]

A kernel panic triggered when destroying a http://www.FreeBSD.org/cgi/man.cgi?query=vnet&sektion=9&manpath=freebsd-release-ports[vnet(9)] http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] configured with http://www.FreeBSD.org/cgi/man.cgi?query=gif&sektion=4&manpath=freebsd-release-ports[gif(4)] has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=271917[(r271917)]

A kernel panic triggered when destroying a http://www.FreeBSD.org/cgi/man.cgi?query=vnet&sektion=9&manpath=freebsd-release-ports[vnet(9)] http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] configured with http://www.FreeBSD.org/cgi/man.cgi?query=gre&sektion=4&manpath=freebsd-release-ports[gre(4)] has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=271918[(r271918)]

A bug in http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=freebsd-release-ports[ipfw(4)] that could potentially lead to a kernel panic when using http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&sektion=4&manpath=freebsd-release-ports[dummynet(4)] at layer 2 has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=272089[(r272089)]

The kernel RPC has been updated to include several enhancements: http://svn.freebsd.org/viewvc/base?view=revision&revision=280930[(r280930)] [.contrib]#(Sponsored by MIT Computer Science & Artificial Intelligence Laboratory)#

* The 45 MiB limit on requests queued for http://www.FreeBSD.org/cgi/man.cgi?query=nfsd&sektion=8&manpath=freebsd-release-ports[nfsd(8)] threads has been removed.
* Avoids unnecessary throttling by not deferring accounting for completed requests.
* Fixes an integer overflow and signedness bugs.

Support for http://www.FreeBSD.org/cgi/man.cgi?query=dtrace&sektion=1&manpath=freebsd-release-ports[dtrace(1)] has been added for the PowerPC Book-E(TM). http://svn.freebsd.org/viewvc/base?view=revision&revision=281261[(r281261)]

The http://www.FreeBSD.org/cgi/man.cgi?query=kqueue&sektion=2&manpath=freebsd-release-ports[kqueue(2)] system call has been updated to handle write events to files larger than 2 gigabytes. http://svn.freebsd.org/viewvc/base?view=revision&revision=287886[(r287886)] [.contrib]#(Sponsored by Multiplay)#

[[kernel-config]]
== Kernel Configuration

The `IMAGACT_BINMISC` kernel configuration option has been enabled by default, which enables application execution through emulators, such as QEMU via http://www.FreeBSD.org/cgi/man.cgi?query=binmiscctl&sektion=8&manpath=freebsd-release-ports[binmiscctl(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=266531[(r266531)]

The `VT` kernel configuration file has been removed, and the http://www.FreeBSD.org/cgi/man.cgi?query=vt&sektion=4&manpath=freebsd-release-ports[vt(4)] driver is included in the `GENERIC` kernel. To enable http://www.FreeBSD.org/cgi/man.cgi?query=vt&sektion=4&manpath=freebsd-release-ports[vt(4)], enter `set kern.vty=vt` at the http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=freebsd-release-ports[loader(8)] prompt during boot, or add `kern.vty=vt` to http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)] and reboot the system. http://svn.freebsd.org/viewvc/base?view=revision&revision=268045[(r268045)]

The http://www.FreeBSD.org/cgi/man.cgi?query=config&sektion=8&manpath=freebsd-release-ports[config(8)] utility has been updated to allow using a non-standard `src/` tree, specified as an argument to the `-s` flag. http://svn.freebsd.org/viewvc/base?view=revision&revision=277904[(r277904)]

The FreeBSD/powerpc64 kernel now builds as a position-independent executable, allowing the kernel to be loaded into and run from any physical or virtual address. http://svn.freebsd.org/viewvc/base?view=revision&revision=277990[(r277990)]

[.important]
*Important*: +
This change requires an update to http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=freebsd-release-ports[loader(8)]. The userland and kernel must be updated before rebooting the system.

A new module for creating `rpi.dtb` has been added for the Raspberry Pi. http://svn.freebsd.org/viewvc/base?view=revision&revision=278338[(r278338)]

{empty}[arm] The `rpi.dtb` module is now installed to `/boot/dtb/` by default for the Raspberry Pi system. http://svn.freebsd.org/viewvc/base?view=revision&revision=278340[(r278340)]

Kernel support for Vector-Scalar eXtension (VSX) found on POWER7 and POWER8 hardware has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=279189[(r279189)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=pmap&sektion=9&manpath=freebsd-release-ports[pmap(9)] implementation for 64-bit PowerPC(R) processors has been overhaulded to improve concurrency. http://svn.freebsd.org/viewvc/base?view=revision&revision=279252[(r279252)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

A new module for creating the `dtb` module for ARM AM335x systems has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=279824[(r279824)]

The `PAE_TABLES` kernel configuration option has been added for FreeBSD/i386, which instructs http://www.FreeBSD.org/cgi/man.cgi?query=pmap&sektion=9&manpath=freebsd-release-ports[pmap(9)] to use PAE format for page tables while maintaining a 32-bit physical address size elsewhere in the kernel. The use of this option can enhance application-level security by enabling the creation of "no execute" mappings on modern i386 processors. Unlike the `PAE` option, `PAE_TABLES` preserves kernel binary interface (KBI) compatibility with non-`PAE` kernels, allowing non-`PAE` kernel modules and drivers to work with a `PAE_TABLES`-enabled kernel. Additionally, system limits are tuned for 4GB maximum RAM, avoiding kernel virtual address space (KVA) exhaustion. http://svn.freebsd.org/viewvc/base?view=revision&revision=281495[(r281495)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `SIFTR` kernel configuration has been added, allowing building http://www.FreeBSD.org/cgi/man.cgi?query=siftr&sektion=4&manpath=freebsd-release-ports[siftr(4)] statically into the kernel. http://svn.freebsd.org/viewvc/base?view=revision&revision=282215[(r282215)]

The ARM boot loader, `ubldr`, is now relocatable. In addition, `ubldr.bin` is now created during build time, which is a stripped binary with an entry point of `0`, providing the ability to specify the load address by running `go ${loadaddr}` in `u-boot`. http://svn.freebsd.org/viewvc/base?view=revision&revision=282731[(r282731)]

[amd64,i386] The http://www.FreeBSD.org/cgi/man.cgi?query=nvd&sektion=4&manpath=freebsd-release-ports[nvd(4)] and http://www.FreeBSD.org/cgi/man.cgi?query=nvme&sektion=4&manpath=freebsd-release-ports[nvme(4)] drivers are now included in the `GENERIC` kernel configuration by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=282921[(r282921)] [.contrib]#(Sponsored by Intel Corporation)#

A new kernel configuration option, `EM_MULTIQUEUE`, has been added which enables multi-queue support in the http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=freebsd-release-ports[em(4)] driver. http://svn.freebsd.org/viewvc/base?view=revision&revision=283959[(r283959)] [.contrib]#(Sponsored by Limelight Networks)#

[.note]
*Note*: +
Multi-queue support in the http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=freebsd-release-ports[em(4)] driver is not officially supported by Intel(R).

The `GENERIC` kernel configuration has been updated to include the `IPSEC` option by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=285142[(r285142)] [.contrib]#(Sponsored by Netgate)#

Initial NUMA affinity and policy configuration has been added. See http://www.FreeBSD.org/cgi/man.cgi?query=numactl&sektion=1&manpath=freebsd-release-ports[numactl(1)], and http://www.FreeBSD.org/cgi/man.cgi?query=numa_getaffinity&sektion=2&manpath=freebsd-release-ports[numa_getaffinity(2)], for usage details. http://svn.freebsd.org/viewvc/base?view=revision&revision=285387[(r285387)] [.contrib]#(Sponsored by Norse Corporation, Dell, Inc.)#

[.note]
*Note*: +
If the system BIOS generates an invalid ACPI SRAT table, the kernel will ignore it, effectively disabling NUMA. If dmesg shows "SRAT: Duplicate local APIC ID", try updating the BIOS to fix NUMA support.

Support for running CloudABI executables on amd64 and arm64 has been added. CloudABI is a runtime environment that uses capability-based security exclusively, similar to http://www.FreeBSD.org/cgi/man.cgi?query=capsicum&sektion=4&manpath=freebsd-release-ports[capsicum(4)] always being enabled. It allows designing, implementing and testing strongly sandboxed applications more easily. http://svn.freebsd.org/viewvc/base?view=revision&revision=285307[(r285307)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pms&sektion=4&manpath=freebsd-release-ports[pms(4)] driver has been added to the `GENERIC` kernel configuration for supported architectures. http://svn.freebsd.org/viewvc/base?view=revision&revision=286231[(r286231)]

The `CUBIEBOARD2` kernel configuration has been renamed to `A20` to add support for other boards with the `A20` processor, such as the Banana Pi. http://svn.freebsd.org/viewvc/base?view=revision&revision=287306[(r287306)]

Kernel debugging symbols are now installed to `/usr/lib/debug/boot/kernel/`. To retain the previous behavior, add `KERN_DEBUGDIR=""` to http://www.FreeBSD.org/cgi/man.cgi?query=src.conf&sektion=5&manpath=freebsd-release-ports[src.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=288176[(r288176)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Support for POSIX asynchronous I/O is now included in the kernel by default. The `VFS_AIO` kernel option and `aio.ko` kernel module have been removed. Asynchronous I/O operations on sockets, local files, and disk devices are permitted by default. However, operations on other file types are disabled. See the http://www.FreeBSD.org/cgi/man.cgi?query=aio&sektion=4&manpath=freebsd-release-ports[aio(4)] manual page for more details. http://svn.freebsd.org/viewvc/base?view=revision&revision=296277[(r296277)] [.contrib]#(Sponsored by Chelsio Communications)#

[arm64] arm64 has been switched over to using `INTRNG` by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=301565[(r301565)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

[[kernel-sysctl]]
== System Tuning and Controls

The http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=freebsd-release-ports[hwpmc(4)] default and maximum callchain depths have been increased. The default has been increased from 16 to 32, and the maximum increased from 32 to 128. http://svn.freebsd.org/viewvc/base?view=revision&revision=275140[(r275140)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `kern.osrelease` and `kern.osreldate` are now configurable http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=freebsd-release-ports[jail(8)] parameters. http://svn.freebsd.org/viewvc/base?view=revision&revision=279361[(r279361)]

The http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=freebsd-release-ports[devfs(5)] device filesystem has been changed to update timestamps for read/write operations using seconds precision. A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `vfs.devfs.dotimes` has been added, which when set to a non-zero value, enables default precision timestamps for these operations. http://svn.freebsd.org/viewvc/base?view=revision&revision=280949[(r280949)] [.contrib]#(Sponsored by iXsystems, The FreeBSD Foundation)#

A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `kern.racct.enable`, has been added, which when set to a non-zero value allows using http://www.FreeBSD.org/cgi/man.cgi?query=rctl&sektion=8&manpath=freebsd-release-ports[rctl(8)] with the `GENERIC` kernel. A new kernel configuration option, `RACCT_DISABLED` has also been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=282213[(r282213)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The `GENERIC` kernel configuration now includes `RACCT` and `RCTL` by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=282901[(r282901)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

[.note]
*Note*: +
To enable `RACCT` and `RCTL` on a system using the `GENERIC` kernel configuration, add `kern.racct.enable=1` to http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)], and reboot the system.

A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `net.inet.tcp.hostcache.purgenow`, has been added, which when set to `1` during runtime will flush all `net.inet.tcp.hostcache` entries. http://svn.freebsd.org/viewvc/base?view=revision&revision=283136[(r283136)] [.contrib]#(Sponsored by Limelight Networks)#

A new http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], `hw.model`, has been added, which displays CPU model information. http://svn.freebsd.org/viewvc/base?view=revision&revision=285524[(r285524)]

The http://www.FreeBSD.org/cgi/man.cgi?query=uart&sektion=4&manpath=freebsd-release-ports[uart(4)] driver has been updated to allow tuning pulses per second captured in the CTS line during runtime, whereas previously only the DCD line could be used without rebuilding the kernel. http://svn.freebsd.org/viewvc/base?view=revision&revision=286591[(r286591)]

[[drivers]]
== Devices and Drivers

This section covers changes and additions to devices and device drivers since 10.3-RELEASE.

[[drivers-device]]
== Device Drivers

Support for GPS ports has been added to http://www.FreeBSD.org/cgi/man.cgi?query=uhso&sektion=4&manpath=freebsd-release-ports[uhso(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=260903[(r260903)]

The http://www.FreeBSD.org/cgi/man.cgi?query=full&sektion=4&manpath=freebsd-release-ports[full(4)] device has been added, and the `lindev(4)` device has been removed. Prior to this change, `lindev(4)` provided only the `/dev/full` character device, returning `ENOSPC` on write attempts. As this device is not specific to Linux(R), a native FreeBSD version has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=265132[(r265132)]

Hardware context support has been added to the `drm/i915` driver, adding support for Mesa 9.2 and later. http://svn.freebsd.org/viewvc/base?view=revision&revision=271705[(r271705)]

The http://www.FreeBSD.org/cgi/man.cgi?query=vt&sektion=4&manpath=freebsd-release-ports[vt(4)] driver has been updated, replacing the bitmapped `kern.vt.spclkeys` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] with individual `kern.vt.kbd_*` variants. http://svn.freebsd.org/viewvc/base?view=revision&revision=273178[(r273178)]

The http://www.FreeBSD.org/cgi/man.cgi?query=hpet&sektion=4&manpath=freebsd-release-ports[hpet(4)] driver has been updated to create a `/dev/hpetN` device, providing access to HPET from userspace. http://svn.freebsd.org/viewvc/base?view=revision&revision=273598[(r273598)]

The `drm` code has been updated to match Linux(R) version 3.8.13. http://svn.freebsd.org/viewvc/base?view=revision&revision=280183[(r280183)]

The http://www.FreeBSD.org/cgi/man.cgi?query=psm&sektion=4&manpath=freebsd-release-ports[psm(4)] driver has been updated to include improved support for newer Synaptics(R)  touchpads and the ClickPad(R) mouse on newer Lenovo(TM) laptops. http://svn.freebsd.org/viewvc/base?view=revision&revision=281440[(r281440)]

Support for the Freescale PCI Root Complex device has been added to FreeBSD/powerpc. http://svn.freebsd.org/viewvc/base?view=revision&revision=282783[(r282783)]

The http://www.FreeBSD.org/cgi/man.cgi?query=cyapa&sektion=4&manpath=freebsd-release-ports[cyapa(4)] driver has been added, supporting the Cypress APA I2C trackpad. http://svn.freebsd.org/viewvc/base?view=revision&revision=285876[(r285876)]

The http://www.FreeBSD.org/cgi/man.cgi?query=isl&sektion=4&manpath=freebsd-release-ports[isl(4)] driver has been added, supporting the Intersil I2C ISL29018 digital ambient light sensor. http://svn.freebsd.org/viewvc/base?view=revision&revision=285883[(r285883)]

[[drivers-storage]]
== Storage Drivers

The http://www.FreeBSD.org/cgi/man.cgi?query=mpr&sektion=4&manpath=freebsd-release-ports[mpr(4)] device has been added, providing support for LSI Fusion-MPT 3 12Gb SCSI/SATA controllers. http://svn.freebsd.org/viewvc/base?view=revision&revision=265236[(r265236)] [.contrib]#(Sponsored by LSI, Spectra Logic)#

The http://www.FreeBSD.org/cgi/man.cgi?query=mrsas&sektion=4&manpath=freebsd-release-ports[mrsas(4)] driver has been added, providing support for LSI MegaRAID SAS controllers. The http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=freebsd-release-ports[mfi(4)] driver will attach to the controller, by default. To enable http://www.FreeBSD.org/cgi/man.cgi?query=mrsas&sektion=4&manpath=freebsd-release-ports[mrsas(4)] add `hw.mfi.mrsas_enable=1` to `/boot/loader.conf`, which turns off http://www.FreeBSD.org/cgi/man.cgi?query=mfi&sektion=4&manpath=freebsd-release-ports[mfi(4)] device probing. http://svn.freebsd.org/viewvc/base?view=revision&revision=265555[(r265555)] [.contrib]#(Sponsored by LSI)#

[.note]
*Note*: +
At this time, the http://www.FreeBSD.org/cgi/man.cgi?query=mfiutil&sektion=8&manpath=freebsd-release-ports[mfiutil(8)] utility and the FreeBSD version of MegaCLI and StorCli do not work with http://www.FreeBSD.org/cgi/man.cgi?query=mrsas&sektion=4&manpath=freebsd-release-ports[mrsas(4)].

The http://www.FreeBSD.org/cgi/man.cgi?query=ctl&sektion=4&manpath=freebsd-release-ports[ctl(4)] subsystem has been updated, increasing the ports limit from `128` to `256`, and LUN limit from `256` to `1024`. http://svn.freebsd.org/viewvc/base?view=revision&revision=275461[(r275461)] [.contrib]#(Sponsored by iXsystems)#

The `asr(4)` driver has been removed, and is no longer supported. http://svn.freebsd.org/viewvc/base?view=revision&revision=276526[(r276526)]

The http://www.FreeBSD.org/cgi/man.cgi?query=hptnr&sektion=4&manpath=freebsd-release-ports[hptnr(4)] driver has been updated to version 1.1.1. http://svn.freebsd.org/viewvc/base?view=revision&revision=281387[(r281387)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pms&sektion=4&manpath=freebsd-release-ports[pms(4)] driver has been added, providing support for the PMC Sierra line of SAS/SATA host bus adapters. http://svn.freebsd.org/viewvc/base?view=revision&revision=285662[(r285662)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ioat&sektion=4&manpath=freebsd-release-ports[ioat(4)] driver has been added, providing support for the PSE (Platform Storage Extension). http://svn.freebsd.org/viewvc/base?view=revision&revision=287117[(r287117)] [.contrib]#(Sponsored by EMC / Isilon Storage Division)#

The CTL High Availability implementation has been rewritten. http://svn.freebsd.org/viewvc/base?view=revision&revision=287621[(r287621)] [.contrib]#(Sponsored by iXsystems)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ctl&sektion=4&manpath=freebsd-release-ports[ctl(4)] driver has been updated to support CD-ROM and removable devices. http://svn.freebsd.org/viewvc/base?view=revision&revision=288310[(r288310)]

The http://www.FreeBSD.org/cgi/man.cgi?query=isp&sektion=4&manpath=freebsd-release-ports[isp(4)] driver has been updated and improved: added support for 16Gbps FC cards, improved target mode support, completed Multi-ID (NPIV) functionality. [.contrib]#(Sponsored by iXsystems)#

[[drivers-network]]
== Network Drivers

Support for Broadcom chipsets BCM57764, BCM57767, BCM57782, BCM57786 and BCM57787 has been added to http://www.FreeBSD.org/cgi/man.cgi?query=bge&sektion=4&manpath=freebsd-release-ports[bge(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=258830[(r258830)]

The deprecated nve(4) driver has been removed. Users of NVIDIA nForce MCP network adapters are advised to use the http://www.FreeBSD.org/cgi/man.cgi?query=nfe&sektion=4&manpath=freebsd-release-ports[nfe(4)] driver instead, which has been the default driver for this hardware since FreeBSD 7.0. http://svn.freebsd.org/viewvc/base?view=revision&revision=261975[(r261975)]

The `if_nf10bmac(4)` device has been added, providing support for NetFPGA-10G Embedded CPU Ethernet Core. http://svn.freebsd.org/viewvc/base?view=revision&revision=264601[(r264601)] [.contrib]#(Sponsored by DARPA, AFRL)#

[.note]
*Note*: +
The `if_nf10bmac(4)` driver operates on the FPGA, and is not suited for the PCI host interface.

The http://www.FreeBSD.org/cgi/man.cgi?query=ath_hal&sektion=4&manpath=freebsd-release-ports[ath_hal(4)] driver has been updated to support the Atheros AR1111 chipset. http://svn.freebsd.org/viewvc/base?view=revision&revision=265348[(r265348)] [.contrib]#(Sponsored by Netgate)#

The http://www.FreeBSD.org/cgi/man.cgi?query=iwn&sektion=4&manpath=freebsd-release-ports[iwn(4)] driver was added, providing support for the Intel(R) Centrino(TM) Wireless-N 105 and 135 chipsets. http://svn.freebsd.org/viewvc/base?view=revision&revision=266770[(r266770)]

Support for the http://www.FreeBSD.org/cgi/man.cgi?query=cxgbe&sektion=4&manpath=freebsd-release-ports[cxgbe(4)] Terminator 5 (T5) 10G/40G cards has been added to http://www.FreeBSD.org/cgi/man.cgi?query=netmap&sektion=4&manpath=freebsd-release-ports[netmap(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=266757[(r266757)] [.contrib]#(Sponsored by Chelsio Communications)#

The http://www.FreeBSD.org/cgi/man.cgi?query=alc&sektion=4&manpath=freebsd-release-ports[alc(4)] driver has been updated to support AR816x and AR817x ethernet controllers. http://svn.freebsd.org/viewvc/base?view=revision&revision=272730[(r272730)]

The http://www.FreeBSD.org/cgi/man.cgi?query=pf&sektion=4&manpath=freebsd-release-ports[pf(4)] packet filter default hash has been changed from `Jenkins` to `Murmur3`, providing a 3-percent performance increase in packets-per-second. http://svn.freebsd.org/viewvc/base?view=revision&revision=272906[(r272906)]

The http://www.FreeBSD.org/cgi/man.cgi?query=vxlan&sektion=4&manpath=freebsd-release-ports[vxlan(4)] driver has been added, which creates a virtual Layer 2 (Ethernet) network overlaid in a Layer 3 (IP/UDP) network. The http://www.FreeBSD.org/cgi/man.cgi?query=vxlan&sektion=4&manpath=freebsd-release-ports[vxlan(4)] driver is analogous to http://www.FreeBSD.org/cgi/man.cgi?query=vlan&sektion=4&manpath=freebsd-release-ports[vlan(4)], but is designed to be better suited for large, multiple-tenant datacenter environments. http://svn.freebsd.org/viewvc/base?view=revision&revision=273331[(r273331)]

The http://www.FreeBSD.org/cgi/man.cgi?query=gre&sektion=4&manpath=freebsd-release-ports[gre(4)] driver has been significantly overhauled, and has been split into two separate modules, http://www.FreeBSD.org/cgi/man.cgi?query=gre&sektion=4&manpath=freebsd-release-ports[gre(4)] and http://www.FreeBSD.org/cgi/man.cgi?query=me&sektion=4&manpath=freebsd-release-ports[me(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=274246[(r274246)] [.contrib]#(Sponsored by Yandex LLC)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ral&sektion=4&manpath=freebsd-release-ports[ral(4)] driver has been updated to support the RT5390 and RT5392 chipsets. http://svn.freebsd.org/viewvc/base?view=revision&revision=278551[(r278551)]

The http://www.FreeBSD.org/cgi/man.cgi?query=sfxge&sektion=4&manpath=freebsd-release-ports[sfxge(4)] driver has been updated to support Solarflare Flareon Ultra 7000-series chipsets. http://svn.freebsd.org/viewvc/base?view=revision&revision=283514[(r283514)] [.contrib]#(Sponsored by Solarflare Communications, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=freebsd-release-ports[em(4)] driver has been updated with improved transmission queue hang detection. http://svn.freebsd.org/viewvc/base?view=revision&revision=283923[(r283923)] [.contrib]#(Sponsored by Limelight Networks)#

The http://www.FreeBSD.org/cgi/man.cgi?query=cdce&sektion=4&manpath=freebsd-release-ports[cdce(4)] driver has been updated to include support for the RTL8153 chipset. http://svn.freebsd.org/viewvc/base?view=revision&revision=284125[(r284125)]

The http://www.FreeBSD.org/cgi/man.cgi?query=iwm&sektion=4&manpath=freebsd-release-ports[iwm(4)] driver has been imported from OpenBSD, providing support for Intel(R) 3160/7260/7265 wireless chipsets. http://svn.freebsd.org/viewvc/base?view=revision&revision=286441[(r286441)]

The http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=freebsd-release-ports[em(4)] driver has been updated to allow disabling CRC stripping. http://svn.freebsd.org/viewvc/base?view=revision&revision=286829[(r286829)] [.contrib]#(Sponsored by Limelight Networks)#

The http://www.FreeBSD.org/cgi/man.cgi?query=pf&sektion=4&manpath=freebsd-release-ports[pf(4)] implementation has been updated to remove support for the `scrub fragment       crop|drop-ovl` filtering rule. Systems with this rule in http://www.FreeBSD.org/cgi/man.cgi?query=pf.conf&sektion=5&manpath=freebsd-release-ports[pf.conf(5)] will implicitly be converted to the `scrub fragment reassemble` filtering rule, without necessary intervention. http://svn.freebsd.org/viewvc/base?view=revision&revision=287222[(r287222)]

The http://www.FreeBSD.org/cgi/man.cgi?query=lagg&sektion=4&manpath=freebsd-release-ports[lagg(4)] driver has been updated to remove support for the `fec` protocol. http://svn.freebsd.org/viewvc/base?view=revision&revision=288654[(r288654)]

The http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&sektion=4&manpath=freebsd-release-ports[dummynet(4)] driver has been updated to include support for AQM (Active Queue Management), adding support for PIE (Proportional Integral controller Enhanced) and FQ-PIE (Fair Queueing Proportional Integral controller Enhanced). http://svn.freebsd.org/viewvc/base?view=revision&revision=300779[(r300779)]

[[hardware]]
== Hardware Support

This section covers general hardware support for physical machines, hypervisors, and virtualization environments, as well as hardware changes and updates that do not otherwise fit in other sections of this document.

[[hardware-support]]
== Hardware Support

The http://www.FreeBSD.org/cgi/man.cgi?query=asmc&sektion=4&manpath=freebsd-release-ports[asmc(4)] driver has been updated to support the Apple(R) MacMini 3,1. http://svn.freebsd.org/viewvc/base?view=revision&revision=268303[(r268303)]

Support for FreeBSD/ia64 (Itanium) has been dropped as of FreeBSD 11. http://svn.freebsd.org/viewvc/base?view=revision&revision=268351[(r268351)]

An issue that could cause a system to hang when entering ACPI `S3` state (suspend to RAM) has been corrected in the http://www.FreeBSD.org/cgi/man.cgi?query=acpi&sektion=4&manpath=freebsd-release-ports[acpi(4)] and http://www.FreeBSD.org/cgi/man.cgi?query=pci&sektion=4&manpath=freebsd-release-ports[pci(4)] drivers. http://svn.freebsd.org/viewvc/base?view=revision&revision=274386[(r274386)]

The power management unit subsystem has been updated to support power button events on certain PowerPC hardware, such as aluminum PowerBook  . http://svn.freebsd.org/viewvc/base?view=revision&revision=274733[(r274733)]

The http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=freebsd-release-ports[hwpmc(4)] driver has been updated to correct performance counter sampling on PowerPC G4 (MPC74xxx) and G5 class processors. http://svn.freebsd.org/viewvc/base?view=revision&revision=275190[(r275190)]

The OpenCrypto framework has been updated to include `AES-ICM` and `AES-GCM` modes, both of which have also been added to the http://www.FreeBSD.org/cgi/man.cgi?query=aesni&sektion=4&manpath=freebsd-release-ports[aesni(4)] driver. http://svn.freebsd.org/viewvc/base?view=revision&revision=275732[(r275732)] [.contrib]#(Sponsored by The FreeBSD Foundation,Netgate)#

{empty}[powerpc] The http://www.FreeBSD.org/cgi/man.cgi?query=hwpmc&sektion=4&manpath=freebsd-release-ports[hwpmc(4)] driver has been updated to support the Freescale e500 core. http://svn.freebsd.org/viewvc/base?view=revision&revision=281713[(r281713)]

The http://www.FreeBSD.org/cgi/man.cgi?query=ig4&sektion=4&manpath=freebsd-release-ports[ig4(4)] driver has been added, providing support for the fourth generation Intel(R) I2C SMBus. http://svn.freebsd.org/viewvc/base?view=revision&revision=283766[(r283766)]

The http://www.FreeBSD.org/cgi/man.cgi?query=uart&sektion=4&manpath=freebsd-release-ports[uart(4)] driver has been updated to support AMT devices on newer systems.

[arm64] Initial SMP support has been added to the FreeBSD/arm64 port. http://svn.freebsd.org/viewvc/base?view=revision&revision=285316[(r285316)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=enc&sektion=4&manpath=freebsd-release-ports[enc(4)] driver has updated to allow creating an interface via http://www.FreeBSD.org/cgi/man.cgi?query=kldload&sektion=8&manpath=freebsd-release-ports[kldload(8)] during runtime without requiring additional kernel and/or userland changes. http://svn.freebsd.org/viewvc/base?view=revision&revision=291292[(r291292)] [.contrib]#(Sponsored by Yandex LLC)#

The `dtsec(4)` driver for Freescale QorIQ SoCs has been added, supporting P2041, P3041, P5010, and P5020 systems. http://svn.freebsd.org/viewvc/base?view=revision&revision=296177[(r296177)]

Freescale PowerQUICC and QorIQ systems now support larger address spaces, equivalent to PAE mode on i386. http://svn.freebsd.org/viewvc/base?view=revision&revision=297001[(r297001)]

The e500mc and e5500 PowerPC cores are now supported, supporting most QorIQ systems. http://svn.freebsd.org/viewvc/base?view=revision&revision=297977[(r297977)]

SMP for Multicore Freescale QorIQ systems now works correctly for SoCs with the AP cores in boot holdoff mode (not in spinloop wait mode). http://svn.freebsd.org/viewvc/base?view=revision&revision=298237[(r298237)]

Native PCI-express HotPlug support is enabled by default on amd64, arm64, and powerpc. This feature has exposed compatibility issues on some hardware that result in missing devices or a hang during boot. To work around such issues, run `set       hw.pci.enable_pcie_hp=0` in the boot loader, and add `hw.pci.enable_pcie_hp=0` to `/boot/loader.conf`. http://svn.freebsd.org/viewvc/base?view=revision&revision=299142[(r299142)]

[[hardware-virtualization]]
== Virtualization Support

Support for the "Virtual Interrupt Delivery" feature of Intel(R) VT-x is enabled if supported by the CPU. This feature can be disabled by running `sysctl hw.vmm.vmx.use_apic_vid=0`. Additionally, to persist this setting across reboots, add `hw.vmm.vmx.use_apic_vid=0` to `/etc/sysctl.conf`. http://svn.freebsd.org/viewvc/base?view=revision&revision=260410[(r260410)]

Support for "Posted Interrupt Processing" is enabled if supported by the CPU. This feature can be disabled by running `sysctl       hw.vmm.vmx.use_apic_pir=0`. Additionally, to persist this setting across reboots, add `hw.vmm.vmx.use_apic_pir=0` to `/etc/sysctl.conf`. http://svn.freebsd.org/viewvc/base?view=revision&revision=260532[(r260532)]

Unmapped IO support has been added to http://www.FreeBSD.org/cgi/man.cgi?query=virtio_blk&sektion=4&manpath=freebsd-release-ports[virtio_blk(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=260582[(r260582)]

Unmapped IO support has been added to http://www.FreeBSD.org/cgi/man.cgi?query=virtio_scsi&sektion=4&manpath=freebsd-release-ports[virtio_scsi(4)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=260583[(r260583)]

The http://www.FreeBSD.org/cgi/man.cgi?query=virtio_random&sektion=4&manpath=freebsd-release-ports[virtio_random(4)] driver has been added to harvest entropy from the host system. http://svn.freebsd.org/viewvc/base?view=revision&revision=260847[(r260847)]

FreeBSD/i386 guests can be run under bhyve. http://svn.freebsd.org/viewvc/base?view=revision&revision=261504[(r261504)]

Support for running a FreeBSD/amd64 Xen guest instance as PVH guest has been added. PVH mode, short for "Para-Virtualized Hardware", uses para-virtualized drivers for boot and I/O, and uses hardware virtualization extensions for all other tasks, without the need for emulation. http://svn.freebsd.org/viewvc/base?view=revision&revision=267536[(r267536)] [.contrib]#(Sponsored by Citrix Systems R&D)#

The http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=8&manpath=freebsd-release-ports[bhyve(8)] hypervisor has been updated to support AMD(R) processors with SVM and AMD-V hardware extensions. http://svn.freebsd.org/viewvc/base?view=revision&revision=273375[(r273375)]

The http://www.FreeBSD.org/cgi/man.cgi?query=virtio_console&sektion=4&manpath=freebsd-release-ports[virtio_console(4)] driver has been added, which provides an interface to VirtIO console devices through a http://www.FreeBSD.org/cgi/man.cgi?query=tty&sektion=4&manpath=freebsd-release-ports[tty(4)] device. http://svn.freebsd.org/viewvc/base?view=revision&revision=273515[(r273515)]

Support for PCI Single Root I/O Virtualization (SR-IOV) has been introduced, allowing the creation of PCI Virtual Functions (VFs) for device drivers that support SR-IOV. See http://www.FreeBSD.org/cgi/man.cgi?query=iovctl&sektion=8&manpath=freebsd-release-ports[iovctl(8)] for details on creating and configuring VFs. http://svn.freebsd.org/viewvc/base?view=revision&revision=279463[(r279463)] [.contrib]#(Sponsored by Sandvine, Inc.)#

The http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=8&manpath=freebsd-release-ports[bhyve(8)] hypervisor has been updated to support `DSM TRIM` commands for virtual AHCI disks. http://svn.freebsd.org/viewvc/base?view=revision&revision=279957[(r279957)]

{empty}[arm] Support for the QEMU `virt` system has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=281439[(r281439)]

The Hyper-V(TM) drivers have been updated with several enhancements: http://svn.freebsd.org/viewvc/base?view=revision&revision=282212[(r282212)] [.contrib]#(Sponsored by Microsoft Open Source Technology Center)#

* The http://www.FreeBSD.org/cgi/man.cgi?query=hv_vmbus&sektion=4&manpath=freebsd-release-ports[hv_vmbus(4)] driver now has multi-channel support.
* The http://www.FreeBSD.org/cgi/man.cgi?query=hv_storvsc&sektion=4&manpath=freebsd-release-ports[hv_storvsc(4)] driver now has scatter/gather support, in addition to performance improvements.
* The http://www.FreeBSD.org/cgi/man.cgi?query=hv_kvp&sektion=4&manpath=freebsd-release-ports[hv_kvp(4)] driver has received several bug fixes.

Support for http://www.FreeBSD.org/cgi/man.cgi?query=xen&sektion=4&manpath=freebsd-release-ports[xen(4)] para-virtualized `domU` kernels has been removed. http://svn.freebsd.org/viewvc/base?view=revision&revision=282274[(r282274)]

The http://www.FreeBSD.org/cgi/man.cgi?query=hv_netvsc&sektion=4&manpath=freebsd-release-ports[hv_netvsc(4)] driver has been updated to support checksum offloading and TSO. http://svn.freebsd.org/viewvc/base?view=revision&revision=284746[(r284746)] [.contrib]#(Sponsored by Microsoft Open Source Technology Center)#

The http://www.FreeBSD.org/cgi/man.cgi?query=xen&sektion=4&manpath=freebsd-release-ports[xen(4)] blkfront driver has been updated to include support for `blkif` indirect segment I/O. http://svn.freebsd.org/viewvc/base?view=revision&revision=286062[(r286062)]

Indirect segment I/O is enabled by default in the Xen blkfront driver when running on AWS EC2. http://svn.freebsd.org/viewvc/base?view=revision&revision=302288[(r302288)]

Native graphics support has been added to the http://www.FreeBSD.org/cgi/man.cgi?query=bhyve&sektion=8&manpath=freebsd-release-ports[bhyve(8)] hypervisor. http://svn.freebsd.org/viewvc/base?view=revision&revision=302332[(r302332)]

[[hardware-arm]]
== ARM Support

The http://www.FreeBSD.org/cgi/man.cgi?query=nand&sektion=4&manpath=freebsd-release-ports[nand(4)] device is enabled for ARM devices by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=260921[(r260921)]

Support for the Exynos 5420 Octa system has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=266943[(r266943)]

The SMP option has been enabled for all Exynos 5 systems supported by FreeBSD. http://svn.freebsd.org/viewvc/base?view=revision&revision=267390[(r267390)]

Support for the Toradex Apalis i.MX6 development board has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=268838[(r268838)]

An issue that could cause instability when detecting SD cards on the Raspberry Pi SOC has been fixed. http://svn.freebsd.org/viewvc/base?view=revision&revision=273264[(r273264)]

The `bcm2835_cpufreq` driver has been added, which supports CPU frequency and voltage control on the Raspberry Pi SOC. http://svn.freebsd.org/viewvc/base?view=revision&revision=275963[(r275963)]

Support to turn off the BeagleBone Black system with the http://www.FreeBSD.org/cgi/man.cgi?query=shutdown&sektion=8&manpath=freebsd-release-ports[shutdown(8)] `-p` flag or by invoking http://www.FreeBSD.org/cgi/man.cgi?query=poweroff&sektion=8&manpath=freebsd-release-ports[poweroff(8)] has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=277042[(r277042)]

Audio transmission drivers have been added for Digital Audio Multiplexer (AUDMUXM), Smart Direct Memory Access Controller (SDMA), and Syncronous Serial Interface (SSI). http://svn.freebsd.org/viewvc/base?view=revision&revision=277644[(r277644)]

Initial support for the ARM AArch64 architecture has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=280259[(r280259)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Kernel support for Thumb-2 userland has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=282779[(r282779)]

Support for the hardware power button on the BeagleBone Black system has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=282827[(r282827)]

Initial ACPI support has been added for FreeBSD/arm64. http://svn.freebsd.org/viewvc/base?view=revision&revision=284273[(r284273)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Support for 1-Wire devices has been added, providing support for 1-Wire hardware through http://www.FreeBSD.org/cgi/man.cgi?query=gpio&sektion=4&manpath=freebsd-release-ports[gpio(4)]. See http://www.FreeBSD.org/cgi/man.cgi?query=ow&sektion=4&manpath=freebsd-release-ports[ow(4)], http://www.FreeBSD.org/cgi/man.cgi?query=owc&sektion=4&manpath=freebsd-release-ports[owc(4)], and http://www.FreeBSD.org/cgi/man.cgi?query=ow_temp&sektion=4&manpath=freebsd-release-ports[ow_temp(4)] for more information. http://svn.freebsd.org/viewvc/base?view=revision&revision=287225[(r287225)]

Support for the HiSilicon HI6220 SoC has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=287371[(r287371)] [.contrib]#(Sponsored by ABT Systems, Ltd.)#

The second CPU core on Allwinner A20 SoC have been enabled. http://svn.freebsd.org/viewvc/base?view=revision&revision=263698[(r263698)]

Support for the Allwinner H3 SoC has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=299688[(r299688)]

Support for X-Powers AXP813 and AXP818 power management integrated circuits have been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=299786[(r299786)]

Support for the Allwinner Reduced Serial Bus (RSB) has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=299781[(r299781)]

Support for Allwinner A20 HDMI has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=296064[(r296064)]

Support for GPIO, Sensors and interrupts on AXP209 power management integrated circuits have been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=300777[(r300777)]

[[storage]]
== Storage

This section covers changes and additions to file systems and other storage subsystems, both local and networked.

[[storage-general]]
== General Storage

The http://www.FreeBSD.org/cgi/man.cgi?query=ctl&sektion=4&manpath=freebsd-release-ports[ctl(4)] LUN mapping has been rewritten, replacing iSCSI-specific mapping mechanisms with a new mechanism that works for any port. http://svn.freebsd.org/viewvc/base?view=revision&revision=278037[(r278037)] [.contrib]#(Sponsored by iXsystems)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ctld&sektion=8&manpath=freebsd-release-ports[ctld(8)] utility has been updated to allow controlling non-iSCSI http://www.FreeBSD.org/cgi/man.cgi?query=ctl&sektion=4&manpath=freebsd-release-ports[ctl(4)] ports. http://svn.freebsd.org/viewvc/base?view=revision&revision=278354[(r278354)] [.contrib]#(Sponsored by iXsystems)#

The http://www.FreeBSD.org/cgi/man.cgi?query=autofs&sektion=5&manpath=freebsd-release-ports[autofs(5)] subsystem has been updated to include a new http://www.FreeBSD.org/cgi/man.cgi?query=auto_master&sektion=5&manpath=freebsd-release-ports[auto_master(5)] map, `-media`, which allows automatically mounting removable media, such as CD drives or USB flash drives. http://svn.freebsd.org/viewvc/base?view=revision&revision=275681[(r275681)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The http://www.FreeBSD.org/cgi/man.cgi?query=autofs&sektion=5&manpath=freebsd-release-ports[autofs(5)] subsystem has been updated to include a new http://www.FreeBSD.org/cgi/man.cgi?query=auto_master&sektion=5&manpath=freebsd-release-ports[auto_master(5)] map, `-noauto`, which handles http://www.FreeBSD.org/cgi/man.cgi?query=fstab&sektion=5&manpath=freebsd-release-ports[fstab(5)] entries set to `noauto`. http://svn.freebsd.org/viewvc/base?view=revision&revision=279955[(r279955)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The GELI class has been updated to support the `BIO_DELETE` http://www.FreeBSD.org/cgi/man.cgi?query=g_bio&sektion=9&manpath=freebsd-release-ports[g_bio(9)] `bio_cmd` field, providing TRIM/UNMAP support on GELI-backed SSD storage providers. http://svn.freebsd.org/viewvc/base?view=revision&revision=286444[(r286444)]

The http://www.FreeBSD.org/cgi/man.cgi?query=camdd&sektion=8&manpath=freebsd-release-ports[camdd(8)] utility has been added, which allows copying data sequentially to and from SCSI devices, files, block devices and tape drives. If the source and/or destination is a SCSI disk, http://www.FreeBSD.org/cgi/man.cgi?query=camdd&sektion=8&manpath=freebsd-release-ports[camdd(8)] can use the asynchronous http://www.FreeBSD.org/cgi/man.cgi?query=pass&sektion=4&manpath=freebsd-release-ports[pass(4)] interface to queue multiple I/Os for improved speed. (ATA passthrough support for http://www.FreeBSD.org/cgi/man.cgi?query=camdd&sektion=8&manpath=freebsd-release-ports[camdd(8)] is in development.) http://svn.freebsd.org/viewvc/base?view=revision&revision=291716[(r291716)] [.contrib]#(Sponsored by Spectra Logic)#

The http://www.FreeBSD.org/cgi/man.cgi?query=pass&sektion=4&manpath=freebsd-release-ports[pass(4)] SCSI/ATA passthrough driver now has an asynchronous interface. User applications may queue many requests, get notification of completion via http://www.FreeBSD.org/cgi/man.cgi?query=kqueue&sektion=2&manpath=freebsd-release-ports[kqueue(2)] and retrieve status later. http://www.FreeBSD.org/cgi/man.cgi?query=camdd&sektion=8&manpath=freebsd-release-ports[camdd(8)] is an example application using the interface. http://svn.freebsd.org/viewvc/base?view=revision&revision=291716[(r291716)] [.contrib]#(Sponsored by Spectra Logic)#

Support for parsing libucl-based configuration files has been added to http://www.FreeBSD.org/cgi/man.cgi?query=ctld&sektion=8&manpath=freebsd-release-ports[ctld(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=295212[(r295212)] [.contrib]#(Sponsored by iXsystems)#

The http://www.FreeBSD.org/cgi/man.cgi?query=ahci&sektion=4&manpath=freebsd-release-ports[ahci(4)] driver has been updated to add NCQ TRIM support for drives that support it. http://svn.freebsd.org/viewvc/base?view=revision&revision=298002[(r298002)] [.contrib]#(Sponsored by Netflix)#

[.note]
*Note*: +
Drives that advertise this feature but do not properly support it have been blacklisted. Systems experiencing traffic problems with NCQ TRIM enabled can set the `kern.cam.ada.%d.quirks` tunable to `2` for 512k sectors or `3` for 4096k sectors, replacing `%d` with the drive number.

The http://www.FreeBSD.org/cgi/man.cgi?query=cam&sektion=4&manpath=freebsd-release-ports[cam(4)] driver has been updated to allow I/O scheduling tuning to fit workload and drive characteristics. This option is off by default, and can be enabled by adding `option       CAM_IOSCHED_ADAPTIVE` option to the kernel configuration and recompiling the kernel. http://svn.freebsd.org/viewvc/base?view=revision&revision=298002[(r298002)] [.contrib]#(Sponsored by Netflix)#

The http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&sektion=8&manpath=freebsd-release-ports[camcontrol(8)] command can manually force updating capacity data after a disk gets resized using the reprobe subcommand. http://svn.freebsd.org/viewvc/base?view=revision&revision=299371[(r299371)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Leading spaces are now stripped off SCSI disk serial numbers when populating the CAM serial number. This affects the output of http://www.FreeBSD.org/cgi/man.cgi?query=diskinfo&sektion=8&manpath=freebsd-release-ports[diskinfo(8)] and the names of `/dev/diskid/DISK-*` device nodes, among other things. http://svn.freebsd.org/viewvc/base?view=revision&revision=300880[(r300880)] [.contrib]#(Sponsored by Spectra Logic)#

Support for managing Shingled Magnetic Recording (SMR) drives has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=300207[(r300207)] [.contrib]#(Sponsored by Spectra Logic)#

[[storage-net]]
== Networked Storage

The new filesystem automount facility, http://www.FreeBSD.org/cgi/man.cgi?query=autofs&sektion=5&manpath=freebsd-release-ports[autofs(5)], has been added. The new http://www.FreeBSD.org/cgi/man.cgi?query=autofs&sektion=5&manpath=freebsd-release-ports[autofs(5)] facility is similar to that found in other UNIX(R)-like operating systems, such as OS X(TM) and Solaris(TM). The http://www.FreeBSD.org/cgi/man.cgi?query=autofs&sektion=5&manpath=freebsd-release-ports[autofs(5)] facility uses a Sun(TM)-compatible http://www.FreeBSD.org/cgi/man.cgi?query=auto_master&sektion=5&manpath=freebsd-release-ports[auto_master(5)] configuration file, and is administered with the http://www.FreeBSD.org/cgi/man.cgi?query=automount&sektion=8&manpath=freebsd-release-ports[automount(8)] userland utility, and the http://www.FreeBSD.org/cgi/man.cgi?query=automountd&sektion=8&manpath=freebsd-release-ports[automountd(8)] and http://www.FreeBSD.org/cgi/man.cgi?query=autounmountd&sektion=8&manpath=freebsd-release-ports[autounmountd(8)] daemons. http://svn.freebsd.org/viewvc/base?view=revision&revision=270096[(r270096)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

Support for the `timeo`, `actimeo`, `noac`, and `proto` options have been added to http://www.FreeBSD.org/cgi/man.cgi?query=mount_nfs&sektion=8&manpath=freebsd-release-ports[mount_nfs(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=273849[(r273849)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The Mellanox implementation of iSER (iSCSI Extensions for RDMA) has been imported. http://svn.freebsd.org/viewvc/base?view=revision&revision=300723[(r300723)]

The ability to discover iSCSI targets without having to attach to a target has been added to the http://www.FreeBSD.org/cgi/man.cgi?query=iscsictl&sektion=8&manpath=freebsd-release-ports[iscsictl(8)] command. http://svn.freebsd.org/viewvc/base?view=revision&revision=301033[(r301033)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

[[storage-zfs]]
== ZFS

The `arc_meta_limit` statistics are now visible through the `kstat` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)]. As a result of this change, the `vfs.zfs.arc_meta_used` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)] has been removed, and replaced with the `kstat.zfs.misc.arcstats.arc_meta_used` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=275748[(r275748)]

The http://www.FreeBSD.org/cgi/man.cgi?query=zfs&sektion=8&manpath=freebsd-release-ports[zfs(8)] `l2arc` code has been updated to take `ashift` into account when gathering buffers to be written to the `l2arc` device. http://svn.freebsd.org/viewvc/base?view=revision&revision=287099[(r287099)] [.contrib]#(Sponsored by ClusterHQ)#

Four new resources have been added to http://www.FreeBSD.org/cgi/man.cgi?query=rctl&sektion=8&manpath=freebsd-release-ports[rctl(8)] to allow throttles to be set on filesystem IO. http://svn.freebsd.org/viewvc/base?view=revision&revision=297633[(r297633)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The zfsd daemon has been added, which manages hotspares and replements in drive slots that publish physical paths. http://svn.freebsd.org/viewvc/base?view=revision&revision=300906[(r300906)] [.contrib]#(Sponsored by iXsystems, Spectra Logic)#

The minimum and maximum values for the ZFS adaptive replacement cache can be modified at runtime. http://svn.freebsd.org/viewvc/base?view=revision&revision=302265[(r302265)] [.contrib]#(Sponsored by Multiplay)#

[[storage-geom]]
== http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=freebsd-release-ports[geom(4)]

Support for the `disklabel64` partitioning scheme has been added to http://www.FreeBSD.org/cgi/man.cgi?query=gpart&sektion=8&manpath=freebsd-release-ports[gpart(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=267359[(r267359)]

Support for the `apple-boot`, `apple-hfs`, and `apple-ufs` MBR partitioning schemes have been added to http://www.FreeBSD.org/cgi/man.cgi?query=gpart&sektion=8&manpath=freebsd-release-ports[gpart(8)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=282465[(r282465)]

The http://www.FreeBSD.org/cgi/man.cgi?query=gpart&sektion=8&manpath=freebsd-release-ports[gpart(8)] utility has been updated to include a new attribute for GPT partitions, `lenovofix`, which when set, which works around BIOS compatibility issues reported on several Lenovo(TM) laptops. http://svn.freebsd.org/viewvc/base?view=revision&revision=285594[(r285594)] [.contrib]#(Sponsored by ScaleEngine, Inc.)#

[[boot]]
== Boot Loader Changes

This section covers the boot loader, boot menu, and other boot-related changes.

[[boot-loader]]
== Boot Loader Changes

The memory test run at boot time on FreeBSD/amd64 platforms has been disabled by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=258431[(r258431)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

A new http://www.FreeBSD.org/cgi/man.cgi?query=ttys&sektion=5&manpath=freebsd-release-ports[ttys(5)] class, `3wire`, has been added. This is similar to the existing terminal classes, but does not have a defined baudrate. http://svn.freebsd.org/viewvc/base?view=revision&revision=262955[(r262955)]

The http://www.FreeBSD.org/cgi/man.cgi?query=vt&sektion=4&manpath=freebsd-release-ports[vt(4)] driver has been made the default system console driver. The http://www.FreeBSD.org/cgi/man.cgi?query=syscons&sektion=4&manpath=freebsd-release-ports[syscons(4)] driver is still available, and can be enabled by adding `kern.vty=sc` in http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)]. Alternatively, http://www.FreeBSD.org/cgi/man.cgi?query=syscons&sektion=4&manpath=freebsd-release-ports[syscons(4)] can be enabled at boot time by entering `set kern.vty=sc` at the http://www.FreeBSD.org/cgi/man.cgi?query=loader&sektion=8&manpath=freebsd-release-ports[loader(8)] prompt. http://svn.freebsd.org/viewvc/base?view=revision&revision=274085[(r274085)]

Support for `bzipfs` has been added to the EFI loader. http://svn.freebsd.org/viewvc/base?view=revision&revision=279950[(r279950)]

The boot loader has been updated to support entering the GELI passphrase before loading the kernel. To enable this behavior, add `geom_eli_passphrase_prompt="YES"` to http://www.FreeBSD.org/cgi/man.cgi?query=loader.conf&sektion=5&manpath=freebsd-release-ports[loader.conf(5)]. http://svn.freebsd.org/viewvc/base?view=revision&revision=281616[(r281616)]

[arm] The http://www.FreeBSD.org/cgi/man.cgi?query=ttys&sektion=5&manpath=freebsd-release-ports[ttys(5)] file for FreeBSD/arm has been updated to enable `ttyu1`, `ttyu2`, and `ttyu3` by default, if the callin port is an active console port. http://svn.freebsd.org/viewvc/base?view=revision&revision=284683[(r284683)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The default installation directory for modules has been changed to `/boot/modules`. http://svn.freebsd.org/viewvc/base?view=revision&revision=299393[(r299393)]

[[network]]
== Networking

This section describes changes that affect networking in FreeBSD.

[[network-protocols]]
== Network Protocols

Support for the IPX network transport protocol has been removed, and will not be supported in FreeBSD 11 and later releases. http://svn.freebsd.org/viewvc/base?view=revision&revision=263140[(r263140)]

Support for PLPMTUD blackhole detection (RFC 4821) has been added to the http://www.FreeBSD.org/cgi/man.cgi?query=tcp&sektion=4&manpath=freebsd-release-ports[tcp(4)] stack, disabled by default. New control tunables have been added: http://svn.freebsd.org/viewvc/base?view=revision&revision=272720[(r272720)] [.contrib]#(Sponsored by Limelight Networks)#

[cols=",",options="header",]
|===
|Tunable |Description
|`net.inet.tcp.pmtud_blackhole_detection` |Enables or disables PLPMTUD blackhole detection
|`net.inet.tcp.pmtud_blackhole_mss` |MSS to try for IPv4
|`net.inet.tcp.v6pmtud_blackhole_mss` |MSS to try for IPv6
|===

New monitoring http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)]s haven been added:

[cols=",",options="header",]
|===
|Tunable |Description
|`net.inet.tcp.pmtud_blackhole_activated` |Number of times the code was activated to attempt downshifting the MSS
|`net.inet.tcp.pmtud_blackhole_min_activated` |Number of times the blackhole MSS was used in an attempt to downshift
|`net.inet.tcp.pmtud_blackhole_failed` |Number of times that the blackhole failed to connect after downshifting the MSS
|===

Support for IP identification for atomic datagrams (RFC 6864) has been added. Support for this feature can be toggled with the `net.inet.ip.rfc6864` http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8&manpath=freebsd-release-ports[sysctl(8)], which is enabled by default. http://svn.freebsd.org/viewvc/base?view=revision&revision=280971[(r280971)] [.contrib]#(Sponsored by Netflix, Nginx, Inc.)#

The IPSEC has been updated to include support for AES modes on both software-only and hardware-backed (http://www.FreeBSD.org/cgi/man.cgi?query=aesni&sektion=4&manpath=freebsd-release-ports[aesni(4)]) systems. http://svn.freebsd.org/viewvc/base?view=revision&revision=285336[(r285336)] [.contrib]#(Sponsored by Netgate)#

The network stack has been updated to fix handling of IPv6 On-Link redirects. http://svn.freebsd.org/viewvc/base?view=revision&revision=287798[(r287798)] [.contrib]#(Sponsored by Dell, Inc.)#

Support to be able to reroot into a NFSv4 volume has been added. http://svn.freebsd.org/viewvc/base?view=revision&revision=299848[(r299848)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The net.inet.tcp.ecn.enable sysctl mib has been changed from a binary off/on control to a three way setting. http://svn.freebsd.org/viewvc/base?view=revision&revision=300240[(r300240)]

[cols=",",options="header",]
|===
|Value |Description
|`0` |Totally disable ECN.
|`1` |Enable ECN if incoming connections request it. Outgoing connections will request ECN.
|`2` |Enable ECN if incoming connections request it. Outgoing conections will not request ECN.
|===

Dummynet AQM, an independent implementation of CoDel and FQ-CoDel for ipfw/dummynet has been imported to the base system. http://svn.freebsd.org/viewvc/base?view=revision&revision=300779[(r300779)]

The unused `SIOCSIFALIFETIME_IN6` ioctl has been removed. http://svn.freebsd.org/viewvc/base?view=revision&revision=301875[(r301875)]

[[releng]]
== Release Engineering and Integration

This section convers changes that are specific to the FreeBSD Release Engineering processes.

[[releng-changes]]
== Integration Changes

The Release Engineering build tools have been updated to include support for producing virtual machine disk images for various cloud hosting providers. http://svn.freebsd.org/viewvc/base?view=revision&revision=277458[(r277458)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The Release Engineering build tools have been updated to use multi-threaded http://www.FreeBSD.org/cgi/man.cgi?query=xz&sektion=1&manpath=freebsd-release-ports[xz(1)]. By default, the number of http://www.FreeBSD.org/cgi/man.cgi?query=xz&sektion=1&manpath=freebsd-release-ports[xz(1)] threads is set to the number of cores available. http://svn.freebsd.org/viewvc/base?view=revision&revision=278926[(r278926)]

The Release Engineering build tools have been updated to include support for building FreeBSD/arm64 virtual machine and memory stick installation images. http://svn.freebsd.org/viewvc/base?view=revision&revision=281802[(r281802)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The Release Engineering build tools have been updated to support building FreeBSD/arm images without external utilities for supported boards where a corresponding `u-boot` port exists in the Ports Collection. http://svn.freebsd.org/viewvc/base?view=revision&revision=282693[(r282693)] [.contrib]#(Sponsored by The FreeBSD Foundation)#

The FreeBSD/i386 memory stick installation images are now created using the http://www.FreeBSD.org/cgi/man.cgi?query=mkimg&sektion=1&manpath=freebsd-release-ports[mkimg(1)] utility, matching the way the FreeBSD/amd64 images are created. http://svn.freebsd.org/viewvc/base?view=revision&revision=283307[(r283307)] [.contrib]#(Sponsored by The FreeBSD Foundation)#
