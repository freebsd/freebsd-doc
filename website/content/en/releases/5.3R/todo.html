<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook">
  <head>
    <title>FreeBSD 5.3 Open Issues</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="shortcut icon" href="https://www.FreeBSD.org/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" media="screen,print" href="https://www.FreeBSD.org/css/fixed.css" type="text/css" />
    <script type="text/javascript" src="../../layout/js/google.js"></script>
  </head>
  <body>
    <div id="containerwrap">
      <div id="container">
        <span class="txtoffscreen"><a href="#content" title="Skip site navigation" accesskey="1">Skip site navigation</a> (1)
  <a href="#contentwrap" title="Skip section navigation" accesskey="2">Skip section navigation</a> (2)
</span>
        <div id="headercontainer">
          <div id="header">
            <h2 class="blockhide">Header And Logo</h2>
            <div id="headerlogoleft">
              <a href="../.." title="FreeBSD">
                <img src="../../layout/images/logo-red.png" width="457" height="75" alt="FreeBSD" />
              </a>
            </div>
            <div id="headerlogoright">
              <div class="frontdonateroundbox">
                <div class="frontdonatetop">
                  <div>
                    <b style="display: none;">.</b>
                  </div>
                </div>
                <div class="frontdonatecontent">
                  <a href="https://www.FreeBSDFoundation.org/donate/">Donate to FreeBSD</a>
                </div>
                <div class="frontdonatebot">
                  <div>
                    <b style="display: none;">.</b>
                  </div>
                </div>
              </div>
              <h2 class="blockhide">Peripheral Links</h2>
              <div id="searchnav">
                <ul id="searchnavlist"></ul>
              </div>
              <div id="search">
                <form method="get" id="search-form" action="https://duckduckgo.com/">
                  <h2 class="blockhide">
                    <label for="words">Search</label>
                  </h2>
                  <input type="hidden" name="sites" value="www.FreeBSD.org,docs.FreeBSD.org,lists.FreeBSD.org,wiki.FreeBSD.org,forums.FreeBSD.org" />
                  <input type="hidden" name="ka" value="v" />
                  <input type="hidden" name="kt" value="v" />
                  <input type="hidden" name="kh" value="1" />
                  <input type="hidden" name="kj" value="r2" />
                  <input id="words" name="q" type="text" size="20" maxlength="255" onfocus="if( this.value==this.defaultValue ) this.value='';" value="Search" />
                  <span> </span>
                  <input id="submit" name="submit" type="submit" value="Search" />
                </form>
              </div>
            </div>
          </div>
          <h2 class="blockhide">Site Navigation</h2>
          <div id="menu">
            <ul class="first">
              <li>
                <a href="../../">Home</a>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../about.html">About</a>
                <ul>
                  <li>
                    <a href="../../projects/newbies.html">Introduction</a>
                  </li>
                  <li>
                    <a href="../../features.html">Features</a>
                  </li>
                  <li>
                    <a href="../../advocacy/">Advocacy</a>
                  </li>
                  <li>
                    <a href="../../marketing/">Marketing</a>
                  </li>
                  <li>
                    <a href="../../privacy.html">Privacy Policy</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../where.html">Get FreeBSD</a>
                <ul>
                  <li>
                    <a href="../../releases/">Release Information</a>
                  </li>
                  <li>
                    <a href="../../releng/">Release Engineering</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../docs.html">Documentation</a>
                <ul>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/faq/">FAQ</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/handbook/">Handbook</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/porters-handbook">Porter's Handbook</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/developers-handbook">Developer's Handbook</a>
                  </li>
                  <li>
                    <a href="//www.FreeBSD.org/cgi/man.cgi">Manual Pages</a>
                  </li>
                  <li>
                    <a href="https://papers.FreeBSD.org">Presentations and Papers</a>
                  </li>
                  <li>
                    <a href="../../doc/en_US.ISO8859-1/books/fdp-primer">Documentation Project Primer</a>
                  </li>
                  <li>
                    <a href="../../docs/books.html">All Books and Articles</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../community.html">Community</a>
                <ul>
                  <li>
                    <a href="../../community/mailinglists.html">Mailing Lists</a>
                  </li>
                  <li>
                    <a href="https://forums.FreeBSD.org">Forums</a>
                  </li>
                  <li>
                    <a href="../../usergroups.html">User Groups</a>
                  </li>
                  <li>
                    <a href="../../events/events.html">Events</a>
                  </li>
                  <li>
                    <a href="http://freebsdjournal.com">FreeBSD Journal</a>
                  </li>
                  <li>
                    <a href="http://serverfault.com/questions/tagged/freebsd">Q&amp;A (external)</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../projects/index.html">Developers</a>
                <ul>
                  <li>
                    <a href="https://wiki.FreeBSD.org/IdeasPage">Project Ideas</a>
                  </li>
                  <li>
                    <a href="https://svnweb.FreeBSD.org">Subversion Repository</a>
                  </li>
                  <li>
                    <a href="https://github.com/freebsd">Git Mirror</a>
                  </li>
                  <li>
                    <a href="https://reviews.FreeBSD.org">Code Review (Phabricator)</a>
                  </li>
                  <li>
                    <a href="https://wiki.FreeBSD.org">Wiki</a>
                  </li>
                  <li>
                    <a href="https://ci.FreeBSD.org">Continuous Integration Service</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="../../support.html">Support</a>
                <ul>
                  <li>
                    <a href="../../commercial/commercial.html">Vendors</a>
                  </li>
                  <li>
                    <a href="../../security/">Security Information</a>
                  </li>
                  <li>
                    <a href="https://bugs.FreeBSD.org/search/">Bug Reports</a>
                  </li>
                  <li>
                    <a href="https://www.FreeBSD.org/support.html">Submitting Bug Reports</a>
                  </li>
                </ul>
              </li>
            </ul>
            <ul>
              <li>
                <a href="https://www.freebsdfoundation.org/">Foundation</a>
                <ul>
                  <li>
                    <a href="https://www.freebsdfoundation.org/donate/">Monetary Donations</a>
                  </li>
                  <li>
                    <a href="../../donations/index.html#systems">Hardware Donations</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <div id="content">
          <div id="sidewrap">
            <div id="sidenav">
              <h2 class="blockhide">Section Navigation</h2>
              <ul>
                <li>
                  <a href="../../where.html">Get FreeBSD</a>
                </li>
                <li>
                  <a href="../../releases/">Release Information</a>
                  <ul>
                    <li>Production Release: <br /><a href="../../releases/12.1R/announce.html">12.1</a></li>
                    <li>Production Release: <br /><a href="../../releases/11.3R/announce.html">11.3</a></li>
                  </ul>
                </li>
                <li>
                  <a href="../../snapshots/">Snapshot Releases</a>
                  <ul>
                    <li>Upcoming Release:<br /><a href="../../releases/11.4R/schedule.html">11.4</a></li>
                    <li>Upcoming Release:<br /><a href="../../releases/12.2R/schedule.html">12.2</a></li>
                  </ul>
                </li>
                <li>
                  <a href="../../ports/">Ported Applications</a>
                </li>
              </ul>
            </div>
          </div>
          <div id="contentwrap"><h1>FreeBSD 5.3 Open Issues</h1>

<h1>Open Issues</h1>

<p>This is a list of open issues that need to be resolved for FreeBSD
  5.3.  If you have any updates for this list, please e-mail
  re@FreeBSD.org.</p>

<h3>Issues that require investigation</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th>
      </tr>

</table>

<h3>Show stopper defects for 5.3-RELEASE</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th>
      </tr>

</table>

<h3>Required features for 5.3-RELEASE</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th></tr>

</table>

<h3>Desired features and bugfixes for 5.3-RELEASE</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th>
      </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of poor performance with the if_re driver (re ethernet
      interfaces)</td>
    <td rowspan="1" colspan="1"><font color="blue">In progress</font></td>
    <td rowspan="1" colspan="1">John-Mark Gurney</td>
    <td rowspan="1" colspan="1">There have been reports that specific gigabit ethernet cards
      supported by the if_re driver are experiencing poor performance; a
      patch has been posted that corrects timer and interrupt problems
      with the driver, and is believed to correct the performace problems.
      The patch will be merged to 6.x and 5.x shortly.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">GDB thread support</td>
    <td rowspan="1" colspan="1"><font color="blue">In progress</font></td>
    <td rowspan="1" colspan="1">David Xu, Marcel Moolenaar</td>
    <td rowspan="1" colspan="1">With improved support for threading primitives, support is now
      required to ease debugging of threaded applications.  Ideally,
      this support will work for both libthr and libkse threading
      models.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">KSE support for sparc64</td>
    <td rowspan="1" colspan="1"><font color="blue">In progress</font></td>
    <td rowspan="1" colspan="1">Ken Smith</td>
    <td rowspan="1" colspan="1">Kernel bits implemented, userland not implemented.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">truss support for ptrace</td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">Almost all process debugging tools have been updated to use
      non-procfs kernel primitives, with the exception of truss(1).
      As procfs is considered deprecated due to its inherent security
      risks, it is highly desirable to update truss to operate in
      a post-procfs world.  Dag-Erling Smørgrav had prototype patches; Robert Drehmel
      is developing and testing patches now.  Support for system
      call tracing has been added to ptrace().</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">FAST_IPSEC and KAME compatibility</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">FAST_IPSEC currently cannot be used directly with the KAME IPv6
      implementation, requiring an additional level of IP tunnel
      indirection to protect IPv6 packets when using hardware crypto
      acceleration.  This issue must be resolved so that the two
      services may more easily be used together.  Among other things,
      this will require a careful review of the handling of mbuf
      header copying and m_tag support in the KAME IPv6 code.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">rpc.lockd(8) stability</td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">A process cannot be interrupted while waiting on a lock.  Fixing
      this requires that the RPC code be taught how to deal with lock
      cancellation and interruption events.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Revised kld build infrastructure</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">Peter Wemm</td>
    <td rowspan="1" colspan="1">Kernel modules are currently built independently from a kernel
      configuration, and independently from one another, resulting in
      substantially redundant compilation of objects, as well as the
      inability to easily manage compile-time options for kernel
      objects (such as MAC, PAE, etc) that may require conditional
      compilation in the kernel modules.  In order to improve build
      performance and better support options of this sort, the
      KLD build infrastructure needs to be revamped.  Peter Wemm has
      done some initial prototyping, and should be contacted before
      starting on this work.</td>
  </tr>

  <tr>
  <td rowspan="1" colspan="1">Race conditions in truss</td>
  <td rowspan="1" colspan="1">Errata candidate</td>
  <td rowspan="1" colspan="1">Robert Drehmel</td>
  <td rowspan="1" colspan="1">Truss appears to contain a race condition during the start-up of
    debugging, which can result in truss failing to attach to the process
    before it exits.  The symptom is that truss reports that it cannot
    open the procfs node supporting the process being debugged.  A bug
    also appears to exist where in truss will hang if execve() returns
    ENOENT.  A further race appears to exist in which truss will return
    "PIOCWAIT: Input/output error" occasionally on startup.  The fix
    for this sufficiently changes process execution handling that we
    will defer the fix to post-5.0 and consider this errata.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">filedesc LOR</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">The LOR reported in PR kern/55175 needs to be fixed.  Filedesc locking
      needs to be heavily reviewed in general.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">KSE support for alpha</td>
    <td rowspan="1" colspan="1"><font color="blue">In progress</font></td>
    <td rowspan="1" colspan="1">Marcel Moolenaar</td>
    <td rowspan="1" colspan="1">Userland bits implemented, kernel bits not implemented.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">CAM locking</td>
    <td rowspan="1" colspan="1"><font color="blue">In progress</font></td>
    <td rowspan="1" colspan="1">Scott Long, Justin T. Gibbs</td>
    <td rowspan="1" colspan="1">For kernel API/ABI compatibility reasons, it would be desirable to
      have the CAM locking strategy determined and loosely implemented for
      5.3.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">syscons not working on Sparc64 Ultra-30</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">When running syscons on an Ultra-30 with Creator-3D typing
      characters on the keyboard produces garbage.  Problem reported
      by Kris Kennaway.  Debugging difficult due to lack of this particular
      configuration among developers and problem isn't present on similar
      hardware (e.g. no problem on Ultra-60 w/Creator-3D).</td>
  </tr>
</table>

<h3>Documentation items that must be resolved for 5.3</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th>
      </tr>
  <tr>
    <td rowspan="1" colspan="1">i386 Floppy Installation Docs</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Gavin Atkinson, Bruce A. Mah</td>
    <td rowspan="1" colspan="1">The installation documentation doesn't take into account the
      new floppy images (with a full kernel split across multiple
      disks).  This should be updated.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/query-pr.cgi?pr=docs/70485" shape="rect">docs/70485 (closed)</a>
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Finish hardware notes trimming</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Simon L. B. Nielsen, Christian Brueffer</td>
    <td rowspan="1" colspan="1">Finish removing mention of individual devices in the hardware
      notes and use auto-generated lists, based on driver manual pages,
      instead.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">sound(4) related manual pages</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Simon L. B. Nielsen</td>
    <td rowspan="1" colspan="1">The snd(4) and pcm(4) drivers have been renamed but their
      manual pages are still outdated.  sound(4) has to be added and
      pcm(4), csa(4), gusc(4), sbc(4), and uaudio(4) should be revised.
      Other manual pages which refer to pcm(4) (if any) should possibly
      be revised, too.  In addition, supported cards list needs to be
      updated.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://docs.freebsd.org/cgi/mid.cgi?20040820145251.GA36893" shape="rect">Manpage for snd_solo on -doc@</a><br clear="none" />
	    <a href="http://docs.freebsd.org/cgi/mid.cgi?20040828142503.GA52613@ip.net.ua" shape="rect">[PATCH] sound(4) related manpages 5.3 TODO item on -doc@</a><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/share/man/man4/Makefile?rev=1.279&amp;content-type=text/x-cvsweb-markup" shape="rect">src/share/man/man4/Makefile rev.1.279</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Sound section in the Handbook</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Marc Fonvieille</td>
    <td rowspan="1" colspan="1">This section is outdated, some rewrites are needed for
      5.3-RELEASE.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/doc/en_US.ISO8859-1/books/handbook/multimedia/chapter.xml?rev=1.94&amp;content-type=text/x-cvsweb-markup" shape="rect">doc/en_US.ISO8859-1/books/handbook/multimedia/chapter.xml
	    rev.1.94</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">FDP documentations related pcm(4)</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">With the snd(4) and pcm(4) drivers changes, documentations
      (FAQ) regarding the use of these drivers need an update.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Early Adopter's Guide</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Bruce A. Mah, Tom Rhodes</td>
    <td rowspan="1" colspan="1">Xin LI pointed out that FreeBSD 5.3-RELEASE is the first
      stable release on 5.X and it is (hopefully) not for early
      adopters.  Early Adopter's Guide is still useful, but
      contains a bit old information.  Some parts of this guide
      need a rewrite, and this document should be published
      as "4.X to 5.X Migration Guide",  which focuses difference
      between 4.X and 5.X.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.FreeBSD.org/relnotes/5-STABLE/early-adopter/index.html" shape="rect">Draft for review</a><br clear="none" />
	    <a href="http://docs.freebsd.org/cgi/mid.cgi?1094426835.767.50.camel@localhost" shape="rect">discussion on -doc@ and -current@</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Installation Notes</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">Tom Rhodes</td>
    <td rowspan="1" colspan="1">Some parts are outdated.  doc/70485 has been committed, but
      more work is needed to reflect the realities.  bmah@ pointed out
      that we should have "quick-start" installation guide for each
      platform instead of the current ones because they become too long
      and difficult to be maintained.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/query-pr.cgi?pr=doc/70485" shape="rect">doc/70485 (closed)</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Xorg</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Ken Tom, Marc Fonvieille</td>
    <td rowspan="1" colspan="1">Update the X11 chapter of the Handbook for X.Org's X11
      server.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/doc/en_US.ISO8859-1/books/handbook/x11/chapter.xml?rev=1.147&amp;content-type=text/x-cvsweb-markup" shape="rect">books/handbook/config/chapter.xml rev.1.147</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">rc.d scripts</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Tom Rhodes</td>
    <td rowspan="1" colspan="1">Ch.11.4 and 11.5 of the Handbook must be updated to mention
      the new rc.d scripts and some ports use /etc/rc.conf for their
      configuration.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/doc/en_US.ISO8859-1/books/handbook/config/chapter.xml?rev=1.170&amp;content-type=text/x-cvsweb-markup" shape="rect">books/handbook/config/chapter.xml rev.1.170</a><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/doc/en_US.ISO8859-1/books/handbook/config/chapter.xml?rev=1.172&amp;content-type=text/x-cvsweb-markup" shape="rect">books/handbook/config/chapter.xml rev.1.172</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Handbook's kernel configuration chapter</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Ceri Davies</td>
    <td rowspan="1" colspan="1">Chapter 8 must be updated to match 5.3-RELEASE.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/query-pr.cgi?pr=70674" shape="rect">docs/70674 (closed)</a><br clear="none" />
	    <a href="http://www.freebsd.org/cgi/cvsweb.cgi/doc/en_US.ISO8859-1/books/handbook/kernelconfig/chapter.xml?rev=1.135&amp;content-type=text/x-cvsweb-markup" shape="rect">books/handbook/kernelconfig/chapter.xml rev.1.135</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Handbook's IPsec section</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">Some parts of Section 14.10 are outdated and are not correct
      for 5.X systems.<br clear="none" />
	    <b>References:</b><br clear="none" />
	    <a href="http://docs.freebsd.org/cgi/mid.cgi?1093985909.d6849c9clumsden@myrealbox.com" shape="rect">ipsec on -doc@</a><br clear="none" />
	    <a href="http://docs.freebsd.org/cgi/mid.cgi?2071E0FA-0600-11D9-9FC5-000A95908F0E@cybox.com" shape="rect">Problem with IPSEC in handbook on -doc@</a><br clear="none" />
	  </td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Handbook's Vinum chapter</td>
    <td rowspan="1" colspan="1"><font color="red">Not done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">Vinum chapter needs to be revised for 5.X systems.</td>
  </tr>
</table>

<h3>Testing focuses for 5.3-RELEASE</h3>

<table class="tblbasic">
  <tr><th rowspan="1" colspan="1">Issue</th><th rowspan="1" colspan="1">Status</th><th rowspan="1" colspan="1">Responsible</th><th rowspan="1" colspan="1">Description</th>
      </tr>
  <tr>
    <td rowspan="1" colspan="1">KSE as the default threads library</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">David Xu, Daniel Eischen</td>
    <td rowspan="1" colspan="1">KSE has matured to the point of being more stable and POSIX-compliant
      than the traditional libc_r.  All Tier-1 platforms <b>MUST</b> have
      stable KSE support for 5.3 in order to support a consistent transition.
      Additionally, all ports that depend on the pthreads API must be modified
      to properly detect and support the default threading library.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Updated binutils for all platforms</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">David O'Brien</td>
    <td rowspan="1" colspan="1">Binutils needs updating in order to support new platforms, newer GDB
      versions, and Thread Local Storage.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">gcc 3.3 floating point alignment regression</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1"> </td>
    <td rowspan="1" colspan="1">The previous GCC 3.3 snapshot included regressions in alignment of
      floating point arguments, resulting in a substantial performance
      degradation.  The recent GCC 3.4.2 import should fix this, but more
      testing is needed.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">in6_pcbnotify() panic with TCP</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson</td>
    <td rowspan="1" colspan="1">Jun Kuriyama has reported a failed locking assertion with IPv6
      TCP notifications.  This problem is believed to be corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Per-platform Thread-Local Storage</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Doug Rabson, Marcel Moolenaar</td>
    <td rowspan="1" colspan="1">To complete support for thread-local storage on FreeBSD,
      per-architecture changes must be made.  Currently pending
      platforms are amd64, alpha, ia64, i386, sparc64, and powerpc.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">SMP instability under load</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Doug White, Alan L. Cox</td>
    <td rowspan="1" colspan="1">High load on SMP systems appears to result in a hard hang related
      to VM IPI.  Doug White has prepared a candidate patch that appears to
      resolve this instability, which is currently in testing for merge to
      the CVS HEAD.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Fine-grained network stack locking without Giant</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Robert Watson</td>
    <td rowspan="1" colspan="1">Significant parts of the network stack (especially IPv4, UNIX
      domain IPC, and sockets) now have fine-grained locking of their data
      structures.  It's possible to run many common network subsystems and
      services without the Giant lock.  However, a number of device drivers
      and less mainstream network subsystems are currently not MPSAFE.
      5.3 betas have shipped with Giant-free networking by default, with
      some bug reports and fixes in later betas and release candidates.
      Please report any problems to the current@ mailing list.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">kld support for amd64</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">David O'Brien, Ian Dowse</td>
    <td rowspan="1" colspan="1">KLDs work when loaded from userland, but not from the loader.  kldxref
      and loader support has been committed to HEAD and RELENG_5 and needs
      final testing.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">ATA panics under sparc64</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Søren Schmidt, Scott Long</td>
    <td rowspan="1" colspan="1">Recent changes to the ATA driver trigger a bug on sparc64 that causes
      a panic on boot.  This was caused by bugs in busdma that have been
      hopefully fixed.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">ifconf() sleep warning</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Brooks Davis</td>
    <td rowspan="1" colspan="1">The ifconf() ioctl for listing network interfaces performs a
      copyout() while holding the global ifnet list mutex.  This generates a
      witness warning in the event that copyout() generates a page fault,
      and risks more serious problems.  This problem is believed to be
      corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">poll()/select() application wedge reports with debug.mpsafenet="1"</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson</td>
    <td rowspan="1" colspan="1">There are reports of applications wedging in poll() and select()
      while running the network stack without the Giant lock.  A recent
      sleepq change appears to have caused some of the observed problems
      to go away (others are difficult to test for due to recent SMP
      instability).  This problem appears to be corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">if_em wedging under high pps</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Max Laier</td>
    <td rowspan="1" colspan="1">There have been several reports of if_em cards "wedging" under high
      packets-per-second load.  This problem appears to have been
      corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Panic on USB detach</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Warner Losh, Scott Long</td>
    <td rowspan="1" colspan="1">A recent regression in the USB code is causing panics when a USB
      device detaches, especially USB hubs.  A fix is in RELENG_5 now.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">KAME IPSEC "ENOBUFS" problem with racoon and mbuma</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson, Sam Leffler</td>
    <td rowspan="1" colspan="1">There are reports that racoon is unable to complete IKE negotiation
      due to a send to the pfkey socket returning ENOBUFS.  This appears to
      be a result of an incorrect assumption about mbuf data size due to a
      change resulting from mbuma.  This problem appears to have been
      corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">BIND9 import into 5-CURRENT</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Doug Barton, Dag-Erling Smørgrav, Tom Rhodes</td>
    <td rowspan="1" colspan="1">BIND9 is now in RELENG_5 and HEAD.  Testing is needed of basic
      functionality, migration from 8.x, and 3rd party packages in the ports
      tree.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Synaptics touchpad problems</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Philip Paeps</td>
    <td rowspan="1" colspan="1">Synaptics updates to the psm(4) driver have resulted in poor
      interactivity for taps and button press events for some users.
      Support is now disabled by default but work will procede to fix the
      underlying problems.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Scheduler-related hangs involving threads</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">Scott Long, Julian Elischer</td>
    <td rowspan="1" colspan="1">Significant work has happened in the scheduler to fix stability
      problems.  More testing for UP and SMP under heavily load is needed.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">NFS over IPv6 problems</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Doug White</td>
    <td rowspan="1" colspan="1">Jun Kuriyama has reported problems with NFS over IPv6 not functioning
      correctly as of the improved NFS support for disconnection changes.
      Doug White has tracked down the source of the problem (EMSGSIZE being
      returned by IPv6 UDP send routine due to fragmentation), and is
      currently exploring possible fixes.  This problem appears to have
      been corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of socket buffer corruption in tcp_output()</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson</td>
    <td rowspan="1" colspan="1">There have been reports of occasional corruption of socket buffers.
       This may have been the result of missing socket buffer locking in
       tcp_output(), which has now been corrected in 6.x and 5.x; this
       problem is believed to be fixed.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of hangs using i4b (isdn4bsd)</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson</td>
    <td rowspan="1" colspan="1">There have been reports of system hangs while using ISDN with the
      i4b ISDN framework on SMP systems.  These likely result from
      insufficient synchronization in the i4b implementation when runnning
      without the Giant lock over the network stack.  The workaround until
      this is fixed is to re-assert the Giant lock over the stack when
      i4b is compiled into the kernel; this has been committed to 6.x and
      and 5.x.  This problem appears to have been corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Problems with multicast and setuid binaries/daemons</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson, Christian S.J. Peron</td>
    <td rowspan="1" colspan="1">There have been reports that multicast socket options on raw sockets
      no longer work properly with daemons changing privilege or setuid
      binaries.  These symptoms have been tracked down to bugs relating to
      permitting limited use of raw sockets in jail().  A patch correcting
      these problems has been merged to 6.x and 5.x.  This problem appears
      to have been corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of sodealloc() panic under heavy load</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson, Brian F. Feldman</td>
    <td rowspan="1" colspan="1">There have been reports of a so_count invariant violation in
       sofree(), which may relate to race conditions in sofree() against
       accept(), which were recently corrected in 6.x, and has been merged
       to 5.x.  This problem appears to have been corrected.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Merge of Darwin msdosfs, other fixes</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">--</td>
    <td rowspan="1" colspan="1">Apple's Darwin operating system has fairly extensive improvements
      to msdosfs and other kernel services; these fixes must be reviewed
      and merged to the FreeBSD tree.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of poor performance of the if_de driver (de ethernet
      interfaces)</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Robert Watson, John-Mark Gurney</td>
    <td rowspan="1" colspan="1">There have been reports that if_de ethernet cds behave poorly when
      running with debug.mpsafenet="1", even though the driver is marked to
      run all portions with the Giant lock.  This suggests a race condition
      specific to this drive, which is currently being debugged.  A patch
      has been committed to the 6.x and 5.x branches, and appears to correct
      the problem.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Threaded application get stuck in an unkillable state when touched
      by GDB</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">David Xu</td>
    <td rowspan="1" colspan="1">Attaching GDB to a threaded process will leave the process in an
      unkillable state.  Rebooting the machine is the only way to recover
      from this.  This is easily triggered when a KDE app crashes and KDE
      automatically attaches GDB to it to extract a stack trace.  A candidate
      fix is in 6-CURRENT.  More testing and review is needed.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">More truss problems</td>
    <td rowspan="1" colspan="1"><font color="green">Done</font></td>
    <td rowspan="1" colspan="1">Alfred Perlstein</td>
    <td rowspan="1" colspan="1">Truss appears to have another problem.  It is repeatable by
      running "truss -f fsck -p /", suspending it with ^Z, and then
      killing truss.  It will leave behind the fsck processes which
      will be unkillable.</td>
  </tr>

  <tr>
    <td rowspan="1" colspan="1">Reports of TCP-related instability under extremely high load;
      possibly related to SACK</td>
    <td rowspan="1" colspan="1"><font color="orange">Needs testing</font></td>
    <td rowspan="1" colspan="1">George V. Neville-Neil, Robert Watson, Scott Long</td>
    <td rowspan="1" colspan="1">There have been reports that, under extremely high load, the
      tcp_output() routine may appear to run for extended periods, resulting
      in the appearance of a hang for an extended period (up to 30 minutes),
      followed by recovery.  A fix for SACK was developed and committed that
      hopefully corrects this problem.</td>
  </tr>

</table>


  </div>
          <br class="clearboth" />
        </div>
        <div id="footer"><span><a href="../../search/index-site.html">Site Map</a> |
  <a href="../../copyright/">Legal Notices</a> | © 1995&#8211;2020 The FreeBSD Project.
  All rights reserved.</span><br />
      Last modified:  2013-11-13</div>
      </div>
    </div>
  </body>
</html>
