<!--
     The Chinese FreeBSD Documentation Project
     $FreeBSD$
     Original revision: 1.111
-->

<chapter id="view">
  <title>中文的顯示及輸入</title>
    <para>如果您總是從 DOS 的中文系統或是中文 Windows 95 之類的環境下透過
      <application>telnet</application> 來利用 FreeBSD 
      主機的話，您是不需要看本節的。
      只有當您直接在一部 FreeBSD 主機螢幕前操作時您才需要在 FreeBSD
      上安裝中文系統。</para>
    <para>進行中文化的工作，我們先從最簡單的中文終端機做起，若要讓 Virtual
      Console 擁有顯示及輸入中文的能力，目前有：big5con、zhcon
      等中文虛擬終端機軟體可以選擇。</para>
    <para>在 Console 下，目前的中文顯示都是靠直接驅動主機的顯示卡進入繪圖模式，
      遠端是無法使用的。
      像是 telnet、putty 等純文字的遠端連線軟體，更是無法處理繪圖模式的輸出，
      所以遠端也就沒有辦法使用這些中文控制台(Console)。</para>
    <para>若是打算使用 X Window 的中文環境，則必須安裝一套中文 XIM Server，
      <application>xcin25</application> 在輸入的部分支援 locale 與   
      XIM 協定，在 X Window 下的中文輸入是遵循的 X11R6 的標準，也就是說，
      只要應用軟體只要有 XIM 的標準，都可以正常的輸入中文，未來的 X window 
      應用軟體應該漸漸會朝向 XIM 的標準，這樣才可以真正做到 xcin anywhere。
      目前已知支援 XIM 的軟體如 <application>bluefish</application>、
      <application>rxvt</application>、<application>mozilla</application>
      、<application>pyDict</application>、
      <application>gnomeicu</application>。</para>
    <para>目前筆者知道支援中文顯示和中文輸入的終端機並不多，
        如 <application>aterm</application>、
        <application>rxvt</application>、
        <application>Eterm</application>、
        <application>mlterm</application>、
        <application>gnome-terminal</application>、
        <application>konsole</application> 等。</para>

  <sect1 id="chinese-input">
    <title>輸入法</title>
      <para>目前在 FreeBSD 底下可以使用的中文輸入平台有：
        console 下的 <link linkend="big5con">big5con</link>，
        <link linkend="cce">cce</link>，
        <link linkend="big5cce">big5cce</link>，
        <link linkend="zhcon">zhcon</link>，
        <link linkend="kon2">kon2</link> 只有顯示中文的能力，
        而 xwindow 下的有
        <link linkend="xcin25">xcin25</link>，
        <link linkend="chinput">chinput</link>，
        <link linkend="xsim">xcim</link>，
        <link linkend="fcitx">fcitx</link>。</para>
      <para>各種各樣的輸入法不斷湧現，以字形為標準的、以字音為標準、
        以字義為標準的、還有以字碼為基礎的，各自擁有各自的特點，
        也各有各的優勢，都在為輸入法的研究盡綿薄之力。
        目前的中文輸入法有以下主要四類：</para>
      <para>第一，以字母為基礎。這類型輸入法，要求使用者只要知道該漢字的讀音，
        即可輸入漢字到電腦裡面。但是輸入速度卻非常的慢，
        因為漢字裡面有很多的字讀音相同的，當您輸入該字拼音時，
        往往卻要花上一定的時間排除其它同音字，才能找到您所需的字。
        因此它只能作為一種輔助輸入法使用。例如，台灣的注音、忘型、自然、
        漢音、羅馬拼音、微軟新注音等；大陸的拼音、全拼、雙拼等；
        香港的漢語拼音、粵語拼音等。</para>
      <para>第二，以字形為基礎。進行字根拆解組合漢字。
        這類型輸入法最大的優點是在於只要經過一段時間的訓練，
        輸入中文字的效率會有大大的提高。這類型輸入法也是目前最受歡迎的一類。
        例如，台灣的倉頡、大易、行列、嘸蝦米、華象直覺、微軟新倉頡等；
        大陸的五筆、鄭碼等；香港的縱橫、快碼等。</para>
      <para>第三，以字碼基礎。該類輸入法最典型的就是內碼輸入法，
        只要您輸入該字的內碼，即可輸出該字。它最大優點是重碼率幾乎為零，
        不用選字，節約時間，提高輸入速度。但卻要求使用者能夠記住內碼，
        漢字數量驚人之多，如果不是專業人士，恐怕很難記住這麼多字的內碼，
        因此，這類型輸入法是最不適用的，也就很少有人來使用它。</para>
      <para>第四，以字義為基礎。此類型輸入法主要針對使用外語的人士，
        只要輸入相應字義的單詞，即可輸入該字，但速度比較慢，
        而且對使用者的英文程度有一定的要求。例如：英漢輸入法。</para>
      <para>但總的來說，就目前形勢來看以字形為標準的輸入法，
        在速度和重碼的問題解決得較好，輸入速度快，重碼率低，
        較為用戶所廣泛接受，以字音為標準的輸入法雖然輸入速度較慢，
        但最為簡單易學，作為一種後備輸入法也較為用戶所廣泛接受。</para>
      <para>WWW: <ulink url="http://input.foruto.com/introduce/introduce_article001.htm">
        鍵盤輸入法萬「碼」奔騰</ulink></para>
  <sect2 id="zh-hex">
    <title>zh_hex - 內碼輸入法</title>
      <para>只要您輸入該字的內碼，即可輸出該字。它最大優點是重碼率幾乎為零，
        不用選字，節約時間，提高輸入速度。但卻要求使用者能夠記住內碼，
        漢字數量驚人之多，如果不是專業人士，恐怕很難記住這麼多字的內碼，
        因此，這類型輸入法是最不適用的，也就很少有人來使用它。</para>
  </sect2>
  <sect2 id="cj">
    <title>cj - 倉頡輸入法</title>
      <para>由朱邦復先生所發明，結合中國象形字的特性，
        將所有的筆畫簡化為24個字根，每一個字根有許多不同基本字型的變化，
        因此只要熟記這些字根及字型，就宛如寫字一樣，
        依照筆畫及順序鍵入字根就可以表示想要的字。
        如此的輸入法符合中國字的本質，
        不會有注音用久卻忘記字怎樣寫的缺點。</para>
      <para>WWW: <ulink url="http://www.cbflabs.com/">朱邦復工作室</ulink></para>
  </sect2>
  <sect2 id="simplex">
    <title>simplex - 簡易輸入法</title>
      <para>簡易輸入法是『倉頡首尾碼簡易輸入法』的簡稱，
        是將倉頡輸入法的取碼簡化，對每個中文字而言，
        只取其『首、尾』二碼，其餘的都省略不取。
        所以只要手中有一張『中文字母表』，並了解中文字是由上而下，
        由左而右，由外而內的取碼方式，牢記取碼規則 -- 只取『首、尾』二碼，
        那麼就可以開始使用簡易輸入法輸入中文了。</para>
  </sect2>
  <sect2 id="phone">
    <title>phone,bimsphone - 注音輸入法</title>
      <para>注音輸入法為目前中文輸入的主流，依據注音符號拼出中文字輸入。
        另外因為中文字有許多同音字，因此選字是一項非常麻煩的手續，
        因此 bimsphone 提供人工智慧幫您選字，
        不過還不會學習使用者常用的字彙。</para>
  </sect2>
  <sect2 id="jyutping">
    <title>jyutping - 粵語拼音輸入法</title>
      <para>早於一九九二年香港華通設計了《粵語拼音輸入法》，
        後來又將它由1.0版發展到4.0，直至最新的2001各版本。
        這個輸入法廣泛在香港被應用，例如，香港政府市政府圖書館、
        區域市政局圖書館提供給市民查閱書籍，
        聯網電腦上使用的「粵音」輸入法就是香港華通產品。</para>
      <para>《粵語拼音輸入法》是用香港習慣的英文字母廣東拼音的方法輸入中文字。
        主檔23,000碼，兼容並蓄的輸入碼，出字率高，
        任何一種流行的拼法都能拼出所需之字。</para>
      <para>實用的特別編碼檔，為香港常用字型、特殊符號、百家姓、日文字等，
        提供了合情合理，易記實用的輸入碼。</para>
      <para>主要特點如下：</para>
      <para>適用於Windows中文平台等多個版本，以單字或詞組均可輸入中文。
        輸入一碼、二碼等即出現待選字方便輸入，不影響全碼輸入的習慣。
        手動調整待選字優先順序，即時增添漢字輸入編碼及增添詞組編碼。
        提供豐富聯想字詞功能，一次輸入多級聯想，直到您找到所需之字。
        一次性顯示所有待選漢字，能顯示漢字的所有兼容並蓄的粵拼編碼。
        收錄了十萬個台灣、大陸及香港用詞，充分體現簡潔和實用的風格。</para>
  </sect2>
  <sect2 id="bimspinyin">
    <title>bimspinyin - 拼音輸入法</title>
      <para>「注音」即是傳統的中文音標—一「玻坡摸佛」注音字母，
        現今在台灣仍廣為采用。注音法把鍵盤上的字母、數字、
        及符號重新編排成四十多個注音鍵，全無「拉丁化」的痕跡，
        好處是完整，一鍵一音素，輸入速度理論上較快。
        但因不與拉丁字母掛鉤，即使熟悉注音字母的用戶，
        初學時也要強記注音字母在鍵盤的位置。
        相反「拼音」比較簡單易學，在國際上亦較為廣泛接受。</para>
  </sect2>
  <sect2 id="chewing">
    <title>chewing - 酷音輸入法</title>
      <para>酷音輸入法是一種聰明的注音輸入法。它會根據常見的字詞，
        自動將您所輸入的注音轉變為適當的中文字，減少同音字的選擇。
        酷音輸入法還提供了許多好用功能，如常用符號輸入、手動斷詞功能、
        中英混雜輸入等。</para>
      <para>
        WWW: <ulink url="http://chewing.good-man.org/">酷音網站</ulink></para>
  </sect2>
  <sect2 id="array30">
    <title>array30 - 行列30輸入法</title>
      <para>行列輸入法和其它的輸入法比較起來，亦是一種易學易用的輸入法，
        它以字形為基礎、摒棄某些字形輸入法中一些較為複雜難明的部分，
        結合自己的特色設計成。特別是熟練以後，在中文輸入上會有較大的突破，
        比較適合大眾學習。行列輸入法的家，則提供行列輸入法的相關信息，
        包括線上教學－教您學會如何使用行列輸入法，
        線上指導－以FAQ形式指導您在學習行列輸入法過程中所遇到任何疑難問題，
        以及行列科技公司最新動態、公司簡介、產品櫥窗等等欄目，
        向您從多個方面介紹行列輸入法。如果您有興趣的話，
        這裡是一個很好的切入點，幫助您學習並掌握它。</para>
      <para>
        WWW: <ulink url="http://www.array.com.tw/">行列科技</ulink></para>
  </sect2>
  <sect2 id="liu">
    <title>liu - 嘸蝦米輸入法</title>
      <para>簡單易學，快速，在各項比賽中常名列前矛。
        平均取碼數少，不過內建此輸入法的中文系統不多，需花錢買。</para>
      <para>WWW: <ulink url="http://www.liu.com.tw/">行易公司網站</ulink></para>
      <para>WWW: <ulink url="http://liu.twbbs.org/">蝦米族樂園</ulink></para>
  </sect2>
  <sect2 id="dayi">
    <title>dayi - 大易輸入法</title>
      <para>大易輸入法是中文Windows內付的輸入法，
        新的【大易輸入法 v5.1 詞庫版】最新三碼功能，
        每個字「最多」三碼，較上個版本快30%。快速輸入常用標點、
        全英文及全形符號。依照筆劃順序寫碼。
        提供大易輸入法技術支援您可以從選單中，來選擇您所要查詢的問題。</para>
      <para>在 <application>xcin25</application> 底下新增大易輸入法</para>
      <screen>
&prompt.root; <userinput>cd /usr/X11R6/lib/X11/xcin25/tab/big5</userinput>
&prompt.root; <userinput>fetch ftp://xcin.linux.org.tw/pub/xcin/xcin/contrib/dayi3.cin</userinput>
&prompt.root; <userinput>../../bin/cin2tab dayi3.cin</userinput>
&prompt.root; <userinput>vi /usr/X11R6/etc/xcinrc</userinput></screen>
      <programlisting>
--- xcinrc.orig Fri Oct 12 18:07:40 2001
+++ xcinrc      Fri Oct 12 18:08:10 2001
@@ -109,7 +109,7 @@
     (DEFAULT_IM_SINMD  "DEFAULT")
     (PHRASE            "default.phr")
     (CINPUT            (cj chewing simplex phone bimspinyin bimsphone jyutping
-                        array30 zh_hex))
+                        array30 zh_hex dayi3))
     (FONTSET           "-sony-*-24-*-iso8859-1,-*-24-*-big5-0")
     (OVERSPOT_FONTSET  "-sony-*-16-*-iso8859-1,-*-16-*-big5-0")))
 ;
@@ -138,6 +138,23 @@
 (define bimsphone@big5
        '((SETKEY               6)
          (MODULE               "bimsphone")))
+
+(define dayi3@big5
+        '((SETKEY               7)
+          (AUTO_COMPOSE         YES)
+          (AUTO_UPCHAR          YES)
+          (AUTO_FULLUP          NO)
+          (SPACE_AUTOUP         NO)
+          (SELKEY_SHIFT         YES)
+          (SPACE_IGNORE         YES)
+          (SPACE_RESET          YES)
+          (AUTO_RESET           YES)
+          (WILD_ENABLE          YES)
+          (SINMD_IN_LINE1       NO)
+          (END_KEY              NO)
+          (BEEP_WRONG           YES)
+          (BEEP_DUPCHAR         YES)))

 (define array30@big5
        '((SETKEY               8)</programlisting>
      <para>WWW: <ulink url="http://www.dayi.com/">大易公司網站</ulink></para>
  </sect2>
  </sect1>

  <sect1 id="big5con">
    <title>big5con - 類似倚天的中文 Console</title>
      <para>一種在主控台(console)上提供顯示，輸入的中文文字顯示程式，
        操作介面類似倚天中文。</para>
      <para>安裝 <filename role="package">chinese/big5con</filename>。</para>
      <para>在 console(vty or ttyv?) login 後直接打 <command>b5c</command> 
	會進入 <application>big5con</application>：</para>
      <programlisting>
Ctrl-Alt-1: 倉頡
Ctrl-Alt-3: 注音
Ctrl-Alt-6: 詞音
Ctrl-Alt-9: 嘸蝦米</programlisting>
      <para>其它按鍵習慣大部分和 <application>et3</application> 同。</para>
<!--      <para>若要增加其它輸入法，如倉頡，可編輯 <filename>/usr/local/bin/et
	</filename> <option>/usr/local/bin/b5c -altmeta 1 -in9 Boshiamy.tab -in1
	cj.tab</option> 加上 <option>-in1 cj.tab</option> 表示 
	<command>Ctrl-Alt-1</command> 切換到 cj.tab (倉頡)。
	<filename>/usr/local/lib/xcin/*.tab</filename> 有其它輸入法可選用。
	其它參數的使用法：<filename>/usr/local/lib/xcin/xcin.help</filename></para>-->
      <para>通常 <application>b5c</application> 和
	<application>screen</application> 一起搭配使用，以發揮 
	buffer & cut-paste & .... 的功效，執行順序為: 
	<application>b5c</application> 先，
	<application>screen</application> 後，也就是 
	<application>b5c</application> 儘量在 console
	login 後立即執行，進入 big5 console 後再跑其它輔助功具。</para>
      <para>若 <application>b5c</application> 造成 console 失常，
	可透過 <command>watch -W v0</command> 遠端回復 -- 
	<command>man watch</command> 
	ftp://freebsd.ntu.edu.tw/freebsd/woju/source/vgalib.txt</para>
      <para>若螢幕偏掉或花掉，通常是 scan freq 的問題，可利用螢幕硬體
	微調開關調整顯示區域的位置和大小。若有裝 XFree86，也可啟動
	X 後使用 <command>xvidtune</command> 調整妥當，將最佳參數記入 
	<filename>/usr/local/etc/big5con.cfg</filename>。</para>
      <para>若使用 <application>telnet</application> 無法輸入中文(出現亂碼)，
	請參考 <link linkend="telnet">telnet</link> 一節。</para>
      <para>如果執行時有問題，先檢查 /dev/vga 是不是 symlink 到 ttyv0？
        <command>ls -l /dev/vga</command>，如果不是的話請執行 
	<command>ln -sf /dev/ttyv0 /dev/vga</command>。</para>
      <screen>
&prompt.user; <userinput>b5c</userinput>
Big5con - Big5 Chinese Console version 0.92b
Big5con> fatal error: can't open /dev/vga
&prompt.user; <userinput>ls -l /dev/vga</userinput>
ls: /dev/vga: No such file or directory
&prompt.user; <userinput>ln -sf /dev/ttyv0 /dev/vga</userinput>
&prompt.user; <userinput>ls -l /dev/vga</userinput>
lrwx------  1 root  wheel  5  5 16 17:34 /dev/vga -> ttyv0</screen>
      <note><para>以下提供一個登入就執行 <command>b5c</command> 的方法，
	在 ~/.cshrc 最後加入以下程式碼：</para>
	<programlisting>
if ( `tty | cut -b 1-9` == "/dev/ttyv" ) then
  exec b5c
endif</programlisting></note>
      <figure>
        <title>big5con snapshot</title>
        <mediaobject>
	  <imageobject>
	    <imagedata fileref="images/big5con" format="PNG">
	  </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="ftp://www.tw.freebsd.org/pub/taiwan/NTU/woju/binary/b5c.html">
        更多的資訊</ulink></para>
      <para>WWW: <ulink url="http://sourceforge.net/projects/big5con/">
	big5con project</ulink></para>
  </sect1>

  <sect1 id="zhcon">
    <title>zhcon - 基於 FrameBuffer 的控制台多內碼中文平台</title>
      <para><application>zhcon</application> 是一個基於 FrameBuffer 
	的控制台多內碼中文平台。他能夠透過 FrameBuffer 
	在控制台上顯示簡體中文、繁體中文、日文、韓文。</para>
      <para>目前版本的 <application>zhcon</application> 擁有以下的特性：</para>
      <para>完全支持 FrameBuffer 設備(從640x480x8bpp 到 1024x768x32bpp)，
	支持多種內碼(GB2312,GBK,BIG5,JIS,KSCM)，
	並可使用熱鍵在五種內碼間動態切換自動識別GB2312/BIG5內碼，
	並能在二者間自動切換可正確識別各種制表符號，
	不會出現亂碼可用熱鍵瀏覽歷史螢幕，
	支持所有基于碼表的Windows98輸入法和UCDOS輸入法(系統內建12種輸入法)。</para>
      <para>安裝 <filename role="package">chinese/zhcon</filename>。</para>
      <programlisting>
功能鍵說明：
CTRL_SPACE:                     打開/關閉輸入法
ALT_SPACE:                      顯示/隱藏輸入條
CTRL_,:                         切換全角/半角
CTRL_.:                         切換中文標點
CTRL_F1:                        切換至GB2312內碼
CTRL_F2:                        切換至GBK內碼
CTRL_F3:                        切換至BIG5內碼
CTRL_F4:                        切換至JIS內碼
CTRL_F5:                        切換至KSCM內碼
CTRL_F9:                        切換GB2312/BIG5自動識別模式
CTRL_F10:                       進入選單
CTRL_ALT_1 - CTRL_ALT_9:        切換輸入法
CTRL_ALT_0:                     英文輸入</programlisting>
      <programlisting>
輸入法選項：
CTRL_ALT_1:                     無蝦米
CTRL_ALT_2:                     倉頡
CTRL_ALT_3:                     注音
CTRL_ALT_8:                     行列30
CTRL_ALT_9:                     無蝦米</programlisting>
      <note><para>注音在選字上必須用 ALT_數字 才能選字，
	用 + 或 = 換頁。</para></note>
      <programlisting>
歷史瀏覽：
SHIFT_PAGEUP:                   上捲半個螢幕
SHIFT_PAGEDOWN:                 下捲半個螢幕
SHIFT_ARROWUP:                  上捲一行
SHIFT_ARROWDOWN:                下捲一行</programlisting>
      <figure>
        <title>zhcon snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/zhcon" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>sourceforge WWW: <ulink url="http://sourceforge.net/projects/zhcon/">
        zhcon project</ulink></para>
      <para>
        main WWW: <ulink url="http://zhcon.gnuchina.org/">
	http://zhcon.gnuchina.org/</ulink></para>
  </sect1>

  <sect1 id="big5cce">
    <title>big5cce - 繁體中文 Console 環境</title>
      <para>big5cce (BIG5 Console Chinese Environment)</para>
      <para>一、前言</para>
      <para>CCE (Console Chinese Environment) 為 Rui He, &gt;herui@cs.duke.edu&lt;
        撰寫的中文控制台系統 (改寫自著名的 kon)，但目前僅支援簡體(GB)的輸入
        方式。 由於 CCE 支援 Mouse (Copy & Paste) 以及 multiple-terminal，
        配合 Frame Buffer 顯示速度相當快速，蠻希望能讓使用繁體(Big5)的
        GNU/Linux 和 FreeBSD users 也能使用這套極佳的中文界面，因此才有 big5cce
        的出現。</para>
      <para>big5cce 主要是增加繁體中文的各項輸入法支援，目前支援的輸入法計
        有倉頡、注音、輕鬆、大易、行列、嘸蝦米、內碼等，而顯示的中文字形採用
        FreeBSD 上著名的 big5con 所採用的 kc16.smf (轉成 cce 所使用的.bin)。
        此外，還增加 了半形/全形的輸入，Ctrl+Shift的循環切換輸入法，對於其它
        輸入法的增加可利 用 big5cce 所提供的 cin2tab 將輸入法的 .cin 轉換成
        tab 並在 big5cce.cfg 中加入輸入法表格即可。</para>
      <para>二、安裝</para>
      <screen>
&prompt.root; <userinput>cd /usr/ports/outta-port/big5cce</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>
      <programlisting>
2) 依需求修改 /usr/lib/big5cce/big5cce.cfg
3) 執行檔將安裝在 /usr/bin/big5cce，輸入法、字型及設定檔(big5cce.cfg)
   則安裝在 /usr/lib/big5cce 目錄。</programlisting>
      <para>三、輸入法：</para>
      <programlisting>
1) 使用 Ctrl+Shift 可輪流切換輸入法(Only GNU/Linux)。
2) Ctrl+Space  可切換 中/英 輸入狀態。
3) Shift+Space 可切換 半形/全形 輸入狀態。
3) Ctrl+Alt+0 內定為 內碼 輸入法，不須載入輸入法表格(.tab)
4) Ctrl+Alt+3 為預設的 注音 輸入法。
5) Ctrl+Alt+1 ~ 9 會依 big5cce.cfg 中設定載入輸入法表格(.tab)的順序切換。
6) Ctrl+Alt+9 預設為嘸蝦米輸入法，big5cce會使用獨立的嘸蝦米輸入處理，
   所以若想使用嘸蝦米輸入法請載入至 Ctrl+Alt+9 中。
   NOTE:
   big5cce 不提供嘸蝦米輸入法表格，請使用者自行 download
   嘸蝦米所使用的 .cin ，利用 big5cce 所提供的 cin2tab 轉換成 .tab
   並在 big5cce.cfg 中加入輸入法表格即可。</programlisting>
      <para>四、字形：</para>
      <programlisting>
1) big5cce 內定使用 kc16.bin 字型。
2) 內附 hku-ch16.bdf 及 hku-ch16.bin 字形，原先 cce/kon 所附之
   bdf2bin 有些問題，經 cnoize 改良過後才能成功將 .bdf 轉成 .bin
   但仍有些字形會遺漏，詳細說明請參考 font/bdf2bin.c 的註解。
3) 若要增加新的字型(例如：BIG5+)，請修改 font.c 關於字形 Coding
   的部份，以及使用 grep "hard code" *.c 中找尋相關的程式碼。</programlisting>
      <para>五、multiple-terminal：</para>
      <programlisting>
1) Ctrl+Alt+A 開新視窗，最多可同時開十組視窗。
2) Ctrl+Alt+X 關閉所在視窗。
3) Ctrl+Alt+N 下一個視窗。
4) Ctrl+Alt+P 上一個視窗。</programlisting>
      <para>六、Mouse support：</para>
      <programlisting>
1) 滑鼠支援，請在 big5cce.cfg 中設定使用的滑鼠(內定 PS2)。
2) 按住滑鼠左鍵可作文字反白(Copy)。
3) 按下滑鼠右鍵即在游標位址作 Paste 動作。
4) 修正原先 cce/kon 在 Paste 文字的 bug (by cnoize)。</programlisting>
      <para>七、其它功能：</para>
      <programlisting>
1) Ctrl+Alt+R Refresh 所在視窗。</programlisting>
      <para>八、bugs/test：</para>
      <programlisting>
1) 若欲使用 HardScroll 加速請在 Makefile 加入 -D__HardScroll__，
   但會有一些問題，請先不要使用。
2) FreeBSD 4.0 在 GNU/Linux vmware 下 mouse 需設為 MouseSystems 才能
   正常使用。</programlisting>
      <para>Gian-Yan Xu. &lt;kids@linux.ee.tku.edu.tw&gt;</para>
      <para>WWW: <ulink url="http://linux.ee.tku.edu.tw/~kids/">
        http://linux.ee.tku.edu.tw/~kids/</ulink></para>
  </sect1>

  <sect1 id="cce">
    <title>cce - 簡體中文控制台環境</title>
      <para>該程序是一個類似WZCE，yact和chdrv的控制台中文平台。
        進入該環境可以用 "空格+Ctrl" 鍵來切換中文/英文的不同輸入方式，
       	"Ctrl+Alt+0~9" 可以用來改變不同的輸入法。
	"Ctrl+Alt+9" 是內碼輸入法。"Ctrl+Alt+0" 是拼音輸入法。
	默認情況下，CCE以全拼輸入法作為默認輸入法，
	並將五筆輸入法作為第二輸入法。您可以通過使用工具軟件cin2tab
	（安裝在/usr/lib/ccek中）和tab2cin來創建自己的輸入法。
	cin2tab會將輸入法的源文件格式（*.cin）轉換成二進制格式，
	而tab2cin完成的是相反的工作。</para>
      <para>由於安全性問題，cce 被移出 ports tree，
        不過筆者有另外保存了一份在 outta-port。</para>
      <screen>
&prompt.root; <userinput>cd /usr/ports/outta-port/cce</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>
      <programlisting>
 Ctrl+Space              切換中文/英文輸入法 
 Ctrl+Alt+0              拼音輸入法 
 Ctrl+Alt+9              內碼輸入法 
 Ctrl+Alt+1              全拼輸入法 
 Ctrl+Alt+2              五筆輸入法 
 Ctrl+Alt+3-Ctrl+Alt+8   其它輸入法</programlisting> 
      <figure>
        <title>cce snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/cce" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://programmer.lib.sjtu.edu.cn/cce/cce.html">
	cce project</ulink></para>
      <para>WWW: <ulink url="http://sourceforge.net/projects/cce2k/">
	cce2k project</ulink></para>
  </sect1>

  <sect1 id="kon2">
    <title>kon2</title>
      <para><application>kon2</application> 是ㄧ套支援 CJKV 的 Console
        應用程式，也是目前 <application>big5con</application> 和 
	<application>cce</application> 的前身，不過他並不內含輸入法，
	所以適合剛裝完找中文資料用，因為他是目前最穩定的了。</para>
      <para>安裝 <filename role="package">chinese/kon2</filename>。</para>
      <para><application>kon2</application> 使用 kcfonts 內的 kc15f 
        中文繁體字型，這個字型包含了倚天外字等，
	也包含了 <application>fcitx</application> 內的 gbkst16 中文簡體字型，
	在切換的部份比較麻煩，目前預設是使用 BIG5-0，
	如果要使用簡體環境，必須輸入 <command>kon -Coding GBK-0</command>，
	繁體相對應的就是 <command>kon -Coding BIG5-0</command>，
	而該程式目前也不管使用簡體或是繁體環境，
	都會同時載入兩種字型，所以會有一點點慢，可以用 <command>fld -i</command>
	來觀察目前載入的字型。</para>
      <screen>
&prompt.user; <userinput>fld -i</userinput>
 No. ShmId Font Name       Size  MemSize
+---+-----+---------------+-----+-------+
  9  65541 JISX0201.1976-0  8x16    4080
 20  65540 GBK-0           16x16  774144
 24 196611 BIG5-0          16x15  472240</screen>
  </sect1>

  <sect1 id="xcin25">
    <title>xcin25 - 繁體中文 XIM Server</title>
      <para>如果您常使用 X Window，我們十分建議您採用 <application>xcin25
        </application> 與 <application>rxvt</application>
        組合的方式，來解決中文輸入的問題。 </para>
      <para><application>xcin25</application> 是 Xwindow Chinese INput 
        的縮寫，是一個在 X Window 模式
        下執行的中文輸入系統，因為 <application>xcin25</application> 
        是利用 X Window 的 
        Server/Client 方式執行的，所以您只要啟動一個 
        <application>xcin25</application> 輸入視窗
        ，便可以對應許多的 <application>rxvt</application> 
        顯示虛擬終端機，佔用系統資源比較小。
        也提供類似 DOS 環境下的忘形或自然輸入法的智慧型輸入選字環境。 </para>
      <para>安裝 <filename>chinese/xcin25</filename>。</para>
      <para>安裝完成後，在 <filename>~/.cshrc</filename> 中增加下列的設定</para>
      <programlisting>
export XMODIFIERS="@im=xcin"</programlisting>
      <para>並在 <filename>XF86Config</filename> 中的 <option>Section "Files"</option>
	區段增加 <option>FontPath "/usr/X11R6/lib/X11/fonts/local/"</option>
	。</para>
      <para>目前的 port 還包進了酷音輸入法(chewing)，一種聰明的注音輸入法。
        它會根據常見的字詞，自動將您所輸入的注音轉變為適當的中文字，
	使您幾乎不需要在輸入時一直選取同音字。</para>
      <figure>
        <title>xcin25 snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/xcin25" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://xcin.linux.org.tw/">
        xcin project</ulink></para>
  </sect1>

  <sect1 id="gtk-im-module">
    <title>GTK_IM_MODULE</title>
      <para>GTK2 本身也提供不少輸入法供使用者選用，
        您可以透過 <command>gtk-query-immodules-2.0</command>
	來取得有那些 Input Method Module，
	不過仍然沒有內建中文的輸入法模組，
	所以他也支援非他本身所提供的其他方式來輸入，
	例如 XIM。
	GTK_IM_MODULE 在某些情況下的優先權會比 XMODIFIERS 還高，
	如果為了保險起見，
	可以設定為 xim。</para>
      <screen>&prompt.user; <userinput>setenv GTK_IM_MODULE xim</userinput></screen>
      <para>如果要跨入 immodule 可以注意一下 
        <filename role="package">japanese/uim</filename>。
        uim 的目標是作為發展新 immodule 的基礎平台，
	目前已經有不少 Emacs 的輸入法在上面，像是 PinYin。
	或是 文具(wenju)，他已經在上面開發五筆和拼音輸入法，
	他利用 TIM(Table-based Input Method) 這個 GTK2 鍵盤輸入模組，
	將輸入法以轉換碼表的方式控制，可以方便的修改或新增碼表來定義新的輸入法，
	wenju 的網站有詳細介紹 TIM 的安裝與使用方式。
	某個大陸的輸入法 SCIM 也有做對 immodule 的支援。</para>
      <para>筆者把 xcin25 的注音，倉頡，嘸蝦米的 .cin 轉成了 wenju 的 .tim，
        有興趣的可以安裝 outta-port/wenju，然後設定 GTK_IM_MODULE 來選擇輸入法，
	或是在視窗上按右鍵選擇。
	注音是 phone.tim，倉頡是 cj.tim，嘸蝦米是 liu.tim，
	如果要使用注音可以輸入如下:</para>
      <screen>&prompt.user; <userinput>setenv GTK_IM_MODULE phone.tim</userinput></screen>
      <programlisting>
以下是轉換 .cin 到 .tim 的方式
# echo "TIMName=注音" > phone.tim.big5
# sed -e '/%/d' -e '/^#/d' phone.cin | awk '{print $1, $2}' | sort | uniq | \
      awk '{ if ( b == $1 ) { line = line "|" $2 } else { line = line "\n" $1 "=" $2 } b = $1 } END { print line }' \
      >> phone.tim.big5
# iconv -c -f big5 -t utf-8 phone.tim.big5 > /usr/X11R6/share/wenju/phone.tim
# gtk-query-immodules-2.0 > /usr/X11R6/etc/gtk-2.0/gtk.immodules

以下是輸入法的使用方式
Shift+Space 可切換英數輸入法
.           下一個字或詞
&gt;           下十個字或詞
,           上一個字或詞
&lt;           上十個字或詞
Space       選擇第零個字或詞
Ctrl+數字   選擇第幾個字或詞
Enter       送出</programlisting>
      <para>剛切換到 wenju 的時候，OverTheSpot 會在最左上角，
	可以任意輸入一個字然後按方向鍵，他就會跑到正確的位置上。
	不過選字的方式還需改進，目前是由 0 至 9，
        通常是習慣 1 至 0 的鍵盤排列順序。</para>
      <para>WWW: <ulink url="http://sourceforge.jp/projects/anthy/files/">
        UIM input method collection</ulink></para>
      <para>WWW: <ulink url="http://wenju.sourceforge.net/">
        文具(wenju) - Writing Tools</ulink></para>
      <para>WWW: <ulink url="http://www.turbolinux.com.cn/~suzhe/scim/">
        Smart Common Input Method(SCIM)</ulink></para>
  </sect1>

  <sect1 id="chinput">
    <title>chinput - 簡體中文 XIM Server</title>
      <para>從 <application>Chinput-2.1</application> 在
        GNU/Linux 平台上移植過來的軟體。
        目前有 <application>chinput</application> 與
        <application>chinput2</application> 兩種套件。
        中文 GB、BIG5、日文碼輸入伺服器。 </para>
      <para>安裝 <filename role="package">chinese/chinput</filename>。</para>
      <screen>
&prompt.root; <userinput>cp work/chinput/fonts/*.pcf.gz /usr/X11R6/lib/X11/fonts/local/</userinput>
&prompt.root; <userinput>mkfontdir /usr/X11R6/lib/X11/fonts/local/</userinput>
&prompt.root; <userinput>xset fp rehash</userinput></screen>
      <para>安裝 <filename role="package">chinese/chinput3</filename>。</para>
      <para>安裝好 chinput 後，記得要修改 .xinitrc 的 XMODIFIERS，
        如果沒有的話就自行加上。 </para>
      <programlisting>
export XMODIFIERS="@im=Chinput" </programlisting>
      <para>然後只要用 <command>chinput &</command> 就可以開啟，
        不過預設開啟的時候是隱藏的，必須再用 ctrl+space 叫出來。 </para>
      <programlisting>
熱鍵:
        Control-space:          隱藏/彈出輸入窗口
        Control-LeftButton:     隱藏輸入窗口(適用于在不支持XIM的軟件
                                中工作時想把輸入條隱藏的場合)
        Alt-space:              切換輸入條的顯示模式(根窗口模式和光標跟隨模式)
        Control-Alt-Space:      切換自動隱藏和非自動隱藏模式.
        F1:                     激活/禁止中文輸入
        (Shift)Fn:              切換輸入方法 </programlisting>
      <para>接著開啟一個簡體終端機：<command>rxvt -fm "-aliasdefault-ming-medium-r-normal--16-160-0-0-c-160-gb2312.1980-0" -im Chinput &</command></para>
      <para>Author WWW:<ulink url="http://www.opencjk.org/~yumj/">
        Yu Mingjian's Homepage</ulink></para>
  </sect1>

  <sect1 id="minichinput">
    <title>miniChinput - 簡體中文 XIM Server</title>
      <para>安裝 <filename role="package">chinese/miniChinput</filename>。</para>
      <para>修改 <filename>~/.xinitrc</filename> 文件加入
        <option>export XMODIFIERS=@im=Chinput</option>。</para>
      <para>WWW: <ulink url="http://sourceforge.net/projects/minichinput/">
        miniChinput project</ulink>
  </sect1>

  <sect1 id="xsim">
    <title>xsim - 簡體中文 XIM Server</title>
      <para>安裝 <filename role="package">chinese/xsim</filename>。</para>
      <para>確認存在 <filename>/usr/X11R6/lib/X11/locale/zh_CN/XI18N_OBJS</filename>，
        如果沒有，可以拷貝這個 
	<filename>/usr/X11R6/lib/X11/locale/zh/XI18N_OBJS</filename> 
	並修改注釋 <option>__XlcEucLoader</option> 的一行。</para>
      <para>修改 <filename>~/.xinitrc</filename> 文件加入 
        <option>export XMODIFIERS=@im=XSIM</option>。</para>
      <para>WWW: <ulink url="http://sourceforge.net/projects/xsim/">
	xsim project</ulink>
  </sect1>

  <sect1 id="fcitx">
    <title>fcitx - 簡體中文 XIM Server</title>
      <para>安裝 <filename role="package">chinese/fcitx</filename>。</para>
      <para>修改 <filename>~/.xinitrc</filename> 文件加入
        <option>export XMODIFIERS=@im=fcitx</option>。</para>
      <para>測試：</para>
      <screen>
&prompt.user; <userinput>setenv LANG zh_CN.EUC</userinput>
&prompt.user; <userinput>setenv LC_CTYPE zh_CN.EUC</userinput>
&prompt.user; <userinput>setenv XMODIFIERS @im=fcitx</userinput>
&prompt.user; <userinput>rxvt -fm "-*-gbk-*" -km gb &</userinput></screen>
      <para>如果是 KDE3 的使用者可能會發現無法使用的問題，
        可能是因為預設 Root 而 fcitx 並不支援，
	可以透過執行 qtconfig，選擇 Interface -&gt; 
	XIM Input Style: Over The Spot，
	File -&gt; Save，然後重開要輸入的軟體即可。</para>
      <para>WWW: <ulink url="www.fcitx.org/">
        fcitx project</ulink></para>
  </sect1>

  <sect1 id="aterm">
    <title>aterm - 支援 XIM 的中文終端機</title>
      <para><application>aterm</application> 是一套彩色 vt102 終端機軟體，
	支援透明和 XIM。</para>
      <para>安裝 <filename role="package">chinese/aterm</filename>。</para>
      <para>筆者目前使用的設定 <filename>~/.Xdefaults</filename></para>
      <programlisting>
! Begin ports/chinese/aterm configuration
aterm.borderColor:              black
aterm.background:               black
aterm.backspacekey:             "^H"
aterm.cursorColor:              IndianRed
aterm.foreground:               gray98
aterm.geometry:                 80x24
aterm.inputMethod:              xcin
aterm.multichar_encoding:       big5
aterm.preeditType:              OverTheSpot
aterm.scrollTtyKeypress:        True
aterm.scrollTtyOutput:          False
aterm.scrollBar_right:          True
aterm.shading:                  30
aterm.termName:                 xterm-color
aterm.transparent: True
aterm.transpscrollbar: True
aterm.troughColor:              black
!您可選擇想要的字體大小
! 國喬 16pt, 國喬 16pt
aterm.font:                     8x16
aterm.mfont:                    kc15f
! End ports/chinese/aterm configuartion</programlisting>
      <figure>
        <title>aterm snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/aterm" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://aterm.sourceforge.net/">
        aterm project</ulink></para>
  </sect1>

  <sect1 id="rxvt">
    <title>rxvt</title>
      <para><application>rxvt</application> 是 
	 ouR eXtended Virtual Terminal 的縮寫，一開始是與舊版本的
	<application>xcin</application> 配合才有一個可以輸入中文的
	Terminal，不過現在逐漸有其他的 Terminal 出現，以及 XIM 架構的確立，
	和 X Window 的盛行，Terminal 逐漸顯得渺小。</para>
      <para>目前 <application>rxvt</application> 有兩個版本，
        <application>rxvt</application>、
        <application>rxvt-devel</application> 等，都支援 XIM，
        建議使用 <application>rxvt-devel</application>，原因是
	<application>rxvt</application> 無法使用 TrueType 的中文字型來顯示。 </para>
      <para>安裝 <filename role="package">x11/rxvt-devel</filename>。</para>
      <para>另外再編輯 <filename>~/.Xdefaults</filename> 來完成中文設定，
	以下是筆者目前的設定： </para>
      <programlisting>
! Begin ports/x11/rxvt-devel configuration
rxvt.borderColor:              black
rxvt.background:               black
rxvt.backspacekey:             "^H"
rxvt.cursorColor:              IndianRed
rxvt.foreground:               gray98
rxvt.geometry:                 80x24
rxvt.inputMethod:              xcin
rxvt.multibyte_cursor:         yes
rxvt.multichar_encoding:       big5
rxvt.preeditType:              OverTheSpot
rxvt.scrollTtyKeypress:        True
rxvt.scrollTtyOutput:          False
rxvt.scrollBar_right:          True
rxvt.termName:                 xterm-color
rxvt.troughColor:              black
!您可選擇想要的字體大小
! 國喬 16pt, 國喬 16pt
rxvt.font:                     8x16
rxvt.mfont:                    kc15f
! End ports/x11/rxvt-devel configuartion</programlisting>
      <para>不過 <application>rxvt</application> 
	無法使用拷貝與貼上到其他的應用軟體，所以我通常都會改用
	<link linkend="eterm">Eterm</link> 來替代。</para>
      <para>不過黑底白字還是會有點醜，通常筆者都會找 XPM 來當底圖，
	<option>-pixmap xpmfile</option>，或是找比較深色的桌布，
	用 <option>-tr</option> 來把桌布當底圖。</para>
      <para>另外，現在還支援 Multibyte Character Cursor movement
	參數是 -mcc，可以一次移動一個漢字、一次漢字。
	所有原先一次半個漢字的東東(如在 <application>joe</application>、
	<application>pine</application>等)
	現在都可以方便的使用了！login 到別台電腦上也可以這樣子。
	不過原先用 <application>vim</application> 會變成一次移動兩個漢字，
	要 <option>set fileencoding=ansi</option> 才會正常。</para>
      <figure>
        <title>rxvt snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/rxvt" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://www.rxvt.org/">
        rxvt project</ulink> </para>
  </sect1>

  <sect1 id="eterm">
    <title>Eterm</title>
      <para>除了 <application>rxvt</application> 以外的另一個選擇，支援 
        XIM，功能少但是比 <application>rxvt</application> 穩定。
        tinting+transparency+scrollbar 則是另一個賣點。</para>
      <para>安裝 <filename role="package">chinese/eterm</filename>。</para>
      <para>如果習慣了 backspace 送出 ^H，可以將
        <command>eterm.backspacekey: "^H"</command>
	設定寫在 <filename>~/.Xdefaults</filename>。
        但是 Eterm 並不支援在 ~.Xdefaults 中的其他資訊，
	所以通常都會另外寫一個 script 來啟動 Eterm，
	例如寫在 <filename>/usr/X11R6/bin/eterm</filename>。</para>
      <programlisting>
Eterm --font "-*-medium-r-normal-*-*-160-*-*-c-*-iso8859-1"  \
	--mfont kc15f --mencoding big5 --input-method xcin \
	--preedit-type OverTheSpot -8 -g 80x24 -B next -O \
	--cmod 200 &</programlisting>
      <para>比較好玩的參數如：<option>-P "gaia.jpg@100x100"</option>，
        <option>-P "galleon.jpg@100x100"</option>，
	<option>-P "fourthday.jpg@100x100"</option>，
        <option>-P "night_of_the_dragon.jpg@100x100"</option> 
        等漂亮的底圖。所以筆者通常都會把圖加到 
	<filename>/usr/X11R6/share/Eterm/pix/</filename>，
	並修改 <filename>/usr/X11R6/share/Eterm/pix/pixmaps.list</filename>
	只留自己喜歡的圖。底圖以深色系為主，因為預設的字是白色。
	或是用自己喜歡的圖 <option>-P "ffx.jpg@100x100"</option>。</para>
      <figure>
        <title>Eterm snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/Eterm" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://www.eterm.org/">
        eterm project</ulink></para>
  </sect1>

  <sect1 id="mlterm">
    <title>mlterm - 多國語言終端機</title>
      <para>安裝 <filename role="package">x11/mlterm</filename>。</para>
      <para>並安裝 <application>chinese/kcfonts</application>，
        接著開始設定環境。</para>
      <para>在家目錄下建立 <filename>.mlterm</filename> 資料夾，
        並且增加兩個檔案，一個檔案是 <filename>~/.mlterm/main</filename>，
	增加如下的內容：</para>
      <programlisting>
bg_color=black
fg_color=white
geometry=80x24</programlisting>
      <para>若是 XFree86 4.1.0 之前則另外加上 <option>big5_buggy=true</option>
       來解決複製貼上的問題。</para>
      <para>並增加另一個檔案 <filename>~/.mlterm/font</filename> 如下的內容：</para>
      <programlisting>
BIG5=16,kc15f;20,-*-medium-r-normal--20-*-big5-0;24,kc24f;</programlisting>
      <para>若是要使用 anti-alias 的功能則要修改 
        <filename>~/.mlterm/aafont</filename> 來增加以下的內容：</para>
      <programlisting>
ISO8859_1=AR PL Mingti2l Big5-ISO8859-1;
BIG5=AR PL Kaitim Big5-ISO10646-1;
JISX0208_1983=AR PL Kaitim Big5-BIG5-0;</programlisting>
      <para>並在 <filename>~/.mlterm/main</filename> 增加
        <option>use_anti_alias=true</option>。</para>
      <para>mlterm 本來有個蠻困擾的問題，就是對色碼的處理並不是很好，
        不過在 gugod 的提醒下，發現在處理色碼前先執行 screen，
	例如用 mlterm 來連 BBS，mlterm 就可以蠻正常的顯示色碼的部份。</para>
      <figure>
        <title>mlterm snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/mlterm" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://mlterm.sourceforge.net/">
	mlterm project</ulink></para>
  </sect1>

  <sect1 id="cxterm">
    <title>cxterm - X Window 下的內建輸入法中文終端機</title>
      <para>在 X Window 模式下執行的中文虛擬終端機，為最古老的中文顯示/輸
        入環境，提供各種中文內碼模式，包含 BIG5，HZ，GB 等等。每一個 
        <application>cxterm</application> 虛擬終端機都必須載入中文資料，
        耗用的系統資源相當大，故現在都以 
        <application>rxvt</application> 來取代之。</para>
      <para>安裝 <filename role="package">chinese/cxterm</filename>。</para>
      <para>然後用 <command>CXterm -bg black -fg white -big5 &</command> 
	啟動就可以看到中文的介面了。</para>
      <para>以下是輸入法的切換方式：</para>
      <programlisting>
SHIFT_F1  - 英文輸入 (ASCII input)
SHIFT_F2  - 漢字輸入::內碼::
SHIFT_F3  - CXTERM input configuration
SHIFT_F4  - 漢字輸入::拼音::
SHIFT_F5  - 漢字輸入::標點符號::
SHIFT_F6  - 漢字輸入::零壹注音::
SHIFT_F7  - 漢字輸入::倉頡::
SHIFT_F8  - 漢字輸入::英漢::
SHIFT_F9  - 漢字輸入::許式注音::
SHIFT_F10 - 漢字輸入::無蝦米::
CTRL_滑鼠中鍵 - POPUP CONFIGURATION PANEL</programlisting>
      <figure>
        <title>cxterm snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/cxterm" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://cxterm.sourceforge.net/">
        cxterm project</ulink></para>
  </sect1>

  <sect1 id="newinputmethod">
    <title>新增輸入法 - 嘸蝦米輸入法為例</title>
      <para>目前常見的輸入法表格有兩種格式：<filename>tit</filename> 及 
        <filename>cin</filename>。這兩種都是純文字格式
        (換句話說您可以直接用文書編輯器來觀看)。
        但各個中文系統為了加快搜尋速度，多半提供工具
        程式將純文字格式轉為特殊的二進位檔。如果您要安裝某種輸入法，
        必須取得它的 <filename>tit</filename> 或 <filename>cin</filename> 
        表格，或是轉換後的格式。</para>
      <para>以下嘸蝦米輸入法為例，分別說明如何在各中文系統中加入嘸蝦米輸入法：</para>
      <para>行易公司已經不在允許嘸蝦米 .cin 檔的自由傳播，
        所以就沒有了嘸蝦米的輸入法表格。
        請自己利用檔案搜索引擎尋找。例如在以下的搜尋引擎輸入 liu55 </para>
      <para><ulink url="http://gais.cs.ccu.edu.tw/GaisFtp/">
        Flobal Area Information Servers FTP</ulink></para>
      <para>利用 <application>xcin25</application> 的工具程式 
        <application>cin2tab</application> 將 <filename>.cin</filename> 
        表格轉換為 <filename>.tab</filename> 檔：</para>
      <screen>
&prompt.root; <userinput>/usr/X11R6/lib/X11/xcin25/bin/cin2tab liu55.cin</userinput>
CIN2TAB 版本 (xcin 2.5.2.2) 字集編碼名稱=big5
cin2tab: cin 表格檔: liu55.cin, 使用模組: gencin 版本 20000827。
cin2tab: 定義鍵的數目: 31
cin2tab: 字鍵的最大長度: 5
cin2tab: 編碼的字元總數: 13973
cin2tab: 定義的字元數目: 23411
cin2tab: 已定義的字鍵編碼數目: 23411
cin2tab: 忽略的已定義字元數目: 0
cin2tab: 記憶體模式: 1</screen>
      <para>它會產生 <filename>liu55.tab</filename> 這個檔案。將它放到 
        <filename>/usr/X11R6/lib/X11/xcin25/tab/big5/</filename>
        的目錄中。</para>
      <para>接下來請修改您的 xcinrc 的設定檔，其中每行開頭的 - 和 + 
        分別代表刪除這一行和新增這一行，內容如下： </para>
      <programlisting>
;
;  This is the global configuration of the zh_TW.Big5 locale
;
(define zh_TW.Big5
  '((DEFAULT_IM         "cj")
    (DEFAULT_IM_MODULE  "gen_inp")
    (DEFAULT_IM_SINMD   "DEFAULT")
    (PHRASE             "default.phr")
    (CINPUT             (cj simplex phone bimspinyin bimsphone jyutping
-                         array30 zh_hex))
+                         array30 zh_hex liu55))
    (FONTSET            "-sony-*-16-*-iso8859-1,-*-16-*-big5-0")
    (OVERSPOT_FONTSET   "-sony-*-16-*-iso8859-1,-*-16-*-big5-0")))

;
;  Here are detailed configuration of each IM (for zh_TW.Big5 locale).
;
+ (define liu55@big5
+         '((SETKEY               9)))</programlisting>
      <para>啟動 <application>xcin25</application>：</para>
      <screen>
&prompt.root; <userinput>xcin2.5 &</userinput> </screen>
      <para>
        然後用 <command>CTRL-ALT-9</command> 即可叫出嘸蝦米輸入法。 </para>
      <para> WWW: <ulink url="http://xcin.linux.org.tw/xcin/2.5.2/Cin.html">
        xcin Cin檔案格式</ulink> </para>
      <para>以下是如何在 <application>big5con</application> 
	底下新增嘸蝦米輸入法。 </para>
      <para>到檔案搜索引擎找 boshiamy，就可以發現有 boshiamy.tgz，
        下載之後，解壓縮到 <filename>/usr/local/lib</filename>。 </para>
      <screen>
&prompt.root; <userinput>fetch ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/NTU/woju/binary/boshiamy.tgz</userinput>
&prompt.root; <userinput>tar zxvf boshiamy.tgz -C /usr/local/lib</userinput> </screen>
      <para>然後編輯 <filename>/usr/local/bin/et</filename> 加入 
        <option>-in9 Boshiamy.tab</option>，然後直接打
        <command>et</command> 來啟動 <application>big5con</application>。 </para>
  </sect1>

  <sect1 id="shell">
    <title>在 Bash/Tcsh Shell 底下的中文輸入</title>
      <para>在我們完成中文系統建立的工作，您已經可以在您的 FreeBSD 
        機器上面顯示中文了。但如果您使用 Shell，您會發現，
	您的 FreeBSD 只能顯示中文，卻無法接受中文的輸入工作。
	如果您想要改進這個問題，您必須自己修改一些設定，使 FreeBSD 
	系統可以接受中文的輸出與輸入工作。</para>
      <para>您必須要在您使用的 Shell 起始檔增加 locale 的設定。
        (如果您的家目錄中並未有這樣的檔案，請自行建立) </para>
      <para>Bash Shell：</para>
      <para>在 <filename>~/.profile</filename>  或
        <filename>~/.bashrc</filename> 增加下面的內容：</para>
      <programlisting>
#stty cs8 -istrip
#stty pass8
export LANG=zh_TW.Big5
export LC_CTYPE=zh_TW.Big5</programlisting>
      <para>另外在 <filename>~/.inputrc</filename> 檔增加設定如下：</para>
      <programlisting>
# inputrc - global inputrc for libreadline
# See readline(3readline) and `info rluserman' for more information.

# Be 8 bit clean.
set meta-flag on
set input-meta on
set output-meta on

# To allow the use of 8bit-characters like the german umlauts, comment out
# the line below. However this makes the meta key not work as a meta key,
# which is annoying to those which don't need to type in 8-bit characters.
set convert-meta off</programlisting>
      <para>Tcsh Shell：</para>
      <para>在 <filename>~/.login</filename> 或 
        <filename>~/.cshrc</filename> 增加設定如下：</para>
      <programlisting>
#stty cs8 -istrip
#stty pass8
setenv LANG zh_TW.Big5
setenv LC_CTYPE zh_TW.Big5
set dspmbyte="
0000000000000000000000000000000000000000000000000000000000000000
2222222222222222222222222222222222222222222222222222222222222220
2333333333333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333333333333333333333330"</programlisting>
      <para>請將 dspmbyte 在 "" 中的字串接起來。</para>
      <para>關於 <option>dspmtype</option> 設定的原因是因為在 
        <application>tcsh</application> 的 man page 中，對照 
        Big5 的使用字碼表 [\x81-\xFE][\x40-\x7E\x80-\xFE] 而設定的。</para>
      <para>tcsh-6.11 內建了中文 big5 支援</para>
      <programlisting>
       dspmbyte (+)
               If set to `euc', it enables  display  and  editing
               EUC-kanji(Japanese)  code.   If  set to `sjis', it
               enables display  and  editing  Shift-JIS(Japanese)
               code.   If  set  to `big5', it enables display and
               editing Big5(Chinese) code.  If set to the follow
               ing  format,  it  enables  display  and editing of
               original multi-byte code format:</programlisting>
      <para>所以以後 dspmbyte 設定成 big5，不用設定一大串；
	或者乾脆不要設定 dspmbyte，只要 LANG 為 zh_TW.Big5 就可以了 :)</para>
      <programlisting>
2001/09/05 -CURRENT 匯入 tcsh-6.11
2001/10/08 -STABLE  匯入 tcsh-6.11
http://www.freebsd.org/cgi/cvsweb.cgi/src/contrib/tcsh/Fixes</programlisting>
<!--      <para>最後，請您自己準備一個已經包含中文字的檔案，利用 
        <application>grep</application> 
        工具程式來搜尋其中的文字。如果可以找得到，
        表示您的 FreeBSD 系統已經可以處理中文字了。</para>-->
      <figure>
        <title>tcsh snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/tcsh" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
  </sect1>

  <sect1 id="big5fs">
    <title>big5fs - Joliet, VFAT 和 NTFS 檔案系統的中文顯示</title>
      <para>如果您的電腦是 FreeBSD 與 VFAT (Windows95/98) 或是
        NTFS (Windows NT/2000) 並存，
        而且又須要存取 DOS 檔案系統或是 NTFS 檔案系統的中文檔名，
        或是需要讀取 Joliet (CDROM) 內的中文，
        請依照以下的步驟進行。它會安裝三個 kernel 模組，
        cd9660.ko, msdos.ko(msdosfs.ko) 和 ntfs.ko，
        將可以讓使用者讀取在 Joliet, VFAT 和 NTFS 檔案系統上的 
        中文檔名。</para>
      <para>必須把 kernel 中的 
        <option>options MSDOSFS</option> 與 
        <option>options CD9660</option> comment 掉，並重新 
        <command>make kernel</command> 後，並且重新開機後，才能安裝 
        <application>big5fs</application>。
	因為上面的 kernel 選項會和這個 port 所安裝的 kernel 模組有衝突，
	而 kernel 選項會比 kernel 模組優先，
	也沒辦法關閉這些選項來讓 kernel 使用 kernel 模組，
	所以就一定得重編 kernel。
	不然當安裝完後，執行 <filename>big5fs.sh</filename> 就會出現
	<option>kldload: can't load cd9660: File exists</option> 或是
	<option>module_register: module cd9660 already exists!
	linker_file_sysinit "cd9660.ko" failed to register! 17</option>
	之類的錯誤訊息，代表著模組有衝突，可能是已經設定為 kernel 選項，
	或是已經用 kldload 載入了。</para>
      <programlisting>
--- GENERIC.orig	Fri May 16 17:39:13 2003
+++ GENERIC		Wed May 28 03:37:52 2003
@@ -38,8 +38,8 @@
 options 	MD_ROOT			#MD is a potential root device
 options 	NFS			#Network Filesystem
 options 	NFS_ROOT		#NFS usable as root device, NFS required
-options 	MSDOSFS			#MSDOS Filesystem
-options 	CD9660			#ISO 9660 Filesystem
+#options 	MSDOSFS			#MSDOS Filesystem
+#options 	CD9660			#ISO 9660 Filesystem
 options 	CD9660_ROOT		#CD-ROM usable as root, CD9660 required
 options 	PROCFS			#Process filesystem
 options 	COMPAT_43		#Compatible with BSD 4.3 [KEEP THIS!]</programlisting>
      <para>在安裝前先檢查 <filename>/usr/src/sys</filename> 目錄要已有了，
        若沒可用 <command>/stand/sysinstall</command> 和安裝光碟安裝。
	由於 kernel 模組和系統有相依性，
	必須取得您當時安裝時的 kernel 版本才行。</para>
      <para>安裝 <filename role="package">chinese/big5fs</filename>。</para>
      <para>安裝好後，執行 
	<command>/usr/local/etc/rc.d/big5fs.sh</command> 就會載入上述的模組，
	好讓 mount 指令能使用這些模組，通常也會在開機時自動執行，
	以防 mount 指令直接讀取了 <filename>/modules</filename> 底下的
	kernel 模組。</para>
      <para>如果不確定那些分割區可以 mount，可以用 <command>
	/stand/sysinstall</command> 的 Configure -&gt; Label 取得。</para>
      <para>以筆者為例，筆者有個 ad0s3 的分割區，所以先 
	<command>mkdir -p /mnt/ad0s3</command>，然後用 
	<command>mount -t msdos /dev/ad0s3 /mnt/ad0s3</command> 
	將該分割區 mount 起來測試看看，
	如果確定可以的話，寫入 <filename>/etc/fstab</filename>：</para>
      <programlisting>
/dev/ad0s3              /mnt/ad0s3      msdos   ro,noauto       0	0
</programlisting>
      <para>然後加個 <filename>/usr/local/etc/rc.d/big5mount.sh</filename>
	，裡面按照 rc.d 的規則在 start 的地方執行 
	<command>mount /mnt/ad0s3</command> 就可以了，
	也可以在 stop 時候加上相對應的指令來 <command>umount</command>。
	注意 rc.d 裡的 *.sh 會依字母順序執行，所以新的 xx.sh 一定要在
	<filename>big5fs.sh</filename> 後面，
	才能確定已經載入 kernel 模組。</para>
      <para>本來考慮使用 <application>mount_msdos</application> 
        的方式並修改該 table，不過因為 table 
        太小，沒辦法容納如此多的中文字元所以沒辦法實行。</para>
      <programlisting>
The following example fstab(5) entry enables support for Russian
filenames in mounted MS-DOS filesystems:

    /dev/ad0s2      /dos/c  msdos   rw,-W=koi2dos,-L=ru_RU.KOI8-R 0 0

See mount_msdos(8) for a detailed description of the -W and -L options.</programlisting>
      <para>5-CURRENT 已經有 kiconv，也有熱心的日本人弄了 I18N 修補檔，
        就不用裝這個 port，只要設定好 locale 就能正常的用中文。</para>
      <programlisting>
mount_cd9660
     -C charset
         Specify local charset to convert Unicode file names when using
         Joliet extensions.
mount_msdosfs
     -L locale
         Specify locale name used for file name conversions for DOS and
         Win'95 names.  By default ISO 8859-1 assumed as local character
         set.
     -D dos-codepage
         Specify the MS-DOS code page (aka IBM/OEM code page) name used
         for file name conversions for DOS names.
mount_ntfs
     -C charset
         Specify local charset to convert Unicode file names.  Currently
         only reading is supported, thus the file system is to be mounted
         read-only.</programlisting>
      <figure>
        <title>ntfs snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/ntfs" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
  </sect1>

  <sect1 id="gnuls">
    <title>gnuls - 用 ls 顯示特殊中文檔名和目錄</title>
      <para>使用 <application>gnuls</application> 取代 
        <application>ls</application> 的原因是沒有 <option>-N</option> 
        "四分衛" 就變成 "|分衛"。 </para>
      <programlisting>
       -N, --literal
              print  raw  entry  names  (don't treat e.g. control
              characters specially) </programlisting>
      <para>安裝 <filename role="package">misc/gnuls</filename>。</para>
      <para>並設定 <command>alias</command> 為
        <command> alias ls 'gnuls --color=auto --show-control-chars' </command>
        這樣 <application>gnuls</application> 顯示才會正常。 </para>
      <para><application>ls</application> 無法顯示中文通常都是設定了 LC_CTYPE 
	為 zh_TW.Big5 或是沒設定 LC_CTYPE 才會發生的問題，在 
	<filename>~/.cshrc</filename> 中加上下面的 alias 即可：</para>
      <programlisting>
alias ls 'env LC_CTYPE=en_US.ISO_8859-1 ls'</programlisting>
      <para>也有比較特殊的方法，像是 <command>ls | cat</command>。</para>
      <para>或是進行以下的步驟來修補 <filename>/usr/src/bin/ls</filename>
        ，如果沒有此目錄請自行安裝。 </para>
      <screen>
&prompt.root; <userinput>cd /usr/ports/outta-port/ls</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>
      <para>然後用 <command>env TERM=xterm-color zh-ls -G</command>
	就有彩色顯示的目錄與檔案了。</para>
      <note><para>以下的設定可以讓 <application>/bin/ls</application>
	還有 <application>tcsh</application> 內建的 
	<command>ls-F (or Ctrl-D)</command> 的彩色顯示一致
	，它是 tcsh builtin command，不過有時候會有問題。
	LSCOLORS 是給 ls 用的環境變數，而 LS_COLORS 則是給 gnuls，
	兩者的格式並不相同。</para>
      <programlisting>
&prompt.root; <userinput>setenv CLICOLOR</userinput>
&prompt.root; <userinput>set color</userinput>
&prompt.root; <userinput>setenv LS_COLORS 'di=0;34:ln=0;35:so=0;32:pi=0;33:ex=0;31:bd=0;34;46:cd=0;34;43'</userinput></programlisting></note>
      <figure>
        <title>gnuls snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/gnuls" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
  </sect1>

  <sect1 id="xpdf">
    <title>xpdf - 中文 PDF 的顯示</title>
      <para><application>xpdf</application> 是用來瀏覽
        Portable Document Format (PDF) 檔案的好工具。
	(通常也會稱這些檔案為 'Acrobat' 檔，因為 Adobe 的
	 PDF 軟體)</para>
      <para>安裝 <filename role="package">graphics/xpdf</filename>。</para>
      <para>安裝完後，只要在 <filename>~/.Xdefaults</filename> 
        中設定中文字型，就可以很正常的看非內嵌中文的檔案。</para>
      <programlisting>
xpdf.chineseCNSFont: -*-*-medium-r-normal-*-%s-*-*-*-*-*-big5-0
xpdf.chineseGBFont: -*-*-medium-r-normal-*-%s-*-*-*-*-*-gb2312.1980-0</programlisting>
      <para>現在 xpdf 已經將 xpdf 中的 CMap 與主程式分開了，
	如果要看到中文還必須安裝 xpdf 的 CMap 檔。
	當您看到這樣子的錯誤訊息：</para>
      <screen>
Error: Couldn't find cidToUnicode file for the 'Adobe-CNS1' collection
Error: Unknown character collection 'Adobe-CNS1'

Error: Couldn't find 'ETen-B5-H' CMap file for 'Adobe-CNS1' collection
Error: Unknown CMap 'ETen-B5-H' for character collection 'Adobe-CNS1'</screen>
      <para>
        則表示沒安裝 xpdf CMap，所以要安裝 <filename role="package">chinese/xpdf</filename> 並設定好字型。</para>
      <para>如果裝好還看到以下的訊息：</para>
      <screen>
Error: Couldn't find 'ETenms-B5-H' CMap file for 'Adobe-CNS1' collection
Error: Unknown CMap 'ETenms-B5-H' for character collection 'Adobe-CNS1'</screen>
      <para>這是因為 ETenms-B5-H 已經不在 Adobe 的現存標準內，
        您可以手動把 <filename>/usr/local/share/ghostscript/Resource/CMap/</filename>
	底下的 <filename>ETen-B5-H</filename> 拷貝成 
	<filename>ETenms-B5-H</filename>。</para>
      <para>如果遇到 Error: Couldn't find a font to substitute for 'ShanHeiSun-Light' ('Adobe-CNS1' character collection) ，那麼就要改一下 xpdfrc：</para>
      <programlisting>
psNamedFont16 ShanHeiSun-Light H ShanHeiSun-Light-B5-H Big5
psFont16 ShanHeiSun-Light H ShanHeiSun-Light-B5-H Big5</programlisting>
      <para><application>xpdf</application> 中也包含一個 PDF 轉純文字檔的程式，
	可以用 <command>pdftotext -enc Big5ascii file.pdf</command> 轉出文字檔
        <filename>file.txt</filename>，如果只用 <option>-euc Big5</option>
	英文會變成全形字。</para>       
      <para>xpdf-2.03 已加入 pdf bookmarks 的顯示功能，只是中文還不行。</para>
      <figure>
        <title>xpdf snapshot</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/xpdf" format="PNG">
          </imageobject>
        </mediaobject>
      </figure>
      <para>WWW: <ulink url="http://www.foolabs.com/xpdf/">
	xpdf project</ulink></para>
  </sect1>

</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../zh-tut.sgml" "part" "chapter")
     End:
-->
