<?xml version="1.0" encoding="utf-8"?>
<!--
     The FreeBSD Mongolian Documentation Project

     Original revision 41064

     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="printing">
  <info><title>Хэвлэлт</title>
    <authorgroup>
      <author><personname><firstname>Шон</firstname><surname>Келли</surname></personname><contrib>Хувь нэмэр болгон оруулсан </contrib></author>
      <!-- 30 Sept 1995 -->
    </authorgroup>
    <authorgroup>
      <author><personname><firstname>Жим</firstname><surname>Мок</surname></personname><contrib>Дахин бүтцийг өөрчилж шинэчилсэн </contrib></author>
    </authorgroup>
    <authorgroup>
      <author><personname><firstname>Цагаанхүүгийн</firstname><surname>Ганболд</surname></personname><contrib>Орчуулсан  </contrib></author>
      <author><personname><firstname>Шагдарын</firstname><surname>Нацагдорж</surname></personname></author>
    </authorgroup>
  </info>

  

  <sect1 xml:id="printing-synopsis">
    <title>Ерөнхий агуулга</title>
    <indexterm><primary>LPD түр хадгалах систем</primary></indexterm>
    <indexterm><primary>хэвлэлт</primary></indexterm>

    <para>&os; дээр хамгийн хуучин цохидог хэвлэгчдээс авахуулаад хамгийн сүүлийн
	хэвлэгчид хүртэл, мөн тэдгээрийн хооронд байгаа хэвлэгчид зэрэг төрөл бүрийн
	хэвлэгчдийг хэвлэхэд ашиглаж болдог бөгөөд энэ нь таны ажиллаж байгаа програмуудаас
	өндөр чанарын хэвлэсэн гаралтыг бүтээх боломж олгох юм.</para>

    <para>&os;-г бас сүлжээн дэх хэвлэх сервер болгон тохируулж бас болдог; энэ
	боломжид &os; нь бусад &os; компьютерууд, &windows; болон &macos; хостууд
	зэрэг төрөл бүрийн бусад компьютеруудаас хэвлэх ажлуудыг хүлээн авдаг.
	&os; нь зөвхөн нэг ажлыг тухайн үед хэвлэхийг баталгаажуулж ихэнх хэвлэлтийг аль
	хэрэглэгчид болон машинууд хийж байгаа талаар статистикууд цуглуулж
	хэний хэвлэсэн зүйл хэнийх болохыг үзүүлэх <quote>сурталчилгаа</quote>
	хуудсуудыг бүтээх зэрэг олон үйлдлийг хийж чаддаг.</para>

    <para>Энэ бүлгийг уншиж дууссаны дараа та дараах зүйлсийг мэдэх болно:</para>

    <itemizedlist>
      <listitem>
	<para>&os;-ийн хэвлэгчийн түр хадгалагчийг хэрхэн тохируулах талаар.</para>
      </listitem>

      <listitem>
	<para>Ирж байгаа баримтуудыг таны хэвлэгчид ойлгодог хэвлэх хэлбэршилтэд оруулж хөрвүүлэх
	зэрэг тусгай хэвлэх ажлуудыг өөрөөр зохицуулдаг хэвлэх шүүлтүүрүүдийг хэрхэн
	суулгах талаар.</para>
      </listitem>

      <listitem>
	<para>Толгой эсвэл сурталчилгаа хуудаснуудыг өөрийн хэвлэх зүйл дээрээ
	хэрхэн идэвхжүүлэх талаар.</para>
      </listitem>

      <listitem>
	<para>Бусад компьютерууд уруу холбогдсон хэвлэгчдээр хэрхэн хэвлэх талаар.</para>
      </listitem>

      <listitem>
	<para>Сүлжээнд шууд холбогдсон хэвлэгчдээр хэрхэн хэвлэх талаар.</para>
      </listitem>

      <listitem>
	<para>Хэвлэх ажлуудын хэмжээг хязгаарлах болон зарим хэрэглэгчдийг хэвлэхийг
	болиулах зэрэг хэвлэгчийн хязгаарлалтуудыг хэрхэн хянах талаар.</para>
      </listitem>

      <listitem>
	<para>Хэвлэгчийн статистикууд болон хэвлэгчийн хэрэглээнд зориулсан
	бүртгэлийг хэрхэн хадгалж байх талаар.</para>
      </listitem>

      <listitem>
	<para>Хэвлэх асуудлуудыг хэрхэн олж засварлах талаар.</para>
      </listitem>
    </itemizedlist>

    <para>Энэ бүлгийг уншихаасаа өмнө, та дараах зүйлсийг мэдэх шаардлагатай:</para>

    <itemizedlist>
      <listitem>
	<para>Шинэ цөмийг хэрхэн тохируулж суулгах талаар мэдэх
	  (<xref linkend="kernelconfig"/>).</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xml:id="printing-intro-spooler">
    <title>Танилцуулга</title>

    <para>&os; дээр хэвлэгчдийг ашиглахын тулд та тэдгээрийг
	<application>LPD</application> түр хадгалах систем буюу ердөө л
	<application>LPD</application> гэж бас нэрлэгддэг Берклигийн
	шугаман хэвлэгчийн түр хадгалах системтэй ажиллахаар болгож тохируулж болох юм.
	Энэ нь &os; дээрх стандарт хэвлэгч хянагч систем юм. Энэ бүлэг нь
	<application>LPD</application>-г танилцуулж түүний тохиргоог
	тайлбарлах болно.</para>

    <para>Хэрэв та <application>LPD</application> юм уу эсвэл бусад
	хэвлэгчийн түр хадгалах системийг мэддэг бол <link linkend="printing-intro-setup">Үндсэн тохируулга</link> хэсэг
	уруу шууд орохыг хүсэж болох юм.</para>

    <para><application>LPD</application> нь хостын хэвлэгчдийн талаар
	бүгдийг хянадаг. Энэ нь хэд хэдэн зүйлсийг хариуцдаг:</para>

    <itemizedlist>
      <listitem>
	<para>Залгагдсан хэвлэгчид болон сүлжээн дэх өөр хостуудад залгагдсан
	хэвлэгчдэд хандах хандалтыг хянадаг.</para>
      </listitem>

      <listitem>
        <indexterm><primary>хэвлэх ажлууд</primary></indexterm>

	<para>Файлууд хэвлэхээр өгөх боломжийг хэрэглэгчдэд зөвшөөрдөг; эдгээр
	өгөлтүүд нь <emphasis>jobs</emphasis> буюу <emphasis>ажлууд</emphasis>
	гэгддэг.</para>
      </listitem>

      <listitem>
	<para>Хэвлэгч болгоны хувьд <emphasis>queue</emphasis> буюу
	дарааллыг зохицуулж олон хэрэглэгчид нэгэн зэрэг хэвлэгчид хандах хандалтаас
	сэргийлдэг.</para>
      </listitem>

      <listitem>
	<para>Хэрэглэгчид хэвлэсэн тоо томшгүй олон юмнаас өөрсдийн хэвлэсэн ажлуудыг
	хялбархан олдог байхын тулд энэ нь <emphasis>толгой хуудаснуудыг</emphasis>
	(бас <emphasis>сурталчилгаа</emphasis> эсвэл <emphasis>тэсрэлт</emphasis>
	хуудсууд гэгддэг) хэвлэдэг.</para>
      </listitem>

      <listitem>
	<para>Цуваа портууд дээр холбогдсон хэвлэгчдийн холбооны параметрүүдэд
	анхаарлаа хандуулдаг.</para>
      </listitem>

      <listitem>
	<para>Өөр хост дээр байгаа <application>LPD</application> түр хадгалагч
	уруу сүлжээгээр ажлууд илгээж чаддаг.</para>
      </listitem>

      <listitem>
	<para>Төрөл бүрийн хэвлэгчийн хэлнүүд эсвэл хэвлэгчийн боломжуудад
	зориулж хэвлэх ажлуудыг хэлбэршүүлэх тусгай шүүлтүүрүүдийг ажиллуулж
	чаддаг.</para>
      </listitem>

      <listitem>
	<para>Хэвлэгчийн хэрэглээг бүртгэж чаддаг.</para>
      </listitem>
    </itemizedlist>

    <para>Тохиргооны файл  (<filename>/etc/printcap</filename>) болон
	тусгай шүүлтүүр програмууд ашиглан олон төрлийн хэвлэгч тоног төхөөрөмжүүдийн хувьд
	дээр дурдсануудын заримууд болон бүгдийг хийдэг байхаар
	<application>LPD</application> системийг та идэвхжүүлж чадна.</para>

    <sect2 xml:id="printing-intro-why">
      <title>Яагаад заавал түр хадгалагчийг ашиглах ёстой гэж</title>

      <para>Ганц хэрэглэгчийн систем дээр түр хадгалагч хэрэгтэй хэвээр 
        байдаг бөгөөд түр хадгалагчийг ашиглах ёстой юм,
	учир нь:</para>

      <itemizedlist>
	<listitem>
	  <para><application>LPD</application> нь ажлуудыг ард
		хэвлэдэг; та өгөгдлийг хэвлэгч уруу хуулагдахыг хүлээх
		хэрэггүй юм.</para>
	</listitem>

	<listitem>
	  <indexterm><primary>&tex;</primary></indexterm>

	  <para><application>LPD</application> нь  огноо/цаг бүхий толгой
		нэмэх эсвэл тусгай файлын хэлбэршилтээс (&tex; DVI файл зэрэг)
		хэвлэгчийн ойлгох хэлбэршилт уруу хөрвүүлдэг шүүлтүүрүүдээр дамжуулан
		хэвлэгдэх ажлыг тохиромжтойгоор ажиллуулдаг. Та гараараа эдгээр алхмуудыг
		хийх шаардлагагүй юм.</para>
	</listitem>

	<listitem>
	  <para>Хэвлэх боломж бүхий чөлөөтэй, арилжааны олон програмууд нь
		таны систем дээрх түр хадгалагчтай ярилцахыг ихэвчлэн хүлээж
		байдаг. Түр хадгалагч системийг тохируулснаар танд байгаа болон
		таны сүүлд суулгаж болох бусад програм хангамжуудыг илүү
		амархнаар та дэмжих болно.</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xml:id="printing-intro-setup">
    <title>Үндсэн тохируулга</title>

    <para><application>LPD</application> түр хадгалах системтэй хэвлэгчдийг
	ашиглахын тулд өөрийн хэвлэгчийн тоног төхөөрөмж болон <application>LPD</application>
	програм хангамжийг тохируулах хэрэгтэй болно. Энэ баримт нь тохиргооны
	хоёр түвшинг тайлбарладаг:</para>

    <itemizedlist>
      <listitem>
	<para>Хэвлэгчийг хэрхэн холбохыг сурахын тулд
	<link linkend="printing-simple">Хэвлэгчийн хялбар тохиргоо</link>
	хэсгийг үзэж <application>LPD</application>-д хэрхэн түүнтэй
	холбоо тогтоохыг хэлж хэвлэгч уруу цэвэр текст файлуудыг хэвлэх.</para>
      </listitem>

      <listitem>
	<para>Төрөл бүрийн тусгай файлын хэлбэршилтүүдийг хэрхэн хэвлэх,
	толгой хуудаснуудыг хэрхэн хэвлэх, сүлжээгээр хэрхэн хэвлэх, хэвлэгчдэд
	хандах хандалтыг хэрхэн хянах болон хэрхэн хэвлэгчийн бүртгэлийг хийхийг
	сурахын тулд <link linkend="printing-advanced">Хэвлэгчийн илүү
	нарийн тохиргоо</link> хэсгийг үзэх.</para>
      </listitem>
    </itemizedlist>

    <sect2 xml:id="printing-simple">
      <title>Хэвлэгчийн хялбар тохиргоо</title>

      <para>Энэ хэсэг нь хэвлэгчийг ашиглахын тулд хэвлэгчийн тоног төхөөрөмж болон
	<application>LPD</application> програм хангамжийг хэрхэн тохируулахыг
	хэлж өгнө. Энэ нь үндсэн ойлголтуудад сургана:</para>

      <itemizedlist>
	<listitem>
	  <para><link linkend="printing-hardware">Тоног төхөөрөмжийн тохиргоо</link>
		хэсэг нь хэвлэгчийг таны компьютер дээрх порт уруу холбох зарим
		заавруудыг өгдөг.</para>
	</listitem>

	<listitem>
	  <para><link linkend="printing-software">Програм хангамжийн тохиргоо</link>
		хэсэг нь <application>LPD</application> түр хадгалагчийн
		тохиргооны файлыг (<filename>/etc/printcap</filename>)
		хэрхэн тохируулахыг үзүүлдэг.</para>
	</listitem>
      </itemizedlist>

      <para>Хэвлэх өгөгдлийг хүлээн авахдаа компьютерийн локал интерфэйсүүдийг
	биш сүлжээний протоколыг ашигладаг хэвлэгчийг та тохируулж байгаа бол
	<link linkend="printing-advanced-network-net-if">Сүлжээнд
	холбогдсон өгөгдлийн урсгалын интерфэйсүүдтэй хэвлэгчид</link> хэсгийг
	үзнэ үү.</para>

      <para>Энэ хэсэг нь <quote>Хэвлэгчийн хялбар тохиргоо</quote> гэгддэг
	боловч яг үнэндээ нэлээн төвөгтэй юм. Хэвлэгчийг өөрийн компьютер болон
	<application>LPD</application> түр хадгалагчтай цуг ажиллуулна гэдэг
	хамгийн хэцүү хэсэг юм. Толгой хуудаснууд болон бүртгэл хийх зэрэг дэвшилтэт
	тохируулгууд нь хэвлэгчийг ажиллуулсны дараа нэлээн амархан байдаг.</para>

      <sect3 xml:id="printing-hardware">
	<title>Тоног төхөөрөмжийн тохиргоо</title>

	<para>Энэ хэсэг нь өөрийн PC-тэй хэвлэгч холбох төрөл бүрийн аргуудын
	талаар хэлдэг. Энэ нь портууд ба кабелиудын талаар болон &os;-г хэвлэгчтэй
	харилцдаг болгохын тулд танд хэрэг болох цөмийн тохиргооны талаар бас
	өгүүлнэ.</para>

	<para>Хэрэв та өөрийн хэвлэгчийг аль хэдийн холбосон бөгөөд
	өөр үйлдлийн систем дээр түүгээр амжилттай хэвлэсэн бол
	<link linkend="printing-software">Програм хангамжийн тохиргоо</link>
	хэсэг уруу алгасаж болох юм.</para>

	<sect4 xml:id="printing-ports">
	  <title>Портууд ба кабелиуд</title>

	  <para>PC дээр ашиглагдах зориулалттай худалдаалж байгаа хэвлэгчид нь
		ерөнхийдөө доорх гурван интерфэйсийн аль нэг юм уу эсвэл
		олон интерфэйстэй ирдэг:</para>

	  <itemizedlist>
	    <listitem>
	      <indexterm>
		<primary>хэвлэгчид</primary>
		<secondary>цуваа</secondary>
	      </indexterm>

	      <para><emphasis>Цуваа</emphasis> интерфэйсүүд буюу бас
		RS-232 эсвэл COM портууд гэгддэг интерфэйсүүд нь өгөгдлийг
		хэвлэгч уруу илгээхдээ таны компьютер дээрх цуваа портыг
		ашигладаг. Цуваа интерфэйсүүд нь компьютерийн аж үйлдвэрлэлд
		түгээмэл байдаг бөгөөд кабелиуд нь бэлэн байж байдгаас гадна
		хийхэд хялбар байдаг. Цуваа интерфэйсүүд нь заримдаа
		тусгай кабелиудыг шаарддаг бөгөөд танаас төвөгтэй холбооны
		сонголтуудыг тохируулахыг шаардаж болох юм. Ихэнх PC-ний
		цуваа портууд нь хамгийн их дамжуулах хурдны хувьд 115200&nbsp;bps
		хурдтай байдаг бөгөөд их том график хэвлэх ажлыг үүгээр хийх
		нь практикийн хувьд төвөгтэй болгодог.</para>
	    </listitem>

	    <listitem>
	      <indexterm>
		<primary>хэвлэгчид</primary>
		<secondary>зэрэгцээ</secondary>
	      </indexterm>

	      <para><emphasis>Зэрэгцээ</emphasis> интерфэйсүүд нь
		өгөгдлийг хэвлэгч уруу илгээхдээ таны компьютерийн
		зэрэгцээ портыг ашигладаг. Зэрэгцээ интерфэйсүүд нь
		PC-ийн зах зээлд нийтлэг байдаг бөгөөд RS-232 цуваагаас
		илүү хурдан байдаг. Кабелиуд нь байдаг боловч гараар хийхэд
		илүү төвөгтэй байдаг. Зэрэгцээ интерфэйсүүдэд холбооны сонголтууд
		ихэвчлэн байдаггүй болохоор тэдгээрийн тохиргоог маш хялбар
		болгодог.</para>

	      <indexterm>
	        <primary>centronics</primary>
		<see>зэрэгцээ хэвлэгчид</see>
	      </indexterm>
	      <para>Зэрэгцээ интерфэйсүүд нь хэвлэгчийн холбогчийн төрлийн
		нэрээр нэрлэгдсэн <quote>Centronics</quote>
		интерфэйсүүд гэж заримдаа хэлэгддэг.</para>
	    </listitem>

	    <listitem>
	      <indexterm>
		<primary>хэвлэгчид</primary>
		<secondary>USB</secondary>
	      </indexterm>

	      <para>Universal Serial Bus буюу Универсал Цуваа Шугам гэгддэг
		USB интерфэйсүүд нь зэрэгцээ болон RS-232 цуваа интерфэйсүүдээс
		бүр илүү хурдаар ажиллаж чаддаг. Кабелиуд нь хялбар бөгөөд
		хямд байдаг. USB нь RS-232 болон Зэрэгцээ интерфэйсүүдээс
		хэвлэхийн хувьд илүү хүчирхэг боловч &unix; системүүд дээр
		тийм ч сайн дэмжигдсэн байдаггүй. Энэ асуудлыг тойрон гарахын
		тулд олон хэвлэгчид байдаг USB болон Зэрэгцээ интерфэйсүүдтэй
		тийм хэвлэгч худалдан авах явдал юм.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Ерөнхийдөө зэрэгцээ интерфэйсүүд нь зөвхөн нэг талын холбоог
		(компьютераас хэвлэгч уруу) санал болгодог бол цуваа болон
		USB нь хоёр талын холбоог өгдөг. Шинэ зэрэгцээ портууд
		(EPP болон ECP) болон хэвлэгчид нь IEEE-1284 нийцтэй
		кабель ашиглаж байгаа бол &os; дээр хоёр тал уруу
		чиглэсэн холбоог хийж чаддаг.</para>

	  <indexterm><primary>PostScript</primary></indexterm>

	  <para>Зэрэгцээ портоор хэвлэгч уруу чиглэсэн хоёр талын холбоог
		ерөнхийдөө хоёр аргын аль нэгээр хийдэг. Эхний арга нь
		хэвлэгчийн ашигладаг хувийн хэлээр ярьдаг &os;-ийн
		өөрчлөн бүтээсэн хэвлэгчийн драйверийг хэрэглэдэг. Энэ нь
		бэхэн хэвлэгчдэд нийтлэг байдаг бөгөөд бэхний түвшин
		болон бусад төлвийн мэдээллийг үзүүлэхэд хэрэглэгддэг.
		Хоёр дахь аргыг хэвлэгч &postscript;-г дэмждэг үед
		ашигладаг.</para>

	  <para>&postscript; ажлууд нь жинхэнэдээ хэвлэгч уруу илгээсэн
		програмууд юм; тэдгээр нь цаас бүтээх ерөөсөө шаардлагагүй
		бөгөөд үр дүнгүүдийг компьютер уруу шууд буцааж болох юм.
		&postscript; нь &postscript; програм дахь алдаанууд,
		эсвэл цаас гацсан зэрэг асуудлуудыг компьютерт хэлэхийн
		тулд хоёр талын холбоог бас ашигладаг. Таны хэрэглэгчид
		тийм мэдээллийг аваад талархах байх. Бас &postscript;
		хэвлэгчийн хувьд үр ашигтай бүртгэл хийх хамгийн шилдэг
		арга нь хоёр талын холбоог шаарддаг: хэвлэгчээс
		хуудасны тоог (өөрийн амьдралын хугацаандаа нийт хичнээн хуудас
		хэвлэсэн талаар) та асууж дараа нь хэрэглэгчийн ажлыг илгээж
		тэгээд дахиад хуудасны тоог асуудаг. Хоёр утгын нэгээс нөгөөг
		хасаад хэрэглэгчээс хичнээн цаасны төлбөр авахыг та мэдэх
		болно.</para>
	</sect4>

	<sect4 xml:id="printing-parallel">
	  <title>Зэрэгцээ портууд</title>

	  <para>Хэвлэгчийг зэрэгцээ интерфэйс ашиглаад залгахын тулд
		Centronics кабелийг хэвлэгч болон компьютерийн хооронд
		холбоно. Хэвлэгч, компьютер эсвэл хоёулантай нь цуг ирсэн
		зааврууд танд бүрэн гүйцэд заавар өгөх ёстой.</para>

	  <para>Компьютер дээрээ аль зэрэгцээ портыг ашигласнаа санах
		хэрэгтэй. Эхний зэрэгцээ порт нь &os;-д
		<filename>ppc0</filename> байх бөгөөд хоёр дахь
		<filename>ppc1</filename> гэх мэтээр байна.
		Хэвлэгчийн төхөөрөмжийн нэр мөн адил схемийг ашигладаг:
		<filename>/dev/lpt0</filename> нь эхний зэрэгцээ
		порт дээрх хэвлэгч гэх мэтээр байна.</para>
	</sect4>

	<sect4 xml:id="printing-serial">
	  <title>Цуваа портууд</title>

	  <para>Цуваа интерфэйсүүдийг ашиглан хэвлэгчийг залгахдаа зөв цуваа
		кабелийг хэвлэгч болон компьютерийн хооронд холбоно.
		Хэвлэгч, компьютер эсвэл хоёулантай нь цуг ирсэн
		зааврууд танд бүрэн гүйцэд заавар өгөх ёстой.</para>

	  <para>Хэрэв та <quote>зөв цуваа кабель</quote> нь юу
		вэ гэдэгт эргэлзэж байвал та дараах боломжуудаас аль
		нэгийг туршиж үзэхийг хүсэж болох юм:</para>

	  <itemizedlist>
	    <listitem>
	      <para><emphasis>Модемийн</emphasis> кабель нь кабелийн нэг талд
		байгаа холбогчийн зүү бүрийг нөгөө талд байгаа холбогчийн харгалзах зүүнд
		шулуухан холбодог. Энэ төрлийн кабелийг <quote>DTE-ээс DCE</quote>
		кабель гэж бас нэрлэдэг.</para>
	    </listitem>

	    <listitem>
	      <indexterm><primary>null-модем кабель</primary></indexterm>

	      <para><emphasis>null-модем</emphasis> кабель нь зарим зүүнүүдийг
		шууд шулуухнаар, заримуудыг нь хооронд нь солбидог (жишээ нь өгөгдлийг
		хүлээн авахын тулд өгөгдлийг илгээдэг) бөгөөд заримыг нь дотроо
		холбогч бүрийн таг дотор богино холбодог. Энэ төрлийн кабелийг
		<quote>DTE-ээс DTE</quote> кабель гэж бас нэрлэдэг.</para>
	    </listitem>

	    <listitem>
	      <para>Зарим нэг ховор хэвлэгчдэд шаардагддаг
		<emphasis>цуваа хэвлэгчийн</emphasis> кабель нь null-модем кабельтай
		адил боловч дотроо богино холбохын оронд зарим дохионуудыг өөрсдийн
		эсрэг талдаа илгээдэг.</para>
	    </listitem>
	  </itemizedlist>

	  <indexterm><primary>baud хурд</primary></indexterm>
	  <indexterm><primary>parity</primary></indexterm>
	  <indexterm><primary>урсгал хянах протокол</primary></indexterm>
	  <para>Та хэвлэгчийн хувьд холбооны параметрүүдийг бас тохируулах
		хэрэгтэй бөгөөд эдгээрийг хэвлэгч дээрх нүүрэн талын хяналтууд юм уу эсвэл
		DIP шилжүүлэгчдээр хийдэг. Таны компьютер болон хэвлэгч дэмждэг
		хамгийн их <literal>bps</literal>-ийг (bits per second буюу секундэд
		дамжих битийн тоо, заримдаа <emphasis>baud хурд</emphasis>) сонгох хэрэгтэй.
		7 юм уу эсвэл 8 өгөгдлийн бит; байхгүй (none), тэгш (even),
		эсвэл сондгой (odd) parity;
		болон 1 эсвэл 2 стоп битийг сонгох хэрэгтэй.  Бас урсгал хянах протоколыг
		сонгох хэрэгтэй: байхгүй (none) юм уу аль эсвэл XON/XOFF (бас
	    <quote>in-band</quote> эсвэл <quote>software</quote> гэгддэг)
		урсгал хяналтыг сонгох хэрэгтэй. Дараах програм хангамжийн тохиргоонд
		зориулж эдгээр тохируулгуудыг санах хэрэгтэй.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="printing-software">
	<title>Програм хангамжийн тохиргоо</title>

	<para>Энэ хэсэг нь &os; дээр <application>LPD</application>
	түр хадгалах системээр хэвлэхэд шаардлагатай програм хангамжийн тохируулгыг
	тайлбарладаг.
	</para>

	<para>Энд шаардлагатай алхмуудыг дурдав:</para>

	<procedure>
	  <step>
	    <para>Хэвлэгчийн хувьд ашиглаж байгаа портод зориулж шаардлагатай
		бол өөрийн цөмийг тохируулна; Таны юу хийх ёстойг
		 <link linkend="printing-kernel">Цөмийн тохиргоо</link> хэсэг
		хэлж өгнө.</para>
	  </step>

	  <step>
	    <para>Хэрэв та зэрэгцээ порт ашиглаж байгаа бол зэрэгцээ
		портынхоо хувьд холбооны горимыг тохируулах хэрэгтэй;
		<link linkend="printing-parallel-port-mode">Зэрэгцээ портын
		хувьд холбооны горимыг тохируулах нь</link> хэсгээс
		дэлгэрэнгүйг үзээрэй.</para>
	  </step>

	  <step>
	    <para>Үйлдлийн систем өгөгдлийг хэвлэгч уруу илгээж чадаж байгаа
		эсэхийг тест хийнэ. Үүнийг хэрхэн хийх тухай зарим нэгэн
		зөвлөгөөнүүдийг <link linkend="printing-testing">Хэвлэгчийн
		холбоонуудыг шалгах нь</link> хэсэг өгдөг.</para>
	  </step>

	  <step>
	    <para><filename>/etc/printcap</filename> файлыг засаж
		хэвлэгчдээ зориулж тохируулна. Үүнийг хэрхэн хийх талаар
		сүүлд нь энэ бүлгээс олох болно.</para>
	  </step>
	</procedure>

	<sect4 xml:id="printing-kernel">
	  <title>Цөмийн тохиргоо</title>

	  <para>Үйлдлийн системийн цөм тусгайлсан хэдэн төхөөрөмжүүдтэй
		ажиллахаар эмхэтгэгдсэн байдаг. Таны хэвлэгчид зориулагдсан
		цуваа болон зэрэгцээ интерфэйс нь эдгээрийн нэг хэсэг юм.
		Тийм болохоор хэрэв таны цөм ингэж тохируулагдаагүй бол
		нэмэлт цуваа эсвэл зэрэгцээ портын дэмжлэгийг нэмэх хэрэгтэй
		байж болох юм.</para>

	  <para>Таны ашиглаж байгаа цөм цуваа интерфэйсийг дэмжиж байгаа
		эсэхийг мэдэхийн тулд доор дурдсаныг бичнэ:</para>

	  <screen>&prompt.root; <userinput>grep sioN /var/run/dmesg.boot</userinput></screen>
	  <para>Энд байгаа <replaceable>N</replaceable> нь тэгээс эхлэх
		цуваа портын дугаар юм. Хэрэв та доор дурдсантай төстэй гаралтыг
		харвал:</para>

	  <screen>sio2 at port 0x3e8-0x3ef irq 5 on isa
sio2: type 16550A</screen>

	  <para>цөм нь портыг дэмждэг гэсэн үг юм.</para>

	  <para>Цөм нь зэрэгцээ интерфэйсийг дэмждэг эсэхийг мэдэхийн тулд доор дурдсаныг бичнэ:</para>

	  <screen>&prompt.root; <userinput>grep ppcN /var/run/dmesg.boot</userinput></screen>

	  <para>Энд байгаа <replaceable>N</replaceable> нь тэгээс эхлэх
		зэрэгцээ портын дугаар юм. Хэрэв та доор дурдсантай төстэй гаралтыг
		харвал:</para>

	    <screen>ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/8 bytes threshold</screen>

	    <para>цөм нь портыг дэмждэг гэсэн үг юм.</para>

	  <para>Таны хэвлэгчдээ зориулан ашиглаж байгаа зэрэгцээ эсвэл
		цуваа портыг үйлдлийн систем таньж хэрэглэдэг байхын тулд та өөрийн
		цөмийг дахин тохируулах хэрэгтэй болж болох юм.</para>

	  <para>Цуваа портод зориулж дэмжлэг нэмэхийн тулд цөмийн тохиргооны
		тухай хэсгийг үзнэ үү. Зэрэгцээ портод зориулж дэмжлэг
		нэмэхийн тулд тэр хэсгийг <emphasis>болон</emphasis> дараагийн
		хэсгийг үзнэ үү.</para>
	</sect4>
      </sect3>
	<sect3 xml:id="printing-parallel-port-mode">
	  <title>Зэрэгцээ портын хувьд холбооны горимыг тохируулах нь</title>

	  <para>Зэрэгцээ интерфэйсийг ашиглаж байхдаа &os; нь
		хэвлэгчийн хувьд тасалдлаар зохицуулагдах юм уу эсвэл байнга шалгах
		холбооны алийг ашиглахыг та сонгож болно. &os; дээрх ердийн
		хэвлэгчийн төхөөрөмжийн драйвер (&man.lpt.4;) нь
		портын бичил схемийг &man.ppc.4; драйвераар хянадаг
		&man.ppbus.4; системийг ашигладаг.</para>

	  <itemizedlist>
	    <listitem>
	      <para><emphasis>interrupt-driven буюу тасалдлаар зохицуулагдах</emphasis>
		арга нь GENERIC цөмд анхдагч байдаг. Энэ арганд
		үйлдлийн систем нь хэвлэгч өгөгдөл хүлээн авахад хэзээ бэлэн
		байгааг тодорхойлохын тулд IRQ шугамыг ашигладаг.</para>
	    </listitem>

	    <listitem>
	      <para><emphasis>polled</emphasis> буюу байнга шалгах арга нь
		үйлдлийн системд хэвлэгчээс өгөгдөл хүлээн авахад бэлэн
		байгаа эсэхийг нь давталттайгаар асуухыг зааж өгдөг. Бэлэн гэж хариулбал
		цөм илүү өгөгдөл илгээдэг.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Тасалдлаар зохицуулагдах арга нь ихэвчлэн хурдан байдаг боловч
		нандин IRQ шугамыг ихээр ашигладаг. Зарим шинэ HP хэвлэгчид
		нь зарим (яг тодорхой ойлгогдоогүй) хугацааны асуудлуудаас болоод
		тасалдлын горимд зөв ажилладаггүй гэгддэг. Эдгээр хэвлэгчдэд
		байнга шалгах горим хэрэгтэй. Аль ажиллаж байгааг нь л та ашиглах
		хэрэгтэй. Зарим хэвлэгчид нь аль алин дээр нь ажилладаг боловч
		тасалдлын горим асар удаан байдаг.</para>

	  <para>Та холбооны горимыг хоёр аргаар тохируулж болно: цөмийг
		тохируулах замаар эсвэл &man.lptcontrol.8; програм
		ашиглан хийж болно.</para>

	  <para><emphasis>Цөмийг тохируулах замаар холбоог тохируулахдаа:</emphasis></para>

	  <procedure>
	    <step>
	      <para>Өөрийн цөмийн тохиргооны файлаа засварлана. <literal>ppc0</literal>
		оруулгыг хайна. Хэрэв та хоёр дахь зэрэгцээ портыг тохируулж байгаа бол
		<literal>ppc1</literal>-г ашиглаарай. Гурав дахь портын хувьд
		<literal>ppc2</literal> гэх мэтээр ашиглана.</para>

	      <itemizedlist>
		<listitem>
		  <para>Хэрэв та тасалдлаар зохицуулагдах горимыг хүсэж байгаа бол
			дараах мөрийг:</para>

		  <programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		  <para><filename>/boot/device.hints</filename> файлд засварлаж
			<replaceable>N</replaceable>-ий оронд зөв IRQ дугаарыг
			солих хэрэгтэй. Цөмийн тохиргооны файл &man.ppc.4; драйверийг
			бас агуулсан байх ёстой:</para>

		  <screen>device ppc</screen>

		</listitem>

		<listitem>
		  <para>Хэрэв та байнга шалгадаг горимыг хүсэж байвал
			өөрийн <filename>/boot/device.hints</filename> файлаас
			дараах мөрийг арилгана:</para>

		  <programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		  <para>Зарим тохиолдолд энэ нь &os; дээр портыг байнга шалгах
			горимд оруулахад хангалтгүй байдаг. Ихэнхдээ энэ нь
			&man.acpi.4; драйвераас гардаг бөгөөд энэ нь
			төхөөрөмжүүдийг шалгаж болон залгаж чаддаг
			болохоор хэвлэгчийн порт уруу хандах горимыг
			хянаж чаддаг байна. Энэ асуудлыг засварлахын тулд
			та өөрийн &man.acpi.4; тохиргоог шалгах хэрэгтэй.</para>
		</listitem>
	      </itemizedlist>
	    </step>

	    <step>
	      <para>Файлыг хадгална. Дараа нь цөмд тохиргоо хийн бүтээж цөмийг
		суулгаад дахин ачаална. Илүү дэлгэрэнгүйг <link linkend="kernelconfig">цөмийн тохиргоо</link> хэсгээс үзнэ үү.</para>
	    </step>
	  </procedure>

	  <para><emphasis>Холбооны горимыг</emphasis>
	    &man.lptcontrol.8;-р тохируулахын тулд:</para>

	  <procedure>
	    <step>
	      <para>Доор дурдсаныг бичиж:</para>

<screen>&prompt.root; <userinput>lptcontrol -i -d /dev/lptN</userinput></screen>

	      <para><literal>lptN</literal>-д зориулж
		тасалдлаар зохицуулагдах горимыг тохируулна.</para>
	    </step>

	    <step>
	      <para>Доор дурдсаныг бичиж:</para>

<screen>&prompt.root; <userinput>lptcontrol -p -d /dev/lptN</userinput></screen>

	      <para><literal>lptN</literal>-д зориулж
		байнга шалгах горимыг тохируулна.</para>
	    </step>
	  </procedure>

	  <para>Эдгээр тушаалуудыг өөрийн <filename>/etc/rc.local</filename> файлд
		нэмж таны системийг ачаалах болгонд горимыг тохируулдаг байхаар хийж болох
		юм. Илүү мэдээллийг &man.lptcontrol.8;-с үзнэ үү.</para>
	</sect3>

	<sect3 xml:id="printing-testing">
	  <title>Хэвлэгчийн холбоог шалгах нь</title>

	  <para>Түр хадгалагч системийг тохируулахаасаа өмнө та үйлдлийн системийг
		өгөгдлийг амжилттайгаар өөрийн хэвлэгч уруу илгээж чадаж байгаа
		эсэхийг шалгах хэрэгтэй. Хэвлэгчийн холбоо болон түр хадгалагч системийг
		тусад нь дибаг хийх нь хамаагүй хялбар байдаг.</para>

	  <para>Хэвлэгчийг тест хийхийн тулд бид ямар нэг текст түүн үрүү илгээнэ.
		Илгээгдсэн тэмдэгтүүдийг тэр даруй нь хэвлэх хэвлэгчдийн хувьд
		&man.lptest.1; програм төгс байдаг: энэ нь бүх 96 хэвлэх
		боломжтой ASCII тэмдэгтүүдийг 96 мөрөнд үүсгэдэг.</para>

	  <indexterm><primary>PostScript</primary></indexterm>
	  <para>&postscript; (эсвэл бусад хэлэн дээр суурилсан) хэвлэгчийн
		хувьд бидэнд илүү төвөгтэй тест хэрэгтэй. Доор дурдсантай төстэй
		жижиг &postscript; програм хангалттай байх болно:</para>

	  <programlisting>%!PS
100 100 moveto 300 300 lineto stroke
310 310 moveto /Helvetica findfont 12 scalefont setfont
(Is this thing working?) show
showpage</programlisting>

	  <para>Дээрх &postscript; кодыг файлд хийгээд доорх хэсгүүдэд гарч
		байгаа жишээнүүдэд үзүүлсэн шигээр ашиглаж болно.</para>

	  <indexterm><primary>PCL</primary></indexterm>
	  <note>
	    <para>Энэ баримт нь хэвлэгчийн хэл гэдгийг Hewlett
	      Packard-ийн PCL биш харин &postscript;-тэй адил
		хэлийг хэлж байгаа юм. PCL нь мундаг ажиллагаатай боловч
		та цэвэр текстийг өөрийнх нь escape (зугтах) дарааллуудтай нь
		хольж болдог. &postscript; нь цэвэр текстийг шууд хэвлэж
		чаддаггүй бөгөөд энэ нь тусгай зохицуулалтууд хийж өгөх ёстой
		тийм хэвлэгчийн хэл юм.</para>
	  </note>

	  <sect4 xml:id="printing-checking-parallel">
	    <title>Зэрэгцээ хэвлэгчийг шалгах нь</title>

	    <indexterm>
        <primary>хэвлэгчид</primary>
        <secondary>зэрэгцээ</secondary>
      </indexterm>
	    <para>Энэ хэсэг нь зэрэгцээ порт уруу холбогдсон хэвлэгчтэй
		&os; холбогдож чадах эсэхийг хэрхэн шалгахыг хэлж
		өгөх болно.</para>

	    <para><emphasis>Зэрэгцээ порт дээрх хэвлэгчийг тест хийхийн тулд:</emphasis></para>

	    <procedure>
	      <step>
		<para>&man.su.1; ашиглан <systemitem class="username">root</systemitem> болно.</para>
	      </step>

	      <step>
		<para>Хэвлэгч уруу өгөгдөл илгээнэ.</para>

		<itemizedlist>
		  <listitem>
		    <para>Хэрэв хэвлэгч цэвэр текст хэвлэж чаддаг бол &man.lptest.1;-г
			ашиглана. Доор дурдсаныг бичнэ:</para>

		    <screen>&prompt.root; <userinput>lptest &gt; /dev/lptN</userinput></screen>

		    <para>Энд байгаа <replaceable>N</replaceable> нь
			тэгээс эхлэх зэрэгцээ портын дугаар юм.</para>
		  </listitem>

		  <listitem>
		    <para>Хэрэв хэвлэгч &postscript; эсвэл бусад хэвлэгчийн
			хэлийг ойлгодог бол жижиг програм хэвлэгч уруу илгээх
			хэрэгтэй. Доор дурдсаныг бичнэ:</para>

		    <screen>&prompt.root; <userinput>cat &gt; /dev/lptN</userinput></screen>

		    <para>Тэгээд мөр мөрөөр програмыг анхааралтай оруулах хэрэгтэй.
			Учир нь <literal>RETURN</literal>
		      эсвэл <literal>ENTER</literal> дарсны дараа та засварлаж
			чадахгүй болох юм. Програмаа оруулж дуусаад
			<literal>CONTROL+D</literal> юм уу эсвэл файлын төгсгөл
			товчлуур ямар байна тэрийг дарах хэрэгтэй.</para>

		    <para>Мөн өөрөөр програмыг файлд хийж доор дурдсаныг бичин өгч болно:</para>

		  <screen>&prompt.root; <userinput>cat file &gt; /dev/lptN</userinput></screen>

		    <para>Энд байгаа <replaceable>file</replaceable> нь
			таны илгээхийг хүсэж байгаа програмыг агуулсан файлын
			нэр юм.</para>
		  </listitem>
		</itemizedlist>
	      </step>
	    </procedure>

	    <para>Та ямар нэгэн зүйл харах ёстой. Текст зөв харагдахгүй
		байвал санаа зовсны хэрэггүй; бид иймэрхүү зүйлсийг
		сүүлд нь засах болно.</para>
	  </sect4>

	  <sect4 xml:id="printing-checking-serial">
	    <title>Цуваа хэвлэгчийг шалгах нь</title>

	    <indexterm>
        <primary>хэвлэгчид</primary>
        <secondary>цуваа</secondary>
      </indexterm>
	    <para>Энэ хэсэг нь цуваа порт уруу холбогдсон хэвлэгчтэй
		&os; холбогдож чадах эсэхийг хэрхэн шалгахыг хэлж
		өгөх болно.</para>

	    <para><emphasis>Цуваа порт дээрх хэвлэгчийг тест хийхдээ:</emphasis></para>

	    <procedure>
	      <step>
		<para>&man.su.1; ашиглан <systemitem class="username">root</systemitem> болно.</para>
	      </step>

	      <step>
		<para><filename>/etc/remote</filename> файлыг засварлана.
		Дараах мөрийг нэмнэ:</para>

		<programlisting>printer:dv=<filename>/dev/port</filename>:br#<replaceable>bps-rate</replaceable>:pa=<replaceable>parity</replaceable></programlisting>

		<indexterm><primary>bits-per-second</primary></indexterm>
		<indexterm><primary>цуваа порт</primary></indexterm>
		<indexterm><primary>parity</primary></indexterm>
		<para>Энд байгаа <replaceable>port</replaceable> нь
		цуваа портод (<literal>ttyu0</literal>,
		  <literal>ttyu1</literal>, гэх мэт) зориулсан төхөөрөмжийн оруулга,
		 <replaceable>bps-rate</replaceable> нь хэвлэгчийн
		холбогдох секундэд илгээх битийн хурд, болон <replaceable>parity</replaceable>
		нь хэвлэгчийн шаарддаг parity юм (<literal>even</literal>,
		  <literal>odd</literal>, <literal>none</literal>, эсвэл
		  <literal>zero</literal>).</para>

		<para>Цуваа шугамаар гурав дахь цуваа порт уруу 19200&nbsp;bps хурдаар
			parity байхгүйгээр холбогдсон хэвлэгчид зориулсан жишээ оруулга энд
			байна:</para>

		<programlisting>printer:dv=<filename>/dev/ttyu2</filename>:br#19200:pa=none</programlisting>
	      </step>

	      <step>
		<para>&man.tip.1; ашиглан хэвлэгч уруу холбогдоно.
		  Доор дурдсаныг бичнэ:</para>

		<screen>&prompt.root; <userinput>tip printer</userinput></screen>

		<para>Хэрэв энэ алхам нь ажиллахгүй бол <filename>/etc/remote</filename>
		файлыг дахин засварлаж <filename>/dev/ttyuN</filename>-ийн
		оронд <filename>/dev/cuaaN</filename>-г
		ашиглаж үзээрэй.</para>
	      </step>

	      <step>
		<para>Өгөгдлийг хэвлэгч уруу илгээнэ.</para>

		<itemizedlist>
		  <listitem>
		    <para>Хэрэв хэвлэгч цэвэр текст хэвлэж чаддаг бол &man.lptest.1;-г
			ашиглана. Доор дурдсаныг бичнэ:</para>

		    <screen>&prompt.user; <userinput>$lptest</userinput></screen>
		  </listitem>

		  <listitem>
		    <para>Хэрэв хэвлэгч &postscript; эсвэл бусад хэвлэгчийн
			хэлийг ойлгодог бол жижиг програм хэвлэгч уруу илгээх
			хэрэгтэй. Програмыг мөр мөрөөр <emphasis>маш анхааралтайгаар</emphasis>
			бичиж оруулах хэрэгтэй. Учир нь арилгах болон бусад
			засварлах товчлуурууд хэвлэгчийн хувьд чухал байж болох
			юм. Та програмыг бүгдийг нь хүлээж авсан гэж хэвлэгчид
			таниулахын тулд тусгай файлын төгсгөл товчлуурыг хэвлэгчид
			зориулж оруулах хэрэгтэй.  &postscript;-ийн хэвлэгчдийн
			хувьд <literal>CONTROL+D</literal> дарна.</para>

		    <para>Мөн өөрөөр та програмыг файлд хийж доор дурдсаныг бичин оруулж
			болно:</para>

		    <screen>&prompt.user; <userinput>&gt;file</userinput></screen>

		    <para>Энд байгаа <replaceable>file</replaceable> нь
			програмыг агуулж байгаа файлын нэр юм. &man.tip.1;
			файлыг илгээсний дараа шаардлагатай файлын төгсгөл
			товчлуурыг дарах хэрэгтэй.</para>
		  </listitem>
		</itemizedlist>
	      </step>
	    </procedure>

	    <para>Та ямар нэгэн зүйл хэвлэгдэхийг харах ёстой. Текст зөв харагдахгүй
		байвал санаа зовсны хэрэггүй; бид иймэрхүү зүйлсийг
		сүүлд нь засах болно.</para>
	  </sect4>
	</sect3>

      <sect3 xml:id="printing-printcap">
	<title>Түр хадгалагчийг идэвхжүүлэх  нь: <filename>/etc/printcap</filename>
	  файл</title>

	<para>Энэ үед таны хэвлэгч залгагдаж таны цөм түүнтэй холбогдохоор
	тохируулагдсан (хэрэв шаардлагатай бол) бөгөөд та хэвлэгч уруугаа зарим
	энгийн өгөгдлийг илгээж чаддаг байна. Одоо бид таны хэвлэгч уруу хандах
	хандалтыг хянахын тулд <application>LPD</application>-г тохируулахад
	бэлэн боллоо.</para>

	<para>Та <filename>/etc/printcap</filename> файлыг засварлаж
	<application>LPD</application>-г тохируулна. <application>LPD</application>
	түр хадгалагч систем нь түр хадгалагч ашиглагдах болгонд энэ файлыг уншдаг
	учир энэ файл уруу хийгдсэн шинэчлэл шууд нөлөөлөх болно.</para>

	<indexterm>
    <primary>хэвлэгчид</primary>
    <secondary>боломжууд</secondary>
  </indexterm>
	<para>&man.printcap.5; файлын хэлбэршилт хялбархан.
	<filename>/etc/printcap</filename> файлд засвар хийхдээ
	өөрийн дуртай текст засварлагчийг ашиглах хэрэгтэй. Хэлбэршилт нь
	<filename>/usr/share/misc/termcap</filename> болон
	  <filename>/etc/remote</filename> зэрэг бусад боломжийн
	файлуудтай төстэй байдаг. Хэлбэршилтийн тухай бүрэн
	мэдээллийг &man.cgetent.3;-с үзнэ үү.</para>

	<para>Энгийн түр хадгалагчийн тохиргоо дараах алхмуудаас тогтоно:</para>

	<procedure>
	  <step>
	    <para>Хэвлэгчид зориулж нэр (болон хэдэн тохиромжтой alias-уудыг)
		сонгож <filename>/etc/printcap</filename> файлд
		хийж өгнө; Нэрлэх тухай дэлгэрэнгүй мэдээллийг
		<link linkend="printing-naming">Хэвлэгчийг нэрлэх нь</link>
		хэсгээс үзнэ үү.</para>
	  </step>

	  <step>
	    <indexterm><primary>толгой хуудаснууд</primary></indexterm>

	    <para><literal>sh</literal> боломжийг оруулан толгой хуудаснуудыг
		болиулах хэрэгтэй (анхдагчаар идэвхтэй байдаг); Дэлгэрэнгүй мэдээллийг
		<link linkend="printing-no-header-pages">Толгой хуудаснуудыг
		дарах нь</link> хэсгээс үзнэ үү.</para>
	  </step>

	  <step>
	    <para>Түр хадгалах санг үүсгэж түүний байрлалыг <literal>sd</literal>
		боломжоор зааж өгөх хэрэгтэй; Дэлгэрэнгүй мэдээллийг <link linkend="printing-spooldir">Түр хадгалах санг үүсгэх нь</link>
		хэсгээс үзнэ үү.</para>
	  </step>

	  <step>
	    <para>Хэвлэгчид зориулж ашиглахаар <filename>/dev</filename>
		оруулгыг тохируулж <literal>lp</literal> боломжоор
		<filename>/etc/printcap</filename> файлд түүнийг тэмдэглэх
		хэрэгтэй; Дэлгэрэнгүй мэдээллийг <link linkend="printing-device">Хэвлэгчийн төхөөрөмжийг таних нь</link>
		хэсгээс үзнэ үү. Хэрэв хэвлэгч цуваа порт дээр байгаа бол
		холбооны параметрүүдийг <link linkend="printing-commparam">Түр хадгалагчийн холбооны
		параметрүүдийг тохируулах нь</link> хэсэгт хэлэлцсэн
		<literal>ms#</literal> боломжоор тохируулах хэрэгтэй.</para>
	  </step>

	  <step>
	    <para>Цэвэр текст оруулах шүүлтүүрийг суулгана; Дэлгэрэнгүйг
		<link linkend="printing-textfilter">Текст шүүгчийг суулгах нь</link>
		хэсгээс үзнэ үү.</para>
	  </step>

	  <step>
	    <para>&man.lpr.1; тушаалаар ямар нэг юм хэвлэж тест хийнэ.
		Илүү дэлгэрэнгүйг <link linkend="printing-trying">Турших нь</link> болон
	      <link linkend="printing-troubleshooting">Алдааг олж засварлах</link>
		хэсгүүдээс үзнэ үү.</para>
	  </step>
	</procedure>

	<note>
	  <para>&postscript; хэвлэгчид зэрэг хэлэн дээр суурилсан хэвлэгчид цэвэр
		текстийг шууд хэвлэж чаддаггүй. Дээр болон дараагийн хэсгүүдэд
		тайлбарласан энгийн тохиргоо нь хэрэв та ийм хэвлэгч суулгаж байгаа бол
		таныг зөвхөн хэвлэгчийн ойлгодог файлыг хэвлэнэ гэж тооцдог.</para>
	</note>

	<para>Хэрэглэгчид нь цэвэр текстийг таны системд суулгагдсан дурын хэвлэгч уруу
	өгч хэвлэж болно гэж ихэвчлэн боддог. <application>LPD</application> уруу
	залгагдсан програмууд өөрсдийн хэвлэлтийг хийхдээ бас ингэж тооцдог.
	Хэрэв та тийм хэвлэгч суулгаж хэвлэгчийн хэл дээр ажлуудаа хэвлэх
	<emphasis>болон</emphasis> цэвэр текст ажлуудыг хэвлэж чаддаг байхыг
	хүсэж байгаа бол дээр дурдсан энгийн тохиргоонд нэмэлт алхам нэмж өгөх
	зайлшгүй шаардлагатай: цэвэр текстээс &postscript; уруу автоматаар хөрвүүлэх
	програмыг суулгах хэрэгтэй. <link linkend="printing-advanced-if-conversion">Цэвэр текст ажлуудыг
	&postscript; хэвлэгчид дээр тааруулах нь</link> гэж нэрлэгдсэн
	хэсэг үүнийг хэрхэн хийхийг хэлж өгнө.</para>

	<sect4 xml:id="printing-naming">
	  <title>Хэвлэгчийг нэрлэх нь</title>

	  <para>Эхний (хялбар) алхам бол өөрийн хэвлэгчид зориулж нэр сонгох явдал
		юм. Ажиллагаатай нь холбогдуулж юм уу эсвэл этгээд чамин нэр
		сонгох нь яг үнэндээ хамаагүй юм. Учир нь та хэвлэгчид зориулж
		бас хэд хэдэн alias буюу өөр нэрсийг өгч болох юм.</para>

	  <para><filename>/etc/printcap</filename>-д тодорхойлогдсон
		хэвлэгчдийн хамгийн багаар бодоход аль нэг <literal>lp</literal>
		гэсэн alias-тай байх ёстой. Энэ нь анхдагч хэвлэгчийн нэр юм.
		Хэрэв хэрэглэгчдэд <envar>PRINTER</envar> орчны хувьсагч
		байхгүй юм уу эсвэл <application>LPD</application> тушаалуудыг
		өгөх тушаалын мөрөнд хэвлэгчийн нэрийг зааж өгөөгүй бол
		<literal>lp</literal> нь тэдгээрийн ашиглаж сурсан
		анхдагч хэвлэгч болох юм.</para>

	  <para>Хэвлэгчийн хамгийн сүүлийн alias-д хэвлэгчийн бүрэн тайлбарыг
		үйлдвэрлэгч болон загварыг оруулан өгөх нь нийтлэг практик байдаг.</para>

	  <para>Нэр болон зарим нийтлэг alias-уудыг сонгосныхоо дараа тэдгээрийг
		<filename>/etc/printcap</filename> файлд хийж өгөх хэрэгтэй.
		Хэвлэгчийн нэр хамгийн зүүн баганаас эхлэх ёстой. Alias болгоныг
		босоо шугамаар тусгаарлаж хамгийн сүүлийн alias-ийн ард тодорхойлох
		цэг тавьна.</para>

	  <para>Дараах жишээн дээр хоёр хэвлэгчийг (Diablo 630 шугамын хэвлэгч болон Panasonic KX-P4455 &postscript;
	    	лазерийн хэвлэгч) тодорхойлох <filename>/etc/printcap</filename>
		файлаас бид эхлэх болно:</para>

	  <programlisting>#
#  /etc/printcap for host rose
#
rattan|line|diablo|lp|Diablo 630 Line Printer:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:</programlisting>

	  <para>Энэ жишээн дээр эхний хэвлэгч нь <literal>rattan</literal> гэж
		нэрлэгдсэн бөгөөд <literal>line</literal>, <literal>diablo</literal>,
	    <literal>lp</literal>, болон <literal>Diablo 630 Line
	    Printer</literal> гэсэн alias-уудтай байна. Энэ нь
		<literal>lp</literal> alias-тай болохоор энэ нь
		бас анхдагч хэвлэгч юм. Хоёр дахь нь <literal>bamboo</literal> гэж
		нэрлэгдсэн бөгөөд <literal>ps</literal>, <literal>PS</literal>,
	    <literal>S</literal>, <literal>panasonic</literal>, болон
	    <literal>Panasonic KX-P4455 PostScript v51.4</literal> гэсэн
		alias-уудтай байна.</para>
	</sect4>

	<sect4 xml:id="printing-no-header-pages">
	  <title>Толгой хуудаснуудыг дарах нь</title>
	  <indexterm>
      <primary>хэвлэлт</primary>
      <secondary>толгой хуудаснууд</secondary>
    </indexterm>

	  <para><application>LPD</application> түр хадгалах систем нь
		ажил бүрийн хувьд анхдагчаар <emphasis>толгой хуудас</emphasis>
		хэвлэдэг. Толгой хуудас нь том сайхан үсгээр бичигдсэн ажлыг хүссэн
		хэрэглэгчийн нэр, ажил ирсэн хост болон ажлын нэрийг  агуулдаг.
		Харамсалтай нь энэ бүх нэмэлт текст нь энгийн хэвлэгчийн тохиргоог
		дибаг хийх замд саад болдог учир бид толгой хуудаснуудыг дарж
		хаах болно.</para>

	  <para>Толгой хуудаснуудыг дарахын тулд <filename>/etc/printcap</filename>
		файл дахь хэвлэгчийн оруулгад <literal>sh</literal> боломжийг
		нэмэх хэрэгтэй. Энд <literal>sh</literal> нэмсэн
		<filename>/etc/printcap</filename> файлын жишээ байна:</para>

	  <programlisting>#
#  /etc/printcap for host rose - no header pages anywhere
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:</programlisting>

	  <para>Бидний зөв хэлбэршилт хэрхэн хэрэглэснийг хараарай: эхний мөр нь
		хамгийн зүүн талын баганаас эхэлж дараа дараачийн мөрүүд нь
		хойш зай авагдсан байна. Оруулга дахь сүүлийн мөрөөс бусад мөр бүр
		урагш налуу тэмдэгтээр төгссөн байна.</para>
	</sect4>

	<sect4 xml:id="printing-spooldir">
	  <title>Түр хадгалах санг үүсгэх нь</title>
	  <indexterm><primary>хэвлэгчийн түр хадгалалт</primary></indexterm>
	  <indexterm><primary>хэвлэх ажлууд</primary></indexterm>

	  <para>Түр хадгалагчийн энгийн тохиргоон дахь дараагийн алхам нь хэвлэгдэх
		ажлууд хэвлэгдэх хүртлээ байдаг, түр хадгалагчийн бусад дэмжлэгийн
		файлууд бас байдаг <emphasis>түр хадгалах сан</emphasis>г
		үүсгэх явдал юм.</para>

	  <para>Түр хадгалах сангийн хувьсамтгайгаас болоод эдгээр сангуудыг
		<filename>/var/spool</filename>-д хийх нь зуршил
		болсон зүйл юм. Түр хадгалах сангуудын агуулгыг заавал нөөцлөх
		ч бас шаардлагагүй юм. Тэдгээрийг үүсгэх нь
		&man.mkdir.1; тушаалыг ажиллуулахтай адил хялбар юм.</para>

	  <para>Доор үзүүлсэн шиг хэвлэгчийн нэртэй адил нэрээр санг үүсгэх нь бас зуршил болсон
		байдаг:</para>

	  <screen>&prompt.root; <userinput>mkdir /var/spool/printer-name</userinput></screen>

	  <para>Гэхдээ та сүлжээндээ их олон хэвлэгчидтэй бол
		түр хадгалах сангуудаа зөвхөн <application>LPD</application>-ээр хэвлэхийн тулд
		нөөцөлсөн нэг сангийн доор хийхийг хүсэж болох юм. Бид
		<literal>rattan</literal> болон <literal>bamboo</literal>
		гэсэн хоёр жишээ хэвлэгчдээ зориулж үүнийг хийх болно:</para>

	  <screen>&prompt.root; <userinput>mkdir /var/spool/lpd</userinput>
&prompt.root; <userinput>mkdir /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>mkdir /var/spool/lpd/bamboo</userinput></screen>

	  <note>
	    <para>Хэрэглэгчдийн хэвлэх ажлын нууцлалын талаар та бодож байгаа бол
		түр хадгалах санд олон нийт хандах боломжгүй болгож түүнийг хамгаалахыг хүсэж
		болох юм. Түр хадгалах сангуудыг <systemitem class="username">daemon</systemitem> хэрэглэгч болон
		<systemitem class="groupname">daemon</systemitem> бүлэг эзэмшиж, өөр хэнээр ч биш зөвхөн эдгээрээр уншигдах,
		бичигдэх, болон хайлт хийгдэх боломжтой байх ёстой. Бид үүнийг
		өөрсдийн жишээ хэвлэгчдэд зориулж хийх болно:</para>

	    <screen>&prompt.root; <userinput>chown daemon:daemon /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>chown daemon:daemon /var/spool/lpd/bamboo</userinput>
&prompt.root; <userinput>chmod 770 /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>chmod 770 /var/spool/lpd/bamboo</userinput></screen>
	  </note>

	  <para>Төгсгөлд нь та эдгээр сангуудын талаар <application>LPD</application>
		програмд <filename>/etc/printcap</filename> файл ашиглан
		хэлж өгөх хэрэгтэй. Түр хадгалах сангийн замыг <literal>sd</literal>
		боломжтой цуг зааж өгнө:</para>

	  <programlisting>#
#  /etc/printcap for host rose - added spooling directories
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
	:sh:sd=<filename>/var/spool/lpd/rattan</filename>:
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
	:sh:sd=<filename>/var/spool/lpd/bamboo</filename>:</programlisting>

	  <para>Хэвлэгчийн нэр эхний баганаас эхэлж харин хэвлэгчийг тайлбарлах
		бусад бүх оруулгууд догол мөрөөс эхэлж мөр бүрийн төгсгөл урагш
		налуу тэмдэгтээр төгсөх ёстой.</para>

	  <para>Хэрэв та түр хадгалах санг <literal>sd</literal>-ээр зааж өгөхгүй бол
		түр хадгалах систем нь анхдагчаар <filename>/var/spool/lpd</filename>-г
		ашиглах болно.</para>
	</sect4>

	<sect4 xml:id="printing-device">
	  <title>Хэвлэгч төхөөрөмжийг таних нь</title>

	  <para><link linkend="printing-hardware">Тоног төхөөрөмжийн тохиргоо</link> хэсэгт бид
		порт болон тохирох <filename>/dev</filename> санг
		&os; нь хэвлэгчтэй холбогдохдоо ашиглахыг мэдлээ.
		Одоо бид <application>LPD</application>-д тэр
		мэдээллийг хэлнэ. Түр хадгалах систем нь хэвлэх ажилтай
		байгаа үедээ шүүгч програмын өмнөөс заасан төхөөрөмжийг онгойлгох
		болно (шүүгч програм нь өгөгдлийг хэвлэгч уруу дамжуулахыг
		хариуцдаг).</para>

	  <para><literal>lp</literal> боломж ашиглан
		<filename>/etc/printcap</filename> файлд
		<filename>/dev</filename> оруулгын замыг жагсааж өгнө.</para>

	  <para>Бидний ажиллах жишээн дээр <literal>rattan</literal> нь
		эхний зэрэгцээ порт дээр, <literal>bamboo</literal> нь
		зургаа дахь цуваа порт дээр байгаа гэж үзье; энд <filename>/etc/printcap</filename>
		файлд хийгдэх нэмэлтүүд байна:</para>

	  <programlisting>#
#  /etc/printcap for host rose - identified what devices to use
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:\
        :lp=<filename>/dev/ttyu5</filename>:</programlisting>

	  <para>Хэрэв та өөрийн <filename>/etc/printcap</filename> файл дээрээ
		хэвлэгчдээ зориулж <literal>lp</literal> боломжийг зааж өгөхгүй
		бол <application>LPD</application> нь анхдагчаар
		<filename>/dev/lp</filename>-г ашиглах болно.
		<filename>/dev/lp</filename> нь одоогоор &os; дээр
		байхгүй байгаа.</para>

	  <para>Хэрэв таны суулгаж байгаа хэвлэгч зэрэгцээ порт уруу холбогдсон бол
		<link linkend="printing-textfilter">Текст шүүгчийг суулгах нь</link>
		хэсэг уруу алгасаарай. Үгүй бол дараагийн хэсэг дэх заавруудыг
		дагахаа битгий мартаарай.</para>
	</sect4>

	<sect4 xml:id="printing-commparam">
	  <title>Түр хадгалагчийн холбооны параметрүүдийг тохируулах нь</title>
	  <indexterm>
      <primary>хэвлэгчид</primary>
      <secondary>цуваа</secondary>
    </indexterm>

	  <para>Зэрэгцээ портууд дээрх хэвлэгчдийн хувьд <application>LPD</application> нь
		bps хурд, parity, болон бусад цуваа холбооны параметрүүдийг хэвлэгч уруу өгөгдөл
		илгээдэг шүүгч програмын өмнөөс тохируулж чаддаг. Энэ нь давуу талуудтай, учир нь:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Энэ нь <filename>/etc/printcap</filename> файлыг
		засварлан өөр холбооны параметрүүдийг турших боломжийг танд
		олгодог; та шүүгч програмыг дахин эмхэтгэх шаардлагагүй.</para>
	    </listitem>

	    <listitem>
	      <para>Энэ нь өөр өөр цуваа холбооны тохируулгуудтай байж болох олон
		хэвлэгчдэд зориулж нэг шүүгч програмыг ашиглахаар
		болгож түр хадгалах системийг идэвхжүүлдэг.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Дараах <filename>/etc/printcap</filename> боломжууд нь
		<literal>lp</literal> боломжид жагсаагдсан төхөөрөмжийн
		цуваа холбооны параметрүүдийг хянадаг:</para>

	  <variablelist>
	    <varlistentry>
	      <term><literal>br#bps-rate</literal></term>

	      <listitem>
		<para>Төхөөрөмжийн холбооны хурдыг <replaceable>bps-rate</replaceable>
		болгож тохируулах бөгөөд <replaceable>bps-rate</replaceable> нь
		секундэд 50, 75, 110,
		  134, 150, 200, 300, 600, 1200, 1800, 2400, 4800, 9600,
		  19200, 38400, 57600, эсвэл 115200 бит байж болно.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>ms#stty-mode</literal></term>

	      <listitem>
		<para>Төхөөрөмжийг онгойлгосны дараа терминал төхөөрөмжид зориулж
		сонголтуудыг тохируулна. &man.stty.1; нь байж болох сонголтуудыг
		тайлбарладаг.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para><literal>lp</literal> боломжоор заагдсан төхөөрөмжийг
		<application>LPD</application> онгойлгох үед
		энэ нь төхөөрөмжийн үзүүлэлтүүдийг <literal>ms#</literal>
		боломжоор заагдсанаар тохируулдаг. Тухайлбал,
		&man.stty.1; гарын авлагын хуудсанд тайлбарлагдсан байгаа
		<literal>parenb</literal>,
	    <literal>parodd</literal>, <literal>cs5</literal>,
	    <literal>cs6</literal>, <literal>cs7</literal>,
	    <literal>cs8</literal>, <literal>cstopb</literal>,
	    <literal>crtscts</literal>, болон <literal>ixon</literal>
		горимууд юм.</para>

	  <para>Зургаа дахь цуваа порт дээр өөрсдийн жишээ хэвлэгчээ нэмье.
		Бид bps хурдыг 38400 гэж тохируулна. Горимын хувьд бид
		<literal>-parenb</literal> тохируулгаар parity байхгүй,
		<literal>cs8</literal> тохируулгаар 8 бит тэмдэгтүүд,
		<literal>clocal</literal> тохируулгаар модемийн хяналт
		байхгүй, <literal>crtscts</literal> тохируулгаар
		тоног төхөөрөмжийн урсгалын хяналт байхгүй гэж тохируулах
		болно:</para>

	  <programlisting>bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:</programlisting>
	</sect4>

	<sect4 xml:id="printing-textfilter">
	  <title>Текст шүүгчийг суулгах нь</title>
	  <indexterm>
	    <primary>хэвлэлт</primary>
	    <secondary>шүүгчид</secondary>
	  </indexterm>

	  <para>Одоо бид хэвлэгч уруу ажлууд илгээхийн тулд ямар текстийн шүүгчийг
		ашиглахыг <application>LPD</application>-д хэлэхэд бэлэн
		боллоо. <emphasis>Оролтын шүүгч</emphasis> гэж бас нэрлэгддэг
		<emphasis>Текст шүүгч</emphasis> нь хэвлэх ажил байхад
		<application>LPD</application>-ийн ажиллуулдаг програм
		юм. <application>LPD</application> нь хэвлэгчид
		зориулж текст шүүгчийг ажиллуулахдаа шүүгчийн стандарт оролтыг
		хэвлэх ажил уруу тохируулж өгдөг бөгөөд стандарт гаралтыг
		<literal>lp</literal> боломжоор заагдсан хэвлэгчийн төхөөрөмж
		уруу тохируулдаг. Шүүгч нь стандарт оролтоос ажлыг уншиж
		хэвлэгчид зориулж шаардлагатай орчуулгыг хийж үр дүнг стандарт
		гаралт уруу бичихээр хийгдсэн байдаг. Ингэснээр хэвлэгдэх болно.
		Текст шүүгчийн тухай дэлгэрэнгүй мэдээллийг
		<link linkend="printing-advanced-filters">Шүүгчид</link>
		хэсгээс үзнэ үү.</para>

	  <para>Бидний энгийн хэвлэгчийн тохиргооны хувьд текст шүүгч нь
		хэвлэгч уруу ажлыг илгээхийн тулд <command>/bin/cat</command>
		тушаалыг ажиллуулах жижиг бүрхүүлийн скрипт байж болох юм.
		&os; нь  устгах болон доогуур зурах зэрэг тэмдэгтийн урсгалуудтай
		сайн ажиллаж чаддаггүй хэвлэгчдэд зориулсан тэдгээр тэмдэгтүүдийг
		зохицуулдаг <filename>lpf</filename> гэсэн өөр шүүгчтэй
		ирдэг. Тэгээд мэдээж та хүссэн өөр бусад шүүгч програмыг ашиглаж
		болно. <command>lpf</command> шүүгч нь
		<link linkend="printing-advanced-lpf">lpf: текстийн шүүгч
		</link> хэсэгт дэлгэрэнгүй тайлбарлагдсан байгаа.</para>

	  <para>Эхлээд <filename>/usr/local/libexec/if-simple</filename>
		гэсэн бүрхүүлийн скриптийг энгийн текст шүүгч болгоё. Энэ файлдаа өөрийн
		дуртай засварлагчаа ашиглан дараах текстийг оруулъя:</para>

	  <programlisting>#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.

/bin/cat &amp;&amp; exit 0
exit 2</programlisting>

	  <para>Файлыг ажиллах боломжтой болгоно:</para>

	  <screen>&prompt.root; <userinput>chmod 555 /usr/local/libexec/if-simple</userinput></screen>

	  <para><filename>/etc/printcap</filename> файлд
		<literal>if</literal> боломжоор үүнийг зааж
		LPD-д ашиглах ёстойг нь хэлж өгнө. Бид үүнийг
		<filename>/etc/printcap</filename> жишээ файл дахь
		одоогоор бидэнд байгаа өөрсдийн хоёр хэвлэгчдээ нэмэх
		болно:</para>

	  <programlisting>#
#  /etc/printcap for host rose - added text filter
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\ :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:</programlisting>

	  <note>
	    <para><filename>if-simple</filename> скриптийн хуулбарыг
		<filename>/usr/share/examples/printing</filename>
		сангаас олж болно.</para>
	  </note>
	</sect4>

	<sect4>
	  <title><application>LPD</application>-г идэвхжүүлэх</title>

	  <para>&man.lpd.8; нь <literal>lpd_enable</literal> хувьсагчаар
		хянагддаг <filename>/etc/rc</filename>-с ажилладаг.
		Энэ хувьсагчийн анхдагч утга нь <literal>NO</literal> байдаг.
		Тэгж хийгээгүй байгаа бол та:</para>

	  <programlisting>lpd_enable="YES"</programlisting>

	  <para>мөрийг <filename>/etc/rc.conf</filename> файлд нэмж
		өөрийн машиныг дахин ачаалах юм уу эсвэл ердөө л &man.lpd.8;-г
		ажиллуулах хэрэгтэй.</para>

	  <screen>&prompt.root; <userinput>lpd</userinput></screen>
	</sect4>

	<sect4 xml:id="printing-trying">
	  <title>Турших нь</title>

	  <para>Та энгийн <application>LPD</application> тохиргооны
		төгсгөлд хүрлээ. Харамсалтай нь баяр хүргэх арай л
		болоогүй байна. Учир нь бид тохиргоог тест хийж асуудал байвал
		засварлах хэрэгтэй хэвээр байгаа билээ. Тохиргоог тест хийхийн тулд
		ямар нэгэн юм хэвлэхийг оролдож үзээрэй.
		<application>LPD</application> системээр хэвлэхийн тулд
		ажлыг хэвлэхээр илгээдэг &man.lpr.1; тушаалыг ашиглана.</para>

	  <para>Та &man.lpr.1;-г <link linkend="printing-testing">Хэвлэгчийн холбоог шалгах нь</link>
		хэсэгт танилцуулсан &man.lptest.1; програмтай
		цуг хамтатган ямар нэг тест текст үүсгэхийн тулд ашиглаж болно.</para>

	  <para><emphasis>Энгийн <application>LPD</application> тохиргоог тест
		хийхийн тулд:</emphasis></para>

	  <para>Доор дурдсаныг бичнэ:</para>

	  <screen>&prompt.root; <userinput>lptest 20 5 | lpr -Pprinter-name</userinput></screen>

	  <para>Энд байгаа <replaceable>printer-name</replaceable> нь
		<filename>/etc/printcap</filename> файлд заагдсан
		хэвлэгчийн нэр (эсвэл alias) юм. Анхдагч хэвлэгчийг тест хийхийн тулд
		&man.lpr.1;-г ямар нэгэн <option>-P</option> нэмэлт өгөгдөлгүйгээр
		бичих хэрэгтэй. Дахин хэлэхэд &postscript;-г хүлээж байдаг
		хэвлэгчийг тест хийж байгаа бол &man.lptest.1;-г ашиглахын оронд
		&postscript; програмыг тэр хэл дээр нь илгээх хэрэгтэй.
		Ингэхийн тулд та програмыг файлд хийж <command>lpr
	    file</command> гэж бичиж болно.</para>

	  <para>&postscript; хэвлэгчийн хувьд та програмын үр дүнг авах ёстой.
		Хэрэв та &man.lptest.1;-г ашиглаж байгаа бол таны авсан
		үр дүн иймэрхүү харагдах ёстой:</para>

	  <screen>!"#$%&amp;'()*+,-./01234
"#$%&amp;'()*+,-./012345
#$%&amp;'()*+,-./0123456
$%&amp;'()*+,-./01234567
%&amp;'()*+,-./012345678</screen>

	  <para>Хэвлэгчийг цааш тест хийхийн тулд илүү том програмуудыг
		(хэлэн дээр суурилсан хэвлэгчдийн хувьд) татаж авах юм уу
		эсвэл &man.lptest.1;-г өөр нэмэлт өгөгдлүүдтэй ажиллуулж үзээрэй.
		Жишээ нь <command>lptest 80 60</command> тушаал нь
		мөр бүртээ 80 тэмдэгттэй 60 мөрийг үүсгэх болно.</para>

	  <para>Хэрэв хэвлэгч ажиллаагүй бол <link linkend="printing-troubleshooting">Алдааг олж засварлах</link>
		хэсгийг үзнэ үү.</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xml:id="printing-advanced">
    <title>Хэвлэгчийн илүү нарийн тохиргоо</title>

    <para>Энэ хэсэгт онцгой загварчлагдсан файлыг шүүгчид, хуудасны толгой хэсэг,
	сүлжээгээр хэвлэх мөн хэвлэгчийг хэрэглэх эрх болон хязгаарлалт гэсэн зүйлүүдийн
	тухай зааварлах болно.</para>

    <sect2 xml:id="printing-advanced-filter-intro">
      <title>Шүүлтүүрүүд</title>
      <indexterm>
	<primary>хэвлэх</primary>
	<secondary>шүүлтүүр</secondary>
      </indexterm>

      <para>Хэдийгээр <application>LPD</application> нь сүлжээний протокол,
	  дараалал, хандалтын хяналт гэх мэтчилэн хэвлэлтийн асуудлуудыг хариуцдаг ч
	  <emphasis>жинхэнэ</emphasis> ажлыг нь <emphasis>шүүлтүүрүүд</emphasis> хийдэг.
	  Шүүлтүүрүүд нь тусгай програмууд бөгөөд хэвлэгчийн төхөөрөмжүүд болон
	  онцгой шаардлагуудыг нь хариуцаж байдаг. Бид хамгийн энгийн суулгац хийх үед
	  их амархан бөгөөд бараг бүх хэвлэгчид тохирдог текст шүүлтүүр
	  суулгасан билээ. (<link linkend="printing-textfilter">Текст шүүлтүүр суулгах нь</link> хэсэгт).</para>

      <para>Хэвлэх төрлийн хувиргалт, хэвлэгчийн онцгой шинж чанар зэрэг давуу
	    чанаруудыг нь хэрэглэхийн тулд танд шүүлтүүрийг зөв ойлгох шаардлага гарна.
		Ийм ажлуудыг зөвхөн шүүлтүүр хийдэг. Тэгээд муу мэдээ нь юу вэ гэхээр
		тэдгээр бүгдийг <emphasis>та</emphasis> тодорхойлж өгөх ёстой. Сайн мэдээ нь
		юу вэ гэхээр тэдгээрийн ихэнх нь боломжтой бэлэн байдаг бөгөөд хэрэв бичихээр
		бол тун амархан бичигддэг юм.</para>

      <para>Мөн түүнчлэн &os;
        <filename>/usr/libexec/lpr/lpf</filename> гэдэг нэртэй, бараг бүх хэвлэгчид
		ердийн текст хэвлэж чаддаг шүүлтүүртэй ирдэг. (энэ нь файл дотор байгаа
		зай болон том зай авалтуудыг таньдаг бөгөөд мөн эрх үүсгэх гээд түүний
		чаддаг бүх зүйл нь үүгээр дуусдаг)
        &os;-н портын цуглуулга дотор хэд хэдэн шүүлтүүр болон шүүлтүүрийн
		бүрдэл хэсгүүд байдаг.</para>

      <para>Энэ хэсэгт танд танилцуулах зүйлсүүдийг харуулъя:</para>

      <itemizedlist>
        <listitem>
          <para><link linkend="printing-advanced-filters">Шүүлтүүр хэрхэн
		  ажилладаг вэ</link> хэсэгт хэвлэх явцад шүүлтүүр ямар үүрэг гүйцэтгэдэг
		  талаар тайлбарлахыг оролдох болно. <application>LPD</application> хэвлэх
		  үедээ шүүлтүүрийг <quote>хөшигний цаана</quote> хэрхэн ашигладаг талаар
		  та энд ойлгох болно. Үүнийг мэдсэнээр хэрэв өөр үед та олон шүүлтүүр суулгах
		  үед хүндрэл гарвал даван туулахад тань хэрэг болно.
           </para>
        </listitem>

        <listitem>
          <para><application>LPD</application> нь хэвлэгч бүрийг анхны тохируулгаараа
		  ердийн текстийг хэвлэж чадна гэж авч үздэг. Энэ нь ердийн текстийг
		  шууд хэвлэж чаддаггүй &postscript; хэвлэгчид (эсвэл бусад програмын
		  хэл дээр үндэслэсэн хэвлэгчид ) дээр хүндрэл гаргадаг.
            <link linkend="printing-advanced-if-conversion">
              &postscript; хэвлэгчид дээр ердийн текст хэвлэдэг болох </link> хэсэгт
			  иймэрхүү хүндрэлийг даван туулах талаар хэлэх болно. Хэрэв танд
			  &postscript; хэвлэгч байдаг бол энэ хэсгийг уншаарай.</para>
        </listitem>

        <listitem>
          <para>&postscript; нь маш олон програмын гаралт болж байдаг.
		  Тэр бүү хэл зарим хүмүүс шууд &postscript; бичиж чаддаг. Харамсалтай нь
		  &postscript; хэвлэгч нар үнэтэй. <link linkend="printing-advanced-ps"> &postscript; биш төрлийн хэвлэгчийг
			  &postscript; мэт хэрэглэх</link> хэсэгт танд &postscript; өгөгдлийг
            <emphasis>&postscript; биш төрлийн</emphasis> хэвлэгч дээр
			хэвлэж болдог талаар зааварлах болно. Хэрэв танд &postscript; хэвлэгч
			байхгүй бол энэ хэсгийг та уншаарай.</para>
        </listitem>

        <listitem>
          <para><link linkend="printing-advanced-convfilters">Хувиргагч шүүлтүүрүүд</link>
			  хэсэг танд онцгой төрлийн файлууд болох график эсвэл
			  өөр төрлийн бичиглэлтэй файлуудыг хэрхэн таны хэвлэгчийн ойлгодог
			  төрөл рүү хувиргаж хэвлэх талаар өгүүлэх болно.
			  Энэ хэсгийг уншсаны дараа, та жишээ нь хэрэглэгчид
			  <command>lpr -t</command> тушаал өгөн troff өгөгдөл хэвлэх
			  эсвэл <command>lpr -d</command> тушаал өгөн &tex; DVI өгөгдөл
			  хэвлэх эсвэл <command>lpr -v</command> тушаал өгөн зураг төрлийн файл хэвлэх зэрэг
			  зүйлүүдийг мэдэх болно. Энэ хэсгийг заавал унших хэрэгтэй гэж танд
			  зөвлөж байна. </para>
        </listitem>

        <listitem>
          <para><link linkend="printing-advanced-of">Гаралтын шүүлтүүр
              </link> хэсэг нь <application>LPD</application>-н нэг их
			  хэрэглэгддэг шинж чанарууд болох гаралтын шүүлтүүрүүдийн
			  тухай өгүүлэх болно:
             Та хуудасны толгой хэсгийг хэвлэж болж л байвал
			 (<link linkend="printing-advanced-header-pages">Хуудасны толгой хэсэг</link>
			  хэсэгт харна уу) энэ хэсгийг та алгасаж болно.</para>
        </listitem>

        <listitem>
          <para><link linkend="printing-advanced-lpf">lpf: текст шүүлтүүр
              </link> хэсэгт &os;-тэй хамт нэлээн төгс ажиллагаатай
			  мөрөөр нь хэвлэдэг (лазер хэвлэгч нар мөр мөрөөр нь хэвлэдэг
			  туузан хэвлэгч шиг ажилладаг) <command>lpf</command> текст шүүлтүүрийн
			  тухай өгүүлэх болно. Хэрэв та хэвлэгчийнхээ эрхийг түргэн бэлэн
			  болгох эсвэл таны хэвлэгч хоосон зайг утаа байна гэж хүлээж
			  аваад байвал та яах аргагүй <command>lpf</command>-тэй
			  ажиллах хэрэг гарна.</para>
        </listitem>
      </itemizedlist>

      <note>
	<para>Доорх хэсэгт харуулах янз бүрийн скриптийн хуулбарыг <filename>/usr/share/examples/printing</filename> сангаас
	  олж болно.</para>
      </note>

      <sect3 xml:id="printing-advanced-filters">
        <title>Шүүлтүүр хэрхэн ажилладаг вэ</title>

        <para>Өмнө дурдсанаар шүүлтүүр нь хэвлэгчтэй холбогдох төхөөрөмжөөс чөлөөтэй
	хэсгийг зохицуулах <application>LPD</application>-ээр эхлүүлэгдэн
	ажилладаг програм юм.</para>

        <para>Ажил дахь файлыг <application>LPD</application> хэвлэхийг
	хүсэхдээ шүүлтүүр програмыг эхлүүлдэг. Энэ нь шүүлтүүрийн стандарт оролтыг
	хэвлэх файл уруу, өөрийн стандарт гаралтыг хэвлэгч уруу, өөрийн стандарт алдааг
	алдаа бүртгэх файл (<filename>/etc/printcap</filename> файл
	дахь <literal>lf</literal> боломжид эсвэл анхдагчаар
	<filename>/dev/console</filename>) уруу тохируулдаг.</para>

        <indexterm>
          <primary><command>troff</command></primary>
        </indexterm>
        <para><application>LPD</application> аль шүүлтүүрийг эхлүүлэх болон
	<filename>/etc/printcap</filename> файлд юу байгаа болон
	&man.lpr.1; тушаалын мөр дэх ажилд зориулж хэрэглэгч ямар нэмэлт өгөгдлүүд
	зааснаас шүүлтүүрийн нэмэлт өгөгдлүүд хамаардаг. Жишээ нь хэрэв хэрэглэгч
	<command>lpr -t</command> тушаал бичсэн бол
	<application>LPD</application> нь хүрэх хэвлэгчийн <literal>tf</literal>
	боломжид жагсаагдсан troff шүүлтүүрийг эхлүүлэх болно. Хэрэв хэрэглэгч
	цэвэр текстийг хэвлэхийг хүссэн бол энэ нь <literal>if</literal>
	шүүлтүүрийг эхлүүлэх байсан (энэ нь бараг л үнэн юм: дэлгэрэнгүйг <link linkend="printing-advanced-of">Гаралтын шүүлтүүрүүд</link> хэсгээс
	үзнэ үү).</para>

        <para><filename>/etc/printcap</filename> файлд зааж өгч болох гурван
	төрлийн шүүлтүүр байдаг:</para>

        <itemizedlist>
          <listitem>
            <para><emphasis>текст шүүлтүүр</emphasis> буюу
		<emphasis>оролтын шүүлтүүр</emphasis> гэж <application>LPD</application>
		баримтад толгой эргүүлмээр нэрлэгдсэн шүүлтүүр нь ердийн текст хэвлэлтийг
		зохицуулдаг. Үүнийг анхдагч шүүлтүүр гэж бодох хэрэгтэй.
		<application>LPD</application> нь хэвлэгч бүрийг цэвэр текстийг
		анхдагчаар хэвлэж чаддаг гэж тооцдог бөгөөд устгах тэмдэгтүүд, tab-ууд
		эсвэл бусад тусгай тэмдэгтүүд хэвлэгчийг будлиулахгүй байлгахад санаа
		тавих нь текст шүүлтүүрийн ажил юм. Хэрэв та хэвлэгчийн хэрэглээний
		хувьд бүртгэлтэй тийм орчинд байгаа бол текст шүүлтүүр нь
		хэвлэгдсэн мөрүүдийн тоог тоолж тэр тоогоо хэвлэгчийн дэмждэг нэг хуудсан
		дахь мөрийн тоотой жишиж хэвлэсэн хуудаснуудыг бас бүртгэх ёстой.
		Текст шүүлтүүрийг дараах нэмэлт өгөгдлийн жагсаалттай эхлүүлдэг:</para>

              <cmdsynopsis>
                <command>filter-name</command>
                <arg>-c</arg>
                <arg choice="plain">-w <replaceable>width</replaceable></arg>
                <arg choice="plain">-l <replaceable>length</replaceable></arg>
                <arg choice="plain">-i <replaceable>indent</replaceable></arg>
                <arg choice="plain">-n <replaceable>login</replaceable></arg>
                <arg choice="plain">-h <replaceable>host</replaceable></arg>
                <arg choice="plain"><replaceable>acct-file</replaceable></arg>
              </cmdsynopsis>

              		<para>энд байгаа</para>

              <variablelist>
                <varlistentry>
                  <term><option>-c</option></term>

                  <listitem>
                    <para>нь ажил <command>lpr
                        -l</command> тушаалаар илгээгдсэн бол гарч ирнэ</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>width</replaceable></term>

                  <listitem>
                    <para>нь <filename>/etc/printcap</filename> файлд
			заагдсан <literal>pw</literal> (хуудасны өргөн) боломжийн
			утга юм. Анхдагчаар 132 байна</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>length</replaceable></term>

                  <listitem>
                    <para>нь <literal>pl</literal> (хуудасны урт)
			боломжийн утга бөгөөд анхдагчаар 66 байна</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>indent</replaceable></term>

                  <listitem>
                    <para>нь <command>lpr
                        -i</command> тушаалаас өгөгдөх догол мөрний хэмжээ юм.
			Анхдагчаар 0 байна</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>login</replaceable></term>

                  <listitem>
                    <para>нь файлыг хэвлэж байгаа хэрэглэгчийн бүртгэл юм</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>host</replaceable></term>

                  <listitem>
                    <para>нь ажлыг илгээсэн хостын нэр юм</para>
                  </listitem>
                </varlistentry>

                <varlistentry>
                  <term><replaceable>acct-file</replaceable></term>

                  <listitem>
                    <para>нь <literal>af</literal> боломжийн
			бүртгэлийн файлын нэр юм.</para>
                  </listitem>
                </varlistentry>
              </variablelist>
          </listitem>

          <listitem>
	    <indexterm>
	      <primary>хэвлэлт</primary>
	      <secondary>шүүлтүүрүүд</secondary>
	    </indexterm>

            <para><emphasis>Хувиргах шүүлтүүр</emphasis> нь тусгай файлын хэлбэршилтийг
		хэвлэгчийн цаасан дээр амилуулж чадах хэлбэршилт уруу хувиргадаг. Жишээ нь
		ditroff маяг хийгдсэн өгөгдлийг шууд хэвлэж болдоггүй боловч
		ditroff өгөгдлийг хэвлэгчийн ойлгож хэвлэх хэлбэр уруу хувиргах ditroff
		файлуудад зориулсан хувиргах шүүлтүүрийг та суулгаж болох юм.
		Тэдгээрийн талаар бүгдийг <link linkend="printing-advanced-convfilters">Хувиргах шүүлтүүрүүд</link>
		хэсэг хэлж өгдөг. Хэрэв танд хэвлэгчийн бүртгэл хийлт хэрэгтэй бол хувиргах шүүлтүүрүүд
		бас бүртгэл хийх хэрэгтэй болно. Хувиргах шүүлтүүрүүдийг дараах нэмэлт өгөгдлүүдтэй
		эхлүүлдэг:</para>


              <cmdsynopsis>
                <command>filter-name</command>
                <arg choice="plain">-x <replaceable>pixel-width</replaceable></arg>
                <arg choice="plain">-y <replaceable>pixel-height</replaceable></arg>
                <arg choice="plain">-n <replaceable>login</replaceable></arg>
                <arg choice="plain">-h <replaceable>host</replaceable></arg>
                <arg choice="plain"><replaceable>acct-file</replaceable></arg>
              </cmdsynopsis>

              <para>энд байгаа <replaceable>pixel-width</replaceable> нь
		<literal>px</literal> боломжийн утга (анхдагчаар 0) бөгөөд
		<replaceable>pixel-height</replaceable> нь <literal>py</literal>
		боломжийн утга юм (анхдагчаар 0).</para>
          </listitem>

          <listitem>
            <para><emphasis>Гаралтын шүүлтүүр</emphasis> нь шүүх текст байхгүй байх
		юм уу эсвэл толгой хуудаснууд идэвхтэй байх тохиолдолд зөвхөн ашиглагддаг.
		Бидний туршлага дээрээс харахад гаралтын шүүлтүүрүүд ховор ашиглагддаг.
		<link linkend="printing-advanced-of">Гаралтын шүүлтүүрүүд</link> хэсэг
		тэдгээрийг тайлбарладаг. Гаралтын шүүлтүүрт зөвхөн хоёр нэмэлт өгөгдөл
		байдаг:</para>

              <cmdsynopsis>
                <command>filter-name</command>
                <arg choice="plain">-w <replaceable>width</replaceable></arg>
                <arg choice="plain">-l <replaceable>length</replaceable></arg>
              </cmdsynopsis>

              <para>эдгээр нь текст шүүлтүүрийн <option>-w</option> болон
              <option>-l</option> нэмэлт өгөгдлүүдтэй адил юм.</para>
          </listitem>
        </itemizedlist>

        <para>Шүүлтүүрүүд нь бас дараах гарах төлөвтэйгөөр <emphasis>гарах</emphasis>
		ёстой:</para>

        <variablelist>
          <varlistentry>
            <term>exit 0</term>

            <listitem>
              <para>Шүүлтүүр файлыг амжилттай хэвлэсэн тохиолдолд.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>exit 1</term>

            <listitem>
              <para>Шүүлтүүр файлыг хэвлэж чадаагүй боловч <application>LPD</application>-гээр
		файлыг дахин хэвлүүлэхээр оролдохыг хүссэн. <application>LPD</application> нь
		шүүлтүүр энэ төлөвтэй гарсан бол түүнийг дахин эхлүүлэх болно.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>exit 2</term>

            <listitem>
              <para>Шүүлтүүр файлыг хэвлэж чадаагүй бөгөөд <application>LPD</application>-гээр
		файлыг дахин хэвлүүлэхийг хүсээгүй. <application>LPD</application>-нь
		файлыг гаргаж хаях болно.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>&os; хувилбартай цуг ирдэг текст шүүлтүүр <filename>/usr/libexec/lpr/lpf</filename> нь
	хуудасны өргөн болон уртын нэмэлт өгөгдлүүдийг ашиглан хэзээ form feed илгээх
	болон хэвлэгчийн хэрэглээг хэрхэн бүртгэхийг тодорхойлдог. Энэ нь бүртгэлийн оруулгуудыг
	бичихийн тулд нэвтрэлт, хост болон файлын нэмэлт өгөгдлүүдийн бүртгэл хийлтийг
	ашигладаг.</para>

        <para>Хэрэв та шүүлтүүр худалдаж авахыг хүсэж байгаа бол тэдгээр нь LPD-тэй
	нийцтэй эсэхийг нь үзээрэй. Хэрэв тийм бол тэдгээр нь дээр тайлбарласан
	нэмэлт өгөгдлийн жагсаалтуудыг дэмжих ёстой. Та ердийн хэрэглээнд зориулж
	шүүлтүүрүүд бичих төлөвлөгөөтэй байгаа бол дээрх нэмэлт өгөгдлийн жагсаалт
	болон гарах кодуудыг дэмждэгээр тэдгээрийг хийгээрэй.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-if-conversion">
        <title>&postscript; хэвлэгчид дээр цэвэр текст ажлуудыг тааруулах нь</title>
        <indexterm><primary>хэвлэх ажлууд</primary></indexterm>

        <para>Та өөрийн компьютер болон &postscript; (эсвэл бусад хэлэн дээр
	суурилсан) хэвлэгчийнхээ зөвхөн цорын ганц хэрэглэгч бөгөөд өөрийн хэвлэгч уруугаа
	цэвэр текстийг хэзээ ч илгээхгүй, таны хэвлэгч уруу цэвэр текстийг илгээхийг хүсдэг
	төрөл бүрийн програмуудын боломжуудыг хэзээ ч ашиглахгүй гэж амлах юм бол та
	энэ хэсгийн талаар санаа ерөөсөө зовох хэрэггүй юм.</para>

        <para>Гэхдээ та &postscript; болон цэвэр текст ажлуудыг хэвлэгч уруу илгээхийг
	хүсэж байгаа бол өөрийн хэвлэгчийн тохиргоог нэн даруй нэмэх хэрэгтэй юм. Ингэхийн
	тулд ирж байгаа ажил цэвэр текст үү эсвэл &postscript; үү гэдгийг илрүүлэх
	текст шүүлтүүртэй байна. Бүх &postscript; ажлууд <literal>%!</literal>-аар
	(бусад хэвлэгчийн хэлнүүдийн хувьд өөрийн хэвлэгчийн баримтыг үзнэ үү) эхлэх ёстой.
	Хэрэв тэдгээр нь ажил дахь эхний хоёр тэмдэгт байгаа бол бид &postscript;-ийг
	ашиглаж ажлын үлдсэн хэсгийг шууд дамжуулж болно. Хэрэв тэдгээр нь файл дахь
	эхний хоёр тэмдэгт биш бол шүүлтүүр текстийг &postscript; уруу хувиргаж
	үр дүнг хэвлэх болно.</para>

        <para>Үүнийг бид хэрхэн хийх вэ?</para>

        <indexterm>
          <primary>хэвлэгчид</primary>
          <secondary>цуваа</secondary>
        </indexterm>
        <para>Хэрэв танд цуваа хэвлэгч байгаа бол үүнийг хийх агуу арга нь
	<command>lprps</command>-г суулгах явдал юм. <command>lprps</command>
	нь хэвлэгчтэй хоёр талын холбоог хийдэг &postscript; хэвлэгчийн шүүлтүүр юм.
	Энэ нь хэвлэгчийн төлвийн файлыг хэвлэгчийн дэлгэрэнгүй мэдээллээр шинэчилдэг.
	Ингэснээр хэрэглэгчид болон администраторууд хэвлэгчийн төлөвийг яг ямар байгааг
	(<errorname>toner low</errorname> эсвэл <errorname>paper jam</errorname>
	гэх зэрэг) харах боломжтой болох юм. Гэхдээ илүү чухал зүйл бол энэ нь
	ирж байгаа ажлыг цэвэр текст эсэхийг илрүүлж &postscript; уруу хөрвүүлэх
	<command>textps</command> (<command>lprps</command>-тэй цуг ирдэг
	өөр програм) тушаалыг дууддаг <command>psif</command>
	гэгддэг програмыг агуулдаг явдал юм. Дараа нь хэвлэгч уруу ажлыг илгээхийн тулд
	<command>lprps</command> тушаалыг энэ нь ашигладаг.</para>

        <para><command>lprps</command> нь &os;-ийн портын цуглуулгад
	байдаг (<link linkend="ports">Портын цуглуулга</link> бүлгийг үзнэ үү).
	Ашиглах цаасны хэмжээний дагуу <package>print/lprps-a4</package>
	болон <package>print/lprps-letter</package> портын аль нэгийг
	суулгаж та болно. <command>lprps</command>-г суулгасны дараа
	<command>lprps</command>-ийн хэсэг болох <command>psif</command>
	програмд замыг зааж өгөх хэрэгтэй. Хэрэв та <command>lprps</command>-г
	портын цуглуулгаас суулгасан бол доор дурдсаныг <filename>/etc/printcap</filename>
	файл дахь цуваа &postscript; хэвлэгчийн оруулгад ашиглах хэрэгтэй:</para>

	<programlisting>:if=<filename>/usr/local/libexec/psif</filename>:</programlisting>

        <para><application>LPD</application>-д хэвлэгчийг унших-бичих горимоор
	онгойлгох боломж олгохын тулд <literal>rw</literal> боломж нь бас
	орсон байх шаардлагатай.</para>

        <para>Хэрэв танд зэрэгцээ &postscript; хэвлэгч байгаа (бөгөөд
	тиймээс <command>lprps</command>-д хэрэгтэй хоёр талын холбоог хэвлэгчтэй
	цуг ашиглаж чадахгүй байгаа) бол та дараах бүрхүүлийн
	скриптийг текст шүүлтүүр маягаар ашиглаж болно:</para>

        <programlisting>#!/bin/sh
#
#  psif - Print PostScript or plain text on a PostScript printer
#  Script version; NOT the version that comes with lprps
#  Installed in /usr/local/libexec/psif
#

IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  PostScript job, print it.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
else
    #
    #  Plain text, convert it, then print it.
    #
    ( echo "$first_line"; cat ) | /usr/local/bin/textps &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
fi</programlisting>

        <para>Дээрх скрипт дээр байгаа <command>textps</command> нь цэвэр текстийг
	&postscript; уруу хувиргахаар бидний тусдаа суулгасан програм юм.
	Та дурын текстээс-&postscript; уруу хувиргадаг хүссэн програмаа ашиглаж болно.
	&os;-ийн портын цуглуулга (<link linkend="ports">Портын цуглуулга</link>
	бүлгийг үзнэ үү) нь өргөн боломжтой текстээс-&postscript; уруу хувиргадаг
	<literal>a2ps</literal> гэгддэг програмыг агуулдаг бөгөөд та магадгүй үүнийг
	судлахыг хүсэж болох юм.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-ps">
        <title>&postscript; биш хэвлэгчид дээр &postscript; дүр үзүүлэх</title>
        <indexterm>
          <primary>PostScript</primary>
          <secondary>эмуляц хийх</secondary>
        </indexterm>
        <indexterm>
          <primary>Ghostscript</primary></indexterm>
        <para>&postscript; нь өндөр чанарын маяг тохируулалт болон хэвлэлтэд зориулагдсан
	<emphasis>албан ёсны</emphasis> стандарт юм. &postscript; нь гэхдээ
	<emphasis>үнэтэй</emphasis> стандарт юм.
	Aladdin Enterprises-ийн ачаар харин чөлөөтэй &postscript;-тэй төстэй,
	&os; дээр ажилладаг <application>Ghostscript</application> гэгддэг
	програм байдаг. <application>Ghostscript</application> нь ихэнх &postscript; файлуудыг уншиж чаддаг бөгөөд
	тэдгээрийн хуудаснуудыг &postscript; биш хэвлэгчдийн олон загваруудыг оролцуулаад
	төрөл бүрийн төхөөрөмжүүд рүү амилуулж чаддаг. <application>Ghostscript</application>-г суулгаж
	өөрийн хэвлэгчийн хувьд тусгай текстийн шүүлтүүрийг ашиглан та өөрийн &postscript;
	биш хэвлэгчийг жинхэнэ &postscript; хэвлэгч шигээр ажиллуулах боломжтой
	байдаг.</para>

        <para><application>Ghostscript</application> нь &os;-ийн портын цуглуулгад байдаг.
	Олон хувилбар байдаг бөгөөд хамгийн ихээр ашиглагддаг хувилбар нь
	<package>print/ghostscript-gpl</package> юм.</para>

        <para>&postscript; шиг дүр үзүүлэхийн тулд &postscript; файл хэвлэж байна уу
	гэдгийг илрүүлэх текст шүүлтүүр бидэнд байна. Хэрэв энэ нь тийм биш бол шүүлтүүр нь
	файлыг хэвлэгч уруу шууд дамжуулна; үгүй бол энэ нь файлыг хэвлэгчийн ойлгодог
	хэлбэр уруу эхлээд хувиргах <application>Ghostscript</application>-г ашиглах болно.</para>

        <para>Энд жишээ байна: дараах скрипт нь Hewlett Packard DeskJet 500
	хэвлэгчдэд зориулсан текст шүүлтүүр юм. Бусад хэвлэгчдийн хувьд
	<option>-sDEVICE</option> нэмэлт өгөгдлийг сольж <command>gs</command> (<application>Ghostscript</application>)
	тушаал уруу өгөх хэрэгтэй. (<application>Ghostscript</application>-ийн тухайн үеийн суулгацын дэмждэг төхөөрөмжүүдийн
	жагсаалтыг авахын тулд <command>gs -h</command> гэж бичих хэрэгтэй.)</para>

        <programlisting>#!/bin/sh
#
#  ifhp - Print Ghostscript-simulated PostScript on a DeskJet 500
#  Installed in /usr/local/libexec/ifhp

#
#  Treat LF as CR+LF (to avoid the "staircase effect" on HP/PCL
#  printers):
#
printf "\033&amp;k2G" || exit 2

#
#  Read first two characters of the file
#
IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  It is PostScript; use Ghostscript to scan-convert and print it.
    #
    /usr/local/bin/gs -dSAFER -dNOPAUSE -q -sDEVICE=djet500 \
      -sOutputFile=- - &amp;&amp; exit 0
else
    #
    #  Plain text or HP/PCL, so just print it directly; print a form feed
    #  at the end to eject the last page.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
exit 0
fi

exit 2</programlisting>

        <para>Төгсгөлд нь та шүүлтүүрийн <application>LPD</application>-д
	<literal>if</literal> боломжийн тусламжтай мэдэгдэх хэрэгтэй:</para>

	<programlisting>:if=<filename>/usr/local/libexec/ifhp</filename>:</programlisting>

        <para>Ингээд л боллоо. Та <command>lpr plain.text</command> болон
          <command>lpr whatever.ps</command> гэж бичиж болох бөгөөд
	хоюулаа амжилттайгаар хэвлэгдэх болно.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-convfilters">
        <title>Хувиргах шүүлтүүрүүд</title>

        <para><link linkend="printing-simple">Хэвлэгчийн энгийн тохиргоо</link> хэсэгт
	тайлбарласан энгийн тохиргоог дуусгасны дараа магадгүй таны хамгийн эхэнд хийхийг хүссэн
	зүйл чинь өөрийн дуртай файлын хэлбэршилтүүдэд (цэвэр ASCII текстээс гадна)
	зориулж хувиргах шүүлтүүрүүдийг суулгах явдал байж болох юм.</para>

        <sect4>
          <title>Хувиргах шүүлтүүрүүдийг яагаад суулгах ёстой вэ?</title>
          <indexterm>
            <primary>&tex;</primary>
            <secondary>DVI файлуудыг хэвлэх</secondary>
          </indexterm>

          <para>Хувиргах шүүлтүүрүүд нь төрөл бүрийн файлуудыг хэвлэхэд амар болгодог.
		Жишээ нь бид &tex; хэв маяг тохируулах системтэй их ажилладаг бөгөөд
		бидэнд &postscript; хэвлэгч байна гэж бодъё. &tex;-ээс DVI файлыг
		үүсгэх болгонд бид DVI файлыг &postscript; уруу хувиргалгүйгээр
		шууд хэвлэж чадахгүй. Тушаалын дараалал иймэрхүү хийгдэнэ:</para>

          <screen>&prompt.user; <userinput>dvips seaweed-analysis.dvi</userinput>
&prompt.user; <userinput>lpr seaweed-analysis.ps</userinput></screen>

          <para>DVI файлуудад зориулсан хувиргах шүүлтүүрийг суулгаж
		<application>LPD</application>-ээр өөрсөддөө зориулан хийлгэж
		бид гараар хувиргах алхмыг алгасаж болно. Одоо, DVI файлыг авах болгонд
		бидэнд хэвлэхэд нэг алхам дутуу байх болно:</para>

          <screen>&prompt.user; <userinput>lpr -d seaweed-analysis.dvi</userinput></screen>

          <para>Бидэнд зориулж DVI файлын хувиргалтыг хийх <application>LPD</application>
		програмд <option>-d</option> тохируулгыг зааж өгнө.
		<link linkend="printing-lpr-options-format">Хэлбэршүүлэх болон хувиргах
		тохируулгууд</link> хэсэг хувиргах тохируулгуудыг жагсаасан байгаа.</para>

          <para>Таны хүсэх хэвлэгчийн дэмжих хувиргах тохируулга бүрт зориулж
		<emphasis>хувиргах шүүлтүүр</emphasis> суулгаж түүний замыг
		<filename>/etc/printcap</filename> файлд зааж өгнө.
		Хувиргах шүүлтүүр нь энгийн хэвлэгчийн тохиргоон дахь
		(<link linkend="printing-textfilter">Текст шүүлтүүрийг
		суулгах нь</link> хэсгийг үзнэ үү) текст шүүлтүүртэй төстэй. Ялгаа нь
		цэвэр текст хэвлэхийн оронд энэ шүүлтүүр нь файлыг хэвлэгчийн ойлгодог
		хэлбэршилт уруу хувиргадаг.</para>
        </sect4>

        <sect4>
          <title>Аль хувиргах шүүлтүүрүүдийг би суулгах ёстой вэ?</title>

          <para>Та ашиглах хувиргах шүүлтүүрүүдээ суулгах ёстой. Хэрэв та маш их
		DVI өгөгдлийг хэвлэх бол DVI хувиргах шүүлтүүр хэрэглэгдэнэ.
		Хэрэв танд маш их troff хэвлэх хэрэгтэй бол та troff шүүлтүүрийг
		суулгахыг хүсэх байх.</para>

          <para>Дараах хүснэгтэд <application>LPD</application>-ийн
		ажилладаг шүүлтүүрүүд, тэдгээрийн <filename>/etc/printcap</filename>
		файл дахь боломжийн оруулгууд болон тэдгээрийг <command>lpr</command>
		тушаалаар хэрхэн дуудах талаар дурдсан болой:</para>

          <informaltable frame="none" pgwide="1">
            <tgroup cols="3">
              <thead>
                <row>
                  <entry>Файлын төрөл</entry>
                  <entry><filename>/etc/printcap</filename> боломж</entry>
                  <entry><command>lpr</command> тохируулга</entry>
                </row>
              </thead>

              <tbody>
                <row>
                  <entry>cifplot</entry>
                  <entry><literal>cf</literal></entry>
                  <entry><option>-c</option></entry>
                </row>

                <row>
                  <entry>DVI</entry>
                  <entry><literal>df</literal></entry>
                  <entry><option>-d</option></entry>
                </row>

                <row>
                  <entry>plot</entry>
                  <entry><literal>gf</literal></entry>
                  <entry><option>-g</option></entry>
                </row>

                <row>
                  <entry>ditroff</entry>
                  <entry><literal>nf</literal></entry>
                  <entry><option>-n</option></entry>
                </row>

                <row>
                  <entry>FORTRAN текст</entry>
                  <entry><literal>rf</literal></entry>
                  <entry><option>-f</option></entry>
                </row>

                <row>
                  <entry>troff</entry>
                  <entry><literal>tf</literal></entry>
                  <entry><option>-f</option></entry>
                </row>

                <row>
                  <entry>raster</entry>
                  <entry><literal>vf</literal></entry>
                  <entry><option>-v</option></entry>
                </row>

                <row>
                  <entry>цэвэр текст</entry>
                  <entry><literal>if</literal></entry>
                  <entry>none, <option>-p</option>, or
                    <option>-l</option></entry>
                </row>
              </tbody>
            </tgroup>
          </informaltable>

          <para>Бидний жишээн дээрх <command>lpr -d</command> тушаалыг ашиглах нь
		хэвлэгчийн хувьд <filename>/etc/printcap</filename> файл дахь түүний
		оруулгад <literal>df</literal> боломж хэрэгтэй гэсэн үг юм.</para>

          <indexterm><primary>FORTRAN</primary></indexterm>
          <para>Бусад хүмүүс магадгүй маргаж болох юм. Гэхдээ FORTRAN текст болон
		plot зэрэг хэлбэршилтүүд нь магадгүй хуучирсан хэлбэршилтүүд юм.
		Та өөрийн талдаа эдгээр шинэ ойлголтууд юм уу эсвэл ердөө л
		өөрчлөн тохируулсан шүүлтүүрүүдийг суулгаж аль нэг хэлбэршилтийн
		сонголтуудыг өгч болох юм. Жишээ нь та Printerleaf файлуудыг
		(Interleaf ширээний хэвлэх програмаас гарах файлууд) шууд хэвлэхийг
		хүсчээ. Гэхдээ plot файлуудыг хэзээ ч хэвлэхгүй гэж бодъё.
		Тэгвэл та <literal>gf</literal> боломжийн доор
		Printerleaf хувиргах шүүлтүүрийг суулгаж <command>lpr -g</command>
		тушаал нь <quote>Printerleaf файлуудыг хэвлэх</quote>
		гэсэн үг болохыг өөрийн хэрэглэгчиддээ сургах хэрэгтэй болох юм.</para>
        </sect4>

        <sect4>
          <title>Хувиргах шүүлтүүрүүдийг суулгах нь</title>

          <para>Хувиргах шүүлтүүрүүд нь үндсэн &os; суулгацаас гадна суулгах програмууд
		бөгөөд <filename>/usr/local</filename> сан дотор байрлана.
		<filename>/usr/local/libexec</filename> сан нь түгээмэл хэрэглэгддэг
		байрлал юм. Учир нь тэдгээр нь <application>LPD</application>-ийн
		зөвхөн ажиллуулах тусгай програмууд юм; ердийн хэрэглэгчид нь тэдгээрийг
		хэзээ ч ажиллуулах хэрэггүй юм.</para>

          <para>Хувиргах шүүлтүүрийг идэвхжүүлэхийн тулд <filename>/etc/printcap</filename>
		файлд хүрэх хэвлэгчийн хувьд тохирох боломжийн доор түүний замыг зааж өгөх
		явдал юм.</para>

          <para>Бидний жишээн дээр <literal>bamboo</literal> гэж нэрлэгдсэн хэвлэгчийн
		оруулгад DVI хувиргах шүүлтүүрийг бид нэмэх болно. <literal>bamboo</literal>
		хэвлэгчийн хувьд шинэ <literal>df</literal> боломжийг оруулсан
		<filename>/etc/printcap</filename> файлын жишээг энд дахин
		үзүүлэв:</para>

          <programlisting>#
#  /etc/printcap for host rose - added df filter for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

          <para>DVI шүүлтүүр нь <filename>/usr/local/libexec/psdf</filename>
		гэж нэрлэгдсэн бүрхүүлийн скрипт юм. Энд тэр скриптийг үзүүлэв:</para>

          <programlisting>#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
# Invoked by lpd when user runs lpr -d
#
exec /usr/local/bin/dvips -f | /usr/local/libexec/lprps "$@"</programlisting>

          <para>Энэ скрипт нь <command>dvips</command>-г шүүлтүүрийн горимд
		(<option>-f</option> нэмэлт өгөгдөл) хэвлэх ажил болох стандарт
		оролт дээр ажиллуулдаг. Дараа нь &postscript; хэвлэгчийн шүүлтүүр
		<command>lprps</command>-г (<link linkend="printing-advanced-if-conversion">&postscript; хэвлэгчид
		дээр текст ажлуудыг тааруулах нь</link> хэсгийг үзнэ үү)
		<application>LPD</application>-ийн
		энэ скрипт уруу дамжуулсан нэмэлт өгөгдлүүдтэй цуг эхлүүлнэ.
		<command>lprps</command> тушаал нь хэвлэсэн хуудаснуудыг
		бүртгэхийн тулд тэдгээр нэмэлт өгөгдлүүдийг ашиглах болно.</para>
        </sect4>

        <sect4>
          <title>Хувиргах шүүлтүүрийн зарим жишээнүүд</title>

          <para>Хувиргах шүүлтүүрүүдийг суулгах тогтмол алхмууд байдаггүй болохоор
		энэ хэсэгт зарим нэг ажилладаг жишээнүүдийг энд дурдъя. Эдгээрийг өөрийн шүүлтүүрийг
		хийхдээ заавар болгон ашиглаарай. Тохирохоор бол шууд ашиглах
		хэрэгтэй.</para>

          <para>Энэ жишээ скрипт нь Hewlett Packard LaserJet III-Si хэвлэгчид
		зориулсан raster (яг үнэндээ GIF файл) хувиргах шүүлтүүр
		юм:</para>

          <programlisting>#!/bin/sh
#
#  hpvf - Convert GIF files into HP/PCL, then print
#  Installed in /usr/local/libexec/hpvf

PATH=/usr/X11R6/bin:$PATH; export PATH
giftopnm | ppmtopgm | pgmtopbm | pbmtolj -resolution 300 \
    &amp;&amp; exit 0 \
    || exit 2</programlisting>

          <para>Энэ нь GIF файлыг зөөгдөх anymap уруу, гарсныг нь зөөгдөх graymap уруу,
		гарсныг нь зөөгдөх bitmap уруу, тэр гарсныг нь LaserJet/PCL-тэй
		нийцтэй өгөгдөлд хувиргаж ажилладаг.</para>

          <para>Дээрх шүүлтүүрийг ашиглаж байгаа хэвлэгчид зориулсан оруулгатай
		<filename>/etc/printcap</filename> файлыг энд үзүүлэв:</para>

          <programlisting>#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename>/dev/lpt0</filename>:sh:sd=<filename>/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:\
        :vf=<filename>/usr/local/libexec/hpvf</filename>:</programlisting>

          <para>Дараах скрипт нь <literal>bamboo</literal> гэж нэрлэгдсэн
		&postscript; хувилагчийн groff маяг тохируулах системээс troff
		өгөгдөлд зориулсан хувиргах шүүлтүүр юм:</para>

          <programlisting>#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops | /usr/local/libexec/lprps "$@"</programlisting>

          <para>Дээрх скрипт нь хэвлэгчтэй хийх холбоог зохицуулахын тулд
		<command>lprps</command>-г дахин ашигладаг. Хэрэв хэвлэгч
		зэрэгцээ порт дээр байгаа бол бид энэ скриптийг харин ашиглах болно:</para>

          <programlisting>#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops</programlisting>

          <para>Ингээд л боллоо. Шүүлтүүрийг идэвхжүүлэхийн тулд бид
		дараах оруулгыг <filename>/etc/printcap</filename> файлд
		нэмэх хэрэгтэй:</para>

          <programlisting>:tf=<filename>/usr/local/libexec/pstf</filename>:</programlisting>

          <para>Хуучин гаруудыг FORTRAN-с ичихэд хүргэх жишээг энд үзүүлэв.
		Энэ нь цэвэр текстийг шууд хэвлэж чадах дурын хэвлэгчид зориулсан
		FORTRAN-текст шүүлтүүр юм. Бид үүнийг <literal>teak</literal>
		хэвлэгчид зориулж суулгах болно:</para>

          <programlisting>#!/bin/sh
#
# hprf - FORTRAN text filter for LaserJet 3si:
# Installed in /usr/local/libexec/hprf
#

printf "\033&amp;k2G" &amp;&amp; fpr &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
 exit 0
exit 2</programlisting>

          <para>Тэгээд бид энэ шүүлтүүрийг идэвхжүүлэхийн тулд
		<literal>teak</literal> хэвлэгчид зориулж
		<filename>/etc/printcap</filename> файлд энэ мөрийг
		нэмэх болно:</para>

	  <programlisting>:rf=<filename>/usr/local/libexec/hprf</filename>:</programlisting>

          <para>Энд сүүлийн бөгөөд зарим талаараа төвөгтэй жишээ байна. Бид DVI шүүлтүүрийг
		өмнө танилцуулсан LaserJet хэвлэгч <literal>teak</literal>-д
		нэмэх болно. Эхлээд амархан хэсэг нь: <filename>/etc/printcap</filename>
		файлыг DVI шүүлтүүрийн байрлалаар шинэчлэх явдал юм:</para>

	  <programlisting>:df=<filename>/usr/local/libexec/hpdf</filename>:</programlisting>

          <para>Одоо хэцүү хэсэг нь: шүүлтүүр хийх явдал юм. Үүний тулд бидэнд
		DVI-ээс-LaserJet/PCL уруу хувиргах програм хэрэгтэй. &os;-ийн
		портын цуглуулгад (see <link linkend="ports">Портын цуглуулга</link>)
		нэг байдаг: <package>print/dvi2xx</package>.
		Энэ портыг суулгах нь бидэнд хэрэгтэй програм <command>dvilj2p</command>-г
		өгдөг. Энэ нь DVI-г LaserJet IIp, LaserJet III, болон LaserJet 2000-тай
		нийцтэй кодууд уруу хувиргадаг.</para>

          <para><command>dvilj2p</command> нь шүүлтүүр <command>hpdf</command>-г
		нэлээн төвөгтэй болгодог. Учир нь <command>dvilj2p</command> нь
		стандарт оролтоос уншиж чаддаггүй. Энэ нь файлын нэртэй ажиллахыг хүсдэг.
		Юу нь бүр муу вэ гэхээр файлын нэр нь <filename>.dvi</filename> гэж
		төгсөх ёстой. Тэгэхээр <filename>/dev/fd/0</filename>-г
		стандарт оролтод зориулж ашиглах нь асуудалтай болно.
		Бид түр зуурын файлын нэрийг (<filename>.dvi</filename>-аар төгссөн)
		<filename>/dev/fd/0</filename> уруу болгож холбоос үүсгэн энэ асуудлыг
		тойрон гарч болох юм. Ингэснээр <command>dvilj2p</command> тушаалыг
		стандарт оролтоос уншуулах юм.</para>

          <para>Асуудалтай нэг зүйл нь бид <filename>/tmp</filename>-г түр зуурын
		холбоост ашиглаж болохгүй явдал юм. Симболын холбоосуудыг
		<systemitem class="username">bin</systemitem> хэрэглэгч болон бүлэг эзэмшдэг. Тэгээд
		<filename>/tmp</filename> санд наалттай (sticky) бит тохируулагдсан
		байдаг. Шүүлтүүр нь холбоос үүсгэж чадах боловч холбоос нь өөр хэрэглэгчид
		харьяалагдах болохоор дууссаныхаа дараа цэвэрлэж устгаж чаддаггүй юм.</para>

          <para>Харин шүүлтүүр нь түр хадгалах сан (<filename>/etc/printcap</filename> файлд
		<literal>sd</literal> боломжоор заагдсан) болох одоо ажиллаж
		байгаа санд симболын холбоос үүсгэх болно . Энэ нь шүүлтүүрийн ажлаа хийх
		төгс газар юм. Ялангуяа илүү их чөлөөтэй дискний зай <filename>/tmp</filename> сан
		доторхоос илүү түр хадгалах санд (заримдаа) байдаг.</para>

          <para>Ингээд эцэст нь шүүлтүүр энэ байна:</para>

          <programlisting>#!/bin/sh
#
#  hpdf - Print DVI data on HP/PCL printer
#  Installed in /usr/local/libexec/hpdf

PATH=/usr/local/bin:$PATH; export PATH

#
#  Define a function to clean up our temporary files.  These exist
#  in the current directory, which will be the spooling directory
#  for the printer.
#
cleanup() {
   rm -f hpdf$$.dvi
}

#
#  Define a function to handle fatal errors: print the given message
#  and exit 2.  Exiting with 2 tells LPD to do not try to reprint the
#  job.
#
fatal() {
    echo "$@" 1&gt;&amp;2
    cleanup
    exit 2
}

#
#  If user removes the job, LPD will send SIGINT, so trap SIGINT
#  (and a few other signals) to clean up after ourselves.
#
trap cleanup 1 2 15

#
#  Make sure we are not colliding with any existing files.
#
cleanup

#
#  Link the DVI input file to standard input (the file to print).
#
ln -s /dev/fd/0 hpdf$$.dvi || fatal "Cannot symlink /dev/fd/0"

#
#  Make LF = CR+LF
#
printf "\033&amp;k2G" || fatal "Cannot initialize printer"

#
#  Convert and print.  Return value from dvilj2p does not seem to be
#  reliable, so we ignore it.
#
dvilj2p -M1 -q -e- dfhp$$.dvi

#
#  Clean up and exit
#
cleanup
exit 0</programlisting>
        </sect4>

        <sect4 xml:id="printing-advanced-autoconv">
          <title>Автомат хувиргалт: Хувиргагч шүүлтүүртэй ижилхэн шүүлтүүрүүд
		</title>

          <para>Эдгээр бүх хувиргагч шүүлтүүрүүд нь таны хэвлэх
		   орчинд тань маш олон ажлыг гүйцэтгэж өгдөг ч хэрэглэгчдийг
		   тэднээс аль нэгийг нь хэрэглэхийг шаарддаг (&man.lpr.1;-н тушаалын
		   мөрөн дээр). Хэрэв таны хэрэглэгчид компьютер дээр
		   сайн гаршаагүй хүмүүс бол иймэрхүү шүүлтүүрийн сонголтууд
		   тэд нарыг залхаах болно. Бүр муудаж болох нөхцөл юу гэвэл
		   буруу сонгосон шүүлтүүрийг буруу файлд хэрэглэснээр
		   хэвлэгчээр олон зуун хуудас үр дүнгүй хэвлэгдэх явдал юм.
		   </para>

          <para>Анхнаасаа хувиргагч шүүлтүүрүүдийг суулгахаасаа өмнө
		    эхлээд та энгийн текст шүүлтүүрийг суулгаад (анхдагч
			шүүлтүүр ) хэвлэгдэх файлын төрлийг нь таниад хэрэгтэй
			шүүлтүүрийг хэрэглэх нь зүйтэй. <command>file</command>
			гэх мэтийн хэрэгслүүд иймэрхүү зүйлд ашиглагдаж болох юм.
			Мэдээж <emphasis>зарим</emphasis> файлын  төрлийг хооронд нь
			ялгахад бэрх боловч мэдээж тэдэнд зориулж та шүүлтүүр үүсгэж
			болно. </para>

          <indexterm><primary>apsfilter</primary></indexterm>
          <indexterm>
            <primary>хэвлэх</primary>
            <secondary>шүүлтүүр</secondary>
            <tertiary>apsfilter</tertiary>
          </indexterm>
          <para>&os;-н портын цуглуулга дотор <command>apsfilter</command> (<package>print/apsfilter</package>)
		  нэртэй автомат хувиргалт хийдэг текст шүүлтүүр бий. Энэ шүүлтүүр нь
		  энгийн текст, &postscript;, DVI болон бараг бүх л төрлийн файлуудыг таньж тэдэнд
		  тохирсон шүүлтүүрийг нь автоматаар ажиллуулдаг. </para>
        </sect4>
      </sect3>

      <sect3 xml:id="printing-advanced-of">
        <title>Гаралтын шүүлтүүрүүд</title>

        <para><application>LPD</application> түр хадгалагч системд
		бид нарын нээгээгүй бас нэг шүүлтүүрийн төрөл бий.
		Гаралтын шүүлтүүр гэгч нь текст шүүлтүүр шиг зөвхөн энгийн
		текст хэвлэх зориулалттай бөгөөд маш олон зүйлийг
		хялбаршуулсан байдаг. Хэрэв та текст шүүлтүүр хэрэглээгүй мөртлөө
		гаралтын шүүлтүүр хэрэглэж байгаа бол:</para>

        <itemizedlist>
          <listitem>
            <para><application>LPD</application> нь хэвлэгдэх файл болгонд
			шүүлтүүр ажиллуулалгүйгээр гаралтын шүүлтүүрийг нэг удаа л
			эхлүүлдэг. </para>
          </listitem>

          <listitem>
            <para><application>LPD</application> нь гаралтын шүүлтүүрт
			зориулж файлын эхлэл болон төгсгөлийг мэдээлэх алба байхгүй.
			</para>
          </listitem>

          <listitem>
            <para><application>LPD</application> нь хэрэглэгчийн болон компьютерийн нэвтрэх эрхийг дамжуулдаггүй болохоор бүртгэл хийх зориулалт
			байдаггүй. Үнэн хэрэгтээ бол энэ нь ердөө хоёр утга авдаг:</para>

            <cmdsynopsis>
              <command>шүүлтүүрийн-нэр</command>
              <arg choice="plain">-w<replaceable>өргөн</replaceable></arg>
              <arg choice="plain">-l<replaceable>урт</replaceable></arg>
            </cmdsynopsis>

            <para>Энд <replaceable>өргөн</replaceable> нь
			<literal>pw</literal>-н шинж чанар бөгөөд
              <replaceable>урт</replaceable> нь
              <literal>pl</literal>-н шинж чанар юм. </para>
          </listitem>
        </itemizedlist>

        <para>Гаралтын шүүлтүүрийн амарчлалд бас найдах хэрэггүй. Хэрэв
		  хэвлэгдэх файлуудыг тусдаа хуудаснаас эхлүүлэхийг та хүсэж байгаа
		  бол гаралтын шүүлтүүр <emphasis>ажиллахгүй</emphasis>. Үүнд
		  текст шүүлтүүр (бас оролтын шүүлтүүр гэж нэрлэдэг) хэрэглэх
		  хэрэгтэй ба <link linkend="printing-textfilter">Текст шүүлтүүрийг суулгах нь </link>
			хэсгээс харна уу.
          Мөн цаашлаад үнэн чанартаа бол гаралтын шүүлтүүрүүд нь байт
		  хэлбэрээр урсаж байгаа хэвлэгдэх зүйлсээс
		  онцгой тэмдэгтүүдийг ялгаж
		   <application>LPD</application>-н нэрийн өмнөөс дохио илгээх
		   маягаар ажилладаг
		  <emphasis>нэлээн төвөгтэй</emphasis> систем юм.</para>

        <para>Хэрэв та толгой хуудаснуудыг хэвлэхийг хүсэж escape дарааллууд юм уу
	эсвэл эхлүүлэх мөрүүдийг илгээх хэрэгтэй бол гарах шүүлтүүр нь
	<emphasis>шаардлагатай</emphasis> юм. (Гэхдээ
	хэрэв та толгой хуудаснуудыг хүсэж байгаа хэрэглэгчийн бүртгэлээс
	төлбөр авах хүсэлтэй байгаа бол энэ нь <emphasis>дэмий</emphasis> зүйл юм.
	Учир нь <application>LPD</application> нь гаралтын шүүлтүүрт ямар ч
	хэрэглэгч юм уу эсвэл хостын мэдээллийг өгдөггүй юм.)</para>

        <para>Нэг хэвлэгч дээр <application>LPD</application> нь гаралтын
	шүүлтүүр болон текст эсвэл бусад шүүлтүүрүүдийг зөвшөөрдөг. Ийм тохиолдолд
	<application>LPD</application> нь зөвхөн толгой хуудсыг хэвлэхийн тулд
	гаралтын шүүлтүүрийг эхлүүлэх болно (<link linkend="printing-advanced-header-pages">Толгой хуудаснууд</link>
	хэсгийг үзнэ үү). Тэгээд <application>LPD</application> нь хоёр байтыг
	шүүлтүүр рүү илгээж гаралтын шүүлтүүр нь <emphasis>өөрийгөө зогсооно</emphasis>
	гэж тооцдог: эдгээр хоёр байт нь ASCII 031 дараа нь ASCII 001 юм.
	Гаралтын шүүлтүүр нь эдгээр хоёр байтыг (031, 001) хараад өөртөө <literal>SIGSTOP</literal>
	илгээж зогсох ёстой. <application>LPD</application> бусад шүүлтүүрийг
	ажиллуулж дууссаны дараа гаралтын шүүлтүүрт <literal>SIGCONT</literal>
	илгээж түүнийг дахин эхлүүлэх болно.</para>

        <para>Хэрэв гаралтын шүүлтүүр байгаа боловч текст шүүлтүүр <emphasis>байхгүй</emphasis>
	бөгөөд <application>LPD</application> цэвэр текст ажил дээр ажиллаж байгаа
	бол <application>LPD</application> нь ажлыг хийхийн тулд гаралтын шүүлтүүрийг
	ашигладаг. Өмнө хэлсэнчлэн гаралтын шүүлтүүр нь ажлын файл бүрийг дарааллаар
	form feed-үүд эсвэл бусад цаасны дэвшилт зэрэг хөндлөнгийн оролцоогүйгээр хэвлэх
	бөгөөд энэ нь таны хүсэж байгаа зүйл <emphasis>биш</emphasis> байж
	болох юм. Бараг бүх тохиолдолд танд текст шүүлтүүр хэрэгтэй.</para>

        <para><command>lpf</command> гэж танд урьд нь текст шүүлтүүр хэмээн
		  танилцуулсан шүүлтүүр бас гаралтын шүүлтүүр болон ажилладаг.
		  Хэрэв танд ямар нэгэн урсгалаас байт таньж код илгээх гаралтын
		  шүүлтүүр бичилгүйгээр түргэн-боловч-бултар шүүлтүүр хэрэгтэй
		  бол <command>lpf</command>-г хэрэглээрэй. Та мөн бүрхүүл дээр
		  скрипт бичиж хэвлэгчид шаардлагатай анхдагч утгуудыг нь
		  <command>lpf</command>-аар тохируулж бас болно. </para>
      </sect3>

      <sect3 xml:id="printing-advanced-lpf">
        <title><command>lpf</command>: Текст шүүлтүүр</title>

        <para>&os; хоёртын түгээлттэй цуг ирдэг <filename>/usr/libexec/lpr/lpf</filename>
	програм нь гаралтад (<command>lpr -i</command> тушаалаар илгээгдсэн ажил) догол гаргах,
	үсгэн тэмдэгтүүдийг дамжуулахыг зөвшөөрөх (<command>lpr -l</command> тушаалаар
	илгээгдсэн ажил), ажил дахь устгах тэмдэгтүүд болон tab-уудад зориулж хэвлэх байрлалыг
	тааруулах болон хэвлэсэн хуудаснуудыг бүртгэж чаддаг текст шүүлтүүр (оролтын шүүлтүүр) юм.
	Энэ нь бас гаралтын шүүлтүүр шиг ажиллаж чаддаг.</para>

        <para><command>lpf</command> нь олон хэвлэх орчнуудад тохирдог. Хэдийгээр
	энэ нь хэвлэгч уруу эхлүүлэх дарааллуудыг илгээх боломжгүй боловч хэрэгтэй эхлүүлэлтийг
	хийж <command>lpf</command>-г ажиллуулах бүрхүүлийн скрипт бичихийг хялбар
	болгодог.</para>

        <indexterm><primary>хуудас бүртгэл</primary></indexterm>
        <indexterm>
          <primary>бүртгэл</primary>
          <secondary>хэвлэгч</secondary>
        </indexterm>
        <para>Хуудсын бүртгэлийг <command>lpf</command>-ээр зөв хийлгэхийн тулд
	<filename>/etc/printcap</filename> файл дахь
	<literal>pw</literal> болон <literal>pl</literal> боломжуудад
	зөв утгуудыг оруулах хэрэгтэй. Хуудсанд хичнээн текст багтах болон хэрэглэгчийн
	ажилд хичнээн хуудас байгааг тодорхойлохын тулд энэ нь эдгээр утгуудыг ашигладаг.
	Хэвлэгчийн бүртгэлийн тухай дэлгэрэнгүй мэдээллийг <link linkend="printing-advanced-acct">Хэвлэгчийн хэрэглээг бүртгэх нь</link>
	хэсгээс үзнэ үү.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="printing-advanced-header-pages">
      <title>Толгой хуудаснууд</title>

      <para>Хэрэв та <emphasis>маш их</emphasis> хэрэглэгчтэй бөгөөд бүгд төрөл
	бүрийн хэвлэгч ашиглаж байгаа бол та магадгүй <emphasis>толгой хуудаснууд</emphasis>ыг
	ашиглахыг хүсэж болох юм.</para>

      <indexterm>
        <primary>сурталчилгаа хуудаснууд</primary>
	<see>толгой хуудаснууд</see>
      </indexterm>
      <indexterm><primary>толгой хуудаснууд</primary></indexterm>
      <para>Толгой хуудаснууд, бас <emphasis>сурталчилгаа</emphasis> эсвэл
        <emphasis>тэсрэх хуудаснууд</emphasis> гэгддэг хуудаснууд нь хуудсууд
	хэвлэгдсэний дараа ажлууд нь хэнд хамаарахыг тодорхойлдог. Тэдгээр нь
	ихэвчлэн том, тод үсгээр, магадгүй чимсэн хүрээнүүдтэйгээр хэвлэгддэг.
	Ингэснээр хэвлэсэн олон хуудаснууд дотроос хэрэглэгчдийн ажлуудыг багтаасан
	жинхэнэ баримт болон ялгардаг. Энэ нь хэрэглэгчдэд өөрсдийн ажлуудыг
	хурдан олох боломжийг олгодог. Толгой хуудасны илэрхий сул тал нь ажил болгоны
	хувьд илүү хуудас хэвлэгддэг явдал бөгөөд тэдний түр зуурын ашиг хэдхэн
	минут үргэлжилж тун удалгүй тэдгээрийг хогийн сав эсвэл хогийн овоон дотор орохыг
	харж болох юм. (Толгой хуудаснууд нь файл болгонтой биш, ажил болгонтой цуг явдгийг
	санаарай. Тэгэхээр цаас дэмий үрэх нь тийм ч их муу биш байж болох юм.)</para>

      <para>Хэрэв таны хэвлэгч цэвэр текстийг шууд хэвлэж чаддаг бол
	<application>LPD</application> систем нь таны хэвлэсэн зүйлүүдэд
	толгой хуудаснуудыг автоматаар өгч чаддаг. Хэрэв танд &postscript;
	хэвлэгч байгаа бол толгой хуудсыг үүсгэхийн тулд танд гадаад програм
	хэрэгтэй болох юм; <link linkend="printing-advanced-header-pages-ps">&postscript; хэвлэгчид
	дээрх толгой хуудаснууд</link> хэсгийг үзнэ үү.</para>

          <sect3 xml:id="printing-advanced-header-pages-enabling">
        <title>Толгой хуудаснуудыг идэвхжүүлэх нь</title>

        <para><link linkend="printing-simple">Хэвлэгчийн энгийн тохиргоо</link>
	хэсэгт бид <filename>/etc/printcap</filename> файлд
	<literal>sh</literal>-ийг (<quote>suppress header</quote> буюу толгойг дарах
	гэсэн утгатай) зааж өгөн толгой хуудаснуудыг болиулсан. Хэвлэгчийн хувьд толгой хуудаснуудыг
	идэвхжүүлэхийн тулд ердөө л <literal>sh</literal> боломжийг устгах хэрэгтэй.</para>

        <para>Хэтэрхий амархан санагдаж байна, тийм үү?</para>

        <para>Таны зөв. Та хэвлэгч уруу эхлүүлэх мөрүүдийг илгээхийн тулд
	гаралтын шүүлтүүрийг өгөх хэрэгтэй болж <emphasis>болох</emphasis> юм.
	Энд Hewlett Packard PCL-тэй нийцтэй хэвлэгчдэд зориулсан жишээ гаралтын
	шүүлтүүр байна:</para>

        <programlisting>#!/bin/sh
#
#  hpof - Output filter for Hewlett Packard PCL-compatible printers
#  Installed in /usr/local/libexec/hpof

printf "\033&amp;k2G" || exit 2
exec /usr/libexec/lpr/lpf</programlisting>

        <para>Гаралтын шүүлтүүрийн замыг <literal>of</literal> боломжид
	зааж өгөх хэрэгтэй. Дэлгэрэнгүй мэдээллийг <link linkend="printing-advanced-of">Гаралтын шүүлтүүрүүд</link>
	хэсгээс үзнэ үү.</para>

        <para>Бидний урьд нь танилцуулсан <literal>teak</literal> хэвлэгчид
	зориулсан жишээ <filename>/etc/printcap</filename> файл энд байна;
	бид толгой хуудаснуудыг идэвхжүүлж дээрх гаралтын шүүлтүүрийг нэмсэн:</para>

        <programlisting>#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename>/dev/lpt0</filename>:sd=<filename>/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:\
        :vf=<filename>/usr/local/libexec/hpvf</filename>:\
        :of=<filename>/usr/local/libexec/hpof</filename>:</programlisting>

        <para>Одоо хэрэглэгч <literal>teak</literal> уруу ажлуудаа хэвлэхэд
	ажил болгонтой толгой хуудас хүлээн авах болно. Хэрэв хэрэглэгчид өөрсдийн
	хэвлэсэн зүйлсээ хайхад цаг зарцуулахыг хүсэж байгаа бол толгой хуудаснуудыг
	дарж ажлаа <command>lpr -h</command> тушаалаар илгээж болно;
	&man.lpr.1;-ийн тохируулгуудын талаар дэлгэрэнгүйг <link linkend="printing-lpr-options-misc">Толгой хуудасны тохируулгууд</link>
	хэсгээс үзнэ үү.</para>

        <note>
          <para><application>LPD</application> нь толгой хуудасны дараа
		form feed тэмдэгт хэвлэдэг. Хэрэв таны хэвлэгч хуудсаа гаргахын
		тулд өөр тэмдэгт юм уу эсвэл өөр тэмдэгтүүдийн дараалал ашигладаг
		бол тэдгээрийг <filename>/etc/printcap</filename> файлд
		<literal>ff</literal> боломжоор зааж өгөх хэрэгтэй.</para>
        </note>
      </sect3>

      <sect3 xml:id="printing-advanced-header-pages-controlling">
        <title>Толгой хуудаснуудыг хянах нь</title>

        <para>Толгой хуудаснуудыг идэвхжүүлснээр <application>LPD</application>
	нь хэрэглэгч, хост, болон ажлыг таниулах том үсгүүдтэй <emphasis>урт
            	толгой</emphasis> бүхий хуудсыг үүсгэх болно. Энд жишээ байна (<systemitem class="username">kelly</systemitem> нь
	<quote>outline</quote> гэсэн нэртэй ажлыг <systemitem>rose</systemitem>-с хэвлэжээ):</para>

        <screen>      k                   ll       ll
      k                    l        l
      k                    l        l
      k   k     eeee       l        l     y    y
      k  k     e    e      l        l     y    y
      k k      eeeeee      l        l     y    y
      kk k     e           l        l     y    y
      k   k    e    e      l        l     y   yy
      k    k    eeee      lll      lll     yyy y
                                               y
                                          y    y
                                           yyyy


                                   ll
                          t         l        i
                          t         l
       oooo    u    u   ttttt       l       ii     n nnn     eeee
      o    o   u    u     t         l        i     nn   n   e    e
      o    o   u    u     t         l        i     n    n   eeeeee
      o    o   u    u     t         l        i     n    n   e
      o    o   u   uu     t  t      l        i     n    n   e    e
       oooo     uuu u      tt      lll      iii    n    n    eeee









      r rrr     oooo     ssss     eeee
      rr   r   o    o   s    s   e    e
      r        o    o    ss      eeeeee
      r        o    o      ss    e
      r        o    o   s    s   e    e
      r         oooo     ssss     eeee







                                              Job:  outline
                                              Date: Sun Sep 17 11:04:58 1995</screen>

        <para><application>LPD</application> нь ажлыг шинэ хуудсан дээр
	эхлүүлэхийн тулд энэ текстийн дараа form feed-г нэмдэг
	(<filename>/etc/printcap</filename> дахь хүрэх хэвлэгчийн оруулгад
	<literal>sf</literal> (form feed-г дарах) байхгүй бол).</para>

        <para>Хэрэв та хүсэж байгаа бол <application>LPD</application> нь
	<emphasis>богино толгой</emphasis> хийж чаддаг; <filename>/etc/printcap</filename>
	файлд <literal>sb</literal>-г (short banner буюу богино сурталчилгаа)
	зааж өгөх хэрэгтэй. Толгой хуудас иймэрхүү харагдах болно:</para>

        <screen>rose:kelly  Job: outline  Date: Sun Sep 17 11:07:51 1995</screen>

        <para>Бас анхдагчаар <application>LPD</application> нь эхлээд толгой
	хуудсыг дараа нь ажлыг хэвлэдэг. Эсрэгээр болгохын тулд
	<filename>/etc/printcap</filename> файлд <literal>hl</literal>-г
	(header last буюу толгой сүүлд) зааж өгөх хэрэгтэй.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-header-pages-accounting">
        <title>Толгой хуудаснуудыг бүртгэх нь</title>

        <para><application>LPD</application>-н өөрт нь суугдсан толгой
		хуудаснууд нь хэвлэлтэд бүртгэл тооцоо хийх шаардлагатай үед
		<emphasis>үнэгүй</emphasis> байх зарчмыг шаарддаг.</para>

        <para>Яагаад?</para>

        <para>Учир нь гаралтын шүүлтүүр бол толгой хуудас
		  хэвлэгдэх үед ажилладаг тусдаа биеэ даасан гадаад
		  програм бөгөөд бүртгэл хийж болох юм шиг боловч
		  <emphasis>хэрэглэгч юм уу компьютерийн</emphasis> тухай
		  ямар ч бүртгэлийн мэдээллээр хангагддаггүй учир
		  хэн дээр ямар тооцоо бүртгэл хийхээ мэдэж чаддаггүй.
		  Зөвхөн текст шүүлтүүрийг өөрчилж <quote>хуудасны тоог нэгээр нэмэх</quote>
		  юм уу эсвэл хувиргах ямар нэгэн шүүлтүүрийг (хэрэглэгч юм уу
		  компьютерийн мэдээлэлтэй) хэрэглэгч <command>lpr -h</command>
		  гэсэн тушаалаар дарж болдог.
          Дарагдсан ч гэсэн тэдгээр толгой хуудаснууд бүртгэл
		  тооцоо хийж байдаг. Үндсэндээ орчны хувьсагчдад дассан хэрэглэгчдэд
		  <command>lpr -h</command> тушаал илүү аятайхан байж болох боловч
		  шаардлагатай гэсэн үг биш билээ.
		  </para>

        <para>Шүүлтүүр бүр өөрсдийн гэсэн толгой хуудас
		үүсгэх нь <emphasis>тийм хангалттай шийдэл бас биш</emphasis>
		(хэдийгээр тус бүрдээ төлбөр тооцоо хийж чадах байсан ч ).
		Хэрэв хэрэглэгч <command>lpr -h</command> тушаалаар
		толгой хуудсыг дарсан ч <application>LPD</application>
	    нь шүүлтүүрүүд рүү <option>-h</option>  гэсэн сонголтын талаар
		ямар ч мэдээлэл явуулдаггүй болохоор төлбөр тооцоо хийгдсээр байх
		болно. </para>

        <para>Тэгэхээр танд ямар сонголтууд байна вэ?</para>

        <para>Та дараах зүйлсийг хийх боломжтой:</para>

        <itemizedlist>
          <listitem>
            <para><application>LPD</application>-н зарчмыг хүлээн
			зөвшөөрч толгой хуудсанд төлбөр тооцохгүй болох.</para>
          </listitem>

          <listitem>
            <para><application>LPRng</application> гэх мэтийн <application>LPD</application>-н ижил төрлийн түр хадгалагчдыг хэрэглэх.
              <link linkend="printing-lpd-alternatives">Түр хадгалагчидтай
			  ижил төрлийн хадгалагчид </link> хэсэгт
			  <application>LPD</application>-г орлуулж болох түр хадгалагчдын
			  талаар өгүүлсэн буй.
	    </para>
          </listitem>

          <listitem>
            <para><emphasis>Гайгүй сэргэлэн</emphasis> гаралтын
			шүүлтүүр бичих. Гаралтын шүүлтүүр гэдэг нь ердийн үед бол
			хэвлэгчийг тохируулах юм уу эсвэл энгийн тэмдэгт хувиргуур
			хийдэг програм юм. Ийм шүүлтүүр нь
			толгой хуудас болон энгийн текст зэрэгт тун таардаг (
			хэрэв тэнд ямар ч текст (оролтын) шүүлтүүр байхгүй бол).
			Гэхдээ хэрэв тэнд энгийн текст хэвлэх текст шүүлтүүр байгаа
			бол <application>LPD</application> нь гаралтын шүүлтүүрийг
			зөвхөн толгой хуудсанд ажиллуулдаг. Тэгээд
			гаралтын шүүлтүүр нь толгой хуудаснаас
			<application>LPD</application>-н үүсгэсэн хэрэглэгч болон
			компьютерт тооцсон тооцоог салгаж авч чаддаг. Энэ арганд
			буй нэг хүндрэл бол гаралтын шүүлтүүр нь ямар бүртгэлийн
			файл хэрэглэхээ мэдэхгүйд байгаа юм (энэ файл нь
			<literal>af</literal> тохиргоогоор дамжигддаггүй). Гэвч
			хэрэв танд бэлэн бүртгэл файл байгаа бол тэдгээрийг
			гаралтын шүүлтүүр дотор бичиж өгч болно. Тооцоог салгаж авах
			хэсэгт нэмэр болгохын тулд <literal>sh</literal> (short header буюу
			богино толгой) тохиргоог <filename>/etc/printcap</filename>
			файл дотор оруулах нь зүйтэй. Тэгээд ч энэ бүхэн танд төвөгтэй санагдаж магадгүй бөгөөд
			хэрэглэгчид толгой хуудсанд төлбөр тооцдоггүй
			өгөөмөр сүлжээ зохицуулагчийг илүүд үзэж бас болох юм.</para>
          </listitem>
        </itemizedlist>
      </sect3>

      <sect3 xml:id="printing-advanced-header-pages-ps">
        <title>&postscript; хэвлэгч дээрх толгой хуудаснууд</title>

        <para>Өмнө өгүүлснээр <application>LPD</application> нь маш
		олон хэвлэгчдэд зориулж энгийн текст толгой хуудас үүсгэж
		чаддаг. Мэдээж &postscript; нь энгийн текстийг шууд
		хэвлэж чаддаггүй болохоор <application>LPD</application>-н энэ
		шинж чанар бараг хэрэггүй билээ.</para>

        <para>Толгой хуудас байлгах нэг арга бол хувиргах шүүлтүүр болгон
		толгой хуудас үүсгэх юм. Ингэхийн тулд шүүлтүүрүүд нь
		хэрэглэгч болон компьютерийн мэдээллийг хүлээж аваад толгой
		хуудас үүсгэдэг байхаар зохицуулах хэрэгтэй. Энэ аргын нэг
		муу тал нь хэрэглэгчид <command>lpr
            -h</command> тушаал ашигласан ч толгой хуудастай хуудас
			хэвлээд байх болно.</para>

        <para>Энэ аргыг жаахан судалж үзэцгээе. Дараах
		скрипт гурван утга хүлээж аваад(хэрэглэгчийн
		нэвтрэх нэр, компьютерийн нэр, хэвлэгдэх ажлын нэр)
		&postscript; толгой хуудас үүсгэж байна:</para>

        <programlisting>#!/bin/sh
#
#  make-ps-header - make a PostScript header page on stdout
#  Installed in /usr/local/libexec/make-ps-header
#

#
#  These are PostScript units (72 to the inch).  Modify for A4 or
#  whatever size paper you are using:
#
page_width=612
page_height=792
border=72

#
#  Check arguments
#
if [ $# -ne 3 ]; then
    echo "Usage: `basename $0` &lt;user&gt; &lt;host&gt; &lt;job&gt;" 1&gt;&amp;2
    exit 1
fi

#
#  Save these, mostly for readability in the PostScript, below.
#
user=$1
host=$2
job=$3
date=`date`

#
#  Send the PostScript code to stdout.
#
exec cat &lt;&lt;EOF
%!PS

%
%  Make sure we do not interfere with user's job that will follow
%
save

%
%  Make a thick, unpleasant border around the edge of the paper.
%
$border $border moveto
$page_width $border 2 mul sub 0 rlineto
0 $page_height $border 2 mul sub rlineto
currentscreen 3 -1 roll pop 100 3 1 roll setscreen
$border 2 mul $page_width sub 0 rlineto closepath
0.8 setgray 10 setlinewidth stroke 0 setgray

%
%  Display user's login name, nice and large and prominent
%
/Helvetica-Bold findfont 64 scalefont setfont
$page_width ($user) stringwidth pop sub 2 div $page_height 200 sub moveto
($user) show

%
%  Now show the boring particulars
%
/Helvetica findfont 14 scalefont setfont
/y 200 def
[ (Job:) (Host:) (Date:) ] {
200 y moveto show /y y 18 sub def }
forall

/Helvetica-Bold findfont 14 scalefont setfont
/y 200 def
[ ($job) ($host) ($date) ] {
        270 y moveto show /y y 18 sub def
} forall

%
% That is it
%
restore
showpage
EOF</programlisting>

        <para>Одоо ямар ч хувиргах шүүлтүүр болон текст шүүлтүүрүүд нь
		энэ скриптийг дуудаж толгой хуудас үүсгэж хэвлэж болно.
		Энд одоо өмнө үзүүлж байсан DVI хувиргах шүүлтүүрийг
		жаахан өөрчилж толгой хуудас үүсгэхийг харуулав:</para>

        <programlisting>#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
#  Invoked by lpd when user runs lpr -d
#

orig_args="$@"

fail() {
    echo "$@" 1&gt;&amp;2
    exit 2
}

while getopts "x:y:n:h:" option; do
    case $option in
        x|y)  ;; # Ignore
        n)    login=$OPTARG ;;
        h)    host=$OPTARG ;;
        *)    echo "LPD started `basename $0` wrong." 1&gt;&amp;2
              exit 2
              ;;
    esac
done

[ "$login" ] || fail "No login name"
[ "$host" ] || fail "No host name"

( /usr/local/libexec/make-ps-header $login $host "DVI File"
  /usr/local/bin/dvips -f ) | eval /usr/local/libexec/lprps $orig_args</programlisting>

        <para>Хэрэглэгчийн нэр болон компьютерийн нэрийг хэрхэн
		салгаж авч байгааг анхаарах хэрэгтэй. Бусад шүүлтүүр дээр ийм салгалт
		хийх нь ижилхэн. Текст шүүлтүүр нь хэрэглэгчийн нэр болон
		компьютерийн нэрийг арай өөр аргаар салгаж авдаг.
		(<link linkend="printing-advanced-filters">Шүүлтүүр хэрхэн ажилладаг
			вэ</link> хэсгээс харна уу).</para>

        <para>Өмнө өгүүлсний дагуу дээр үзүүлсэн энэ загвар нь
		хэдийгээр тун энгийн бүтээгдсэн ч гэсэн
          <quote>suppress header page</quote> сонголтыг (
          <option>-h</option> сонголт) <command>lpr</command> дээр хорьдог.
		  Хэрэв хэрэглэгчид жаахан хэмнэхийг хүссэн ч (эсвэл
		  толгой хуудасны төлбөрт өгөх хэдэн төгрөгөө)
		  шүүлтүүр болгон толгой хуудас хэвлэдэг болохоор
		  дээрх аргыг хэрэглээд үр дүн өгөхгүй.</para>

        <para>Хэвлэгдэх бүр толгой хуудсыг хорихын тулд
		  <link linkend="printing-advanced-header-pages-accounting">Толгой хуудасны
			тооцоо бүртгэл</link> хэсэгт үзүүлсэн дараах бяцхан аргыг хэрэглэнэ:
			гаралтын шүүлтүүр бичээд түүгээрээ LPD-н үүсгэсэн
			толгой хэсгийг салгаж аван &postscript; хувилбарыг нь үүсгэх.
			Хэрэв хэрэглэгч <command>lpr -h</command> тушаал хэрэглэвэл
			<application>LPD</application> толгой хэсэг үүсгэхгүй бөгөөд
			бас таны гаралтын шүүлтүүрийг ажиллуулахгүй. Бусад үед
			гаралтын шүүлтүүр нь <application>LPD</application>-с текстийг
			уншаад түүнд тохирсон &postscript; толгой хуудсыг
			хэвлэгчид өгдөг.</para>

        <para>Хэрэв танд цуваа холболттой &postscript; хэвлэгч
		байгаа бол <command>lprps</command>-г та хэрэглэж болох
		бөгөөд энэ нь дээр ярьсан зүйлийг гүйцэтгэж чаддаг
		<command>psof</command> нэртэй гаралтын шүүлтүүртэй хамт
		ирдэг. Тэмдэглэж хэлэхэд, <command>psof</command> нь
		толгой хуудсанд тооцоо боддоггүй. </para>
      </sect3>
    </sect2>

    <sect2 xml:id="printing-advanced-network-printers">
      <title>Сүлжээгээр хэвлэх</title>

      <indexterm>
        <primary>хэвлэгчид</primary>
        <secondary>сүлжээ</secondary>
      </indexterm>
      <indexterm><primary>сүлжээгээр хэвлэх</primary></indexterm>
      <para>&os; нь хэвлэх ажлыг алсад буй компьютер руу илгээж
		сүлжээгээр хэвлэхийг бас дэмждэг. Сүлжээгээр хэвлэх нь
		хоёр зүйлийг хамарч байдаг.</para>

      <itemizedlist>
        <listitem>
          <para>Алсад буй компьютерт залгагдсан хэвлэгч рүү хандах. Та нэг
		    хэвлэгчийг нэг компьютер дээр тохирох цуваа юм уу зэрэгцээ
			холболтоор хэвлэгчийг залгана. Дараа нь та
			<application>LPD</application>-г суулгаж алсад буй компьютер
			уг хэвлэгч залгагдсан компьютер руу хандаж болохыг
			тохируулна. <link linkend="printing-advanced-network-rm">Алсад буй
			  компьютерт залгагдсан хэвлэгч</link> хэсэгт үүнийг хэрхэн
			  хийх талаар зааварласан бий.</para>
        </listitem>

        <listitem>
          <para>Шууд сүлжээнд залгагдсан хэвлэгч рүү хандах. Ийм хэвлэгч нь
		    ердийн цуваа юм уу эсвэл зэрэгцээ холболтын интерфэйсээс гадна (эсвэл оронд нь)
			сүлжээний залгууртай байдаг. Ийм хэвлэгч дараах маягаар
			ажилладаг:</para>

          <itemizedlist>
            <listitem>
              <para>Хэвлэгч <application>LPD</application>-н дамжуулах
			  протоколыг таньж ойлгох ба алсаас ирүүлсэн ажлуудад
			  дараалал үүсгэж чаддаг. Ийм тохиолдолд уг хэвлэгч нь
			  өөр дээрээ <application>LPD</application> суулгасан
			  ердийн компьютер шиг ажиллах болно.
			  <link linkend="printing-advanced-network-rm">Алсад буй
			  компьютерт залгагдсан хэвлэгчид</link> хэсэгт иймэрхүү
			  хэвлэгчийг хэрхэн тохируулах талаар харна уу.</para>
            </listitem>

            <listitem>
              <para>Хэвлэгч нь сүлжээгээр өгөгдлийг урсгал мэт хүлээж авдаг
			  тийм төрлийн холболт дэмждэг байж болох юм.
			  Энэ тохиолдолд та нэг компьютерт уг хэвлэгчийг
			  <quote>залгаад</quote> суулгасан компьютер нь
			  ирж буй ажлуудыг түр хадгалах хариуцлагыг нь дааж хэвлэгч рүүгээ
			  өгөгдлийг урсгаж байхаар тохируулах хэрэгтэй.
			  <link linkend="printing-advanced-network-net-if">
				  Сүлжээний өгөгдлийн урсгал холболтын төхөөрөмжтэй
				  хэвлэгчид</link> хэсэгт ийм төрлийн хэвлэгчийг
				  хэрхэн суулгах талаар зааварласан байгаа. </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>

      <sect3 xml:id="printing-advanced-network-rm">
        <title>Алсад буй компьютерт залгагдсан хэвлэгчид</title>

        <para><application>LPD</application>-д өөрт нь өөр газар
		<application>LPD</application> (эсвэл <application>LPD</application>-тэй
		зохимжтой) ажиллаж байгаа машин руу хэвлэх ажлыг илгээж чаддаг
		ажиллагаа байдаг. Энэ шинж чанарыг ашиглаж та өөр компьютерт хэвлэгчээ
		залгаад түүнд өөр газраас хандаж болох боломж нээж өгч байна.
		Энэ арга нь мөн <application>LPD</application> дамжуулах
		протоколыг ойлгодог хэвлэгчид дээр бас ажиллана .</para>

        <para>Иймэрхүү алсаас хэвлэх ажиллагааг гүйцэтгэхийн тулд эхлээд
		  хэвлэгчээ <emphasis>хэвлэгчийн эзэн</emphasis> болгож нэг машинд
		  <link linkend="printing-simple">Хэвлэгч суулгах энгийн явц</link>
		  хэсэгт заасны дагуу залгах хэрэгтэй. Шаардлагатай бол
		  <link linkend="printing-advanced">Хэвлэгчийн нэмэлт тохиргоо</link> хэсэгт
			заасан тохиргоог хийж болно. Хэвлэгчээ хэвлэж байгааг нь магадлаад
			<application>LPD</application> тохиргоог зөвшөөрсөн эсэхийг
			шалгах хэрэгтэй.
	   Мөн <emphasis>remote host</emphasis> дотор
	   <emphasis>local host</emphasis> нь <application>LPD</application>
          үйлчилгээг хэрэглэх эрхтэй эсэхийг шалгаарай (<link linkend="printing-advanced-restricting-remote">Алсад буй
			хостод хэвлэх хязгаарлалт хийх</link> хэсэгт харна уу).</para>

        <indexterm>
          <primary>хэвлэгчид</primary>
          <secondary>сүлжээ</secondary>
        </indexterm>
        <indexterm><primary>сүлжээгээр хэвлэх</primary></indexterm>
        <para>Хэрэв та сүлжээний карттай бөгөөд <application>LPD</application>
		протокол дэмждэг хэвлэгч хэрэглэж байгаа бол дээр өгүүлснээр
		<emphasis>хэвлэгчийн эзэн</emphasis> болон <emphasis>хэвлэгчийн нэр</emphasis>
		нь уг тохируулж буй хэвлэгчийн нэр байх ёстой. Хэвлэгчтэй хамт ирсэн
		үйлдвэрлэгчийнх нь гарын авлагаас хэвлэгчийнх нь тухай эсвэл сүлжээний
		төхөөрөмжийнх нь тухай мэдээллийг хараарай. </para>

        <tip>
          <para>Хэрэв та Hewlett Packard Laserjet хэвлэгч хэрэглэж байгаа
		  бол <literal>text</literal> нэртэй хэвлэгч нь автоматаар
		  LF-г CRLF руу хувиргадаг болохоор <filename>hpif</filename> скрипт
		  хэрэглэх шаардлагагүй.</para>
        </tip>

        <para>Дараа нь хэвлэгч рүү хандах гэж буй нөгөө машины
          <filename>/etc/printcap</filename> файл дотор дараах зүйлсийг
		  оруулж өгдөг:</para>

        <orderedlist>
          <listitem>
            <para>Хүссэн нэрээ оруулна. Алсад буй компьютерийн нэрэнд давхар
			нэр өгч оруулан амарчилж болох юм. </para>
          </listitem>

          <listitem>
            <para><literal>lp</literal> тохиргоог хоосон орхино.
			(<literal>:lp=:</literal>).</para>
          </listitem>

          <listitem>
            <para>Түр хадгалах сан үүсгэж түүний байршлыг <literal>sd</literal> хэсэгт
			зааж өгдөг. <application>LPD</application> нь алсад буй
			хэвлэгч рүү ажлуудыг илгээхээсээ өмнө энэ санд хадгалдаг.</para>
          </listitem>

          <listitem>
            <para>Хэвлэгчийн эзний нэрийг <literal>rm</literal> хэсэгт
			бичиж өгнө.</para>
          </listitem>

          <listitem>
            <para><emphasis>Хэвлэгчийн эзэнд</emphasis> холбогдсон
			хэвлэгчийн нэрийг <literal>rp</literal>
              хэсэгт оруулна. </para>
          </listitem>
        </orderedlist>

        <para>Ингээд болох нь тэр. Та хувиргах шүүлтүүр, цаасны хэмжээ гэх мэтийг
		<filename>/etc/printcap</filename> файл дотор оруулах шаардлагагүй.</para>

        <para>Энд нэг жишээ татъя.  <systemitem>rose</systemitem> нэртэй машин
           <literal>bamboo</literal> болон <literal>rattan</literal> гэсэн
		   хоёр хэвлэгчтэй.
          Бид одоо <systemitem>orchid</systemitem> машиныг уг хэвлэгчид рүү хандаж болдог
		  болгож тохируулцгаая.
          Энд ( <link linkend="printing-advanced-header-pages-enabling">Толгой хуудсыг
			зөвшөөрөх</link> хэсгээс дахин авав)
			<systemitem>orchid</systemitem> машины <filename>/etc/printcap</filename> файл
			хэрхэн харагдаж байгааг харуулав. Уг машинд өмнө нь
			<literal>teak</literal> нэртэй машин тохируулагдсан байгаа бөгөөд
			бид <systemitem>rose</systemitem> машины хоёр хэвлэгчийг нэмэх болно:</para>

        <programlisting>#
#  /etc/printcap for host orchid - added (remote) printers on rose
#

#
#  teak is local; it is connected directly to orchid:
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename>/dev/lpt0</filename>:sd=<filename>/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/ifhp</filename>:\
        :vf=<filename>/usr/local/libexec/vfhp</filename>:\
        :of=<filename>/usr/local/libexec/ofhp</filename>:

#
#  rattan is connected to rose; send jobs for rattan to rose:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
	:lp=:rm=rose:rp=rattan:sd=<filename>/var/spool/lpd/rattan</filename>:

#
#  bamboo is connected to rose as well:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename>/var/spool/lpd/bamboo</filename>:</programlisting>

        <para>Дараа нь бид <systemitem>orchid</systemitem> дээр түр хадгалах
		сан нэмэх хэрэгтэй:</para>

	<screen>&prompt.root; <userinput>mkdir -p /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput>
&prompt.root; <userinput>chmod 770 /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput>
&prompt.root; <userinput>chown daemon:daemon /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput></screen>

        <para>Одоо <systemitem>orchid</systemitem> дээрх хэрэглэгчид
		<literal>rattan</literal> болон <literal>bamboo</literal> хэвлэгчдийг
		хэрэглэж чадна. Жишээ нь <systemitem>orchid</systemitem> дээрх хэрэглэгч
		дараах тушаал өгвөл:</para>

          <screen>&prompt.user; <userinput>lpr -P bamboo -d sushi-review.dvi</userinput></screen>

          <para><systemitem>orchid</systemitem> дээрх <application>LPD</application>
		  систем хэвлэх ажлуудыг <filename>/var/spool/lpd/bamboo</filename>
		  гэсэн түр хадгалагч руу хуулна. Энэ хэвлэгдэх ажил нь
          DVI файл байсныг та анзаарна уу.  <systemitem>rose</systemitem> машинд
		  <literal>bamboo</literal> түр хадгалах сан үүсэнгүүт
		  хоёр машины <application>LPD</application>-ууд хоорондоо
		  уг файлыг <systemitem>rose</systemitem> машин уруу дамжуулдаг.
		  Дараа нь уг файл <systemitem>rose</systemitem>-н дараалалд очиж зогсоод
		  хэвлэгдэх хүртлээ хүлээгдэнэ. Энэ файл DVI-с
          &postscript; уруу (<literal>bamboo</literal> нь &postscript; хэвлэгч учир)
		  <systemitem>rose</systemitem> дээр хувиргагдана.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-network-net-if">
        <title>Сүлжээгээр өгөгдлийг урсгал хэлбэрээр дамжуулдаг
		холболттой хэвлэгчид</title>

        <para>Ихэнх тохиолдолд, хэвлэгчдэд зориулж сүлжээний төхөөрөмж авах
		  үед танд хоёр сонголт бий: түр хадгалагчтай (илүү үнэтэй),
		  эсвэл цуваа юм уу зэрэгцээ холболтоор холбогдсон мэт өгөгдлийг
		  хэвлэгч рүү шууд илгээдэг (хямд үнэтэй).
          Энэ хэсэгт хямд үнэтэйг нь авч хэлэлцэнэ. Үнэтэйг нь <link linkend="printing-advanced-network-rm">Алсад буй компьютерт
            холбогдсон хэвлэгчид</link> хэсгээс хараарай.</para>

        <para><filename>/etc/printcap</filename> файлд
          ямар цуваа юм уу эсвэл ямар зэрэгцээ холболт хэрэглэхийг зааж өгдөг
		  бөгөөд (хэрэв та цуваа холболтоор холбосон бол ) ямар
		  давтамжаар илгээх, ямар урсгал хянагч ашиглах, илгээх
		  завсарлагаа, шинэ мөр тэмдгийг хэрхэн хувиргах гэх мэтчилэн
		  маш олон зүйлийг тохируулж болно. Хэрэв хэвлэгч TCP/IP порт
		  юм уу эсвэл өөр сүлжээний порт чагнаж байгаа хэвлэгчийг энд
		  зааж өгөх боломжгүй. </para>

        <para>Сүлжээнд холбогдсон хэвлэгч рүү илгээхийн тулд
		  текст болон хувиргах шүүлтүүрээр дуудагдаж болдог
		  холболтын програм та бичих хэрэгтэй.
		  Энд нэг жишээ үзүүлье.
          <command>netprint</command> нэртэй скрипт нь
		  бүх өгөгдлийг ердийн оролтоос аваад сүлжээнд холбогдсон
		  хэвлэгч рүү илгээх болно. Хэвлэгч холбогдсон компьютерийн нэрийг нь
		  эхний утгаар авах бөгөөд хоёр дахь утгаараа чагнаж буй
		  портын дугаарыг <command>netprint</command>-д өгнө. Тэмдэглэж хэлэхэд,
		  энэ нь зөвхөн нэг чиглэлтэй холболт (&os;-с хэвлэгч рүү) бөгөөд
		  ихэнх сүлжээний хэвлэгчид хоёр тийш чиглэсэн холболтыг дэмждэг
		  болохоор тэр чанарыг нь та мөн ашиглаж болох юм
		  (хэвлэгчийн төлөв байдлыг мэдэх, бүртгэл хийх гэх мэт).</para>

        <programlisting>#!/usr/bin/perl
#
#  netprint - Text filter for printer attached to network
#  Installed in /usr/local/libexec/netprint
#
$#ARGV eq 1 || die "Usage: $0 &lt;printer-hostname&gt; &lt;port-number&gt;";

$printer_host = $ARGV[0];
$printer_port = $ARGV[1];

require 'sys/socket.ph';

($ignore, $ignore, $protocol) = getprotobyname('tcp');
($ignore, $ignore, $ignore, $ignore, $address)
    = gethostbyname($printer_host);

$sockaddr = pack('S n a4 x8', &amp;AF_INET, $printer_port, $address);

socket(PRINTER, &amp;PF_INET, &amp;SOCK_STREAM, $protocol)
    || die "Can't create TCP/IP stream socket: $!";
connect(PRINTER, $sockaddr) || die "Can't contact $printer_host: $!";
while (&lt;STDIN&gt;) { print PRINTER; }
exit 0;</programlisting>

        <para>Дараа нь бид энэ скриптийг янз бүрийн шүүлтүүртэй хамт хэрэглэж болно.
		  Сүлжээнд
          Diablo 750-N туузан хэвлэгч холбогдсон байна гэж авч үзье.
		  Хэвлэгч хэвлэгдэх өгөгдлийг  5100 гэсэн портын дугаар дээр хүлээж авна.
		  Хэвлэгчийн холбогдсон компьютерийн нэр нь <systemitem>scrivener</systemitem>.
		  Одоо энэ хэвлэгчид дараах текст шүүлтүүр хэрэглэе:</para>

        <programlisting>#!/bin/sh
#
#  diablo-if-net - Text filter for Diablo printer `scrivener' listening
#  on port 5100.   Installed in /usr/local/libexec/diablo-if-net
#
exec /usr/libexec/lpr/lpf "$@" | /usr/local/libexec/netprint scrivener 5100</programlisting>
      </sect3>
    </sect2>

    <sect2 xml:id="printing-advanced-restricting">
      <title>Хэвлэгч хэрэглэх хязгаарлалт</title>

      <indexterm>
        <primary>хэвлэгчид</primary>
        <secondary>хэрэглэх хязгаарлалт</secondary>
      </indexterm>
      <para>Энэ хэсэгт хэвлэгч хэрэглэлтийг хязгаарлах талаар өгүүлэх болно.
	    <application>LPD</application> систем хэвлэгчийг гадаад сүлжээ юм уу
		дотоодоос хэн олон хувилах, хэр зэрэг том хэмжээний
		ажил хэвлэж болох, хэвлэгчийн дараалал хэр урт байх ёстой зэргийг
		зааж өгч болно. </para>

      <sect3 xml:id="printing-advanced-restricting-copies">
        <title>Олон хэвлэлтийг хязгаарлах</title>

        <para><application>LPD</application> нь хэрэглэгчдэд нэг файлыг олон
		хэвлэхийг амарчилж өгдөг. Хэрэглэгч нар <command>lpr -#5</command>
		(жишээ болгож) тушаалаар файлыг таван удаа хувилж чадна.
		Үүний сайн эсэх нь танаас хамаарна.</para>

        <para>Хэрэв ингэж олон хувилах нь цаг болон цаасны дайсан юм байна
		  гэж үзэж байгаа бол <option>-#</option> сонголтыг
            &man.lpr.1; дээр хорьж болох бөгөөд ингэхийн тулд
			<literal>sc</literal> сонголтыг
          <filename>/etc/printcap</filename> файл дотор оруулж өгнө.
		  Хэрэв хэрэглэгч <option>-#</option> сонголттой хэвлэх тушаал илгээвэл
		  дараах мэдэгдлийг харах болно:</para>

        <screen>lpr: multiple copies are not allowed</screen>


        <para>Хэрэв та алсын хэвлэгч тохируулсан байвал (<link linkend="printing-advanced-network-rm">Алсын компьютерт холбогдсон хэвлэгчид</link> хэсгээс харна уу)
          <literal>sc</literal> сонголтыг алсад буй компьютерийн
          <filename>/etc/printcap</filename> файл дотор хийж өгөхгүй бол
		  хэрэглэгчид хүссэн тоогоороо хувилж чадсаар байх болно.
          </para>

        <para>Энд нэг жишээ авцгаая. Дараах файл бол алсад буй
		<systemitem>rose</systemitem> компьютерийн
          <filename>/etc/printcap</filename> файл.
		  Хэвлэгч <literal>rattan</literal> нь нэлээн өгөөмөр бөгөөд
		  хэн хүссэнд нь хувилж өгдөг байхад лазер хэвлэгч
          <literal>bamboo</literal> нь нэлээн харамч болохоор
		  өөртөө  <literal>sc</literal> тохиргоог агуулж байна:</para>

        <programlisting>#
#  /etc/printcap for host rose - restrict multiple copies on bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:sc:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

        <para>Одоо  <literal>sc</literal> тохиргоог мөн <systemitem>orchid</systemitem>
		компьютерийн
          <filename>/etc/printcap</filename> файл дотор оруулж
		  өгөх хэрэгтэй (бид өөрсдөө энэ компьютер дээр байгаа болохоор
		   <literal>teak</literal> хэвлэгч дээр олон хуулбар хийхийг хорих болно):</para>

        <programlisting>#
#  /etc/printcap for host orchid - no multiple copies for local
#  printer teak or remote printer bamboo
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename>/dev/lpt0</filename>:sd=<filename>/var/spool/lpd/teak</filename>:mx#0:sc:\
        :if=<filename>/usr/local/libexec/ifhp</filename>:\
        :vf=<filename>/usr/local/libexec/vfhp</filename>:\
        :of=<filename>/usr/local/libexec/ofhp</filename>:

rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<filename>/var/spool/lpd/rattan</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename>/var/spool/lpd/bamboo</filename>:sc:</programlisting>

        <para><literal>sc</literal> тохиргоог хэрэглэснээр
          <command>lpr -#</command> тушаалын хэрэглээг хорих боловч
		  &man.lpr.1; тушаалын олон удаагийн хэрэглээ юм уу эсвэл
		  нэг удаагийн хэвлэгдэх ажилд нэг файлыг дараах маягаар олон илгээхийг хорих
		  боломжгүй:</para>

        <screen>&prompt.user; <userinput>lpr forsale.sign forsale.sign forsale.sign forsale.sign forsale.sign</userinput></screen>

        <para>Үүнийг хорих олон арга бий бөгөөд та чөлөөтэй оролдон үзэх
		хэрэгтэй (үл тоомсорлох аргыг оруулаад).</para>
      </sect3>

      <sect3 xml:id="printing-advanced-restricting-access">
        <title>Хэвлэгч рүү хандах хандалтыг хязгаарлах</title>

        <para>&unix;-н бүлэглэл болон <filename>/etc/printcap</filename> файлын
          <literal>rg</literal> тохиргоог ашигласнаар ямар хэвлэгч рүү хэн
		  хандаж юм хэвлэж болохыг та тохируулж болдог. Нэг тодорхой бүлэгт
		  хэрэглэгчдээ хамруулж оруулаад тэр бүлгийнхээ нэрийг
          <literal>rg</literal> тохиргоонд бичиж өгөөд л болох нь тэр.</para>

        <para>Хэрэв уг бүлэгт хамаараагүй хэрэглэгч (<systemitem class="username">root</systemitem>-г оруулаад)
	  тухайн хяналттай хэвлэгч рүү юм хэвлэхийг оролдох үед доорх
	  мэдэгдлийг харуулах болно: </para>

          <screen>lpr: Not a member of the restricted group</screen>

        <para><literal>sc</literal> (suppress multiple copies буюу олон хуулбарыг хорих)
		тохиргооны адилаар алсын компьютерууд таны хэвлэгч рүү хандахаар хэрэв та зөвшөөрсөн
		бол <literal>rg</literal>-г тохируулах хэрэгтэй болно.
		  (<link linkend="printing-advanced-network-rm">Алсын компьютерт суугдсан хэвлэгчид</link>
			хэсгээс харна уу)</para>

        <para>Жишээ нь, ямар ч хэрэглэгч
          <literal>rattan</literal> хэвлэгч рүү хандаж чадахаар, харин
          <systemitem class="groupname">artists</systemitem> бүлгийн хэрэглэгчид зөвхөн <literal>bamboo</literal> хэвлэгчийг
		  хэрэглэж болно гэж үзье. Энд бидний танил <systemitem>rose</systemitem> компьютерийн
          <filename>/etc/printcap</filename> файлыг харуулж байна:</para>

        <programlisting>#
#  /etc/printcap for host rose - restricted group for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:sc:rg=artists:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

        <para>
          <filename>/etc/printcap</filename> файлын (
          <systemitem>orchid</systemitem> машины) тохиргоог орхие. Мэдээж
          <systemitem>orchid</systemitem> дээрх хэн гуай ч <literal>bamboo</literal>-г
		  хэрэглэж чадахгүй.
          Магадгүй
          <systemitem>orchid</systemitem> дээрх онцгой хэрэглэгчдийг хэвлэгч рүү
		  хандах эрх олгож болох юм. Үгүй ч байсан болох юм :)</para>

        <note>
          <para>Хэвлэгч бүрд зөвхөн нэг л хязгаарлах бүлэг байж болно.</para>
        </note>
      </sect3>

      <sect3 xml:id="printing-advanced-restricting-sizes">
        <title>Хэвлэгдэхээр илгээгдэх файлын хэмжээг хязгаарлах</title>

        <indexterm><primary>хэвлэх</primary></indexterm>
        <para>Хэрэв танд хэвлэгч хэрэглэх эрхтэй хэвлэгчид байгаа бол тэдгээрийн
		  хэвлэх файлд нь хэмжээг нь хязгаарлах тохиргоо хийхийг хүсэж болох юм.
		  Хэдийгээр файл систем дээрх хэвлэгчийн түр хадгалагчийн санд
		  хангалттай зай байгаа ч гэсэн хэрэглэгч бүрд тохирсон тодорхой хэмжээг
		  зааж өгөх шаардлага гарч магадгүй.</para>

        <indexterm>
          <primary>ажлыг хэвлэх</primary>
          <secondary>хянах</secondary>
        </indexterm>
        <para><application>LPD</application> нь <literal>mx</literal> тохиргоонд
		зааж өгсөн байтын хэмжээгээр хэвлэгдэх ажлын хэмжээг хязгаарлах
		боломж өгдөг. Хэмжих нэгж нь
          <literal>BUFSIZ</literal>-д зааж өгсөн багцын хэмжээ байдаг ба
		  нэг багц нь 1024 байт байдаг билээ. Хэрэв та энэ тохиргоонд тэгийн тоо бичих юм бол
		  файлын хэмжээнд хязгаар тавихгүй болно. Гэхдээ та ямар ч
		  <literal>mx</literal> тохиргоо зааж өгөөгүй бол
		  анхдагч хязгаарлалт нь
           1000 багц байдаг.</para>

        <note>
          <para>Энэ хязгаарлалт нь хэвлэгдэх гэж буй <emphasis>файлд</emphasis> хамаатай
		  болохоос хэвлэгдэх бүх ажлуудыг
            <emphasis>хязгаарлана гэсэн үг биш</emphasis>.</para>
        </note>

        <para><application>LPD</application> нь хэвлэгдэх файл нь хязгаарласан хэмжээнээс
		их файл ирвэл татгалздаггүй харин хязгаар хүртэлх хэмжээг нь хэвлэх дараалалд оруулж
		өгдөг бөгөөд тэр хэсэг нь хэвлэгддэг. Үлдсэн хэсэг нь цуцлагдах болно.
		Иймэрхүү хязгаарлалт нь зөв буруу эсэх нь таны шийдэл билээ. </para>

        <para>Бидний жишээ болсон
          <literal>rattan</literal> болон <literal>bamboo</literal> нар дээрээ
		  хязгаарлалт хийж үзэцгээе.  <systemitem class="groupname">artists</systemitem>-н
          &postscript; файлууд их хэмжээтэй байх хандлагатай байдаг болохоор
		  тэдгээрийг таван мегабайтаас хэтрэхгүй гэж хязгаарлая. Энгийн
		  текст файлд харин ямар ч хязгаарлалт өгөхгүй байя:</para>

        <programlisting>#
#  /etc/printcap for host rose
#

#
#  No limit on job size:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:mx#0:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

#
#  Limit of five megabytes:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

        <para>Зөвхөн дотоод хэрэглэгчдэд ийм хязгаарлалт хэрэгжих болно гэдгийг
		дахин сануулъя. Хэрэв та алсад буй хэвлэгчид ийм хязгаарлалт
		хийвэл алсаас хандагдаж буй хэрэглэгчдэд энэ хязгаарлалт хүчингүй.
		Үүнийг биелүүлэхийн тулд алсад буй машины <filename>/etc/printcap</filename>
		файл дотор <literal>mx</literal>
          тохиргоог зааж өгөх ёстой.
          <link linkend="printing-advanced-network-rm">Алсад буй компьютер дээр
			холбогдсон хэвлэгчид
            </link> хэсгээс алсын хэвлэлт хийх талаар уншаарай.
          </para>

        <para>Алсад буй хэвлэгчид хязгаарлалт тавих өөр нэг онцгой арга байдаг.
		<link linkend="printing-advanced-restricting-remote">Алсын хост дээр
			хэвлэх үйлдлийг хязгаарлах
            </link> хэсгээс дэлгэрэнгүй уншина уу.</para>
      </sect3>

      <sect3 xml:id="printing-advanced-restricting-remote">
        <title>Алсаас хост дээр
			хэвлэх үйлдлийг хязгаарлах</title>

        <para><application>LPD</application> нь алсын компьютераас
		илгээгдсэн хэвлэх ажлыг бас хянаж болдог боломж олгодог:</para>

        <variablelist>
          <varlistentry>
            <term>Компьютерээр нь хязгаарлах</term>

            <listitem>
              <para>Дотоод
		<application>LPD</application> руу ямар компьютер хандаж болохыг
                <filename>/etc/hosts.equiv</filename> болон
                <filename>/etc/hosts.lpd</filename> файлд зааж өгснөөр
				хянаж болдог.
		<application>LPD</application> нь саяны хоёр файлын аль нэгэнд нь
		хэвлэлт хүссэн компьютерийн нэр байгаа эсэхийг шалгадаг.
		Хэрэв нэр нь байхгүй бол
                <application>LPD</application> уг хүсэлтээс татгалздаг.
		</para>

              <para>Уг файлын загвар бол тун энгийн.
                <filename>/etc/hosts.equiv</filename> файл нь мөн
                  &man.ruserok.3; протоколд хэрэглэгддэг бөгөөд
                  &man.rsh.1; болон &man.rcp.1; зэрэг програмд нөлөөлдөг
				  болохоор тун болгоомжтой хэрэглэхийг сануулж байна.</para>

              <para>Жишээ нь, <systemitem>rose</systemitem> компьютер дээрх
                <filename>/etc/hosts.lpd</filename> файл:</para>

              <programlisting>orchid
violet
madrigal.fishbaum.de</programlisting>

              <para>Энэ нь тэгэхээр <systemitem>rose</systemitem> компьютер нь
                <systemitem>orchid</systemitem>, <systemitem>violet</systemitem>,
                болон <systemitem class="fqdomainname">madrigal.fishbaum.de</systemitem> зэрэг
				компьютераас хэвлэх хүсэлт хүлээж авч болно гэсэн үг.
                Хэрэв эдгээрээс өөр компьютерууд <systemitem>rose</systemitem>-н
                <application>LPD</application> руу хандахыг хүсвэл
				тэр хүсэлт нь татгалзагдах болно.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Хэмжээгээр нь хязгаарлах</term>

            <listitem>
              <para>Түр хадгалагч санд байрлаж болох файлуудын хэмжээ нь хэд
			  хүртэл байж болохыг хянаж болдог.
                Дотоод хэвлэгчид зориулсан
				түр хадгалах сан дотор <filename>minfree</filename> нэртэй
				файл үүсгэх хэрэгтэй. Уг файл дотор алсаас ирсэн хэвлэгдэх
				ажлын хэмжээ нь хичнээн дискний багцаар
                (512 байт) байж болох дугаарыг бичиж өгдөг.
				</para>

              <para>Ингэснээр алсаас хэрэглэх хэрэглэгчид таны дискийг
			  дүүргэхээс сэргийлнэ. Та энэ файлыг ашигласнаар бас
			  тодорхой дотоод хэрэглэгчдэд давуу эрхийн дараалал
			  тогтоож болдог ба
                <filename>minfree</filename> файлд зааж өгсөн хэмжээнээс
				хэтэрсэн хэмжээгээр нь дараалал тогтоодог.</para>

              <para>Жишээ болгож <filename>minfree</filename>
                файлыг <literal>bamboo</literal> хэвлэгчид зориулж нэмж үзье.
                Бид <filename>/etc/printcap</filename> файл дээр
				дадлага хийх бөгөөд
                хэвлэгчид зориулсан түр хадгалагч тохируулсан хэсгийг
				нь олж харцгаая. Ингээд <literal>bamboo</literal>-н
				оруулгыг харуулъя:</para>

              <programlisting>bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename>/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename>/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:mx#5000:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

              <para>Түр хадгалах санг <literal>sd</literal>
                тохиргооны хэсэгт зааж өгсөн байна.
				Одоо <application>LPD</application>-н алсаас илгээгдсэн
				хэвлэгдэх
				ажилд зориулж гурван мегабайт хэмжээг
				(6144 дискний багц) зааж өгцгөөе.
                :</para>

              <screen>&prompt.root; <userinput>echo 6144 &gt; /var/spool/lpd/bamboo/minfree
              </userinput></screen>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Хэрэглэгчээр нь хязгаарлах</term>

            <listitem>
              <para>Та ямар хэрэглэгч алсаас хэвлэх хүсэлт тавьж болохыг
			   <filename>/etc/printcap</filename> файл дотор
                <literal>rs</literal> тохиргооны хэсэгт зааж өгдөг.
                Хэрэв дотоод хэвлэгчийн оруулгын хэсэгт
                <literal>rs</literal> гэж харагдвал
                <application>LPD</application> нь
				алсаас хэвлэх хүсэлт илгээсэн компьютерийн
				хэрэглэгч
                <emphasis>хэрэв</emphasis> дотоод компьютер дээрх
				нэвтрэх эрхтэй ижилхэн нэртэй хэрэглэгч байвал
				зөвшөөрөл өгч хэвлүүлнэ.
                Бусад тохиолдолд <application>LPD</application> нь
				тухай ажлыг хэвлэхээс татгалзана.</para>

              <para>Энэ тохиргоо нь (жишээлбэл) нэг хэвлэгчийг
			  хувааж хэрэглэдэг олон салбартай байгууллагад ашиглагдаж болох
			  бөгөөд зарим хэрэглэгчид нь хэд хэдэн салбарт харьяалагддаг
			  бол уг хэрэглэгчид эрх өгснөөр
			  өөрийнхөө байгаа салбараас өөр салбарт буй
			  хэвлэгчид хэвлэх ажил илгээх маягаар ашиглаж болох юм.
			  Хэрэв та тэдгээр хэрэглэгчдийг  <emphasis>зөвхөн</emphasis>
			  таны хэвлэгчийг л хэрэглэх бөгөөд бусад зүйлсийг ашиглуулахгүй
			  гэж бодож байгаа бол тэд нарт эхлэл сан байхгүй
			  бөгөөд <filename>/usr/bin/false</filename> гэсэн хэрэглэгдэхгүй
			  бүрхүүлтэй
			  <quote>хязгаарлагдмал</quote> бүртгэл үүсгэх хэрэгтэй.
                </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>

    <sect2 xml:id="printing-advanced-acct">
      <title>Хэвлэгчийн хэрэглээнд бүртгэл тооцох</title>

      <indexterm>
        <primary>бүртгэл</primary>
        <secondary>хэвлэгч</secondary>
      </indexterm>
      <para>За тэгэхээр та хэвлэлт болгонд мөнгө тооцох шаардлага байг.
		Цаас болон хэвлэх хорнуудыг мөнгөөр авдаг болохоор яагаад
		болохгүй гэж?
		Мөн дээрээс нь хэвлэгчийн эд анги байнга хөдөлж эвдрэх магадлалтай
		байдаг болохоор хэвлэгчээ тордох нь бас үнэтэй билээ.
		Та хэвлэгчээ арчилж хуудас болгондоо
		(эсвэл хуудасны хэсэг бүрд, гарчиг бүрд, эсвэл юу ч байсан яахав)
		мөнгө тооцохыг хүсэв. Тэгэхээр та яаж хэвлэгдсэн
		хуудас болгонд мөнгө тооцож чадах вэ?</para>

      <para>Гэхдээ, жаахан таагүй мэдээ нь юу вэ гэхээр
	  <application>LPD</application> түр хадгалагч гуай иймэрхүү талын
	  үйлчилгээ хийхдээ тун тааруу юм. Иймэрхүү бүртгэл тооцоо нь
	  хэвлэгчээ хэрхэн ашиглахаас их хамаардаг бөгөөд
	  хэвлэгдэх загвар, мөн
        <emphasis>таны</emphasis> хэвлэгчээсээ мөнгө олборлох
		шаардлагаас их шалтгаална.</para>

      <para>Бүртгэл тооцоо хийхийн тулд та хэвлэгчийнхээ
	    текст шүүлтүүрийг өөрчлөх хэрэгтэй
		(энгийн текст ажлаас мөнгө тооцохын тулд) бөгөөд
		мөн хувиргагч шүүлтүүрүүдийг бас (мөн бусад файл төрлүүдээс)
		өөрчлөх шаардлагатай. Энгийн шүүлтүүр ашиглаад
		та бүртгэл тооцоо хийж чадахгүй. <link linkend="printing-advanced-filter-intro">Шүүлтүүр</link>
		  хэсгийг харна уу.</para>

      <para>Ерөнхийдөө бүртгэл тооцоо хийж болох хоёр арга бий:</para>

      <itemizedlist>
        <listitem>
          <para><emphasis>Үечлэн бүртгэл тооцох</emphasis> гэдэг бол
		    тун амархан бөгөөд байнга хэрэглэгддэг арга. Хэн нэгэн
			хэвлэх үед хэрэглэгчийн нэр, компьютерийн нэр, мөн
			хэвлэсэн хуудасны дугаар зэргийг бүртгэл файлд хадгалдаг.
			Хэвлэгчдээ зориулсан нэгжийнх нь тооцоог та сараар, эсвэл
			жилээр, эсвэл өөрийнхөө заасан хугацаагаар хэрэглэгч
			бүрийн хувьд тохирсон жагсаалт авч болдог. Ингэж бүртгэл тооцоо
			хийгээд уг файлыг цэвэрлэж дараагийн үеэр нь
			мөн тооцоо хийхээр бэлтгэнэ.</para>
        </listitem>

        <listitem>
          <para><emphasis>Цагаар бүртгэж тооцох</emphasis> гэдэг нь
			жаахан хэцүү болохоор нэлээн бага хэрэглэгддэг.
			Энэ арганд хэрэглэгчдийг хэвлэж эхлэнгүүт тооцоо хийдэг
			шүүлтүүр байдаг. Дискний хэмжээ хязгаарлагчтай ижилхэн
			энэ бүртгэл тооцоо нь харьцангуй шулуухан гүйцэтгэгддэг.
			Та хэрэглэгчдийн бүртгэлд заагдсан хэмжээ дуусах дөхөхөөр
			хэвлүүлэхгүй болгож болохоос гадна хэрэглэгчдэд өөрсдийн
			<quote>хэвлэх хувийг</quote> шалгаж тохируулах боломжийг
			олгон тохируулж болох юм. Гэвч энэ арга нь
			хэрэглэгчийн бүртгэл болон тэдгээрийн хязгаарласан хэмжээг
			мөрдөхийн тулд зарим өгөгдлийн бааз руу хандах
			шаардлагатай байдаг. </para>
        </listitem>
      </itemizedlist>

      <para>Та шаардагдах шүүлтүүрүүдийг, мөн бүртгэж тооцоо хийх
	  кодыг нь хангаж чадаж л байвал <application>LPD</application>
	  түр хадгалагч систем нь өмнө тайлбарласан хоёр аргыг дэмждэг.
	  Бүртгэж тооцох арганд бас онцгой тал байдаг.
	  Жишээ нь та үечилж үү эсвэл цагаар тооцох уу гэдгээ сонгож болно.
	  Та ямар мэдээллийг бүртгэж бичихээ сонгоно: хэрэглэгчийн нэр,
	  компьютерийн нэр, хэвлэсэн төрөл, хэвлэгдсэн хуудасны
	  тоо, загвар, хэр удаан хэрэглэсэн гэх мэт.
	  Та шүүлтүүрүүдийг өөрчилж эдгээр мэдээллийг хадгалдаг болгох хэрэгтэй.
	  </para>

      <sect3>
        <title>Хэвлэлтэд тооцоо хийх түргэн бөгөөд бохир арга</title>

        <para>&os; нь бүртгэл тооцоо хийхэд хэрэглэгдэх
		  хоёр үечлэн тооцоо хийдэг програмтай хамт ирдэг. Тэдгээр нь
		  <command>lpf</command> текст шүүлтүүрүүд бөгөөд <link linkend="printing-advanced-lpf">lpf: Текст шүүлтүүр</link>
			хэсэгт тайлбарлагдсан байгаа. Нөгөөх нь
            &man.pac.8; бөгөөд энэ нь хэвлэлтийн бүртгэл тооцоо хийх файлд буй
			оруулгуудыг цуглуулдаг програм.</para>

        <para>Шүүлтүүрийн хэсэгт тайлбарласны дагуу (<link linkend="printing-advanced-filters">Шүүлтүүрүүд</link>),
	  <application>LPD</application> нь текст болон хувиргагч шүүлтүүрийг
	      бүртгэл файлтай нь хамт шүүлтүүрийн тушаалын мөрнөөс
		  эхлүүлдэг. Шүүлтүүр нь ингэж тушаалын мөрнөөс авсан
		  утгаар хаана бүртгэл файлд оруулах вэ гэдгээ мэддэг.
		  Энэ файлын нэр нь  <filename>/etc/printcap</filename> файл
		  доторх <literal>af</literal> тохиргоонд заагдсан байдаг
		  ба хэрэв файлынх нь зам нь яг нарийвчилж заагдаагүй
		  байгаа бол түр хадгалагчийн сангийн байрлалтай харьцангуй хэлбэрээр
		  мөн зааж өгч болно.</para>

        <para><application>LPD</application> нь <command>lpf</command>-г
	      хуудасны өргөн болон өндрийн утгатай нь
          (<literal>pw</literal> болон <literal>pl</literal>
          тохиргуулаас авч) эхлүүлдэг.  <command>lpf</command> нь эдгээр утгыг
		  ашиглаж хичнээн хуудас хэвлэгдэх вэ гэдгийг тодорхойлдог.
		  Файлыг хэвлэгч рүү илгээсний дараа бүртгэл тооцооны файлд тооцоо
		  хийх утга нь оруулагддаг. Энэ оруулга нь дараах маягтай байдаг:</para>

        <programlisting>2.00 rose:andy
3.00 rose:kelly
3.00 orchid:mary
5.00 orchid:mary
2.00 orchid:zhang</programlisting>

        <para>Та болж өгвөл хэвлэгч болгонд тус тусад нь бүртгэл тооцооны
		файл хөтлөх хэрэгтэй. Учир нь
          <command>lpf</command>-д ямар ч түгжиж зохицуулдаг шинж
		  чанар байхгүй болохоор хоёр
          <command>lpf</command>-ууд нэг файлд хандах тохиолдолд
		  мөргөлдөөн үүсэж болзошгүй.  Тус тусад нь бүртгэл тооцооны
		  файл хөтлөх амар арга бол  <filename>/etc/printcap</filename> дотор
          <literal>af=acct</literal> гэсэн тохиргоог оруулах хэрэгтэй.
		  Дараа нь хэвлэгчид зориулсан түр хадгалах сан бүрд
		  <filename>acct</filename> гэсэн файл хөтлөгдөх болно.</para>

        <para>Хэрэглэгчдээс хэвлэлтийн төлбөрийг шаардах үедээ
		  &man.pac.8; програмыг ажиллуулах хэрэгтэй.
		  Тооцоо хийх хэвлэгчийнхээ түр хадгалах санд оронгуутаа
		   <command>pac</command> гэсэн тушаал ажиллуулахад болно.
          Дараа нь доллараар тооцсон дараах маягийн үр дүнг харах болно:</para>

        <screen>  Login               pages/feet   runs    price
orchid:kelly                5.00    1   $  0.10
orchid:mary                31.00    3   $  0.62
orchid:zhang                9.00    1   $  0.18
rose:andy                   2.00    1   $  0.04
rose:kelly                177.00  104   $  3.54
rose:mary                  87.00   32   $  1.74
rose:root                  26.00   12   $  0.52

total                     337.00  154   $  6.74</screen>

        <para>&man.pac.8;-тай хамт хавсруулж хэрэглэдэг сонголтуудыг жагсааж харуулъя:</para>

        <variablelist>
          <varlistentry>
            <term><option>-P<replaceable>хэвлэгч</replaceable></option></term>

            <listitem>
              <para>Энэ нь тооцоо бодох <replaceable>хэвлэгч</replaceable>ийг зааж өгнө.
                <filename>/etc/printcap</filename> файл доторх
                <literal>af</literal> сонголтод яг нарийвчилсан файлын зам
				зааж өгсөн үед л энэ нь хэрэгждэг.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>-c</option></term>

            <listitem>
              <para>Хэрэглэгчдийн нэрээр биш үнээр нь эрэмбэлж харуулдаг.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>-m</option></term>

            <listitem>
              <para>Тооцоо хийх файлаас компьютерийн нэрийг алгасаж харуулдаг.
			  Ийм үед  <systemitem>alpha</systemitem> компьютер дээрх
                 <systemitem class="username">smith</systemitem> нэртэй хэрэглэгч <systemitem>gamma</systemitem>
				 компьютер дээрх
               <systemitem class="username">smith</systemitem> нэртэй хэрэглэгчээс ялгардаггүй. </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>-p<replaceable>үнэ</replaceable></option></term>

            <listitem>
              <para><filename>/etc/printcap</filename> файлд буй
			  <literal>pc</literal> тохируулгад зааж өгсөн үнийн оронд
			  нэгж хуудас болгоныг <replaceable>үнэ</replaceable>ээр
                үнэлж доллараар тооцдог бөгөөд эсвэл хоёр центээр (
				анхдагч хэмжээ нь) тооцно.  Та энэ <replaceable>үнэ</replaceable>-г
				бутархай тоон хэлбэрээр бас бичиж болно.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>-r</option></term>

            <listitem>
              <para>Эрэмбэлэх дарааллыг эсрэгээр үйлдэнэ.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><option>-s</option></term>

            <listitem>
              <para>Төлбөр тооцооны дүгнэсэн хуудас үүсгэж бүртгэл тооцооны файлыг
			  богиносгодог.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><replaceable>хэрэглэгч</replaceable>
              <replaceable>&hellip;</replaceable></term>

            <listitem>
              <para>Зөвхөн зааж өгсөн
                <replaceable>хэрэглэгчийн</replaceable> бүртгэл тооцоог харуулна.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>&man.pac.8; боловсруулсан анхдагч тооцоонд
		  янз бүрийн компьютераас хэвлэсэн хэрэглэгч бүрд хуудасных нь
		  дугаарыг харуулдаг. Хэрэв танд компьютерийн нэр харуулах
		  шаардлага байхгүй (хэрэглэгч янз бүрийн машинаас хэвлэсэн
		  байж болно) гэж үзвэл  <command>pac -m</command> гэсэн тушаалаар
		  доорх маягаар үр дүнг харах болно:</para>

        <screen>  Login               pages/feet   runs    price
andy                        2.00    1   $  0.04
kelly                     182.00  105   $  3.64
mary                      118.00   35   $  2.36
root                       26.00   12   $  0.52
zhang                       9.00    1   $  0.18

total                     337.00  154   $  6.74</screen>


        <para>Долларын хэмжээг тооцохын тулд
            &man.pac.8; нь <filename>/etc/printcap</filename>  доторх
			<literal>pc</literal> тохиргооны утгыг ашигладаг
			(анхдагч утга нь хуудас болгонд 200, эсвэл 2 цент гэж байдаг).
			Энэ тохируулгад хуудас бүрд юм уу эсвэл алхам бүрд тооцох центүүдийг
			зааж өгдөг. Та энэ утгыг &man.pac.8;-г ажиллуулахдаа
			<option>-p</option> гэсэн хавсралт сонголтоор дарж хэрэглэж
			болдог. <option>-p</option> сонголтод хэрэглэх утга нь
			центээр биш доллараар байх ёстой. Жишээ нь,</para>

          <screen>&prompt.root; <userinput>pac -p1.50</userinput></screen>

          <para>гэснээр хуудас бүр нэг доллар тавин цент болж байна. Та энэ тохиргоог ашиглаж
		  үнэхээр ашиг олж болох юм шүү.</para>

        <para>Эцэст нь  <command>pac -s</command> гэж тушааснаар
		  дүгнэсэн тооцоог дүнгийн бүртгэл файл уруу хадгалах бөгөөд
		  энэ файл нь хэвлэгчийн тооцооны файлын нэрийн ард нь  <literal>_sum</literal>
          гэж залгагдсан нэртэй файл болж хадгалагдана. Дараа нь бүртгэлийн файлыг
		  богиносгодог. Хэрэв та  &man.pac.8;-г дахин ажиллуулбал энэ нь
		  дүгнэлт файлаас нийт утгыг уншиж аваад ердийн тооцооны файлаас авсан утган дээр
		  нэмээд ерөнхий нийт нийлбэрийг харуулах болно.</para>
      </sect3>

      <sect3>
        <title>Хэвлэгдсэн хуудасны тоог яаж тооцох вэ?</title>

        <para>Бүр алсаас бүртгэл хийлтийг зөв хийж гүйцэтгэхийн тулд ажил хэр их
	цаас ашигладгийг та тодорхойлж чаддаг байх хэрэгтэй. Энэ нь хэвлэгчийн бүртгэл хийлтийн
	үндсэн асуудал юм.</para>

        <para>Цэвэр текст ажлуудын хувьд энэ асуудлыг шийдэх нь тийм ч хэцүү биш юм:
	та ажилд хичнээн мөр байгааг тоолж тэр тоогоо таны хэвлэгч нэг хуудсандаа хичнээн мөрийг
	дэмждэгтэй харьцуулах хэрэгтэй. Мөрүүдийг давхар хэвлэдэг файл дахь устгах тэмдэгтүүд эсвэл
	нэг буюу хэд хэдэн нэмэлт мөрүүд болдог урт логик мөрүүдийг бодолцохоо мартуузай.</para>

        <para>Текст шүүлтүүр <command>lpf</command> (<link linkend="printing-advanced-lpf">lpf: Текст шүүлтүүр</link> хэсэгт
	танилцуулагдсан) нь бүртгэл хийхдээ эдгээр зүйлсийг бодолцдог. Бүртгэл хийх хэрэгтэй
	текст шүүлтүүр та бичиж байгаа бол <command>lpf</command>-ийн эх кодыг та
	магадгүй үзэхийг хүсэж болох юм.</para>

        <para>Тэгэхээр та бусад файлын хэлбэршилтүүдтэй хэрхэн ажиллах вэ?</para>

        <para>DVI-аас-LaserJet эсвэл  DVI-аас-&postscript; руу хийх хөрвүүлэлтийн
	хувьд <command>dvilj</command> эсвэл <command>dvips</command>
	тушаалаас гарах оношлогооны гаралтыг та өөрийн шүүлтүүрээр оруулж
	хичнээн хуудаснууд хөрвүүлэгдсэнийг хайж олж болох юм. Бусад файлын хэлбэршилтүүд
	болон хөрвүүлэх програмуудын хувьд та эдгээртэй төстэй зүйлсийг хийж чадах
	ёстой.</para>

        <para>Гэхдээ хэвлэгч нь тэдгээр бүх хуудаснуудыг жинхэнэдээ хэвлэхгүй байж
	болох сул тал энэ аргуудад ажиглагддаг. Жишээ нь цаас гацах, хор дуусах, эсвэл
	дэлбэрсэн хэр нь хэрэглэгчид төлбөр ноогдуулсан хэвээр байж болох зэргийг
	дурдаж болох юм.</para>

        <para>Тэгэхээр та юу хийж чадах вэ?</para>

        <para><emphasis>Зөв</emphasis> бүртгэл хийх цорын ганц
	<emphasis>найдвартай</emphasis> арга байдаг. Хичнээн цаас ашигладаг болохоо
	хэлж чаддаг хэвлэгч аваад цуваа шугамаар юм уу эсвэл сүлжээгээр залгах хэрэгтэй.
	Бараг бүх &postscript; хэвлэгчүүд үүнийг дэмждэг. Бусад загварууд
	бас ингэж чаддаг (жишээ нь сүлжээнд холбогдсон Imagen laser хэвлэгчүүд).
	Хэвлэгчүүдийг ажил бүрийг хэвлэснийхээ дараа хуудасныхаа хэрэглээг
	авч <emphasis>зөвхөн</emphasis> тэр утга дээрээ үндэслэн бүртгэлийн мэдээллээ
	бүртгүүлдэг болгохын тулд эдгээр хэвлэгчүүдийн хувьд шүүлтүүрүүдийг өөрчлөх хэрэгтэй.
	Мөр тоолох эсвэл алдаагүй файл шалгалт шаардлагагүй юм.</para>

        <para>Мэдээж та үргэлж өгөөмөр байж бүх хэвлэлтийг үнэгүй болгож болох юм.</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xml:id="printing-using">
    <title>Хэвлэгчдийг ашиглах нь</title>

    <indexterm>
      <primary>хэвлэгчид</primary>
      <secondary>хэрэглээ</secondary>
   </indexterm>
    <para>Энэ хэсэгт таны &os; дээр тохируулсан хэвлэгчийг хэрхэн хэрэглэх
	талаар өгүүлэх болно. Хэрэглэгчийн ашиглаж болох тушаалууд нь:</para>

    <variablelist>
      <varlistentry>
	<term>&man.lpr.1;</term>

	<listitem>
	  <para>Хэвлэх үйлдлийг гүйцэтгэдэг</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>&man.lpq.1;</term>

	<listitem>
	  <para>Хэвлэгчийн хэвлэх дарааллыг шалгадаг</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>&man.lprm.1;</term>

	<listitem>
	  <para>Хэвлэгчийн хэвлэх дарааллаас устгадаг</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para>Энд мөн удирдаж зохицуулах тушаалууд байдаг. Тэр нь
<link linkend="printing-lpc">Хэвлэгчдийг зохицуулах</link>
    хэсэгт өгүүлсэн &man.lpc.8; тушаал юм.</para>

    <para> &man.lpr.1;, &man.lprm.1;, мөн &man.lpq.1; гэсэн эдгээр тушаалууд
	  нь бүгдээрээ <option>-P
	<replaceable>хэвлэгчийн-нэр</replaceable></option> гэсэн сонголт
	  авдаг бөгөөд үүгээрээ <filename>/etc/printcap</filename> файлд
	  буй хэвлэгч/дараалалтай ажилладаг. Энэ нь хэвлэгчийн ажлыг
	  нэмэх, устгах эсвэл хэвлэгдэж байгаа ажлыг шалгах зэрэгт хэрэглэгддэг.
	  Хэрэв та <option>-P</option> сонголт хэрэглэдэггүй бол
	  <envar>PRINTER</envar> гэсэн орчны хувьсагчийн утгыг энэ тушаал
	  хэрэглэдэг. Эцэст нь хэрэв танд  <envar>PRINTER</envar>
	  орчны хувьсагч зарлагдаагүй бол <literal>lp</literal>
	  нэртэй хэвлэгчийг анхдагч хэвлэгч гэж ханддаг.</para>

    <para>Энд <emphasis>анхдагч хэвлэгч</emphasis> гэдэг нь
	   <envar>PRINTER</envar> орчны хувьсагч дотор буй хэвлэгч юм уу
	   эсвэл уг орчны хувьсагчид хэвлэгч заагдаагүй байвал
	   <literal>lp</literal> гэсэн нэртэй хэвлэгч байна гэж авч үзэхийг
	   хэлж байгаа юм.</para>

    <sect2 xml:id="printing-lpr">
      <title>Хэвлэх ажиллагаа</title>

      <para>Файлыг хэвлэхийн тулд:</para>

      <screen>&prompt.user; <userinput>lpr filename ...</userinput></screen>

      <indexterm><primary>хэвлэх нь</primary></indexterm>
      <para>Энэ нь жагсааж өгсөн файлуудыг
	  анхдагч хэвлэгч рүү илгээж хэвлэдэг. Хэрэв та ямар ч файл зааж
	  өгөөгүй бол  &man.lpr.1; нь гарнаас оруулах утгуудыг
	  хэвлэгч рүү илгээдэг. Жишээ нь дараах тушаал нь
	  системийн чухал файлуудыг хэвлэнэ:</para>

      <screen>&prompt.user; <userinput>lpr /etc/host.conf /etc/hosts.equiv</userinput></screen>

      <para>Хэвлэгчийг онцгойлж сонгохыг хүсвэл :</para>

      <screen>&prompt.user; <userinput>lpr -P printer-name filename ...</userinput></screen>

      <para>Дараах жишээн дээр тухайн байгаа сангийн файлуудыг
	  жагсааж <literal>rattan</literal> нэртэй
	  хэвлэгч рүү илгээхийх харуулах болно:</para>

      <screen>&prompt.user; <userinput>ls -l | lpr -P rattan</userinput></screen>

      <para>Ямар ч файлын жагсаалт өгөөгүй болохоор
	  &man.lpr.1; тушаал нь <command>ls
	  -l</command> тушаалын гаралтыг өөрийнхөө оруулга гэж авч үзсэн байна.</para>

      <para>&man.lpr.1; тушаал нь файл хувиргалт хийх,
	  олон хуулбарлаж хэвлэх гэх мэтчилэн маш олон төрлийн сонголт
	  хүлээн авч хэвлэх үйлдлийнхээ загварыг өөрчилж чаддаг.
	  <link linkend="printing-lpr-options">Хэвлэх сонголтууд</link>
	  хэсгээс нэмэлт мэдээллүүдийг уншина уу.</para>
    </sect2>

    <sect2 xml:id="printing-lpq">
      <title>Хэвлэж буй ажлыг шалгах</title>

      <indexterm><primary>хэвлэх ажиллагаа</primary></indexterm>
      <para>&man.lpr.1; тушаалаар хэвлэгдэх зүйлс
<application>LPD</application> түр хадгалагч дээр очдог бөгөөд
	тэдгээрийг ерөнхийд нь <quote>хэвлэгдэх ажил</quote> гэж нэрлэдэг.
	Хэвлэгч болгонд хэвлэгдэх ёстой ажлууд жагсаагдсан байдаг бөгөөд
	таны хэвлэхийг хүссэн юм тань бусад хэрэглэгчидтэй адилхан
	хэвлэгдэх дараалалд ээлжээ хүлээгээд зогсож байдаг. Хэвлэгч нь
	ирсэн зүйлсийг хэн-түрүүлж-ирнэ түүнийг-түрүүлж-хэвлэнэ гэсэн
	зарчим баримталж хэвлэдэг. </para>

      <para>Анхдагч хэвлэгчийн дарааллыг харуулахын тулд &man.lpq.1;
	  тушаалыг бичдэг. Хэрэв хэвлэгчээр нь сонгож харахыг хүсвэл
	  <option>-P</option> сонголт хэрэглэдэг. Жишээлбэл

	<screen>&prompt.user; <userinput>lpq -P bamboo</userinput></screen>

	гэсэн тушаал нь <literal>bamboo</literal> нэртэй хэвлэгч дээр байгаа
	хэвлэх дарааллыг хардаг. Доорх хэсэгт <command>lpq</command>
	тушаалын гаралтыг харуулав:</para>

      <screen>bamboo is ready and printing
Rank   Owner    Job  Files                              Total Size
active kelly    9    /etc/host.conf, /etc/hosts.equiv   88 bytes
2nd    kelly    10   (standard input)                   1635 bytes
3rd    mary     11   ...                                78519 bytes</screen>

      <para>Энэ нь <literal>bamboo</literal> хэвлэгчид гурван файл
	  жагсаагдан ээлжээ хүлээж байгааг харуулсан байна.
	Эхний ээлжит ажлыг kelly хэрэглэгч илгээсэн бөгөөд
	<quote>хэвлэх дугаар нь</quote> 9 байна.
	Хэвлэх ажил болгон давтагдаагүй өөрийн гэсэн дугаар авдаг.
	Та хэвлэх дарааллын энэ дугаарыг хэрэгсэхгүй байж болох ч гэсэн
	хэрэв хэвлэх ажлыг цуцлах хэрэг гарвал уг дугаарыг мэдэж байх нь
	танд хэрэгтэй билээ. Энэ талаар <link linkend="printing-lprm">Хэвлэх ажлыг устгах</link> хэсгээс
	  харна уу.</para>

      <para>Ес гэсэн дугаартай хэвлэх ажил нь хоёр ширхэг файлаас
	  бүтсэн байна.
	  &man.lpr.1; тушаалд хэрэв олон файл өгсөн бол тэдгээрийг нэг ажилд
	  тооцдог. Энэ ажил нь одоогийн идэвхитэй ажил  (<quote>Rank</quote>
	  нэртэй баганад  <literal>active</literal> гэж бичсэн байгааг
	  анхаарна уу) бөгөөд хэвлэгч яг одоо түүнийг хэвлэж байна гэсэн үг.
	  Хоёр дахь ажил нь стандарт оруулгаас &man.lpr.1; тушаал уруу
	  илгээгдсэн ажил байна. Гурав дахь ажил нь  <systemitem class="username">mary</systemitem>
	  хэрэглэгчээс илгээгдсэн бөгөөд нэлээн их хэмжээнийх юм байна. Файлын
	  нэрийн урт нь их байгаа учраас &man.lpq.1; нь түүнийг
	  гурван цэгээр товчилж харуулсан байна.</para>

      <para>&man.lpq.1; тушаалын гаралтын хамгийн эхний мөр бас чухал
	  утга илэрхийлдэг нь:
	хэвлэгч яг одоо юу хийж байгааг (ядаж хэвлэгчийн юу хийж байгааг
	<application>LPD</application> нөхөр бодож байгааг) харуулдаг.</para>

      <para> &man.lpq.1; тушаал нь мөн <option>-l</option> сонголтыг дэмждэг
	  бөгөөд энэ нь уртасгасан жагсаалтыг харуулдаг юм. Доор
	<command>lpq -l</command> тушаалын гаралтыг харуулав:</para>

      <screen>waiting for bamboo to become ready (offline ?)
kelly: 1st				 [job 009rose]
       /etc/host.conf                    73 bytes
       /etc/hosts.equiv                  15 bytes

kelly: 2nd				 [job 010rose]
       (standard input)                  1635 bytes

mary: 3rd                                [job 011rose]
      /home/orchid/mary/research/venus/alpha-regio/mapping 78519 bytes</screen>
    </sect2>

    <sect2 xml:id="printing-lprm">
      <title>Хэвлэх ажлыг устгах</title>

      <para>Хэрэв та хэвлэе гэсэн бодлоо өөрчилбөл &man.lprm.1; тушаалаар
	хэвлэгдэх ажлыг устгаж болно. Мөн та
	&man.lprm.1; тушаалаар хэвлэгдэж байгаа ажлыг бас устгаж болдог боловч
	зарим хэсэг нь хэвлэгдэж магадгүй юм.</para>

      <para>Анхдагч хэвлэгчээс ажил устгахын тулд эхлээд
	  &man.lpq.1; тушаал хэрэглэж дарааллынх нь дугаарыг нь мэддэг.
	  Тэгээд дараа нь:</para>

      <screen>&prompt.user; <userinput>lprm job-number</userinput></screen>

      <para>Хэвлэгдэх ажлыг хэвлэгчийн нэрийг нь онцгойлж хандан
	  устгахын хүсвэл
	<option>-P</option> сонголт хэрэглэнэ.
	Дараах тушаал нь <literal>bamboo</literal> нэртэй хэвлэгчээс
	10 дугаартай ажлыг устгана:</para>

      <screen>&prompt.user; <userinput>lprm -P bamboo 10</userinput></screen>

      <para>&man.lprm.1; тушаалын хэд хэдэн товчлол бий:</para>

      <variablelist>
	<varlistentry>
	  <term>lprm -</term>

	  <listitem>
	    <para>Танд хамаатай бүх хэвлэгдэх ажлыг устгадаг (анхдагч хэвлэгчээс).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>lprm <replaceable>хэрэглэгч</replaceable></term>

	  <listitem>
	    <para><replaceable>Хэрэглэгч</replaceable>-д хамаатай бүх
		ажлыг устгана (анхдагч хэвлэгчээс). Супер хэрэглэгч мэдээж
		бүх хэрэглэгчдийн ажлыг устгаж болох бөгөөд хэрэв та биш бол
		зөвхөн өөрийнхөө л ажлыг устгана.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>lprm</term>

	  <listitem>
	    <para>Ямар ч дарааллын дугаар, хэрэглэгчийн нэр,
		эсвэл <option>-</option> сонголт зэргийг оруулаагүй
		бол танд хамаатай яг одоо хэвлэгч дээр идэвхитэй байгаа
		ажлыг &man.lprm.1; устгадаг. Супер хэрэглэгч бол
		яг одоо идэвхитэй байгаа хэний ч дараалал байсан гэсэн устгана.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Дээрх товчлолуудыг <option>-P</option> сонголт ашиглан хэвлэгчийн
	  нэр зааж өгөн ямар нэгэн хэвлэгч рүү онцгойлон хандаж болдог.
	  Жишээлбэл дараах тушаал нь <literal>rattan</literal> хэвлэгчээс
	  тухайн хэрэглэгчийн бүх дарааллыг устгана:</para>

      <screen>&prompt.user; <userinput>lprm -P rattan -</userinput></screen>

      <note>
	<para>Хэрэв та сүлжээний орчинд ажиллаж байгаа бол
	  &man.lprm.1; тушаал нь өөр ижил нэртэй хэвлэгч
	  өөр машинд залгаатай байсан ч зөвхөн илгээсэн компьютерийн л дарааллыг
	  устгахад зөвшөөрдөг. Доорх жишээнд үүнийг тодруулав:</para>

	<screen>&prompt.user; <userinput>lpr -P rattan myfile</userinput>
&prompt.user; <userinput>rlogin orchid</userinput>
&prompt.user; <userinput>lpq -P rattan</userinput>
Rank   Owner	  Job  Files                          Total Size
active seeyan	  12	...                           49123 bytes
2nd    kelly      13   myfile                         12 bytes
&prompt.user; <userinput>lprm -P rattan 13</userinput>
rose: Permission denied
&prompt.user; <userinput>logout</userinput>
&prompt.user; <userinput>lprm -P rattan 13</userinput>
dfA013rose dequeued
cfA013rose dequeued
	</screen>
      </note>
    </sect2>

    <sect2 xml:id="printing-lpr-options">
      <title>Энгийн текстээс өөр зүйлс хэвлэх нь: Хэвлэх сонголтууд</title>

      <para>&man.lpr.1; тушаал нь текст загварчлах, зураг файлыг
	  өөр хэлбэрт хувиргах, олон хуулбар хийх, хэвлэгдэж байгаа
	  файлууд уруу хандах гэх мэтчилэн маш олон сонголттой. Энэ
	  хэсэгт тэр тухай зааварлах болно.</para>

      <sect3 xml:id="printing-lpr-options-format">
	<title>Хэлбэршүүлэх болон хувиргах сонголтууд</title>

	<para>Дараах &man.lpr.1;-н сонголтууд нь хэвлэгдэх ажлын
	хэлбэршүүлэлтийг хянадаг. Эдгээр сонголтуудыг хэрэв таны
	хэвлэх зүйлс тань энгийн текст хэлбэртэй биш юм уу эсвэл
	текстээ &man.pr.1; хэрэгсэл ашиглан өөрчилж хэвлэх үед
	хэрэглэнэ.</para>

        <indexterm><primary>&tex;</primary></indexterm>
	<para>Жишээлбэл дараах тушаал нь <filename>fish-report.dvi</filename>
	нэртэй DVI төрлийн файлыг (&tex; төрлийн бичилтийн системийн) <literal>bamboo</literal> хэвлэгч рүү явуулна:</para>

	<screen>&prompt.user; <userinput>lpr -P bamboo -d fish-report.dvi</userinput></screen>

	<para>Энэ сонголт нь хэвлэгдэх гэж буй бүх файлд хэрэгждэг болохоор
      жишээ нь та DVI болон ditroff файлуудыг хамт хэвлэгч рүү илгээж
	  болохгүй. Түүний оронд файлуудыг тусад нь тусдаа сонголттой илгээх
	  хэрэгтэй.</para>

	<note>
	  <para><option>-p</option> болон
	    <option>-T</option> сонголтуудаас бусад бүх сонголтуудад
		хэвлэгч дээр суугдсан хөрвүүлж хувиргадаг шүүгч ажиллагаа
		шаардагддаг. Жишээ нь <option>-d</option> сонголт DVI
		хөрвүүлж хувиргадаг шүүлт шаарддаг. <link linkend="printing-advanced-convfilters">Хувиргагч шүүлтүүрүүд</link>
		  хэсэгт тодорхой өгүүлсэн буй.</para>
	</note>

	<variablelist>
	  <varlistentry>
	    <term><option>-c</option></term>

	    <listitem>
	      <para>cifplot файлуудыг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-d</option></term>

	    <listitem>
	      <para>DVI файлуудыг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-f</option></term>

	    <listitem>
	      <para>FORTRAN текст файлуудыг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-g</option></term>

	    <listitem>
	      <para>plot төрлийн зураг график файлуудыг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-i <replaceable>тоо</replaceable></option></term>

	    <listitem>
	      <para>Гаралтыг <replaceable>тоо</replaceable>гоор зай авч
		  хэвлэнэ. Хэрэв та <replaceable>тоо</replaceable> оруулахгүй
		  тушаавал 8 гэсэн зайгаар хэвлэнэ. Энэ сонголт зөвхөн тодорхой хэдэн
		  шүүлтүүртэй л ажилладаг.</para>

	      <note>
		<para><option>-i</option> сонголт болон тоо хоёрын завсар
		ямар ч зай байж болохгүй.</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-l</option></term>

	    <listitem>
	      <para>Текст файлд буй зарим хянагч тэмдэгтүүдтэй нь
		  шууд үсэгчлэн хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-n</option></term>

	    <listitem>
	      <para>ditroff (төхөөрөмж болгоноос хамааралгүй troff) өгөгдлийг
		  хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-p</term>

	    <listitem>
	      <para>Хэвлэхээсээ өмнө энгийн текстийг &man.pr.1; хэрэгслээр
		  хэлбэршүүлдэг. Нэмэлт мэдээллийг &man.pr.1; гарын авлагаас
		  харна уу.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-T <replaceable>гарчиг</replaceable></option></term>

	    <listitem>
	      <para>&man.pr.1; хуудасны толгой хэсэгт файлын нэрийг
		  байрлуулахын оронд зааж өгсөн <replaceable>Гарчиг</replaceable>-г
		  хэвлэдэг. Энэ сонголт нь гэхдээ зөвхөн <option>-p</option>
		сонголт хэрэглэсэн үед л хэрэгждэг. </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-t</option></term>

	    <listitem>
	      <para>troff өгөгдлийг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-v</option></term>

	    <listitem>
	      <para>raster өгөгдлийг хэвлэнэ.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>Жишээ: Дараах тушаал нь &man.ls.1;-н гарын авлагыг
	аятайхан загварчлаад анхдагч хэвлэгчээр хэвлэнэ:</para>

	<screen>&prompt.user; <userinput>zcat /usr/share/man/man1/ls.1.gz | troff -t -man | lpr -t</userinput></screen>

	<para>&man.zcat.1; тушаал нь &man.ls.1; гарын авлагын эх
	шахсан файлыг нь задлаад GNU troff хэлбэрт оруулдаг
	&man.troff.1; тушаал уруу дамжуулна. Уг хэлбэрт оруулсны дараа
	&man.lpr.1; руу дамжигдах бөгөөд энэ нь хэвлэх ажлыг
	<application>LPD</application> түр хадгалагч уруу илгээдэг.
	Бид <option>-t</option> сонголт &man.lpr.1; дээр хэрэглэсэн
	болохоор түр хадгалагч хэвлэгдэх үед GNU troff гаралтыг
	хэвлэгчийн ойлгох хэлбэрт хувиргаж хэвлэнэ.</para>
      </sect3>

      <sect3 xml:id="printing-lpr-options-job-handling">
	<title>Хэвлэлтэд хандах сонголтууд</title>

	<para>&man.lpr.1; тушаалд өгсөн дараах сонголтууд
	  <application>LPD</application> дээрх хэвлэгдэх ажлуудад
	  онцгойлж ханддаг:</para>

	<variablelist>
	  <varlistentry>
	    <term>-# <replaceable>хуулбарлах-тоо</replaceable></term>

	    <listitem>
	      <para>Зөвхөн нэг удаа хэвлэгдэх ажлуудыг <replaceable>хуулбарлах-тоо</replaceable>гоор хувилдаг. Систем хянаж зохицуулагч албатай хүн магадгүй
		  хэвлэгчийн ингэж ахин дахин хуулбарлаж хэвлэхийн оронд
		  хувилах фото хуулбар үүсгээд түүнийгээ шууд буулгах
		  сонголт санал танд тавьж болох юм. <link linkend="printing-advanced-restricting-copies">Олон хуулбарлалтыг
		  хязгаарлах</link> хэсэгт тодорхой заасан байгаа.</para>

	      <para>Доорх жишээн дээр <filename>parser.c</filename> файлыг
		  гурав, <filename>parser.h</filename> файлыг мөн гурав хувилж
		  анхдагч хэвлэгч рүү хэвлэж байна:</para>

	      <screen>&prompt.user; <userinput>lpr -#3 parser.c parser.h</userinput></screen>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-m</term>

	    <listitem>
	      <para>Хэвлэх ажил дууссаны дараа захиа илгээнэ.
		  Хэвлэгдэх ажил дууссаны дараа <application>LPD</application>
		  систем таны бүртгэл рүү захиа явуулдаг.
		  Захиан дотроо таны хэвлэх ажиллагаа амжилттай болсон эсвэл
		  алдаа гарсан тухай мэдэгддэг бөгөөд алдаа гарсан байвал
		  (голдуу) ямар алдаа гарсныг нь бичсэн байдаг.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-s</term>

	    <listitem>
	      <para>Түр хадгалагч сан уруу хуулахгүйгээр уг файлуудад
		  тэмдэгт холбоос үүсгэдэг.</para>

	      <para>Хэрэв та том хэмжээний файл хэвлэх гэж байгаа бол
		  энэ сонголт танд тун хэрэг болно. Ингэснээр түр хадгалагчид
		  буй дискний хэмжээг хэмнэдэг ( таны том хэмжээний файл
		  түр хадгалагчийн хэмжээнээс хэтэрч түүнтэй зэрэгцээ орших
		  зай уруу илүүдэж гарах аюултай). <application>LPD</application>
		  мөн хэвлэх файлыг хуулах гэж цаг зарцуулахгүй түргэн байх
		  болно.</para>

	      <para>Нэг сул тал бий:
		<application>LPD</application> нь хэвлэгдэх файл уруу
		шууд хандаж байгаа болохоор хэвлэгдэж дуусахаас нааш та уг файлыг
		засварлаж чадахгүй байх болно.</para>

	      <note>
		<para>Хэрэв та сүлжээгээр өөр хэвлэгч рүү хэвлэж байгаа бол
		<application>LPD</application> нь уг компьютераас алсад буй
		хэвлэгч рүү файлыг хуулдаг болохоор <option>-s</option> сонголт
		нь дотоод зайгаа хэмнэхээс биш алсад буй компьютерийн
		дискний зайг хэмнэдэггүй. Гэвч ийм байсан ч хэрэгтэй сонголт билээ.
		</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-r</term>

	    <listitem>
	      <para>Түр хадгалагч уруу хуулсны дараа юм уу эсвэл
		  <option>-s</option> сонголт хэрэглэж хэвлэсний дараа уг файлыг
		  утсгана. Энэ сонголтыг тун болгоомжтой хэрэглэнэ үү!</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>

      <sect3 xml:id="printing-lpr-options-misc">
	<title>Хуудасны толгой хэсгийг загварчлах сонголтууд</title>

	<para>&man.lpr.1; тушаалд хэрэглэсэн эдгээр сонголтууд нь
	  хуудасны толгой хэсэгт хэвлэгддэг текстийг зааж өгөхөд
	  хэрэглэгддэг. Хэрэв хуудасны толгой хэсгийг өөр програм
	  өөрчилнө гэж заасан байвал энэ сонголт хүчингүй болдог.
	  <link linkend="printing-advanced-header-pages">Хуудасны толгой
	  хэсэг</link> хэсэгт энэ талаар тодорхой өгүүлсэн байгаа.</para>

	<variablelist>
	  <varlistentry>
	    <term>-C <replaceable>текст</replaceable></term>

	    <listitem>
	      <para>Толгой хэсэгт байдаг компьютерийн нэрийг
		  зааж өгсөн <replaceable>текст</replaceable>ээр орлуулдаг.
		  Ердийн үед бол уг хэвлэх ажлыг илгээсэн компьютерийн нэр байдаг.
		  </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-J <replaceable>текст</replaceable></term>

	    <listitem>
	      <para>Толгой хэсэгт байдаг хэвлэх ажлын нэрийг зааж өгсөн
		  <replaceable>текст</replaceable>ээр орлуулдаг.
		  Ердийн үед ажлын нэр нь хэвлэх файлын нэр байдаг ба
		  хэрэв та консолийн стандарт оруулга хэрэглэсэн бол
		  <filename>stdin</filename> гэж байдаг.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-h</term>

	    <listitem>
	      <para>Толгой хэсэггүй хэвлэнэ.</para>

	      <note>
		<para>Хэрэв өөр програмаар толгой хэсэг нь бэлтгэгдсэн бол
		энэ сонголт зарим тохиолдолд хүчингүй болдог. <link linkend="printing-advanced-header-pages">Хуудасны
			толгой хэсэг</link> хуудсанд энэ тухай тайлбарласан буй</para>
	      </note>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>
    </sect2>

    <sect2 xml:id="printing-lpc">
      <title>Хэвлэгчдийг зохицуулах</title>

      <para>Хэвлэгчдийг зохицуулагчийн зүгээс тэдгээрийг суулгаж шалгахад
	  үүрэгтэй байдаг. &man.lpc.8; тушаал ашиглан хэвлэгчтэйгээ
	  та олон аргаар харилцаж чадна. &man.lpc.8; тушаал ашиглан</para>

      <itemizedlist>
	<listitem>
	  <para>Хэвлэгчийг эхлүүлэх болон зогсоох</para>
	</listitem>

	<listitem>
	  <para>Хэвлэгдэх дарааллыг хорих болон зөвшөөрөх</para>
	</listitem>

	<listitem>
	  <para>Дараалалд буй хэвлэгдэх ажлын ээлж дарааг өөрчлөх</para>
	</listitem>
      </itemizedlist>

      <para>Эхлээд жаахан тодруулцгаая: Хэрэв хэвлэгч <emphasis>зогссон</emphasis>
	  бол дараалалд буй ямар ч ажлыг хэвлэхгүй. Хэрэглэгчид хэвлэх
	  ажил илгээж болох бөгөөд тийм ажлууд бүгд дараалалд нэмэгдэж
	  хэвлэгчийг <emphasis>эхлэх</emphasis> хүртэл юм уу эсвэл дарааллыг
	  цэвэрлэх хүртэл тэнд хадгалагдана.</para>

      <para>Хэрэв дараалал <emphasis>хоригдсон</emphasis> бол ямар ч
	  хэрэглэгч (<systemitem class="username">root</systemitem> хэрэглэгчээс бусад)
	  хэвлэгч рүү юм илгээж чадахгүй. Дараалал
	  <emphasis>зөвшөөрөгдсөн</emphasis> үед л хэвлэх ажил хүлээж авдаг.
	  Хэвлэгч <emphasis>эхлэх</emphasis> үедээ мөн хоригдсон
	  дарааллыг хоосортол нь хэвлэнэ.</para>

      <para>&man.lpc.8; тушаалыг хэрэглэхийн тулд та
	  <systemitem class="username">root</systemitem> эрхтэй байх хэрэгтэй байдаг. Энгийн
	  хэрэглэгчид бол &man.lpc.8; тушаалыг хэвлэгчийн
	  төлөв байдал юм уу эсвэл гацсан хэвлэгчийг
	  эхлүүлэхэд хэрэглэнэ. </para>

      <para>Энд &man.lpc.8; тушаалын нэгтгэсэн жагсаалтыг харуулав.
	  Ихэнх тушаалуудад онцгойлон хэвлэгч рүү хандахын тулд
	<replaceable>хэвлэгчийн-нэр</replaceable> нэмж өгдөг. Хэрэв
	та <literal>all</literal> гэж <replaceable>хэвлэгчийн-нэр</replaceable>-н
	оронд өгвөл <filename>/etc/printcap</filename> файл жагсаалттай
	буй бүх хэвлэгчийг илэрхийлэх болно.</para>

      <variablelist>
	<varlistentry>
	  <term><command>abort
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Одоогийн хэвлэж байгаа ажлыг цуцлаад хэвлэгчийг
		зогсооно. Хэрэв дараалал хоригдоогүй бол хэрэглэгчид хэвлэх
		зүйлс илгээж байж болно.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>clean
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Хэвлэгчийн түр хадгалагчид буй хуучин файлуудыг устгана.
		  <application>LPD</application> уг файлыг ямар нэгэн шалтгааны
		  улмаас устгаагүй байж болох юм. Энэ нь хэвлэх үед
		  алдаа гарах, эсвэл зохион байгуулах зарим үйлдэл хийгдэх гэх
		  мэт янз бүрийн шалтгаан байж болно. Энэ тушаал түр хадгалагч
		  санд хамаарахгүй файлуудыг шалгаж олоод устгадаг.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>disable
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Шинээр ирэх ажлуудад дарааллыг хорьно. Хэрэв хэвлэгч тухайн үед хэвлэж байвал
		  дараалалд үлдсэн байгаа зүйлсүүдийг хэвлэдэг.
		  Супер хэрэглэгч (<systemitem class="username">root</systemitem>) дараалал хоригдсон
		  байсан ч хэвлэх зүйл илгээдэг.</para>

	    <para>Энэ тушаал шинэ хэвлэгчийн суулгац юм уу шүүлтийг шалгахад
		  их хэрэгтэй. Жишээ нь хэвлэх дарааллыг хориод
		  <systemitem class="username">root</systemitem> эрхээр хэвлэж туршиж болно.
		  Бусад хэрэглэгчид дарааллыг <command>идэвхжих</command> хүртэл
		  дараалал уруу ажил илгээж чадахгүй.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>down хэвлэгчийн-нэр
	      мэдээлэл</command></term>

	  <listitem>
	    <para>Хэвлэгчийг унтраана. <command>disable</command> тушаалыг
		<command>stop</command>-тай хамт хэрэглэсэнтэй ижил.
	      Хэрэв хэрэглэгч хэвлэгчийн &man.lpq.1; юм уу эсвэл
		  <command>lpc
		status</command> тушаал хэрэглэн төлөв байдлыг
		  мэдье гэсэн үед уг зааж өгсөн <replaceable>мэдээлэл</replaceable>
		  харуулагддаг. </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>enable
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Хэвлэгчийн дарааллыг зөвшөөрдөг. Хэрэглэгч хэвлэгч рүү
		юм илгээж болох боловч хэвлэгч эхлэхээс нааш хэвлэгдэхгүй.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>help
	      тушаал</command></term>

	  <listitem>
	    <para><replaceable>тушаал</replaceable>ын хэрэглэх тусламжийг харуулдаг. Хэрэв <replaceable>тушаал</replaceable> бичилгүйгээр тушаавал боломжтой бүх
		тушаалын ерөнхий мэдээллийг харуулна.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>restart
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Хэвлэгчийг эхлүүлдэг. Ердийн хэрэглэгчид энэ тушаалыг хэрэв
		ямар нэгэн тохиолдлоор <application>LPD</application> гацсан үед
		хэвлэгчийг эхлүүлэхэд хэрэглэж болдог боловч <command>stop</command> юм уу
		<command>down</command> тушаал хэрэглэн ажиллаж байгаа хэвлэгчийг
		зогсоож чаддаггүй. <command>restart</command> тушаал нь
		<command>abort</command> тушаалыг
	      <command>start</command> тушаалтай хэрэглэсэнтэй ижилхэн.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>start
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Хэвлэгчийг эхлүүлнэ. Хэвлэгч дараалалд байгаа ажлуудыг
		хэвлэж эхэлдэг.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>stop
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para>Хэвлэгчийг зогсооно. Хэвлэгч яг хэвлэж байсан ажлаа дуусгаад
		дараалалд байгаа ажлуудыг хэвлэлгүйгээр зогсоно. Хэвлэгч зогссон
		байсан ч хэрэглэгчид хэвлүүлэх ажлаа дараалалд илгээж болно.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>topq хэвлэгчийн-нэр
	      ажил-эсвэл-хэрэглэгчийн-нэр</command></term>

	  <listitem>
	    <para>
	      <replaceable>хэвлэгчийн-нэр</replaceable> нэртэй хэвлэгчийн
		  дараалалд байгаа ажлуудын хамгийн дээд хэсэгт нь
		  зааж өгсөн <replaceable>хэрэглэгчийн-нэр</replaceable> хэрэглэгчийн
		  <replaceable>ажлыг</replaceable> оруулдаг. Энэ тушаалыг
		  <literal>all</literal> гэж
	      <replaceable>хэвлэгчийн-нэр</replaceable>-н оронд хэрэглэх боломжгүй.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>up
	      хэвлэгчийн-нэр</command></term>

	  <listitem>
	    <para><command>down</command> тушаалын эсрэгээр
		уг хэвлэгчийг шинээр эхлүүлдэг.
	      <command>start</command> тушаалыг
	      <command>enable</command>-тай хэрэглэсэнтэй ижилхэн.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>&man.lpc.8; нь дээрх тушаалуудыг тушаал бичих мөрнөөс
	  хүлээж авдаг. Хэрэв та ямар ч тушаал оруулаагүй бол &man.lpc.8; нь
	<command>exit</command> юм уу
	<command>quit</command>, эсвэл end-of-file тэмдэгт илгээх хүртэл
	гарнаас тушаал оруулж ажиллах  харилцах горимд шилждэг.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="printing-lpd-alternatives">
    <title>Хэвлэгчийн стандарт түр хадгалагчидтай ижил хадгалагчид </title>

    <para>Хэрэв та энэ гарын авлагыг эхнээс нь уншиж байгаа бол &os;-тэй цуг ирдэг
	түр хадгалах систем болох <application>LPD</application>-ийн
	талаар бүх л мэдэж болох зүйлсийг одоо сурсан байх ёстой. Та үүний олонхи
	дутагдалтай талуудыг үнэлж чадах байх. Энэ нь дараах асуултанд хүргэдэг:
	<quote>Өөр ямар (&os;-тэй ажилладаг) түр хадгалах системүүд
	байдаг вэ?</quote></para>

    <variablelist>
      <varlistentry>
	<term>LPRng</term>

	<listitem>
	  <indexterm><primary>LPRng</primary></indexterm>

	  <para><application>LPRng</application> буюу <quote>LPR: the Next
	    Generation</quote> гэгддэг дараа үеийн систем нь PLP-ийг дахин
		бичсэн хувилбар юм. Патрик Пауэл болон Жастин Мэйсон (PLP-ийн гол арчлагч)
		нар нийлэн <application>LPRng</application>-г хийсэн юм.
		<application>LPRng</application>-ийн гол сайт бол <uri xlink:href="http://www.lprng.org/">http://www.lprng.org/</uri> юм.</para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>CUPS</term>

	<listitem>
	  <indexterm><primary>CUPS</primary></indexterm>

	  <para><application>CUPS</application> буюу Common UNIX Printing
	    System нь &unix; дээр тулгуурласан үйлдлийн системүүдэд зориулсан
		зөөгдөж болох хэвлэх давхаргын боломжийг олгодог. Энэ нь
		бүх &unix; үйлдвэрлэгчид болон хэрэглэгчдэд зориулж стандарт
		хэвлэх шийдлийг дэмжихийн тулд Easy Software Products-аас
		хөгжүүлэгдсэн юм.</para>

	  <para><application>CUPS</application> нь Internet Printing
	    Protocol (<acronym>IPP</acronym>) буюу Интернэтийн Хэвлэх Протоколыг
		ашиглаж хэвлэх ажлууд болон дарааллуудыг удирдах үндсээ болгодог.
		Line Printer Daemon (<acronym>LPD</acronym>) буюу Шугамын
		Хэвлэгчийн Дэмон, Server Message Block (<acronym>SMB</acronym>)
		буюу Серверийн Мэдэгдлийн Блок, болон AppSocket (JetDirect гэгддэг)
		протоколууд нь багасгасан ажиллагаатайгаар бас дэмжигдсэн байдаг.
		CUPS нь амьдралд байх &unix; дээрх  хэвлэлтийг дэмжихийн тулд
		сүлжээний хэвлэгч олох (browsing) болон PostScript Printer Description
	    (<acronym>PPD</acronym>) буюу PostScript Хэвлэгчийн Тайлбар дээр
		суурилсан хэвлэх тохируулгуудыг нэмдэг.</para>

	  <para><application>CUPS</application>-ийн гол сайт нь <uri xlink:href="http://www.cups.org/">http://www.cups.org/</uri> юм.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>HPLIP</term>

	<listitem>
	  <indexterm><primary>HPLIP</primary></indexterm>

	  <para><application>HPLIP</application> буюу HP &linux; Imaging and
	    Printing систем нь HP өөрийнхөө төхөөрөмжүүдэд зориулан хөгжүүлсэн
	    хэвлэлт, скан хийлт, болон факсын боломжуудыг дэмжсэн програм
	    хангамжийн цуглуулга юм. Энэ програм хангамжийн цуглуулга нь
	    өөрийн зарим хэвлэх боломжууддаа зориулж ар талдаа
	    <application>CUPS</application> хэвлэх системийг хэрэглэдэг.</para>

	  <para><application>HPLIP</application>-ийн гол сайт нь
	    <uri xlink:href="http://hplipopensource.com/hplip-web/index.html">http://hplipopensource.com/hplip-web/index.html</uri> юм.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 xml:id="printing-troubleshooting">
    <title>Алдааг олж засварлах</title>

    <para>&man.lptest.1; програмын тусламжтайгаар энгийн шалгах
	  үйлдэл хийж дуусахад та зөв хэвлэгдсэн хүссэн үр дүнд биш
	  харин дараах алдаануудтай тулгарч болзошгүй юм:</para>

    <variablelist>
      <varlistentry>
	<term>Хэвлэж болж байна, гэхдээ хэсэг хугацааны дараа юм уу эсвэл
	анхнаасаа хуудасны тал хэсгийг хэвлээд зогсох.</term>

	<listitem>
	  <para>Хэвлэгч дээд хэсгийг нь хэвлээд хэсэг хугацааны дараа
	    юу ч хийхгүй болох. Ийм үед та хэвлэгч дээрх
		PRINT REMAINING эсвэл FORM FEED товч дарж үлдсэн хэсгийг нь
		хэвлэх эсэхийг харах хэрэгтэй.</para>

	  <para>Хэрэв хэвлэгч өөр хэвлэх юм байгаа эсэхийг хүлээгээд байгаа
	  тийм нөхцөлд орвол хэвлэгч рүү
	  FORM FEED тэмдгийг илгээснээр (эсвэл ямар нэгэн юм) уг асуудал
	  шийдэгдэж болох юм. Өөрийнхөө түр хадгалагч дээр орж ирсэн өгөгдлийг
	  шууд хэвлэдэг хэвлэгчдэд иймэрхүү арга хэрэглэхэд хангалттай билээ.
	  Хэрэв өмнөх хуудас нь хуудасны тал хүртэл байгаад дараагийн хуудас нь
	  шинээр хуудаснаас эхлэх байсан болоод дууссан хуудасны тал
	  хэсгээс хэвлэхгүй байгаад байх нөхцөл үүссэн байж болзошгүйг
	  шалгахад мөн илүүдэхгүй.</para>

	  <para><filename>/usr/local/libexec/if-simple</filename>
	  бүрхүүлийн скриптэд оруулсан дараах оруулга нь хэвлэх
	  үйлдлийн дараа хэвлэгч рүү хуудас дууссан тэмдэгт илгээнэ:</para>

	  <programlisting>#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Writes a form feed character (\f) after printing job.

/bin/cat &amp;&amp; printf "\f" &amp;&amp; exit 0
exit 2</programlisting>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Гэхдээ энэ нь <quote>хачирхалтай нөлөө</quote> үүсгэж болох юм.</term>

	<listitem>
	  <para>Та дараах зүйлсийг хуудсан дээрээ харах болно:</para>

	  <screen>!"#$%&amp;'()*+,-./01234
                "#$%&amp;'()*+,-./012345
                                 #$%&amp;'()*+,-./0123456</screen>

	  <indexterm><primary>MS-DOS</primary></indexterm>
 	  <indexterm><primary>OS/2</primary></indexterm>
 	  <indexterm><primary>ASCII</primary></indexterm>
	  <para>Энэ нь таныг шинэ мөр илэрхийлдэг тэмдэгт хөрвүүлэгдээгүй
	  улмаас өнөөх <emphasis>хачирхалтай нөлөөний</emphasis> хохирогч
	  нь болсон байна гэдгийг илэрхийлж байна.
	&unix; төрлийн үйлдлийн системүүд мөр дууссаныг илэрхийлэхийн тулд
	ASCII-н 10 гэсэн дугаарыг буюу line feed (LF) гэсэн нэг л
	тэмдэгт хэрэглэдэг. Харин &ms-dos;, &os2;, болон бусад үйлдлийн
	системүүд ASCII-н 10 <emphasis>ба</emphasis> ASCII-н
	    13 (CR буюу шинэ мөр эхлэх) гэсэн хоёр тэмдгийг хамтад нь
		хэрэглэдэг. Ихэнх хэвлэгч нар шинэ мөрийг илэрхийлэхдээ
		&ms-dos;-н шийдлийг хэрэглэдэг.</para>

	  <para>Хэрэв та &os;-с хэвлэхээр бол таны текстүүд
	  зөвхөн мөр дууссан тэмдэгт л агуулсан байгаа.
	  Мөр дууссан тэмдэгтийг хэвлэгч хүлээж авангуутаа хуудсаа нэг мөрөөр
	  дээшлүүлсэн мөртлөө яг тухайн байрлалдаа дараагийн тэмдэгт ирэхийг
	  хүлээж зогсдог. Энэ үед л шинэ мөр гэсэн тэмдэгт ирж байж хэвлэгчийн
	  толгой зүүн хэсэг рүүгээ гүйдэг билээ. </para>

	  <para>&os; нь дараах маягаар хэвлэхийг хэвлэгчээс хүсдэг:</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <tbody>
		<row>
		  <entry>Хэвлэгч CR тэмдэг хүлээж авлаа</entry>
		  <entry>Хэвлэгч CR гэж хэвлэв</entry>
		</row>

		<row>
		  <entry>Хэвлэгч LF тэмдэгт хүлээж авлаа</entry>
		  <entry>Хэвлэгч CR + LF гэж хэвлэх</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para>Үүнийг залруулах хэдэн арга бий:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Хэвлэгчийнхээ тохируулгын цонхыг ашиглан
		  эдгээр тэмдэгтийг өөрөөр хөрвүүлж ойлгохоор тохируулах.
		  Иймэрхүү тохиргоо байдаг эсэхийг хэвлэгчийнхээ
		  гарын авлагад харах хэрэгтэй.</para>

	      <note>
	        <para>Хэрэв та системээ шинээр ачаалахдаа
			&os;-ээс өөр давхар суусан үйлдлийн систем рүү орвол
			тухайн үйлдлийн системдээ тохируулж  CR болон LF
			тэмдэгтийн хөрвүүлэх тохиргоог
		  <emphasis>дахин хийх</emphasis> хэрэг гарч магадгүй юм.</para>
	      </note>
	    </listitem>

	    <listitem>
	      <para>&os;-н цуваа холболтын таниулагч програм нь
		  автоматаар LF тэмдэгтийг CR+LF тэмдэгт рүү хувиргадаг.
		  Мэдээж энэ нь <emphasis>зөвхөн</emphasis> цуваа холболтоор
		  холбогдсон хэвлэгч дээр ажиллана. Энэ шинж чанарыг
		  идэвхжүүлэхийн тулд  <literal>ms#</literal> хэрэгслийг
		  ашиглан  <literal>onlcr</literal> горимыг хэвлэгчийн
		   <filename>/etc/printcap</filename> файл дотор оруулж
		   өгөх хэрэгтэй.</para>
	    </listitem>

	    <listitem>
	      <para>Хэвлэгчийн алгасаж болдог
		  <emphasis>escape code</emphasis> тэмдэгт
		  илгээж хэвлэгчийг LF тэмдэгт илгээгдсэн гэж ойлгуулж
		  болох юм. Хэвлэгчийн гарын авлагаас ийм тэмдэгт
		  дэмждэг эсэхийг харах хэрэгтэй. Хэрэв та тохирох тийм
		  тэмдэгт олсон бол текст шүүгч програмыг өөрчилж
		  эхлээд тэр тэмдэгтийг илгээгээд дараа нь
		  хэвлэх зүйлсийг илгээхээр засах хэрэгтэй. </para>

	      <indexterm><primary>PCL</primary></indexterm>
	      <para>Энд Hewlett-Packard PCL хэвлэгчийн ойлгодог
		  алгасаж болдог тэмдэгтийн текст шүүгч жишээг татаж үзүүлэв.
		  Энэ шүүгч нь LF тэмдэгтийг LF ба
		CR гэж хөрвүүлээд хэвлэгч рүү
		хэвлэх ажлыг илгээж дараа нь мөр дууссан тэмдэгтийг илгээж
		хэвлэх ажил дууссаныг мэдэгддэг.
		Энэ нь бараг бүх  Hewlett Packard хэвлэгчдэд тохирдог.</para>

	      <programlisting>#!/bin/sh
#
# hpif - Simple text input filter for lpd for HP-PCL based printers
# Installed in /usr/local/libexec/hpif
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Tells printer to treat LF as CR+LF.  Ejects the page when done.

printf "\033&amp;k2G" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp; exit 0
exit 2</programlisting>

	      <para>Энд <systemitem>orchid</systemitem> нэртэй компьютерийн
		  <filename>/etc/printcap</filename> файлын жишээг харуулж байна.
		Энд <literal>teak</literal> нэртэй Hewlett Packard
		LaserJet 3Si хэвлэгчийг зэрэгцээ холболтоор холбосон байгаа.
		Энд өмнө үзүүлсэн скриптийг текст шүүгчээ болгож хэрэглэсэн байгаа:</para>

	      <programlisting>#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename>/dev/lpt0</filename>:sh:sd=<filename>/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:</programlisting>
	    </listitem>
          </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Энэ нь мөрүүдийг давхарлан хэвлэж байх.</term>

	<listitem>
	  <para>Хэвлэгч мөрөө дээшлүүлсэнгүй.
	  Бүх мөрүүд дээд мөрөнд давхарлагдаж хэвлэгдэв.</para>

	  <para>Энэ хүндрэл нь өнөөх хачирхалтай нөлөөний
	  <quote>эсрэг</quote> нөлөөлөл бөгөөд арай бага тохиолддог.
	    &os;-н мөрийн төгсгөл илэрхийлсэн LF тэмдэгт нь
	    CR тэмдэгтээр солигдоод мөрөө шинээр ахиулалгүй хуудасны
		эхэнд очиж дахин хэвлэчихсэн байна.</para>

	  <para>Хэвлэгчийн тохируулгын цонх ашиглан LF болон CR
	  тэмдэгтүүдийг дараах маягаар хөрвүүлэхээр тохируулах хэрэгтэй:</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry>Хэвлэгчийн хүлээж авалт</entry>
		  <entry>Хэвлэгчийн хэвлэлт</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>CR</entry>
		  <entry>CR</entry>
		</row>

		<row>
		  <entry>LF</entry>
		  <entry>CR + LF</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Хэвлэгч тэмдэгт гээх үзэгдэл.</term>

	<listitem>
	  <para>Хэвлэгч хэвлэх үедээ мөрөнд зарим тэмдэгтүүдийг хэвлэхгүй
	  болдог. Энэ хүндрэл нь хэвлэгч ажиллахгүй болох эсвэл маш их тэмдэгт
	  гээж эхлэх зэргээс илүү дор үзэгдэл юм. </para>

	  <para>Хүндрэлийн шалтгаан нь цуваа холболтоор компьютерийн илгээсэн
	    хурдтай хэвлэгчийн хэвлэх хурд таарахгүй байгаагаас үүсдэг
		(ийм хүндрэл зэрэгцээ холбосон хэвлэгчдэд тулгардаггүй).
		Энэ хүндрэлийг давах хоёр арга бий:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Хэрэв хэвлэгч нь XON/XOFF гэсэн урсгал зохицуулагчийг
		  дэмждэг бол <literal>ms#</literal>  шинж чанарыг ашиглан
		  <literal>ixon</literal> горимыг &os; дээр хэрэглэхээр
		  тааруулах хэрэгтэй.</para>
	    </listitem>

	    <listitem>
	      <para>Хэрэв хэвлэгч нь Request to Send (Илгээхийг Хүсэх) / Clear to Send (Илгээхдээ цэвэрлэх)
		hardware handshake буюу тоног төхөөрөмжийн тохиролцоог (ихэвчлэн <literal>RTS/CTS</literal> гэгддэг) дэмждэг бол
		  <literal>ms#</literal> боломжид <literal>crtscts</literal>
		  горимыг зааж өгөх хэрэгтэй.
		Тоног төхөөрөмжийн урсгал зохицуулагчид тааруулж цуваа холболтоо зөв
		холбосон эсэхээ магадлах хэрэгтэй.</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Хог хэвлэх үзэгдэл.</term>

	<listitem>
	  <para>Хэвлэгч хүссэн текстийг хэвлэхийн оронд
	  хог хэвлээд эхлэв. </para>

	  <para>Энэ нь цуваа холболт буруу холбогдсоноос үүсдэг үзэгдэл.
	  Дамжуулах хурдны давтамжийн <literal>br</literal> шинж чанарыг
	  шалгаад
	    <literal>ms#</literal> шинж чанараар өгөгдөл тэгшилж
		илгээнэ гэх зэрэг
	    <filename>/etc/printcap</filename> файлд байгаа
		тохиргоотой тохирч буй эсэхийг шалгах хэрэгтэй.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Юу ч болохгүй байх.</term>

	<listitem>
	  <para>Хэрэв юу ч болохгүй байвал хүндрэл нь хэвлэгчид биш
	  &os;-д байж болох юм. <filename>/etc/printcap</filename>
	  файлд бүртгэл файл хэрэглэнэ гэсэн
	    (<literal>lf</literal>) шинж чанарыг нэмэх хэрэгтэй.
		Жишээ нь энд  <literal>rattan</literal> оруулганд
		<literal>lf</literal> шинж чанар нэмж байна:</para>

	  <programlisting>rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename>/var/spool/lpd/rattan</filename>:\
        :lp=<filename>/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:\
        :lf=<filename>/var/log/rattan.log</filename></programlisting>

	  <para>Тэгээд дахиад хэвлэх гээд оролдоод үз. Гарч болзошгүй алдааны мэдэгдэл
		байгаа эсэхийг бүртгэлийн файлаас (бидний жишээн дээр
	    <filename>/var/log/rattan.log</filename>) шалгах хэрэгтэй.
		Мэдэгдлүүдээс хамаарч асуудлыг засахыг оролдох хэрэгтэй.</para>

	  <para>Хэрэв та  <literal>lf</literal> шинж чанар зааж өгөөгүй бол,
	    <application>LPD</application> нь
	    <filename>/dev/console</filename> файлыг анхдагч гэж авч үзнэ.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</chapter>
