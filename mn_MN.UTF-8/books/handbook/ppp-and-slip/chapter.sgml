<!--
     The FreeBSD Mongolian Documentation Project

     Original revision 1.196

     $FreeBSD$
-->

<chapter id="ppp-and-slip">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Жим</firstname>
	<surname>Мок</surname>
	<contrib>Бүтцийг дахин өөрчлөн зохион байгуулж шинэчилсэн </contrib>
	<!-- 1 Mar 2000 -->
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Цагаанхүүгийн</firstname>
	<surname>Ганболд</surname>
	<contrib>Орчуулсан  </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>PPP болон SLIP</title>

  <sect1 id="ppp-and-slip-synopsis">
    <title>Ерөнхий агуулга</title>
    <indexterm id="ppp-ppp">
      <primary>PPP</primary>
    </indexterm>
    <indexterm id="ppp-slip">
      <primary>SLIP</primary>
    </indexterm>

    <para>FreeBSD нь нэг компьютерийг нөгөөтэй холбох хэд хэдэн аргуудтай байдаг. 
	Dial-up модемоор сүлжээнд эсвэл Интернэтэд холболт хийх юм уу эсвэл 
	бусдыг өөрөөр чинь дамжихыг зөвшөөрөхийн тулд PPP эсвэл SLIP-г 
	хэрэглэхийг шаарддаг. Энэ бүлэг эдгээр модем дээр тулгуурласан холбооны 
	үйлчилгээнүүдийг тохируулах талаар дэлгэрэнгүй тайлбарлах болно.</para>

    <para>Энэ бүлгийг уншсаны дараа, та дараах зүйлсийг мэдэх болно:</para>

    <itemizedlist>
      <listitem>
	<para>Хэрэглэгчийн PPP-г хэрхэн тохируулах талаар.</para>
      </listitem>
      <listitem>
	<para>Цөмийн PPP-г хэрхэн тохируулах талаар (зөвхөн &os; 7.X-ийн хувьд).</para>
      </listitem>
      <listitem>
	<para><acronym>PPPoE</acronym>-г (PPP over Ethernet 
	буюу Ethernet дээгүүрх PPP) хэрхэн тохируулах талаар.</para>
      </listitem>
      <listitem>
	<para><acronym>PPPoA</acronym>-г (PPP over ATM 
	буюу ATM дээгүүрх PPP) хэрхэн тохируулах талаар.</para>
	</listitem>
      <listitem>
	<para>SLIP клиент болон серверийг хэрхэн тохируулж суулгах талаар (зөвхөн &os; 7.X-ийн хувьд).</para>
      </listitem>
    </itemizedlist>

    <indexterm id="ppp-ppp-user">
      <primary>PPP</primary>
      <secondary>хэрэглэгчийн PPP</secondary>
    </indexterm>      
    <indexterm id="ppp-ppp-kernel">
      <primary>PPP</primary>
      <secondary>цөмийн PPP</secondary>
    </indexterm>      
    <indexterm id="ppp-ppp-ethernet">
      <primary>PPP</primary>
      <secondary>Ethernet дээгүүрх</secondary>
    </indexterm>

    <para>Энэ бүлгийг уншихаасаа өмнө та дараах зүйлсийг гүйцэтгэх хэрэгтэй:</para>

    <itemizedlist>
      <listitem>
	<para>Сүлжээний үндсэн ухагдахуунуудыг мэддэг байх.</para>
      </listitem>
      <listitem>
	<para>Гадагш залгах (dialup) холболт болон PPP ба/эсвэл SLIP-ийн үндэс 
	болон зорилгыг ойлгосон байх.</para>
      </listitem>
    </itemizedlist>

    <para>Та хэрэглэгчийн PPP болон цөмийн PPP хоёрын хоорондох гол ялгаа нь юу юм 
	бол гэж гайхаж байж магадгүй юм. Хариулт нь хялбархан: хэрэглэгчийн PPP 
	нь ирж байгаа болон гарч байгаа өгөгдлийг цөмийн талбарт биш хэрэглэгчийн 
	талбарт процесс хийдэг. Энэ нь өгөгдлийг цөм болон хэрэглэгчийн талбар 
	хоёрын хооронд хуулдгаараа зардалтай боловч хамаагүй илүү боломжуудаар 
	баялаг PPP шийдлийг зөвшөөрдөг. Хэрэглэгчийн PPP нь гаднах ертөнцтэй 
	холбогдохдоо <devicename>tun</devicename> төхөөрөмжийг ашигладаг 
	бол цөмийн PPP <devicename>ppp</devicename> төхөөрөмжийг 
	ашигладаг.</para>

    <note>
      <para>Энэ бүлэгт хэрэглэгчийн PPP-г <application>pppd</application> 
	(зөвхөн &os;&nbsp;7.X-ийн хувьд) зэрэг өөр бусад PPP програм хангамжаас 
	ялгах шаардлага гарахгүй тохиолдолд ердөө л <application>ppp</application> 
	гэх болно. Тусгайлан тайлбарлаагүй л бол энэ бүлэгт тайлбарласан бүх тушаалууд нь 
	<username>root</username> эрхээр ажиллуулагдах ёстой.</para>
    </note>
  </sect1>

  <sect1 id="userppp">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Том</firstname>
          <surname>Рөүдс</surname>
          <contrib>Шинэчилж өргөжүүлсэн </contrib>
        </author>
      </authorgroup>
      <authorgroup>
        <author>
          <firstname>Брайн</firstname>
          <surname>Сомерс</surname>
	  <contrib>Анхлан хувь нэмэр болгон оруулсан </contrib>
        </author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Ник</firstname>
	  <surname>Клэйтон</surname>
	  <contrib>Зарим хэсгийг нэмсэн </contrib>
        </author>
        <author>
	  <firstname>Дирк</firstname>
          <surname>Фромберг</surname>
        </author>
        <author>
          <firstname>Питер</firstname>
          <surname>Чайлдс</surname>
        </author>
      </authorgroup>
    </sect1info>

    <title>Хэрэглэгчийн PPP ашиглах</title>

    <warning>
      <para>&os; 8.0-с эхлээд цуваа портын төхөөрөмжийн цэг
        <filename>/dev/cuad<replaceable>N</replaceable></filename> гэдгээс 
        <filename>/dev/cuau<replaceable>N</replaceable></filename> болон 
        <filename>/dev/ttyd<replaceable>N</replaceable></filename> гэдгээс
        <filename>/dev/ttyu<replaceable>N</replaceable></filename> болж өөрчлөгдсөн.
	&os;&nbsp;7.X хэрэглэгчид дараах зааврыг эдгээр өөрчлөлттэй уялдуулж 
	ойлгох ёстой болно.</para>
    </warning>

    <sect2>
      <title>Хэрэглэгчийн PPP</title>

      <sect3>
	<title>Таамаглалууд</title>

	<para>Энэ баримт нь таныг дараах шаардлагуудыг хангасан гэж тооцдог:</para>

	<itemizedlist>
	  <indexterm id="ppp-isp">
	    <primary>ISP</primary>
	  </indexterm>
	  <indexterm id="ppp-ppp2">
	    <primary>PPP</primary>
	  </indexterm>
	  <listitem>
	    <para>PPP ашиглан таны холбогдох Интернэтийн үйлчилгээ үзүүлэгчээс (ISP) 
		өгсөн бүртгэл.</para>
	  </listitem>

	  <listitem>
	    <para>Модем эсвэл өөр төхөөрөмж таны системд холбогдсон байгаа 
		бөгөөд тэр нь танд өөрийн ISP-тай холбогдохыг зөвшөөрөхөөр зөв 
		тохируулагдсан байгаа.</para>
	  </listitem>

	  <listitem>
	    <para>Таны ISP-ийн хандах dial-up дугаар(ууд).</para>
	  </listitem>

	  <indexterm id="ppp-pap">
	    <primary>PAP</primary>
	  </indexterm>
	  <indexterm id="ppp-chap">
	    <primary>CHAP</primary>
	  </indexterm>
	  <indexterm id="ppp-unix">
	    <primary>UNIX</primary>
	  </indexterm>
	  <indexterm id="ppp-login">
	    <primary>нэвтрэх нэр</primary>
	  </indexterm>
	  <indexterm id="ppp-password">
	    <primary>нууц үг</primary>
	  </indexterm>
	  <listitem>
	    <para>Таны нэвтрэх нэр болон нууц үг. (ердийн &unix; загварын нэвтрэлт 
		болон нууц үгийн хослол юм уу эсвэл PAP эсвэл CHAP нэвтрэлт болон 
		нууц үгийн хослол).</para>
	  </listitem>

	  <indexterm id="ppp-nameserver">
	    <primary>нэрийн сервер</primary>
	  </indexterm>
	  <listitem>
	    <para>Нэг буюу хэд хэдэн нэрийн серверүүдийн IP хаяг. Хэвийн үед 
		үүнд зориулан ашиглахаар хоёр IP хаягийг таны ISP танд өгдөг. Хэрэв тэд 
		танд ядаж ганцыг өгөөгүй бол та <command>enable dns</command> 
		тушаалыг <filename>ppp.conf</filename> файлд ашиглавал 
		<application>ppp</application> нэрийн серверүүдийг танд 
		тохируулж өгөх болно. Энэ боломж нь DNS-тай тохиролцоог дэмждэг 
		таны ISP-ийн PPP шийдлээс хамаарах юм.</para>
	  </listitem>
	</itemizedlist>

	<para>Дараах мэдээллийг таны ISP өгсөн байж болох боловч энэ нь заавал шаардлагагүй 
		юм:</para>

	<itemizedlist>
	  <listitem>
	    <para>Таны ISP-ийн гарцын IP хаяг. Гарц нь таны холбогдох машин бөгөөд 
		таны <emphasis>анхдагч чиглүүлэлт</emphasis> гэж тохируулагдах 
		болно. Хэрэв танд энэ мэдээлэл байхгүй бол бид нэгийг орлуулж болох 
		бөгөөд таны ISP-ийн PPP сервер биднийг холбогдох үед зөв утгыг хэлж 
		өгөх болно.</para>

	    <para>Энэ IP дугаар нь <application>ppp</application>-ээр 
	      <literal>HISADDR</literal> гэгдэнэ.</para>
	  </listitem>

	  <listitem>
	    <para>Таны ашиглах ёстой сүлжээний баг. Хэрэв таны ISP үүнийг өгөөгүй 
		бол та аюулгүйгээр <hostid role="netmask">255.255.255.255</hostid> 
		гэж ашиглаж болно.</para>
	  </listitem>

	  <indexterm id="ppp-static-ip">
	    <primary>статик IP хаяг</primary>
	  </indexterm>
	  <listitem>
	    <para>Хэрэв таны ISP танд статик IP хаяг болон хостын нэр өгсөн бол та 
		тэдгээрийг оруулж болно. Үгүй бол бид нөгөө талын өгөх тохирох IP хаягийг 
		ердөө л зөвшөөрөх болно.</para>
	  </listitem>
	</itemizedlist>
 
	<para>Хэрэв танд шаардлагатай мэдээллийн аль нь ч байхгүй бол өөрийн ISP уруугаа 
		хандана уу.</para>

	<note>
	  <para>Энэ хэсэгт жишээнүүдийн олонхийн үзүүлж байгаа тохиргооны файлуудын 
		агуулгуудад байгаа мөр бүр дугаарлагдсан байгаа болно. Эдгээр дугаарууд нь 
		танилцуулга болон хэлэлцүүлэгт туслах зорилгоор зөвхөн ашиглагддаг бөгөөд 
		яг үнэндээ жинхэнэ файл дээрээ тавигдах ёстой гэсэн үг биш юм. 
		Tab ашиглан зөв догол хийх болон зайн тэмдэгтүүд нь бас чухал юм.</para>
	</note>

      </sect3>

      <sect3>
        <title>Автомат <application>PPP</application> тохиргоо</title>

	<indexterm><primary>PPP</primary><secondary>тохиргоо</secondary></indexterm>

	<para><command>ppp</command> болон <command>pppd</command> нь 
	(PPP-ийн цөмийн түвшний шийдэл, зөвхөн &os;&nbsp;7.X-ийн хувьд) <filename class="directory">/etc/ppp</filename> сан 
	дахь тохиргооны файлуудыг ашигладаг. Хэрэглэгчийн ppp-д зориулсан жишээнүүдийг 
	<filename class="directory">/usr/share/examples/ppp/</filename> сангаас олж болно.</para>

	<para><command>ppp</command>-г тохируулах нь таны өөрийн шаардлагуудаас 
	хамаарч хэд хэдэн файлуудыг засварлахыг танаас шаарддаг. Тэдгээрт юу оруулах нь 
	таны ISP IP хаягуудыг статикаар өгдөг үү (өөрөөр хэлбэл танд нэг IP хаяг өгөх 
	бөгөөд зөвхөн тэрийг дандаа ашиглана) эсвэл динамикаар (өөрөөр хэлбэл таны IP хаяг 
	таныг ISP-даа холбогдох бүрт өөрчлөгддөг) өгдөг үү гэдгээс зарим талаараа 
	хамаардаг.</para>

	<sect4 id="userppp-staticIP">
	  <title>PPP болон статик IP хаягууд</title>

	  <indexterm><primary>PPP</primary><secondary>статик IP хаягуудтай цуг</secondary></indexterm>
	  <para>Та <filename>/etc/ppp/ppp.conf</filename> тохиргооны 
		файлыг засварлах хэрэгтэй. Энэ нь доорх жишээтэй төстэй харагдах 
		ёстой.</para>

	  <note>
	    <para><literal>:</literal>-ээр төгссөн мөрүүд эхний баганаас эхэлнэ
		(мөрийн эхлэл)&mdash; бусад бүх мөрүүдэд доор үзүүлсэн шиг зай эсвэл 
		tab-аар догол гаргасан байх ёстой.</para>
	  </note>

	  <programlisting>1     default:
2       set log Phase Chat LCP IPCP CCP tun command
3       ident user-ppp VERSION (built COMPILATIONDATE)
4       set device /dev/cuau0
5       set speed 115200
6       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \
7                 \"\" AT OK-AT-OK ATE1Q0 OK \\dATDT\\T TIMEOUT 40 CONNECT"
8       set timeout 180
9       enable dns
10
11    provider:
12      set phone "(123) 456 7890"
13      set authname foo
14      set authkey bar
15      set login "TIMEOUT 10 \"\" \"\" gin:--gin: \\U word: \\P col: ppp"
16      set timeout 300
17      set ifaddr <replaceable>x.x.x.x</replaceable> <replaceable>y.y.y.y</replaceable> 255.255.255.255 0.0.0.0
18      add default HISADDR</programlisting>

	  <variablelist>
	    <varlistentry>
	      <term>Мөр 1:</term>

	      <listitem>
		<para>Анхдагч оруулгыг тэмдэглэдэг. Энэ оруулга дахь тушаалууд нь 
		ppp ажиллах үед автоматаар ажилладаг.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 2:</term>

	      <listitem>
		<para>Параметрүүдийг бүртгэл хийхийг идэвхжүүлнэ. Тохиргоо 
		хангалттайгаар ажиллаж байгаа үед бүртгэлийн файлын их хэмжээнээс 
		сэргийлэхийн тулд энэ мөрийг:</para>

	          <programlisting>set log phase tun</programlisting>

                <para>гэж болгох ёстой.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 3:</term>

	      <listitem>
		<para>PPP-д нөгөө талдаа өөрийгөө хэрхэн таниулахыг хэлж өгдөг. 
		PPP нь тохиролцож холбоосыг үүсгэх үедээ ямар нэгэн асуудалтай байгаа 
		эсэхээ таниулсан мэдээллээр нөгөө талаа хангадаг бөгөөд нөгөө талын 
		администратор иймэрхүү асуудлуудыг судалж байгаа үед энэ нь ашигтай 
		байж болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 4:</term>

	      <listitem>
		<para>Модемийн холбогдсон төхөөрөмжийг тодорхойлдог. 
		<devicename>COM1</devicename> нь
		  <filename class="devicefile">/dev/cuau0</filename> 
		  бөгөөд
		  <devicename>COM2</devicename> нь
		  <filename class="devicefile">/dev/cuau1</filename> юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 5:</term>

	      <listitem>
		<para>Таны холбогдох хурдыг заадаг. Хэрэв 115200 ажиллахгүй 
		бол (ямар ч шинэ модемтой энэ нь болох ёстой) 
		38400-гаар оролдож үзээрэй.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 6 &amp; 7:</term>

	      <indexterm><primary>PPP</primary><secondary>хэрэглэгчийн PPP</secondary></indexterm>
	      <listitem>
		<para>Залгах мөр. Хэрэглэгчийн PPP нь &man.chat.8; програмын 
		адил хүлээгээд илгээх зарчмыг ашигладаг. Энэ хэлний боломжуудын тухай 
		мэдээллийг гарын авлагын хуудаснаас лавлана уу.</para>

		<para>Энэ тушаал нь уншигдахад хялбар байх зорилгоор дараагийн 
		мөрөнд үргэлжилж байгааг анзаараарай. Хэрэв мөрийн сүүлийн 
		тэмдэгт <literal>\</literal> байвал <filename>ppp.conf</filename> 
		файл дахь ямар ч тушаал ийм байж болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 8:</term>

	      <listitem>
		<para>Энэ холбоосонд зориулж сул зогсох хугацааг тохируулна. 180 
		секунд нь анхдагч байна, тэгэхээр энэ мөр нь цэвэр гоо сайхны зүйл юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 9:</term>

	      <listitem>
		<para>Локал танигчийн тохиргоог бататгахын тулд нөгөө талаасаа асуухыг 
		PPP-д хэлнэ. Хэрэв та локал нэрийн серверийг ажиллуулах бол энэ 
		мөрийг тайлбар болгох юм уу эсвэл арилгах ёстой.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 10:</term>

	      <listitem>
		<para>Уншихад хялбар байх зорилгоор хоосон мөр байна. PPP нь 
		хоосон мөрүүдийг орхидог.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 11:</term>

	      <listitem>
		<para><quote>provider</quote> гэж нэрлэгдсэн үзүүлэгчид 
		зориулсан оруулгыг тодорхойлдог. Үүнийг өөрийн <acronym>ISP</acronym>-ийн 
		нэрээр сольж болох юм. Ингэсний дараа та холболтыг эхлүүлэхийн 
		тулд <option>load <replaceable>ISP</replaceable></option> гэж ашиглаж болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 12:</term>

	      <listitem>
		<para>Энэ үзүүлэгчийн хувьд утасны дугаарыг тохируулдаг. Олон утасны 
		дугаарыг тодорхойлох хоёр цэг (<literal>:</literal>) юм уу эсвэл 
		хоолой тэмдэгтийг (<literal>|</literal>) тусгаарлагч болгон ашиглан 
		зааж өгч болно. Хоёр тусгаарлагчийн ялгаа &man.ppp.8;-д тайлбарлагдсан 
		байдаг. Дүгнэж хэлэхэд хэрэв та дугааруудыг ээлжлэн ашиглах бол тодорхойлох 
		цэгийг ашиглана. Хэрэв та эхний дугаар уруу эхлээд үргэлж залгахыг хүсэж 
		байгаа бөгөөд зөвхөн эхний дугаар нь амжилтгүй болсон тохиолдолд бусад дугааруудыг 
		ашиглахыг хүсэж байгаа бол  хоолой тэмдэгтийг ашиглаарай. Утасны дугааруудыг 
		тэр чигээр нь үзүүлсэн шиг үргэлж хаалтанд хийх хэрэгтэй.</para>
	    
	      <para>Хэрэв та утасны дугаар дээр зай ашиглахаар бол утасны дугаарыг хаалтанд 
		(<literal>"</literal>) хийх ёстой. Ингэхгүй бол энэ нь энгийн боловч баригдашгүй 
		алдаанд хүргэж болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 13 &amp; 14:</term>

	      <listitem>
		<para>Хэрэглэгчийн нэр болон нууц үгийг тодорхойлно. &unix; 
		загварын нэвтрэлт хүлээх мөрийг ашиглан холбогдох үед эдгээр 
		утгууд нь <command>set login</command> тушаалаар 
		\U болон \P хувьсагчуудыг ашиглан хийгддэг. PAP эсвэл CHAP 
		ашиглан холбогдож байгаа үед эдгээр утгууд нь нэвтрэлт танилт 
		хийгдэхэд хэрэглэгддэг.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 15:</term>

	      <listitem>
		<indexterm><primary>PAP</primary></indexterm>
		<indexterm><primary>CHAP</primary></indexterm>
		<para>Хэрэв та PAP эсвэл CHAP ашиглаж байгаа бол нэвтрэлт энэ 
		үед байхгүй байх бөгөөд энэ мөр нь тайлбар болгогдох юм уу эсвэл 
		арилгагдсан байх ёстой. Илүү дэлгэрэнгүй мэдээллийг 
		<link linkend="userppp-PAPnCHAP">PAP болон CHAP
		  нэвтрэлт танилт</link> холбоосоос үзнэ үү.</para>

                <para>Нэвтрэлтийн мөр нь залгах мөр шиг чалчихтай төсөөтэй зарчимтай
		байдаг. Энэ жишээн дээр нэвтрэх сесс нь доор дурдсантай адил үйлчилгээний
		хувьд уг мөр ажиллаж байна:</para>

		<screen>J. Random Provider
login: <replaceable>foo</replaceable>
password: <replaceable>bar</replaceable>
protocol: ppp</screen>

		<para>Та энэ скриптийг өөрийн хэрэгцээндээ тааруулан өөрчлөх 
		хэрэгтэй болно. Энэ скриптийг эхний удаа бичиж байхдаа та 
		яриа хүссэнээр үргэлжилж байгаа эсэхийг тодорхойлж чадахаар 
		байхын тулд <quote>chat</quote> буюу чалчих бүртгэлийг 
		идэвхжүүлсэн эсэхээ баталгаажуулах хэрэгтэй.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 16:</term>

	      <indexterm><primary>timeout</primary></indexterm>
	      <listitem>
		<para>Анхдагч сул зогсох хугацааг (секундээр) холболтод зориулж 
		тохируулдаг. Энд холболт нь 300 секундын хугацаанд идэвхгүй байвал 
		автоматаар хаагдах болно. Хэрэв та хугацааны хувьд хэзээ ч дуусахгүй 
		байхыг хүсвэл энэ утгыг тэг болгох юм уу эсвэл <option>-ddial</option> 
		тушаалын мөрийн тохируулгыг ашиглах хэрэгтэй.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 17:</term>
	      <indexterm><primary>ISP</primary></indexterm>
	      <listitem>
		<para>Интерфэйсийн хаягуудыг тохируулна. <replaceable>x.x.x.x</replaceable> 
		мөрийг таны интернэтийн үйлчилгээ үзүүлэгчийн танд хуваарилсан 
		IP хаягаар солих шаардлагатай. <replaceable>y.y.y.y</replaceable> 
		мөрийг таны ISP өөрийн гарцыг (таны холбогдох машин) заасан тэр IP 
		хаягаар солих шаардлагатай. Хэрэв таны ISP гарцын хаягийг 
		танд өгөөгүй бол <hostid role="netmask">10.0.0.2/0</hostid> 
		гэж ашиглаарай. Хэрэв та <quote>таасан</quote> хаягийг 
		ашиглах хэрэгтэй бол <link
		  linkend="userppp-dynamicIP">PPP болон динамик IP
		  хаягууд</link> хэсэгт зориулсан заавруудын дагуу 
		<filename>/etc/ppp/ppp.linkup</filename> файлдаа 
		оруулга үүсгэсэн эсэхээ шалгаарай. Хэрэв энэ мөрийг орхивол 
		<command>ppp</command> нь <option>-auto</option> 
		горимд ажиллаж чадахгүй.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 18:</term>

	      <listitem>
		<para>Өөрийн ISP-ийн гарц уруу анхдагч чиглүүлэлтийг нэмнэ. 
		<literal>HISADDR</literal> тусгай үгийг мөр 17 дээр 
		заасан гарцын хаягаар сольдог. Энэ мөр нь 17-р мөрийн дараа байх 
		нь чухал бөгөөд тэгэхгүй бол <literal>HISADDR</literal> нь 
		эхлэн тохируулагдаж амжихгүй байх юм.</para>

		<para>Хэрэв та ppp-г <option>-auto</option> горимд 
		ажиллуулахыг хүсэхгүй бол энэ мөрийг <filename>ppp.linkup</filename> 
		файлд шилжүүлэх ёстой.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Та статик IP хаягтай бөгөөд ppp-г <option>-auto</option> 
		горимоор ажиллуулж байгаа бол <filename>ppp.linkup</filename> файлд 
		оруулга нэмэх шаардлагагүй бөгөөд учир нь таныг холбогдохоос өмнө таны чиглүүлэлтийн 
		хүснэгтийн оруулгууд нь аль хэдийн зөв байх учраас тэр юм. Гэхдээ та 
		холболтын дараа програмуудыг ажиллуулах оруулга үүсгэхийг хүсэж болох 
		юм. Энэ нь sendmail-ийн жишээн дээр сүүлд тайлбарлагдах болно.</para>

	  <para>Жишээ тохиргооны файлууд нь <filename class="directory">/usr/share/examples/ppp/</filename> 
		санд байрлана.</para>
	</sect4>

	<sect4 id="userppp-dynamicIP">
	  <title>PPP болон динамик IP хаягууд</title>
	  <indexterm><primary>PPP</primary><secondary>динамик IP хаягуудтай цуг</secondary></indexterm>
	  <indexterm><primary>IPCP</primary></indexterm>
	  <para>Хэрэв таны үйлчилгээ үзүүлэгч статик IP хаягуудыг олгодоггүй бол 
		локал болон алсын хаягууд дээр тохирдог байхаар <command>ppp</command> нь 
		тохируулагдаж болно. IP хаягийг <quote>таах</quote> 
		болон холболтын дараа IP Configuration Protocol (IPCP) 
		буюу IP тохиргооны протокол ашиглан зөвөөр тохируулахыг 
		<command>ppp</command>-д зөвшөөрөх замаар үүнийг хийнэ. 
		<filename>ppp.conf</filename> тохиргоо нь 
		дараах өөрчлөлтийн хамтаар 
		<link linkend="userppp-staticIP">PPP болон статик IP
		    хаягууд</link> хэсэгтэй адил байна:</para>

	  <programlisting>17      set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.255 0.0.0.0</programlisting>

	  <para>Дахин хэлэхэд мөрийн дугаарыг битгий оруулаарай, энэ нь зөвхөн 
		лавлагааны зорилгоор байгаа юм. Ядаж нэг хоосон зайгаар 
		догол гаргах шаардлагатай.</para>

	  <variablelist>
	    <varlistentry>
	      <term>Мөр 17:</term>

	      <listitem>
		<para><literal>/</literal> тэмдэгтийн дараах дугаар нь 
		ppp-ийн шаардах хаягийн битийн тоо юм. Та өөрийн нөхцөлдөө 
		тохируулан IP дугааруудыг ашиглахыг хүсэж болох юм, гэхдээ 
		дээрх жишээнүүд нь үргэлж ажиллах болно.</para>

		<para>Сүүлийн нэмэлт өгөгдөл (<literal>0.0.0.0</literal>) 
		нь PPP-д <hostid
		  role="ipaddr">10.0.0.1</hostid>-ийн оронд <hostid
		  role="ipaddr">0.0.0.0</hostid> хаяг ашиглан 
		тохиролцоог эхлүүлэхийг хэлж байгаа бөгөөд зарим нэгэн ISP-уудын 
		хувьд энэ нь шаардлагатай байдаг. Эхний чиглүүлэлтийг 
		<option>-auto</option> горимд тохируулахад PPP-д 
		саад болдог учраас <command>set ifaddr</command> 
		тушаалд <literal>0.0.0.0</literal>-г эхний нэмэлт өгөгдөл 
		болгон битгий ашиглаарай.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Хэрэв та <option>-auto</option> горимд ажиллахгүй байгаа бол 
		<filename>/etc/ppp/ppp.linkup</filename> файлд оруулга 
		үүсгэх хэрэгтэй болно. <filename>ppp.linkup</filename> нь 
		холболт тогтсоны дараа ашиглагддаг. Энэ үед <command>ppp</command> 
		нь интерфэйсийн хаягуудыг олгосон байх бөгөөд одоо чиглүүлэлтийн хүснэгтийн 
		оруулгуудыг нэмэх боломжтой болсон байх болно:</para>

	  <programlisting>1     provider:
2      add default HISADDR</programlisting>

	  <variablelist>
	    <varlistentry>
	      <term>Мөр 1:</term>

	      <listitem>
		<para>Холболт тогтоохдоо <command>ppp</command> нь 
		дараах дүрмүүдийн дагуу <filename>ppp.linkup</filename> файлд
		оруулгыг хайх болно: Эхлээд бидний <filename>ppp.conf</filename> 
		файлд ашигласантай адил хаяг/шошготой таарахыг оролдоно. 
		Хэрэв амжилтгүй болвол бидний гарцын IP хаягийн оруулгыг хайна. 
		Энэ оруулга нь дөрвөн ширхэг найман битээс тогтох IP загварын 
		хаяг/шошго юм. Хэрэв бид тэгсэн ч гэсэн оруулга олоогүй байгаа 
		бол <literal>MYADDR</literal> оруулгыг хайна.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 2:</term>

	      <listitem>
		<para>Энэ мөр нь <literal>HISADDR</literal> уруу заасан 
		анхдагч чиглүүлэлт нэмэхийг <command>ppp</command>-д хэлж 
		байна. <literal>HISADDR</literal> нь IPCP-ээр 
		тохиролцсоны дагуу гарцын IP хаягаар солигдох болно.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Нарийвчилсан жишээний хувьд 
		<filename>/usr/share/examples/ppp/ppp.conf.sample</filename>
	    	болон 
		<filename>/usr/share/examples/ppp/ppp.linkup.sample</filename> 
		файлууд дахь <literal>pmdemand</literal> оруулгыг харна уу.</para>
	</sect4>

	<sect4>
	  <title>Ирж байгаа дуудлагуудыг хүлээн авах</title>
	  <indexterm><primary>PPP</primary><secondary>ирж байгаа дуудлагуудыг 
	     хүлээн авах</secondary></indexterm>
	  <para>LAN-д холбогдсон машин дээр ирж байгаа дуудлагуудыг хүлээн авахаар 
		болгож <application>ppp</application>-г тохируулахдаа LAN уруу 
		пакетуудыг дамжуулахыг хүсэж байгаа эсэхээсээ хамаарч үүнийг шийдэх 
		ёстой. Хэрэв та ингэхийг хүсэж байгаа бол өөрийн LAN-ий дэд сүлжээнээс 
		IP хаягийг нөгөө талдаа хуваарилж өгөх хэрэгтэй бөгөөд өөрийн 
		<filename>/etc/ppp/ppp.conf</filename> файлд 
		<command>enable proxy</command> тушаалыг ашиглах хэрэгтэй. 
		<filename>/etc/rc.conf</filename> файл доор дурдсаныг агуулж 
		байгаа эсэхийг бас баталгаажуулах хэрэгтэй:</para>

	  <programlisting>gateway_enable="YES"</programlisting>
	</sect4>

	  <sect4>
	    <title>Аль getty?</title>

	    <para>&man.getty.8; ашиглан dial-up буюу гадагш залгах үйлчилгээнүүдийг 
		идэвхжүүлэх тухай сайн тайлбарыг <link linkend="dialup">Dial-up буюу гадагш 
		залгах үйлчилгээнүүдэд зориулж FreeBSD-г тохируулах</link> хэсэг өгдөг.</para>

	    <para><command>getty</command>-тэй төстэй програм нь 
		dial-up шугамуудыг бодолцож хийсэн <command>getty</command>-ийн 
		илүү ухаалаг хувилбар болох <ulink
	      url="http://mgetty.greenie.net/">mgetty</ulink> (
              <filename role="package">comms/mgetty+sendfax</filename>
               порт) юм.</para>

	    <para><command>mgetty</command>-г ашиглахын давуу тал нь 
		тэрээр модемуудтай идэвхтэйгээр <emphasis>ярилцдаг</emphasis> 
		явдал бөгөөд энэ нь юу гэсэн үг вэ гэхээр хэрэв таны порт хаагдсан 
		бол модем чинь утсанд хариулахгүй гэсэн үг юм.</para>

	    <para><command>mgetty</command>-ийн сүүлийн хувилбарууд нь 
		(0.99beta-аас эхлэн) таны клиентүүдэд скриптгүйгээр таны серверт 
		хандах хандалтыг зөвшөөрч PPP урсгалуудын автомат илрүүлэлтийг 
		бас дэмждэг.</para>

	    <para><command>mgetty</command>-ийн тухай дэлгэрэнгүй мэдээллийг 
		<link linkend="userppp-mgetty">Mgetty ба AutoPPP</link> 
		хаягаас лавлана уу.</para>
	  </sect4>

	  <sect4>
	    <title><application>PPP</application> зөвшөөрлүүд</title>

	    <para><command>ppp</command> тушаалыг 
		<username>root</username> хэрэглэгчээр хэвийн үед 
		ажиллуулах ёстой. Гэхдээ хэрэв та <command>ppp</command>-г 
		доор тайлбарласны адилаар энгийн хэрэглэгчээр серверийн 
		горимд ажиллуулах боломжтой болгохыг хүсэж байгаа бол 
		хэрэглэгчийг <command>ppp</command> ажиллуулах зөвшөөрөлтэй 
		болгож тэдгээрийг <filename>/etc/group</filename> файлд 
		<groupname>network</groupname> бүлэгт нэмэх ёстой.</para>

	    <para>Та <command>allow</command> тушаалыг ашиглан тохиргооны файлын 
		нэг буюу хэд хэдэн хэсгүүдэд хандах боломжийг бас өгөх шаардлагатай 
		болно:</para>

	    <programlisting>allow users fred mary</programlisting>

	    <para>Хэрэв энэ тушаал нь <literal>default</literal> хэсэгт 
		хэрэглэгдсэн бол заасан хэрэглэгчдэд бүх зүйл уруу хандах боломжийг 
		олгоно.</para>
	  </sect4>

	  <sect4>
	    <title>Динамик IP-тай хэрэглэгчдэд зориулсан PPP бүрхүүлүүд</title>
	    <indexterm><primary>PPP бүрхүүлүүд</primary></indexterm>

	    <para>доор дурдсаныг агуулсан <filename>/etc/ppp/ppp-shell</filename> 
		гэгдэх файлыг үүсгэнэ:</para>

	    <programlisting>#!/bin/sh
IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
CALLEDAS="$IDENT"
TTY=`tty`

if [ x$IDENT = xdialup ]; then
        IDENT=`basename $TTY`
fi

echo "PPP for $CALLEDAS on $TTY"
echo "Starting PPP for $IDENT"

exec /usr/sbin/ppp -direct $IDENT</programlisting>

	    <para>Энэ скрипт нь ажиллахаар болсон байх ёстой. Одоо энэ скрипт уруу 
		<filename>ppp-dialup</filename> гэгдсэн симболын холбоосыг 
		дараах тушаалуудыг ашиглан үүсгэх хэрэгтэй:</para>

	    <screen>&prompt.root; <userinput>ln -s ppp-shell /etc/ppp/ppp-dialup</userinput></screen>

	    <para>Та энэ скриптийг өөрийн бүх dialup хэрэглэгчдийн хувьд 
		<emphasis>бүрхүүл</emphasis> маягаар ашиглах ёстой. 
		Энэ нь <username>pchilds</username> гэсэн хэрэглэгчийн 
		нэртэй dialup PPP хэрэглэгчид зориулсан <filename>/etc/passwd</filename> 
		файлд байгаа жишээ юм (нууц үгийн файлыг шууд битгий засаарай, &man.vipw.8;-г 
		ашиглаарай).</para>

	    <programlisting>pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup</programlisting>

	    <para>Дараах 0 байт файлуудыг агуулсан бүгд бичих боломжтой 
		<filename class="directory">/home/ppp</filename> санг үүсгэнэ:</para>

	    <screen>-r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
-r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts</screen>

	    <para>Энэ нь <filename>/etc/motd</filename> файлыг үзүүлэхээс 
		сэргийлдэг.</para>
	  </sect4>

	  <sect4>
	    <title>Статик IP-тай хэрэглэгчдэд зориулсан PPP бүрхүүлүүд</title>
	    <indexterm><primary>PPP бүрхүүлүүд</primary></indexterm>

	    <para>Дээр дурдсаны адил <filename>ppp-shell</filename> файл үүсгээд 
		статикаар өгөгдсөн IP-тай бүртгэл бүрийн хувьд <filename>ppp-shell</filename> 
		уруу симболын холбоос үүсгэнэ.</para>

	    <para>Жишээ нь хэрэв та <username>fred</username>, <username>sam</username>, болон
	      <username>mary</username> гэсэн гурван dialup хэрэглэгчтэй бөгөөд 
		тэдгээрт зориулж /24 CIDR сүлжээнүүдийг чиглүүлж байгаа бол дараах 
		тушаалыг ажиллуулж болох юм:</para>

	    <screen>&prompt.root; <userinput>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred</userinput>
&prompt.root; <userinput>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam</userinput>
&prompt.root; <userinput>ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary</userinput></screen>

	    <para>Эдгээр хэрэглэгчдийн dialup бүртгэл бүр өөрсдийн бүрхүүлийг 
		дээр үүсгэсэн симболын холбоос уруу заасан байх ёстой (жишээ нь 
		<username>mary</username>-ийн бүрхүүл <filename>/etc/ppp/ppp-mary</filename>
		байх ёстой).</para>
	  </sect4>

	  <sect4>
	    <title>Динамик IP-тай хэрэглэгчдэд зориулж <filename>ppp.conf</filename>-г тохируулах</title>
	  
	    <para><filename>/etc/ppp/ppp.conf</filename> файл доор дурдсантай төстэй
		мөрүүдээс тогтох ёстой:</para>
	  
	    <programlisting>default:
  set debug phase lcp chat
  set timeout 0

ttyu0:
  set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
  enable proxy

ttyu1:
  set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
  enable proxy</programlisting>

	    <note>
	      <para>Догол үүсгэх нь чухал юм.</para>
	    </note>

	    <para><literal>default:</literal> хэсэг нь хэсэг бүрийн хувьд 
		дуудагддаг. <filename>/etc/ttys</filename> файлд 
		идэвхжүүлсэн dialup мөр бүрийн хувьд дээрх <literal>ttyu0:</literal>-д
		зориулсантай төстэй оруулга үүсгэнэ. Динамик хэрэглэгчдэд зориулсан 
		IP хаягийн цөөрмөөс мөр болгон өөр өөр IP хаяг авах ёстой.</para>
	  </sect4>

	  <sect4>
	    <title>Статик IP-тай хэрэглэгчдэд зориулж <filename>ppp.conf</filename>-г тохируулах</title>

	    <para>Дээрх жишээ <filename>/usr/share/examples/ppp/ppp.conf</filename> 
		файлын агуулгатай цуг статикаар өгөгдсөн dialup хэрэглэгч
		бүрийн хувьд зохих хэсэг нэмэх шаардлагатай. Бид өөрсдийн 
		<username>fred</username>, <username>sam</username>,
	      болон <username>mary</username> хэрэглэгчидтэй жишээгээ үргэлжлүүлэх 
		болно.</para>

	    <programlisting>fred:
  set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

sam:
  set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

mary:
  set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255</programlisting>

	    <para><filename>/etc/ppp/ppp.linkup</filename> файл хэрэв
		шаардлагатай бол статик IP-тай хэрэглэгч бүрийн хувьд чиглүүлэлтийн 
		мэдээллийг бас агуулсан байх ёстой. Доорх мөр нь клиентийн ppp 
		холбоосоор <hostid role="ipaddr">203.14.101.0/24</hostid> 
		сүлжээнд зориулж чиглүүлэлт нэмэх болно.</para>

	    <programlisting>fred:
  add 203.14.101.0 netmask 255.255.255.0 HISADDR

sam:
  add 203.14.102.0 netmask 255.255.255.0 HISADDR

mary:
  add 203.14.103.0 netmask 255.255.255.0 HISADDR</programlisting>
	</sect4>

	  <sect4 id="userppp-mgetty">
	    <title><command>mgetty</command> болон AutoPPP</title>
	    <indexterm>
        <primary><command>mgetty</command></primary>
      </indexterm>
	    <indexterm><primary>AutoPPP</primary></indexterm>
	    <indexterm><primary>LCP</primary></indexterm>

	    <para>Анхдагчаар <filename
              role="package">comms/mgetty+sendfax</filename> порт 
	      <literal>AUTO_PPP</literal> 
	      тохируулга идэвхжүүлсэн байдлаар ирдэг нь 
		<command>mgetty</command>-д PPP холболтуудын LCP шатыг 
		илрүүлж автоматаар ppp бүрхүүл ажиллуулах боломжийг олгодог. 
		Гэхдээ анхдагч нэвтрэлт/нууц үгийн дараалал болдоггүй болохоор 
		PAP аль эсвэл CHAP ашиглан хэрэглэгчдийн нэвтрэлтийг 
		таних шаардлагатай юм.</para>

	    <para>Энэ хэсэг нь хэрэглэгч <filename
              role="package">comms/mgetty+sendfax</filename> портыг  
		амжилттайгаар эмхэтгэж өөрийн систем дээрээ суулгасан гэж үздэг.</para>

	    <para>Таны <filename>/usr/local/etc/mgetty+sendfax/login.config</filename> 
		файл доор дурдсаныг агуулсан эсэхийг шалгаарай:</para>

	    <programlisting>/AutoPPP/ -     -		      /etc/ppp/ppp-pap-dialup</programlisting>

	    <para>Энэ нь илрүүлсэн PPP холболтууддаа 
		<filename>ppp-pap-dialup</filename> скриптийг 
		ажиллуулахыг <command>mgetty</command>-д хэлнэ.</para>

	    <para>доор дурдсаныг агуулсан 
		<filename>/etc/ppp/ppp-pap-dialup</filename> файлыг 
		үүсгэнэ (файл ажиллах боломжтой байх ёстой):</para>

	    <programlisting>#!/bin/sh
exec /usr/sbin/ppp -direct pap$IDENT</programlisting>

	    <para><filename>/etc/ttys</filename>-д идэвхжүүлсэн 
		dialup мөр бүрийн хувьд тохирох оруулгыг 
		<filename>/etc/ppp/ppp.conf</filename> файлд 
		үүсгэнэ. Энэ нь бидний үүсгэсэн тодорхойлолтуудтай аз жаргалтайгаар 
		цуг байх болно.</para>

	    <programlisting>pap:
  enable pap	      
  set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
  enable proxy</programlisting>

	    <para>Энэ аргаар нэвтэрч байгаа хэрэглэгч бүр 
		<filename>/etc/ppp/ppp.secret</filename> файлд 
		хэрэглэгчийн нэр/нууц үгтэй байх шаардлагатай, эсвэл өөр нэг 
		арга нь <filename>/etc/passwd</filename> файлаас хэрэглэгчдийг 
		PAP-аар таньж нэвтрүүлэхийн тулд дараах тохируулгыг хийх явдал 
		юм.</para>

	    <programlisting>enable passwdauth</programlisting>

	    <para>Хэрэв та зарим хэрэглэгчдэд статик IP хаяг өгөхийг хүсвэл 
		та хаягийг <filename>/etc/ppp/ppp.secret</filename> 
		файлд гурав дахь нэмэлт өгөгдөл болгон зааж өгч болно. Жишээнүүдийг 
		<filename>/usr/share/examples/ppp/ppp.secret.sample</filename>-с 
		үзнэ үү.</para>
	  </sect4>

	  <sect4>
	    <title>MS өргөтгөлүүд</title>
	    <indexterm><primary>DNS</primary></indexterm>    
	    <indexterm><primary>NetBIOS</primary></indexterm>
	    <indexterm><primary>PPP</primary><secondary>Microsoft өргөтгөлүүд</secondary></indexterm>
	    <para>DNS болон NetBIOS нэрийн серверийн хаягуудыг шаардлагын дагуу 
		хангахаар PPP-г тохируулах боломжтой байдаг.</para>

	    <para>PPP хувилбар 1.x дээр эдгээр өргөтгөлүүдийг идэвхжүүлэхийн 
		тулд дараах мөрүүдийг <filename>/etc/ppp/ppp.conf</filename> 
		файлын тохирох хэсэгт нэмэх ёстой.</para>

	    <programlisting>enable msext
set ns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</programlisting>

	    <para>PPP хувилбар 2 болон түүнээс хойно гарсан хувилбарын хувьд:</para>

	    <programlisting>accept dns
set dns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</programlisting>

	    <para>Энэ нь анхдагч болон хоёрдох нэрийн серверийн 
		хаягууд болон NetBIOS нэрийн серверийн хостыг клиентүүдэд хэлнэ.</para>

	    <para>Хувилбар 2 болон түүнээс дээшхид <literal>set dns</literal> 
		мөрийг орхигдуулсан бол PPP нь <filename>/etc/resolv.conf</filename> 
		файлд байгаа утгуудыг ашиглах болно.</para>
	</sect4>

        <sect4 id="userppp-PAPnCHAP">
	  <title>PAP болон CHAP нэвтрэлт шалгалт</title>
	  <indexterm><primary>PAP</primary></indexterm>	    
	  <indexterm><primary>CHAP</primary></indexterm>	    
	  <para>Таны холболтын нэвтрэлт танилтын хэсгийг PAP юм уу эсвэл CHAP нэвтрэлт 
		танилтын аргуудыг ашиглан хийдэг байхаар зарим ISP-ууд өөрсдийн 
		системийг тохируулдаг. Хэрэв ийм бол таны ISP нь <prompt>login:</prompt> 
		хүлээх мөрийг таныг холбогдох үед харуулдаггүй бөгөөд PPP нэн даруй 
		ярьж эхлэх болно.</para>

	  <para>PAP нь CHAP-аас аюулгүй байдлын хувьд дутуу байдаг бөгөөд 
		нууц үг нь PAP-аар цэвэр текст маягаар илгээгддэг боловч цуваа шугамаар зөвхөн 
		дамжуулагддаг болохоор аюулгүй байдал нь нууц үгүүдэд байдаг асуудал шиг биш 
		байдаг. Эвдлэгчдэд зориулсан <quote>сэм чагнах</quote> зай 
		бараг байдаггүй гэсэн үг юм.</para>

	  <para><link linkend="userppp-staticIP">PPP
	    болон статик IP хаягууд</link> эсвэл <link
	    linkend="userppp-dynamicIP">PPP болон динамик IP хаягууд</link> хэсгүүдийн 
		хувьд дараах өөрчлөлтүүдийг хийх ёстой:</para>

	  <programlisting>13      set authname <replaceable>MyUserName</replaceable>
14      set authkey <replaceable>MyPassword</replaceable>
15      set login</programlisting>

	  <variablelist>
	    <varlistentry>
	      <term>Мөр 13:</term>

	      <listitem>
		<para>Энэ мөр нь таны PAP/CHAP хэрэглэгчийн нэрийг заана. 
		Та <replaceable>MyUserName</replaceable>-д
		зөв утгыг оруулах хэрэгтэй болно.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 14:</term>
	      <indexterm><primary>нууц үг</primary></indexterm>
	      <listitem>
		<para>Энэ мөр нь таны PAP/CHAP нууц үгийг заана. Та 
		<replaceable>MyPassword</replaceable>-д 
		зөв утгыг оруулах хэрэгтэй болно. Та дараах шиг нэмэлт мөр 
		нэмэхийг хүсэх юм уу:</para>
		    
		<programlisting>16      accept PAP</programlisting>

		<para>эсвэл</para>

		<programlisting>16      accept CHAP</programlisting>

		<para>гэж болно. Ингэснээр үүнийг зориуд тодорхой болгох 
		юм, гэхдээ PAP болон CHAP-ийг хоюуланг анхдагчаар хүлээн авдаг.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term>Мөр 15:</term>

	      <listitem>
		<para>Хэрэв та PAP эсвэл CHAP ашиглаж байгаа бол таны ISP 
		хэвийн үед сервер уруу нэвтрэн орохыг шаарддаггүй. Тийм болохоор та өөрийн 
		<quote>set login</quote> мөрийг хаах ёстой.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>
	</sect4>

	<sect4>
	  <title>Өөрийн <command>ppp</command> тохиргоог явцын дунд шууд өөрчлөх нь</title>

	  <para><command>ppp</command>-г ар талд далд ажиллаж байхад түүнтэй 
		зөвхөн тохирох оношлогооны порт тохируулагдсан тохиолдолд харилцаж болдог.
		Үүнийг хийхийн тулд өөрийн тохиргоондоо дараах мөрийг нэмнэ:</para>

	  <programlisting>set server /var/run/ppp-tun<replaceable>%d</replaceable> DiagnosticPassword 0177</programlisting>

	  <para>Энэ нь клиентүүдийн хандалтыг зөвшөөрөхийн өмнө тэднээс нууц үгийг 
		асууж заасан &unix; домэйн сокет дээр сонсохыг PPP-д хэлнэ. 
		Нэрэн дэх <literal>%d</literal> нь ашиглагдаж байгаа 
		<devicename>tun</devicename> төхөөрөмжийн дугаараар 
		солигдоно.</para>

	  <para>Сокет тохируулагдсаны дараа &man.pppctl.8; програм нь 
		ажиллаж байгаа програмыг удирдахыг хүсэж байгаа скриптүүдэд 
		ашиглагдаж болно.</para>
	</sect4>
      </sect3>

      <sect3 id="userppp-nat">
       <title>PPP-ийн Network Address Translation буюу Сүлжээний Хаягийн Хөрвүүлэлт боломжийг ашиглах нь</title>
       <indexterm><primary>PPP</primary><secondary>NAT</secondary></indexterm>

       <para>PPP нь цөмийн divert буюу өөрчлөн дамжуулах боломжуудыг ашиглалгүйгээр 
	дотоод NAT-ийг ашиглах чадвартай байдаг. <filename>/etc/ppp/ppp.conf</filename> 
	файл дахь дараах мөрөөр энэ боломжийг идэвхжүүлж болно:</para>

       <programlisting>nat enable yes</programlisting>

       <para>Өөрөөр, PPP NAT-ийг тушаалын мөрийн <literal>-nat</literal> 
	тохируулгаар идэвхжүүлж болох юм. Мөн <filename>/etc/rc.conf</filename>
	файлын хувьсагч <literal>ppp_nat</literal> гэж байх бөгөөд энэ нь 
	анхдагчаар идэвхжүүлэгдсэн байна.</para>

       <para>Хэрэв та энэ боломжийг ашиглаж байгаа бол ирж байгаа холболтуудын
	цааш дамжуулалтыг идэвхжүүлэх дараах <filename>/etc/ppp/ppp.conf</filename> 
	файлын тохируулгуудын ашигтайг харж болох юм:</para>

       <programlisting>nat port tcp 10.0.0.2:ftp ftp
nat port tcp 10.0.0.2:http http</programlisting>

       <para>эсвэл гадна талд ерөөсөө битгий итгээрэй</para>

       <programlisting>nat deny_incoming yes</programlisting>
      </sect3>

      <sect3 id="userppp-final">
	<title>Системийн сүүлийн тохиргоо</title>
	<indexterm><primary>PPP</primary><secondary>тохиргоо</secondary></indexterm>

	<para>Та одоо <command>ppp</command>-г тохируулчихлаа, гэхдээ 
	яг ажиллахад бэлэн болохын өмнө хийх цөөн хэдэн зүйлс бий. Тэдгээр нь 
	бүгд <filename>/etc/rc.conf</filename> файлыг засварлуулах 
	болно.</para>

	<para>Энэ файлтай дээрээс доош ажиллахдаа <literal>hostname=</literal> 
	мөр тохируулагдсан эсэхийг шалгаарай, өөрөөр хэлбэл:</para>

	<programlisting>hostname="foo.example.com"</programlisting>

	<para>Хэрэв таны ISP танд статик IP хаяг болон нэр өгсөн бол та энэ нэрийг 
	хостын нэрэндээ ашиглах нь магадгүй зүйтэй юм.</para>

	<para><literal>network_interfaces</literal> хувьсагчийг хайгаарай. 
	Хэрэв та өөрийн системийг ISP уруугаа шаардлага хүсэлтээр залгахаар тохируулахыг 
	хүсвэл <devicename>tun0</devicename> төхөөрөмжийг жагсаалтад нэмсэн 
	эсэхээ баталгаажуулаарай, хэрэв тэгж хүсээгүй бол түүнийг устгаарай.</para>

	<programlisting>network_interfaces="lo0 tun0"
ifconfig_tun0=</programlisting>

	<note>
	  <para><literal>ifconfig_tun0</literal> хувьсагч хоосон байх ёстой 
		бөгөөд <filename>/etc/start_if.tun0</filename> гэж 
		нэрлэгдсэн файлыг үүсгэх ёстой. Энэ файл нь дараах мөрийг 
		агуулсан байх ёстой:</para>

	  <programlisting>ppp -auto mysystem</programlisting>

	  <para>Энэ скрипт нь сүлжээ тохируулах үед таны ppp дэмонг автомат горимд 
		эхлүүлэн ажилладаг. Хэрэв та энэ машин гарц болж байгаа LAN-тай бол 
		<option>-alias</option> сонголтыг ашиглахыг хүсэж болох юм. 
		Илүү дэлгэрэнгүй мэдээллийг гарын авлагын хуудаснаас 
		лавлана уу.</para>
	</note>

	<para>Таны <filename>/etc/rc.conf</filename> файлд чиглүүлэлтийн 
	програм <literal>NO</literal> гэж дараах мөрөөр хийгдсэн эсэхийг 
	шалгаарай:</para>

	<programlisting>router_enable="NO"</programlisting>

	<indexterm>
    <primary><application>routed</application></primary>
  </indexterm>
	<para><command>routed</command> дэмон нь эхлэхгүй байх нь чухал юм. 
	Учир нь <command>routed</command> нь <command>ppp</command>-ийн 
	үүсгэсэн анхдагч чиглүүлэлтийн хүснэгтийн оруулгуудыг устгадаг юм.</para>

	<para><literal>sendmail_flags</literal> мөр <option>-q</option> 
	тохируулгыг агуулаагүй эсэхийг шалгах нь магадгүй зүйтэй юм. Тэгэхгүй бол 
	<command>sendmail</command> нь таны машиныг гадагш залгуулан үргэлж 
	сүлжээний хайлт хийхийг оролдох болно. Та доор дурдсаныг тохируулж болох юм:</para>

	<programlisting>sendmail_flags="-bd"</programlisting>

	<indexterm>
    <primary><application>sendmail</application></primary>
  </indexterm>
	<para>Үүний сул тал нь ppp холбоос тогтсон үед та доор дурдсаныг бичиж 
	<command>sendmail</command>-ээр захидлын дарааллыг дахин шалгуулж 
	байх явдал юм:</para>

	<screen>&prompt.root; <userinput>/usr/sbin/sendmail -q</userinput></screen>

	<para>Та үүнийг хийхийн тулд <filename>ppp.linkup</filename> файлд 
	<command>!bg</command> тушаалыг ашиглахыг хүсэж болох юм:</para>

	<programlisting>1     provider:
2       delete ALL
3       add 0 0 HISADDR
4       !bg sendmail -bd -q30m</programlisting>

        <indexterm><primary>SMTP</primary></indexterm>
	<para>Хэрэв танд энэ таалагдахгүй байгаа бол SMTP урсгалыг хаахын тулд 
	<quote>dfilter</quote>-г тохируулах боломжтой байдаг. Илүү дэлгэрэнгүй 
	мэдээллийг жишээ файлуудаас лавлана уу.</para>

	<para>Одоо машиныг дахин ачаалах л үлдлээ. Дахин ачаалсны дараа та 
	доор дурдсаныг бичиж:</para>

	<screen>&prompt.root; <userinput>ppp</userinput></screen>

	<para>дараа нь PPP сессийг эхлүүлэхийн тулд <command>dial provider</command> 
	тушаалыг ажиллуулах юм уу эсвэл гадагшаа урсгал байгаа (бөгөөд та 
	<filename>start_if.tun0</filename> скрипт үүсгээгүй) бол сессүүдийг 
	автоматаар тогтоодгоор <command>ppp</command>-г байлгахыг хүсэж байгаа бол 
	доор дурдсаныг бичээрэй:</para>

	<screen>&prompt.root; <userinput>ppp -auto provider</userinput></screen>
      </sect3>

      <sect3>
	<title>Дүгнэлт</title>

	<para>Дүгнэхэд ppp-г эхний удаа тохируулахад дараах алхмууд шаардлагатай:</para>

	<para>Клиент тал:</para>

	<procedure>
	  <step>
	    <para>Таны цөмд <devicename>tun</devicename> төхөөрөмж бүтээгдсэн 
		эсэхийг шалгана.</para>
	  </step>

	  <step>
	    <para><filename class="directory">/dev</filename> санд 
		<filename class="devicefile">tun<replaceable>N</replaceable></filename> 
		төхөөрөмжийн файл байгаа эсэхийг шалгана.</para>
	  </step>

	  <step>
	    <para><filename>/etc/ppp/ppp.conf</filename> файлд 
		оруулга үүсгэнэ. <filename>pmdemand</filename> жишээ нь 
		ихэнх ISP-уудын хувьд хангалттай байх ёстой.</para>
	  </step>

	  <step>
	    <para>Хэрэв та динамик IP хаягтай бол <filename>/etc/ppp/ppp.linkup</filename> 
		файлд оруулга үүсгээрэй.</para>
	  </step>

	  <step>
	    <para>Өөрийн <filename>/etc/rc.conf</filename> файлыг 
		шинэчилнэ.</para>
	  </step>

	  <step>
	    <para>Хэрэв танд хэрэгцээгээр залгах шаардлага байгаа бол 
		<filename>start_if.tun0</filename> скрипт үүсгээрэй.</para>
	  </step>
	</procedure>

	<para>Сервер тал:</para>

	<procedure>
	  <step>
	    <para>Таны цөмд <devicename>tun</devicename> төхөөрөмж бүтээгдсэн 
		эсэхийг шалгана.</para>
	  </step>

	  <step>
	    <para><filename class="directory">/dev</filename> санд 
		<filename class="devicefile">tun<replaceable>N</replaceable></filename> 
		төхөөрөмжийн файл байгаа эсэхийг шалгана.</para>
	  </step>

	  <step>
	    <para><filename>/etc/passwd</filename> файлд (&man.vipw.8; програмыг ашиглан) 
		оруулга үүсгэнэ.</para>
	  </step>

	  <step>
	    <para>Энэ хэрэглэгчдийн гэрийн санд <command>ppp -direct direct-server</command> 
		юм уу эсвэл үүнтэй адилыг ажиллуулах хувийн тохиргоог (profile) 
		үүсгэнэ.</para>
	  </step>

	  <step>
	    <para><filename>/etc/ppp/ppp.conf</filename> файлд оруулга үүсгэнэ. 
		<filename>direct-server</filename> жишээ хангалттай байх 
		ёстой.</para>
	  </step>

	  <step>
	    <para><filename>/etc/ppp/ppp.linkup</filename> файлд оруулга үүсгэнэ.</para>
	  </step>

	  <step>
	    <para>Өөрийн <filename>/etc/rc.conf</filename> файлыг шинэчилнэ.</para>
	  </step>
	</procedure>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="ppp">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Геннадий Б.</firstname>
          <surname>Сорокопуд</surname>
          <contrib>Хэсгүүдийг анхлан хувь нэмэр болгон оруулсан </contrib>
        </author>
        <author>
          <firstname>Роберт</firstname>
          <surname>Хафф</surname>
        </author>
      </authorgroup>
    </sect1info>

    <title>Цөмийн PPP-г ашиглах</title>

    <warning>
      <para>Энэ хэсэг нь зөвхөн 
        &os;&nbsp;7.X хувилбаруудад зориулагдсан.</para>
    </warning>

    <sect2>
      <title>Цөмийн PPP тохируулах</title>
      <indexterm><primary>PPP</primary><secondary>цөмийн PPP</secondary></indexterm>

      <para>Та өөрийн машин дээр PPP-г тохируулж эхлэхээсээ өмнө 
	<command>pppd</command> нь 
	<filename class="directory">/usr/sbin</filename> санд байгаа болон 
	<filename class="directory">/etc/ppp</filename> сан байгаа эсэхийг шалгаарай.</para>

      <para><command>pppd</command> нь хоёр горимд ажиллах чаддаг:</para>

      <orderedlist>
	<listitem>
	  <para><quote>Клиент</quote> маягаар &mdash; та өөрийн машиныг 
		гаднах ертөнц уруу PPP цуваа холболтоор эсвэл модемийн шугамаар 
		холбохыг хүсдэг.</para>
	</listitem>

        <indexterm><primary>PPP</primary><secondary>сервер</secondary></indexterm>
	<listitem>
	  <para><quote>Сервер</quote> маягаар &mdash; Таны машин сүлжээн 
		дээр байгаа бөгөөд бусад компьютеруудыг PPP ашиглан холбоход 
		хэрэглэгдэнэ.</para>
	</listitem>
      </orderedlist>

      <para>Аль ч тохиолдол байлаа гэсэн та тохируулгуудын файлыг 
	(<filename>/etc/ppp/options</filename> эсвэл 
	хэрэв та PPP ашиглаж байгаа өөрийн машин дээрээ нэгээс илүү олон хэрэглэгчидтэй бол 
	<filename>~/.ppprc</filename>) тохируулах хэрэгтэй
	болно.</para>

      <para>Та залгаж алсын хосттой холболт тогтоохын тулд 
	танд бас зарим модем/цуваа програм хангамж 
	(<filename role="package">comms/kermit</filename>-г аль болох эрхэмлэх) 
	хэрэгтэй болно.</para>
    </sect2>

    <sect2>
      <sect2info>
	<authorgroup>
	  <author>
	    <firstname>Трев</firstname>
	    <surname>Ройдхауз</surname>
	    <contrib>Based on information provided by </contrib>
	    <!-- Trev.Roydhouse@f401.n711.z3.fidonet.org -->
	  </author>
	</authorgroup>
      </sect2info>
	    
      <title><command>pppd</command>-г клиент маягаар ашиглах</title>
      <indexterm><primary>PPP</primary><secondary>клиент</secondary></indexterm>
      <indexterm><primary>Cisco</primary></indexterm>
      <para>Дараах <filename>/etc/ppp/options</filename> файл нь 
	Cisco терминал серверийн PPP шугам уруу холбогдоход хэрэглэгдэж болох юм.</para>

      <programlisting>crtscts         # enable hardware flow control
modem           # modem control line
noipdefault     # remote PPP server must supply your IP address
                # if the remote host does not send your IP during IPCP
                # negotiation, remove this option
passive         # wait for LCP packets
domain ppp.foo.com      # put your domain name here

:<replaceable>remote_ip</replaceable>    # put the IP of remote PPP host here
                # it will be used to route packets via PPP link
                # if you didn't specified the noipdefault option
                # change this line to <replaceable>local_ip</replaceable>:<replaceable>remote_ip</replaceable>

defaultroute    # put this if you want that PPP server will be your
                # default router</programlisting>

      <para>Холбогдохын тулд:</para>

      <indexterm><primary>Kermit</primary></indexterm>
      <indexterm><primary>модем</primary></indexterm>
      <procedure>
	<step>
	  <para>Алсын хост уруу <application>Kermit</application> 
		(эсвэл өөр бусад модемийн програм) ашиглан залгаж өөрийн хэрэглэгчийн нэр болон нууц үгийг 
		(эсвэл алсын хост дээр PPP-г идэвхжүүлэхэд шаардлагатай 
		тэр зүйлийг) оруулна.</para>
	</step>

	<step>
	  <para><application>Kermit</application>-с гарна (шугамыг таслалгүйгээр).</para>
	</step>

	<step>
	  <para>Доор дурдсаныг оруулна:</para>

	  <screen>&prompt.root; <userinput>/usr/sbin/pppd <replaceable>/dev/tty01</replaceable> <replaceable>19200</replaceable></userinput></screen>

	  <para>Тохирох хурд болон төхөөрөмжийн нэрийг ашиглахаа мартуузай.</para>
	</step>
      </procedure>

      <para>Одоо таны компьютер PPP-тэй холбогдлоо. Хэрэв холболт амжилтгүй 
	болбол та <filename>/etc/ppp/options</filename> файлд 
	<option>debug</option> тохируулгыг нэмж асуудлыг олохын тулд 
	консолын мэдэгдлүүдийг шалгана.</para>
	  
      <para>Дараах <filename>/etc/ppp/pppup</filename> скрипт нь 
	бүх 3 алхмыг автомат болгоно:</para>

      <programlisting>#!/bin/sh
pgrep -l pppd
pid=`pgrep pppd`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
pgrep -l kermit
pid=`pgrep kermit`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

ifconfig ppp0 down
ifconfig ppp0 delete

kermit -y /etc/ppp/kermit.dial
pppd /dev/tty01 19200</programlisting>

      <indexterm><primary>Kermit</primary></indexterm>
      <para><filename>/etc/ppp/kermit.dial</filename> нь <application>Kermit</application> 
	скрипт бөгөөд гадагш залгаж бүх шаардлагатай нэвтрэлт таниулалтыг алсын хост дээр 
	хийдэг (энэ баримтын төгсгөлд ийм скриптийн жишээ хавсаргагдсан болно).</para>

      <para>Дараах <filename>/etc/ppp/pppdown</filename> скриптийг ашиглаж 
	PPP шугамыг салгаж болно:</para>

      <programlisting>#!/bin/sh
pid=`pgrep pppd`
if [ X${pid} != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill -TERM ${pid}
fi

pgrep -l kermit
pid=`pgrep kermit`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

/sbin/ifconfig ppp0 down
/sbin/ifconfig ppp0 delete
kermit -y /etc/ppp/kermit.hup
/etc/ppp/ppptest</programlisting>

      <para><command>pppd</command> ажиллаж байгаа эсэхийг шалгахын тулд 
	<filename>/usr/etc/ppp/ppptest</filename>-г ажиллуулна. Энэ нь 
	иймэрхүү харагдах ёстой:</para>

      <programlisting>#!/bin/sh
pid=`pgrep pppd`
if [ X${pid} != "X" ] ; then
        echo 'pppd running: PID=' ${pid-NONE}
else
        echo 'No pppd running.'
fi
set -x
netstat -n -I ppp0
ifconfig ppp0</programlisting>

      <para>Модемийг салгаж буцааж залгахын тулд 
	<filename>/etc/ppp/kermit.hup</filename>-г ажиллуулна. Энэ нь 
	доор дурдсаныг агуулах ёстой:</para>

      <programlisting>set line /dev/tty01	; put your modem device here
set speed 19200
set file type binary
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none

pau 1
out +++
inp 5 OK
out ATH0\13
echo \13
exit</programlisting>

      <para>Энд <command>kermit</command> тушаалын оронд 
	<command>chat</command> тушаал хэрэглэх өөр арга байна:</para>

      <para>Дараах хоёр мөр нь <command>pppd</command> холболтыг 
	хийхэд хангалттай байдаг.</para>

      <para><filename>/etc/ppp/options</filename>:</para>

      <programlisting>/dev/cuad1 115200

crtscts		# enable hardware flow control
modem		# modem control line
connect "/usr/bin/chat -f /etc/ppp/login.chat.script"
noipdefault	# remote PPP serve must supply your IP address
	        # if the remote host doesn't send your IP during
                # IPCP negotiation, remove this option
passive         # wait for LCP packets
domain <replaceable>your.domain</replaceable>	# put your domain name here

:		# put the IP of remote PPP host here
	        # it will be used to route packets via PPP link
                # if you didn't specified the noipdefault option
                # change this line to <replaceable>local_ip</replaceable>:<replaceable>remote_ip</replaceable>

defaultroute	# put this if you want that PPP server will be
	        # your default router</programlisting>

      <para><filename>/etc/ppp/login.chat.script</filename>:</para>

      <note>
	<para>Дараах нь нэг мөрөнд байх ёстой.</para>
      </note>

      <programlisting>ABORT BUSY ABORT 'NO CARRIER' "" AT OK ATDT<replaceable>phone.number</replaceable>
  CONNECT "" TIMEOUT 10 ogin:-\\r-ogin: <replaceable>login-id</replaceable>
  TIMEOUT 5 sword: <replaceable>password</replaceable></programlisting>

      <para>Эдгээр нь суулгагдаж зөв болж өөрчлөгдсөний дараа таны хийх ганц зүйл бол 
	<command>pppd</command>-г иймэрхүү маягаар ажиллуулах явдал юм:</para>

      <screen>&prompt.root; <userinput>pppd</userinput></screen>
    </sect2>

    <sect2>
      <title><command>pppd</command>-г сервер маягаар ашиглах</title>

      <para><filename>/etc/ppp/options</filename> файл нь доор дурдсантай төстэйг 
	агуулах ёстой:</para>

      <programlisting>crtscts                         # Hardware flow control
netmask 255.255.255.0           # netmask (not required)
192.114.208.20:192.114.208.165  # IP's of local and remote hosts
                                # local ip must be different from one
                                # you assigned to the Ethernet (or other)
                                # interface on your machine.
                                # remote IP is IP address that will be 
                                # assigned to the remote machine
domain ppp.foo.com              # your domain
passive                         # wait for LCP
modem                           # modem line</programlisting>

      <para>Дараах <filename>/etc/ppp/pppserv</filename> скрипт нь 
	<application>pppd</application>-г сервер маягаар ажиллахыг 
	заах болно:</para>

      <programlisting>#!/bin/sh 
pgrep -l pppd
pid=`pgrep pppd`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
pgrep -l kermit
pid=`pgrep kermit`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

# reset ppp interface
ifconfig ppp0 down
ifconfig ppp0 delete

# enable autoanswer mode
kermit -y /etc/ppp/kermit.ans

# run ppp
pppd /dev/tty01 19200</programlisting>

      <para>Серверийг зогсоохын тулд энэ <filename>/etc/ppp/pppservdown</filename> 
	скриптийг ашиглана:</para>

      <programlisting>#!/bin/sh 
pgrep -l pppd
pid=`pgrep pppd`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
pgrep -l kermit
pid=`pgrep kermit`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi
ifconfig ppp0 down
ifconfig ppp0 delete

kermit -y /etc/ppp/kermit.noans</programlisting>

      <para>Дараах <application>Kermit</application> скрипт нь 
	(<filename>/etc/ppp/kermit.ans</filename>) таны модем дээр автомат 
	хариулагчийг нээх/хаах болно. Энэ нь иймэрхүү харагдах ёстой:</para>

      <programlisting>set line /dev/tty01
set speed 19200
set file type binary
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none

pau 1
out +++
inp 5 OK
out ATH0\13
inp 5 OK
echo \13
out ATS0=1\13   ; change this to out ATS0=0\13 if you want to disable
                ; autoanswer mode
inp 5 OK
echo \13
exit</programlisting>

      <para><filename>/etc/ppp/kermit.dial</filename> гэсэн нэртэй скрипт 
	нь гадагш залгаж алсын хост дээр нэвтрэлт таниулахад хэрэглэгддэг. Та үүнийг 
	өөрийн хэрэгцээнд зориулан өөрчлөх хэрэгтэй болно. Өөрийн нэвтрэх нэр 
	болон нууц үгийг энэ скриптэд оруулах хэрэгтэй; та бас оролтын илэрхийллийг 
	таны модем болон алсын хостоос ирэх хариунуудаас хамааран өөрчлөх хэрэгтэй болно.</para>

      <programlisting>;
; put the com line attached to the modem here:
;
set line /dev/tty01
;
; put the modem speed here:
;
set speed 19200
set file type binary            ; full 8 bit file xfer
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none
set modem hayes
set dial hangup off
set carrier auto                ; Then SET CARRIER if necessary,
set dial display on             ; Then SET DIAL if necessary,
set input echo on
set input timeout proceed
set input case ignore
def \%x 0                       ; login prompt counter
goto slhup

:slcmd                          ; put the modem in command mode
echo Put the modem in command mode.
clear                           ; Clear unread characters from input buffer
pause 1
output +++                      ; hayes escape sequence
input 1 OK\13\10                ; wait for OK
if success goto slhup
output \13
pause 1
output at\13
input 1 OK\13\10
if fail goto slcmd              ; if modem doesn't answer OK, try again

:slhup                          ; hang up the phone
clear                           ; Clear unread characters from input buffer
pause 1
echo Hanging up the phone.
output ath0\13                  ; hayes command for on hook
input 2 OK\13\10
if fail goto slcmd              ; if no OK answer, put modem in command mode

:sldial                         ; dial the number
pause 1
echo Dialing.
output atdt9,550311\13\10               ; put phone number here
assign \%x 0                    ; zero the time counter

:look
clear                           ; Clear unread characters from input buffer
increment \%x                   ; Count the seconds
input 1 {CONNECT }
if success goto sllogin
reinput 1 {NO CARRIER\13\10}
if success goto sldial
reinput 1 {NO DIALTONE\13\10}
if success goto slnodial
reinput 1 {\255}
if success goto slhup
reinput 1 {\127}
if success goto slhup
if &lt; \%x 60 goto look
else goto slhup

:sllogin                        ; login
assign \%x 0                    ; zero the time counter
pause 1
echo Looking for login prompt.

:slloop
increment \%x                   ; Count the seconds
clear                           ; Clear unread characters from input buffer
output \13
;
; put your expected login prompt here:
;
input 1 {Username: }
if success goto sluid
reinput 1 {\255}
if success goto slhup
reinput 1 {\127}
if success goto slhup
if &lt; \%x 10 goto slloop         ; try 10 times to get a login prompt
else goto slhup                 ; hang up and start again if 10 failures

:sluid
;
; put your userid here:
;
output ppp-login\13
input 1 {Password: }
;
; put your password here:
;
output ppp-password\13
input 1 {Entering SLIP mode.}
echo
quit

:slnodial
echo \7No dialtone.  Check the telephone line!\7
exit 1

; local variables:
; mode: csh
; comment-start: "; "
; comment-start-skip: "; "
; end:</programlisting>
    </sect2>
  </sect1>

  <sect1 id="ppp-troubleshoot">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Том</firstname>
	  <surname>Рөүдс</surname>
	  <contrib>Хувь нэмэр болгон оруулсан </contrib>
	</author>
      </authorgroup>
      <!-- 13 June 2003 -->
    </sect1info>
    <title><acronym>PPP</acronym> холболтуудын алдааг олж засварлах</title>

    <indexterm><primary>PPP</primary><secondary>алдааг олж засварлах</secondary></indexterm>

    <warning>
      <para>&os; 8.0-с эхлээд &man.sio.4; драйверыг 
	&man.uart.4; драйвераар сольсон. Цуваа портын төхөөрөмжийн 
	цэг
        <filename>/dev/cuad<replaceable>N</replaceable></filename> гэдгээс
        <filename>/dev/cuau<replaceable>N</replaceable></filename> болон
        <filename>/dev/ttyd<replaceable>N</replaceable></filename> гэдгээс
        <filename>/dev/ttyu<replaceable>N</replaceable></filename> болж 
	өөрчлөгдсөн. &os;&nbsp;7.X-ийн хэрэглэгчид дараах зааврыг 
	эдгээр өөрчлөлтүүдтэй уялдуулж ойлгох ёстой.</para>
    </warning>

      <para>Энэ хэсэг нь PPP-г модемийн холболтоор ашиглах үед гарч болох 
	цөөн асуудлуудыг хамрах болно. Жишээ нь магадгүй танд 
	залгаж холбогдох гэж байгаа систем чинь яг ямар хүлээх мөрүүдийг үзүүлэхийг
	мэдэх шаардлагатай байж болох юм. Зарим <acronym>ISP</acronym>-ууд 
	<literal>ssword</literal> хүлээх мөрийг үзүүлдэг бол зарим нь 
	<literal>password</literal> гэж үзүүлэх болно; хэрэв 
	<command>ppp</command> скрипт нь түүний дагуу бичигдээгүй бол 
	нэвтрэх оролдлого амжилтгүй болох болно. <command>ppp</command> 
	холболтуудыг дибаг хийх хамгийн түгээмэл арга бол гараар холбогдох 
	явдал юм. Дараах мэдээлэл нь алхам алхмаар гар холболтыг танд тайлбарлах 
	болно.</para>

    <sect2>
      <title>Төхөөрөмжийн цэгүүдийг шалгана</title>

	<para>Хэрэв өөрчлөн тохируулсан цөм ашиглаж байгаа бол дараах 
	мөрийг өөрийн цөмийн тохиргооны файлдаа нэмсэн эсэхээ шалгаарай:</para>

	<programlisting>device   uart</programlisting>

	<para><devicename>uart</devicename> төхөөрөмж <literal>GENERIC</literal> 
	цөмд аль хэдийн орсон байдаг учир энэ тохиолдолд нэмэлт алхмууд 
	хэрэггүй юм. Модем төхөөрөмжийн хувьд <command>dmesg</command> 
	гаралтыг шалгаарай:</para>

	<screen>&prompt.root; <userinput>dmesg | grep uart</userinput></screen>

	<para>Та <devicename>uart</devicename> төхөөрөмжүүдийн 
	талаар тохирох мэдээллүүдийг авах ёстой. Эдгээр нь бидэнд 
	хэрэгтэй COM портууд юм. Хэрэв таны модем стандарт цуваа 
	порт шиг ажиллаж байвал та түүнийг <devicename>uart1</devicename>, 
	эсвэл <devicename>COM2</devicename> дээр жагсаагдсан 
	байхыг харах ёстой. Хэрэв тийм бол та цөмийг дахин бүтээх шаардлагагүй 
	юм. sio модем <devicename>uart1</devicename> дээр 
	эсвэл хэрэв та DOS дээр байгаа бол <devicename>COM2</devicename> дээр 
	таарч байвал таны модемийн төхөөрөмж 
	<filename class="devicefile">/dev/cuau1</filename> байх болно.</para>
    </sect2>

    <sect2>
      <title>Гараар холбогдох нь</title>

      <para>Гараар <command>ppp</command>-г хянаж Интернэтэд холбогдох нь 
	холболтыг дибаг хийх юм уу эсвэл ердөө л таны 
	<acronym>ISP</acronym> чинь <command>ppp</command> 
	клиент холболтуудад хэрхэн ханддаг талаар мэдээлэл авахад 
	хурдан, хялбар, агуу арга байдаг. Тушаалын мөрөөс <application>PPP</application>-г 
	эхлүүлье. Бидний бүх жишээнүүд дээр бид <application>PPP</application> 
	ажиллуулж байгаа машины хостын нэрийг <emphasis>example</emphasis> 
	гэж авч ашиглах болно. Та <command>ppp</command>-г 
	<command>ppp</command> гэж бичин эхлүүлнэ:</para>

      <screen>&prompt.root; <userinput>ppp</userinput></screen>

      <para>Бид одоо <command>ppp</command>-г эхлүүллээ.</para>

      <screen>ppp ON example&gt; <userinput>set device <filename class="devicefile">/dev/cuau1</filename></userinput></screen>

      <para>Бид өөрсдийн модемний төхөөрөмжийг тохируулна. Энэ тохиолдолд 
	<devicename>cuau1</devicename> болно.</para>

      <screen>ppp ON example&gt; <userinput>set speed 115200</userinput></screen>

      <para>Холболтын хурдыг тохируулна. Энэ тохиолдолд бид 
	115,200 <acronym>kbps</acronym>-г ашиглаж байна.</para>

      <screen>ppp ON example&gt; <userinput>enable dns</userinput></screen>

      <para>Бидний нэр танигчийг тохируулж <filename>/etc/resolv.conf</filename> 
	файлд нэрийн серверүүдийн мөрүүдийг нэмэхийг <command>ppp</command>-д 
	хэлнэ. <command>ppp</command> бидний хостын нэрийг тодорхойлж 
	чадахгүй байгаа бол бид дараа нь гараараа тохируулж өгч болно.</para>

      <screen>ppp ON example&gt; <userinput>term</userinput></screen>

      <para>Модемийг гараар хянаж чадаж байхын тулд <quote>Терминал</quote> 
	горимд шилжих хэрэгтэй.</para>

      <programlisting>deflink: Entering terminal mode on <filename class="devicefile">/dev/cuau1</filename>
type '~h' for help</programlisting>

      <screen><userinput>at</userinput>
OK
<userinput>atdt<replaceable>123456789</replaceable></userinput></screen>

      <para>Модемийг эхлүүлэхийн тулд <command>at</command>-г ашиглаж 
	дараа нь <command>atdt</command> дээр өөрийн <acronym>ISP</acronym>-ийн 
	дугаараа нэмээд  залгах процессоо эхлэх хэрэгтэй.</para>

      <screen>CONNECT</screen>

      <para>Холболтын баталгаа гарах ёстой, хэрэв бид тоног төхөөрөмжтэй холбоогүй ямар нэг холболтын 
	асуудлуудтай байх бол энд бид тэдгээрийг шийдэхийг оролдох болно.</para>

      <screen>ISP Login:<userinput>myusername</userinput></screen>

      <para>Энд танаас хэрэглэгчийн нэрийг асуух болно, <acronym>ISP</acronym>-ээс 
	өгсөн хэрэглэгчийн нэрийг оруулаад буцахыг дарна.</para>

      <screen>ISP Pass:<userinput>mypassword</userinput></screen>

      <para>Энэ удаад нууц үгийг асуух болно, <acronym>ISP</acronym>-ээс 
	өгсөн нууц үгээр хариулах хэрэгтэй. Яг л &os; уруу нэвтрэн ордог 
	шиг нууц үг нь буцаж дэлгэцэд харагдахгүй.</para>

      <screen>Shell or PPP:<userinput>ppp</userinput></screen>

      <para>Таны <acronym>ISP</acronym>-ээс хамаараад энэ хүлээх 
	мөр нь хэзээ ч гарахгүй байж болох юм. Энд биднээс үйлчилгээ үзүүлэгч 
	дээр бүрхүүл ашиглах эсэх эсвэл <command>ppp</command> 
	эхлүүлэх эсэхийг асуудаг. Энэ жишээн дээр бид Интернэт холболтыг 
	хүсэж байгаа болохоор <command>ppp</command>-г ашиглахаар 
	сонгосон.</para>

      <screen>Ppp ON example&gt;</screen>

      <para>Энэ жишээн дээр эхний <option>p</option> тохируулга 
	томоор бичигдсэнийг хараарай. Энэ нь бид <acronym>ISP</acronym>-д 
	амжилттайгаар холбогдсоныг харуулж байна.</para>

      <screen>PPp ON example&gt;</screen>

      <para>Бид <acronym>ISP</acronym>-д амжилттайгаар 
	өөрсдийгөө таниулан нэвтэрч заагдсан <acronym>IP</acronym> 
	хаягийг хүлээж байна.</para>

      <screen>PPP ON example&gt;</screen>

      <para>Бид <acronym>IP</acronym> хаяг дээрээ зөвшилцөж холболтоо
	амжилттайгаар хийж дуусгалаа.</para>

      <screen>PPP ON example&gt;<userinput>add default HISADDR</userinput></screen>

      <para>Энд бид өөрсдийн анхдагч чиглүүлэлтээ нэмж байна. Бид үүнийг 
	гаднах ертөнцтэй ярьж эхлэхээсээ өмнө хийх ёстой бөгөөд одоогоор 
	зөвхөн хийгдсэн холболт нь нөгөө талтайгаа хийгдсэн холболт байгаа 
	болно. Хэрэв энэ нь байгаа чиглүүлэлтүүдээсээ болоод амжилтгүй 
	болбол та <option>add</option> тохируулгын өмнө 
	анхаарлын тэмдэг <literal>!</literal> тавьж болно. 
	Өөрөөр та үүнийг жинхэнэ холболт хийхээсээ өмнө тохируулж болох 
	бөгөөд энэ нь шинэ чиглүүлэлтийг зохих ёсоор тохиролцоно.</para>

      <para>Хэрэв бүх зүйл сайн болж өнгөрсөн бол бид одоо идэвхтэй Интернэтийн 
	холболттой болсон байх бөгөөд үүнийг ар талд <keycombo
	action="simul"><keycap>CTRL</keycap>
	<keycap>z</keycap></keycombo> хослолоор оруулж болох юм. 
	Хэрэв та <command>PPP</command>-г <command>ppp</command> 
	болохыг анзаарах юм бол бид өөрсдийн холболтоо алдсан гэсэн үг юм. 
	Энэ нь бидний холболтын төлөвийг үзүүлдэг болохоор мэдэхэд илүүдэхгүй 
	юм. Том P үсэгнүүд нь бид <acronym>ISP</acronym> уруу холболттой
	байгааг үзүүлэх бөгөөд жижиг p үсэгнүүд нь холболт ямар нэг шалтгаанаар 
	тасарсныг харуулна. <command>ppp</command> нь зөвхөн эдгээр хоёр 
	төлөвтэй байдаг.</para>

      <sect3>
	<title>Дибаг хийх нь</title>

	<para>Хэрэв та шууд шугамтай бөгөөд холболт хийж чадахгүй байгаа юм 
	шиг санагдвал <acronym>CTS/RTS</acronym> тоног төхөөрөмжийн урсгалыг 
	<option>set ctsrts off</option> болгон хаах хэрэгтэй. 
	Энэ нь ялангуяа та <application>PPP</application> хийж чаддаг 
	терминал серверт холбогдох тохиолдол юм. Энэ тохиолдолд 
	<application>PPP</application> нь таны холбооны шугам дээр 
	өгөгдлийг бичихээр оролдох үед өлгөгдөж хэзээ ч ирэхгүй байж болох 
	<acronym>CTS</acronym> юм уу эсвэл Clear To Send буюу Илгээхэд 
	Цэвэр дохиог хүлээж байж болох юм. Хэрэв та энэ тохируулгыг ашиглах 
	юм бол <option>set accmap</option> тохируулгыг бас хэрэглэх 
	шаардлагатай. Энэ тохируулга нь зарим нэг параметрүүдийг, ихэнх тохиолдолд 
	XON/XOFF-г төгсгөлөөс төгсгөлд дамжуулахад тоног төхөөрөмжийн хувьд 
	хамааралтай байдлыг үгүй хийхийн тулд шаардлагатай байж болох юм. 
	Энэ тохируулгын талаар дэлгэрэнгүй мэдээллийг болон хэрхэн ашиглагддаг талаар 
	&man.ppp.8; гарын авлагын хуудаснаас үзнэ үү.</para>

	<para>Хэрэв та хуучин модемтой бол <option>set parity even</option> 
	тохируулгыг ашиглах хэрэгтэй болж болох юм. Parity нь анхдагчаар 
	none буюу байхгүй гэж тохируулагдсан байдаг боловч хуучин модемууд 
	болон <acronym>ISP</acronym>-уудад (урсгалын хувьд их хэмжээгээр ихсэхэд) 
	алдаа шалгахад хэрэглэгддэг. Compuserve <acronym>ISP</acronym>-ийн 
	хувьд танд энэ тохируулга хэрэгтэй байж болох юм.</para>

	<para><application>PPP</application> нь тушаалын горимд буцахгүй 
	байж болох юм. Энэ нь ихэвчлэн <acronym>ISP</acronym> нь танаас харилцан 
	тохиролцохыг эхлүүлэхийг хүлээх тохиролцооны алдаа байдаг. Энэ үед 
	<command>~p</command> тушаалыг ашиглах нь ppp-г тохиргооны мэдээллээ 
	илгээж эхлэхэд хүргэх болно.</para>

	<para>Хэрэв та нэвтрэлт хүлээх мөрийг хэзээ ч авахгүй байгаа бол та магадгүй 
	дээрх жишээн дээрх &unix; загварын нэвтрэлт танилтын оронд <acronym>PAP</acronym> 
	юм уу эсвэл <acronym>CHAP</acronym> нэвтрэлт танилтыг ашиглах 
	хэрэгтэй байж болох юм. <acronym>PAP</acronym> эсвэл <acronym>CHAP</acronym>-г 
	ашиглахын тулд ердөө л дараах тохируулгуудыг <application>PPP</application>-д 
	терминал горим уруу орохоос өмнө нэмэх хэрэгтэй:</para>

	<screen>ppp ON example&gt; <userinput>set authname <replaceable>myusername</replaceable></userinput></screen>

	<para>Дээр байгаа <replaceable>myusername</replaceable>-г 
	<acronym>ISP</acronym>-с өгөгдсөн хэрэглэгчийн нэрээр солих 
	шаардлагатай.</para>

	<screen>ppp ON example&gt; <userinput>set authkey <replaceable>mypassword</replaceable></userinput></screen>

	<para>Дээр байгаа <replaceable>mypassword</replaceable>-г 
	<acronym>ISP</acronym>-с өгөгдсөн нууц үгээр солих 
	шаардлагатай.</para>

	<para>Хэрэв та зүгээр холбогдсон мөртлөө ямар ч домэйн нэр 
	олохгүй байгаа юм шиг байвал &man.ping.8; тушаалыг 
	<acronym>IP</acronym> хаягтай ашиглаж ямар нэг мэдээлэл буцаж 
	ирж байгаа эсэхийг шалгах хэрэгтэй. Хэрэв та  100 хувийн (100%) 
	пакетийн алдагдалд орж байвал танд бараг л анхдагч чиглүүлэлт заагдаагүй 
	байгаа гэсэн үг юм. Холболтын үеэр 
	<option>add default HISADDR</option> тохируулга тохируулагдсан 
	эсэхийг давхар шалгаарай. Хэрэв та алсын <acronym>IP</acronym> 
	хаяг уруу холбогдож чадаж байвал нэр танигчийн хаяг <filename>/etc/resolv.conf</filename> 
	файлд нэмэгдээгүй байх магадлалтай юм. Энэ файл нь иймэрхүү 
	харагдах ёстой:</para>

	<programlisting>domain <replaceable>example.com</replaceable>
nameserver <replaceable>x.x.x.x</replaceable>
nameserver <replaceable>y.y.y.y</replaceable></programlisting>

	<para>Дээр байгаа <replaceable>x.x.x.x</replaceable> болон
	  <replaceable>y.y.y.y</replaceable> нь таны 
	<acronym>ISP</acronym>-ийн DNS серверүүдийн 
	<acronym>IP</acronym> хаягаар солигдох ёстой. Таныг үйлчилгээнд 
	эхэлж бүртгүүлэхэд энэ мэдээлэл өгөгдсөн юм уу эсвэл өгөгдөөгүй байж болох 
	бөгөөд өөрийн <acronym>ISP</acronym> уруугаа хурдхан утасдаж 
	энэ мэдээллийг мэдэж болох юм.</para>

	<para>Та өөрийн <application>PPP</application> холболтондоо 
	зориулж &man.syslog.3;-г бүртгэл бичихээр болгож болно.
	  Дараах:</para>

	<programlisting>!ppp
*.*     /var/log/ppp.log</programlisting>

	<para>мөрийг <filename>/etc/syslog.conf</filename> файлд нэмнэ. 
	Ихэнх тохиолдолд энэ боломж аль хэдийн орсон байдаг.</para>

      </sect3>
    </sect2>
  </sect1>




  <sect1 id="pppoe">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Жим</firstname>
          <surname>Мок</surname>
          <contrib>Хувь нэмэр болгон (http://node.to/freebsd/how-tos/how-to-freebsd-pppoe.html хаягаас) оруулсан </contrib>
	</author>
      </authorgroup>
      <!-- 10 Jan 2000 -->
    </sect1info>

    <title>Ethernet дээгүүр PPP ашиглах нь (PPPoE)</title>
    <indexterm><primary>PPP</primary><secondary>Ethernet дээгүүр</secondary></indexterm>
    <indexterm>
      <primary>PPPoE</primary>
      <see>PPP, Ethernet дээгүүр</see>
    </indexterm>

    <para>Энэ хэсэг нь Ethernet дээгүүр PPP (<acronym>PPPoE</acronym>) 
	хэрхэн тохируулах талаар тайлбарлах болно.</para>

    <sect2>
      <title>Цөмийг тохируулах нь</title>

      <para>Одоо PPPoE-д зориулсан цөмийн тохиргоо шаардлагатай байхаа больжээ.
	Хэрэв шаардлагатай netgraph-ийн дэмжлэг цөмд бүтээгдээгүй бол энэ нь 
	динамикаар <application>ppp</application>-ээр дуудагдах болно.</para>
    </sect2>

    <sect2>
      <title><filename>ppp.conf</filename> файлыг тохируулах</title>

      <para>Энд ажилладаг <filename>ppp.conf</filename> 
	файлын жишээ байна:</para>

      <programlisting>default:
  set log Phase tun command # you can add more detailed logging if you wish
  set ifaddr 10.0.0.1/0 10.0.0.2/0

name_of_service_provider:
  set device PPPoE:<replaceable>xl1</replaceable> # replace xl1 with your Ethernet device
  set authname YOURLOGINNAME
  set authkey YOURPASSWORD
  set dial
  set login
  add default HISADDR</programlisting>

    </sect2>

    <sect2>
      <title><application>ppp</application>-г ажиллуулах</title>

      <para><username>root</username> хэрэглэгчээр та доор дурдсаныг ажиллуулж болно:</para>

      <screen>&prompt.root; <userinput>ppp -ddial name_of_service_provider</userinput></screen>

    </sect2>

    <sect2>
      <title><application>ppp</application>-г ачаалах үед эхлүүлэх</title>

      <para>доор дурдсаныг өөрийн <filename>/etc/rc.conf</filename> файлд нэмнэ:</para>

      <programlisting>ppp_enable="YES"
ppp_mode="ddial"
ppp_nat="YES"	# if you want to enable nat for your local network, otherwise NO
ppp_profile="name_of_service_provider"</programlisting>
    </sect2>

    <sect2>
      <title>PPPoE үйлчилгээний хаягийг ашиглах</title>

      <para>Заримдаа өөрийн холболтыг хийхийн тулд үйлчилгээний хаягийг ашиглах 
	шаардлагатай болж болох юм. Үйлчилгээний хаягууд нь өгөгдсөн сүлжээнд 
	залгагдсан өөр өөр PPPoE серверүүдийг ялгахын тулд хэрэглэгддэг.</para>

      <para>Таны ISP-ээс өгсөн баримтад шаардлагатай үйлчилгээний хаягийн мэдээлэл
	байх ёстой. Хэрэв та ийм мэдээлэл олоогүй бол өөрийн ISP-ийн техникийн 
	дэмжлэг үзүүлэгч ажилтнаас асуугаарай.</para>

      <para>Хамгийн сүүлд та <link linkend="ports">Портын цуглуулга</link>д 
	байх <ulink url="http://www.roaringpenguin.com/pppoe/">Архирах Оцон шувуу
	PPPoE</ulink> хаягт санал болгосон аргыг туршиж болох юм. Гэхдээ 
	энэ нь таны модемийг буцаан програмчилж ажиллагаагүй болгож магадгүй 
	болохоор үүнийг хийхээсээ өмнө дахин бодоорой. Таны үйлчилгээ үзүүлэгчийн 
	модемтой цуг ирсэн програмыг ердөө л суулгаарай. Дараа нь програмаас 
	<guimenu>System</guimenu> цэсд хандаарай. Таны тохиргооны нэр 
	тэнд жагсаагдсан байх ёстой. Энэ нь ихэвчлэн <emphasis>ISP</emphasis> 
	гэж байдаг.</para>

      <para>Тохиргооны нэр (үйлчилгээний хаяг) нь <filename>ppp.conf</filename> 
	файл дахь PPPoE тохиргооны оруулгад <command>set device</command> 
	тушаалын үйлчилгээ үзүүлэгч хэсэг болон ашиглагдах болно (бүрэн мэдээллийг 
	&man.ppp.8; гарын авлагын хуудаснаас үзнэ үү). Энэ нь иймэрхүү 
	харагдах ёстой:</para>

      <programlisting>set device PPPoE:<replaceable>xl1</replaceable>:<replaceable>ISP</replaceable></programlisting>

      <para><replaceable>xl1</replaceable>-г өөрийн Ethernet картны  
	зөв төхөөрөмжөөр солихоо мартуузай.</para>
      <para><replaceable>ISP</replaceable> гэснийг дээрх дөнгөж 
	олсон тохиргоогоор солихоо мартуузай.</para>

      <para>Нэмэлт мэдээллийг доорх хаягуудаас үзнэ үү:</para>

      <itemizedlist>
	<listitem>
	  <para>Рено Валдурагийн <ulink
	    url="http://renaud.waldura.com/doc/freebsd/pppoe/">DSL дээр 
		FreeBSD-ээр арай хямд өргөн зурвас ашиглах (Cheaper
	    Broadband with FreeBSD on DSL)</ulink>.</para>
	</listitem>

	<listitem>
	  <para>Удо Эрделхоффийн <ulink
	      url="http://www.ruhr.de/home/nathan/FreeBSD/tdsl-freebsd.html">
	      Nutzung von T-DSL und T-Online mit FreeBSD</ulink>
	    (Герман хэл дээр).</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="ppp-3com">

      <title>&tm.3com; <trademark class="registered">HomeConnect</trademark> ADSL Хос Холбоос Модемтой PPPoE</title>

      <para>Энэ модем нь <ulink
	url="http://www.faqs.org/rfcs/rfc2516.html">RFC 2516</ulink>
	(Л. Мамакос, К. Лидл, Ж. Эвартс,
	Д. Каррел, Д. Симоне, болон Р. Вийлэр нарын бичсэн 
	<emphasis>PPP-г Ethernet дээгүүр (PPPoE) дамжуулах арга
	</emphasis>) стандартыг дагадаггүй. Харин Ethernet хүрээнүүдийн 
	хувьд пакетийн төрлийн өөр кодуудыг ашигладаг. Хэрэв та үүнийг 
	PPPoE-ийн тодорхойлолтыг мөрдөх ёстой гэж бодож байгаа бол 
	<ulink url="http://www.3com.com/">3Com</ulink> уруу 
	гомдоллоно уу.</para>

      <para>Энэ төхөөрөмжтэй FreeBSD-г холбогдох боломжтой болгохын тулд 
	sysctl тохируулагдах ёстой. <filename>/etc/sysctl.conf</filename> 
	файлыг шинэчилж ачаалалтын үед энэ нь автоматаар хийгдэж болно:</para>

	<programlisting>net.graph.nonstandard_pppoe=1</programlisting>

      <para>эсвэл дараах тушаалаар нэн даруй хийгдэж болно:</para>

      <screen>&prompt.root; <userinput>sysctl net.graph.nonstandard_pppoe=1</userinput></screen>

      <para>Харамсалтай нь энэ нь системийн дагуух тохиргоо болохоор 
	хэвийн PPPoE клиент эсвэл сервер болон 
	&tm.3com; <trademark class="registered">HomeConnect</trademark> ADSL 
	модемтой нэгэн зэрэг холбогдох боломжгүй болох юм.</para>

    </sect2>
  </sect1>

  <sect1 id="pppoa">
    <title>ATM дээгүүр <application>PPP</application> (PPPoA) ашиглах</title>
    <indexterm><primary>PPP</primary><secondary>ATM дээгүүр</secondary></indexterm>
    <indexterm>
      <primary>PPPoA</primary>
      <see>PPP, ATM дээгүүр</see>
    </indexterm>

    <para>Дараах нь ATM дээгүүр PPP-г (PPPoA) хэрхэн тохируулах талаар тайлбарлана. 
	PPPoA нь Европийн DSL үзүүлэгчдийн дунд алдартай сонголт болдог.</para>

    <sect2>
      <title>Alcatel &speedtouch; USB-тэй PPPoA-г ашиглах нь</title>

      <para>Энэ төхөөрөмжийн PPPoA дэмжлэг нь FreeBSD-д порт хэлбэрээр 
	байдаг. Учир нь үүний firmware <ulink
	url="http://www.speedtouchdsl.com/disclaimer_lx.htm">Alcatel-ийн лицензийн 
	гэрээ</ulink>гээр түгээгддэг бөгөөд FreeBSD-ийн үндсэн системтэй цуг 
	чөлөөтэй түгээгдэж болдоггүй.</para>

      <para>Програм хангамжийг суулгахын тулд ердөө л <link
	  linkend="ports">Портуудын цуглуулгыг</link> ашиглана. 
	<filename role="package">net/pppoa</filename> портыг суулгаад 
	түүнтэй хамт ирсэн заавруудыг дагаарай.</para>

      <para>Олон USB төхөөрөмжүүдийн адил Alcatel-ийн &speedtouch; USB нь 
	зөв ажиллахын тулд хост компьютераас firmware татах хэрэгтэй болдог. 
	&os; дээр энэ дамжуулалт нь төхөөрөмж USB порт уруу холбогдсон үед хийгдэхээр 
	болгож энэ процессийг автоматчилах боломжтой. Энэ автомат firmware дамжуулалтыг 
	идэвхжүүлэхийн тулд дараах мэдээллийг <filename>/etc/usbd.conf</filename> 
	файлд нэмж болох юм. Энэ файлыг <username>root</username> 
	хэрэглэгчээр засварлах шаардлагатай.</para>

      <programlisting>device "Alcatel SpeedTouch USB"
    devname "ugen[0-9]+"
    vendor 0x06b9
    product 0x4061
    attach "/usr/local/sbin/modem_run -f /usr/local/libdata/mgmt.o"</programlisting>

     <para><application>usbd</application> USB дэмонг идэвхжүүлэхийн тулд 
	дараах мөрийг <filename>/etc/rc.conf</filename> файлд 
	нэмнэ:</para>

     <programlisting>usbd_enable="YES"</programlisting>

     <para>Эхлүүлэхэд залгадаг байхаар <application>ppp</application>-г 
	тохируулах боломжтой байдаг. Үүнийг хийхийн тулд дараах мөрүүдийг 
	<filename>/etc/rc.conf</filename> файлд нэмнэ. 
	Ахин хэлэхэд энэ процедурын хувьд та <username>root</username> 
	хэрэглэгчээр нэвтрэн орох хэрэгтэй болно.</para>

     <programlisting>ppp_enable="YES"
ppp_mode="ddial"
ppp_profile="adsl"</programlisting>

     <para>Үүнийг зөв ажиллуулахын тулд та <filename role="package">net/pppoa</filename> 
	порттой цуг ирсэн <filename>ppp.conf</filename> файлыг ашиглах 
	хэрэгтэй болно.</para>
     
    </sect2>

    <sect2>
      <title>mpd ашиглах нь</title>

      <para>Та төрөл бүрийн үйлчилгээнүүдэд ялангуяа PPTP үйлчилгээнүүдэд 
	холбогдохын тулд <application>mpd</application>-г ашиглаж болно.
	Та <application>mpd</application>-г Портуудын цуглуулга 
	<filename role="package">net/mpd</filename> сангаас  
	олж болно. Олон ADSL модемууд нь модем болон компьютерийн 
	хооронд PPTP хоолой үүсгэгдсэн байхыг шаарддаг бөгөөд тийм модемийн 
	нэг нь Alcatel &speedtouch; Home юм.</para>

      <para>Та эхлээд портоо суулгах ёстой бөгөөд дараа нь өөрийн шаардлага болон 
	үйлчилгээ үзүүлэгчийн тохиргоонуудад тааруулан <application>mpd</application>-г 
	тохируулж болно. Порт нь жишээ тохиргооны файлуудыг байрлуулдаг бөгөөд 
	эдгээр нь <filename class="directory"><replaceable>PREFIX</replaceable>/etc/mpd/</filename>-д 
	сайн баримтжуулагдсан байдаг. Энд нэг юмыг тэмдэглэх хэрэгтэй. 
	<replaceable>PREFIX</replaceable> гэдэг нь таны портууд 
	суулгагдсан сан бөгөөд анхдагчаар <filename class="directory">/usr/local/</filename> 
	байдаг. <application>mpd</application>-г тохируулах бүрэн заавар 
	порт суулгагдсаны дараа HTML хэлбэрээр орсон байдаг. Энэ нь 
	<filename class="directory"><replaceable>PREFIX</replaceable>/share/doc/mpd/</filename> 
	санд байрладаг. Энд <application>mpd</application>-ээр ADSL 
	үйлчилгээнд холбогдох жишээ тохиргоо байна. Тохиргоо нь хоёр файлаас 
	тогтох бөгөөд эхний <filename>mpd.conf</filename> нь ийм байна:</para>

      <programlisting>default:
    load adsl

adsl:
    new -i ng0 adsl adsl
    set bundle authname <replaceable>username</replaceable> <co
    id="co-mpd-ex-user">
    set bundle password <replaceable>password</replaceable> <co
    id="co-mpd-ex-pass">
    set bundle disable multilink
    
    set link no pap acfcomp protocomp
    set link disable chap
    set link accept chap
    set link keep-alive 30 10
    
    set ipcp no vjcomp
    set ipcp ranges 0.0.0.0/0 0.0.0.0/0
    
    set iface route default
    set iface disable on-demand
    set iface enable proxy-arp
    set iface idle 0

    open</programlisting>

    <calloutlist>
      <callout arearefs="co-mpd-ex-user">
        <para>Таны ISP-тай холбогдон өөрийгөө таниулан нэвтрэх хэрэглэгчийн нэр.</para>
      </callout>
      <callout arearefs="co-mpd-ex-pass">
        <para>Таны ISP-тай холбогдон өөрийгөө таниулан нэвтрэх нууц үг.</para>
      </callout>
    </calloutlist>

    <para><filename>mpd.links</filename> файл нь таны хийхийг хүссэн холбоос эсвэл 
	холбоосуудын тухай мэдээллийг агуулдаг. Дээрх жишээнд тохирох харгалзах жишээ 
	<filename>mpd.links</filename> файлыг доор үзүүлэв:</para>

    <programlisting>adsl:
    set link type pptp
    set pptp mode active
    set pptp enable originate outcall
    set pptp self <replaceable>10.0.0.1</replaceable> <co
    id="co-mpd-ex-self">
    set pptp peer <replaceable>10.0.0.138</replaceable> <co
    id="co-mpd-ex-peer"></programlisting>

    <calloutlist>
      <callout arearefs="co-mpd-ex-self">
	<para>Таны <application>mpd</application> ашиглах 
	&os; компьютерийн IP хаяг.</para>
      </callout>
      <callout arearefs="co-mpd-ex-peer">
	<para>Таны ADSL модемийн IP хаяг. Alcatel
	  &speedtouch; Home-ийн хувьд энэ хаяг нь анхдагчаар <hostid
	  role="ipaddr">10.0.0.138</hostid> байна.</para>
      </callout>
    </calloutlist>

    <para>Дараах тушаалыг <username>root</username>-ээр ажиллуулж 
	холболтыг хялбараар эхлүүлэх боломжтой байдаг:</para>

    <screen>&prompt.root; <userinput>mpd -b <replaceable>adsl</replaceable></userinput></screen>

    <para>Та холболтын төлөвийг дараах тушаалаар харж болно:</para>

    <screen>&prompt.user; <userinput>ifconfig <replaceable>ng0</replaceable></userinput>
ng0: flags=88d1&lt;UP,POINTOPOINT,RUNNING,NOARP,SIMPLEX,MULTICAST&gt; mtu 1500
     inet 216.136.204.117 --> 204.152.186.171 netmask 0xffffffff</screen>
    
    <para>&os; дээр ADSL үйлчилгээнд холбогдохын тулд <application>mpd</application>-г 
	ашиглахыг зөвлөдөг юм.</para>
    
    </sect2>

    <sect2>
      <title>pptpclient ашиглах нь</title>
	  
      <para>Мөн бусад PPPoA үйлчилгээнүүдэд FreeBSD-ээр холбогдохын тулд 
	<filename role="package">net/pptpclient</filename> 
	ашиглах боломжтой байдаг.</para>
	  
      <para><filename role="package">net/pptpclient</filename>-г ашиглан 
	DSL үйлчилгээнд холбогдохын тулд порт болон багцыг суулгаад өөрийн 
	<filename>/etc/ppp/ppp.conf</filename> файлыг засварлана. 
	Эдгээр үйлдлүүдийг хийж гүйцэтгэхийн тулд та <username>root</username> 
	болсон байх ёстой. <filename>ppp.conf</filename> файлын 
	жишээ хэсгийг доор үзүүлэв. <filename>ppp.conf</filename>-ийн 
	тохируулгуудын тухай илүү мэдээллийг <application>ppp</application> 
	гарын авлагын хуудас &man.ppp.8;-с лавлана уу.</para>

      <programlisting>adsl:
 set log phase chat lcp ipcp ccp tun command
 set timeout 0
 enable dns
 set authname <replaceable>username</replaceable> <co id="co-pptp-ex-user">
 set authkey <replaceable>password</replaceable> <co id="co-pptp-ex-pass">
 set ifaddr 0 0
 add default HISADDR</programlisting>

   <calloutlist>
     <callout arearefs="co-pptp-ex-user">
	   <para>DSL үйлчилгээ үзүүлэгчтэй холбогдох таны бүртгэлийн 
		хэрэглэгчийн нэр.</para>
	 </callout>
	 <callout arearefs="co-pptp-ex-pass">
	   <para>Таны бүртгэлийн нууц үг.</para>
	 </callout>
   </calloutlist>

   <warning>
     <para>Та өөрийн бүртгэлийн нууц үгийг <filename>ppp.conf</filename> 
	файлд цэвэр текст хэлбэрээр тавих ёстой болохоор энэ файлын агуулгыг 
	хэн ч уншиж чадахгүй болгосон эсэхээ шалгах хэрэгтэй. Дараах сери 
	тушаалууд нь энэ файлыг зөвхөн <username>root</username> 
	бүртгэлээр уншигдахаар болгох юм. Дэлгэрэнгүй мэдээллийг 
	&man.chmod.1; болон &man.chown.8; гарын авлагын хуудаснуудаас 
	лавлана уу.</para>
	 <screen>&prompt.root; <userinput>chown root:wheel /etc/ppp/ppp.conf</userinput>
&prompt.root; <userinput>chmod 600 /etc/ppp/ppp.conf</userinput></screen>
   </warning>

      <para>Энэ нь PPP сессэд зориулан таны DSL чиглүүлэгч уруу хоолой нээх болно. 
	Ethernet DSL модемууд нь LAN IP хаягаар урьдчилан тохируулагдсан байдаг 
	бөгөөд та түүн уруу холбогдоно. Alcatel &speedtouch; Home-ийн 
	хувьд энэ хаяг нь <hostid role="ipaddr">10.0.0.138</hostid> байна. 
	Таны чиглүүлэгчийн баримтад төхөөрөмж ямар хаяг ашиглаж байгааг хэлсэн 
	байх ёстой. Хоолой нээж PPP сесс эхлүүлэхийн тулд дараах тушаалыг 
	ажиллуулна:</para>

      <screen>&prompt.root; <userinput>pptp <replaceable>address</replaceable> <replaceable>adsl</replaceable></userinput></screen>

      <tip>
	<para>Та өмнөх тушаалын төгсгөлд <quote>&amp;</quote> тэмдгийг 
	нэмэхийг хүсэж болох юм. Ингэхгүй бол <application>pptp</application> нь 
	танд тушаал хүлээх мөрийг буцаадаггүй.</para>
      </tip>
	  
      <para><devicename>tun</devicename> виртуал хоолой төхөөрөмж нь 
	<application>pptp</application> болон <application>ppp</application> 
	процессуудын хоорондох харилцаанд зориулан үүсгэгдэх болно. Тушаал хүлээх 
	мөрөнд буцаж ирснийхээ дараа юм уу эсвэл <application>pptp</application> нь 
	холболтыг баталгаажуулсны дараа та хоолойг ингэж шалгаж болно:</para>

      <screen>&prompt.user; <userinput>ifconfig <replaceable>tun0</replaceable></userinput>
tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
        inet 216.136.204.21 --> 204.152.186.171 netmask 0xffffff00 
        Opened by PID 918</screen>

      <para>Хэрэв та холбогдож чадахгүй байгаа бол өөрийн чиглүүлэгчийн тохиргоог 
	шалгаарай. Энэ нь ихэвчлэн <application>telnet</application> 
	юм уу эсвэл вэб хөтчөөр хандах боломжтой байдаг. Хэрэв та холбогдож 
	чадахгүй хэвээр байвал <command>pptp</command> тушаалын 
	гаралт болон <application>ppp</application> бүртгэлийн 
	файл <filename>/var/log/ppp.log</filename>-оос ямар нэг 
	сэжүүр байгаа эсэхийг шалгах хэрэгтэй.</para>
    </sect2>
  </sect1>

  <sect1 id="slip">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Сатоши</firstname>
	  <surname>Асами</surname>
	  <contrib>Анхлан хувь нэмэр болгон оруулсан </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Гай</firstname>
	  <surname>Хэлмер</surname>
	  <contrib>Зарим хэсгийг оруулсан </contrib>
	</author>
	<author>
	  <firstname>Пьеро</firstname>
          <surname>Серини</surname>
	</author>
      </authorgroup>
    </sect1info>

    <title>SLIP ашиглах</title>
    <indexterm><primary>SLIP</primary></indexterm>

    <warning>
      <para>Энэ хэсэг зөвхөн 
        &os;&nbsp;7.X хувилбаруудад зориулагдсан.</para>
    </warning>

    <sect2 id="slipc">
      <title>SLIP клиент тохируулах</title>
      <indexterm><primary>SLIP</primary><secondary>клиент</secondary></indexterm>
      <para>Дараах нь FreeBSD машиныг SLIP-д зориулан статик хост сүлжээн дээр тохируулах 
	нэг арга юм. Динамикаар хостын нэрийг өгөхийн тулд (таныг залгаж холбогдох болгонд 
	таны хаяг өөрчлөгддөг) танд илүү төвөгтэй тохируулга хэрэгтэй болох байх.</para>

      <para>Эхлээд таны модем аль цуваа портод холбогдсоныг тодорхойлно. Олон хүн 
	<filename class="devicefile">/dev/modem</filename> гэх зэргээр жинхэнэ төхөөрөмжийн нэр 
	<filename class="devicefile">/dev/cuad<replaceable>N</replaceable></filename> 
	уруугаа заасан симболын холбоосыг тохируулдаг. Энэ нь модемийг өөр порт уруу 
	шилжүүлэх шаардлагатай болсон тохиолдолд жинхэнэ төхөөрөмжийн нэрийг хийсвэрлэх 
	боломжийг танд олгож байгаа юм. Бүх системийн дагуу <filename class="directory">/etc</filename> 
	дэх олон файлууд болон <filename>.kermrc</filename> файлуудыг засварлах 
	шаардлагатай болох үед энэ нь нэлээн ярвигтай болж ирдэг!</para>

      <note>
	<para><filename class="devicefile">/dev/cuad0</filename> нь 
	  <devicename>COM1</devicename>, <filename class="devicefile">/dev/cuad1</filename> нь 
	  <devicename>COM2</devicename>, гэх мэт.</para>
      </note>

      <para>Өөрийн цөмийн тохиргооны файлд дараах нь байгаа эсэхийг шалгаарай:</para>
      
      <programlisting>device   sl</programlisting>

      <para>Энэ нь <filename>GENERIC</filename> цөмд орсон байдаг бөгөөд 
	та түүнийг устгаагүй л бол энэ нь асуудал биш юм.</para>

      <sect3>
	<title>Зөвхөн нэг удаа хийх зүйлс</title>

	<procedure>
	  <step>
	    <para>Өөрийн гэр машин, гарц болон нэрийн серверүүдийг өөрийн 
		<filename>/etc/hosts</filename> файлд нэмнэ. Биднийх 
		иймэрхүү харагдах болно:</para>

	    <programlisting>127.0.0.1               localhost loghost
136.152.64.181          water.CS.Example.EDU water.CS water
136.152.64.1            inr-3.CS.Example.EDU inr-3 slip-gateway
128.32.136.9            ns1.Example.EDU ns1
128.32.136.12           ns2.Example.EDU ns2</programlisting>
	  </step>

	  <step>
	    <para>Өөрийн <filename>/etc/nsswitch.conf</filename> файлын 
	        <literal>hosts:</literal> хэсэгт <literal>files</literal> 
		мөр нь <literal>dns</literal> мөрөөс өмнө байгаа эсэхийг шалгаарай. 
		Эдгээр параметрүүдгүй бол сонин зүйлс болж магадгүй юм.</para>
	  </step>

	  <step>
	    <para><filename>/etc/rc.conf</filename> файлыг засна.</para>

	    <orderedlist>
	      <listitem>
		<para>Дараах мөрийг засварлаж өөрийн хостын нэрийг тохируулна:</para>
	      
		<programlisting>hostname="myname.my.domain"</programlisting>

		<para>Таны машины Интернэтийн бүрэн хостын нэрийг энд тавих ёстой.</para>
	      </listitem>

	      <indexterm><primary>анхдагч чиглүүлэлт</primary></indexterm>
	      <listitem>
		<para>Дараах мөрийг өөрчилж анхдагч чиглүүлэлт:</para>

		<programlisting>defaultrouter="NO"</programlisting>

		<para>гэдгийг:</para>

		<programlisting>defaultrouter="slip-gateway"</programlisting>
		<para>болгоно.</para>
	      </listitem>
	    </orderedlist>
	  </step>

	  <step>
	    <para>доор дурдсаныг агуулсан <filename>/etc/resolv.conf</filename> файл 
		үүсгэнэ:</para>

	    <programlisting>domain CS.Example.EDU
nameserver 128.32.136.9
nameserver 128.32.136.12</programlisting>

	    <indexterm><primary>нэрийн сервер</primary></indexterm>
	    <indexterm><primary>домэйн нэр</primary></indexterm>
	    <para>Таны харж байгаагаар эдгээр нь нэрийн серверийн хостуудыг 
		тохируулж байна. Мэдээж жинхэнэ домэйн нэрс болон хаягууд нь 
		таны орчноос хамаарна.</para>
	  </step>

	  <step>
	    <para><username>root</username> болон 
		<username>toor</username> (нууц үггүй бусад бүртгэлүүдийн) нууц үгийг 
		тохируулна.</para>
	  </step>

	  <step>
	    <para>Өөрийн машиныг дахин ачаалж зөв хостын нэртэйгээр ачаалсан 
		эсэхийг нь шалгаарай.</para>
	  </step>
	</procedure>
      </sect3>

      <sect3>
	<title>SLIP холболт хийх нь</title>
	<indexterm><primary>SLIP</primary><secondary>холболт хийх нь</secondary></indexterm>
	<procedure>
	  <step>
	    <para>Залгаад хүлээх мөрөн дээр <command>slip</command> гэж 
		бичээд өөрийн машины нэр болон нууц үгийг оруулна. Юу оруулах 
		шаардлагатай нь таны орчноос хамаарна. Хэрэв та <application>Kermit</application> 
		ашиглаж байгаа бол та иймэрхүү скриптийг ажиллуулахаар оролдож 
		болно:</para>

	    <programlisting># kermit setup
set modem hayes
set line /dev/modem
set speed 115200
set parity none
set flow rts/cts
set terminal bytesize 8
set file type binary
# The next macro will dial up and login
define slip dial 643-9600, input 10 =&gt;, if failure stop, -
output slip\x0d, input 10 Username:, if failure stop, -
output silvia\x0d, input 10 Password:, if failure stop, -
output ***\x0d, echo \x0aCONNECTED\x0a</programlisting>

	    <para>Мэдээж өөртөө тааруулаад өөрийн хэрэглэгчийн нэр болон 
		нууц үгийг солих хэрэгтэй. Ингэснийхээ дараа та 
		<application>Kermit</application>-ийн хүлээх мөрөөс 
		холбогдохын тулд <command>slip</command> гэж бичих 
		хэрэгтэй.</para>

	    <note>
	      <para>Файлын системд хаа нэгтээ өөрийн нууц үгийг цэвэр текстээр 
		үлдээх нь ерөнхийдөө <emphasis>буруу</emphasis> юм. 
		Үүнийг хийх нь аз туршсан явдал юм.</para>
	    </note>
	  </step>

	  <step>
	    <para><application>Kermit</application>-г тэнд нь үлдээж (та үүнийг 
	      <keycombo>
		<keycap>Ctrl</keycap>
		<keycap>z</keycap>
	      </keycombo> хослолоор зогсоож болно) <username>root</username>-ээр 
		дараах тушаалыг бичнэ:</para>

	    <screen>&prompt.root; <userinput>slattach -h -c -s 115200 /dev/modem</userinput></screen>

	    <para>Хэрэв та чиглүүлэгчийн нөгөө талд байгаа хостууд уруу 
		<command>ping</command> хийж чадаж байвал та холбогдсон байна!
		Хэрэв энэ нь ажиллахгүй байгаа бол <command>slattach</command> 
		тушаалд <option>-c</option> нэмэлт өгөгдлийн оронд 
		<option>-a</option>-г тавьж оролдоод үзээрэй.</para>
	  </step>
	</procedure>
      </sect3>

      <sect3>
	<title>Холболтыг хэрхэн зогсоох вэ</title>

	<para>доор дурдсаныг хийж:</para>

	<screen>&prompt.root; <userinput>kill -INT `cat /var/run/slattach.modem.pid`</userinput></screen>

	<para><command>slattach</command>-г зогсооно.  Дээр дурдсаныг хийхийн тулд 
	<username>root</username> байх шаардлагатайг санаарай. Дараа нь 
	<command>kermit</command> уруугаа (хэрэв та түр зогсоосон бол <command>fg</command> тушаалыг 
	ажиллуулан) буцаж түүнээс гарна (<keycap>q</keycap>).</para>

	<para>&man.slattach.8; гарын авлагын хуудсанд 
	интерфэйсийг зогссон гэж тэмдэглэхийн тулд <command>ifconfig sl0 down</command> 
	тушаалыг ашиглах ёстой гэсэн байдаг боловч энэ нь 
	ямар ч өөрчлөлт хийдэггүй юм шиг санагддаг. 
	(<command>ifconfig sl0</command> тушаал нь бас үүнтэй
	адилыг гаргадаг.)</para>

	<para>Заримдаа таны модем зөөгчийг унагахаасаа татгалзаж болох юм. Тийм тохиолдолд 
	ердөө л дахин <command>kermit</command>-г ажиллуулаад тэгээд түүнээс гарах 
	хэрэгтэй. Энэ нь ихэвчлэн хоёр дахь оролдлогод болдог.</para>
      </sect3>

      <sect3>
	<title>Алдааг олж засварлах</title>

	<para>Хэрэв энэ нь ажиллахгүй байгаа бол &a.net.name; захидлын жагсаалтаас чөлөөтэй 
	асуугаарай. Одоогоор хүмүүсийн аялж мэдсэн зүйлс гэх юм бол:</para>

	<itemizedlist>
	  <listitem>
	    <para><command>slattach</command> тушаалд 
		<option>-c</option> эсвэл <option>-a</option> тохируулгуудыг 
		ашиглахгүй байх (энэ нь мөхлийн байх ёсгүй, гэхдээ энэ нь зарим хэрэглэгчдийн 
		асуудлуудыг шийддэг гэж бичсэн байдаг.)</para>
	  </listitem>

	  <listitem>
	    <para><option>sl0</option>-ийн оронд <option>s10</option> 
		тохируулгыг ашиглах (зарим фонтууд дээр ялгааг нь олж харах 
		хэцүү байж болох юм).</para>
	  </listitem>

	  <listitem>
	    <para>Өөрийн интерфэйсийн төлөвийг харахын тулд <command>ifconfig sl0</command> 
		тушаалыг ажиллуулж үзээрэй. Жишээ нь та иймэрхүү дүн харж болох юм:</para>

	    <screen>&prompt.root; <userinput>ifconfig sl0</userinput>
sl0: flags=10&lt;POINTOPOINT&gt;
        inet 136.152.64.181 --&gt; 136.152.64.1 netmask ffffff00</screen>
	  </listitem>

	  <listitem>
	    <para>Хэрэв та &man.ping.8; тушаалаас <errorname>no route to host</errorname> 
		мэдэгдлүүдийг авах юм бол таны чиглүүлэлтийн хүснэгтэд асуудал байж 
		болзошгүй юм. Тухайн үед байгаа чиглүүлэлтүүдийг үзүүлэхийн тулд 
		<command>netstat -r</command> тушаалыг ашиглаж болно :</para>

	    <screen>&prompt.root; <userinput>netstat -r</userinput>
Routing tables
Destination      Gateway            Flags     Refs     Use  IfaceMTU    Rtt    Netmasks:

(root node)
(root node)

Route Tree for Protocol Family inet:
(root node) =&gt;
default          inr-3.Example.EDU  UG          8   224515  sl0 -      -
localhost.Exampl localhost.Example. UH          5    42127  lo0 -       0.438
inr-3.Example.ED water.CS.Example.E UH          1        0  sl0 -      -
water.CS.Example localhost.Example. UGH        34 47641234  lo0 -       0.438
(root node)</screen>

	    <para>Өмнөх жишээнүүд нь харьцангуй завгүй байгаа системүүдийнх юм. 
		Таны систем дээрх тоонууд нь сүлжээний ачааллаас хамаарч өөр 
		өөр байх болно.</para>

	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2 id="slips">
      <title>SLIP сервер тохируулах нь</title>
      <indexterm><primary>SLIP</primary><secondary>сервер</secondary></indexterm>

      <para>Энэхүү баримт нь FreeBSD систем дээр SLIP серверийн үйлчилгээнүүдийг 
	тохируулахад зориулсан зөвлөгөөнүүдийг санал болгодог. Энэ нь юу гэсэн үг вэ 
	гэхээр алсын SLIP клиентүүдийн нэвтрэлтийн үед холболтуудыг автоматаар эхлүүлэхээр 
	болгож таны системийг тохируулна гэсэн үг юм.</para>

      <!-- Disclaimer is not necessarily relevant
      <para> The author has written this document based
	on his experience; however, as your system and needs may be
	different, this document may not answer all of your questions, and
	the author cannot be responsible if you damage your system or lose
	data due to attempting to follow the suggestions here.</para>
      -->

      <sect3 id="slips-prereqs">
	<title>Шаардлагатай зүйлс</title>
	<indexterm><primary>TCP/IP сүлжээ</primary></indexterm>
	<para>Энэ баримт нь өөрийн үндсэн чанарын хувьд хэт техникийн учраас тодорхой 
	мэдлэг шаардах болно. Энэ нь таныг TCP/IP сүлжээний протоколыг тодорхой 
	хэмжээгээр мэддэг бөгөөд ялангуяа сүлжээ болон цэгийн хаяглалт, 
	сүлжээний хаягийн багууд, дэд сүлжээ үүсгэх, чиглүүлэлт болон RIP зэрэг чиглүүлэлтийн 
	протоколуудыг мэддэг гэж тооцдог. SLIP үйлчилгээнүүдийг dial-up сервер дээр 
	тохируулах нь эдгээр ухагдахуунуудын тухай мэдлэгийг шаарддаг бөгөөд хэрэв та 
	эдгээрийг мэдэхгүй бол O'Reilly &amp; Associates, Inc-ийн хэвлэсэн 
	Крэг Хантын <emphasis>TCP/IP Network Administration</emphasis> 
	буюу TCP/IP сүлжээний удирдлага номыг юм уу эсвэл TCP/IP протоколуудын 
	тухай Даглас Комерийн номнуудыг уншина уу.</para>

	<indexterm><primary>модем</primary></indexterm>
	<para>Мөн таныг модемоо суулгаж өөрийн модемоор дамжин нэвтрэх боломжуудыг 
	зөвшөөрөхөөр тохируулсан байгаа гэж үздэг. Хэрэв та үүнд зориулж өөрийн 
	системийг бэлдэж амжаагүй байгаа бол dialup үйлчилгээнүүдийн тохиргооны тухай 
	мэдээллийг <xref linkend="dialup"> хэсгээс үзнэ үү. 
	Та бас цуваа портын төхөөрөмжийн драйверийн тухай мэдээлэл болон модемууд дээр 
	нэвтрэлтүүдийг хүлээн авахаар болгож системийг тохируулах тухай мэдээллийг
	&man.sio.4; болон &man.ttys.5;, &man.gettytab.5;, 
	&man.getty.8;, &amp; &man.init.8; гарын авлагын хуудаснуудаас шалгахыг 
	хүсэж болох юм. Цуваа портын параметрүүдийг 
	(шууд холбогдсон цуваа интерфэйсүүдийн хувьд <literal>clocal</literal> зэрэг)
	тохируулах тухай мэдээллийг &man.stty.1; гарын авлагын хуудаснаас үзнэ үү.</para>
      </sect3>

      <sect3>
	<title>Түргэн дүгнэлт</title>

	<para>FreeBSD-г SLIP сервер болгон ашиглах ердийн тохиргоонд дараах маягаар 
	ажилладаг: SLIP сервер нь таны FreeBSD SLIP сервер системийг гадагш залгуулдаг 
	бөгөөд <filename>/usr/sbin/sliplogin</filename>-ийг тусгай хэрэглэгчийн 
	бүрхүүл болгон ашигладаг тусгай SLIP нэвтрэх ID-аар нэвтэрдэг. 
	<command>sliplogin</command> програм нь тусгай хэрэглэгчийн хувьд таарах 
	мөрийг олохын тулд <filename>/etc/sliphome/slip.hosts</filename> файлыг 
	гүйлгэн үздэг бөгөөд хэрэв олсон бол цуваа шугамыг байгаа SLIP 
	интерфэйс уруу холбож дараа нь SLIP интерфэйсийг тохируулахын тулд 
	<filename>/etc/sliphome/slip.login</filename> бүрхүүлийн скриптийг 
	ажиллуулдаг.</para>

        <sect4>
	  <title>SLIP серверийн нэвтрэлтийн жишээ</title>

	  <para>Жишээ нь хэрэв SLIP хэрэглэгчийн ID нь <username>Shelmerg</username> 
		байсан бол <filename>/etc/master.passwd</filename> файл дахь 
		<username>Shelmerg</username>-ийн оруулга иймэрхүү байж болох 
		юм:</para>

	  <programlisting>Shelmerg:password:1964:89::0:0:Guy Helmer - SLIP:/usr/users/Shelmerg:/usr/sbin/sliplogin</programlisting>

	  <para><username>Shelmerg</username> нэвтрэх үед 
		<command>sliplogin</command> нь таарах хэрэглэгчийн ID-тай 
		мөрийг <filename>/etc/sliphome/slip.hosts</filename> 
		файлаас хайх болно, жишээ нь <filename>/etc/sliphome/slip.hosts</filename> 
		файлд дараах мөр байж болох юм:</para>

	  <programlisting>Shelmerg        dc-slip sl-helmer       0xfffffc00		  autocomp</programlisting>

	  <para><command>sliplogin</command> тушаал нь тэр таарах мөрийг 
		олох бөгөөд цуваа шугамыг дараачийн байгаа SLIP интерфэйс уруу
		залгаж дараа нь <filename>/etc/sliphome/slip.login</filename>-ийг 
		иймэрхүүгээр ажиллуулна:</para>

	  <programlisting>/etc/sliphome/slip.login 0 19200 Shelmerg dc-slip sl-helmer 0xfffffc00 autocomp</programlisting>

	  <para>Хэрэв бүгд зүгээр болж өнгөрвөл <filename>/etc/sliphome/slip.login</filename> 
		нь өөрийгөө залгасан (дээрх жишээн дээр <filename>slip.login</filename> уруу
		өгөгдсөн жагсаалтан дахь эхний параметр болох SLIP интерфэйс 0) 
		SLIP интерфэйсийн хувьд <command>ifconfig</command> 
		тушаалыг ажиллуулж локал IP хаяг (<hostid>dc-slip</hostid>), 
		алсын IP хаяг (<hostid>sl-helmer</hostid>), SLIP интерфэйсийн 
		сүлжээний баг (<hostid role="netmask">0xfffffc00</hostid>) болон 
		бусад нэмэлт тугнуудыг (<literal>autocomp</literal>) тохируулдаг.
		Хэрэв ямар нэг зүйл буруу болвол <command>sliplogin</command> нь 
		ихэвчлэн <filename>/var/log/messages</filename> уруу бүртгэх 
		<application>syslogd</application> дэмон боломжоор дамжуулан 
		боломжийн мэдээллийн чанартай мэдэгдлүүдийг ихэвчлэн бүртгэдэг. 
		(&man.syslogd.8; болон &man.syslog.conf.5;-ийн гарын авлагын 
		хуудаснуудыг үзнэ үү. <filename>/etc/syslog.conf</filename>-ийг шалгаж 
		<application>syslogd</application>-ийн юу бүртгэдэг болон хаана 
		бүртгэдгийг харна уу).</para>
	</sect4>
      </sect3>

      <sect3>
	<title>Цөмийн тохиргоо</title>
	<indexterm><primary>цөм</primary><secondary>тохиргоо</secondary></indexterm>
	<indexterm><primary>SLIP</primary></indexterm>

	<para>&os;-ийн анхдагч цөм (<filename>GENERIC</filename>) нь 
	SLIP (&man.sl.4;) дэмжлэгтэй цуг ирдэг; тухайлан өөрчилсөн цөмийн 
	хувьд бол та өөрийн цөмийн тохиргооны файлдаа дараах мөрийг нэмэх 
	хэрэгтэй:</para>

	<programlisting>device   sl</programlisting>

	<para>Анхдагчаар таны &os; машин пакетуудыг урагш дамжуулахгүй байх болно. 
	Хэрэв та өөрийн SLIP серверийг чиглүүлэгч маягаар ашиглахыг хүсвэл 
	<filename>/etc/rc.conf</filename> файлыг засварлах хэрэгтэй болох 
	бөгөөд <literal>gateway_enable</literal> хувьсагчийн тохиргоог  
	<option>YES</option> болгож өөрчлөх хэрэгтэй. Ингэж зааж өгснөөр 
	чиглүүлэлтийн тохиргоог дахин ачаалсны дараа ч тогтмол байлгадаг.</para>
 
        <para>Тохиргоог даруй идэвхтэй болгохын тулд та 
	  <username>root</username> хэрэглэгчээр дараах тушаалыг ажиллуулж болно:</para>

        <screen>&prompt.root; /etc/rc.d/routing start</screen>

	<para>FreeBSD-ийн цөмийг тохируулах талаар бичсэн <xref linkend="kernelconfig">-с 
	өөрийн цөмийг дахин тохируулах талаар лавлана уу.</para>
      </sect3>

      <sect3>
	<title>Sliplogin тохиргоо</title>

	<para>Урьд нь дурдаж байсны дагуу <filename>/usr/sbin/sliplogin</filename> файлын 
	тохиргооны хэсэг болох гурван файл <filename class="directory">/etc/sliphome</filename> санд 
	байдаг (<command>sliplogin</command>-ий талаар мэдээллийг 
	&man.sliplogin.8; гарын авлагын хуудаснаас үзнэ үү). Эдгээрт 
	SLIP хэрэглэгчид болон тэдгээрийн холбоотой IP хаягуудыг тодорхойлдог 
	<filename>slip.hosts</filename> файл, SLIP интерфэйсийг ихэвчлэн тохируулдаг 
	<filename>slip.login</filename> файл, болон (нэмэлт) 
	цуваа холболт төгссөн үед <filename>slip.login</filename>-ий 
	нөлөөллүүдийг буцаадаг <filename>slip.logout</filename> 
	файл ордог.</para>

        <sect4>
	  <title><filename>slip.hosts</filename> тохиргоо</title>

	  <para><filename>/etc/sliphome/slip.hosts</filename> нь 
		өөр хоорондоо зайгаар тусгаарлагдсан хамгийн багаар бодоход 
		дөрвөн хэсгээс тогтох мөрүүдээс тогддог:</para>

	  <itemizedlist>
	    <listitem>
	      <para>SLIP хэрэглэгчийн нэвтрэх ID</para>
	    </listitem>

	    <listitem>
	      <para>SLIP холбоосын локал хаяг (SLIP серверийн хувьд локал)</para>
	    </listitem>

	    <listitem>
	      <para>SLIP холбоосын алсын хаяг</para>
	    </listitem>

	    <listitem>
	      <para>Сүлжээний баг</para>
	    </listitem>
	  </itemizedlist>

	  <para>Локал болон алсын хаягууд нь хостын нэрс (
		<filename>/etc/nsswitch.conf</filename> файлд заасан 
		таны тодорхойлолтуудаас хамаарч <filename>/etc/hosts</filename>
		файлаар юм уу эсвэл домэйн нэрний үйлчилгээгээр IP болон 
		танигддаг) байж болох бөгөөд сүлжээний баг нь 
		<filename>/etc/networks</filename>-аас хийгдэх хайлтаар 
		танигдах нэр байж болно. Жишээ систем дээр 
		<filename>/etc/sliphome/slip.hosts</filename> нь 
		иймэрхүү харагдана:</para>

	  <programlisting>#
# login local-addr      remote-addr     mask            opt1    opt2 
#                                               (normal,compress,noicmp)
#
Shelmerg  dc-slip       sl-helmerg      0xfffffc00      autocomp</programlisting>

	  <para>Мөрийн төгсгөлд нэг буюу хэд хэд тохируулгууд байна:</para>

	  <itemizedlist>
	    <listitem>
	      <para><option>normal</option> &mdash; толгойн шахалт байхгүй</para>
	    </listitem>

	    <listitem>
	      <para><option>compress</option> &mdash; толгойнуудыг шахна</para>
	    </listitem>

	    <listitem>
	      <para><option>autocomp</option> &mdash; алсын тал толгойнуудыг шахахыг зөвшөөрөх 
		бол хийнэ</para>
	    </listitem>

	    <listitem>
	      <para><option>noicmp</option> &mdash; ICMP пакетуудыг хаана
		(таны урсгалыг дүүргэхийн оронд <quote>ping</quote> пакетууд 
		хаягдах болно)</para>
	    </listitem>
	  </itemizedlist>

  	  <indexterm><primary>SLIP</primary></indexterm>
  	  <indexterm><primary>TCP/IP сүлжээ</primary></indexterm>
	  <para>Таны SLIP холбоосуудын локал болон алсын хаягуудын сонголт 
		та TCP/IP дэд сүлжээг тусгайлан зориулах уу эсвэл өөрийн SLIP 
		сервер дээрээ <quote>proxy ARP</quote>-г 
		(энэ нь <quote>жинхэнэ</quote> proxy ARP биш боловч үүнийг 
		тайлбарлахын тулд энэ хэсэгт энэ ухагдахуун ашиглагдах болно)
		ашиглах уу гэдгээс хамаарна. Хэрэв та аль аргыг сонгохдоо 
		эсвэл IP хаягуудыг хэрхэн зааж өгөхдөө эргэлзэж байгаа бол 
		SLIP-ийн шаардлагатай зүйлс (<xref linkend="slips-prereqs">) 
		хэсэгт дурдсан TCP/IP-ийн номнууд ба/эсвэл өөрийн 
		IP сүлжээний удирдагчаас лавлана уу.</para>

	  <para>Та өөрийн SLIP клиентүүдийн хувьд тусдаа дэд сүлжээг ашиглах бол 
		та өөрийн өгөгдсөн IP сүлжээний дугаараас дэд сүлжээний дугаарыг 
		хуваарилж өөрийн SLIP клиент бүрийн IP дугааруудыг тэр дэд сүлжээнээс 
		зааж өгөх хэрэгтэй болно. Дараа нь өөрийн хамгийн ойрын чиглүүлэгч 
		дээр SLIP серверээрээ дамжуулан SLIP дэд сүлжээ уруу 
		статик чиглүүлэлт тохируулах хэрэгтэй болох болов уу.</para>

  	  <indexterm><primary>Ethernet</primary></indexterm>
	  <para>Өөрөөр, хэрэв та <quote>proxy ARP</quote> аргыг ашиглах бол 
		та өөрийн SLIP клиентийн IP хаягуудыг өөрийн SLIP серверийн 
		Ethernet дэд сүлжээнээс олгох хэрэгтэй болох бөгөөд та бас 
		SLIP серверийн ARP хүснэгт дэх <quote>proxy ARP</quote> оруулгуудыг удирдахын 
		тулд &man.arp.8;-г ашиглахаар болгож өөрийн 
		<filename>/etc/sliphome/slip.login</filename> болон
	    	<filename>/etc/sliphome/slip.logout</filename> скриптүүдийг 
		тохируулах хэрэгтэй болно.</para>
	</sect4>

	<sect4>
	  <title><filename>slip.login</filename> тохиргоо</title>

	  <para>Ердийн <filename>/etc/sliphome/slip.login</filename> файл
		иймэрхүү харагдана:</para>

	  <programlisting>#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6</programlisting>

	  <para>Энэ <filename>slip.login</filename> файл нь ердөө л 
		тохирох SLIP интерфэйсийн хувьд <command>ifconfig</command>-г 
		локал ба алсын хаягууд болон SLIP интерфэйсийн сүлжээний багтайгаар 
		ажиллуулдаг.</para>

	  <para>Хэрэв та <quote>proxy ARP</quote> аргыг ашиглахаар шийдсэн бол 
		(өөрийн SLIP клиентүүдийн хувьд тусдаа дэд сүлжээг ашиглахын оронд) 
		таны <filename>/etc/sliphome/slip.login</filename> файл 
		иймэрхүү харагдах ёстой:</para>

	  <programlisting>#!/bin/sh -
#
#       @(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6 
# Answer ARP requests for the SLIP client with our Ethernet addr
/usr/sbin/arp -s $5 00:11:22:33:44:55 pub</programlisting>

	  <para>Энэ <filename>slip.login</filename> файл дахь 
		<command>arp -s &#36;5 00:11:22:33:44:55 pub</command> тушаал нь 
		SLIP серверийн ARP хүснэгтэд ARP оруулгыг үүсгэдэг. 
		Ethernet дэх өөр IP цэг SLIP клиентийн IP хаягтай ярилцахыг 
		хүсэх үед энэ ARP оруулга нь SLIP серверийг SLIP серверийн Ethernet 
		MAC хаягаар хариулахад хүргэдэг.</para>

  	  <indexterm><primary>Ethernet</primary><secondary>MAC хаяг</secondary></indexterm>
	  <para>Дээрх жишээг ашиглаж байхдаа Ethernet MAC хаягийг (<hostid
	    role="mac">00:11:22:33:44:55</hostid>) өөрийн системийн 
		Ethernet картын MAC хаягаар солисон эсэхээ шалгаарай. Тэгэхгүй бол 
		таны <quote>proxy ARP</quote> чинь мэдээж ажиллахгүй! 
		Та өөрийн SLIP серверийн Ethernet MAC хаягийг 
		<command>netstat -i</command> тушаалыг ажиллуулан 
		гарсан үр дүнгээс нь харан олж болох юм; гарсан үр дүнгийн 
		хоёр дахь мөр иймэрхүү харагдах ёстой:</para>

	  <screen>ed0   1500  &lt;Link&gt;0.2.c1.28.5f.4a         191923	0   129457     0   116</screen>

	  <para>Энэ нь системийн Ethernet MAC хаяг нь 
		<hostid role="mac">00:02:c1:28:5f:4a</hostid> гэдгийг 
		үзүүлж байгаа юм &mdash; <command>netstat -i</command> 
		тушаалаар өгөгдсөн Ethernet MAC хаяг дахь цэгүүд нь 
		тодорхойлох хоёр цэгээр солигдох ёстой бөгөөд &man.arp.8;-ийн 
		хүсдэг хэлбэр уруу хаягийг хөрвүүлэхийн тулд ганц оронтой 
		16-тын тоо бүрийн өмнө тэг нэмэх ёстой. Ашиглалтын тухай 
		бүрэн мэдээллийг &man.arp.8; гарын авлагын хуудаснаас 
		үзнэ үү.</para>

	  <note>
	    <para><filename>/etc/sliphome/slip.login</filename> болон
	      <filename>/etc/sliphome/slip.logout</filename> файлыг үүсгэж 
		байхдаа <quote>execute</quote> буюу ажиллуулах битийг (өөрөөр хэлбэл <command>chmod 755
	      /etc/sliphome/slip.login /etc/sliphome/slip.logout</command>)
		тавих ёстой, тэгэхгүй бол <command>sliplogin</command> тушаал түүнийг 
		ажиллуулж чадахгүй байх болно.</para>
	  </note>
	</sect4>

	<sect4>
	  <title><filename>slip.logout</filename> тохиргоо</title>

	  <para><filename>/etc/sliphome/slip.logout</filename> нь 
		заавал хатуу чангаар хэрэгтэй биш (та <quote>proxy ARP</quote> 
		хийгээгүй л бол) боловч та үүнийг үүсгэхийг хүсвэл энд үндсэн 
		<filename>slip.logout</filename> 
		скриптийн жишээ байна:</para>

	  <programlisting>#!/bin/sh -
#
#       slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down</programlisting>

	  <para>Хэрэв та <quote>proxy ARP</quote> ашиглаж байгаа бол 
		SLIP клиентийн хувьд ARP оруулгыг устгах 
		<filename>/etc/sliphome/slip.logout</filename> файлтай 
		байхыг хүсэж болох юм:</para>

	  <programlisting>#!/bin/sh -
#
#       @(#)slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down
# Quit answering ARP requests for the SLIP client
/usr/sbin/arp -d $5</programlisting>

	  <para><command>arp -d &#36;5</command> тушаал нь ARP оруулгыг 
		устгаж SLIP клиент нэвтрэх үед <quote>proxy ARP</quote> 
		<filename>slip.login</filename> нэмэгддэг.</para>

	  <para><filename>/etc/sliphome/slip.logout</filename> файлыг 
		үүсгэснийхээ дараа ажиллуулах битийг тавьсан эсэхээ шалгаарай
		(өөрөөр хэлбэл <command>chmod 755
	    /etc/sliphome/slip.logout</command>).</para>
	</sect4>
      </sect3>

      <sect3>
	<title>Чиглүүлэлтийн эргэцүүллүүд</title>
	<indexterm>
    <primary>SLIP</primary>
    <secondary>чиглүүлэлт</secondary>
  </indexterm>
	<para>Хэрэв та өөрийн SLIP клиентүүд болон таны бусад сүлжээний хоорондох 
	(болон магадгүй Интернэт хоорондох) чиглүүлэлтийн пакетуудын хувьд 
	<quote>proxy ARP</quote> аргыг ашиглахгүй байгаа бол өөрийн SLIP 
	клиентүүдийн дэд сүлжээг өөрийн SLIP серверээр дамжуулан чиглүүлэхийн 
	тулд өөрийн хамгийн ойрын анхдагч чиглүүлэгчид(үүдэд) статик чиглүүлэлтүүдийг 
	нэмэх хэрэгтэй болж болох юм.</para>

	<sect4>
	  <title>Статик чиглүүлэлтүүд</title>
	  <indexterm><primary>статик чиглүүлэлтүүд</primary></indexterm>

	  <para>Өөрийн хамгийн ойрын чиглүүлэгчүүдэд статик чиглүүлэлтүүдийг 
		нэмэх нь яршигтай байж болох юм (эсвэл хэрэв та тэгж хийх зөвшөөрөлгүй бол 
		боломжгүй байх юм...). Та өөрийн байгууллагадаа олон 
		чиглүүлэгчтэй бол Cisco болон Proteon-ий хийсэн зарим чиглүүлэгчүүд нь 
		зөвхөн SLIP дэд сүлжээ уруу статик чиглүүлэлттэй байхаар тохируулагдсан 
		байх шаардлагагүй байж болох бөгөөд бас аль статик чиглүүлэлтүүд нь 
		бусад чиглүүлэгчүүдэд хэлж байгааг хэлж өгөх хэрэгтэй болох юм.
		Тийм болохоор статик чиглүүлэлт дээр тулгуурласан чиглүүлэлтийг 
		ажиллуулахад зарим нэг чадамж болон алдаа олж засварлах/тааруулах 
		чадвар хэрэгтэй болж болох юм.</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
