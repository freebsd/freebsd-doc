<!--
	The FreeBSD Mongolian Documentation Project

	Original revision 1.49

	$FreeBSD$
-->

<chapter id="vinum-vinum">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Грег</firstname>
	<surname>Лихэй</surname>
	<contrib>Анхлан бичсэн </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Цагаанхүүгийн</firstname>
	<surname>Ганболд</surname>
	<contrib>Орчуулсан  </contrib>
 	<!-- Jan 2007 -->
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Vinum Эзлэхүүн Менежер</title>
  
  <sect1 id="vinum-synopsis">
    <title>Ерөнхий агуулга</title>


    <para>Та ямар ч дискнүүдтэй байсан гэсэн үргэлж ямар нэгэн болзошгүй асуудлууд байсаар байдаг:</para>
      <itemizedlist>
        <listitem>
          <para>Тэдгээр дискнүүд нь хэтэрхий жижиг байж болох юм.</para>
        </listitem>

        <listitem>
          <para>Тэдгээр дискнүүд нь хэтэрхий удаан байж болох юм.</para>
        </listitem>

        <listitem>
          <para>Тэдгээр дискнүүд нь хэтэрхий найдваргүй байж болох юм.</para>
        </listitem>
      </itemizedlist>

    <para>Эдгээр асуудлуудыг шийдэх төрөл бүрийн шийдлүүд санал болгогдсон бөгөөд  
	хийж гүйцэтгэгдсэн болно. Иймэрхүү асуудлууд гаргахгүйгээр  зарим хэрэглэгчдийн өөрсдийгээ хамгаалах нэг 
	арга нь олон болон нөөц дискнүүдийг заримдаа ашиглах явдал юм.
	Үндсэн &os; систем нь тоног төхөөрөмжөөр дэмжигдсэн RAID системүүдэд зориулсан 
	төрөл бүрийн картууд болон хянагчуудыг дэмжихээс гадна виртуал диск хөтчүүдийг хийдэг блок 
	төхөөрөмжийн драйвер Vinum Эзлэхүүн Менежерийг агуулдаг.
	<emphasis>Vinum</emphasis> нь эдгээр гурван асуудлыг шийддэг 
	<emphasis>Эзлэхүүн Менежер</emphasis> гэж нэрлэгддэг виртуал 
	дискний драйвер юм. Vinum нь уян хатан чанар, ажиллагаа болон найдвартай байдлыг уламжлалт 
	диск хадгалалтаас илүүтэй хангадаг бөгөөд RAID-0, RAID-1 болон RAID-5 загваруудыг 
	дангаар нь болон хослолынх нь хувьд шийддэг.</para>

   <para>Энэ бүлэг нь уламжлалт диск хадгалалтын болзошгүй асуудлуудыг тоймлон өгүүлэх бөгөөд 
	Vinum Эзлэхүүн Менежерийн талаар танилцуулах болно.</para>

   <note>
     <para>&os;&nbsp;5-аас эхлэн Vinum-ийг GEOM архитектурт (<xref linkend="GEOM">) 
	тааруулан оруулахын тулд анхдагч санаанууд, нэр томъёо болон 
	диск дээрх мета өгөгдлийг нь хадгалан дахин бичсэн юм. Энэхүү дахин бичилт нь  
	<emphasis>gvinum</emphasis> (<emphasis>GEOM vinum</emphasis>-д зориулсан) 
	гэгддэг. Дараах баримт нь шийдлийн хувилбаруудаас үл хамааран 
	<emphasis>Vinum</emphasis>-ийг хийсвэр нэр маягаар ихэвчлэн хэрэглэх 
	болно. Ямар ч тушаалыг одоо ажиллуулахдаа <command>gvinum</command> 
	тушаалыг ашиглах ёстой бөгөөд цөмийн модулийн нэр нь <filename>vinum.ko</filename> 
	<filename>geom_vinum.ko</filename> болж өөрчлөгдсөнөөс гадна 
	төхөөрөмжийн бүх цэгүүд <filename class="directory">/dev/vinum</filename> дотор биш 
	<filename class="directory">/dev/gvinum</filename> дотор байрласан байгаа. &os;&nbsp;6-аас 
	эхлэн хуучин Vinum шийдэл нь үндсэн кодонд байхаа аль хэдийн больсон 
	байна.
     </para>
   </note>

  </sect1>

  <sect1 id="vinum-intro">
    <title>Дискнүүд хэтэрхий жижиг</title>

    <indexterm><primary>Vinum</primary></indexterm>
    <indexterm><primary>RAID</primary>
    <secondary>програм хангамж</secondary></indexterm>
    
    <para>Дискнүүд нь хэмжээний хувьд улам томорсоор байгаагийн адил бас 
	өгөгдлийн хадгалалтын шаардлагууд ч бас тийм болсоор байна. Ихэнх тохиолдолд 
	танд өөрт чинь байгаа дискнүүдээс илүү том файлын систем хэрэгтэй болж магадгүй юм. 
	Энэ асуудал нь арван жилийн өмнөх шиг тийм хурц асуудал биш болсон боловч 
	одоо болтол байгааг нь хүлээн зөвшөөрөхөөс өөр аргагүй юм. Зарим системүүд нь үүнийг 
	өөрийнхөө өгөгдлийг хэд хэдэн дискнүүд дээр хадгалах хийсвэр төхөөрөмж үүсгэн шийддэг 
	байна.</para>
  </sect1>

  <sect1 id="vinum-access-bottlenecks">
    <title>Хандалтын тагларалтууд</title>

    <para>Орчин үеийн системүүдэд маш өндөр зэрэгцээ хандлагаар өгөгдөлд хандах
	хэрэгцээ байнга гардаг. Жишээ нь том FTP эсвэл HTTP серверүүд нь 
	олон мянган зэрэгцээ сессүүдтэй ажиллаж чаддаг ба ихэнх дискнүүдийн тогтвортой дамжуулах 
	түвшингээс хавьгүй илүү гарсан гадагшаа ертөнц уруу холбогдсон олон 100&nbsp;Mbit/s-ийн  
	холболтуудтай байдаг.</para>

    <para>Одоогийн диск хөтчүүд өгөгдлийг цуваагаар 70&nbsp;MB/s хүртэл дамжуулж 
	чаддаг боловч энэ утга нь бие биенээсээ хамааралгүй олон чөлөөтэй процессууд 
	хөтчид ханддаг тийм орчинд тийм ч чухал биш юм. Тийм орчинд процессууд нь 
	тэдгээр утгуудын зөвхөн бутархайгаар хэмжигдэх тооны хурдад хүрч магадгүй юм. 
	Ийм тохиолдлуудад асуудлыг дискний дэд системийн үүднээс харвал илүү сонирхолтой 
	байх болно: энд чухал параметр нь дэд системд үзүүлж байгаа дамжуулалтын ачаалал бөгөөд 
	өөрөөр хэлбэл дамжуулалтад оролцож байгаа хөтчүүдийг эзэлж байгаа дамжуулалтын
	тэр хугацаа юм.</para>

    <para>Аль ч дискний дамжуулалтын үед хөтөч нь толгойнуудаа эхлээд байрлуулж 
	унших толгойн доор эхний сектор шалгагдан өнгөрөхийг хүлээж дараа нь 
	дамжуулалтыг гүйцэтгэх ёстой. Эдгээр үйлдлүүд нь atomic буюу хуваагдашгүй, 
	салгагдашгүй үйлдлүүд гэж ойлгогддог: тэдгээрийг тасалдуулах нь ямар ч утгагүй
	юм.</para>

    <para><anchor id="vinum-latency"> Ердийн 10&nbsp;kB-ийн дамжуулалтыг 
	авч үзье: өндөр ажиллагаатай одоо үеийн дискнүүд нь толгойнуудаа дунджаар 
	3.5&nbsp;ms-д байрлуулж чаддаг. Хамгийн хурдан хөтчүүд 15,000&nbsp;rpm 
	хурдаар эргэдэг, тийм болохоор дундаж эргэх хожимдол нь (хувьсгалын хагас) 
	2&nbsp;ms болох юм. 70&nbsp;MB/s үед дамжуулалт нь өөрөө 
	150&nbsp;&mu;s болох бөгөөд байрлуулах хугацаатай харьцуулахад бараг 
	юу ч биш юм. Ийм тохиолдолд үр дүнтэй дамжуулах түвшин нь 1&nbsp;MB/s-с  
	бага зэрэг илүү түвшин уруу  буурах бөгөөд мэдээж энэ нь дамжуулах хэмжээнээс 
	ихээхэн хамааралтай байна.</para>

    <para>Энэ асуудлын уламжлалт, мэдээжийн шийдэл нь <quote>илүү ээрүүлүүд</quote> 
	юм: нэг том диск ашиглахын оронд энэ нь нийт хадгалалтын хэмжээ нь адилхан 
	хэд хэдэн арай жижиг дискнүүдийг ашиглах явдал юм. Диск бүр нь тус тусдаа 
	байрлуулах болон дамжуулах үйлдлийг хийж чадах бөгөөд ингэснээр үр дүнтэй 
	дамжуулах чанар нь ашигласан дискний тоотой ойролцоо хүчин зүйлээр нэмэгдэх 
	болно.
    </para>

    <para>Дамжуулалтын чанарын яг тодорхой сайжруулалт нь мэдээж оролцсон дискнүүдийн 
	тооноос бага байна: хөтөч бүр нь зэрэгцээ дамжуулж чадах боловч хүсэлтүүд нь 
	хөтчүүдийн дагуу тэнцүү түгээгдэхийг батлах аргагүй юм. Нэг хөтөч дээрх 
	ачаалал нь нөгөө дээрхээс илүү өндөр байх нь зайлшгүй юм.</para>

    <indexterm>
      <primary>диск нийлүүлэлт</primary>
    </indexterm>
    <indexterm>
      <primary>Vinum</primary>
      <secondary>нийлүүлэлт</secondary>
    </indexterm>

    <para>Дискнүүд дээрх ачааллын тэнцүү байдал нь хөтчүүдийн дагуу өгөгдлүүд 
	хуваалцдаг арга замаас маш ихээр хамаардаг. Дараах хэлэлцүүлэг дээр 
	дискний хадгалалтыг номны хуудас шигээр дугаараар нь хандаж болох 
	маш олон тооны өгөгдлийн секторууд гэж ойлгох нь тохиромжтой юм. 
	Хамгийн мэдээжийн арга бол том номыг аваад жижиг хэсгүүд болгон урахын 
	оронд виртуал дискийг физик дискнүүдийн хэмжээтэйгээр  дараалсан 
	секторуудын бүлгүүд болгон хувааж энэ маягаар тэдгээрийг хадгалах 
	явдал юм. Энэ аргыг <emphasis>concatenation буюу нийлүүлэлт</emphasis> 
	гэж нэрлэдэг бөгөөд дискнүүд нь ямар нэгэн тусгайлсан хэмжээний харилцаанууд  
	шаарддаггүйгээрээ давуу талтай юм. Виртуал диск дэх хандалт өөрийн хаягийн 
	талбараар тэнцүү тархсан үед энэ нь сайн ажилладаг. Хандалт нь жижиг талбарт 
	төвлөрсөн үед сайжруулалт тийм ч сайн мэдэгддэггүй. 
	<xref linkend="vinum-concat"> нь хадгалалтын нэгжүүд нийлүүлэгдсэн 
	зохион байгуулалтад хуваарилагдаж байгаа дарааллыг үзүүлж байна.</para>

    <para>
      <figure id="vinum-concat">
	<title>Нийлүүлэгдсэн зохион байгуулалт</title>
	<graphic fileref="vinum/vinum-concat">
      </figure>
    </para>

    <indexterm>
      <primary>диск судал үүсгэх</primary>
    </indexterm>
    <indexterm>
      <primary>Vinum</primary>
      <secondary>судал үүсгэх</secondary>
    </indexterm>
    <indexterm>
      <primary>RAID</primary>
    </indexterm>

    <para>Өөр нэг тааруулалт нь хаягийн талбарыг арай жижиг, тэнцүү хэмжээтэй 
	бүрэлдэхүүн хэсэгт хувааж тэдгээрийг цуваагаар өөр төхөөрөмжүүд дээр 
	хадгалах явдал юм. Жишээ нь эхний 256 сектор эхний диск дээр, 
	дараагийн 256 сектор нь дараагийн диск дээр гэх мэтчилэн байх юм. 
	Сүүлийн дискэнд хүрсний дараа процесс дискнүүдийг дүүртэл давтагдана. 
	Энэ тааруулалтыг <emphasis>striping буюу судал үүсгэх</emphasis> 
	эсвэл <acronym>RAID-0</acronym> гэж нэрлэдэг.

    <footnote>
      <para><acronym>RAID</acronym> нь <emphasis>Redundant
      Array of Inexpensive Disks буюу Хямд дискнүүдийн Нөөц Массив </emphasis> 
	бөгөөд гэмтэл даах чадварын төрөл бүрийн хэлбэрүүдийг санал болгодог бөгөөд 
	гэхдээ сүүлийн ойлголт нь зарим талаараа төөрөгдүүлмээр юм: энэ нь ямар ч нөөцийн 
	боломжийг хангадаггүй.</para> </footnote>.

	Судал үүсгэх нь зарим талаараа өгөгдлийг олохын тулд илүү чармайлт шаарддаг бөгөөд 
	олон дискнүүдийн дагуу тархсан дамжуулалтад нэмэлт I/O ачаалал үүсгэж болох боловч 
	энэ нь бас тогтмол ачааллыг илүүтэйгээр дискнүүдийн дагуу хангаж өгдөг. 
	<xref linkend="vinum-striped"> нь хадгалалтын нэгжүүд судалчлагдсан  
	зохион байгуулалтад хуваарилагдаж байгаа дарааллыг үзүүлж байна.</para>

    <para>
      <figure id="vinum-striped">
        <title>Судалчлагдсан зохион байгуулалт</title>
	<graphic fileref="vinum/vinum-striped">
      </figure>
    </para>
  </sect1>

  <sect1 id="vinum-data-integrity">
    <title>Өгөгдлийн бүрэн бүтэн байдал</title>

      <para>Одоогийн дискнүүд дэх сүүлийн асуудал нь найдваргүй байдал юм. 
	Диск хөтчүүдийн найдвартай байдал сүүлийн хэдэн жилийн дотор асар ихээр 
	нэмэгдсэн боловч тэдгээр нь сервер унах гол шалтгааны нэг бүрэлдэхүүн хэсэг 
	хэвээр байсаар байна. Ингэсэн тохиолдолд гарах үр дүн нь сүйрлийн 
	байж болох юм: ажиллагаагүй болсон дискний хөтчийг сольж шинэ диск уруугаа
	өгөгдлийг сэргээх нь хэдэн өдөр болж болох юм.</para>

      <indexterm>
	<primary>диск толин тусгал үүсгэх</primary>
      </indexterm>
      <indexterm>
	<primary>Vinum</primary>
	<secondary>толин тусгал үүсгэх</secondary>
      </indexterm>
      <indexterm>
	<primary>RAID-1</primary>
      </indexterm>
      
      <para>Уламжлалт замаар энэ асуудлыг <emphasis>толин тусгал үүсгэх</emphasis> 
	аргаар өгөгдлийн хоёр хуулбарыг өөр физик тоног төхөөрөмж дээр хадгалж шийддэг. 
	<acronym>RAID</acronym> түвшингүүд бий болсноор энэ техник нь бас 
	<acronym>RAID түвшин 1</acronym> буюу <acronym>RAID-1</acronym> 
	гэж нэрлэгддэг. Эзлэхүүн уруу хийгдэх бичилт хоёр байрлал уруу хийгддэг; уншилт нь 
	алинаас нь ч хийгдсэн болдог, хэрэв нэг хөтөч нь ажиллахгүй болбол өгөгдөл нөгөө 
	хөтөч дээр бас байж байх юм.</para>
    
      <para>Толин тусгал үүсгэх нь хоёр асуудалтай байдаг:</para>
    
	<itemizedlist>
	  <listitem>
	    <para>Үнэ. Энэ нь нөөцгүй шийдлийн нэгэн адил хоёр дахин их дискний 
		хадгалалт шаарддаг.</para>
	  </listitem>

	  <listitem>
	    <para>Ажиллагааны нөлөөлөл.  Бичилтүүд нь хоёр хөтчүүдэд хоёуланд нь 
		хийгддэг, тиймээс тэдгээр нь толин тусгал хийгдээгүй эзлэхүүний 
		зурвасын өргөнөөс хоёр дахин ихийг эзэлдэг. Уншилтууд нь харин 
		ажиллагааны хувьд асуудалгүй байдаг: тэд илүү хурдан юм шиг 
		харагддаг.</para>
	  </listitem>
	</itemizedlist>

      <para><indexterm><primary>RAID-5</primary></indexterm>
	Өөр нэг шийдэл нь <acronym>RAID</acronym> түвшингүүд 2, 3, 4 болон
	5-д хийгдсэн <emphasis>parity</emphasis> юм.
	Эдгээрээс <acronym>RAID-5</acronym> нь хамгийн сонирхолтой байдаг. 
	Энэ нь Vinum-д хийгдсэн бөгөөд судал бүрийн нэг блокийг өөр блокуудын parity-д 
	зориулдаг судалчлагдсан зохион байгуулалтын нэг хувилбар юм. 
	<acronym>RAID-5</acronym> plex нь Vinum-д хийгдсэн бөгөөд 
	судалчлагдсан plex-ийн нэгэн адил боловч энэ нь судал бүр дэх parity блокуудыг 
	оруулан <acronym>RAID-5</acronym>-г шийдвэрлэдэг. 
	<acronym>RAID-5</acronym>-ийн шаарддагаар энэ parity блокийн 
	байрлал нь нэг судлаас дараагийнх уруу өөрчлөгддөг. Өгөгдлийн блокууд дахь 
	тоонууд нь блокийн харьцангуй дугааруудыг илэрхийлдэг.</para>

      <para>
	<figure id="vinum-raid5-org">
	  <title>RAID-5 зохион байгуулалт</title>
	  <graphic fileref="vinum/vinum-raid5-org">
	</figure>
      </para>

      <para>Толин тусгал үүсгэхтэй харьцуулахад <acronym>RAID-5</acronym> нь 
	хамаагүй бага хадгалалтын зай шаарддагаараа давуу талтай юм. Унших хандалт нь 
	судалчлагдсан зохион байгуулалтуудын адил байдаг боловч бичих хандалт нь 
	хамаагүй удаан ойролцоогоор унших хурдны 25% байдаг. Хэрэв нэг хөтөч ажиллагаагүй 
	болбол массив нь доройтсон горимд үргэлжлэн ажиллах болно: үлдсэн хандаж болох 
	хөтчүүдийн аль нэгнээс уншилт хэвийн үргэлжлэх боловч ажиллагаагүй болсон 
	хөтчөөс хийгдэх уншилт бүх үлдсэн хөтчүүдийн харгалзах блокоос дахин тооцоологдох 
	болно.
      </para>
  </sect1>

  <sect1 id="vinum-objects">
    <title>Vinum обьектууд</title>
      <para>Эдгээр асуудлуудыг шийдэхийн тулд Vinum нь обьектийн дөрвөн түвшний
	шатлалыг шийддэг:</para>

      <itemizedlist>
	<listitem>
	  <para>Хамгийн харагддаг обьект нь <emphasis>volume буюу эзлэхүүн</emphasis> 
		гэгддэг виртуал диск юм. Эзлэхүүнүүд нь гол нь &unix; диск хөтчүүдийн 
		нэгэн адил өмчүүдтэй боловч зарим нэг жижиг ялгаанууд байдаг.
		Тэдэнд хэмжээний хязгаарлалтууд байхгүй.</para>
	</listitem>

	<listitem>
	  <para>Эзлэхүүнүүд нь тус бүр нь эзлэхүүний нийт хаягийн талбарыг илэрхийлдэг 
		<emphasis>plex-үүд</emphasis>ээс бүрддэг. Тиймээс шатлал дахь 
		энэ түвшин нь нөөцийг хангадаг. Plex-үүдийг толин тусгал хийгдсэн 
		массив дахь тус бүртээ ижил өгөгдлийг агуулсан дискнүүд гэж бодох 
		хэрэгтэй.</para>
	</listitem>

	<listitem>
	  <para>Vinum нь &unix; диск хадгалалтын тогтолцоонд оршдог болохоор 
		&unix; хуваалтуудыг олон диск бүхий plex-үүдийн хувьд бүтээх блок  
		болгон ашиглах боломжтой, гэхдээ жинхэнэдээ энэ нь хэтэрхий уян хатан 
		биш болж болох юм: &unix; дискнүүд нь зөвхөн хязгаарлагдмал тооны 
		хуваалтуудтай байдаг. Ингэхийн оронд харин Vinum нь ганц &unix; 
		хуваалтыг (<emphasis>хөтөч</emphasis>) <emphasis>subdisks
		буюу дэд дискнүүд</emphasis> гэгддэг үргэлжлэн нийлсэн талбаруудад 
		хуваадаг бөгөөд эдгээр дэд дискнүүдийг plex-үүдэд зориулж бүтээх 
		блок болгон ашигладаг.</para>
	</listitem>
      
	<listitem>
	  <para>Дэд дискнүүд нь Vinum <emphasis>хөтчүүд</emphasis> дээр, 
		одоогоор &unix; хуваалтууд дээр оршдог. Vinum хөтчүүд нь 
		дурын тооны дэд дискнүүдийг агуулж болно. Хөтчийн эхлэл дэх 
		тохиргоо болон төлвийн мэдээллийг хадгалах зориулалттай жижиг 
		талбараас бусад хөтчийн бүх хэсэг өгөгдлийн хадгалалтанд 
		зориулагдана.</para>
	</listitem>
      </itemizedlist>

      <para>Дараах хэсгүүд нь эдгээр обектуудын Vinum-ийн шаарддаг ажиллагааг хангах 
	аргыг тайлбарлах болно.</para>

    <sect2>
      <title>Эзлэхүүний хэмжээний саналууд</title>

      <para>Plex-үүд нь Vinum тохиргоонд бүх хөтчүүд дээгүүр тархсан олон дэд 
	дискнүүдийг агуулж болно. Үүний үр дүнд хөтөч бүрийн хэмжээ нь plex-ийн 
	хэмжээг хязгаарлахгүй, тиймээс эзлэхүүний хэмжээг бас хязгаарлахгүй 
	юм.</para>
    </sect2>
    
    <sect2>
      <title>Өгөгдлийн нөөц хадгалалт</title>
      <para>Vinum нь олон plex-үүдийг эзлэхүүнд хавсран толин тусгал үүсгэлтийг
	хийж гүйцэтгэдэг. Plex бүр эзлэхүүн дэх өгөгдлийн дүрслэл юм. Эзлэхүүн нь 
	нэгээс найман plex-ийг агуулж болно.</para>

      <para>Plex нь эзлэхүүний бүх өгөгдлийг илэрхийлдэг боловч илэрхийллүүдийн 
	хэсгүүд нь хийгдсэн аргаасаа (plex-ийн хэсгүүдийн хувьд дэд дискнүүдийг 
	тодорхойлоогүйгээс) болоод эсвэл тохиолдлоор (хөтөч ажиллагаагүй болсноос 
	болоод) бодитоор байхгүй байх боломжтой юм. Эзлэхүүний хаягийн бүрэн талбарын 
	хүрээний хувьд хамгийн багаар бодоход нэг plex өгөгдлийг хангаж чаддаг байхад 
	эзлэхүүн нь бүрэн ажиллагаатай байх юм.</para>
    </sect2>
    
    <sect2>
      <title>Ажиллагааны асуудлууд</title>

      <para>Vinum нь нийлүүлэлт болон судалчлалыг plex түвшинд хийж 
	гүйцэтгэдэг:</para>

      <itemizedlist>
	<listitem>
	  <para><emphasis>Нийлүүлэгдсэн plex</emphasis> нь харин 
		дэд диск бүрийн хаягийн талбарыг ашигладаг.</para>
	</listitem>

	<listitem>
	  <para><emphasis>Судалчлагдсан plex</emphasis> нь дэд диск 
		бүрийн дагуу өгөгдлийг судалчилдаг. Дэд диск бүр бүгд адил 
		хэмжээтэй байх ёстой бөгөөд нийлүүлэгдсэн plex-ээс ялгахын 
		тулд хамгийн багаар бодоход хоёр дэд диск байх шаардлагатай.</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>Аль Plex зохион байгуулалт вэ?</title>
      <para>&os;&nbsp;&rel.current;-тэй цуг ирдэг Vinum-ийн хувилбар нь хоёр төрлийн 
	plex-ийг хийж гүйцэтгэдэг:</para>
    
      <itemizedlist>
	<listitem>
	  <para>Нийлүүлэгдсэн plex-үүд нь хамгийн уян хатан байдаг: тэдгээр нь ямар ч 
		тооны дэд дискнүүдийг агуулж болох бөгөөд дэд дискнүүд нь өөр өөр урттай 
		байж болно. Plex-ийг нэмэлт дэд дискнүүд нэмж өргөтгөж болох юм. 
		Тэдгээр нь судалчлагдсан plex-үүдээс <acronym>CPU</acronym>-ийн 
		хугацааны хувьд багыг шаарддаг, гэхдээ <acronym>CPU</acronym> 
		дээрх нэмэлт ачааллын ялгаа нь хэмжигдэхээр тийм их биш юм. Нөгөө 
		талаас авч үзэх юм бол тэдгээр нь ганц диск их идэвхитэй бөгөөд бусад нь 
		сул зогсож байдаг халуун цэгүүдэд хамгийн мэдрэмтгий байдаг.</para>
        </listitem>

	<listitem>
	  <para>Судалчлагдсан (<acronym>RAID-0</acronym>) plex-үүдийн 
		хамгийн агуу давуу тал нь тэдгээр plex-үүд нь халуун цэгүүдийг багасгадаг 
		явдал юм: хамгийн тохиромжтой (256&nbsp;kB орчим) хэмжээтэйгээр 
		судлыг сонгосноор та бүрэлдэхүүний хөтчүүд дээрх ачааллыг тэнцүүлж 
		болох юм. Энэ хандлагын сул талууд нь (бутархайгаар хэмжигдэх) 
		илүү төвөгтэй код болон дэд дискнүүд дээрх хязгаарлалтууд юм: тэдгээр нь 
		бүгд ижил хэмжээтэй байх ёстой бөгөөд шинэ дэд дискнүүд нэмж plex-ийг өргөтгөх 
		нь асар хэцүү учир Vinum нь үүнийг одоогоор хийж гүйцэтгэдэггүй юм. 
		Vinum нь нэмэлт, амархан хязгаарлалтыг тохоож өгдөг: судалчлагдсан 
		plex нь хамгийн багаар бодоход хоёр дэд дисктэй байх ёстой, тэгэхгүй 
		бол үүнийг нийлүүлэгдсэн plex-ээс ялгах боломжгүй юм.</para>
	</listitem>
      </itemizedlist>
    
      <para><xref linkend="vinum-comparison"> нь plex зохион байгуулалт бүрийн 
	давуу болон сул талуудыг дүгнэн харуулж байна.</para>
    
      <table id="vinum-comparison" frame="none">
	<title>Vinum Plex зохион байгуулалтууд</title>
	<tgroup cols="5">
	  <thead>
	    <row>
	      <entry>Plex төрөл</entry>
	  	<entry>Хамгийн бага дэд дискнүүд</entry>
	  	<entry>Дэд дискнүүд нэмж болох эсэх</entry>
	  	<entry>Адил хэмжээтэй байх ёстой</entry>
	  	<entry>Хэрэглээ</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>нийлүүлэгдсэн</entry>
	      <entry>1</entry>
	      <entry>тийм</entry>
	      <entry>үгүй</entry>
	      <entry>Байрлуулах хамгийн их уян хатан чанар ба боломжийн ажиллагаатай 
		их хэмжээний өгөгдлийн хадгалалт</entry>
	    </row>
	    
	    <row>
	      <entry>судалчлагдсан</entry>
	      <entry>2</entry>
	      <entry>үгүй</entry>
	      <entry>тийм</entry>
	      <entry>Маш өндөр зэрэгцээ хандалттай цуг өндөр хурдтай ажиллагаа</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>
  </sect1>
  
  <sect1 id="vinum-examples">
    <title>Зарим жишээнүүд</title>

    <para>Vinum нь хувь системүүдэд мэдэгддэг обьектуудыг тайлбарладаг 
	<emphasis>тохиргооны мэдээллийн бааз</emphasis>ын ажиллагааг 
	хангаж байдаг. Эхлээд хэрэглэгч нэг буюу эсвэл хэд хэдэн тохиргооны 
	файлуудаас тохиргооны мэдээллийн баазыг &man.gvinum.8; хэрэгсэл 
	програмын тусламжтайгаар үүсгэдэг. Vinum нь өөрийн тохиргооны 
	мэдээллийн баазын хуулбарыг диск зүсмэл (Vinum үүнийг 
	<emphasis>төхөөрөмж</emphasis> гэдэг) бүр дээр өөрийн 
	хяналтын доор хадгалдаг. Дахин эхлүүлэлт нь зөвөөр Vinum обьект 
	бүрийн төлвийг сэргээдэг байлгахын тулд төлөв өөрчлөгдөх болгонд 
	энэхүү мэдээллийн бааз нь шинэчлэгддэг.</para>
  
    <sect2>
      <title>Тохиргооны файл</title>
      <para>Тохиргооны файл нь Vinum обьектуудыг тайлбарладаг. Энгийн эзлэхүүний 
	тодорхойлолт ийм байж болох юм:</para>

      <programlisting>
    drive a device /dev/da3h
    volume myvol
      plex org concat
        sd length 512m drive a</programlisting>

      <para>Энэ файл нь дөрвөн Vinum обьектийг тайлбарладаг:</para>

      <itemizedlist>
	<listitem>
	  <para><emphasis>drive</emphasis> мөр нь дискний хуваалтыг 
		(<emphasis>хөтөч</emphasis>) тайлбарлах бөгөөд үүний 
		байрлал нь түүн доор орших тоног төхөөрөмжтэй харьцангуй 
		байна. Үүнд <emphasis>a</emphasis> гэж симбол нэр 
		өгсөн байгаа. Ингэж симбол нэрсийг төхөөрөмжийн нэрсээс 
		тусад нь салгах нь дискнүүдийг нэг байрлалаас нөгөө уруу 
		эргэлзээгүйгээр шилжүүлэх боломжийг олгодог.</para>
	</listitem>

	<listitem>
	  <para><emphasis>volume</emphasis> мөр нь эзлэхүүнийг тайлбарлана. 
		Цорын ганц шаардлагатай шинж чанар нь нэр бөгөөд энэ тохиолдолд 
		<emphasis>myvol</emphasis> байна.</para>
	</listitem>

	<listitem>
	  <para><emphasis>plex</emphasis> мөр нь plex-ийг тодорхойлдог. 
		Цорын ганц шаардлагатай параметр нь зохион байгуулалт бөгөөд 
		энэ тохиолдолд <emphasis>concat</emphasis> болно. 
		Ямар ч нэр хэрэггүй: систем автоматаар эзлэхүүний нэрэн 
		дээр <emphasis>.p</emphasis><emphasis>x</emphasis> 
		дагавар залгаж үүсгэдэг бөгөөд <emphasis>x</emphasis> нь 
		эзлэхүүн дэх plex-ийн дугаар юм. Тиймээс энэ plex нь 
		<emphasis>myvol.p0</emphasis> гэж нэрлэгдэнэ.</para>
	</listitem>

	<listitem>
	  <para><emphasis>sd</emphasis> мөр нь дэд дискийг тайлбарлана. 
		Хамгийн бага тодорхойлолтууд нь үүнийг хадгалах хөтчийн нэр болон 
		дэд дискний урт юм. Plex-үүдтэй адил нэр хэрэггүй: 
		систем автоматаар plex-ийн нэрэн 
		дээр <emphasis>.s</emphasis><emphasis>x</emphasis> 
		дагавар залгаж үүсгэдэг бөгөөд <emphasis>x</emphasis> нь 
		plex дэх дэд дискний дугаар юм. Тиймээс Vinum нь энэ дэд 
		дискэнд <emphasis>myvol.p0.s0</emphasis> гэж нэр 
		өгдөг.</para>
	</listitem>
      </itemizedlist>

      <para>Энэ файлыг процесс хийсний дараа &man.gvinum.8; дараах үр дүнг 
	гаргана:</para>

      <programlisting width="97">
      &prompt.root; gvinum -&gt; <userinput>create config1</userinput>
      Configuration summary
      Drives:         1 (4 configured)
      Volumes:        1 (4 configured)
      Plexes:         1 (8 configured)
      Subdisks:       1 (16 configured)
     
	D a                     State: up       Device /dev/da3h        Avail: 2061/2573 MB (80%)
	
	V myvol                 State: up       Plexes:       1 Size:        512 MB
	
	P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
	
	S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB</programlisting>

      <para>Энэ гаралт нь &man.gvinum.8;-ийн хэлбэршүүлэлтийн товч жагсаалтыг харуулж байна. 
	Энэ нь графикаар <xref linkend="vinum-simple-vol"> зурагт дүрслэгдсэн байна.</para>

      <para>
	<figure id="vinum-simple-vol">
	  <title>Энгийн Vinum эзлэхүүн</title>
	  <graphic fileref="vinum/vinum-simple-vol">
	</figure>
      </para>

      <para>Энэ зураг  болон дараагийн зураг нь дэд дискнүүд агуулсан plex-үүдийг 
	агуулсан эзлэхүүнийг харуулж байна. Энэ хялбар жишээн дээр эзлэхүүн нь 
	нэг plex-ийг агуулах бөгөөд plex нь нэг дэд дискийг агуулж байна.</para>

      <para>Энэхүү эзлэхүүн нь хэвшмэл дискний хуваалттай харьцуулахад ямар нэг 
	тухайлсан давуу чанаргүй юм. Энэ нь ганц plex-ийг агуулах учраас нөөц биш 
	юм. Plex нь ганц дэд дискнээс тогтох учраас хэвшмэл дискний хуваалттай 
	харьцуулахад хадгалалт хуваарилалтын хувьд ямар ч ялгаагүй юм. 
	Дараах хэсгүүд нь төрөл бүрийн илүү сонирхолтой тохиргооны аргуудыг 
	харуулах болно.</para>
    </sect2>

    <sect2>
      <title>Нэмэгдсэн уян хатан чанар: Толин тусгал үүсгэх</title>

      <para>Эзлэхүүний уян хатан чанарыг толин тусгал үүсгэж ихэсгэж болно. 
	Толин тусгал хийсэн эзлэхүүнийг байрлуулахдаа хөтчийн сүйрэл plex бүрийг унагахгүй
	байлгахын тулд plex бүр дэх дэд дискнүүд нь өөр өөр хөтчүүд дээр байгаа эсэхийг 
	шалгах нь чухал юм. Дараах тохиргоо нь эзлэхүүнийг толин тусгал хийж 
	байна:</para>

      <programlisting>
	drive b device /dev/da4h
	volume mirror
      plex org concat
        sd length 512m drive a
	  plex org concat
	    sd length 512m drive b</programlisting>

      <para>Vinum нь өөрийн тохиргооны мэдээллийн бааз дахь бүх обьектуудыг 
	хянаж байдаг болохоор <emphasis>a</emphasis> хөтчийн тодорхойлолтыг 
	энэ жишээн дээр дахин зааж өгөх шаардлагагүй юм. Энэ тодорхойлолтыг процесс 
	хийсний дараа тохиргоо иймэрхүү харагдана:</para>


      <programlisting width="97">
	Drives:         2 (4 configured)
	Volumes:        2 (4 configured)
	Plexes:         3 (8 configured)
	Subdisks:       3 (16 configured)
	
	D a                     State: up       Device /dev/da3h        Avail: 1549/2573 MB (60%)
	D b                     State: up       Device /dev/da4h        Avail: 2061/2573 MB (80%)

    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB
  
    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB
  
    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
	S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
	S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB</programlisting>
	
      <para><xref linkend="vinum-mirrored-vol"> зураг нь бүтцийг графикаар 
	харуулж байна.</para>

      <para>
	<figure id="vinum-mirrored-vol">
	  <title>Толин тусгал хийгдсэн Vinum эзлэхүүн</title>
	  <graphic fileref="vinum/vinum-mirrored-vol">
	</figure>
      </para>

      <para>Энэ жишээн дээр plex бүр бүрэн 512&nbsp;MB хаягийн талбарыг 
	агуулж байна. Өмнөх жишээн дээрх шиг plex бүр зөвхөн ганц дэд дискийг 
	агуулна.</para>
    </sect2>

    <sect2>
      <title>Ажиллагааг оновчтой болгох</title>

      <para>Өмнөх жишээн дээрх толин тусгал хийгдсэн эзлэхүүн нь толин тусгал 
	хийгдээгүй эзлэхүүнээс илүү сүйрэлд тэсвэртэй боловч ажиллагааны хувьд дутмаг 
	байдаг: эзлэхүүн уруу хийгдэх бичилт бүр нь нийт дискний зурвасын өргөнөөс илүүтэйгээр  
	ашиглан хоёр хөтөч хоёулан уруу нь бичилт хийхийг шаарддаг. Ажиллагааны 
	тооцоонууд нь өөр хандлагыг шаарддаг: толин тусгал үүсгэхийн оронд өгөгдөл нь 
	аль болох олон диск хөтчүүдийн дагуу судалчлагддаг. Дараах тохиргоо нь 
	дөрвөн дискний хөтчүүдийн дагуу судалчлагдсан plex бүхий эзлэхүүнийг 
	харуулж байна:</para>

	<programlisting>
	drive c device /dev/da5h
	drive d device /dev/da6h
	volume stripe
	plex org striped 512k
	  sd length 128m drive a
	  sd length 128m drive b
	  sd length 128m drive c
	  sd length 128m drive d</programlisting>

      <para>Өмнөхийн адил Vinum-д мэдэгдэж байгаа хөтчүүдийг тодорхойлох хэрэггүй 
	юм. Энэ тодорхойлолтыг процесс хийсний дараа тохиргоо иймэрхүү 
	байна:</para>

      <programlisting width="92">
	Drives:         4 (4 configured)
	Volumes:        3 (4 configured)
	Plexes:         4 (8 configured)
	Subdisks:       7 (16 configured)
  
    D a                     State: up       Device /dev/da3h        Avail: 1421/2573 MB (55%)
    D b                     State: up       Device /dev/da4h        Avail: 1933/2573 MB (75%)
    D c                     State: up       Device /dev/da5h        Avail: 2445/2573 MB (95%)
    D d                     State: up       Device /dev/da6h        Avail: 2445/2573 MB (95%)
  
    V myvol                 State: up       Plexes:       1 Size:        512 MB
    V mirror                State: up       Plexes:       2 Size:        512 MB
    V striped               State: up       Plexes:       1 Size:        512 MB
  
    P myvol.p0            C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p0           C State: up       Subdisks:     1 Size:        512 MB
    P mirror.p1           C State: initializing     Subdisks:     1 Size:        512 MB
    P striped.p1            State: up       Subdisks:     1 Size:        512 MB
  
    S myvol.p0.s0           State: up       PO:        0  B Size:        512 MB
    S mirror.p0.s0          State: up       PO:        0  B Size:        512 MB
    S mirror.p1.s0          State: empty    PO:        0  B Size:        512 MB
    S striped.p0.s0         State: up       PO:        0  B Size:        128 MB
    S striped.p0.s1         State: up       PO:      512 kB Size:        128 MB
    S striped.p0.s2         State: up       PO:     1024 kB Size:        128 MB
    S striped.p0.s3         State: up       PO:     1536 kB Size:        128 MB</programlisting>

      <para>
	<figure id="vinum-striped-vol">
	  <title>Судалчлагдсан Vinum эзлэхүүн</title>
	  <graphic fileref="vinum/vinum-striped-vol">
	</figure>
      </para>

      <para>Энэ эзлэхүүн нь <xref linkend="vinum-striped-vol"> зурагт 
	үзүүлэгдсэн байгаа.  Судлуудын харанхуй байдал plex-ийн хаягийн талбар дахь 
	байрлалыг илэрхийлнэ: хамгийн цайвар судлууд нь эхлээд байх бөгөөд хамгийн 
	харанхуйнууд нь сүүлд байна.</para>
    </sect2>

    <sect2>
      <title>Уян хатан чанар ба ажиллагаа</title>

      <para><anchor id="vinum-resilience">Хангалттай тоног төхөөрөмжийн 
	тусламжтайгаар стандарт &unix; хуваалтуудтай харьцуулах юм бол нэмэгдсэн 
	уян хатан чанар болон нэмэгдсэн ажиллагаа аль алиныг нь үзүүлдэг  эзлэхүүнүүдийг 
	бүтээх боломжтой юм. Нийтлэг тохиргооны файл иймэрхүү байж болох 
	юм:</para>

      <programlisting>
	volume raid10
      plex org striped 512k
        sd length 102480k drive a
        sd length 102480k drive b
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
      plex org striped 512k
        sd length 102480k drive c
        sd length 102480k drive d
        sd length 102480k drive e
        sd length 102480k drive a
        sd length 102480k drive b</programlisting>

      <para>Хоёр дахь plex-ийн дэд дискнүүд нь эхний plex дэхээс хоёр хөтчөөр 
	ялгаатай: дамжуулалт хоёр хөтчөөр дамжин хийгдсэн ч гэсэн бичилтүүд адил 
	дэд дискнүүд уруугаа хийгдэхгүй байхыг энэ нь баталгаажуулж өгдөг.</para>

      <para><xref linkend="vinum-raid10-vol"> нь энэ эзлэхүүний бүтцийг илэрхийлж 
	байна.</para>

      <para>
	<figure id="vinum-raid10-vol">
	  <title>Толин тусгал хийгдсэн, судалчлагдсан Vinum эзлэхүүн</title>
	  <graphic fileref="vinum/vinum-raid10-vol">
        </figure>
      </para>
    </sect2>
  </sect1>
  
  <sect1 id="vinum-object-naming">
    <title>Обьектийн нэрлэлт</title>

    <para>Дээд дурдсаны дагуу Vinum нь анхдагч нэрсийг plex-үүд болон дэд дискнүүдэд 
	өгдөг боловч тэдгээр нь дарагдан өөрчлөгдөж болох юм. Анхдагч нэрсийг 
	дарж өөрчлөхийг зөвлөдөггүй: обьектуудыг дурын нэрээр солихыг зөвшөөрдөг 
	VERITAS эзлэхүүн менежерээс харах юм бол энэ уян хатан чанар нь мэдэгдэхүйц 
	давуу талыг авч ирдэггүй бөгөөд эндүүрэл үүсгэж болох юм.</para>

    <para>Нэрс нь дурын хоосон биш тэмдэгтийг агуулж болох бөгөөд тэмдэгтүүдийг  
	үсэг, тоо болон доогуур зураас байлгаж хязгаарлахыг зөвлөдөг. 
	Эзлэхүүнүүд, plex-үүд болон дэд дискнүүд нь 64 тэмдэгт хүртэл урттай 
	байж болох бөгөөд хөтчүүдийн нэрс 32 тэмдэгт хүртэл урттай байж 
	болно.</para>

    <para>Vinum обьектууд нь <filename class="directory">/dev/gvinum</filename> шатлалд 
	төхөөрөмжийн цэгүүдийг өгдөг. Дээр үзүүлсэн тохиргоо нь Vinum-ийг 
	дараах төхөөрөмжийн цэгүүдийг үүсгэхэд хүргэнэ:</para>

    <itemizedlist>
      <listitem>
	<para>Эзлэхүүн бүрийн төхөөрөмжийн оруулгууд. Эдгээр нь Vinum-ийн ашигладаг 
		гол төхөөрөмжүүд юм. Тэгэхээр дээрх тохиргоо нь 
	  <filename class="devicefile">/dev/gvinum/myvol</filename>,
	  <filename class="devicefile">/dev/gvinum/mirror</filename>,
	  <filename class="devicefile">/dev/gvinum/striped</filename>,
	  <filename class="devicefile">/dev/gvinum/raid5</filename> болон
	  <filename class="devicefile">/dev/gvinum/raid10</filename> төхөөрөмжүүдийг 
		агуулах болно.</para>
      </listitem>

      <listitem>
	<para>Бүх эзлэхүүнүүд нь <filename class="directory">/dev/gvinum/</filename> дотор 
		шууд оруулгуудыг авна.</para>
      </listitem>

      <listitem>
	<para>Plex болон дэд диск бүрийн төхөөрөмжийн цэгүүдийг агуулдаг 
		харгалзах <filename class="directory">/dev/gvinum/plex</filename> болон 
		<filename class="directory">/dev/gvinum/sd</filename> сангууд.</para>
      </listitem>
    </itemizedlist>

    <para>Жишээ нь дараах тохиргооны файл байлаа гэж үзье:</para>
	<programlisting>
	drive drive1 device /dev/sd1h
	drive drive2 device /dev/sd2h
	drive drive3 device /dev/sd3h
	drive drive4 device /dev/sd4h
    volume s64 setupstate
      plex org striped 64k
        sd length 100m drive drive1
        sd length 100m drive drive2
        sd length 100m drive drive3
        sd length 100m drive drive4</programlisting>

    <para>Энэ файлыг процесс хийсний дараа &man.gvinum.8; нь <filename class="directory">/dev/gvinum</filename>
		файлд дараах бүтцийг үүсгэдэг:</para>

    <programlisting>
	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 plex
	crwxr-xr--  1 root  wheel   91,   2 Apr 13 16:46 s64
	drwxr-xr-x  2 root  wheel       512 Apr 13 16:46 sd

    /dev/vinum/plex:
    total 0
    crwxr-xr--  1 root  wheel   25, 0x10000002 Apr 13 16:46 s64.p0
    
    /dev/vinum/sd:
    total 0
    crwxr-xr--  1 root  wheel   91, 0x20000002 Apr 13 16:46 s64.p0.s0
    crwxr-xr--  1 root  wheel   91, 0x20100002 Apr 13 16:46 s64.p0.s1
    crwxr-xr--  1 root  wheel   91, 0x20200002 Apr 13 16:46 s64.p0.s2
    crwxr-xr--  1 root  wheel   91, 0x20300002 Apr 13 16:46 s64.p0.s3</programlisting>

    <para>Plex-үүд болон дэд дискнүүд нь тусгайлсан нэрсийг хуваарилах ёсгүй гэж 
	зөвлөдөг боловч Vinum хөтчүүд нь нэрлэгдсэн байх ёстой. Энэ нь хөтчийг 
	өөр байрлал уруу зөөж автоматаар таньсан хэвээр байх боломжийг 
	бүрдүүлдэг. Хөтчийн нэрс 32 тэмдэгт хүртэл урттай байж болно.</para>

    <sect2>
      <title>Файлын системүүд үүсгэх нь</title>

	<para>Эзлэхүүнүүд нь нэг зүйлээс бусдаараа дискнүүдэд ижил юм шиг 
	системд харагддаг. &unix; хөтчүүдээс ялгаатай нь Vinum эзлэхүүнүүдийг 
	хуваадаггүй, тиймээс хуваалтын хүснэгтийг агуулдаггүй.  Энэ нь зарим нэг 
	дискний хэрэгслүүдэд ялангуяа &man.newfs.8;-д өөрчлөлт хийхийг шаарддаг. 
	Урьд нь  &man.newfs.8; Vinum-ийн эзлэхүүний нэрийн сүүлийн үсгийг 
	хуваалт таниулагч гэж тайлбарлахыг оролддог байсан байна. Жишээ нь 
	дискний хөтөч <filename class="devicefile">/dev/ad0a</filename> эсвэл 
	<filename class="devicefile">/dev/da2h</filename> гэсэн нэртэй байж болох юм. 
	Эдгээр нэрс нь эхний (0) IDE диск дээрх эхний хуваалт (<devicename>a</devicename>)
	болон гурав дахь (3) SCSI диск дэх найм дахь хуваалтыг 
	(<devicename>h</devicename>) илэрхийлдэг. Ялгаатай тал нь 
	Vinum эзлэхүүн нь хуваалтын нэртэй ямар ч холбоогүй нэрээр магадгүй  
	<filename class="devicefile">/dev/gvinum/concat</filename> гэж нэрлэгдэж болох 
	юм.</para>

	<para>Энэ эзлэхүүн дээр файлын систем үүсгэхийн тулд 
	  &man.newfs.8;-г ашиглана:</para>

	<screen>&prompt.root; <userinput>newfs /dev/gvinum/concat</userinput></screen>
    </sect2>
  </sect1>
  
  <sect1 id="vinum-config">
    <title>Vinum тохируулах нь</title>

    <para><filename>GENERIC</filename> цөм Vinum-ийг агуулдаггүй. Vinum оруулсан 
	тусгай цөм бүтээх боломжтой боловч ингэхийг зөвлөдөггүй. Vinum-ийг эхлүүлэх 
	стандарт арга нь цөмийн модуль (<acronym>kld</acronym>) юм. Та бүр 
	Vinum-д зориулж &man.kldload.8;-г ч ашиглах хэрэггүй: &man.gvinum.8;-г 
	эхлүүлэхэд энэ нь модуль ачаалагдсан эсэхийг шалгаад хэрэв үгүй бол түүнийг 
	автоматаар ачаалдаг.</para>


    <sect2>
      <title>Эхлүүлэлт</title>

      <para>Vinum нь тохиргооны мэдээллийг гол нь тохиргооны файлуудад байдаг  яг тэр 
	хэлбэрээр дискний зүсмэлүүд дээр хадгалдаг. Тохиргооны мэдээллийн баазаас унших 
	үед Vinum тохиргооны файлуудад зөвшөөрөгдөөгүй хэд хэдэн түлхүүр үгнүүдийг 
	таньдаг. Жишээ нь дискний тохиргоо дараах текстийг агуулж болох юм:</para>

	<programlisting width="119">volume myvol state up
volume bigraid state down
plex name myvol.p0 state up org concat vol myvol
plex name myvol.p1 state up org concat vol myvol
plex name myvol.p2 state init org striped 512b vol myvol
plex name bigraid.p0 state initializing org raid5 512b vol bigraid
sd name myvol.p0.s0 drive a plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p0.s1 drive b plex myvol.p0 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p1.s0 drive c plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 0b
sd name myvol.p1.s1 drive d plex myvol.p1 state up len 1048576b driveoffset 265b plexoffset 1048576b
sd name myvol.p2.s0 drive a plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 0b
sd name myvol.p2.s1 drive b plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 524288b
sd name myvol.p2.s2 drive c plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1048576b
sd name myvol.p2.s3 drive d plex myvol.p2 state init len 524288b driveoffset 1048841b plexoffset 1572864b
sd name bigraid.p0.s0 drive a plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 0b
sd name bigraid.p0.s1 drive b plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 4194304b
sd name bigraid.p0.s2 drive c plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 8388608b
sd name bigraid.p0.s3 drive d plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 12582912b
sd name bigraid.p0.s4 drive e plex bigraid.p0 state initializing len 4194304b driveoff set 1573129b plexoffset 16777216b</programlisting>
  
	<para>Эндэх мэдээжийн ялгаанууд нь байрлалын тодорхой мэдээлэл болон нэрлэлт 
	(тэдгээрийн хоёул бас зөвшөөрөгдсөн боловч хэрэглэгчид ашиглахыг хориглосон)
	болон түвшингүүд дэх мэдээлэл (хэрэглэгчид байдаггүй) байгаа явдал юм. 
	Vinum нь тохиргооны мэдээлэл дэх хөтчүүдийн тухай мэдээллийг хадгалдаггүй:
	энэ нь Vinum шошготой хуваалтуудын хувьд тохируулагдсан дискний хөтчүүдийг скан хийн 
	хөтчүүдийг олдог. Энэ нь тэдгээр хөтчүүдэд өөр төрлийн &unix; хөтчийн ID өгсөн байсан ч 
	Vinum-д хөтчүүдийг зөвөөр таних боломжийг олгодог.</para>
  
      <sect3 id="vinum-rc-startup">
	<title>Автомат эхлүүлэлт</title>

	<para><emphasis>Gvinum</emphasis> нь &man.loader.conf.5;-ийн тусламжтай 
	цөмийн модуль ачаалагдсаны дараа автоматаар эхлүүлэгддэг боломжийг үргэлж 
	агуулсан байна. <emphasis>Gvinum</emphasis> модулийг ачаалалтын үед 
	дуудахын тулд <filename>/boot/loader.conf</filename> файлд 
	<literal>geom_vinum_load="YES"</literal> мөрийг нэмэх хэрэгтэй.</para>

	<para><command>gvinum start</command> тушаалаар Vinum-ийг 
	эхлүүлэхэд Vinum нь аль нэг Vinum хөтчөөс тохиргооны мэдээллийн баазыг 
	уншдаг. Ердийн тохиолдолд хөтөч бүр тохиргооны мэдээллийн баазын адил хуулбарыг 
	агуулдаг учир аль хөтөч уншигдах нь хамаагүй юм. Гэхдээ сүйрлийн дараа 
	Vinum нь аль хөтөч хамгийн сүүлд шинэчлэгдсэнийг тодорхойлж тэр хөтчөөс 
	тохиргоог унших ёстой. Дараа нь тэр хэрэв шаардлагатай бол хуучин хөтчүүдээс 
	тохиргоог шинэчилдэг.</para>

      </sect3>
    </sect2>
  </sect1>

  <sect1 id="vinum-root">
    <title>Root файлын системийн хувьд Vinum-ийг ашиглах нь</title>

    <para>Vinum ашиглан бүрэн толин тусгал хийгдсэн файлын системүүд бүхий 
	машины хувьд root файлын системийг бас толин тусгал хийх нь зүйтэй. 
	Ингэж тохируулах нь дурын файлын системийг толин тусгал хийхээс 
	амаргүй юм, учир нь:</para>

    <itemizedlist>
      <listitem>
	<para>root файлын систем нь ачаалах процессийн нэлээн эхэн үед бэлэн 
	байж байх шаардлагатай учраас Vinum дэд бүтэц нь энэ үед аль хэдийн бэлэн 
	болсон байх шаардлагатай.</para>
      </listitem>
      <listitem>
	<para>root файлын системийг агуулсан эзлэхүүн нь бас системийг эхлүүлэх код 
	болон цөмийг агуулдаг бөгөөд цөм нь хост системийн эх хэрэгслүүд (өөрөөр хэлбэл 
	PC ангиллын машинууд дээр BIOS) ашиглан уншигдах ёстой. Эдгээр хост системийн 
	эх хэрэгслүүдэд Vinum-ийн талаар дэлгэрэнгүйг мэдүүлэх ихэвчлэн боломжгүй 
	байдаг.</para>
      </listitem>
    </itemizedlist>

    <para>Дараах хэсгүүдэд <quote>root эзлэхүүн</quote> гэсэн ойлголт 
	root файлын системийг агуулдаг Vinum эзлэхүүнийг тайлбарлахад голчлон 
	ашиглагдана. Энэ эзлэхүүний хувьд <literal>"root"</literal> 
	гэсэн нэрийг ашиглах нь зүйтэй санаа боловч энэ нь аль ч талаараа заавал 
	шаардлагатай биш юм. Дараах хэсгүүд дэх бүх тушаалын жишээнүүд нь 
	энэ нэрийг ашиглах болно.</para>

    <sect2>
      <title>root файлын системийн хувьд Vinum-ийг аль болох эрт эхлүүлэх нь</title>

      <para>Ингэхийн тулд хэд хэдэн арга хэмжээнүүдийг авах хэрэгтэй:</para>

      <itemizedlist>
	<listitem>
	  <para>Vinum нь ачаалах үед цөмд бэлэн байх ёстой. Тиймээс 
		<xref linkend="vinum-rc-startup">-д тайлбарласан 
		Vinum-ийг автоматаар эхлүүлэх арга нь энэ асуудлыг шийдэхэд 
		хэрэглэх боломжгүй бөгөөд <literal>start_vinum</literal> 
		параметрийг дараах тохиргоог зохион байгуулсан тохиолдолд тохируулах 
		ёсгүй. Эхний тохируулга нь Vinum-ийг статикаар цөмд эмхэтгэх 
		тохируулга байх юм. Тэгэхээр энэ боломж нь үргэлж бэлэн байх боловч 
		ихэнх тохиолдолд хүсмээр зүйл биш байдаг. <filename>/boot/loader</filename> 
		(<xref linkend="boot-loader">)-аар цөмийг эхлэхээс өмнө 
		vinum цөмийн модулийг эрт ачаалахаар тохируулах өөр бас нэг 
		тохируулга байдаг. Ингэхийн тулд дараах мөрийг:</para>

	  <programlisting>geom_vinum_load="YES"</programlisting>

	  <para><filename>/boot/loader.conf</filename> файл уруу оруулж хийж болно.</para>
	</listitem>

	<listitem>
	  <para><emphasis>Gvinum</emphasis>-ийн хувьд бүх 
		эхлүүлэлт нь цөмийн модуль ачаалагдсаны дараа 
		автоматаар хийгддэг учраас дээр тайлбарласан процедур  
		байхад л хангалттай.</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>Vinum дээр тулгуурласан root эзлэхүүнийг эхлүүлэх кодонд хандах 
	боломжтой болгох нь</title>

      <para>Одоогийн &os; эхлүүлэгч нь зөвхөн 7.5KB код байдаг бөгөөд энэ нь  
	UFS файлын системээс файлуудыг (<filename>/boot/loader</filename> 
	зэрэг) уншдагаар хийгдсэн байдаг болохоор Vinum-ийн тохиргооны мэдээллийг 
	боловсруулж эхлэх эзлэхүүний өөрийнх нь элементүүдийг таньж Vinum-ийн 
	дотоод бүтцүүдийг түүнд мэдүүлэх нь илт боломжгүй юм. Тиймээс 
	root файлын системийг агуулдаг стандарт <literal>"a"</literal> 
	хуваалтын хуурамч үзэгдлээр эхлүүлэгч кодыг хангах зарим нэгэн 
	заль мэх шаардлагатай байдаг.</para>

      <para>Ингэхийн тулд root эзлэхүүний хувьд дараах шаардлагуудыг хангасан 
	байх ёстой:</para>

      <itemizedlist>
	<listitem>
	  <para>root эзлэхүүн нь судал хийгдээгүй эсвэл RAID-5 хийгдээгүй байх ёстой.</para>
	</listitem>

	<listitem>
	  <para>root эзлэхүүн нь нэг plex-ийн хувьд нэгээс илүү нийлүүлэгдсэн дэд 
		дисктэй байх ёсгүй.</para>
	</listitem>
      </itemizedlist>

      <para>Тус бүрдээ root файлын системийн нэг хуулбарыг агуулсан олон plex 
	байлгах боломжтой бөгөөд ингэх сонирхолтой байдгийг санаарай. 
	Гэхдээ эхлүүлэгч процесс нь эдгээр хуулбаруудын зөвхөн нэгийг эхлүүлэгч болон 
	бүх файлуудыг олохын тулд цөм root файлын системийг өөрийг нь холбох хүртэл 
	хэрэглэдэг. Дараа нь харгалзах төхөөрөмжийг эхлүүлэх боломжтой болгохын тулд 
	эдгээр plex-үүдийн доторх ганц дэд диск бүрт өөрсдийн <literal>"a"</literal> 
	хуваалтын хуурамч үзэгдэл хэрэгтэй болдог. Эдгээр хуурсан <literal>"a"</literal> 
	хуваалт бүр  өөрийн төхөөрөмжийн дотор адил офсетэд байрлах нь root эзлэхүүний 
	plex-үүдийг агуулдаг бусад төхөөрөмжүүдтэй харьцуулах юм бол заавал хэрэгтэй 
	байдаггүй. Гэхдээ Vinum эзлэхүүнүүдийг толин тусгал хийгдсэн төхөөрөмжүүд нь 
	тэгш хэмт байхаар эндүүрлээс хамгаалж үүсгэх нь магадгүй зүйтэй санаа байх юм.</para>

      <para>Эдгээр <literal>"a"</literal> хуваалтуудыг root эзлэхүүний хэсгийг 
	агуулсан төхөөрөмж бүрийн хувьд тохируулахын тулд доор дурдсаныг хийх хэрэгтэй:</para>

      <procedure>
	<step>
	  <para>Энэ төхөөрөмжийн root эзлэхүүний хэсэг болох дэд дискний байрлал 
		(төхөөрөмжийн эхэн хэсгээс тодорхой офсетэд) болон хэмжээг 
		дараах тушаалыг ашиглаж шалгах хэрэгтэй:</para>

	  <screen>&prompt.root; <userinput>gvinum l -rv root</userinput></screen>

	  <para>Vinum офсетүүд болон хэмжээнүүд нь байтаар хэмжигддэг болохыг 
		санаарай. <command>bsdlabel</command> тушаалд 
		хэрэглэгддэг блок дугааруудыг олж авахын тулд тэдгээр нь  512-т 
		хуваагдах ёстой.</para>
	</step>

	<step>
	  <para>Дараах тушаалыг:</para>

	  <screen>&prompt.root; <userinput>bsdlabel -e <replaceable>devname</replaceable></userinput></screen>

	  <para>гэж root эзлэхүүнд оролцож байгаа төхөөрөмж бүрийн хувьд ажиллуулна.
		<replaceable>devname</replaceable> нь зүсмэлийн хүснэгтгүй
		дискнүүдийн дискний нэр (<devicename>da0</devicename> гэх зэрэг) 
		эсвэл зүсмэлийн нэр (<devicename>ad0s1</devicename> гэх зэрэг) 
		байх ёстой.</para>

	  <para>Хэрэв төхөөрөмж дээр <literal>"a"</literal> хуваалт 
		(Vinum-ийн өмнөх root файлын системийг агуулсан) байх юм бол 
		энэ нь хандахад боломжтой хэвээр (зөвхөн энэ тохиолдолд) байхын 
		тулд өөр нэрээр нэрлэгдэх шаардлагатай. Гэхдээ анхдагчаар системийг 
		эхлүүлэхэд хэрэглэгдэхээ болих юм. Идэвхтэй хуваалтуудын  
		(одоогоор холбогдсон root файлын систем зэрэг) нэрийг өөрчилж 
		болохгүй, тийм болохоор үүнийг <quote>Fixit</quote> зөөвөрлөгчөөс 
		эхлүүлэх үед эсвэл (толин тусгал хийгдсэн нөхцөлд) ачаалаагүй байгаа 
		дискийг эхлээд удирдах хоёр алхамтай процессийн үед ажиллуулах ёстойг 
		санаарай.</para>

	  <para>Дараа нь энэ төхөөрөмж дээрх Vinum хуваалтын офсет нь энэ 
		төхөөрөмжийн харгалзах root эзлэхүүний дэд дискний офсетэд 
		нэмэгдэх ёстой. Үр дүнд нь гарах утга нь шинэ <literal>"a"</literal> 
		хуваалтын хувьд <literal>"offset" буюу офсет</literal> 
		утга болно. Энэ хуваалтын хувьд <literal>"size" буюу хэмжээ</literal> 
		утгыг дээрх тооцооллоос үгчлэн авч болно. <literal>"fstype"</literal> 
		нь <literal>4.2BSD</literal> байх ёстой. 
		<literal>"fsize"</literal>, <literal>"bsize"</literal>,
	    	болон <literal>"cpg"</literal> утгууд нь байгаа файлын системтэй 
		таарахаар сонгогдсон байх хэрэгтэй, гэхдээ тэдгээр нь энэ сэдэвт   
		бараг л чухал биш юм.</para>

	  <para>Ийм замаар шинэ <literal>"a"</literal> хуваалт нь 
		энэ төхөөрөмж дээрх Vinum хуваалтыг дарж байгуулагдана. 
		Хэрэв Vinum хуваалт нь <literal>"vinum"</literal>
	    	fstype-г ашиглан зөвөөр тэмдэглэгдсэн бол 
		<command>bsdlabel</command> тушаал нь зөвхөн энэ даралтыг 
		зөвшөөрөх болно.</para>
	</step>

	<step>
	  <para>Ингээд боллоо!  root эзлэхүүний нэг хуулбартай төхөөрөмж бүр дээр 
		хуурсан <literal>"a"</literal> хуваалт  одоо бий боллоо. 
		Үр дүнг дараах тушаалтай төстэй тушаал ашиглан дахин шалгахыг 
		зөвлөдөг:</para>

	  <screen>&prompt.root; <userinput>fsck -n /dev/<replaceable>devname</replaceable>a</userinput></screen>
	</step>
      </procedure>

      <para>Шинэ Vinum root эзлэхүүнийг тохируулах үед идэвхтэй байгаа 
	root файлын системтэй таардаггүй учир хяналтын мэдээлэл агуулсан бүх 
	файлууд нь Vinum эзлэхүүн дэх root файлын системд харьцангуй байх ёстойг 
	санах хэрэгтэй. Тэгэхээр ялангуяа <filename>/etc/fstab</filename>
	болон <filename>/boot/loader.conf</filename> файлуудыг 
	бодолцох хэрэгтэй юм.</para>

      <para>Дараагийн дахин ачаалалтын дараа эхлүүлэгч нь шинэ Vinum дээр тулгуурласан 
	root файлын системээс тохирох хяналтын мэдээллийг олж түүний дагуу ажиллах 
	ёстой. Цөмийн эхлүүлэх процессийн төгсгөлд бүх төхөөрөмжүүд зарлагдсаны 
	дараа энэ тохиргоог амжилттай болсныг харуулсан алдартай мэдэгдэл иймэрхүү 
	байдлаар харуулагдана:</para>

      <screen>Mounting root from ufs:/dev/gvinum/root</screen>
    </sect2>

    <sect2>
      <title>Vinum дээр тулгуурласан root тохиргооны жишээ</title>

      <para>Vinum root эзлэхүүн тохируулагдсаны дараа 
	<command>gvinum l -rv root</command> тушаалын үр дүн иймэрхүү 
	харагдана:</para>

	<screen>
...
Subdisk root.p0.s0:
		Size:        125829120 bytes (120 MB)
		State: up
		Plex root.p0 at offset 0 (0  B)
		Drive disk0 (/dev/da0h) at offset 135680 (132 kB)

Subdisk root.p1.s0:
		Size:        125829120 bytes (120 MB)
		State: up
		Plex root.p1 at offset 0 (0  B)
		Drive disk1 (/dev/da1h) at offset 135680 (132 kB)
	</screen>

      <para>Тэмдэглэх ёстой утгууд нь офсетийн (<filename class="devicefile">/dev/da0h</filename> 
	хуваалтын хувьд харьцангуй байна) хувьд <literal>135680</literal> 
	байна. Энэ нь <command>bsdlabel</command>-ийн ойлголтод 
	265 ширхэг 512 байт диск блок уруу хөрвүүлнэ. Үүнтэй адилаар энэ root 
	эзлэхүүний хэмжээ нь 245760 512 байт блок юм. Энэ root эзлэхүүний 
	хоёр дахь хуулбарыг агуулсан <filename class="devicefile">/dev/da1h</filename> нь 
	тэгш хэмтэй тохиргоотой байна.</para>

      <para>Эдгээр төхөөрөмжийн хувьд bsdlabel нь иймэрхүү харагдана:</para>

	<screen>
...
8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  a:   245760      281    4.2BSD     2048 16384     0   # (Cyl.    0*- 15*)
  c: 71771688        0    unused        0     0         # (Cyl.    0 - 4467*)
  h: 71771672       16     vinum                        # (Cyl.    0*- 4467*)
	</screen>

      <para>Хуурсан <literal>"a"</literal> хуваалтын 
	<literal>"size"</literal> параметр нь дээр харуулсан утгатай 
	таардаг бол харин <literal>"offset"</literal> параметр нь 
	Vinum хуваалт <literal>"h"</literal> доторх офсет 
	болон төхөөрөмж (эсвэл зүсмэл) дэх энэ хуваалтын офсетийн нийлбэр болохыг 
	эндээс харж болно. Энэ нь <xref linkend="vinum-root-panic">-д 
	тайлбарласан асуудлыг тойрон гарахад шаардлагатай ердийн тохиргоо юм.
	Мөн бүхэл <literal>"a"</literal> хуваалт нь энэ төхөөрөмжийн хувьд 
	бүх л Vinum өгөгдлийг агуулан бүтнээрээ <literal>"h"</literal> дотор 
	байхыг эндээс бас харж болно.</para>

      <para>Дээрх жишээн дээр бүхэл төхөөрөмж нь Vinum-д зориулагдсан бөгөөд 
	зөвхөн Vinum тохиргооны хэсэг болохоор зориулагдсан дискний шинэ тохиргоо 
	учраас Vinum-аас өмнөх root хуваалтын үлдэгдэл байхгүй болохыг санах 
	хэрэгтэй.</para>
    </sect2>

    <sect2>
      <title>Алдааг олж засварлах нь</title>

      <para>Хэрэв ямар нэгэн зүйл болохоо байвал энэ тохиолдолд сэргээх арга хэрэгтэй. 
	Дараах жагсаалт нь тохиолддог цөөн хэдэн асуудлууд болон шийдлүүдийг 
	харуулж байна.</para>

      <sect3>
	<title>Системийн эхлүүлэгч ачаалах боловч систем эхлэхгүй байх</title>

	<para>Ямар нэг шалтгаанаар систем нь ачаалахгүй бол эхлүүлэгчийг 
	10 секундын анхааруулга дээр <keycap>space</keycap> товчлуур дарж 
	тасалдуулж болно. Дуудагчийн хувьсагчуудыг (<literal>vinum.autostart</literal> зэрэг) 
	<command>show</command> тушаал ашиглан шалгаж болох бөгөөд 
	<command>set</command> эсвэл  <command>unset</command> тушаалуудыг 
	ашиглан тохируулж болно.</para>

	<para>Хэрэв цөмийн Vinum модуль нь автоматаар дуудагддаг модулиудын 
	жагсаалтад орж амжаагүй байх юм бол ердийн <command>load geom_vinum</command> 
	тушаал туслана.</para>

	<para>Бэлэн болсныхоо дараа ачаалах процессийг <command>boot -as</command> 
	тушаалаар үргэлжлүүлж болно. <option>-as</option> тохируулгууд нь 
	root файлын системийг холбохыг (<option>-a</option>) асуудаг 
	бөгөөд ачаалах процессийг root файлын системийг зөвхөн унших эрхээр холбосон 
	ганц-хэрэглэгчийн горимд (<option>-s</option>) зогсоохыг 
	цөмөөс хүсдэг. Ийм замаар олон-plex эзлэхүүний зөвхөн нэг plex холбогдсон 
	байхад plex-үүд хоорондын өгөгдлийн бүрэн бүтэн бус байдлын эрсдэл 
	гардаггүй.</para>

	<para>root файлын системийг холбохыг асуух мөрөн дээр зөв root файлын 
	системтэй дурын төхөөрөмжийг оруулж болно. Хэрэв 
	<filename>/etc/fstab</filename> зөв тохируулагдсан бол анхдагч нь 
	<literal>ufs:/dev/gvinum/root</literal> мөртэй төсөөтэй 
	байх ёстой. Ердийн өөр нэг сонголт нь <literal>ufs:da0d</literal> 
	зэрэг Vinum-аас өмнөх root файлын системийг агуулдаг таамаглал хуваалт 
	байж болох юм. Энд жинхэнэдээ толин тусгал үүсгэгдсэн тохируулгаас болоод 
	Vinum root төхөөрөмжийн дэд дискнүүд уруу заасан аль нэг хуулбар 
	<literal>"a"</literal> хуваалтыг оруулсан бол болгоомжтой байх хэрэгтэй 
	бөгөөд энэ нь толин тусгал хийгдсэн root төхөөрөмжийн зөвхөн нэгийг 
	холбох болно. Хэрэв энэ файлын систем нь дараа нь унших бичих эрхтэйгээр 
	холбогдох бол Vinum root эзлэхүүний бусад plex-(үүд)ийг арилгах 
	шаардлагатай. Учир нь эдгээр plex-үүд нь бүрэн бүтэн бус өгөгдлийг 
	зөөвөрлөх болно.</para>
      </sect3>

      <sect3>
	<title>Зөвхөн анхдагч эхлүүлэгч дуудах</title>

	<para>Хэрэв <filename>/boot/loader</filename> дуудагдахгүй байгаа 
	боловч анхдагч эхлүүлэгч дуудагдаж байвал (ачаалах процесс эхэлсний дараа 
	дэлгэцийн зүүн багана дээр ганц зураас харагддаг) энэ үед анхдагч 
	эхлүүлэгчийг тасалдуулах оролдлогыг <keycap>space</keycap> товчлуур 
	ашиглан хийж болно. Энэ нь эхлүүлэгчийг хоёрдугаар алхам дээр зогсоох 
	бөгөөд <xref linkend="boot-boot1">-с үзнэ үү. Энд 
	<literal>"a"</literal>-с дээр шилжүүлэгдсэн өмнөх root файлын 
	системийг агуулсан өөр хуваалтаас ачаалах оролдлого хийж болох 
	юм.</para>
      </sect3>

      <sect3 id="vinum-root-panic">
	<title>Юу ч ачаалахгүй болж эхлүүлэгч сүйрэх</title>

	<para>Энэ тохиолдол нь хэрэв эхлүүлэгчийг Vinum суулгацаар устгасан 
	бол тохиолддог. Харамсалтай нь одоогоор Vinum нь санамсаргүйгээр 
	зөвхөн 4 KB хэмжээг чөлөөтэйгөөр өөрийн хуваалтын эхэнд өөрийн Vinum 
	толгойн мэдээллийг бичиж эхлэхээсээ өмнө үлдээдэг.  Гэхдээ нэгдүгээр алхам
	ба хоёрдугаар эхлүүлэгчид, тэдгээрийн хооронд суулгагдсан bsdlabel нь 
	одоогоор 8 KB-г шаарддаг. Хэрэв Vinum хуваалт нь ачаалагдах боломжтой 
	гэгдэж байгаа зүсмэл эсвэл диск дотор 0 офсетэд эхэлсэн бол Vinum нь 
	эхлүүлэгчийг устгана.</para>

	<para>Үүнтэй адилаар хэрэв дээрх тохиолдол сэргээгдсэн бол, 
	жишээ нь <quote>Fixit</quote> зөөвөрлөгчөөс ачаалагдаж 
	эхлүүлэгч нь <xref linkend="boot-boot1">-д тайлбарласны дагуу 
	дахин суулгагдсан бол эхлүүлэгч нь Vinum толгойг устгах бөгөөд 
	Vinum нь өөрийн диск(үүд)ийг дахиж олохгүй байх болно. Яг жинхэнэдээ 
	Vinum-ийн тохиргооны өгөгдөл эсвэл Vinum-ийн эзлэхүүнүүд дэх 
	өгөгдөл нь энэ үед устгагддаггүй бөгөөд бүх өгөгдлийг яг адилхан 
	Vinum тохиргооны өгөгдлийг дахин оруулснаар сэрээх боломжтой боловч 
	ийм тохиолдлыг засварлах нь их хэцүү байдаг. Vinum толгой болон системийн 
	эхлүүлэгчийг давхцуулахгүй байлгахын тулд бүхэл Vinum хуваалтыг 
	хамгийн багаар бодоход 4 KB-аар шилжүүлэх хэрэгтэй болно.</para>
      </sect3>
    </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
