<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>FreeBSD/alpha 4.5-RELEASE リリースノート</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.73 ">
    <link rel="STYLESHEET" type="text/css" href="docbook.css">
    <meta http-equiv="Content-Type" content=
    "text/html; charset=EUC-JP">
  </head>

  <body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="ARTICLE">
      <div class="TITLEPAGE">
        <h1 class="TITLE"><a name="AEN2">FreeBSD/alpha 4.5-RELEASE
        リリースノート</a></h1>

        <h3 class="CORPAUTHOR">FreeBSD プロジェクト</h3>

        <p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002 by
        FreeBSD ドキュメンテーションプロジェクト</p>

        <p class="PUBDATE">$FreeBSD:
        src/release/doc/ja_JP.eucJP/relnotes/common/new.sgml,v
        1.5.2.14.2.2 2002/01/27 16:16:42 hrs Exp $<br>
        </p>

        <div>
          <div class="ABSTRACT">
            <a name="AEN11"></a>

            <p>この FreeBSD 4.5-RELEASE リリースノートには、FreeBSD
            4.4-RELEASE のリリース以降に FreeBSD
            ベースシステムに対して加えられた変更点がまとめられています。
            変更点はカーネル、ユーザランドにおけるものだけでなく、
            前回のリリース以降に発行され、
            ベースシステムに影響のあるセキュリティ勧告も含まれています。
            また、
            アップグレードの際の注意点についても簡単に説明しています。</p>
          </div>
        </div>
        <hr>
      </div>

      <div class="TOC">
        <dl>
          <dt><b>Table of Contents</b></dt>

          <dt>1. <a href="#AEN13">はじめに</a></dt>

          <dt>2. <a href="#AEN21">更新情報</a></dt>

          <dt>3. <a href="#AEN701">以前の FreeBSD
          リリース版からのアップグレード</a></dt>
        </dl>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN13">1. はじめに</a></h1>

        <p>この文書は Alpha/AXP アーキテクチャ版 FreeBSD
        4.5-RELEASE のリリースノートです。これには 4.4-RELEASE
        以降に追加 (変更) された新機能および、前のバージョンの
        FreeBSD
        からアップグレードする場合におけるいくつかの注意点か書かれています。</p>

        <p>この FreeBSD 4.5-RELEASE は release 版であり、<a href=
        "ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/" target=
        "_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/</a>
        および各ミラーサイトで公開されています。FreeBSD の release
        版 (またはそれ以外) の入手法については <a href=
        "http://www.FreeBSD.org/handbook/" target="_top">FreeBSD
        ハンドブック</a>の <a href=
        "http://www.FreeBSD.org/handbook/mirrors.html" target=
        "_top">``FreeBSD を入手するには''</a>をご覧ください。</p>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN21">2. 更新情報</a></h1>

        <p>この節では 4.4-RELEASE 以降に新たに追加・変更された
        ユーザに影響する機能について説明します。
        リリースノートの項目には通常、
        新しいドライバや新しいハードウェアへの対応、
        新しいコマンドや新しいオプションの導入、大規模なバグ修正、
        寄贈ソフトウェアのアップグレードが含まれており、
        それに加えて 4.4-RELEASE 以降に発行され、
        ベースシステムに影響のあるセキュリティ勧告も記載されています。</p>

        <p>FreeBSD に加えられた変更点のうち、
        スペースの都合上ここに書かれていないものも多数存在します。
        それらはたとえば文書の修正や改良、
        ごく影響の小さいバグの修正、
        監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正、
        ソースコードの整理などです。</p>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="KERNEL">2.1.
          カーネルの変更点</a></h2>

          <p><tt class="VARNAME">kern.maxvnodes</tt> の値が、使用
          vnode 数の最大値としてきちんと機能するようになりました。
          従来はキャッシュされていないページの vnode
          のみが解放可能でしたが、
          その場合は大容量のメモリを搭載したマシンで多数の小さなファイルをアクセスした場合に
          vnode 数の増加を制限することができませんでした。現在は
          vnode の解放と再利用に <tt class="LITERAL">vnlru</tt>
          というカーネルスレッドが使われています。</p>

          <p>FreeBSD の Linux バイナリ互換機能が <a href=
          "http://www.FreeBSD.org/cgi/url.cgi?ports/emulators/linux_base-7/pkg-descr">
          <tt class="PORT">emulators/linux_base-7</tt></a> (RedHat
          7.X エミュレーション)
          の実現に必要なカーネル機能に対応しました。</p>

          <p>ローダから変更できる変数 <tt class=
          "VARNAME">hw.physmem</tt> および <tt class=
          "VARNAME">MAXMEM</tt> カーネルオプションが追加されました。
          これは試験目的などに利用されるもので、
          マシンに搭載されているメモリサイズを人為的に減らすことができます。</p>

          <p>カーネルの設定パラメータ <tt class=
          "VARNAME">MAXTSIZ</tt>、<tt class="VARNAME">DFLDSIZ</tt>、
          <tt class="VARNAME">MAXDSIZ</tt>、<tt class=
          "VARNAME">DFLSSIZ</tt>、<tt class="VARNAME">MAXSSIZ</tt>、
          <tt class="VARNAME">SGROWSIZ</tt> は、すべてローダからも
          (<tt class="VARNAME">kern.maxtsiz</tt>、<tt class=
          "VARNAME">kern.maxdfldsiz</tt> などの変数で)
          設定することが可能になりました。</p>

          <p>カーネル設定パラメータ <tt class=
          "VARNAME">maxusers</tt> に <tt class="LITERAL">0</tt>
          を指定した場合、起動時に自動的に適切な値が
          (搭載メモリ量に応じて 32 から 384 の間で)
          設定されるようになりました。すべてのアーキテクチャの <tt
          class="FILENAME">GENERIC</tt> カーネルにおいて、この <tt
          class="LITERAL">0</tt> が標準値になっています。</p>

          <p>コンソールドライバが TGA
          ベースのディスプレイアダプタに対応しました。</p>

          <p>巨大なプロセス (あるいは非常に多数のプロセス)
          のコアダンプの際に、
          長い間マシンが停止してしまう症状が起こらなくなりました。</p>

          <p>システムの負荷計算において、
          負荷の測定間隔にいくらか揺らぎを持たせるような変更が行なわれました。
          これは、
          定期的に実行されるプロセスとの同期を防ぐためのものです。</p>

          <p>デバッグ対応カーネルをモジュールと一緒に (つまり <tt
          class="LITERAL">makeoptions DEBUG=-g</tt> を指定して)
          構築した場合は、
          完全を期すためにモジュールの構築もデバッグ対応を有効にして行なわれるようになりました。
          この影響により、
          モジュールをデバッグ対応カーネルと一緒に構築・インストールすると
          以前よりも大きいディスク空間を占有するようになっています。</p>

          <p>Compaq Tru64 および FreeBSD は、TOY
          クロックチップの年部分の扱いが異なっています。しかし
          Compaq Tru64 は、FreeBSD より 52
          年進んだ値を年として使っているため、1 台の Alpha マシンで
          TOY クロック設定に触れずにデュアルブートできるよう、
          FreeBSD に boot 環境変数 <tt class=
          "VARNAME">clock_compat_osf1</tt> が追加されました。
          この環境変数をローダの <tt class="LITERAL">ok</tt>
          プロンプトで <tt class="LITERAL">1</tt> に設定するか、<tt
          class="FILENAME">/boot/loader.conf</tt> に <tt class=
          "LITERAL">clock_compat_osf1=1</tt>
          という行を追加することで、
          時間が狂うことなくデュアルブートすることが可能になります。</p>

          <p>インストール CD のカーネルが <tt class=
          "FILENAME">mfsroot</tt> から分離されました。
          これによりカスタマイズした FreeBSD
          の配布の作成がより柔軟に行なえるようになっています。</p>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN74">2.1.1.
            プロセッサ・マザーボードの対応状況</a></h3>

            <p>マシン依存コードが修正され、FreeBSD が EV5 Alpha
            プロセッサベースの Alphaserver 2100 および 2100A
            マシンで動作するようになりました。EV4 Alpha
            プロセッサを搭載したマシンはすでに対応済みです。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN77">2.1.2.
            起動ローダ関連</a></h3>

            <p>FreeBSD 起動ローダが 8K
            より大きいブロック長を持つファイルシステムからの起動に対応しました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN93">2.1.3.
            ネットワークインターフェイスの対応状況</a></h3>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=an&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">an</span>(4)</span></a>
            ドライバが新しく ``monitor'' モードに対応しました。<a
            href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ancontrol&sektion=8">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ancontrol</span>(8)</span></a> に <tt
            class="OPTION">-M</tt> オプションを指定することで、
            このモードに設定することが可能です。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=dc&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">dc</span>(4)</span></a>
            ドライバが新しく Conexant LANfinity RS7112
            チップをベースにした NIC に対応しました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=de&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">de</span>(4)</span></a>
            ドライバは従来の受信ユニットに優先度を与えるという方式ではなく、
            21143
            の送受信ユニット間でラウンドロビンの調停を行なうようになりました。
            これにより、高負荷時の転送速度において 10-15%
            程度の性能向上が達成されています。</p>

            <p>dgm ドライバが FreeBSD -CURRENT
            の変更を受けて更新されました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=faith&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">faith</span>(4)</span></a>
            デバイスがロード・アンロード可能になり、
            クローニング機能に対応しました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=fxp&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">fxp</span>(4)</span></a>
            ドライバが新しく Intel
            のロード可能マイクロコードに対応しました。
            これにより受信側の割り込みコーリス機能 (訳注: interrupt
            coalescing; 割り込みの取りこぼしを防ぐ機能)
            やパケット結合機能など、NIC
            が対応している機能を利用できるようになります。
            この機能は <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ifconfig</span>(8)</span></a> に <tt
            class="OPTION">link0</tt>
            オプションを指定することで有効になります。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=gx&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">gx</span>(4)</span></a>
            ドライバが新しく追加されました。これは Intel 82542
            および 82543 ギガビット Ethernet
            コントローラチップをベースにした、光ファイバ、
            メタル線の両方のタイプの NIC に対応しています。82542 と
            82543 は両方とも VLAN タグ挿入機能に対応しており、82543
            はさらに TCP/IP
            チェックサムの負荷低減機能を備えています。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=sis&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">sis</span>(4)</span></a>
            ドライバが新しく、SiS 635 および 735
            マザーボードチップセットに内蔵されている SiS 900 系の
            オンボード Ethernet コントローラに対応しました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=sis&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">sis</span>(4)</span></a> ドライバが
            VLAN に対応しました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=vlan&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">vlan</span>(4)</span></a>
            デバイスがロード・アンロード可能になり、
            クローニング機能に対応しました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=wx&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">wx</span>(4)</span></a>
            ドライバは公式に保守されないことが決定し、
            廃止されました。Intel Pro/1000 ギガビット Ethernet
            インターフェイスを利用する場合は <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">em</span>(4)</span></a> もしくは <a
            href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=gx&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">gx</span>(4)</span></a>
            ドライバを使ってください (<a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">em</span>(4)</span></a> ドライバは
            Intel の支援を受けて開発されたものですが、動作するのは
            i386 アーキテクチャのみです。<a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=gx&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">gx</span>(4)</span></a> ドライバは
            FreeBSD プロジェクトが独自に開発したもので、
            複数のプラットフォームで動作します)。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=xl&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">xl</span>(4)</span></a>
            ドライバが新しく、送信側・受信側双方における TCP/IP
            チェックサムの負荷低減機能に対応しました。これは、
            この機能に対応している 3C905B、3C905C、3C980C などの
            NIC に対して有効です。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=xl&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">xl</span>(4)</span></a>
            ドライバにおいて、
            統計情報のオーバフロー割り込みの処理に関連するバグが修正されました。
            これはパケットの送受信速度が中から高程度になった時に、
            処理速度が低下する原因となっていたものです。</p>

            <p>インターフェイス一つ一つに用意される <tt class=
            "VARNAME">ifnet</tt> 構造体に、
            ネットワークインターフェイスが対応している機能と、
            どの機能が有効化されているかを示す部分が追加されました。
            また <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ifconfig</span>(8)</span></a> を使って、
            これらの情報を表示することが可能になっています。</p>

            <p>インターフェイス一つ一つに用意される <tt class=
            "VARNAME">if_inaddr</tt> 構造体が、
            線形リストからハッシュテーブルに変更されました。
            これにより、多数の別名 IP
            アドレスを持っているホストの性能が向上しています。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN189">2.1.4. 
            ネットワークプロトコル</a></h3>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=bridge&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">bridge</span>(4)</span></a> および <a
            href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=dummynet&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">dummynet</span>(4)</span></a>
            に対していくつかバグ修正が行なわれ、
            ロード可能モジュールとして利用できるようになりました。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=select&sektion=2">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">select</span>(2)</span></a>/<a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=poll&sektion=2">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">poll</span>(2)</span></a> や pthreads
            を使用した場合の <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=bpf&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">bpf</span>(4)</span></a>
            の読み出しタイムアウト機能がより正確に動作するようになりました。</p>

            <p>ある条件下でスループットが低下するという、TCP
            NewReno 実装に存在していたバグが修正されました。</p>

            <p>sysctl 変数 <tt class=
            "VARNAME">net.inet.tcp.sendspace</tt> および <tt class=
            "VARNAME">net.inet.tcp.recvspace</tt> で制御可能な TCP
            バッファサイズの標準値が、それぞれ 32K および 64K
            に増やされました。
            このバッファサイズの従来の標準値は両方とも 16K でした。
            ネットワークの混雑を緩和するため、sysctl 変数 <tt
            class=
            "VARNAME">net.inet.tcp.local_slowstart_flightsize</tt>
            の標準値は無限大から 4 に変更されています。</p>

            <div class="NOTE">
              <blockquote class="NOTE">
                <p><b>Note:</b>
                この標準バッファサイズが増加したことにより、
                ネットワーク負荷の高いホストでは、
                カーネルコンフィグファイルもしくは
                ローダから変更できる sysctl 変数 <tt class=
                "VARNAME">kern.ipc.nmbclusters</tt> を用いて <tt
                class="VARNAME">NMBCLUSTERS</tt>
                パラメータを手動で増加させる必要があるかも知れません。
                mbuf クラスタの状態は <tt class="COMMAND">netstat
                -mb</tt> コマンドで監視することが可能です。</p>
              </blockquote>
            </div>
            <br>
            <br>

            <p>TCP 実装において、送信側で 0
            のウィンドウサイズを受けとった場合、
            接続が停止状態となってしまう可能性のあるバグが修正されました。</p>

            <p>FreeBSD の TCP 実装に、未処理の受信 SYN
            セグメントに対するキャッシュが実装されました。
            受信される SYN セグメントは TCP の 3-way
            ハンドシェイクが完了するまでキャッシュ内のエントリに格納され、
            ハンドシェイクが完了した時点で、
            通常の接続用のメモリを割り当てます。また、TCP
            初期シーケンス番号 (ISNs) をクッキー (cookies)
            として用いることで、キャッシュのエントリを削除した後も
            対応する ACK の受理を可能にしています。この
            ``syncache'' および ``syncookies'' と呼ばれる機能は、
            TCP ベースのサービス妨害攻撃 (Denial of Service Attack)
            に対する耐性を向上させます。この機能の開発は DARPA と
            NAI Labs の支援の元に行なわれました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN222">2.1.5. 
            ディスク・記憶装置</a></h3>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span></a>
            ドライバが新しくたくさんの種類のチップセットに対応しました。
            対応チップセットはハードウェアノートに記載されています。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span></a> ドライバが 48
            ビットアドレスに対応しました。これにより 137GB
            を超えるドライブが使用可能になっています。</p>

            <p>The <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span></a>
            ドライバに含まれていた、VIA 82C686B Southbridge
            チップを採用しているシステムでデータが破壊されるという問題が修正されました。</p>

            <p>Alphaserver DS10 および DS20
            におけるフロッピドライブへのアクセスは正しく動作しません。
            フロッピドライブへアクセスを行なうと、
            フロッピディスクのデータが消えたり、
            マシンがクラッシュします。</p>

            <p>新しく <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=isp&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">isp</span>(4)</span></a>
            ドライバが追加されました。これは Qlogic 2300、2312
            Optical Fibre Channel PCI カードに対応しています。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN250">2.1.6.
            ファイルシステム</a></h3>

            <p>FFS ディレクトリレイアウト優先度アルゴリズム (the
            directory layout preference algorithm; <tt class=
            "LITERAL">dirprefs</tt>) が、
            ディレクトリブロックをディスク上に分散させるのではなく、
            関連するディレクトリブロックをなるべくグループ化しようと試みるように変更されました。
            これにより、FreeBSD Ports
            ツリーのように大規模なディレクトリ階層をたどる操作の速度が劇的に向上しています。
            この変更は新規ディレクトリに対しても自動で透過的に作用します。</p>

            <p>仮想メモリサブシステムは、標準で UFS
            ディレクトリメモリ要求を利用するようになりました
            (この動作は sysctl 変数 <tt class=
            "VARNAME">vfs.vmiodirenable</tt>
            で制御することが可能です)。</p>

            <p>SCSI CDROM
            からルートファイルシステムをマウントできない原因と
            なっていたバグが修正されました (ATAPI CDROM
            はすでに対応済みです)。</p>

            <p>
            ハッシュをベースに大規模ディレクトリエントリ検索の最適化を実装した
            <tt class="LITERAL">UFS_DIRHASH</tt> が、<tt class=
            "FILENAME">GENERIC</tt>
            カーネルの標準設定で有効化されるようになりました。</p>

            <p>
            ファイルシステムのコードに存在する多数のバグが修正されました。
            それらは <b class="APPLICATION">fsx</b>
            というファイルシステム試験ツールによって発見されたもので
            (主に NFS の利用と関連する) ある条件下で、
            データの損壊やカーネルパニックを引き起こす可能性を持っていました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN262">2.1.7. PCCARD
            対応状況</a></h3>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN268">2.1.8.
            マルチメディアへの対応状況</a></h3>

            <p>MP3 プレーヤ Diamond Rio シリーズ用の <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=urio&sektion=4">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">urio</span>(4)</span></a>
            ドライバが新しく追加されました
            (このドライバのマニュアルページだけは、なぜか FreeBSD
            4.3-RELEASE の時点で追加されていました)。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN274">2.1.9.
            寄贈ソフトウェア</a></h3>

            <p><b class="APPLICATION">IPFilter</b> が IPv6
            に対応しました。</p>
          </div>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="SECURITY">2.2.
          セキュリティ関連の修正</a></h2>

          <p>FreeBSD 4.4-RELEASE では、
          バグによるセキュリティホールを避けるために
          ユーザごとにある <tt class="FILENAME">~/.login.conf</tt>
          ファイルは 無効になっていましたが、バグが修正されたため、
          現在はこの機能が有効になっています。</p>

          <p><tt class="LITERAL">UseLogin yes</tt>
          が設定されている場合、
          ユーザが高い権限で任意のコードを実行できてしまうという <b
          class="APPLICATION">OpenSSH</b>
          にあったセキュリティホールへの対応が行なわれました。
          ちなみに、この設定項目の標準値は <tt class=
          "LITERAL">UseLogin no</tt> です (セキュリティ勧告 <a
          href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-01:63.openssh.asc"
           target="_top">FreeBSD-SA-01:63</a> 参照)。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pkg_add</span>(1)</span></a>
          が安全でない一時ディレクトリを使用していたことにより、
          ローカルの攻撃者がインストール中のバイナリパッケージの内容を
          改ざんできる可能性があったセキュリティホールへの対応が行なわれました
          (セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:01.pkg_add.asc"
           target="_top">FreeBSD-SA-02:01</a> 参照)。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=pw&sektion=8"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pw</span>(8)</span></a> において、<tt
          class="FILENAME">/etc/master.passwd</tt>
          漏洩の危険性があった競合状態を解決するための対応が行なわれました
          (セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:02.pw.asc"
           target="_top">FreeBSD-SA-02:02</a> 参照)。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=k5su&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">k5su</span>(8)</span></a> において、
          あるプロセスが一度放棄したスーパユーザ権限を再び得ることができる可能性のあるバグが修正されました
          (セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:07.k5su.asc"
           target="_top">FreeBSD-SA-02:07</a> 参照)。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=exec&sektion=3">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">exec</span>(3)</span></a>
          システムコールに含まれていた、
          ローカルユーザが不正に高い権限を得ることができる可能性のある競合状態が修正されました
          (セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:08.exec.asc"
           target="_top">FreeBSD-SA-02:08</a> 参照)。</p>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="USERLAND">2.3.
          ユーザランドの変更点</a></h2>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">arp</span>(8)</span></a> が、各 ARP
          エントリに対応するインターフェイス名を表示するようになりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=cat&sektion=1"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">cat</span>(1)</span></a> が新しく UNIX
          ドメインソケットの読み出しに対応しました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=edquota&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">edquota</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-f</tt>
          が追加されました。これは (<tt class="OPTION">-p</tt>
          で指定された) quota プロトタイプの適用される範囲を、
          ある一つのファイルシステムに制限するためのものです。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=find&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">find</span>(1)</span></a> のオプション
          <tt class="OPTION">-[acm]time</tt> において、
          さまざまな時間単位が使えるようになりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=fmt&sektion=1"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">fmt</span>(1)</span></a>
          が書き直されました。この書き換えにより、
          以前のものに含まれていた多数のバグが修正されています。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ftpd</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-o</tt> および <tt
          class="OPTION">-O</tt> が追加されました。
          前者はすべてのユーザに対して、後者は guest ユーザに対して
          <tt class="LITERAL">RETR</tt> コマンドを無効にします。<tt
          class="OPTION">-A</tt>
          オプションと適切なファイル許可属性を組み合わせることで、
          アカウントを持たないユーザからのアップロードを受け付ける、
          比較的安全な anonymous FTP
          サーバを構築することが可能です。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=groups&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">groups</span>(1)</span></a> および <a
          href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=whoami&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">whoami</span>(1)</span></a>
          のシェルスクリプトが必要なくなりました。
          これらの機能は完全に <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=id&sektion=1"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">id</span>(1)</span></a>
          に統合されています。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ipfw</span>(8)</span></a> は、
          標準で動的なファイアウォールルールを表示しないようになりました。
          動的なルールは <tt class="OPTION">-d</tt>
          オプションを指定すると表示されます。また、<tt class=
          "OPTION">-e</tt> オプションは、
          無効になった動的なルールを表示します。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ipfw</span>(8)</span></a>
          に新しいファイアウォールルール <tt class=
          "LITERAL">limit</tt> が追加されました。
          これはアドレス・ペアの間のセション数を制限するためのものです。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=keyinfo&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">keyinfo</span>(1)</span></a> が Perl
          スクリプトではなく、C プログラムになりました。</p>

          <p><tt class="FILENAME">libfetch</tt> が、FreeBSD
          -CURRENT に含まれているものと同じになりました。これには、
          コールバック認証機能への対応が含まれています。</p>

          <p><tt class="FILENAME">libstand</tt> が新しく、<b class=
          "APPLICATION">bzip2</b>
          で圧縮されたファイルが含まれるファイルシステムに対応しました。</p>

          <p>X11R6 や他の UNIX 系 OS
          で使われているものと互換性を向上させるため、locale
          名が変更されました。たとえば <tt class=
          "LITERAL">en_US.ISO_8859-1</tt> という locale 名は <tt
          class="LITERAL">en_US.ISO8859-1</tt> に変わっています。
          後方互換性は <tt class="FILENAME">/etc/locale.alias</tt>、
          <tt class="FILENAME">/etc/man.alias</tt>、<tt class=
          "FILENAME">/etc/nls.alias</tt>
          の各ファイル中のエントリによって実現されます。次の表は
          locale 名の変更をまとめたものです。</p>

          <div class="INFORMALTABLE">
            <a name="AEN402"></a>

            <table border="1" class="CALSTABLE">
              <thead>
                <tr>
                  <th width="50%" align="LEFT" valign="TOP">FreeBSD
                  4.4-RELEASE</th>

                  <th width="50%" align="LEFT" valign="TOP">FreeBSD
                  4.5-RELEASE</th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">ISO_</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt></td>

                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">ISO</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt></td>
                </tr>

                <tr>
                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">ru_SU</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt></td>

                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">ru_RU</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt></td>
                </tr>

                <tr>
                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">DIS_</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt></td>

                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="LITERAL">ISO</tt><tt class=
                  "REPLACEABLE"><i>*</i></tt><tt class=
                  "LITERAL">-15</tt></td>
                </tr>

                <tr>
                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="REPLACEABLE"><i>*</i></tt><tt class=
                  "LITERAL">.ASCII</tt></td>

                  <td width="50%" align="LEFT" valign="TOP"><tt
                  class="REPLACEABLE"><i>*</i></tt><tt class=
                  "LITERAL">.US-ASCII</tt></td>
                </tr>
              </tbody>
            </table>
          </div>
          <br>
          <br>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=lpd&sektion=8"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">lpd</span>(8)</span></a>
          の制御ファイルに新しく、<tt class="LITERAL">o</tt>
          という型のプリントファイル動作指定が追加されました。
          これは <b class="APPLICATION">MacOS</b> 10.1 で生成した
          PostScript ファイルを印刷に対応したものです。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=natd&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">natd</span>(8)</span></a>
          に新しいオプション <tt class=
          "OPTION">-log_ipfw_denied</tt> が追加されました。
          これはアドレス変換後に <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ipfw</span>(8)</span></a>
          ルールでブロックされたパケットをログに記録します。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=netstat&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">netstat</span>(1)</span></a> に、
          統計情報をリセットする新しいオプション <tt class=
          "OPTION">-z</tt> が追加されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=netstat&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">netstat</span>(1)</span></a> に、
          アドレスを数字で、
          ポート番号をシンボルで表示する新しいオプション <tt class=
          "OPTION">-S</tt> が追加されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">newfs</span>(8)</span></a>
          の設定に含まれる 1 グループに対するシリンダ数
          (cylinders/group) の標準が、
          現在のファイルシステムパラメータに設定可能な最大値に設定されるように
          なりました。以前はこの標準値が 16 に固定されていましたが、
          現在は <tt class="OPTION">-c</tt>
          オプションで値を設定することが可能になっています。
          この変更には、<a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=fsck&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">fsck</span>(8)</span></a>
          の性能向上と断片化 (fragmentation)
          の低減という効果があります。</p>

          <p><a name="NEWFS-BLOCK-FRAG-SIZES"></a> <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">newfs</span>(8)</span></a>
          で新規にファイルシステムを構築する際の
          ブロックとフラグメント長の標準値が、それぞれ 16384、2048
          バイトに変更されました (従来の標準値は 8192、1024
          バイト)。
          この変更により多少ディスクの利用率が犠牲になるものの、
          大抵の場合において性能の向上が期待できます。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">newsyslog</span>(8)</span></a> に <a
          href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=bzip2&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">bzip2</span>(1)</span></a>
          を使ってログファイルを圧縮する機能が追加されました。</p>

          <p>新しく行番号フィルタプログラム <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=nl&sektion=1"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">nl</span>(1)</span></a>
          が追加されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=pciconf&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pciconf</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-v</tt>
          が追加されました。これは <tt class="OPTION">-l</tt>
          と共に指定された場合に、
          認識されたデバイスのベンダ/デバイス情報を表示します。
          標準のベンダ/デバイス情報データベースは <tt class=
          "FILENAME">/usr/share/misc/pci_vendors</tt>
          に置かれています。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ping</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-A</tt>
          が追加されました。これは、
          パケットが失われた時にビープ音が鳴るようにするものです。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=route&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">route</span>(8)</span></a>
          で間接経路を変更する際、変更後の経路が gateway
          経路と同じ場合により多くの情報を表示するようになりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=route&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">route</span>(8)</span></a> が <tt class=
          "LITERAL"><tt class="REPLACEABLE"><i>net</i></tt>/<tt
          class="REPLACEABLE"><i>bits</i></tt></tt>
          ではない新しい記法 <tt class="LITERAL"><tt class=
          "REPLACEABLE"><i>host</i></tt>/<tt class=
          "REPLACEABLE"><i>bits</i></tt></tt> に対応しました。
          これは <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=netstat&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">netstat</span>(1)</span></a>
          と互換性を高めるためのものです。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=route&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">route</span>(8)</span></a> が
          ``プロキシ専用'' の published ARP
          エントリを作成できるようになりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=route&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">route</span>(8)</span></a> の <tt class=
          "OPTION">add</tt> コマンドに、新しく <tt class=
          "OPTION">-ifp</tt> 修飾子と <tt class="OPTION">-ifa</tt>
          修飾子 が追加されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">send-pr</span>(1)</span></a>
          に新しいオプション <tt class="OPTION">-a</tt>
          が追加されました。これは障害報告の <tt class=
          "LITERAL">Fix:</tt>
          セクションにファイルを挿入するために使います。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sh&sektion=1"><span
           class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sh</span>(1)</span></a>
          において効率を改善するため、<tt class="COMMAND">test</tt>
          が組み込みコマンドとして実装されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysctl</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-e</tt>
          が追加されました。これは変数名と値の区切りを <tt class=
          "LITERAL">:</tt> ではなく <tt class="LITERAL">=</tt>
          にするもので、<a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysctl</span>(8)</span></a> の出力を <a
          href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysctl</span>(8)</span></a>
          に再度入力させるような場合に有用です。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span></a> に対して、
          インストール中に KLD
          をロードする機能が新しく追加されました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span></a>
          がインストールメディアから実行された場合、<tt class=
          "LITERAL">mfsroot</tt>
          フロッピイメージなどのインストール用ファイルシステムイメージの
          <tt class="FILENAME">/stand/modules</tt>
          ディレクトリにあるすべてのデバイスドライバが、
          自動的にロードされるようになりました。ただし、
          そのようにロードされたドライバは
          カーネルの起動メッセージには現れません。詳しい情報は、<a
          href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span></a>
          のデバッグスクリーンに表示されます。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span></a>
          で新規作成されるファイルシステムすべて
          (ただしルートファイルシステムを除く) において、標準で
          Soft Updates が有効化されるようになりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span></a>
          が更新され、パーティションの自動分割 (``auto'')
          モードにおいて、
          各パーティションの大きさがより適切に設定されるようになりました。
          また、大きさが自動で設定されたパーティションは、
          他のパーティションが削除された際にできる空き領域を自動的に使用するようになっています。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">syslogd</span>(8)</span></a> に新しく
          (利用可能なすべてのアドレスを使うのではなく)
          指定アドレスのみに bind する機能が追加されました。
          有効にするには <tt class="OPTION">-b</tt>
          オプションを使います。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">syslogd</span>(8)</span></a>
          に新しいオプション <tt class="OPTION">-c</tt>
          が追加されました。
          これは連続して出力される同一内容の行の圧縮を
          無効にするためのものです。</p>

          <p>従来 <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=vnconfig&sektion=8">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">vnconfig</span>(8)</span></a> に <tt
          class="OPTION">-f</tt> オプションを指定した場合は 16
          デバイスまでしか設定することができませんでしたが、
          この制限がなくなりました。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=wall&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">wall</span>(1)</span></a>
          に新しいオプション <tt class="OPTION">-g</tt>
          が追加されました。
          これは指定されたグループのユーザすべてにメッセージを送ります。</p>

          <p><a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=whois&sektion=1">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">whois</span>(1)</span></a>
          に新しいオプション <tt class="OPTION">-c</tt>
          が追加されました。これは国コードを指定することで、
          問い合わせを特定の whois
          サーバに直接送るようにするためのものです。</p>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN600">2.3.1.
            寄贈ソフトウェア</a></h3>

            <p>FreeBSD と一緒に配布されている <b class=
            "APPLICATION">IPFilter</b> に、<a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ipfs&sektion=8">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ipfs</span>(8)</span></a>
            プログラムが追加されました。これは NAT
            エントリおよびステートフルルールの処理用に作成される状態情報をディスクに保存し、
            再起動後に復元することを可能にするものです。
            起動時に復元するための設定は <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">rc.conf</span>(5)</span></a>
            の機能で対応しています。</p>

            <p><b class="APPLICATION">NTP</b>
            プログラムスイートがバージョン 4.1.0
            に更新されました。</p>

            <p><b class="APPLICATION">OpenSSH</b> が バージョン 2.9
            に更新されました。これには新しい 2 つのプログラム <a
            href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=sftp&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">sftp</span>(1)</span></a> <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ssh-keyscan&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ssh-keyscan</span>(1)</span></a>
            が含まれています。また、既存の SSH
            セションの暗号鍵変更や <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ssh-agent</span>(1)</span></a> が新たに
            DSA 暗号鍵の転送に対応したこと、実験的な <b class=
            "APPLICATION">SOCKS4</b> プロキシ機能といった
            さまざまな改良が <a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=ssh&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ssh</span>(1)</span></a>
            に追加されています。</p>

            <div class="NOTE">
              <blockquote class="NOTE">
                <p><b>Note:</b> <tt class=
                "FILENAME">/etc/ssh/ssh_config</tt> の標準設定は
                <tt class="LITERAL">Protocol 1,2</tt>
                のままになっています。FreeBSD -CURRENT の標準設定は
                <tt class="LITERAL">Protocol 2,1</tt> です。</p>
              </blockquote>
            </div>
            <br>
            <br>

            <p><tt class="FILENAME">/etc/master.passwd</tt> に <tt
            class="USERNAME">smmsp</tt> ユーザおよび <tt class=
            "USERNAME">mailnull</tt> ユーザが追加されました。<b
            class="APPLICATION">sendmail</b> は <tt class=
            "LITERAL">confDEF_USER_ID</tt> が設定されていない場合、
            セキュリティを確保する目的に標準で <tt class=
            "USERNAME">mailnull</tt> というユーザを使用します。
            以前のように <tt class="USERNAME">mailnull</tt>
            というユーザが存在しない場合には <tt class=
            "USERNAME">daemon</tt> というユーザが使われていました。
            この変更により、ファイルや (<a href=
            "http://www.FreeBSD.org/cgi/url.cgi?ports/mail/majordomo/pkg-descr">
            <tt class="PORT">mail/majordomo</tt></a> のような)
            プログラムにメールを送信する際に許可属性の問題が起こることがあります。
            その場合は、システムの <tt class="FILENAME"><tt class=
            "REPLACEABLE"><i>*</i></tt>.mc</tt> 設定ファイルに</p>
<pre class="PROGRAMLISTING">
    define(`confDEF_USER_ID'、`daemon')
</pre>
            という行を追加すると、
            以前と同じ動作に設定することが可能です。<br>
            <br>

            <p><b class="APPLICATION">tcsh</b> がバージョン 6.11
            に更新されました。</p>

            <p>タイムゾーンデータベースが <tt class=
            "FILENAME">tzdata2001d</tt>
            リリースのものに更新されました。</p>

            <div class="SECT4">
              <hr>

              <h4 class="SECT4"><a name="AEN664">2.3.1.1.
              CVS</a></h4>

              <p><b class="APPLICATION">CVS</b> がバージョン
              1.11.1p1 に更新されました。</p>

              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=cvs&sektion=1">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">cvs</span>(1)</span></a>
              に新しいオプション <tt class="OPTION">-T</tt>
              が追加されました。これはリポジトリから砂場 (sandbox)
              にある <tt class="FILENAME">CVS/Template</tt>
              ファイルを更新するためのものです。</p>

              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=cvs&sektion=1">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">cvs</span>(1)</span></a> <tt class=
              "LITERAL">diff</tt> に新しいオプション <tt class=
              "OPTION">-j</tt> が追加されました。
              これはブランチタグのリビジョンとの比較を実現します。</p>
            </div>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN680">2.3.2.
            Ports/Packages Collection</a></h3>

            <p>認定の作業が遅れているため、FreeBSD 用ネイティブ版
            <b class="APPLICATION">JDK</b> は 4.5-RELEASE
            のリリース後にまもなく行なわれることになりました。
            配布開始のアナウンスは FreeBSD のウェブサイトと FreeBSD
            announce メーリングリスト <tt class="EMAIL">&#60;<a
            href=
            "mailto:freebsd-announce@FreeBSD.org">freebsd-announce@FreeBSD.org</a>&#62;</tt>
            で行なわれる予定です。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=pkg_create&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">pkg_create</span>(1)</span></a>
            に新しく <tt class="OPTION">-b</tt>
            オプションが追加されました。
            これはローカルにインストールされた package から package
            ファイルを生成します。</p>

            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=pkg_delete&sektion=1">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">pkg_delete</span>(1)</span></a>
            に新しく <tt class="OPTION">-r</tt>
            オプションが追加されました。これは package
            の再帰的な削除を行ないます。</p>

            <p>FreeBSD 4.5-RELEASE のリリースの数日前に <b class=
            "APPLICATION">XFree86</b> バージョン 4.2.0
            がリリースされましたが、FreeBSD 4.5-RELEASE には <b
            class="APPLICATION">XFree86</b> 4.1.0 の package
            が含まれることになりました。
            これは今回のリリースにそれを収録するための試験を行なう時間がなかったためです。
            最新の (リリース後の) FreeBSD Ports Collection
            を用いることで、新しいバージョンの <b class=
            "APPLICATION">XFree86</b>
            をインストールすることが可能です。詳しい手順は <a href=
            "http://www.FreeBSD.org/handbook/" target=
            "_top">FreeBSD ハンドブック</a>の <a href=
            "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/ports-using.html"
             target="_top">Ports Collection を使うには</a>
            の章をご覧ください。</p>
          </div>
        </div>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN701">3. 以前の FreeBSD
        リリース版からのアップグレード</a></h1>

        <p>以前の FreeBSD
        リリース版からのアップグレードを行なうには、主に次の 3
        つの方法があります。</p>

        <ul>
          <li>
            <p><a href=
            "http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8">
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">sysinstall</span>(8)</span></a>
            のバイナリアップグレード機能を使う方法。
            おそらくこの方法が最も時間のかからない方法なのですが、
            これは FreeBSD のインストール時に
            特別なコンパイルオプションを指定していないことを前提としています。</p>
          </li>

          <li>
            <p>FreeBSD を完全に再インストールする方法。
            技術的にはアップグレード手段の一つとは言えませんし、<tt
            class="FILENAME">/etc</tt>
            の内容を手動で退避・復元したりする必要があるなど、
            大抵の場合はバイナリアップグレード機能を使うより手間がかかります。
            しかし、ディスクのパーティション分割を変更したい (とか、
            変更しなければならない)
            場合などには便利な方法でしょう。</p>
          </li>

          <li>
            <p><tt class="FILENAME">/usr/src</tt>
            のソースコードから構築する方法。
            この手段は非常に柔軟な対応が可能ですが、
            ディスク空間と時間、
            そして専門的なノウハウを必要とします。また、
            非常に古いバージョンの FreeBSD
            からのアップグレードは問題が発生することが多いため、
            そのような場合にはバイナリアップグレード、
            もしくは完全な再インストールを行なった方が効果的でしょう。</p>
          </li>
        </ul>

        <p>なるべくアップグレードを始める前に詳細について <tt
        class="FILENAME">INSTALL.TXT</tt> をご覧ください。
        ソースからアップグレードする場合は <tt class=
        "FILENAME">/usr/src/UPDATING</tt>
        にも目を通す必要があります。</p>

        <p>最後になりますが、FreeBSD の -STABLE もしくは -CURRENT
        ブランチを追いかけるために用意された手段の一つをとりたいと考えているなら、
        <a href="http://www.FreeBSD.org/handbook/" target=
        "_top">FreeBSD ハンドブック</a>の <a href=
        "http://www.FreeBSD.org/handbook/current-stable.html"
        target="_top">``-CURRENT vs. -STABLE''</a>
        の節をご覧になるようお願いします。</p>

        <div class="IMPORTANT">
          <blockquote class="IMPORTANT">
            <p><b>Important:</b> もちろん言うまでもないことですが、
            FreeBSD のアップグレードは、データと設定ファイルを
            <span class="emphasis"><i class=
            "EMPHASIS">すべて</i></span>退避させた後に行なうべきです。</p>
          </blockquote>
        </div>
      </div>
    </div>
    <hr>

    <p align="center"><small>このファイルの他、リリース関連の文書は
    <a href=
    "ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/</a>
    からダウンロードできます。</small></p>

    <p align="center"><small>FreeBSD に関するお問い合わせは、
    &#60;<a href=
    "mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;
    へ質問を投稿する前に<a href=
    "http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

    <p align="center"><small><small>FreeBSD 4-STABLE
    をお使いの方は、ぜひ &#60;<a href=
    "mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62;
    メーリングリストに参加ください。</small></small></p>

    <p align="center">この文書の原文に関するお問い合わせは &#60;<a
    href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;
    まで、<br>
    日本語訳に関するお問い合わせは、&#60;<a href=
    "mailto:doc-jp@jp.FreeBSD.org">doc-jp@jp.FreeBSD.org</a>&#62;
    まで電子メールでお願いします。</p>
    <br>
    <br>
  </body>
</html>

