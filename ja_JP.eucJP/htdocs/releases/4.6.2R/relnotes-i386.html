<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>FreeBSD/i386 4.6.2-RELEASE リリースノート</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.73 ">
    <link rel="STYLESHEET" type="text/css" href="docbook.css">
    <meta http-equiv="Content-Type" content=
    "text/html; charset=EUC-JP">
  </head>

  <body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="ARTICLE">
      <div class="TITLEPAGE">
        <h1 class="TITLE"><a name="AEN2">FreeBSD/i386 4.6.2-RELEASE
        リリースノート</a></h1>

        <h3 class="CORPAUTHOR">FreeBSD プロジェクト</h3>

        <p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002 by
        FreeBSD ドキュメンテーションプロジェクト</p>

        <p class="PUBDATE">$FreeBSD:
        src/release/doc/ja_JP.eucJP/relnotes/common/new.sgml,v
        1.5.2.24.2.5 2002/08/19 21:43:22 hrs Exp $<br>
        </p>

        <div>
          <div class="ABSTRACT">
            <a name="AEN11"></a>

            <p>この FreeBSD 4.6.2-RELEASE リリースノートには、
            FreeBSD 4.5-RELEASE のリリース以降に FreeBSD
            ベースシステムに対して加えられた変更点がまとめられています。
            変更点はカーネル、ユーザランドにおけるものだけでなく、
            前回のリリース以降に発行され、
            ベースシステムに影響のあるセキュリティ勧告も含まれています。
            また、アップグレードの際の注意点についても簡単に説明しています。</p>
          </div>
        </div>
        <hr>
      </div>

      <div class="TOC">
        <dl>
          <dt><b>Table of Contents</b></dt>

          <dt>1. <a href="#AEN13">はじめに</a></dt>

          <dt>2. <a href="#AEN23">更新情報</a></dt>

          <dt>3. <a href="#AEN640">以前の FreeBSD
          リリース版からのアップグレード</a></dt>
        </dl>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN13">1. はじめに</a></h1>

        <p>この文書は IA-32 アーキテクチャ版 FreeBSD 4.6.2-RELEASE
        のリリースノートです。 これには 4.5-RELEASE 以降に追加
        (変更) された新機能および、前のバージョンの FreeBSD
        からアップグレードする場合におけるいくつかの注意点か書かれています。</p>

        <p>この FreeBSD 4.6.2-RELEASE は ``ポイントリリース版''
        です。これは FreeBSD 4.6-RELEASE の公開後に発見された
        (特にセキュリティ関連の)
        問題点を解決したものです。このリリースはもともと 4.6.1
        というバージョン番号での公開が予定されていたのですが、
        リリースエンジニアリングの工程でいくつかの問題が新たに浮上したため、
        4.6.1 の公開は予定よりも延期されることになりました。
        このような経緯から、リリースエンジニアリングチームと
        セキュリティオフィサチームは、混乱を避けるために、
        このリリースのバージョンを 4.6.2
        に変える方がよいと判断しました。</p>

        <p>このリリースの配布物は、 <a href=
        "ftp://ftp.FreeBSD.org/pub/FreeBSD/releases" target=
        "_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases</a>
        および各ミラーサイトで公開されています。 FreeBSD の release
        版 (またはそれ以外) の入手法については <a href=
        "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
         target="_top">FreeBSD ハンドブック</a>の <a href=
        "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html"
         target="_top">``FreeBSD
        を入手するには''</a>をご覧ください。</p>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN23">2. 更新情報</a></h1>

        <p>この節では 4.5-RELEASE 以降に新たに追加・変更された
        ユーザに影響する機能について説明します。
        リリースノートの項目には通常、新しいドライバや新しいハードウェアへの対応、
        新しいコマンドや新しいオプションの導入、
        大規模なバグ修正、寄贈ソフトウェアのアップグレードが含まれており、
        それに加えて 4.5-RELEASE 以降に発行され、
        ベースシステムに影響のあるセキュリティ勧告も記載されています。</p>

        <p>[4.6.2] という印は、
        このポイントリリースで追加されたリリースノート項目です。</p>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="KERNEL">2.1.
          カーネルの変更点</a></h2>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">puc</span>(4)</span> (PCI
          ``ユニバーサル'' コミュニケーション)
          ドライバが追加されました。 これは PCI
          ベースのシリアルポートを <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">sio</span>(4)</span>
          ドライバへ接続することを可能にします。</p>

          <p>ローダから変更可能な変数 <tt class=
          "VARNAME">dumpdev</tt>
          が新たに追加されました。これはカーネルダンプデバイスを設定するものです。
          これにより、カーネル初期化の最後の段階
          (システムがシングルユーザモードに入る前) で発生した panic
          のクラッシュダンプを取得することが可能です。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">snp</span>(4)</span>
          ドライバは静的にカーネルに組み込む必要はなくなり、
          モジュールとしてコンパイルできるようになりました。</p>

          <p>Sony 製のいくつかのラップトップ機が搭載する
          ジョグダイアルへアクセスするための <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">spic</span>(4)</span>
          ドライバが追加されました。 また、<span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">moused</span>(8)</span> にも
          このデバイスへの対応が追加されています。</p>

          <p>VIA SMBus 電源管理コントローラ用の <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">viapm</span>(4)</span>
          ドライバが追加されました。</p>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN54">2.1.1.
            プロセッサ・マザーボードの対応状況</a></h3>

            <p>カーネルオプションに <tt class=
            "LITERAL">CPU_ATHLON_SSE_HACK</tt> が追加されました。
            これは BIOS 側で最近の Athlon CPU にある SSE
            機能を有効にする処理が行なわれていない場合にも、 SSE
            機能を有効化しようと試みるものです。</p>

            <p>いくつかのシステムでは、 BIOS が PCI デバイスの I/O
            ポートやメモリを動作可能に設定しないため、
            利用することができません。 カーネルオプション <tt
            class="LITERAL">PCI_ENABLE_IO_MODES</tt> は
            それらのデバイスを利用できるようにするために、 FreeBSD
            がそれらを強制的に有効化するようにします。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN60">2.1.2.
            起動ローダ関連</a></h3>

            <p><tt class="FILENAME">boot2</tt> に、
            キーボード操作によって boot が中断されることを防ぐ <tt
            class="OPTION">-n</tt> オプションが追加されました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN65">2.1.3.
            ネットワークインターフェイスの対応状況</a></h3>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">an</span>(4)</span> ドライバが ``Home''
            WEP 暗号鍵に加えて 新しく Cisco LEAP にも対応しました。
            Linux Aironet ユーティリティは現在、
            エミュレーション環境下での動作に対応しています。</p>

            <p>ARCNET token
            ベースのネットワークに対する汎用的なサポートが追加されました。</p>

            <p>cm ドライバが新しく追加されました。 これは SMC
            COM90cx6 ARCNET
            ネットワークアダプタに対応しています。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">dc</span>(4)</span> ドライバが VLAN
            に対応しました。</p>

            <p><tt class="FILENAME">GENERIC</tt> カーネルにおける
            Intel Gigabit Ethernet カード対応は、 <span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">wx</span>(4)</span> ドライバではなく
            <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">em</span>(4)</span>
            ドライバが使われるようになりました。 <span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">wx</span>(4)</span> ドライバは FreeBSD
            4.5-RELEASE 以降、保守されていません。</p>

            <p>my ドライバが追加されました。 これは Myson Fast
            Ethernet アダプタおよび Gigabit Ethernet
            アダプタをサポートするものです。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">wi</span>(4)</span> ドライバが Prism II
            および Prism 2.5 ベースの NIC に対応しました。
            また、104/128 ビット WEP 暗号化が Prism
            カードで動作するようになりました。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">wi</span>(4)</span> ドライバが <b
            class="APPLICATION">bsd-airtools</b>
            に対応しました。</p>

            <p>xe
            ドライバがモジュールとして構築できるようになりました。</p>

            <p>
            ネットワーク攻撃や過負荷に対するシステムの耐性を強化するため、
            いくつかのネットワークデバイスに準ポーリングモードが実装されました。
            このポーリングを有効にするには、
            カーネルコンフィグレーションファイルに
            次のオプションを追加する必要があります。</p>
<pre class="PROGRAMLISTING">
    options DEVICE_POLLING
    options HZ=1000 # 必須ではないが、これも付けることを強く推奨
</pre>
            これに加えて sysctl 変数 <tt class=
            "VARNAME">kern.polling.enable</tt>
            を設定すると、ポーリングモードを有効にすることができます。
            この時、<tt class="VARNAME">kern.polling.user_frac</tt>
            sysctl 変数は ユーザランド用に予約された CPU
            時間の割合を百分率で示します。
            ポーリングに対応したデバイスは、現時点で <span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">dc</span>(4)</span>、<span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">fxp</span>(4)</span>、<span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">rl</span>(4)</span>、<span class=
            "CITEREFENTRY"><span class=
            "REFENTRYTITLE">sis</span>(4)</span> です。
            詳細については <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">polling</span>(4)</span>
            のマニュアルページを参照してください。<br>
            <br>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN123">2.1.4.
            ネットワークプロトコル</a></h3>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">bridge</span>(4)</span>
            が複数の完全に独立したブリッジクラスタに対応し、
            ブリッジの動的な追加・削除に対する安定性が向上しました。
            また、VLAN にも完全に対応しています。</p>

            <p>IPsec の IPv4 処理において、 上り SPD
            チェックが無視されるというバグが修正されました。</p>

            <p>ng_eiface netgraph
            モジュールが新たに追加されました。 Netgraph
            フックへイーサネットフレームを配送する
            イーサネットインターフェースとして振舞います。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ng_etf</span>(4)</span> netgraph
            ノードが新たに追加されました。
            これは、異なるフック間のイーサネットパケットを
            ethertype に応じてフィルタする機能を実現します。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">tcp</span>(4)</span> syncache
            実装に存在していた、
            カーネルパニックを引き起こす可能性のあるバグが修正されました。</p>

            <p>TCP 実装は、IP
            層のブロードキャストアドレス宛のパケットを
            正しく破棄するようになりました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN140">2.1.5.
            ディスク・記憶装置</a></h3>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ahc</span>(4)</span> ドライバが 2002 年
            4 月 29 日時点の FreeBSD -CURRENT と同期しました。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span> ドライバが 2002 年
            5 月 18 日時点の FreeBSD -CURRENT と同期しました。</p>

            <p>[4.6.2] <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span>
            のタグ付きキューイング機能で
            時々発生していた動作不良が修正されました。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span> ドライバが、<span
            class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">atacontrol</span>(8)</span> を使った
            ATA RAID
            の生成、削除、クエリ、再構築に対応しました。</p>

            <p>[4.6.2] <span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">ata</span>(4)</span>
            ドライバが最大転送データサイズを正しく計算するようになりました。
            この修正により、特定の ATA
            デバイスにアクセスした時に数多く生じていた <tt class=
            "LITERAL">READ_BIG</tt>
            エラーやその他のエラーが発生しなくなっています。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN166">2.1.6.
            ファイルシステム</a></h3>

            <p>新しいカーネルやソフトウェアのインストールといった、
            ファイルシステムに負荷のかかる作業を行った直後に
            システムをシャットダウンした場合、
            ファイルシステムを破壊する可能性がある soft updates
            のバグが修正されました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN169">2.1.7. PCCARD
            対応状況</a></h3>

            <p>[4.6.2] PCCARD
            の電源処理コードが修正されました。これにより、 (Sony 製
            VAIO シリーズや東芝製ラップトップで確認されていた)
            マシンが起動時や最初の PCCARD
            アクセス時にハングアップするという
            問題がなくなっています。このバグに関連するその他のバグも
            修正されており、特に ToPIC
            チップを搭載した東芝製ラップトップでは
            同時に両方のスロットを使うことができるようになっています。
            また、いくつかの PCI
            アドインカードで必要だった問題回避法も、
            必要なくなりました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN172">2.1.8.
            マルチメディアへの対応状況</a></h3>

            <p>ufm ドライバが追加されました。 これは D-Link
            DSB-R100 USB Radio に対応しています。</p>

            <p>via82c686 サウンドドライバが VIA VT8233
            に対応しました。</p>

            <p>ich サウンドドライバが SiS 7012
            チップセットに対応しました。</p>

            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">pcm</span>(4)</span> ドライバが 2002 年
            4 月 22 日時点の FreeBSD -CURRENT と同期しました。</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN181">2.1.9.
            寄贈ソフトウェア</a></h3>

            <div class="SECT4">
              <h4 class="SECT4"><a name="AEN183">2.1.9.1.
              IPFilter</a></h4>

              <p><b class="APPLICATION">IPFilter</b> が 3.4.27
              に更新されました。</p>
            </div>

            <div class="SECT4">
              <hr>

              <h4 class="SECT4"><a name="AEN187">2.1.9.2.
              isdn4bsd</a></h4>

              <p><span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">ifpi2</span>(4)</span>
              ドライバが追加されました。 これは AVM Fritz!Card PCI
              version 2 コントローラに対応しています。</p>
            </div>
          </div>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="SECURITY">2.2.
          セキュリティ勧告</a></h2>

          <p><b class="APPLICATION">OpenSSH</b>
          の多重化に関するコードにおいて ``一つ違い (off-by-one)''
          バグが修正されました。
          このバグは認証されたリモートユーザが <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">sshd</span>(8)</span>
          に任意のコードをスーパユーザ権限で実行したり、 悪意のある
          SSH サーバがクライアントユーザの権限で
          (クライアントユーザの)
          システム上の任意のコードを実行することが可能です。
          詳細はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:13.openssh.asc"
           target="_top">FreeBSD-SA-02:13</a> をご覧ください。</p>

          <p><b class="APPLICATION">zlib</b> には、
          メモリを複数回解放するように仕向けることが可能な
          プログラミング上の誤りが存在します。 FreeBSD
          が採用している <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">malloc</span>(3)</span>/<span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">free</span>(3)</span> ルーチンは
          この誤りによるセキュリティ上の弱点はありませんが、
          アプリケーションが特殊な細工が施された不正な圧縮データブロックを
          受け取った場合、この仕組みを悪用して
          機能を正常に働かなくさせたり異常終了させることが可能です。
          なお、この <b class="APPLICATION">zlib</b>
          のバグは修正済みです。
          この問題の回避方法および解決策はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:18.zlib.v1.2.asc"
           target="_top">FreeBSD-SA-02:18</a> をご覧ください。</p>

          <p>TCP SYN cache (``syncache'') と SYN cookie
          (``syncookie'') の実装にあった、 正規の TCP/IP
          トラフィックによりマシンを
          クラッシュさせる可能性のあるバグが修正されました。
          この問題の回避方法やパッチはセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:20.syncache.asc"
           target="_top">FreeBSD-SA-02:20</a> をご覧ください。</p>

          <p>リモートの攻撃者にターゲットのマシン上のメモリを
          枯渇させる可能性のある経路表のメモリリークが修正されました。
          回避方法やパッチはセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:21.tcpip.asc"
           target="_top">FreeBSD-SA-02:21</a> をご覧ください。</p>

          <p>システムクラッシュを起こす可能性のある memory-mapped
          I/O のバグが修正されました。
          詳細と解決策はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:22.mmap.asc"
           target="_top">FreeBSD-SA-02:22</a> をご覧ください。</p>

          <p>標準入出力ファイル記述子を操作することによって、 SUID
          されたプログラムを悪用して不正にファイルを
          読み書きすることが可能なセキュリティホールが修正されました。
          この問題に関する解決策はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:23.stdio.asc"
           target="_top">FreeBSD-SA-02:23</a> をご覧ください。</p>

          <p>[4.6.2] セキュリティ勧告 SA-02:23 (set-user-id
          もしくは set-group-id
          されたプログラムのファイル記述子の取り扱いに関する問題)
          における修正に誤りがありました。 <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">procfs</span>(5)</span>, あるいは <span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">linprocfs</span>(5)</span>
          を使っているシステムは、
          修正を行なっていてもなお、悪用することが可能です。
          誤りは修正されており、詳細は改訂版のセキュリティ勧告 <a
          href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:23.stdio.asc"
           target="_top">FreeBSD-SA-02:23</a>
          に記載されています。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">k5su</span>(8)</span> は (<span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">su</span>(1)</span> のように)
          権限を行使するユーザが <tt class="GROUPNAME">wheel</tt>
          グループに
          所属していることを必要としないため、予想に反した挙動を示す可能性があります。
          このような状況を回避するために、 <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">k5su</span>(8)</span> はデフォルトで
          (事実上、上記の機能を無効化するために) SUID
          せずにインストールされるようになりました。
          詳細はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:24.k5su.asc"
           target="_top">FreeBSD-SA-02:24</a> をご覧ください。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">bzip2</span>(1)</span> ユーティリティに、
          事前に警告することなく既存のファイルを上書きしたり、
          許可属性の競合状態により意図しないユーザにファイルのアクセスを許す
          といった複数の弱点が発見されました。 この問題は新しい <b
          class="APPLICATION">bzip2</b> の import
          により修正されました。 詳細はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:25.bzip2.asc"
           target="_top">FreeBSD-SA-02:25</a> をご覧ください。</p>

          <p>TCP SYN cache (``syncache'') の実装において accept
          filter (<span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">accept_filter</span>(9)</span> 参照)
          が使用されていた時に
          リモートの攻撃者がサービス妨害を実現できる可能性のあるバグが修正されました。
          より詳しい情報は <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:26.accept.asc"
           target="_top">FreeBSD-SA-02:26</a>
          を参照してください。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">rc</span>(8)</span>
          においてシェルのグロブ演算子が不適切な使われ方をしていたため、
          <tt class="FILENAME">/tmp/.X11-unix</tt>
          が存在せず、システムを再起動可能な場合、
          ユーザが任意のファイルの中身を消すことができるようになっていました。
          このバグは修正されています (セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:27.rc.asc"
           target="_top">FreeBSD-SA-02:27</a> を参照)。</p>

          <p>[4.6.2] 悪意を持ったドメインネームサーバや DNS
          メッセージを生成できる攻撃者が悪用可能な、
          リゾルバのバッファオーバフロー問題が修正されました。
          詳細はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:28.resolv.asc"
           target="_top">FreeBSD-SA-02:28</a> をご覧ください。</p>

          <p>[4.6.2] 不正な NFS
          パケットによって悪用される可能性がある、 <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">tcpdump</span>(1)</span>
          のバッファオーバフロー問題が修正されました。
          詳細はセキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:29.tcpdump.asc"
           target="_top">FreeBSD-SA-02:29</a> をご覧ください。</p>

          <p>[4.6.2] 高い権限を放棄したプロセスに対して、<span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ktrace</span>(1)</span> を使った追跡
          (trace) 操作ができないようになりました。
          これにより、そのプロセスが権限を放棄する前に得たセキュリティ上重要な
          情報の漏洩を防ぐことができます。この問題の詳細は、
          セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:30.ktrace.asc"
           target="_top">FreeBSD-SA-02:30</a> をご覧ください。</p>

          <p>[4.6.2]
          悪用することで任意のファイルの許可属性を変更できるという、
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pppd</span>(8)</span>
          にあった競合状態が修正されました。 詳細はセキュリティ勧告
          <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:32.pppd.asc"
           target="_top">FreeBSD-SA-02:32</a> をご覧ください。</p>

          <p>[4.6.2] ベースシステムの <b class=
          "APPLICATION">OpenSSL</b>
          が新しいバージョンにアップグレードされ、 <b class=
          "APPLICATION">OpenSSL</b>
          に存在していた複数のバッファオーバフロー問題が修正されました。
          この問題の詳細は、 セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:33.openssl.asc"
           target="_top">FreeBSD-SA-02:33</a> をご覧ください。</p>

          <p>[4.6.2] XDR
          デコーダにあったヒープバッファオーバフローが修正されました。
          この問題の詳細は、 セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:34.rpc.asc"
           target="_top">FreeBSD-SA-02:34</a> をご覧ください。</p>

          <p>[4.6.2] ローカルユーザが FFS
          ファイルシステム上の任意のブロックを読み書きできるというバグが修正されました。
          この問題の詳細は、セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:35.ffs.asc"
           target="_top">FreeBSD-SA-02:35</a> をご覧ください。</p>

          <p>[4.6.2] NFS サーバのコードに含まれていた、
          リモートからのサービス妨害攻撃を可能にするバグが修正されました。
          この問題の詳細は、セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:36.nfs.asc"
           target="_top">FreeBSD-SA-02:36</a> をご覧ください。</p>

          <p>[4.6.2] <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">kqueue</span>(2)</span>
          機構を使うことで、
          ローカルユーザがシステムパニックを引き起こすことができる可能性のあるバグが修正されました。
          この問題の詳細は、セキュリティ勧告 <a href=
          "ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-02:37.kqueue.asc"
           target="_top">FreeBSD-SA-02:37</a> をご覧ください。</p>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="USERLAND">2.3.
          ユーザランドの変更点</a></h2>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">atacontrol</span>(8)</span>
          が追加されました。 これは <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">ata</span>(4)</span>
          ドライバの各種制御を可能にします。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">cdcontrol</span>(1)</span> が、 ATAPI
          CDROM ドライブの最大速度を設定する <tt class=
          "LITERAL">speed</tt> コマンドに対応しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ctags</span>(1)</span>
          が、ソースファイルに (C++ スタイルの) <tt class=
          "LITERAL">//</tt> コメントが使用されている場合でも
          壊れたタグファイルを生成しなくなりました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">dump</span>(8)</span>
          は、進行状況をプロセスタイトルに出力するようになりました。
          これは自動化したバックアップを監視する際に有用です。</p>

          <p><tt class="FILENAME">/etc/rc.firewall</tt> と <tt
          class="FILENAME">/etc/rc.firewall6</tt> は、 <tt class=
          "VARNAME">firewall_type</tt>
          変数にルールファイルが設定された場合と
          存在しないファイアウォールの種類が指定された場合に
          ハードコーディングされたルールを追加しなくなりました
          (この変更の目的は、サイトのファイアウォールポリシが
          仮定していることに、影響を与えないようにするためです)。
          また、ファイアウォールタイプに <tt class=
          "LITERAL">closed</tt> が設定されている場合、<span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">rc.firewall</span>(8)</span>
          のマニュアルページに記述どおりに動作するようになりました。</p>

          <p>ローカルでのカスタマイズや保守の手間を軽減するため、
          <tt class="FILENAME">/etc/security</tt> の機能が <span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">periodic</span>(8)</span>
          フレームワークにおけるスクリプト群に移動されました。
          現在、これらのスクリプトは <tt class=
          "FILENAME">/etc/periodic/security/</tt>
          に置かれています。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ifconfig</span>(8)</span> の <tt class=
          "OPTION">ether</tt> アドレスファミリが より一般的な <tt
          class="OPTION">link</tt> ファミリに変更されました (<tt
          class="OPTION">ether</tt>
          は後方互換性のためにまだ利用できます)。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">fsdb</span>(8)</span> が 特定の inode
          によって割り当てられたブロック一覧を表示するための <tt
          class="LITERAL">blocks</tt> コマンドに対応しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ispppcontrol</span>(8)</span>
          が削除され、 その機能が <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">spppcontrol</span>(8)</span>
          に統合されました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">k5su</span>(8)</span> がデフォルトで <tt
          class="USERNAME">root</tt> に SUID
          されたバイナリとしてインストールされなくなりました。
          この機能が必要なユーザは、手動で <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">k5su</span>(8)</span>
          の実行ファイルの許可属性を変更するか、
          ソースからのアップグレードの前に <tt class=
          "LITERAL">ENABLE_SUID_K5SU=yes</tt> を <tt class=
          "FILENAME">/etc/make.conf</tt> に加えてください。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ldd</span>(1)</span>
          が実行ファイルに加え、
          共有ライブラリに対しても使用できるようになりました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">last</span>(1)</span> が <tt class=
          "OPTION">-y</tt> フラグに対応しました。
          これは、セッションの開始時刻に年の表示を含めるようにします。</p>

          <p><tt class="FILENAME">libstand</tt> が
          複数の物理メディアをまたがって分割された
          大きなカーネルやモジュール群をロードできるようになりました。</p>

          <p><tt class="FILENAME">libusb</tt> の名前が <tt class=
          "FILENAME">libusbhid</tt> に変更されました。 これは
          NetBSD の命名規則に従ったものです。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">lpd</span>(8)</span> が <tt class=
          "OPTION">-p</tt> フラグと同じ意味を持ち、よりわかりやすい
          <tt class="OPTION">-s</tt>
          フラグを認識するようになりました (これらのフラグは <span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">lpd</span>(8)</span> が
          ネットワーク経由のプリントジョブ用ソケットを開かないようにします)。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">lpd</span>(8)</span> に、 新たに <tt
          class="LITERAL">rc</tt> printcap
          オプションが実装されました。 この bool
          オプションがリモートホストのプリントキューに指定されると、
          <tt class="COMMAND">lpr -#<tt class=
          "REPLACEABLE"><i>n</i></tt></tt>
          によるユーザ要求に対して、必要な回数分繰り返してデータファイルが
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">lpd</span>(8)</span>
          により転送されます。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ls</span>(1)</span> が <tt class=
          "OPTION">-h</tt> フラグを受け付けるようになりました。 <tt
          class="OPTION">-l</tt> フラグと組み合わせると、
          ファイルに単位 (訳注: B, KB, MB など) をつけて 3
          以下の桁数でファイルサイズを出力させることができます。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">m4</span>(1)</span> が、<span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">cpp</span>(1)</span> で利用するための <tt
          class="LITERAL">#line</tt> 指示子を出力するように指示する
          <tt class="OPTION">-s</tt>
          フラグを受け付けるようになりました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">mergemaster</span>(8)</span> が新たに次の
          2 つのフラグに対応しました。 <tt class="OPTION">-p</tt>
          フラグは ``pre-<tt class="LITERAL">buildworld</tt>''
          モードを有効にします。 これは、 <tt class=
          "LITERAL">buildworld</tt> および <tt class=
          "LITERAL">installworld</tt> の
          システムアップグレードステップを成功させるために不可欠なファイル群を比較するものです。
          <tt class="OPTION">-C</tt> フラグは <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">mergemaster</span>(8)</span>
          がうまく動作した後、 <tt class=
          "FILENAME">/etc/rc.conf</tt> で指定されているオプションと
          <tt class="FILENAME">/etc/defaults/rc.conf</tt> で
          定義されているデフォルトのオプションを比較します。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ngctl</span>(8)</span> が新しく <tt
          class="OPTION">write</tt> コマンドに対応しました。
          これは指定したフックにデータパケットを送ります。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">patch</span>(1)</span>
          に、標準入力ではなく、
          ファイルからパッチを読み込むことを指定する <tt class=
          "OPTION">-i</tt>
          コマンドラインフラグが追加されました。</p>

          <p>[4.6.2] <tt class="VARNAME">no_fake_prompts</tt>
          が設定されている場合、 <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pam_opie</span>(8)</span>
          は偽のチャレンジを送出しなくなりました。</p>

          <p>[4.6.2] <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_opieaccess</span>(8)</span>
          モジュールが追加されました。</p>

          <p>[4.6.2] <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_radius</span>(8)</span>, <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_ssh</span>(8)</span>, <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_tacplus</span>(8)</span> が、 2002 年
          7 月 3 日時点の FreeBSD -CURRENT と同期しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_ssh</span>(8)</span>
          モジュールが追加されました。 これは、SSH
          のパスフレーズと暗号鍵対を使った認証の利用を実現します。
          また、このモジュールは <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ssh-agent</span>(1)</span>
          を起動することでセッション管理も行ないます。</p>

          <p>[4.6.2] <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pam_unix</span>(8)</span> が、2002 年 3
          月 9 日時点の FreeBSD -CURRENT (<b class=
          "APPLICATION">OpenPAM</b> に変更される前)
          と同期しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pr</span>(1)</span>
          が、端末への出力を一時停止するよう指示する <tt class=
          "OPTION">-f</tt>、<tt class="OPTION">-p</tt>
          フラグに対応しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ps</span>(1)</span> の <tt class=
          "OPTION">-W</tt> オプション
          (指定したスワップデバイスから情報を抽出する)
          が削除されました。
          このオプションは少し前から使えなくなっていたものです。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">reboot</span>(8)</span>
          は次の起動時のカーネルを指定するための <tt class=
          "OPTION">-k</tt>
          オプションを受け付けるようになりました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sshd</span>(8)</span> は S/Key
          を有効化していないユーザに対して 偽の S/Key
          チャレンジを出力しないようになりました。
          以前の動作は、比較的新しいいくつかの SSH クライアントが
          FreeBSD
          システムに接続した時に、ユーザを混乱させる無意味な
          one-time-password のプロンプトを出力していました。</p>

          <p>未完成ですが、<span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span> が (複数の CD
          による配布のような)
          複数のボリュームを利用するインストールにおいて、正しいボリュームから
          package を拾い出す機能に対応しました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">tftp</span>(1)</span> と <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">tftpd</span>(8)</span> が IPv6
          に対応しました。</p>

          <p>USB Human Interface Device を操作するための <span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">usbhidctl</span>(1)</span>
          ユーティリティ追加されました。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">uuencode</span>(1)</span> と <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">uudecode</span>(1)</span> に、
          出力ファイルを指定する <tt class="OPTION">-o</tt>
          オプションが追加されました。 <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">uuencode</span>(1)</span> は <tt class=
          "OPTION">-m</tt> フラグを指定すると base64
          エンコーディングを行なうようになりました。 また、<span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">uudecode</span>(1)</span> は自動的に
          base64 ファイルをデコードするようになっています。</p>

          <p><span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">watch</span>(8)</span> に<tt class=
          "OPTION">-f</tt> オプションが追加されました。
          これは、利用する <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">snp</span>(4)</span>
          デバイスを指定します。</p>

          <p><tt class="LITERAL">*.EUC</tt> 形式の locale 名が <tt
          class="LITERAL">*.euc??</tt> 形式へ改名されました。
          たとえば、<tt class="LITERAL">ja_JP.EUC</tt> は <tt
          class="LITERAL">ja_JP.eucJP</tt> になります。 これは
          FreeBSD CURRENT、X11R6 および、他のたくさんの UNIX
          のバージョンとの locale
          名との互換性を向上するものです。</p>

          <p>locale 対応が FreeBSD -CURRENT
          のコードと同期しました。 この変更により <span class=
          "CITEREFENTRY"><span class=
          "REFENTRYTITLE">strftime</span>(3)</span> の改良、 locale
          定義の改訂、
          多くのベースシステムプログラムの地域化が改良されており、
          さらに <tt class="LITERAL">LC_NUMERIC</tt>、 <tt class=
          "LITERAL">LC_MONETARY</tt> および <tt class=
          "LITERAL">LC_MESSAGES</tt> カテゴリに対応しています。</p>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN532">2.3.1.
            寄贈ソフトウェア</a></h3>

            <p>[4.6.2] <b class="APPLICATION">BIND</b> が 8.3.3
            に更新されました。</p>

            <p><b class="APPLICATION">bzip2</b> が 1.0.2
            に更新されました。</p>

            <p><b class="APPLICATION">Heimdal Kerberos</b> が 0.4e
            に更新されました。</p>

            <p><b class="APPLICATION">ISC DHCP</b> クライアントが
            to 3.0.1RC8 に更新されました</p>

            <p>[4.6.2] <b class="APPLICATION">OpenSSH</b> が
            バージョン 3.4p1
            に更新されました。主な変更点は次のとおりです。</p>

            <ul>
              <li>
                <p><tt class="FILENAME">*2</tt>
                という名前のファイルが廃止されました (たとえば 以前
                <tt class="FILENAME">~/.ssh/known_hosts2</tt>
                に書かれていた内容は <tt class=
                "FILENAME">~/.ssh/known_hosts</tt>
                に書かれるようになっています)。</p>
              </li>

              <li>
                <p><span class="CITEREFENTRY"><span class=
                "REFENTRYTITLE">ssh-keygen</span>(1)</span> は、
                SECSH Public Key File Format を使って、 商用の SSH
                実装と暗号鍵を交換することができるようになりました。</p>
              </li>

              <li>
                <p><span class="CITEREFENTRY"><span class=
                "REFENTRYTITLE">ssh-add</span>(1)</span> は、3
                種類のデフォルト暗号鍵すべてを追加するようになりました。</p>
              </li>

              <li>
                <p><span class="CITEREFENTRY"><span class=
                "REFENTRYTITLE">ssh-keygen</span>(1)</span>
                において、
                暗号鍵タイプのデフォルトがなくなりました。
                特定のタイプを、<tt class="OPTION">-t</tt>
                オプションで指定する必要があります。</p>
              </li>

              <li>
                <p>プログラムのバグや将来的に発見される可能性のある
                セキュリティ上の弱点の影響を小さくするために、
                特権を持たないプロセスを使うという ``特権分離
                (privilege separation)'' 機能
                が追加されました。</p>
              </li>

              <li>
                <p>
                整数変数のオーバフローによって権限の不正な獲得が可能になるという
                セキュリティホールなど、いくつかのバグが修正されました。</p>
              </li>
            </ul>

            <div class="NOTE">
              <blockquote class="NOTE">
                <p><b>Note:</b> FreeBSD 4.6-RELEASE と同様に、 <tt
                class="FILENAME">/etc/ssh/ssh_config</tt> では <tt
                class="LITERAL">Protocol 1,2</tt>
                の設定がデフォルトになっています。 FreeBSD-CURRENT
                (および、現時点の FreeBSD 4-STABLE),
                では、デフォルトは <tt class="LITERAL">Protocol
                2,1</tt> に変更されました。</p>
              </blockquote>
            </div>
            <br>
            <br>

            <p><b class="APPLICATION">texinfo</b> が 4.1
            に更新されました</p>

            <p>timezone database が <tt class=
            "FILENAME">tzdata2002c</tt>
            リリースに更新されました。</p>

            <div class="SECT4">
              <hr>

              <h4 class="SECT4"><a name="AEN580">2.3.1.1.
              Sendmail</a></h4>

              <p><b class="APPLICATION">sendmail</b> が 8.12.3
              に更新されました。 <span class="CITEREFENTRY"><span
              class="REFENTRYTITLE">sendmail</span>(8)</span> は
              <tt class="USERNAME">root</tt> に set-user-ID
              されたバイナリとしてインストールされなくなりました
              (現在は smmsp に set-group-ID されています)。 詳細は
              <tt class=
              "FILENAME">/usr/src/contrib/sendmail/RELEASE_NOTES</tt>
              と <tt class="FILENAME">/etc/mail/README</tt>
              をご覧ください。</p>

              <p>この <b class="APPLICATION">sendmail</b>
              の更新にともない、 複数の <b class=
              "APPLICATION">sendmail</b> デーモン
              (外へ出ていくメールを扱うために必要なもの) は <tt
              class="VARNAME">sendmail_enable</tt> 変数が <tt
              class="LITERAL">NO</tt> に設定されている場合にも、
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">rc</span>(8)</span>
              によって起動されるようになりました。 <b class=
              "APPLICATION">sendmail</b> を完全に無効化するには、
              <tt class="VARNAME">sendmail_enable</tt> を <tt
              class="LITERAL">NONE</tt>
              に設定しなければなりません。 また、別の MTA
              を利用するシステムでは <tt class=
              "VARNAME">mta_start_script</tt>
              変数を用いて異なる起動スクリプトを指定することが可能です
              (詳細は <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">rc.sendmail</span>(8)</span>
              をご覧ください)。</p>

              <p><tt class="FILENAME">/etc/mail/Makefile</tt>
              から構築される <b class="APPLICATION">sendmail</b> の
              alias ファイル、 map データベースの許可属性は、
              ファイルロックに対するローカルからのサービス妨害攻撃を防ぐために
              デフォルトが 0640 になりました。 これは <tt class=
              "FILENAME">make.conf</tt> の <tt class=
              "VARNAME">SENDMAIL_MAP_PERMS</tt>
              という新しいオプションの設定で変更することが可能です。</p>

              <p><b class="APPLICATION">sendmail</b> の統計ファイル
              (<tt class="FILENAME">/var/log/sendmail.st</tt>)
              の許可属性が
              ファイルロックに対するローカルからのサービス妨害攻撃を防ぐために
              0644 から 0640 へ変更されました。</p>

              <p>[4.6.2] DNS マップ
              (デフォルトの設定では使われないコード)
              におけるバッファオーバフローのバグが修正されました。</p>

              <div class="NOTE">
                <blockquote class="NOTE">
                  <p><b>Note:</b> これは、FreeBSD 4.6-STABLE
                  に新しいバージョンの <b class=
                  "APPLICATION">sendmail</b>
                  を導入したことによるものです。</p>
                </blockquote>
              </div>
              <br>
              <br>
            </div>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN617">2.3.2.
            Ports/Packages Collection</a></h3>

            <p>Ports Collection において、(訳注: 各 port が)
            依存する X Window System のデフォルトのバージョンが <b
            class="APPLICATION">XFree86</b> 4.2.0
            に変更されました。 <b class="APPLICATION">XFree86</b>
            3.3.6 に戻すには、 <tt class=
            "FILENAME">/etc/make.conf</tt>
            に次の行を加えてください。</p>
<pre class="PROGRAMLISTING">
    XFREE86_VERSION=3
</pre>
          </div>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN624">2.4.
          リリースエンジニアリングと統合</a></h2>

          <p><b class="APPLICATION">XFree86</b> 4.2.0 は <span
          class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span> が対応する X
          Window System のデフォルトのバージョンになりました。
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">sysinstall</span>(8)</span> は <b class=
          "APPLICATION">XFree86</b>
          を標準のバイナリパッケージセットとしてインストールするため、
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">pkg_info</span>(1)</span> のような通常の
          package ユーティリティを使って
          それらのコンポーネントを調べたり操作することが可能です。</p>

          <p>[4.6.2] 新規インストール時に <tt class=
          "FILENAME">/usr/share/examples</tt>
          が展開されないというバグが修正されました。</p>
        </div>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN640">3. 以前の FreeBSD
        リリース版からのアップグレード</a></h1>

        <p>以前の FreeBSD
        リリース版からのアップグレードを行なうには、 主に次の 3
        つの方法があります。</p>

        <ul>
          <li>
            <p><span class="CITEREFENTRY"><span class=
            "REFENTRYTITLE">sysinstall</span>(8)</span>
            のバイナリアップグレード機能を使う方法。
            おそらくこの方法が最も時間のかからない方法なのですが、
            これは FreeBSD のインストール時に
            特別なコンパイルオプションを指定していないことを前提としています。</p>
          </li>

          <li>
            <p>FreeBSD を完全に再インストールする方法。
            技術的にはアップグレード手段の一つとは言えませんし、
            <tt class="FILENAME">/etc</tt>
            の内容を手動で退避・復元したりする必要があるなど、
            大抵の場合はバイナリアップグレード機能を使うより手間がかかります。
            しかし、ディスクのパーティション分割を変更したい
            (とか、 変更しなければならない)
            場合などには便利な方法でしょう。</p>
          </li>

          <li>
            <p><tt class="FILENAME">/usr/src</tt>
            のソースコードから構築する方法。
            この手段は非常に柔軟な対応が可能ですが、
            ディスク空間と時間、そして専門的なノウハウを必要とします。
            詳細については <a href=
            "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
             target="_top">FreeBSD ハンドブック</a>の <a href=
            "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/makeworld.html"
             target="_top">``<tt class="COMMAND">make world</tt>
            を利用する''</a> という章をご覧ください。
            また、非常に古いバージョンの FreeBSD
            からのアップグレードは問題が発生することが多いため、
            そのような場合にはバイナリアップグレード、
            もしくは完全な再インストールを行なった方が効果的でしょう。</p>
          </li>
        </ul>

        <p>なるべくアップグレードを始める前に詳細について <tt
        class="FILENAME">INSTALL.TXT</tt> をご覧ください。
        ソースからアップグレードする場合は <tt class=
        "FILENAME">/usr/src/UPDATING</tt>
        にも目を通す必要があります。</p>

        <p>最後になりますが、FreeBSD の -STABLE もしくは -CURRENT
        ブランチを追いかけるために用意された手段の一つをとりたいと考えているなら、
        <a href=
        "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
         target="_top">FreeBSD ハンドブック</a>の <a href=
        "http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/current-stable.html"
         target="_top">``-CURRENT vs. -STABLE''</a>
        の節をご覧になるようお願いします。</p>

        <div class="IMPORTANT">
          <blockquote class="IMPORTANT">
            <p><b>Important:</b> もちろん言うまでもないことですが、
            FreeBSD のアップグレードは、データと設定ファイルを
            <span class="emphasis"><i class=
            "EMPHASIS">すべて</i></span>
            バックアップした後に行なうべきです。</p>
          </blockquote>
        </div>
      </div>
    </div>
    <hr>

    <p align="center"><small>このファイルの他、リリース関連の文書は
    <a href=
    "ftp://ftp.FreeBSD.org/pub/FreeBSD/releases">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases</a>
    からダウンロードできます。</small></p>

    <p align="center"><small>FreeBSD
    に関するお問い合わせは、&#60;<a href=
    "mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;
    へ質問を投稿する前に<a href=
    "http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

    <p align="center"><small><small>FreeBSD 4-STABLE
    をお使いの方は、ぜひ &#60;<a href=
    "mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62;
    メーリングリストに参加ください。</small></small></p>

    <p align="center"><small>この文書の原文に関するお問い合わせは
    &#60;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;
    まで、<br>
    日本語訳に関するお問い合わせは &#60;<a href=
    "http://www.jp.FreeBSD.org/ml.html#doc-jp">doc-jp@jp.FreeBSD.org</a>&#62;
    まで電子メールでお願いします。</small></p>
    <br>
    <br>
  </body>
</html>

