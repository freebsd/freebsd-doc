<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org" />
    <title>FreeBSD/pc98 5.1-RELEASE リリースノート</title>
    <meta name="GENERATOR"
    content="Modular DocBook HTML Stylesheet Version 1.73 " />
    <link rel="STYLESHEET" type="text/css" href="docbook.css" />
    <meta http-equiv="Content-Type"
    content="text/html; charset=EUC-JP" />
  </head>

  <body class="ARTICLE" bgcolor="#FFFFFF" text="#000000"
  link="#0000FF" vlink="#840084" alink="#0000FF">
    <div class="ARTICLE">
      <div class="TITLEPAGE">
        <h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD/pc98
        5.1-RELEASE リリースノート</a></h1>

        <h3 class="CORPAUTHOR">FreeBSD プロジェクト</h3>

        <p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002,
        2003 by FreeBSD ドキュメンテーション プロジェクト</p>

        <p class="PUBDATE">$FreeBSD:
        src/release/doc/ja_JP.eucJP/relnotes/common/new.sgml,v 1.86
        2003/05/29 00:10:11 rushani Exp $<br />
        </p>

        <div>
          <div class="ABSTRACT">
            <a id="AEN12" name="AEN12"></a>

            <p>この FreeBSD 5.1-RELEASE 用リリースノートには、
            5-CURRENT 開発ブランチの FreeBSD
            ベースシステムに対する最近の
            変更点の概要が含まれています。 FreeBSD
            カーネルおよびユーザーランドにおける変更点、
            前のリリース以降に発行されたセキュリティ勧告が書かれています。
            また、アップグレードの際の注意点も載せてあります。</p>
          </div>
        </div>
        <hr />
      </div>

      <div class="TOC">
        <dl>
          <dt><b>Table of Contents</b></dt>

          <dt>1. <a href="#INTRO">はじめに</a></dt>

          <dt>2. <a href="#NEW">更新情報</a></dt>

          <dd>
            <dl>
              <dt>2.1. <a
              href="#SECURITY">セキュリティ勧告</a></dt>

              <dt>2.2. <a href="#KERNEL">カーネルの変更点</a></dt>

              <dd>
                <dl>
                  <dt>2.2.1. <a
                  href="#AEN98">プロセッサ・マザーボードの対応状況</a></dt>

                  <dt>2.2.2. <a
                  href="#BOOT">ブートローダの変更</a></dt>

                  <dt>2.2.3. <a
                  href="#NET-IF">ネットワークインターフェイスの対応状況</a></dt>

                  <dt>2.2.4. <a
                  href="#NET-PROTO">ネットワークプロトコル</a></dt>

                  <dt>2.2.5. <a
                  href="#DISKS">ディスク・記憶装置</a></dt>

                  <dt>2.2.6. <a
                  href="#FS">ファイルシステム</a></dt>

                  <dt>2.2.7. <a href="#PCCARD">PCCARD 対応</a></dt>

                  <dt>2.2.8. <a
                  href="#MM">マルチメディアへの対応状況</a></dt>
                </dl>
              </dd>

              <dt>2.3. <a
              href="#USERLAND">ユーザランドの変更点</a></dt>

              <dt>2.4. <a href="#CONTRIB">寄贈ソフトウェア</a></dt>

              <dt>2.5. <a href="#PORTS">Ports/Packages Collection
              インフラストラクチャ</a></dt>

              <dt>2.6. <a
              href="#AEN859">リリースエンジニアリングと統合</a></dt>

              <dt>2.7. <a href="#DOC">ドキュメンテーション</a></dt>
            </dl>
          </dd>

          <dt>3. <a href="#UPGRADE">前のリリースの FreeBSD
          からのアップグレード</a></dt>
        </dl>
      </div>

      <div class="SECT1">
        <hr />

        <h1 class="SECT1"><a id="INTRO" name="INTRO">1.
        はじめに</a></h1>

        <p>この文書は NEC PC-98x1 ハードウェアプラットフォーム用
        FreeBSD 5.1-RELEASE のリリースノートです。 これは FreeBSD
        に最近追加、変更、削除された機能について解説したものであり、
        FreeBSD
        の前のバージョンからのアップグレードについても言及しています。</p>

        <p>この FreeBSD 5.1-RELEASE 配布物は release 配布物です。
        この配布物はあらゆるミラーの <a
        href="ftp://ftp.FreeBSD.org/"
        target="_top">ftp://ftp.FreeBSD.org/</a>
        で見つけることができます。 この (もしくは他の) FreeBSD の
        release 配布物を取得する方法 は <a
        href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
         target="_top">FreeBSD ハンドブック</a> の <a
        href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html"
         target="_top">付録 ``FreeBSD を取得する''</a>
        を参照してください。</p>

        <p>FreeBSD release の 5-CURRENT
        系列をはじめて利用するユーザは、まず ``FreeBSD 5.1-RELEASE
        初期利用者の手引き'' をご覧ください。 この文書は (FreeBSD
        配布ファイルの一部として、 もしくは FreeBSD
        ウェブサイト上の) リリースノートと同じ場所に置かれており、
        FreeBSD 4-STABLE
        開発ブランチをベースにしたリリースと比較して、 FreeBSD
        5.1-RELEASE
        を利用する際の利点と欠点について重要な情報が書かれています。</p>

        <p>FreeBSD をインストールする前に、必ずそのリリースの
        errata 文書をお読みください。 errata
        文書には、リリース工程の最後やリリース後に判明した
        ``最新の'' 情報が書かれています。
        通常これに含まれているのは、既知のバグ、セキュリティ勧告、
        文書の訂正です。FreeBSD 5.1-RELEASE の最新版 errata
        文書は、FreeBSD ウェブサイトから入手できます。</p>
      </div>

      <div class="SECT1">
        <hr />

        <h1 class="SECT1"><a id="NEW" name="NEW">2.
        更新情報</a></h1>

        <p>この節では 5.0-RELEASE 以降に新たに追加・変更された
        ユーザに影響する機能について説明します。
        これには他のブランチ (FreeBSD 5.0-RELEASE 以降) へと
        最近マージされた機能に加えて、5-CURRENT ブランチ
        に固有の項目も含まれます。</p>

        <p>リリースノートには、 5.0-RELEASE
        以降に出されたセキュリティ勧告、
        新しいドライバやハードウェア対応、
        新しいコマンドやオプション、重要なバグフィックスや寄贈ソフトウェア
        のアップグレード、 ports/packages
        やリリースエンジニアリング工程に関する大きな変更点が
        書かれています。リリースノートには、リリース間に加えられた
        FreeBSD の全変更点が書かれているわけではありません。
        記載されている情報は、セキュリティ勧告、ユーザに影響のある変更、
        既存の構造に対する大きな改良点が中心としたものです。</p>

        <p>FreeBSD に加えられた変更点のうち、
        スペースの都合上ここに書かれていないものも多数存在します。
        それらはたとえば文書の修正や改良、ごく影響の小さいバグの修正、
        監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正、
        ソースコードの整理などです。</p>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="SECURITY" name="SECURITY">2.1.
          セキュリティ勧告</a></h2>

          <p>バージョン 1.11.5 の統合により、<b
          class="APPLICATION">CVS</b>
          にあったリモートから悪用可能なセキュリティ上の弱点が修正されました。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:01.cvs.asc"
           target="_top">FreeBSD-SA-03:01</a> をご覧ください。 [MFC
          済]</p>

          <p><b class="APPLICATION">OpenSSL</b> がバージョン 0.9.7
          にアップグレードされました。これには、
          攻撃者がある条件下で平文にアクセスできる、 <b
          class="APPLICATION">OpenSSL</b>
          へのタイミングベース攻撃への対策が含まれています。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:02.openssl.asc"
           target="_top">FreeBSD-SA-03:02</a> をご覧ください。 [MFC
          済]</p>

          <p>攻撃者からの詐称された TCP 接続を防止できるよう、
          ``syncookies'' 機能のセキュリティと性能が改良されました。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:03.syncookies.asc"
           target="_top">FreeBSD-SA-03:03</a> をご覧ください。 [MFC
          済]</p>

          <p><b class="APPLICATION">sendmail</b> にあった
          リモートから悪用可能なバッファオーバフロー問題が修正されました。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:04.sendmail.asc"
           target="_top">FreeBSD-SA-03:04</a> および <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:07.sendmail.asc"
           target="_top">FreeBSD-SA-03:07</a> をご覧ください。 [MFC
          済]</p>

          <p>XDR
          実装にあった、リモートからのサービス妨害攻撃が可能になるような
          境界チェックのバグが修正されました。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:05.xdr.asc"
           target="_top">FreeBSD-SA-03:05</a> をご覧ください。 [MFC
          済]</p>

          <p>最近公開された <b class="APPLICATION">OpenSSL</b> の 2
          種類のセキュリティ上の弱点が修正されました。
          問題の詳細は、セキュリティ勧告 <a
          href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:06.openssl.asc"
           target="_top">FreeBSD-SA-03:06</a> をご覧ください。 [MFC
          済]</p>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="KERNEL" name="KERNEL">2.2.
          カーネルの変更点</a></h2>

          <p>CanBe の電源管理コントローラに対応しました。 [MFC
          済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">devfs</span>(5)</span></a>
          がオプション機能ではなく、必須になりました。 <tt
          class="LITERAL">NODEVFS</tt> オプションは、
          指定可能なカーネル設定オプションから削除されています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ehci&sektion=4&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ehci</span>(4)</span></a>
          ドライバが追加されました。 これは USB 2.0
          コントローラで使われている USB Enhanced Host Controller
          Interface に対応しています。</p>

          <p><tt class="FILENAME">/dev/tty</tt>
          の許可属性の取り扱いにあった、小さなバグが修正されました。
          これにより、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=su&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">su</span>(1)</span></a> の実行後も
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ssh</span>(1)</span></a>
          が使用できるようになっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fstat&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fstat</span>(2)</span></a> が、TCP
          ソケットから読み込めるバイト数として <tt
          class="LITERAL">0</tt>
          を返してしまうバグが修正されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=kqueue&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">kqueue</span>(2)</span></a> が、TCP
          ソケットから読み込めるバイト数として <tt
          class="LITERAL">0</tt>
          を返してしまうバグが修正されました。 また、<tt
          class="LITERAL">EVFILT_READ</tt> の <tt
          class="LITERAL">NOTE_LOWAT</tt>
          フラグも修正されています。</p>

          <p>Linux エミュレーションモードが IPv6
          に対応しました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=madvise&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">madvise</span>(2)</span></a>
          が、新しく <tt class="LITERAL">MADV_PROTECT</tt>
          という動作に対応しました。
          これは、そのプロセスは非常に重要なもので、
          スワップ空間が枯渇してしまった時でも kill
          してはいけない、ということを仮想メモリシステムに伝えるものです。
          その時のプロセスは、スーパユーザが所有するものである必要があります。</p>

          <p>(X-10 ホームコントロール製品で使われている) TW-523
          電源インタフェース用の tw ドライバが削除されました。
          これは現在動作しておらず、5-CURRENT
          で動作させるには大幅な変更が必要です。 xten および xtend
          という、
          ユーザランドの制御プログラムも削除されています。</p>

          <p>SMP における性能向上が期待できる、
          新しい汎用のプロセススケジューラがスケジューラフレームワークに追加されました。
          カーネルコンフィグファイルには、スケジューラをどれか一つだけ指定する必要があります。
          従来のスケジューラを使う場合は <tt
          class="LITERAL">options&nbsp;SCHED_4BSD</tt> を、新しい
          (まだ試験段階の) スケジューラを使う場合には <tt
          class="LITERAL">options&nbsp;SCHED_ULE</tt>
          を指定してください。</p>

          <p>
          デバイスのメジャー番号が、デフォルトで動的に割り当てられるようになりました。
          この変更により、デバイスドライバに割り当てるメジャー番号のテーブルを、
          静的に集中管理する必要性がほとんど
          (互換性を保つため、従来の静的なメジャー番号のままなっているドライバも二・三残っています)
          なくなり、デバイスのメジャー番号が足りなくなる可能性も低くなっています。</p>

          <p>
          カーネルスレッド用の簡易的な遅延スイッチ機構が実装されました。
          これは、(割り込みハンドラなど) 他のプロセスと関係がない、
          細かいコンテキストスイッチによるオーバヘッドを削減するためのものです。
          この機能は <tt
          class="LITERAL">options&nbsp;LAZY_SWITCH</tt>
          を指定すると有効になります。</p>

          <p>&#13;</p>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="AEN98" name="AEN98">2.2.1.
            プロセッサ・マザーボードの対応状況</a></h3>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="BOOT" name="BOOT">2.2.2.
            ブートローダの変更</a></h3>

            <p>i386 アーキテクチャ用ブートローダのうちの (<tt
            class="FILENAME">boot1</tt> および <tt
            class="FILENAME">boot2</tt>) が <tt
            class="FILENAME">boot</tt>
            という一つのファイルに統合されました。 これは、
            ブートローダを操作したり書き込むプログラムの構造を単純化するための変更です。</p>

            <p>PC98 ブートローダが SCSI MO
            メディアからの起動に対応しました。 [MFC 済]</p>

            <p>(以前、FreeBSD 4.<tt
            class="REPLACEABLE"><i>X</i></tt>
            のモジュールが置かれるデフォルトのディレクトリだった)
            <tt class="FILENAME">/modules</tt> ディレクトリが、
            デフォルトで <tt class="VARNAME">kern.module_path</tt>
            に含まれなくなりました。
            サードパーティ製のモジュールは、 <tt
            class="FILENAME">/boot/modules</tt>
            に置かれなければならなくなっています。</p>

            <div class="NOTE">
              <blockquote class="NOTE">
                <p><b>Note:</b> FreeBSD 4.<tt
                class="REPLACEABLE"><i>X</i></tt>
                用に設計されたモジュールはパニックを引き起こしやすいため、
                利用する場合は十分注意してください。</p>
              </blockquote>
            </div>
            <br />
            <br />
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="NET-IF" name="NET-IF">2.2.3.
            ネットワークインターフェイスの対応状況</a></h3>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=axe&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">axe</span>(4)</span></a>
            ネットワークドライバが新しく追加されました。 これは
            ASIX Electronics AX88172 USB 2.0
            チップセットをベースにした USB Ethernet
            アダプタに対応しています。</p>

            <p>cm ドライバが IPX に対応しました。 [MFC 済]</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=rue&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">rue</span>(4)</span></a>
            ネットワークドライバが追加されました。 これは RealTek
            RTL8150 USB to Fast Ethernet
            コントローラチップをベースにした Ethernet
            アダプタに対応しています。</p>

            <p>802.11 リンク層に対応した wlan
            モジュールが新しく追加されました。 現在、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">wi</span>(4)</span></a>
            ドライバ、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=an&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">an</span>(4)</span></a>
            ドライバがこの機能を利用しています。</p>

            <p>インタフェースの設定時にカーネルパニック
            (や他の問題) を引き起こす可能性があった、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=xl&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">xl</span>(4)</span></a>
            ドライバのタイミングバグが修正されました。</p>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="NET-PROTO"
            name="NET-PROTO">2.2.4. ネットワークプロトコル</a></h3>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ipfw</span>(4)</span></a> の <tt
            class="LITERAL">skipto</tt> ルールと <tt
            class="LITERAL">log</tt> キーワードが、
            以前のように同時に使えるようになりました。 また、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ipfw</span>(4)</span></a> の <tt
            class="LITERAL">uid</tt>
            ルールも動作するようになっています。</p>

            <p>同一のカーネルで <tt class="LITERAL">FAST_IPSEC</tt>
            と <tt class="LITERAL">INET6</tt>
            を同時に指定して構築することができるようになりました
            (ただし、両方の機能を同時に使用することはまだできません)。</p>

            <p>NewReno
            を有効にしていると高速リカバリが途中で終了してしまうという、
            TCP NewReno のバグが修正されました。 [MFC 済]</p>

            <p>TCP が、RFC 3042 で提案されている ``Limited
            Transmit'' 機構に対応しました。
            この機能は、ある特定の条件下における TCP
            ロスのリカバリ効率を向上させることを目的としたものです。
            <tt class="VARNAME">net.inet.tcp.rfc3042</tt> sysctl
            変数で有効にすることができ、
            デフォルトでは無効になっています。 詳細については、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=tcp&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">tcp</span>(4)</span></a>
            をご覧ください。</p>

            <p>TCP が、RFC 3390 に記載されている、
            より大きな初期輻輳ウィンドウサイズに対応するように変更されました。
            この機能は、短いデータ転送や、広帯域で転送遅延量の大きい接続における
            スループットを向上させる効果があります。 <tt
            class="VARNAME">net.inet.tcp.rfc3390</tt> sysctl
            変数で有効にすることができ、
            デフォルトでは無効になっています。 詳細については、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=tcp&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">tcp</span>(4)</span></a>
            をご覧ください。</p>

            <p>IP
            フラグメントの再組み立てコードが大量のフラグメントパケットを
            受け取った時の動作が、より洗練されたものになりました
            (これは、フラグメントパケットを利用したサービス妨害攻撃への
            耐性を高めるための変更です)。 [MFC 済]</p>

            <p><tt class="LITERAL">TIME_WAIT</tt> 状態の TCP
            接続が、 完全な TCP プロトコル制御ブロック (PCB)
            ではなく、 より容量の小さい特別な PCB
            を使うように変更されました。 これにより、<tt
            class="LITERAL">TIME_WAIT</tt>
            状態が使う構造体やリソースを、
            従来よりも早く解放することが可能になっています。</p>

            <p>``特権ポート (privileged ports)'' (<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=bind&sektion=2&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">bind</span>(2)</span></a>
            するのにスーパユーザ権限が必要な TCP と UDP
            のポート番号) の範囲が設定できるようになりました。
            設定には、 <tt
            class="VARNAME">net.inet.ip.portrange.reservedlow</tt>
            および <tt
            class="VARNAME">net.inet.ip.portrange.reservedhigh</tt>
            sysctl 変数を使います。デフォルトは、伝統的な UNIX
            と同じになっています。
            この機能は、スーパユーザ権限を持たないネットワークサーバが、
            従来特権が必要だったポートに bind
            できるようにする目的で追加されました。 詳細は <a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ip&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ip</span>(4)</span></a>
            をご覧ください。</p>

            <p>非ブロッキング RPC
            コードにあったいくつかのバグが修正されました。
            これにより、<a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=amd&sektion=8&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">amd</span>(8)</span></a> を使って
            5.1-RELEASE
            のサーバからマウントすることができるようになっています。</p>

            <p>7 年間正常に動作していなかった XNS
            ネットワーク対応が削除されました。</p>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="DISKS" name="DISKS">2.2.5.
            ディスク・記憶装置</a></h3>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=aac&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">aac</span>(4)</span></a>
            ドライバが、ジャイアントカーネルロックなしに
            動作するようになりました。この変更により、SMP
            システム上の 複数の高負荷 I/O
            において、速度性能がおよそ 20% 向上しています。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ata</span>(4)</span></a>
            ドライバが、現在知られている SiS
            チップセットすべてに対応しました
            (詳細はハードウェアノートをご覧ください)。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ata</span>(4)</span></a>
            ドライバが Promise SATA150、TX2、TX4 Serial ATA/150
            コントローラに対応しました。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">ata</span>(4)</span></a>
            ドライバがシャットダウン時に
            デバイスをフラッシュするようになりました。
            コンソールにフラッシュに対応していないデバイスから、
            フラッシュに失敗したというメッセージが表示されるかも知れませんが、
            それはこの変更によるものです。</p>

            <p>CAM レイヤが 2<sup>32</sup>
            個以上のブロックを持つデバイスに対応しました (1
            ブロック 512 バイトとすると、これは 2TB
            より大きいデバイスに対応したことに相当します)。</p>

            <div class="NOTE">
              <blockquote class="NOTE">
                <p><b>Note:</b>
                この変更前後でアップグレードする場合は、 <a
                href="http://www.FreeBSD.org/cgi/man.cgi?query=pass&sektion=4&manpath=FreeBSD+5.1-release">
                <span class="CITEREFENTRY"><span
                class="REFENTRYTITLE">pass</span>(4)</span></a>
                もしくは <a
                href="http://www.FreeBSD.org/cgi/man.cgi?query=xpt&sektion=4&manpath=FreeBSD+5.1-release">
                <span class="CITEREFENTRY"><span
                class="REFENTRYTITLE">xpt</span>(4)</span></a>
                デバイスを利用するユーザランドアプリケーションをすべて
                再構築しなければならないことに注意してください。
                たとえば、ベースシステムに含まれる <a
                href="http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&sektion=8&manpath=FreeBSD+5.1-release">
                <span class="CITEREFENTRY"><span
                class="REFENTRYTITLE">camcontrol</span>(8)</span></a>、
                port に含まれる <tt
                class="FILENAME">sysutils/cdrtools</tt> や <tt
                class="FILENAME">multimedia/xmms</tt>
                がそれらに該当します。</p>
              </blockquote>
            </div>
            <br />
            <br />

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=cd&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">cd</span>(4)</span></a>
            に数多くの変更が加えられました。
            ユーザに影響がある主なものとして、 ATAPI/USB/Firewire
            CDROM ドライブとの互換性向上があります。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">geom</span>(4)</span></a>
            がオプション機能ではなく、必須になりました。 <tt
            class="LITERAL">NO_GEOM</tt> オプションは、
            指定可能なカーネル設定オプションから削除されています。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=iir&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">iir</span>(4)</span></a>
            ドライバが更新されました。
            この更新で、インストール時にディスクの検出ができないという問題が解決しています。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=mly&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">mly</span>(4)</span></a>
            ドライバにあった、
            ハングアップするバグが修正されました。</p>

            <p>UFS および UFS2 ファイルシステムが、
            ボリュームラベルに対応しました。ボリュームラベルは、
            ボリュームを同定するために使われる、
            デバイスの種類に依存しない文字列です。
            ボリュームラベルは <a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">newfs</span>(8)</span></a>
            もしくは <a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=tunefs&sektion=8&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">tunefs</span>(8)</span></a> に
            <tt class="OPTION">-L</tt>
            オプションを指定することで設定することができます。 <tt
            class="LITERAL">GEOM_VOL</tt> モジュールを使うと、 <tt
            class="FILENAME">/dev/vol</tt>
            以下に現れるボリュームラベルを使ってボリュームにアクセスすることが可能になります。</p>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=vinum&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">vinum</span>(4)</span></a>
            ボリュームにルートファイルシステムが置けるようになりました。
            詳しくは <a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=vinum&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">vinum</span>(4)</span></a>
            のマニュアルページをご覧ください。</p>

            <p>しばらく壊れたままだった wfd ドライバと wst
            ドライバが削除されました。</p>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="FS" name="FS">2.2.6.
            ファイルシステム</a></h3>

            <p>新しく <tt class="LITERAL">DIRECTIO</tt>
            カーネルオプションが追加されました。
            これはバッファキャッシュを経由せずに直接データを読み込んだり、
            ユーザ空間のバッファに直接データを書き込むことを可能にします。
            この機能を使うには、ファイル記述子に <tt
            class="LITERAL">O_DIRECT</tt>
            フラグをセットすることと、
            読み出し操作時のオフセット・データ長の両方に、
            物理メディアセクタ長の整数倍を指定する必要があります。
            [MFC 済]</p>

            <p>NETNCP および Netware Filesystem 対応 (nwfs)
            が、正しく動作するようになりました。</p>

            <p>smbfs にあった、アンマウントができない、
            もしくはアンマウント時にカーネルパニックが発生するというバグが
            修正されました。</p>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="PCCARD" name="PCCARD">2.2.7.
            PCCARD 対応</a></h3>
          </div>

          <div class="SECT3">
            <hr />

            <h3 class="SECT3"><a id="MM" name="MM">2.2.8.
            マルチメディアへの対応状況</a></h3>

            <p><a
            href="http://www.FreeBSD.org/cgi/man.cgi?query=speaker&sektion=4&manpath=FreeBSD+5.1-release">
            <span class="CITEREFENTRY"><span
            class="REFENTRYTITLE">speaker</span>(4)</span></a>
            デバイス用の <tt class="FILENAME">atspeaker.ko</tt>
            モジュールと <tt class="FILENAME">pcspeaker.ko</tt>
            モジュールは、 <tt class="FILENAME">speaker.ko</tt>
            という名前に変わりました。</p>
          </div>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="USERLAND" name="USERLAND">2.3.
          ユーザランドの変更点</a></h2>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">adduser</span>(8)</span></a>
          が、シェルの特殊文字を含むパスワードを
          正しく処理できるようになりました。</p>

          <p>従来のディスクラベルユーティリティに代わって、 <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">bsdlabel</span>(8)</span></a>
          ユーティリティが導入されました。
          これは従来のものと同様、ディスクパーティションにある BSD
          ラベルのインストールや表示、変更を行なったり、
          ブートストラップコードのインストールを行なうことができます。
          disklabel
          ユーティリティと比べて、使われなくなったオプションや
          パラメータの多くが削除された点が異なります。 <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">bsdlabel</span>(8)</span></a>
          には新しく <tt class="OPTION">-m</tt>
          オプションが追加されており、指定したマシンアーキテクチャに適したレイアウトを
          使用できるようになっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">adduser</span>(8)</span></a>
          に、ユーザのデフォルトログイングループを設定する <tt
          class="OPTION">-g</tt> オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=chgrp&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">chgrp</span>(1)</span></a> および
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">chown</span>(8)</span></a> は、 <tt
          class="OPTION">-v</tt> オプションが複数個指定された場合、
          所有者/所有グループを変更する時に新旧の uid/gid
          を表示するようになりました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=config&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">config</span>(8)</span></a> に、
          カーネルコンフィグファイルの <tt
          class="LITERAL">device</tt> 指示子の指定を無効にする <tt
          class="LITERAL">nodevice</tt> 指示子が追加されました。
          また、<tt class="LITERAL">nooption</tt> と <tt
          class="LITERAL">nomakeoption</tt>
          指示子も追加されており、 それより前にある <tt
          class="LITERAL">options</tt> および <tt
          class="LITERAL">makeoptions</tt>
          指示子をそれぞれ無効にします。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=diskinfo&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">diskinfo</span>(8)</span></a>
          ユーティリティが追加されました。
          これは、ディスクデバイスの情報の表示と、
          ネイティブな性能試験を行なうためのものです。</p>

          <p>disklabel ユーティリティが <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">bsdlabel</span>(8)</span></a>
          に置き換えられました。 alpha、i386、pc98
          プラットフォームでは、disklabel ユーティリティは <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">bsdlabel</span>(8)</span></a>
          へのリンクになっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">dump</span>(8)</span></a>
          に、ディスクブロックをキャッシュする <tt
          class="OPTION">-C</tt> オプションが追加されました。
          これは、パスの間のファイルシステム更新を反映しないという欠点がありますが、
          ダンプ速度を向上させることが可能です。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=dumpfs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">dumpfs</span>(8)</span></a>
          に、ファイルシステムのパラメータを <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">newfs</span>(8)</span></a>
          コマンドの形式で表示する <tt class="OPTION">-m</tt>
          フラグが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=elf&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">elf</span>(5)</span></a>
          実行ファイルフォーマットの情報を表示するユーティリティ
          elfdump が追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fetch</span>(1)</span></a> は <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fetch</span>(3)</span></a> の <tt
          class="FILENAME">.netrc</tt> に対応し、さらに、異なる <tt
          class="FILENAME">.netrc</tt> を指定する <tt
          class="OPTION">-N</tt> オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fetch</span>(3)</span></a> が <tt
          class="FILENAME">.netrc</tt> に対応しました (詳しくは <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftp&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftp</span>(1)</span></a>
          をご覧ください)。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpd</span>(8)</span></a>
          に、サーバメッセージ中に <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpd</span>(8)</span></a>
          のバージョンやホスト名などの固有情報を表示しないようにする
          <tt class="OPTION">-h</tt> オプションが追加されました。
          [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpd</span>(8)</span></a>
          に、デーモンモードで listen するポート番号を 指定する <tt
          class="OPTION">-P</tt> が追加されました。
          また、デフォルトのデータポート番号は制御ポート番号より 1
          少ない値になっており、 特定の固定値は使わなくなりました。
          [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpd</span>(8)</span></a>
          に使われる <tt class="FILENAME">/etc/ftpchroot</tt>
          ファイルの書式が拡張されました。詳しくは、新しく追加された
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpchroot</span>(5)</span></a>
          のマニュアルページをご覧ください。 [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpd</span>(8)</span></a>
          のログインディレクトリのパス名に、 <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">chroot</span>(2)</span></a>
          用のディレクトリと、 chroot
          環境でのカレントディレクトリが指定できるようになりました。
          指定には、他の FTP デーモンでも使われている <tt
          class="LITERAL">/./</tt> というセパレータを使います。
          これは <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ftpchroot</span>(5)</span></a> と
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">passwd</span>(5)</span></a>
          の両方で指定可能です。 [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fwcontrol&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fwcontrol</span>(8)</span></a>
          に、DV ストリームの送受信用オプション <tt
          class="OPTION">-R</tt> および <tt class="OPTION">-S</tt>
          が追加されました。 [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=gstat&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">gstat</span>(8)</span></a>
          ユーティリティが追加されました。 これは、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">geom</span>(4)</span></a>
          サブシステムにおけるディスクの稼働状態を表示するものです。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ipfw</span>(8)</span></a>
          に、(ファイアウォール機能そのものの有効化・無効化を含む)
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ipfw</span>(4)</span></a>
          におけるさまざまな制御を実現するため、 <tt
          class="LITERAL">enable</tt> コマンド、 <tt
          class="LITERAL">disable</tt> コマンドが追加されました。
          これらは、従来の sysctl 変数よりもわかりやすく、
          便利な操作手段を提供します。[MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">jail</span>(8)</span></a>
          に、新しく <tt class="OPTION">-i</tt>
          フラグが追加されました。 これは、新しく作成した jail
          の識別子を出力します。</p>

          <p>既存の jail の中でコマンドを実行する、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=jexec&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">jexec</span>(8)</span></a>
          ユーティリティが追加されました。</p>

          <p>既存の jail を一覧表示する <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=jls&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">jls</span>(8)</span></a>
          ユーティリティが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=kenv&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">kenv</span>(1)</span></a>
          が、ルートファイルシステムのみがマウントされた状態で
          システムが起動している場合にも利用できるよう、 <tt
          class="FILENAME">/usr/bin</tt> から <tt
          class="FILENAME">/bin</tt> に移されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=killall&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">killall</span>(1)</span></a>
          に新しく <tt class="OPTION">-j</tt>
          オプションが追加されました。 これは、ひとつの jail
          にあるすべてのプロセスを kill します。</p>

          <p>ユーザランドから <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">geom</span>(4)</span></a>
          サブシステムの一部へのアクセスを提供する <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=libgeom&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">libgeom</span>(3)</span></a>
          ライブラリが追加されました。</p>

          <p>mac_portacl MAC ポリシモジュールが追加されました。
          これはユーザとグループに、TCP ポート、UDP ポートへの bind
          を許可するという単純な ACL 機構です。 最近追加された <tt
          class="VARNAME">net.inet.ip.portrange.reservedhigh</tt>
          sysctl 変数と組み合わせて使うことを想定しています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">devfs</span>(5)</span></a>
          が必須となったため、 必要がなくなった <tt
          class="FILENAME">MAKEDEV</tt>
          スクリプトは削除されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mergemaster&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mergemaster</span>(8)</span></a>
          に、置き換えられたファイルの内容を保存する <tt
          class="OPTION">-P</tt> オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mixer&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mixer</span>(8)</span></a>
          に、相対値を使ったボリューム調整が実装されました。</p>

          <p>FFS スナップショットの作成を簡単に行なうための <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mksnap_ffs</span>(8)</span></a>
          プログラムが追加されました。 これは <tt
          class="GROUPNAME">operator</tt> グループ
          に所属するユーザから利用することを想定した SUID-<tt
          class="USERNAME">root</tt> 実行ファイルです。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mount</span>(8)</span></a> および
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">umount</span>(8)</span></a> に、
          標準の場所にない <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=fstab&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">fstab</span>(5)</span></a>
          を指定するための <tt class="OPTION">-F</tt>
          オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_nfs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mount_nfs</span>(8)</span></a>
          に、UDP マウントポイントに対して <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=connect&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">connect</span>(2)</span></a>
          を行なわないようにする <tt class="OPTION">-c</tt>
          フラグが追加されました。このオプションは、サーバが 標準の
          NFS ポート番号である 2049 からの要求に応答しない、
          あるいはその要求に対してサーバが異なる IP アドレスを
          使って応答する (サーバがマルチホーム構成の場合など)
          時に使います。 <tt
          class="VARNAME">vfs.nfs.nfs_ip_paranoia</tt> sysctl
          変数を <tt class="LITERAL">0</tt>
          にすると、このオプションがデフォルト動作になります。 [MFC
          済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_nfs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mount_nfs</span>(8)</span></a>
          に、<tt class="OPTION">noinet4</tt> と <tt
          class="OPTION">noinet6</tt>
          マウントオプションが追加されました。 これは、それぞれ
          IPv4 と IPv6 による NFS マウントを禁止します。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">newfs</span>(8)</span></a> は、<tt
          class="OPTION">-O1</tt> オプションを使って UFS1
          が指定されていない限り、デフォルトで UFS2
          ファイルシステムを作成するようになりました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">newsyslog</span>(8)</span></a>
          に、多くの新機能が追加されました。</p>

          <ul>
            <li>
              <p>エントリの圧縮処理の開始前に、
              前回開始した圧縮処理を強制終了させる <tt
              class="LITERAL">W</tt> フラグ
              (エントリのグループの場合は <tt
              class="LITERAL">G</tt> フラグ) が追加されました。
              この機能は、大きいファイルを同時に圧縮する処理でシステムが過負荷に
              なるのを避けるためのものです。 [MFC 済]</p>
            </li>

            <li>
              <p>ローテーションを指定し、
              設定ファイルに何も指定しなかった場合に使われる
              ``デフォルトのローテート動作''
              が指定できるようになりました。 [MFC 済]</p>
            </li>

            <li>
              <p>
              ファイルをローテートする時にシグナルを送らないようにする
              <tt class="OPTION">-s</tt>
              コマンドラインフラグが追加されました。 [MFC 済]</p>
            </li>

            <li>
              <p>
              ファイルをローテートする時に、シグナルを送る必要がないことを示す
              <tt class="LITERAL">N</tt>
              設定ファイルフラグが追加されました。 [MFC 済]</p>
            </li>

            <li>
              <p>
              ファイルをローテートする時に、(プロセス単体ではなく)
              プロセスグループにシグナルを送ることを指定する <tt
              class="LITERAL">U</tt>
              設定ファイルフラグが追加されました。 [MFC 済]</p>
            </li>
          </ul>
          <br />
          <br />

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=nsdispatch&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">nsdispatch</span>(3)</span></a>
          はスレッドセーフになり、 Name Service Switch (NSS)
          モジュールに対応しました。 NSS モジュールは <tt
          class="FILENAME">libc</tt> に静的に構築したり、 <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=dlopen&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">dlopen</span>(3)</span></a>
          で動的にロードすることが可能です。 ロード・初期化は設定時
          (<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=nsdispatch&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">nsdispatch</span>(3)</span></a>
          が呼ばれ、 <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=nsswitch.conf&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">nsswitch.conf</span>(5)</span></a>
          の読み込み/再読み込みが行なわれた時) に行なわれます。</p>

          <p>新たに <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pam_chroot&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pam_chroot</span>(8)</span></a>
          モジュールが追加されました。
          これはユーザに対して、あらかじめ決まったディレクトリか、
          ホームディレクトリの下にあるディレクトリのいずれかに <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&sektion=2&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">chroot</span>(2)</span></a>
          操作を行なうためのものです。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pam_ssh&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pam_ssh</span>(8)</span></a>
          が書き換えられました。
          その影響で、各セションは最初のセションで実行されたエージェントに接続しようとするのではなく、
          各セションに対して個別に <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ssh-agent&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ssh-agent</span>(1)</span></a>
          が実行されるようになっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ping</span>(8)</span></a>
          に、送出パケットの ``Don't Fragment'' ビットをセットする
          <tt class="OPTION">-D</tt> フラグが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ping</span>(8)</span></a> に、ICMP
          echo 要求の代わりに、 ICMP
          マスク要求メッセージやタイムスタンプ要求メッセージを使う
          <tt class="OPTION">-M</tt>
          オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=ping&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">ping</span>(8)</span></a>
          に、送出パケットの Type of Service ビットをセットする <tt
          class="OPTION">-z</tt> フラグが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pw</span>(8)</span></a> が、<tt
          class="LITERAL">$</tt>
          文字で終わるユーザの追加に対応しました。 これは、主に <b
          class="APPLICATION">Samba</b>
          サービスの管理を容易にするための変更です。[MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pwd_mkdb&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pwd_mkdb</span>(8)</span></a>
          で生成される <tt class="FILENAME">/etc/pwd.db</tt> および
          <tt class="FILENAME">/etc/spwd.db</tt>
          パスワードデータベースの構造が、
          バイトオーダに依存しない形に変更されました。
          前処理されたこれらのパスワードデータベースは、
          異なるアーキテクチャ間で移動させて利用することが可能になっています。
          古いバイナリとの互換性を保つため、
          ファイルのエントリにはバージョン番号が含まれています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=rand&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">rand</span>(3)</span></a>
          の、乱数列が <tt class="LITERAL">0</tt>
          になってしまう可能性があったバグが修正されました (ただし
          <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=rand&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">rand</span>(3)</span></a>
          は、依然として実用的な用途には適していません)。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">rtld</span>(1)</span></a>
          が新しく、
          共有オブジェクト依存関係の動的マッピングに対応しました。
          このオプション機能は特に、
          複数の異なるスレッドライブラリを使って実験する時に便利です。
          ただし、デフォルトでは構築されません。 詳しくは <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=libmap.conf&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">libmap.conf</span>(5)</span></a>
          をご覧ください。
          これはオプション機能のひとつで、デフォルトでは無効になっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=sem_open&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">sem_open</span>(3)</span></a> が、
          同じセマフォの複数回オープンを正しく処理できるようになりました。
          これにより、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=sem_close&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">sem_close</span>(3)</span></a>
          で呼び出し元のプログラムがクラッシュすることはなくなっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=srandom&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">srandom</span>(3)</span></a>
          の乱数シードアルゴリズムが、
          より強いものになりました。</p>

          <p>デバイス上のページングとスワップ処理を無効にする <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=swapoff&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">swapoff</span>(8)</span></a>
          コマンドが追加されました。 関連するコマンド <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=swapctl&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">swapctl</span>(8)</span></a>
          も、他の BSD にあるような <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=swapon&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">swapon</span>(8)</span></a> と <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=swapoff&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">swapoff</span>(8)</span></a>
          へのインタフェースに対応しました。</p>

          <div class="NOTE">
            <blockquote class="NOTE">
              <p><b>Note:</b> <a
              href="http://www.FreeBSD.org/cgi/man.cgi?query=swapoff&sektion=8&manpath=FreeBSD+5.1-release">
              <span class="CITEREFENTRY"><span
              class="REFENTRYTITLE">swapoff</span>(8)</span></a>
              機能は実験的なものと考えられています。</p>
            </blockquote>
          </div>
          <br />
          <br />

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">syslogd</span>(8)</span></a> は、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&sektion=5&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">syslog.conf</span>(5)</span></a>
          ファイル中でホストやプログラムを指定する部分に、
          複数のホストやプログラムを指定できるようになりました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=systat&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">systat</span>(1)</span></a>
          に、新しく <tt class="OPTION">-ifstat</tt>
          ディスプレイモードが追加されました。
          これは、システム上の有効かインタフェースを通過するネットワークトラフィックを表示します。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=usbhidaction&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">usbhidaction</span>(1)</span></a>
          コマンドが追加されました。 これは、USB HID
          制御に応じて、設定された動作を行なうためのものです。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=uudecode&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">uudecode</span>(1)</span></a> と <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=b64decode&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">b64decode</span>(1)</span></a> に、
          先頭フレーム行、もしくは最終フレーム行が欠けた、
          壊れたファイルをデコードするための <tt
          class="OPTION">-r</tt> フラグが追加されました。 [MFC
          済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=vmstat&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">vmstat</span>(8)</span></a> で fork
          操作の統計を表示する <tt class="OPTION">-f</tt>
          フラグが再実装されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=xargs&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">xargs</span>(1)</span></a>
          に、ユーティリティを複数並列に実行する <tt
          class="OPTION">-P</tt> オプションが追加されました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=xargs&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">xargs</span>(1)</span></a>
          に、コマンド実行前に子プロセス用に <tt
          class="FILENAME">/dev/tty</tt> を再オープンする <tt
          class="OPTION">-o</tt> フラグが追加されました。
          これは、子プロセスが対話的なアプリケーションの場合に有用です。</p>

          <p>KSE を使って POSIX スレッド機能を提供する <tt
          class="FILENAME">libkse</tt>
          ライブラリがデフォルトでインストールされ、有効化されるようになりました。
          このライブラリは現在 M:N スレッド機能に対応しています。
          プロセススコープ、システムスコープスレッドの両方を使うことができ、
          並列レベルの取得・設定が可能です。
          デフォルトでは、並列レベルがシステムの CPU
          数に設定されます。 各並列レベルは 1 個の KSE
          と関連づけられおり、
          すべてのプロセススコープスレッドはこれらの KSE
          の中で動作します。
          システムスコープスレッドは、並列レベルに対応する独立した
          KSE を取得します。 <tt class="FILENAME">libkse</tt>
          はまだ作業中のものであり、
          デフォルトでは使われませんが、プログラムをリンクする時に
          <tt class="OPTION">-pthread</tt> ではなく <tt
          class="OPTION">-lkse</tt> を指定することで、 <tt
          class="FILENAME">libc_r</tt>
          の代替品として使うことが可能です。</p>

          <p>1:1 スレッドパッケージ (ひとつのアプリケーションにある
          すべての pthread に対して、ひとつの KSE
          とスレッドが対応するというもの) が実装されました。
          このモデルでは、カーネルがすべてのスレッドスケジューリングを決定し、
          すべてのシグナルを配送します。KSE
          コードのいくつかの部分を使っており、 作業中の M:N
          スレッドの限定されたものだと考えてよいでしょう。 <tt
          class="FILENAME">libthr</tt> ライブラリは、
          この機能のユーザランド部分として実装されたもので、 <tt
          class="FILENAME">libc_r</tt>
          ライブラリの代替として使うことができます。 ただし、<tt
          class="FILENAME">libthr</tt> は (現時点では)
          デフォルトで構築されません。</p>

          <p>従来から BSD で使われてきた <tt
          class="FILENAME">/etc</tt>
          にある起動スクリプトが削除され、 <b
          class="APPLICATION">NetBSD</b> から移植された <tt
          class="FILENAME">rc.d</tt> システムに置き換えられました
          (これは ``rcNG'' とも呼ばれています)。
          従来あった機能はすべてそのまま残っており、特に <tt
          class="FILENAME">/etc/rc.conf</tt> などのファイル群は、
          今後も標準のシステムの起動設定手段として継続して使われます。
          <tt class="FILENAME">rc.d</tt> システムは FreeBSD
          5.0-RELEASE よりデフォルトになっていたため、この変更は、
          ほとんどのユーザにとって意識しなければならないものではないでしょう。
          <tt class="FILENAME">/etc</tt>
          にあった以下のファイルは削除されましたので、
          従来のスタイルのスタートアップスクリプトをカスタマイズしているユーザは
          注意してください。 <tt class="FILENAME">rc.atm</tt>, <tt
          class="FILENAME">rc.devfs</tt>, <tt
          class="FILENAME">rc.diskless1</tt>, <tt
          class="FILENAME">rc.diskless2</tt>, <tt
          class="FILENAME">rc.i386</tt>, <tt
          class="FILENAME">rc.alpha</tt>, <tt
          class="FILENAME">rc.amd64</tt>, <tt
          class="FILENAME">rc.ia64</tt>, <tt
          class="FILENAME">rc.sparc64</tt>, <tt
          class="FILENAME">rc.isdn</tt>, <tt
          class="FILENAME">rc.network</tt>, <tt
          class="FILENAME">rc.network6</tt>, <tt
          class="FILENAME">rc.pccard</tt>, <tt
          class="FILENAME">rc.serial</tt>, <tt
          class="FILENAME">rc.syscons</tt>, <tt
          class="FILENAME">rc.sysctl</tt>. <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=mergemaster&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">mergemaster</span>(8)</span></a>,
          を実行すると、
          これらのファイルを異なる場所に移動するかどうか尋ねられます。
          詳しくは、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.subr&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">rc.subr</span>(8)</span></a>
          をご覧ください。</p>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="CONTRIB" name="CONTRIB">2.4.
          寄贈ソフトウェア</a></h2>

          <p><b class="APPLICATION">ACPI-CA</b> コードが、 20021118
          スナップショットから 20030228
          スナップショットに更新されました。</p>

          <p>Bell Labs 由来の <b class="APPLICATION">awk</b> が
          2003 年 3 月 14
          日時点のスナップショットが統合されました。</p>

          <p><b class="APPLICATION">BIND</b> がバージョン 8.3.4
          に更新されました。 [MFC 済]</p>

          <p>ベースシステムに <b class="APPLICATION">bzip2</b>
          スイート全体、特に <tt class="COMMAND">bzip2recover</tt>
          がインストールされるようになりました。[MFC 済]</p>

          <p><b class="APPLICATION">CVS</b> がバージョン 1.11.5
          に更新されました。 [MFC 済]</p>

          <p>The <b class="APPLICATION">DRM</b> kernel modules have
          been updated to a snapshot from the DRI CVS repository,
          as of 24 April 2003. The <tt
          class="LITERAL">DRM_LINUX</tt> kernel option hsa been
          removed because the handler is now provided by the Linux
          compatibility code.</p>

          <p>DRM カーネルモジュールが、 DRI CVS リポジトリの 2003
          年 4 月 24 日時点のスナップショットに更新されました。
          必要なハンドラが Linux 互換機能に追加されたため、 <tt
          class="LITERAL">DRM_LINUX</tt>
          カーネルオプションは削除されました。</p>

          <p><b class="APPLICATION">FILE</b> がバージョン 3.41
          に更新されました。 [MFC 済]</p>

          <p><b class="APPLICATION">GCC</b> が 3.2.2 (リリース版)
          に更新されました。</p>

          <p>文字列と浮動小数点数を変換する <b
          class="APPLICATION">gdtoa</b>
          ライブラリが統合されました。 ソースは 2003 年 3 月 24
          日付けのものです。</p>

          <p><b class="APPLICATION">groff</b>
          (および関連ユーティリティ) が、 バージョン 1.18.1
          からバージョン 1.19 に更新されました。</p>

          <p><b class="APPLICATION">IPFilter</b> がバージョン
          3.4.31 に更新されました。 [MFC 済]</p>

          <p><b class="APPLICATION">ISC DHCP</b>
          クライアントがバージョン 3.0.1RC11 に更新されました。
          [MFC 済]</p>

          <p><b class="APPLICATION">ISC DHCP</b>
          クライアントには、新しく <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=omshell&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">omshell</span>(1)</span></a>
          ユーティリティと <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=dhcpctl&sektion=3&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">dhcpctl</span>(3)</span></a>
          ライブラリが含まれるようになりました。
          これらは、クライアント実行時の制御を行なうためのものです。</p>

          <p><b class="APPLICATION">Kerberos IV</b> 対応 (<b
          class="APPLICATION">KTH eBones</b>) が削除されました。
          この機能を必要としているユーザは、 <tt
          class="FILENAME">security/krb4</tt> の port (もしくは
          package) から入手することができます。 Kerberos 5 の
          Kerberos IV 互換モードも削除され、 <tt
          class="LITERAL">k5<tt
          class="REPLACEABLE"><i>プログラム名</i></tt></tt>
          というユーザランドユーティリティは、 <tt
          class="LITERAL">k<tt
          class="REPLACEABLE"><i>プログラム名</i></tt></tt>
          という名前に変更されています。</p>

          <p><b class="APPLICATION">Kerberos 5</b> が <tt
          class="LITERAL">buildworld</tt> の過程で、
          デフォルトで構築されるようになりました。 現在、<tt
          class="VARNAME">MAKE_KERBEROS5</tt>
          変数は使われなくなっており、 ベースシステムの Kerberos 5
          を無効にするには、 <tt class="VARNAME">NO_KERBEROS</tt>
          Makefile 変数を定義する必要があります。</p>

          <p><b class="APPLICATION">libpcap</b> が、
          同一のインタフェース上での複数のデータリンクタイプの選択に対応しました。</p>

          <p><b class="APPLICATION">lukemftpd</b>
          (デフォルトでは構築・インストールされません) が、2003 年
          1 月 22 日のスナップショットに更新されました。</p>

          <p><b class="APPLICATION">OpenPAM</b> がリリース
          ``Citronella'' からリリース ``Dianthus''
          に更新されました。</p>

          <p><b class="APPLICATION">OpenSSH</b> がバージョン
          3.6.1p1 に更新されました。</p>

          <p><b class="APPLICATION">OpenSSL</b> がリリース 0.9.7a
          に更新されました。 このリリースには、AES と <a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=crypto&sektion=4&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">crypto</span>(4)</span></a>
          デバイス対応が含まれています。</p>

          <p><b class="APPLICATION">sendmail</b> がバージョン
          8.12.9 に更新されました。 [MFC 済]</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=tcpdump&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">tcpdump</span>(1)</span></a>
          がバージョン 3.7.2 に更新されました。[MFC 済]
          また、インタフェースで利用可能なデータリンクタイプを一覧表示する
          <tt class="OPTION">-L</tt> フラグと、
          パケットキャプチャ中にどのデータリンクタイプを使うのかを指定する
          <tt class="OPTION">-y</tt>
          オプションが追加されました。</p>

          <p><b class="APPLICATION">texinfo</b> がバージョン 4.2
          から 4.5 に更新されました。</p>

          <p>timezone データベースが <tt
          class="FILENAME">tzdata2002d</tt> から <tt
          class="FILENAME">tzdata2003a</tt> に更新されました。 [MFC
          済]</p>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="PORTS" name="PORTS">2.5.
          Ports/Packages Collection インフラストラクチャ</a></h2>

          <p>1 行の <tt class="FILENAME">pkg-comment</tt>
          ファイルが、 各 port スケルトンから削除され、その内容が
          <tt class="FILENAME">Makefile</tt> の中に移動しました。
          この変更により、 ports ツリーで消費するディスク容量と
          inode 数が少なくなっています。 [MFC 済]</p>

          <p>port 構築における配布ファイルの取得で MD5
          チェックサムが一致しなかった場合に、
          何回再取得を試みるかを <tt
          class="VARNAME">FETCH_REGET</tt> <tt
          class="FILENAME">Makefile</tt>
          変数に指定できるようになりました。
          また、取得途中で止めたファイルの再取得にも対応しています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_create&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pkg_create</span>(1)</span></a>
          に、それと衝突する package のリストを登録する <tt
          class="OPTION">-C</tt> オプションが追加されました。
          このリストにある package がすでに存在している場合、 (<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pkg_add</span>(1)</span></a> での)
          インストールは失敗します。 この衝突チェックは、<a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_add&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pkg_add</span>(1)</span></a> に <tt
          class="OPTION">-f</tt>
          フラグを追加することで無効にすることが可能です。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_info&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pkg_info</span>(1)</span></a>
          は、<tt class="OPTION">-b</tt> フラグの表示の際に <tt
          class="VARNAME">BLOCKSIZE</tt>
          環境変数の設定に従うようになりました。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=pkg_info&sektion=1&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">pkg_info</span>(1)</span></a> に、
          <tt class="OPTION">-q</tt> ``quiet''
          オプションの動作に加えて、 最初に package
          名を表示するという動作を行なう <tt class="OPTION">-Q</tt>
          オプションが追加されました。</p>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="AEN859" name="AEN859">2.6.
          リリースエンジニアリングと統合</a></h2>

          <p>FreeBSD が公式に対応している <b
          class="APPLICATION">GNOME</b> のリリースが、バージョン
          2.2.1 に更新されました。 [MFC 済]</p>

          <p>FreeBSD が公式に対応している <b
          class="APPLICATION">KDE</b> のリリースが、バージョン
          3.1.2 に更新されました。 [MFC 済]</p>

          <p>個別の <tt class="FILENAME">krb5</tt>
          配布物が廃止されました。 Kerberos 5
          ライブラリとユーティリティは、 <tt
          class="FILENAME">crypto</tt>
          配布物に含まれるようになっています。</p>

          <p><a
          href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.1-release">
          <span class="CITEREFENTRY"><span
          class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
          が、<b class="APPLICATION">XFree86</b> の
          個々のコンポーネントのインストールに再度対応しました。
          この変更により、(ユーザが意識することはありませんが)
          配布物のインストールを package
          として行なうための汎用の仕組みが組み込まれました。</p>

          <p>FreeBSD が公式に対応している <b
          class="APPLICATION">XFree86</b> のリリースが、バージョン
          4.3.0 に更新されました。 [MFC 済]</p>

          <p>FreeBSD 2.<tt class="REPLACEABLE"><i>X</i></tt> から
          3.<tt class="REPLACEABLE"><i>X</i></tt>、 FreeBSD 3.<tt
          class="REPLACEABLE"><i>X</i></tt> から 4.<tt
          class="REPLACEABLE"><i>X</i></tt>
          というメジャーバージョン間のアップグレードを行なう機能が削除されました。</p>
        </div>

        <div class="SECT2">
          <hr />

          <h2 class="SECT2"><a id="DOC" name="DOC">2.7.
          ドキュメンテーション</a></h2>

          <p>文書セットに ``FreeBSD From Scratch'' と ``The Roadmap
          for 5-STABLE'' という記事が追加されました。</p>

          <p>新しくデンマーク語 (<tt
          class="FILENAME">da_DK.ISO8859-1</tt>)
          翻訳プロジェクトが発足しました。</p>
        </div>
      </div>

      <div class="SECT1">
        <hr />

        <h1 class="SECT1"><a id="UPGRADE" name="UPGRADE">3.
        前のリリースの FreeBSD からのアップグレード</a></h1>

        <p>現存する FreeBSD システムからアップグレードするユーザは
        ``FreeBSD 5.1-RELEASE 初期利用者のための手引き''
        を読むことを <span class="emphasis"><i
        class="EMPHASIS">強く</i></span> 推奨します。
        この文書は、通常 <tt class="FILENAME">EARLY.TXT</tt>
        という名前で 配布物に収録されており、
        また、他のリリースノートが置かれているところにも一緒に置かれています。
        この手引にはアップグレード時に注意を払うべき点に加え、
        さらに重要な情報として、 FreeBSD 4.<tt
        class="REPLACEABLE"><i>X</i></tt>
        システムを使い続ける場合と FreeBSD 5.<tt
        class="REPLACEABLE"><i>X</i></tt>
        へのアップグレードした場合の、
        それぞれの利点についてのまとめが書かれています。</p>

        <div class="IMPORTANT">
          <blockquote class="IMPORTANT">
            <p><b>Important:</b> FreeBSD
            のアップグレードは、もちろん、 <span
            class="emphasis"><i
            class="EMPHASIS">すべての</i></span>
            データと設定ファイルを
            バックアップしてからのみ行うべきです。</p>
          </blockquote>
        </div>
      </div>
    </div>
    <hr />

    <p align="center"><small>このファイルの他、リリース関連の文書は
    <a href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>
    からダウンロードできます。</small></p>

    <p align="center"><small>FreeBSD
    に関するお問い合わせは、&#60;<a
    href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;
    へ質問を投稿する前に<a
    href="http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

    <p align="center"><small><small>FreeBSD 5-CURRENT
    をお使いの方は、ぜひ &#60;<a
    href="mailto:current@FreeBSD.org">current@FreeBSD.org</a>&#62;
    メーリングリストに参加ください。</small></small></p>

    <p align="center">この文書の原文に関するお問い合わせは &#60;<a
    href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;
    まで、<br />
    日本語訳に関するお問い合わせは、&#60;<a
    href="http://www.jp.FreeBSD.org/ml.html#doc-jp">doc-jp@jp.FreeBSD.org</a>&#62;
    まで電子メールでお願いします。</p>
    <br />
    <br />
  </body>
</html>

