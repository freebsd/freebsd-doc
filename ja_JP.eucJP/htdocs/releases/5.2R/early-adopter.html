<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 5.2-RELEASE 初期利用者のための手引き</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD 5.2-RELEASE
初期利用者のための手引き</a></h1>

<div class="AUTHORGROUP"><a id="AEN4" name="AEN4"></a>
<h3 class="CORPAUTHOR">FreeBSD リリースエンジニアリングチーム</h3>
</div>

<p class="COPYRIGHT">Copyright &copy; 2002, 2003 FreeBSD
リリースエンジニアリングチーム</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/ja_JP.eucJP/early-adopter/article.sgml,v
1.9.2.1 2004/01/17 03:24:55 hrs Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD は Wind River Systems, Inc. の登録商標です。
これは近いうちに変わる見込みです。</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium および Xeon
はアメリカ合衆国およびその他の国における Intel Corporation
またはその関連会社の商標または登録商標です。</p>

<p>Microsoft, FrontPage, MS-DOS, Outlook, Windows, Windows Media および Windows NT は
アメリカ合衆国および/またはその他の国における Microsoft Corporation
の登録商標または商標です。</p>

<p>Sparc, Sparc64, SPARCEngine および UltraSPARC はアメリカ合衆国およびその他の国における
SPARC International, Inc. の商標です。SPARC の商標をつけた製品は Sun Microsystems, Inc.
が開発したアーキテクチャに基づいています。</p>

<p>製造者および販売者が製品を区別するのに 用いている表示の多くは、商標とされています。
この文書に登場する表示のうち FreeBSD Project
がその商標を確認しているものには、その表示に続いて ``&trade;'' または ``&reg;''
記号がおかれています。</p>
</div>

<div>
<div class="ABSTRACT"><a id="AEN19" name="AEN19"></a>
<p>この記事では、FreeBSD 5.2-RELEASE の現状を 5.<var class="REPLACEABLE">X</var>
系列のリリースまたは FreeBSD 一般に不慣れな 利用者の立場から詳細に述べています。
リリースエンジニアリングの背景となる事情、
新機能のハイライト、初期利用者が直面する可能性のある障害を記載しています。 また、4-STABLE
開発ブランチの将来のリリース計画と
既存のシステムをアップグレードするためのヒントをいくつか紹介しています。</p>
</div>
</div>

<hr />
</div>

<div class="SECT1">
<h2 class="SECT1"><a id="INTRO" name="INTRO">1. はじめに</a></h2>

<p>FreeBSD 5.<var class="REPLACEABLE">X</var> は、2
年ぶりに公開される新しいメジャーバージョンです。
さまざまな新機能に加えて、システムアーキテクチャレベルでの開発も
数多く反映されています。ただしこの進歩は、まだ広く試験されていない
新しいコードが非常に多く導入された結果でもあります。 そのため、現在の 4.<var
class="REPLACEABLE">X</var> リリースと比較すると、 初期の 5.<var
class="REPLACEABLE">X</var> リリースは安定性や性能、
場合によっては機能性などの点で劣っているかも知れません。</p>

<p>リリースエンジニアリングチーム <code class="EMAIL">&#60;<a
href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&#62;</code>
はこのような理由から、新しいリリースにおいて発生しうる問題を ユーザが自覚して
(そして対処する準備ができて) いない限り、 古い FreeBSD リリースを 5.2-RELEASE
にアップグレードするのを 明確に非推奨としています。
特に、今までどおりの動作を期待する慎重なユーザには、しばらくの間は (4.9-RELEASE のような)
4.<var class="REPLACEABLE">X</var> リリースで運用することをおすすめします。 5.<var
class="REPLACEABLE">X</var> へのアップグレードを考える時期としては、 おそらく 5-STABLE
開発ブランチが作成された後が適当でしょう。 これは 5.3-RELEASE
の公開あたりになる見込みです。</p>

<p>(FreeBSD 5.<var class="REPLACEABLE">X</var> はいわゆる``卵鶏問題''を抱えています。
プロジェクトでは皆が可能な限りリリースを
安定で信頼性の高いものにしようと考えているのですが、
その安定性と信頼性を得るには、広い範囲での試験、
特にシステムの新しい機能に対する試験が必要です。
しかし、たくさんのユーザにシステムを試験してもらうためには、
実際のところ最初のリリースを作成し、 配布しなければならないのです!)</p>

<p>この文書では、FreeBSD 5.2-RELEASE のインストールと運用における
いくつかの問題点について説明しています。 まず、FreeBSD
のリリース工程の概要について解説し、 次に FreeBSD 5.2-RELEASE
の特筆すべき新機能のいくつかと、
不注意からユーザが陥りやすいと思われる問題について紹介します。 また、4-STABLE
ベースのリリースを使い続けようと考えているユーザ向けに、 今後の 4-STABLE
開発ブランチにおける短期・中期的なプランについても触れます。 最後に、4.<var
class="REPLACEABLE">X</var> システムを 5.2-RELEASE
にアップグレードする際の注意点を示します。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="RELEASE-OVERVIEW" name="RELEASE-OVERVIEW">2. FreeBSD
リリース工程の概要</a></h2>

<p>FreeBSD では、ソースコードリポジトリに複数の開発ブランチを置く
という開発モデルを採用しています。中心となるブランチは ``CURRENT'' と呼ばれ、 CVS
リポジトリでは <var class="LITERAL">HEAD</var> というタグが付けられています。
新機能はまず、このブランチにコミットされます。 つまり CURRENT
には新機能が一番最初に追加されますが、
その新機能の追加やデバッグが原因でシステムが壊れてしまうこともある、 ということです。</p>

<p>FreeBSD リリースの大部分は、いくつかある ``STABLE''
ブランチから作成されます。これらのブランチには、CURRENT
である程度試験された機能だけが追加されます。 現時点で活発に開発されている STABLE
ブランチは 1 つだけです。 そのブランチは ``4-STABLE'' と呼ばれており、 FreeBSD 4.<var
class="REPLACEABLE">X</var> リリースはすべてこのブランチから作成されました。
このブランチは CVS リポジトリで <var class="LITERAL">RELENG_4</var>
というタグが付けられています。</p>

<p>FreeBSD 5.0 と 5.1, 5.2 は CURRENT ブランチをベースにしています。 最初の 5.0 は
CURRENT ブランチからの 2 年ぶりのリリースでした (前回の HEAD からのリリース FreeBSD 4.0
は 2000 年 3 月でした)。</p>

<p>FreeBSD 5.0 のリリース後、少し経過した時点で FreeBSD CVS リポジトリに <var
class="LITERAL">RELENG_5</var> というタグが打たれ、 ``5-STABLE''
というブランチが作成される予定です。 以前の 2 つの stable ブランチ (3-STABLE および
4-STABLE) は、 それぞれの ``x.0'' リリースの直後 (それぞれ 3.0 と 4.0) に
作成されていました。しかしこの方法では、 新しい STABLE ブランチが作成される前に、 CURRENT
ブランチが安定する 十分な時間が確保できないという問題があります。</p>

<p>そのためリリースエンジニアリングチームは、 各ブランチがそのブランチの持つ性格に対して
比較的安定した状態になったことを確認してから、 CVS リポジトリに 5-STABLE
ブランチを作成することを予定しています。 おそらくブランチが作成されるまでに、5.<var
class="REPLACEABLE">X</var> 系列からリリース版がいくつか公開されるでしょう。 5-STABLE
ブランチの登場は、5.3-RELEASEの前後 あたりになると見込んでいます。</p>

<p>FreeBSD リリースエンジニアリング工程に関する詳細は、 <a
href="http://www.FreeBSD.org/releng/index.html"
target="_top">リリースエンジニアリングのウェブページ</a> および、<a
href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/releng/index.html"
target="_top">``FreeBSD リリースエンジニアリング''</a> という記事をご覧ください。 きたる
5-STABLE 開発ブランチについての特記事項は <a
href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/5-roadmap/index.html"
target="_top">``5-STABLE 開発ブランチのロードマップ''</a> という記事をご覧ください。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="NEW" name="NEW">3. 新機能</a></h2>

<p>FreeBSD 5.<var class="REPLACEABLE">X</var> の大きな魅力の 1 つは、数多くの新機能です。
これらの新しい機能は、FreeBSD 4-STABLE 開発ブランチには統合できなかった
大きなアーキテクチャレベルの変更も当然ながら含まれています
(一方で新しいデバイスドライバやユーザランドユーティリティなど、
それ自身で完結している改良点は、4-STABLE ブランチに移植されています)。
すべてを網羅したものではありませんが、簡単にまとめてみましょう。</p>

<ul>
<li>
<p>SMPng: ``次世代''に向けた SMP マシン対応です (開発中)。
現在進んでいる作業では、さまざまなカーネルサブシステムにおいて 細粒度 (fine-grained) SMP
ロックをおこない、カーネル内で実行される
スレッドの数を増やすことを目標としています。詳しくは <a
href="http://www.FreeBSD.org/smp/" target="_top">FreeBSD SMP プロジェクト</a>
のページをご覧下さい。</p>
</li>

<li>
<p>KSE: カーネルスケジュールエンティティ (Kernel Scheduled Entities; KSE)
は、スケジューラアクティベーション (Scheduler Activations) の手法と同様の、 1
個のプロセスが複数のカーネルレベルスレッドを 持てるようにするための機構です。この機構で
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pthread&sektion=3&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pthread</span>(3)</span></a> API
を使用して マルチスレッドのユーザランドプログラムを実現するために、 <tt
class="FILENAME">libkse</tt> と <tt class="FILENAME">libthr</tt>
のスレッドライブラリが提供されています。</p>
</li>

<li>
<p>新しいアーキテクチャ: i386, pc98, alpha アーキテクチャに加え、 新たに sparc64, ia64,
amd64 アーキテクチャに対応しました。</p>
</li>

<li>
<p>GCC: コンパイラツールチェインが GCC 2.95.<var class="REPLACEABLE">X</var>
ベースのものから、 GCC 3.3.<var class="REPLACEABLE">X</var> に更新されました。</p>
</li>

<li>
<p>MAC: 高い拡張性を持ち動的にロード可能な、 強制アクセス制御 (Mandatory Access Control;
MAC) ポリシに対応しました。</p>
</li>

<li>
<p>GEOM: ディスク I/O 要求を変換する拡張性の高いフレームワークです。 GEOM をベースにした
GBDE ディスク暗号化機能が実験的に開発されています。</p>
</li>

<li>
<p>FFS: FFS ファイルシステムが (クラッシュから高速に復帰する) バックグラウンド <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck</span>(8)</span></a> 処理 と
ファイルシステムスナップショットに対応しました。</p>
</li>

<li>
<p>UFS2: UFS2 オンディスクフォーマットが新たに追加されました。
これは、ファイル単位での拡張属性と巨大なファイルに対応しています。 また、UFS2 は <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a>
のデフォルトのフォーマットになりました。 pc98 を除くすべてのプラットフォームにおいて、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
はデフォルトで UFS2 のファイルシステムを作成します。</p>
</li>

<li>
<p>Cardbus: Cardbus デバイスに対応しました。</p>
</li>

<li>
<p>Bluetooth: Bluetooth デバイスに対応しました。</p>
</li>
</ul>

<p>さらに詳しい新機能のリストは、各 FreeBSD 5.<var class="REPLACEABLE">X</var>
リリースのリリースノートに書かれています。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="DRAWBACKS" name="DRAWBACKS">4.
初期リリースを使う上での欠点</a></h2>

<p>FreeBSD 5.<var class="REPLACEABLE">X</var>
には説明したような新機能が追加されているのですが、
問題があったり、意図どおりに動かないという部分もいくつか存在します。
これはほとんどの場合、多くの機能がまだ開発中であることに起因したものです。
次に、問題のある部分のいくつかをまとめたリストを示します。</p>

<ul>
<li>
<p>たとえば、上の新機能リストにある SMPng や KSE など、
開発がまだ終わっていない機能が多くあります。
これらの機能はテストと実験用途には向いているものの、
製品品質には達していないかもしれません。</p>
</li>

<li>
<p>カーネルのデータ構造体や ABI, API が変更されたため、
サードパーティ製のデバイスドライバは、 FreeBSD 5.0 に対応させるための作業が必要です。
また、5-STABLE ブランチが作成される前、特に新しい マシンアーキテクチャでは、 ABI, API
に多少変更が加えられる可能性があります。 (なるべく変更しないようにしていますが)、
ユーザから見える構造体が変更される場合があるかもしれません。
そうした場合にはアプリケーションを コンパイルし直したり ports/packages
をインストールし直す必要があります。</p>
</li>

<li>
<p>FreeBSD ベースシステムに含まれていた機能のいくつかが、 Ports Collection
に移動しました。 大きなものとしては、<b class="APPLICATION">Perl</b>、 <b
class="APPLICATION">UUCP</b>、ゲームの大部分 (すべてではありません) が該当します。
プログラムはサポート対象になっていますが、
ベースシステムからなくなったことは混乱を招くかも知れません。</p>
</li>

<li>
<p>利用者と保守担当者が不足しているため、 FreeBSD
ベースシステムの一部が破綻状態に陥りました。 これら (の使われないことの多い機能)
は現在削除されています。 特筆すべき事例に、a.out 形式の実行ファイルの生成、 XNS
ネットワーキング対応、X-10 コントローラドライバが挙げられます。</p>
</li>

<li>
<p>FreeBSD 4.0 で正しく動作していた多くの ports/packages が、 FreeBSD 5.<var
class="REPLACEABLE">X</var> では構築できなくなったり、
正しく動作しなくなったりしています。 これはほとんどがコンパイラツールチェインの変更と、
ヘッダファイルの整頓が原因です。あるいは、カーネルやデバイスにおける
対応の変更によるものもあるでしょう。</p>
</li>

<li>
<p>FreeBSD 5.<var class="REPLACEABLE">X</var> の多くの新機能が、
一般向けに広く公開される初めての機会になります。 カーネルは、(SMPng などの)
このような新機能によって、 大きく変更されています。これらの変更が安定性と性能に
どう影響するか正確に評価するのは難しいでしょう。</p>
</li>

<li>
<p>FreeBSD 5.<var class="REPLACEABLE">X</var> の新機能に含まれる問題点を追跡するため、
デバッグや診断用のコードがある程度残されています。 これにより FreeBSD 5.<var
class="REPLACEABLE">X</var> は、4-STABLE より動作が遅くなっているでしょう。</p>
</li>

<li>
<p>4-STABLE 開発ブランチへの機能統合は、 -CURRENT で``安定した''後にのみ、行なわれます。
FreeBSD 5.<var class="REPLACEABLE">X</var> は、このような -STABLE
ブランチの持つ安定性を持っていません (訳注: FreeBSD 5.0
への新機能追加は、「安定した後に統合」という -STABLE
ブランチの慣習に則っていないという意味です)。 (5-STABLE 開発ブランチは、5.3-RELEASE
の後あたりに作成される予定です)。</p>
</li>

<li>
<p>FreeBSD <a href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/index.html"
target="_top">ハンドブック</a> と <a
href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/faq/index.html"
target="_top">FAQ</a> のような文書は FreeBSD 5.<var class="REPLACEABLE">X</var>
までに加えられた最近の変更を反映していないかもしれません。</p>
</li>
</ul>

<p>このようにシステムの安定性に影響する欠点が多くあることから、 5.<var
class="REPLACEABLE">X</var> 系列が十分に安定するまでの間、
リリースエンジニアリングチームは、 現在の機能性・安定性を重要視するサイトやユーザに対して
4-STABLE ブランチから公開されるリリース版を利用することを推奨しています。
当初存在した安定性に関する問題点の多くは解決されたと考えていますが、
性能に関する問題点のいくつかは、また対処中のものがあります。 製品や
``ミッションクリティカルな'' システムをアップデート
する前にテスト環境でオペレーティングシステムのアップデートを試すのが、
システム管理における最良のやり方であることも注意しておきます。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="PLANS-STABLE" name="PLANS-STABLE">5. 4-STABLE
ブランチに対する今後の予定</a></h2>

<p>重要: 5.<var class="REPLACEABLE">X</var> シリーズがリリースされても 4.<var
class="REPLACEABLE">X</var> リリースのサポートはある期間続けられます。 実際に、FreeBSD
4.8-RELEASE は 5.0-RELEASE の 2 ヵ月後の 2003 年 4 月に公開され、続いて 4.9-RELEASE が
2003 年 10 月に公開されました。 4-STABLE ブランチからの将来のリリースが出るとしたら、
それにはいくつかの要素が絡んできます。 最も重要なのは、5-STABLE
ブランチの作成と、その安定性です。 CURRENT が 5-STABLE
ブランチを作成できるほどに安定していなかった場合、 リリースは 4-STABLE
ブランチから作成することになるでしょう。 また 4-STABLE には、4-STABLE
ブランチからの最終リリースが 告知されるまで、開発者の判断とリリースエンジニアリングの
ポリシに基づいて <var class="LITERAL">HEAD</var> から新機能が統合されます。</p>

<p>ある程度ですが、リリースエンジニアリングチームは
開発者コミュニティと同様にプロジェクト全体として、 将来の 4-STABLE
リリースに対するユーザのニーズを考慮するつもりです。
ただしそのニーズは、リリースエンジニアリング作業に必要な労力・資源
(特に開発者の時間、計算機資源、ミラーアーカイブ容量)
に見合ったものである必要があるでしょう。 一般に、FreeBSD コミュニティは
(ユーザと開発者の双方とも) 5.<var class="REPLACEABLE">X</var>
ブランチ以降の新機能にひかれて先に進む傾向があるようです。 これは、新機能を 4.<var
class="REPLACEABLE">X</var> に移植 (および保守) することが難しいためです。</p>

<p>セキュリティオフィサチーム <code class="EMAIL">&#60;<a
href="mailto:security-officer@FreeBSD.org">security-officer@FreeBSD.org</a>&#62;</code>
は FreeBSD ウェブサイトの <a href="http://www.FreeBSD.org/security/index.html"
target="_top">セキュリティのページ</a> で公開されているポリシに基づき、 4-STABLE
ブランチから作成されるリリースのサポートを継続します。
セキュリティ勧告とセキュリティ上の修正がサポートするのは、 通常、各ブランチ毎に最も新しい
2 つのリリースです。 セキュリティオフィサチームは、
他のリリース版もこのルールに則ったサポートを行ないます。</p>

<p>現在のところ、リリースエンジニアリングチームは 4-STABLE
開発ブランチの将来について具体的な計画は持っていません。
このブランチからの今後のリリースは (もしあるとしたら) 簡単な ``ポイント''
リリースになるでしょう。 それらのリリースはおそらく、4.9-RELEASE と比べて機能面で
大きな変更が含まれていないことを示す 4.9.<var class="REPLACEABLE">X</var>
というバージョン番号になるでしょう。
これらのリリースでは基本的に、セキュリティ問題の修正やバグの修正、 デバイスドライバの更新
(特に新しいハードウェアの対応が、 既に存在するデバイスドライバで簡単に可能な場合) が
重視されます。主要な新機能 (特に 5.<var class="REPLACEABLE">X</var> で
追加された新しい機構が必要なもの) は、おそらく、 これらのリリースには追加されません。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="UPGRADE" name="UPGRADE">6. FreeBSD 4.<var
class="REPLACEABLE">X</var> からアップグレードする際の注意点</a></h2>

<p>この節では現在 FreeBSD システムを利用している方向けに、 FreeBSD 4.<var
class="REPLACEABLE">X</var> システムを 5.<var class="REPLACEABLE">X</var>
システムにアップグレードする際の 注意点について説明します。 FreeBSD
をアップグレードする場合は、アップグレードしたいバージョンの リリースノートと errata
文書を読むこと、また、 ソースからアップグレードする場合には <tt
class="FILENAME">src/UPDATING</tt> を読むことが重要です。</p>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN165" name="AEN165">6.1. バイナリアップグレード</a></h3>

<p>おそらく最も単純な方法は、
``すべてをバックアップして、再フォーマット、再インストールし、
最後にバックアップを展開''することでしょう。
この方法は、互換性がなかったり、古くて使えない実行ファイルや
設定ファイルによって、新しいシステムが汚染される問題を回避することができます。
また、新規にファイルシステムを作成することによって、 デフォルトフォーマットである UFS2
の新機能の恩恵を受けることができます。</p>

<p>現時点の <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
のバイナリアップグレード機能は、 メジャーバージョンをまたぐアップグレードに対して
十分に試験されていません。 そのため、この機能を使うことはおすすめできません。
特に、バイナリアップグレードは FreeBSD 4.<var class="REPLACEABLE">X</var> に存在して
FreeBSD 5.<var class="REPLACEABLE">X</var>
に存在しないファイルをシステムに数多く残します。
これらの古いファイルは何らかの問題を引き起こす可能性があります。 例えば、古い C++
ヘッダ、 Ports コレクションへ移動した プログラム、ダイナミックリンクされた root
ファイルシステムの 実行ファイルをサポートするために移動した共有ライブラリが
挙げられます。</p>

<p><span class="TRADEMARK">i386</span>&#8482; および pc98 プラットフォームの 4-STABLE
では、 インストールメディアからの起動の際、 ISA デバイスの設定を起動時に変更できる
UserConfig ユーティリティが利用できるようになっています。 FreeBSD 5.<var
class="REPLACEABLE">X</var> では、この機能の一部が <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=device.hints&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">device.hints</span>(5)</span></a>
機構に 置き換えられました(同じパラメータを指定できますが、
対話的なものではなくなっています)。</p>

<p>フロッピを使ったバイナリインストールには、
デバイスドライバのカーネルモジュールを含んだ 新しい 3 枚目のフロッピイメージが必要です。
この <tt class="FILENAME">drivers.flp</tt> フロッピイメージは通常、 従来からある <tt
class="FILENAME">kern.flp</tt> や <tt class="FILENAME">mfsroot.flp</tt>
のフロッピイメージが置かれている場所と同じところに置かれています。</p>

<p><span class="TRADEMARK">i386</span> アーキテクチャにおける CDROM
を使ったインストールでは、
``非エミュレーション型''の起動ローダを使用するようになっています。
この利点はいろいろとありますが、フロッピイメージ用に切り詰めた カーネルではなく、通常の
<var class="LITERAL">GENERIC</var> カーネルが 使用できるという点があげられるでしょう。
理論的には、<span class="TRADEMARK">Microsoft</span>&reg; <span
class="TRADEMARK">Windows&nbsp;NT</span>&reg; 4 インストール CDROM
が起動できるシステムなら、FreeBSD 5.<var class="REPLACEABLE">X</var> CDROM
も動作するはずです。</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN192" name="AEN192">6.2. ソースを使ったアップグレード</a></h3>

<p>何はともあれ、<tt class="FILENAME">src/UPDATING</tt> を読むことが非常に大切です。 ``To
upgrade from 4.x-stable to current''
という節には、アップグレード手順がステップバイステップで書かれています。
説明されているとおり、正確に従ってください。 たまにやる人がいるのですが、
手順を``飛ばしたり''してはいけません。</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="AEN198" name="AEN198">6.3. 共通の注意点</a></h3>

<p><b class="APPLICATION">Perl</b> がベースシステムから削除されています。
すでに作成ずみの package から、もしくは Ports Collection から Perl
をインストールしなければなりません。 以前は Perl
をベースシステムの一部として構築していたため、 Perl
のアップグレードが難しく、多くの問題を引き起こしていました。
ベースシステムのユーティリティで Perl を使うものは、 まだ使われているものは Perl
を使わないものに書き換えられ、 使わなくなったものは削除されています。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
は、大部分の配布物のインストール時に、 その配布物の一部として Perl の package
もインストールするようになっていますので、 この変更に気づくユーザはごく一部でしょう。</p>

<p>基本的に、従来の 4.<var class="REPLACEABLE">X</var> で使っていた実行ファイルは 5.<var
class="REPLACEABLE">X</var> でも動作します。 ただし、これには <tt
class="FILENAME">compat4x</tt> 配布物がインストールされていることが必要です。 古い ports
をそのまま使うことができる場合もありますが、
後方互換性がない例も数多く判明しています。たとえば <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/devel/gnomevfs2/pkg-descr"><tt
class="FILENAME">devel/gnomevfs2</tt></a>, <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/mail/postfix/pkg-descr"><tt
class="FILENAME">mail/postfix</tt></a>, <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/security/cfs/pkg-descr"><tt
class="FILENAME">security/cfs</tt></a> の各 port は <var class="LITERAL">statfs</var>
構造体の変更のため、コンパイルし直す必要があります。</p>

<p>既存の 4-STABLE ベースのシステムに上書きする形でインストールや
アップグレードを行なった場合は、 <tt class="FILENAME">/usr/include</tt>
にある古いヘッダファイルを削除することが非常に重要です。 バイナリインストールや <var
class="LITERAL">installworld</var> の前に、
このディレクトリをリネームしておくと良いでしょう。 こうしないと、(特に C++ プログラムで)
コンパイラが古いヘッダと
新しいヘッダを混ぜて使用してしまい、おかしな結果になる可能性があります。</p>

<p><tt class="FILENAME">MAKEDEV</tt> がもはや提供されなくなり、 また必要なくなりました。
FreeBSD 5.<var class="REPLACEABLE">X</var>
は、必要に応じてデバイスノードを自動的に作成する
デバイスファイルシステムを利用しています。 詳細は <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=devfs&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">devfs</span>(5)</span></a>
をご覧ください。</p>

<p>UFS2 が <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a>
を利用して作成するファイルシステムの デフォルトのディスクフォーマットになりました。
また、pc98 を除くすべてのプラットフォームにおいて、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
がディスクラベル作成画面で作成する デフォルトのファイルシステムになりました。 FreeBSD
4.<var class="REPLACEABLE">X</var> は UFS1 のみを認識する (UFS2 は認識しません) ので、
5.<var class="REPLACEABLE">X</var> と 4.<var class="REPLACEABLE">X</var>
の両方がアクセスする必要のあるディスクパーティションは UFS1
で作成しなければならないことに注意してください。 これは <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> の <var
class="OPTION">-O1</var> オプションを利用するか <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
のディスクラベル作成画面で指示することで 指定することができます。
このような状況は、単一のマシンで FreeBSD 5.<var class="REPLACEABLE">X</var> と FreeBSD
4.<var class="REPLACEABLE">X</var> の双方を起動するシステムでしばしば発生します。
ディスクフォーマット間のファイルシステムを変換する方法は
(バックアップして、ファイルシステムを再度作成し、 バックアップを展開する以外に)
存在しないことに注意してください。</p>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="SUMMARY" name="SUMMARY">7. まとめ</a></h2>

<p>FreeBSD 5.2-RELEASE には魅力的な機能がたくさん含まれています。
しかし現時点では、それがすべての皆さんの期待に応えられるものではないかも知れません。
この文書では、リリースエンジニアリングの背景と 5.<var class="REPLACEABLE">X</var>
系列の特筆すべき新機能の一部について、
初期リリースを使う上でのいくつかの欠点についてとりあげました。 また、将来の 4-STABLE
開発ブランチの計画と、
初期リリースを利用する人向けのアップグレードのヒントも説明しています。</p>
</div>
</div>

<hr />
<p align="center"><small>このファイルの他、リリース関連の文書は <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>
からダウンロードできます。</small></p>

<p align="center"><small>FreeBSD に関するお問い合わせは、&#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62; へ質問を投稿する前に<a
href="http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

<p align="center"><small>この文書の原文に関するお問い合わせは &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62; まで、<br />
日本語訳に関するお問い合わせは、&#60;<a
href="http://www.jp.FreeBSD.org/ml.html#doc-jp">doc-jp@jp.FreeBSD.org</a>&#62;
まで電子メールでお願いします。</small></p>

<br />
<br />
</body>
</html>

