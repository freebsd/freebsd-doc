<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 5.2-RELEASE Errata</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD 5.2-RELEASE Errata</a></h1>

<h3 class="CORPAUTHOR">FreeBSD プロジェクト</h3>

<p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002, 2003, 2004 FreeBSD
ドキュメンテーションプロジェクト</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/ja_JP.eucJP/errata/article.sgml,v 1.30
2004/03/05 04:14:21 rushani Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD は Wind River Systems, Inc. の登録商標です。
これは近いうちに変わる見込みです。</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium および Xeon
はアメリカ合衆国およびその他の国における Intel Corporation
またはその関連会社の商標または登録商標です。</p>

<p>Sparc, Sparc64, SPARCEngine および UltraSPARC はアメリカ合衆国およびその他の国における
SPARC International, Inc. の商標です。SPARC の商標をつけた製品は Sun Microsystems, Inc.
が開発したアーキテクチャに基づいています。</p>

<p>製造者および販売者が製品を区別するのに 用いている表示の多くは、商標とされています。
この文書に登場する表示のうち FreeBSD Project
がその商標を確認しているものには、その表示に続いて ``&trade;'' または ``&reg;''
記号がおかれています。</p>
</div>

<hr />
</div>

<blockquote class="ABSTRACT">
<div class="ABSTRACT"><a id="AEN20" name="AEN20"></a>
<p>この文書は FreeBSD 5.2-RELEASE
の公開後に判明した重要な情報、あるいはリリース工程の終盤で判明し、
リリース文書に収録できなかった重要な情報が書かれている errata リスト (正誤表) です。
これにはセキュリティ勧告および、
システムの運用・利用に影響を与えるような関連ソフトウェア、
関連文書の更新情報も含まれています。 このバージョンの FreeBSD
をインストールする前には必ず、 最新の errata を参照するようにしてください。</p>

<p>これは FreeBSD 5.2-RELEASE 用の errata 文書です。FreeBSD 5.3-RELEASE
の公開までの間、保守されます。</p>

<p>また、この文書には FreeBSD 5.2-RELEASE の約一カ月後に公開された ``ポイントリリース''
である FreeBSD 5.2.1-RELEASE の errata リストも記載されています。
特に注記がない限り、すべての項目は 5.2-RELEASE と 5.2.1-RELEASE の両方に該当します。</p>

<p>5-CURRENT ブランチは最新のブランチポイントであり、
ここからはまだリリース版が公開されていません。 そのため現時点の 5.2-CURRENT には、 errata
がありません (最初のリリースは 5.3-RELEASE になる予定です)。
このファイルは新たに作成されたブランチ用のひな型として用意されているものです
(当然ながら、この注意書きは他のブランチにある errata 文書には存在しません)。</p>
</div>
</blockquote>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="INTRO" name="INTRO">1. はじめに</a></h2>

<p>この errata 文書には FreeBSD 5.2-RELEASE に関する ``最新の障害情報''
が書かれています。 この文書を読み、
このバージョンのインストール前にリリース公開後に既に発見・修正された問題点について
知っておいてください。</p>

<p>リリースの公開 (たとえば CDROM による配布) には errata
文書が同梱されていることがあります。 しかし、それは当然ながらその時点のものであり、
最新のものと同じであるとは限りません。 インターネット上に置かれている
このリリースに対応した ``errata 文書の最新版'' を参照するようにしてください。 errata
文書は <a href="http://www.FreeBSD.org/releases/"
target="_top">http://www.FreeBSD.org/releases/</a>
をはじめ、最新の状態を維持している各ミラーサイトに置かれています。</p>

<p>FreeBSD 5-CURRENT のソーススナップショット、 バイナリスナップショットにも、
(スナップショット作成時の) 最新版の errata 文書が含まれています。</p>

<p>FreeBSD CERT セキュリティ勧告の全リストは、 <a href="http://www.FreeBSD.org/security/"
target="_top">http://www.FreeBSD.org/security/</a> もしくは <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/"
target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/</a> を参照してください。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="SECURITY" name="SECURITY">2. セキュリティ勧告</a></h2>

<p>(2004 年 1 月 30 日; 2004 年 2 月 28 日更新) <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mksnap_ffs</span>(8)</span></a>
のバグが原因で、 ファイルシステムのスナップショットを作成すると、
対象ファイルシステムのフラグが初期値に戻ってしまいます。
これによる影響の大小はシステムの利用形態によりますが、
拡張アクセス制御リストを無効にしたり、信頼できないファイルシステムに 置かれている setuid
実行ファイルの実行が可能になるおそれがあります。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dump</span>(8)</span></a> の <var
class="OPTION">-L</var> オプションも、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mksnap_ffs</span>(8)</span></a>
を利用するため、このバグによる影響を受けます。 ただし通常、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mksnap_ffs</span>(8)</span></a>
を実行可能なのは スーパユーザと <tt class="GROUPNAME">operator</tt> のメンバのみです。
このバグは FreeBSD 5.2-RELEASE セキュリティブランチで修正され、 FreeBSD 5.2.1-RELEASE
に統合されました。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:01.mksnap_ffs.asc"
target="_top">FreeBSD-SA-04:01</a> をご覧ください。</p>

<p>(2004 年 2 月 8日; 2004 年 2 月 28 日更新) System V 共有メモリインタフェース (のうち
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=shmat&sektion=2&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">shmat</span>(2)</span></a>
システムコール) にバグがあり、
未割当のカーネルメモリを参照する共有メモリセグメントをつくることが
できてしまう可能性があります。
ローカルの攻撃者がこれを悪用すると、カーネルメモリの一部に不正に
アクセスすることが可能になるため、結果としてセキュリティ上重要な
情報の漏洩、アクセス制御機構の迂回や
高い権限の不正な獲得などに利用されるおそれがあります。 このバグは FreeBSD 5.2-RELEASE
セキュリティブランチで修正され、 FreeBSD 5.2.1-RELEASE に統合されました。
詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:02.shmat.asc"
target="_top">FreeBSD-SA-04:02</a> をご覧ください。</p>

<p>(2004 年 2 月 28 日) 特定の条件下では、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">jail</span>(8)</span></a>
環境の内側で スーパユーザ権限を持つプロセスを悪用して 自身のルートディレクトリを異なる
jail に変更することができます。 これにより、本来独立しているべき各 jail 間で、
ファイルやディレクトリの読み書きが可能になってしまうおそれがあります。 このぜい弱性は
FreeBSD 5.2-RELEASE セキュリティブランチで修正され、 FreeBSD 5.2.1-RELEASE
に統合されました。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:03.mail.asc"
target="_top">FreeBSD-SA-04:03</a> をご覧ください。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="OPEN-ISSUES" name="OPEN-ISSUES">3. 未解決の問題</a></h2>

<p>(2004 年 1 月 9 日) <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpp&sektion=1&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cpp</span>(1)</span></a>
の動作が変更されたことが原因で、 カラーディスプレイが接続されていても、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&sektion=1&manpath=XFree86+4.3.0"><span
class="CITEREFENTRY"><span class="REFENTRYTITLE">xdm</span>(1)</span></a>
のログイン画面が白黒になってしまいます。 新しいバージョンの <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/XFree86-4-clients/pkg-descr"><tt
class="FILENAME">x11/XFree86-4-clients</tt></a> の port/package
をインストールすることで、この問題は回避可能です。</p>

<p>(2004 年 1 月 9 日) ACPI に関する問題が残っています。システムによっては起動時に
動作がおかしくなったり、ハングアップしてしまうものがあります。 この問題は、起動ローダの
``セーフモード'' オプションか、 カーネル環境変数 <var
class="VARNAME">hint.acpi.0.disabled</var> を使って ACPI
を無効にすることで回避することができます。
これらの問題は、現在調査中です。まだ報告されていない問題が ありましたら、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dmesg</span>(8)</span></a> と <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpidump&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acpidump</span>(8)</span></a>
の結果を <a href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current"
target="_top">FreeBSD-CURRENT メーリングリスト</a> に送ってください (<span
class="emphasis"><i
class="EMPHASIS">送る前</i></span>にメーリングリストのアーカイブを調べましょう)。
その報告が、問題の原因究明に役に立つかも知れません。</p>

<p>(2004 年 1 月 9 日; 2004 年 2 月 28 日更新) ATA デバイス、特に SATA
デバイスの場合、正常に動作しない場合があります。
報告されている症状は、コマンドがタイムアウトする、
あるいは割り込みがかからないというものです。
これらの問題はタイミングに依存しているらしく、特定が困難な状況です。
回避策としては、次のようなものがあります。</p>

<ul>
<li>
<p>起動ローダの``セーフモード''オプション、 もしくは sysctl 変数 <var
class="VARNAME">hw.ata.ata_dma</var> を使って ATA DMA を無効にする。</p>
</li>

<li>
<p>もし可能なら、ホストの BIOS 設定を変更して ATA コントローラを ``legacy mode''
に切り替える。</p>
</li>

<li>
<p>たとえば起動ローダの``セーフモード''オプションや カーネル環境変数 <var
class="VARNAME">hint.acpi.0.disabled</var> を使って、ACPI を無効にする。</p>
</li>
</ul>

<p>上記の問題のいくつかは、 FreeBSD 5.2.1-RELEASE では 5.2-CURRENT から新しい <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
ドライバを統合して 解決されています。</p>

<p>(2004 年 1 月 9 日) インストールフロッピーを使って NFS 経由でインストールする場合、 3
枚目のフロッピーディスクから <tt class="FILENAME">nfsclient.ko</tt>
モジュールを手動でロードする必要があります。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a> が
3 枚目のフロッピーディスクにある
ドライバを読み込む時に表示されるプロンプトの指示に従ってください。</p>

<p>(2004 年 1 月 9 日) <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pcm&sektion=4&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pcm</span>(4)</span></a>
ドライバで複数の vchans (ソフトウェアで動的にミキシングを 行なう仮想オーディオチャネル)
を利用すると、 不安定になる場合があります。</p>

<p>(2004 年 1 月 10 日) APIC
割り込みルーティングは多くのシステムで正常に動作していますが、 (ラップトップの一部など)
システムによっては、たとえば X11 の起動・終了時に <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.2-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
のエラーやハングアップが発生すると いった、さまざまなエラーが発生するようです。
こういった症状が現れる場合は、 起動ローダの``セーフモード''オプションや ローダ変数 <var
class="VARNAME">hint.apic.0.disabled</var> を使って、APIC
ルーティングを無効にすると改善するかも知れません。 ただし、APIC を無効にすると SMP
システムの利用はできなくなります。</p>

<p>(2004 年 1 月 10 日; 2004 年 2 月 28 日更新) NFSv4 クライアントが NFSv3 のみ、あるいは
NFSv2 のみに対応した サーバに NFSv4 操作をおこなおうとした場合、
パニックが発生する場合があります。この問題は、 FreeBSD 5.2-CURRENT に含まれている <tt
class="FILENAME">src/sys/rpc/rpcclnt.c</tt> のリビジョン 1.4 で修正されました。
この修正は FreeBSD 5.2.1-RELEASE にも統合されています。</p>

<p>(2004 年 1 月 11 日; 2004 年 2 月 28 日更新) <tt class="FILENAME">nss_ldap</tt>
などのサードパーティ製 NSS
モジュールを使い、大量のメンバリストを含むグループが存在する場合、
問題が発生することがあります。この問題は FreeBSD 5.2-CURRENT に含まれる <tt
class="FILENAME">src/include/nss.h</tt> のリビジョン 1.2, <tt
class="FILENAME">src/lib/libc/net/nss_compat.c</tt> のリビジョン 1.2 で 修正され、FreeBSD
5.2.1-RELEASE に統合されました。</p>

<p>(2004 年 1 月 13 日) FreeBSD 5.2-CURRENT のリリースノートには、含まれている <b
class="APPLICATION">GCC</b> が post-release GCC 3.3.3 snapshot
と記載されていました。これは、<span class="emphasis"><i
class="EMPHASIS">pre-release</i></span> GCC 3.3.3 snapshot の誤りです。</p>

<p>(2004 年 1 月 13 日; 2004 年 2 月 28 日更新) <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/sysutils/kdeadmin3/pkg-descr"><tt
class="FILENAME">sysutils/kdeadmin3</tt></a> port/package には、 <b
class="APPLICATION">KUser</b> を使うとシステムパスワードファイルに ある <tt
class="USERNAME">root</tt> ユーザが削除されてしまう可能性のある
バグが含まれています。この port/package を使っている場合は、 ぜひバージョン 3.1.4_1
へアップグレードするようお願いします。 FreeBSD 5.2.1-RELEASE にはこのバグが修正された
package が 収録されてます。</p>

<p>(2004 年 1 月 21 日; 2004 年 2 月 28 日更新) KAME プロジェクトから統合された IPSec
実装に、 まだ参照されているメモリオブジェクトを開放してしまう可能性のあるバグが
発見されました。今まで、セキュリティポリシデータベース (SPD; Security Policy Database)
をフラッシュした後に異常な動作をしたり、
カーネルパニックが発生するという症状が報告されています。 問題の一部は FreeBSD 5.2-CURRENT
に含まれる <tt class="FILENAME">src/sys/netinet6/ipsec.c</tt> のリビジョン 1.31, <tt
class="FILENAME">src/sys/netinet/in_pcb.c</tt> のリビジョン 1.136, <tt
class="FILENAME">src/sys/netkey/key.c</tt> のリビジョン 1.64 で修正され、FreeBSD
5.2.1-RELEASE に統合されました。 この問題の詳細については、 <a
href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current"
target="_top">FreeBSD-CURRENT メーリングリスト</a> の投稿、特に <a
href="http://lists.FreeBSD.org/pipermail/freebsd-current/2004-January/thread.html#18084"
target="_top">``[PATCH] IPSec fixes''</a> という題名のついたスレッドをご覧ください。</p>

<p>(2004 年 2 月 28 日) FreeBSD 5.2.1-RELEASE に収録されている FreeBSD port
作成者のためのハンドブックに、5.2.1-RELEASE の <var
class="VARNAME">__FreeBSD_version</var> の値に誤りがありました。 正しくは <var
class="LITERAL">502010</var> です。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="LATE-NEWS" name="LATE-NEWS">4. 最新情報</a></h2>

<p>(2004 年 1 月 10 日; 2004 年 2 月 28 日更新) FreeBSD の TCP 実装に TCP
セグメントのサイズと速度を制限するという形で、 ある種の TCP MSS
資源枯渇攻撃に対する対策が追加されました。 ひとつ目は TCP
セグメントサイズの最大と最小を制限するもので、 sysctl 変数 <var
class="VARNAME">net.inet.tcp.minmss</var> (デフォルトは <var class="LITERAL">216</var>)
で制御することができます。 ふたつ目は、セグメントの平均サイズが <var
class="VARNAME">net.inet.tcp.minmss</var> より小さい接続の 最大通信速度を制限するもので、
<var class="VARNAME">net.inet.tcp.minmssoverload</var> 変数で制御することができます。
設定されたパケット速度を超える接続は、reset されて切断されます。 この機能は 5.2-RELEASE
リリースサイクルの終りごろに追加されたため、
デフォルトでは、この接続速度の制限は無効になっていますが、 <var
class="VARNAME">net.inet.tcp.minmssoverload</var> に 0 でない
値を設定することで、手動で有効にすることができます。 この機能は FreeBSD 5.2-RELEASE
のリリース工程の終盤で追加されたため、 リリースノートに記載されていませんでした。</p>
</div>
</div>

<hr />
<p align="center"><small>このファイルの他、リリース関連の文書は <a
href="http://snapshots.jp.FreeBSD.org/">http://snapshots.jp.FreeBSD.org/</a>
からダウンロードできます。</small></p>

<p align="center"><small>FreeBSD に関するお問い合わせは、&#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62; へ質問を投稿する前に<a
href="http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

<p align="center"><small><small>FreeBSD 5-CURRENT をお使いの方は、ぜひ &#60;<a
href="mailto:current@FreeBSD.org">current@FreeBSD.org</a>&#62;
メーリングリストに参加ください。</small></small></p>

<p align="center">この文書の原文に関するお問い合わせは &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62; まで、<br />
日本語訳に関するお問い合わせは、&#60;<a
href="http://www.jp.FreeBSD.org/ml.html#doc-jp">doc-jp@jp.FreeBSD.org</a>&#62;
まで電子メールでお願いします。</p>

<br />
<br />
</body>
</html>

