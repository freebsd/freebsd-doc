<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.330
     $FreeBSD$
-->

<appendix id="mirrors">
  <title>FreeBSD の入手方法</title>

  <sect1 id="mirrors-cdrom">
    <title>CDROM/DVD 出版社</title>

    <sect2>
      <title>リテールボックス製品</title>

      <para>FreeBSD は (FreeBSD CD、追加ソフトウェア、
        印刷されたドキュメントなどから構成される)
	箱入りの製品として以下の取り扱い業者から入手できます。</para>

      <itemizedlist>
	<listitem>
	  <address>
	    <otheraddr>CompUSA</otheraddr>
	    WWW: <otheraddr><ulink url="http://www.compusa.com/"></ulink></otheraddr>
	  </address>
	</listitem>

	<listitem>
	  <address>
	    <otheraddr>Frys Electronics</otheraddr>
	    WWW: <otheraddr><ulink url="http://www.frys.com/"></ulink></otheraddr>
	  </address>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>CD/DVD セット</title>

      <para>FreeBSD の CD/DVD セットは以下のオンライン業者から入手できます。</para>

    <itemizedlist>
      <listitem>
	<address>
	  <otheraddr>Daemon News Mall</otheraddr>
	  <street>560 South State Street, Suite A2</street>
	  <city>Orem</city>, <state>UT</state> <postcode>84058</postcode>
	  <country>USA</country>
	  電話: <phone>+1 800 407-5170</phone>
	  Fax: <fax>+1 1 801 765-0877</fax>
	  Email: <email>sales@bsdmall.com</email>
	  WWW: <otheraddr><ulink url="http://www.bsdmall.com/freebsd1.html"></ulink></otheraddr>
        </address>
      </listitem>

      <listitem>
        <address>
	  <otheraddr>FreeBSD Mall, Inc.</otheraddr>
	  <street>3623 Sanford Street</street>
	  <city>Concord</city>, <state>CA</state>  <postcode>94520-1405</postcode>
	  <country>USA</country>
	  電話: <phone>+1 925 674-0783</phone>
	  Fax: <fax>+1 925 674-0821</fax>
	  Email: <email>info@freebsdmall.com</email>
	  WWW: <otheraddr><ulink url="http://www.freebsdmall.com/"></ulink></otheraddr>
	</address>
      </listitem>

      <listitem>
        <address>
	  <otheraddr>FreeBSD Services Ltd</otheraddr>
	  <street>11 Lapwing Close</street>
	  <city>Bicester</city>
	  <postcode>OX26 6XR</postcode>
	  <country>United Kingdom</country>
	  WWW: <otheraddr><ulink url="http://www.freebsd-services.com/"></ulink></otheraddr>
        </address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>Hinner EDV</otheraddr>
	  <street>St. Augustinus-Str. 10</street>
	  <postcode>D-81825</postcode> <city>M&uuml;nchen</city>
	  <country>Germany</country>
	  電話: <phone>(089) 428 419</phone>
	  WWW: <otheraddr><ulink url="http://www.hinner.de/linux/freebsd.html"></ulink></otheraddr>
        </address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>Ikarios</otheraddr>
	  <street>22-24 rue Voltaire</street>
	  <postcode>92000</postcode> <city>Nanterre</city>
	  <country>France</country>
	  WWW: <otheraddr><ulink url="http://ikarios.com/form/#freebsd"></ulink></otheraddr>
	</address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>Ingram Micro</otheraddr>
	  <street>1600 E. St. Andrew Place</street>
	  <city>Santa Ana</city>, <state>CA</state>  <postcode>92705-4926</postcode>
	  <country>USA</country>
	  電話: <phone>1 (800) 456-8000</phone>
	  WWW: <otheraddr><ulink url="http://www.ingrammicro.com/"></ulink></otheraddr>
         </address>
       </listitem>

      <listitem>
	<address>
	  <otheraddr>JMC Software</otheraddr>
	  <country>Ireland</country>
	  電話: <phone>353 1 6291282</phone>
	  WWW: <otheraddr><ulink url="http://www.thelinuxmall.com"></ulink></otheraddr>
	</address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>The Linux Emporium</otheraddr>
	  <street>Hilliard House, Lester Way</street>
	  <city>Wallingford</city>
	  <postcode>OX10 9TA</postcode>
	  <country>United Kingdom</country>
	  電話: <phone>+44 1491 837010</phone>
	  Fax: <fax>+44 1491 837016</fax>
	  WWW: <otheraddr><ulink url="http://www.linuxemporium.co.uk/bsd.html#FreeBSD"></ulink></otheraddr>
        </address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>Linux System Labs Australia</otheraddr>
	  <street>21 Ray Drive</street>
	  <city>Balwyn North</city>
	  <postcode>VIC - 3104</postcode>
	  <country>Australia</country>
	  電話: <phone>+61 3 9857 5918</phone>
	  Fax: <fax>+61 3 9857 8974</fax>
	  WWW: <otheraddr><ulink url="http://www.lsl.com.au"></ulink></otheraddr>
        </address>
      </listitem>

      <listitem>
	<address>
	  <otheraddr>UNIXDVD.COM LTD</otheraddr>
	  <street>57 Primrose Avenue</street>
	  <city>Sheffield</city>
	  <postcode>S5 6FS</postcode>
	  <country>United Kingdom</country>
	  WWW: <otheraddr><ulink url="http://www.unixdvd.com/"></ulink></otheraddr>
	</address>
      </listitem>
     </itemizedlist>
    </sect2>

    <sect2>
      <title>問屋</title>

      <para>あなたが小売業を営んでいて FreeBSD の CDROM
      製品を取り扱いたいと考えているなら次の場所に連絡してください。</para>

      <itemizedlist>
	<listitem>
	  <address>
	    <otheraddr>Cylogistics</otheraddr>
	    <street>2672 Bayshore Parkway, Suite 307</street>
	    <city>Mountain View</city>, <state>CA</state> <postcode>94043</postcode>
	    <country>USA</country>
	    電話: <phone>+1 650 694-4949</phone>
	    Fax: <fax>+1 650 694-4953</fax>
	    Email: <email>sales@cylogistics.com</email>
	    WWW: <otheraddr><ulink url="http://www.cylogistics.com/"></ulink></otheraddr>
	  </address>
	</listitem>

	<listitem>
	  <address>
	    <otheraddr>FreeBSD Services Ltd</otheraddr>
	    <street>11 Lapwing Close</street>
	    <city>Bicester</city>
	    <postcode>OX26 6XR</postcode>
	    <country>United Kingdom</country>
	    WWW: <otheraddr><ulink url="http://www.freebsd-services.com/"></ulink></otheraddr>
	  </address>
 	</listitem>

	<listitem>
	  <address>
	    <otheraddr>Kudzu, LLC</otheraddr>
	    <street>7375 Washington Ave. S.</street>
	    <city>Edina</city>, <state>MN</state> <postcode>55439</postcode>
	    <country>USA</country>
	    電話: <phone>+1 952 947-0822</phone>
	    Fax: <fax>+1 952 947-0876</fax>
	    Email: <email>sales@kudzuenterprises.com</email>
	  </address>
	</listitem>

	<listitem>
	  <address>
	    <otheraddr>Navarre Corp</otheraddr>
	    <street>7400 49th Ave South</street>
	    <city>New Hope</city>, <state>MN</state> <postcode>55428</postcode>
	    <country>USA</country>
	    電話: <phone>+1 763 535-8333</phone>
	    Fax: <fax>+1 763 535-0341</fax>
	    WWW: <otheraddr><ulink url="http://www.navarre.com/"></ulink></otheraddr>
	  </address>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 id="mirrors-ftp">
    <title>FTP サイト</title>

    <para>FreeBSD の公式な情報は anonymous FTP によって世界中から
      ミラーサイトより入手できます。 各サイトは
      <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/"></ulink>
      にまとめられています。
      これらのサイトは大規模な接続を受け付けていますが、
      <quote>よりネットワーク的に近い</quote>
      ミラーサイトを探した方が良いでしょう
      (特にミラーサイトのようなものを
      構築しようとした場合はこれに該当します)。</para>

    <para><ulink url="http://mirrorlist.FreeBSD.org/">FreeBSD
	ミラーサイトデーターベース</ulink> FreeBSD ハンドブックの
      <quote>ミラーサイト一覧</quote>
      よりも正確です。というのはその情報を DNS から取得するので、
      静的に記述されたリストよりも信頼性が高いのです。</para>

    <para>さらに、FreeBSD は以下のミラーサイトから anonymous FTP
      によって 入手できます。もし FreeBSD を anonymous FTP
      によって手にいれる場合は、
      近くのサイトを利用するようにしてください。
      <quote>主要なミラーサイト</quote> としてあげられているサイトには、
      FreeBSD の各アーキテクチャで利用可能な
      すべてのバージョンのアーカイブ一式が用意されています。
      あなたが住んでいる国には
      より高速にダウンロードできるサイトがおそらくあるでしょう。
      各国のミラーサイトには、
      人気のあるアーキテクチャの最新のバージョンが置いてありますが、
      FreeBSD のアーカイブ全体はもしかするとないかもしれません。
      すべてのサイトは anonymous FTP によるアクセスを提供していますが、
      別の方法によるアクセスも提供しているサイトもあります。</para>

    &chap.mirrors.ftp.inc;
  </sect1>

  <sect1 id="anoncvs">
    <title>Anonymous CVS</title>

    <para><emphasis>訳: &a.jp.sugimura;</emphasis>、1998 年 7 月 19 日</para>

    <sect2>
      <title><anchor id="anoncvs-intro">導入</title>

      <para>Anonymous CVS (もしくは、<emphasis>anoncvs</emphasis>
        として知られています) は離れたところにある CVS
        リポジトリと同期を取るために FreeBSD に付属している CVS
        ユーティリティに含まれている機能です。他にもありますが、
        それは FreeBSD のユーザが、特別な権限なしに FreeBSD
        プロジェクトの公式な anoncvs サーバに読み取り専用で CVS
        の操作をすることができるようにするためのものです。
        それを使うには、単に <envar>CVSROOT</envar>
        環境変数を設定して適切な anoncvs サーバを指定し、
        <command>cvs login</command> を使って
        パスワード <quote>anoncvs</quote> を入力してください。
        そして次に &man.cvs.1; コマンドを使うことで、
        手元にあるリポジトリと同じようにアクセスできるようになります。</para>

      <note>
	<para><command>cvs login</command> コマンドは、CVS
	  サーバの認証に使われるパスワードを <envar>HOME</envar>
	  ディレクトリの <filename>.cvspass</filename> というファイルに保存します。
	  このファイルが存在しなければ、最初に <command>cvs login</command>
	  を使おうとしたときにエラーが出るでしょう。空の <filename>.cvspass</filename>
	  ファイルを作成して再度ログインに挑戦してください。</para>
      </note>

      <para><link linkend="cvsup">CVSup</link> と
        <emphasis>anoncvs</emphasis>
        のサービスは本質的に同じ機能ではないかということも言われていますが、
        ユーザが同期を取る方法を選ぶときに影響を与える、
        さまざまなトレードオフが存在します。要約して言えば、
        <application>CVSup</application>
        はネットワーク資源の使い方においては非常に効率が良く技術的にもはるかに洗練されたものですが、
        相当な手間がかかります。<application>CVSup</application>
        を使うには特別なクライアントをまずインストールして設定しなくては
        1 bit も取ってくることができませんし、さらにそのとき
        <application>CVSup</application> で取ってくることができるのは、
        <emphasis>コレクション (collection)</emphasis>
        と呼ばれる、
        かなり大きなかたまりだけです。</para>

      <para>それに対して <application>anoncvs</application> では、
        CVS モジュールの名前を指定することで特定のプログラムの
        (<command>ls</command> や <command>grep</command> のような)
        個々のファイルから調べることができます。もちろん、
        <application>anoncvs</application> は CVS
        リポジトリの読み取り専用の操作に対してのみ適しているので、
        もしあなたが FreeBSD プロジェクトのものと共有されたなにか
        ローカルなリポジトリを作ってそこでの開発を
        行おうというときには、<application>CVSup</application>
        だけが唯一の手段となってしまいます。</para>
    </sect2>

    <sect2>
      <title><anchor id="anoncvs-usage">Anonymous CVS を使う</title>

      <para>&man.cvs.1; を設定して Anonymous CVS
        リポジトリを使うには単に <envar>CVSROOT</envar>
        環境変数を設定して FreeBSD プロジェクトの
        <emphasis>anoncvs</emphasis> サーバを指定するだけのことです。
        この文書を書いているときには、
        次のサーバが利用できるようになっています。</para>

      <itemizedlist>
        <listitem>
          <para><emphasis>USA</emphasis>:
            :pserver:anoncvs@anoncvs.freebsd.org:/home/ncvs
            (<command>cvs login</command> コマンドを使い、
            プロンプトが表示されたらパスワード
            <quote>anoncvs</quote> を入力してください)</para>
        </listitem>
	<listitem>
	  <para><emphasis>ドイツ</emphasis>:
	    :pserver:anoncvs@anoncvs.de.FreeBSD.org:/home/ncvs
            (<command>cvs login</command> コマンドを使い、
            プロンプトが表示されたらパスワード
            <quote>anoncvs</quote> を入力してください)</para>
	</listitem>
	<listitem>
	  <para><emphasis>ドイツ</emphasis>:
	    :pserver:anoncvs@anoncvs2.de.FreeBSD.org:/home/ncvs
	    (rsh、pserver、ssh、ssh/2022 が使えます)
	    </para>
	  </listitem>
	  <listitem>
	    <para><emphasis>日本</emphasis>:
	      :pserver:anoncvs@anoncvs.jp.FreeBSD.org:/home/ncvs
            (<command>cvs login</command> コマンドを使い、
            プロンプトが表示されたらパスワード
            <quote>anoncvs</quote> を入力してください)</para>
	  </listitem>
	  <listitem>
	    <para><emphasis>オーストリア</emphasis>:
	      :pserver:anoncvs@anoncvs.at.FreeBSD.org:/home/ncvs
	      (<command>cvs login</command> コマンドを使い、
	      プロンプトが表示されたら任意のパスワードを入力してください)</para>
	  </listitem>
      </itemizedlist>

      <para>CVS はかつて存在した (もしくはこれから存在するものも)
        ほとんどどんなバージョンの FreeBSD のソースを <quote>check
	  out</quote> することができますが、あなたは &man.cvs.1; の
        リビジョン (<option>-r</option>) のオプションや FreeBSD
        プロジェクトのリポジトリの中で
        それをどのように指定したらいいものかということを
        よく知っておく必要があります。</para>

      <para>タグには 2 種類あって、
        リビジョンタグとブランチタグがあります。
        リビジョンタグは特定の改訂版を指しており、
        それはいつも同じものを意味しています。一方ブランチタグは、
        指定されたときの指定された開発の流れにおける
        最も新しい改訂版を示しています。
        ブランチタグは特定の改訂版を指していないために、
        その意味はきょうと明日では違うものになっているでしょう。
      </para>

      <para><xref linkend="cvs-tags">
        にはユーザが興味を持つであろうリビジョンタグの一覧が載せられています。
        これらはいずれも Ports Collection に対して使うことはできません。
        Ports Collection は複数のリビジョンを持っていないからです。</para>

      <para>ブランチタグを指定したときには、
        普通はその開発の流れにおける
        最も新しいバージョンのファイルを受け取ることができます。
        もし以前のバージョンのものが欲しいときには、日付を
        <option>-D date</option>
        オプションを使って指定すればよいです。
        これ以上のことは &man.cvs.1; man page を見てください。</para>
    </sect2>

    <sect2>
      <title>例</title>

      <para>本当はなにかする前には &man.cvs.1;
        のマニュアルページの全体をちゃんと読んでからのほうがいいのですが、
        Anonymous CVS
        の使い方の本質的なところを簡単に例を挙げて説明します。</para>

      <example>
        <title>-CURRENT (&man.ls.1;)
          をちょっと確認してから消してみます。</title>

        <screen>&prompt.user; <userinput>setenv CVSROOT :pserver:anoncvs@anoncvs.freebsd.org:/home/ncvs</userinput>
&prompt.user; <userinput>cvs login</userinput>
<emphasis>プロンプトが表示されたら、パスワード <quote>anoncvs</quote> を入力します。</emphasis>
&prompt.user; <userinput>cvs co ls</userinput>
&prompt.user; <userinput>cvs release -d ls</userinput>
&prompt.user; <userinput>cvs logout</userinput></screen>
      </example>

      <example>
        <title>&man.ls.1; のバージョンを 3.X-STABLE
          ブランチから調べてみます。</title>

        <screen>&prompt.user; <userinput>setenv CVSROOT :pserver:anoncvs@anoncvs.freebsd.org:/home/ncvs</userinput>
&prompt.user; <userinput>cvs login</userinput>
<emphasis>プロンプトが表示されたら、パスワード <quote>anoncvs</quote> を入力します。</emphasis>
&prompt.user; <userinput>cvs co -rRELENG_3 ls</userinput>
&prompt.user; <userinput>cvs release -d ls</userinput>
&prompt.user; <userinput>cvs logout</userinput></screen>
      </example>

      <example>
        <title>&man.ls.1; の変更点のリストを
          (Unified diff で) 作ってみます。</title>

        <screen>&prompt.user; <userinput>setenv CVSROOT :pserver:anoncvs@anoncvs.freebsd.org:/home/ncvs</userinput>
&prompt.user; <userinput>cvs login</userinput>
<emphasis>プロンプトが表示されたら、パスワード <quote>anoncvs</quote> を入力します。</emphasis>
&prompt.user; <userinput>cvs rdiff -u -rRELENG_3_0_0_RELEASE -rRELENG_3_4_0_RELEASE ls</userinput>
&prompt.user; <userinput>cvs logout</userinput></screen>
      </example>

      <example>
        <title>他のどんなモジュールの名前が
          使われているか検索してみます。</title>

        <screen>&prompt.user; <userinput>setenv CVSROOT :pserver:anoncvs@anoncvs.freebsd.org:/home/ncvs</userinput>
&prompt.user; <userinput>cvs login</userinput>
<emphasis>プロンプトが表示されたら、パスワード <quote>anoncvs</quote> を入力します。</emphasis>
&prompt.user; <userinput>more modules/modules</userinput>
&prompt.user; <userinput>cvs release -d modules</userinput>
&prompt.user; <userinput>cvs logout</userinput></screen>
      </example>
    </sect2>

    <sect2>
      <title>他の資料</title>

      <para>次の資料は CVS を学ぶのに役に立つでしょう。</para>

      <itemizedlist>
        <listitem>
          <para><ulink url="http://www.csc.calpoly.edu/~dbutler/tutorials/winter96/cvs/">CVS チュートリアル</ulink> Cal Poly によるものです。</para>
        </listitem>

        <listitem>
          <para><ulink url="http://www.cvshome.org/">CVS Home</ulink>、
	    CVS の開発とサポートをしているコミュニティです。</para>
        </listitem>

        <listitem>
          <para><ulink url="http://www.freebsd.org/cgi/cvsweb.cgi">CVSWeb</ulink>
            は FreeBSD Project の CVS のための WWW インタフェースです。</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 id="ctm">
    <title>CTM を使う</title>

    <para><emphasis>訳: &a.hanai;、1997 年 9 月 13 日</emphasis></para>

    <para><application>CTM</application>
      はリモートのディレクトリツリーを中央のツリーに同期させるための
      手段です。
      これはFreeBSDのソースツリーの配布を行なうために開発されまし
      たが、時が経つにつれて別の目的にも有用であることがわかるかも
      しれません。
      デルタを作り出す処理に関するドキュメントは現在ほとんど
      ありません。従って、もしあなたが<application>CTM</application>
      を他のことに使いたいなら
      &a.phk; にさらなる情報を問い合わせてください。</para>

    <sect2>
      <title>なぜ <application>CTM</application> を使うの?</title>

      <para><application>CTM</application> を使うことにより FreeBSD
	ソースツリーのローカルコピーを手にいれることができます。
	ソースツリーが使えることの魅力は数多くあります。完全な cvs
	ツリーを追いかけるにしても、ひとつのブランチを追いかける
	にしても <application>CTM</application>
	は必要な情報を与えてくれます。
	もしあなたが FreeBSD のアクティブな開発者であるにもかかわらず
	お粗末な TCP/IP 接続しか持っていなかったり、または TCP/IP 接続が
	行なえないとしたら、あるいは単に変更が自動的に送られてきて
	ほしいというのであれば <application>CTM</application>
	はそんなあなたのために 作られたのです。
	アクティブなブランチでは 1
	日に最大三つまでのデルタを受け取る必要があります。
	これが自動的に e-mail で送られてくるという方法を
	ぜひ検討してみてください。
	デルタのサイズは常にできるだけ小さく保たれています。
	大抵の場合 5KB よりも小さく、
	たまに (10 回に 1 回程度) 10-50KB になり、
	ときおり 100KB かもっと大きくなるでしょう。</para>

      <para>開発ソースから直接に得られたものを使うことについては、
	あらかじめパッケージにされたリリースとは違い、
	いろいろと注意することが あります。これは特に
	<quote>current</quote> のソースを選んでいるときは重要です。
	<link linkend="current">最新の FreeBSD
	  を追いかける</link>を読むことをお勧めします。</para>
    </sect2>

    <sect2>
      <title><application>CTM</application>を使うには何が必要?</title>

      <para>二つのものが必要でしょう: <application>CTM</application>
	プログラムとそれに与える (<quote>current</quote>
	レベルを得るための) 最初のデルタです。</para>

      <para><application>CTM</application>
	プログラムはバージョン 2.0 のリリース以来 FreeBSD の一部にな
	りました。もしソースのコピーを持っているなら
	<filename>/usr/src/usr.sbin/ctm</filename>にあります。</para>

      <para>もしFreeBSDの 2.0 以前のバージョンなら、
	最新の <application>CTM</application> のソースを直接</para>

      <para><ulink url="http://www.freebsd.org/cgi/cvsweb.cgi/src/usr.sbin/ctm/"></ulink></para>

      <para>から入手できます。<application>CTM</application>
	に与える <quote>デルタ</quote> は二つの方法、FTP または e-mail、
	で得ること ができます。
	もしインターネットに FTP アクセスできるなら、
	次の FTP サイト:</para>

	<para><ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/"></ulink></para>

      <para>または、その<link linkend="mirrors-ctm">ミラーサイト</link>が
	<application>CTM</application> へのアクセスをサポートします。</para>

      <para>適切なディレクトリに FTP して <filename>README</filename>
	ファイルを入手し、そこからスタートしてください。</para>

      <para>e-mail によってデルタを得たいという場合は:</para>

      <para><application>CTM</application>
	配布メーリングリストのいずれかに参加してください。
	&a.ctm-cvs-cur.name; は完全な CVS ツリー、
	&a.ctm-src-cur.name;
	は開発先端ブランチに対応しています。&a.ctm-src-4.name;
	は 2.2 リリースのブランチに対応したものです
	(もし参加方法が分からない場合は、メーリングリスト名をクリックするか、
        &a.mailman.lists.link; に行って参加したいメーリングリストをクリックしてください。
        このページには、参加手順が詳しく書かれています)。</para>

      <para>メールで <application>CTM</application>
	による更新ファイルを受け取り始めると、中身を取り出して使用
	するために <command>ctm_rmail</command>
	プログラムを使うかもしれません。それを完全
	に自動で行ないたいなら、<filename>/etc/aliases</filename>
	から <command>ctm_rmail</command>プロ
	グラムを直接使うこともできます。
	さらに詳しいことは <command>ctm_rmail</command>
	manページを御覧ください。</para>

      <note>
	<para>どの方法を使って <application>CTM</application>
	  デルタを入手していたとしても、
	  &a.ctm-announce.name;
	  メーリングリストには参加しておくといいでしょう。
	  このメーリングリストは将来的には
	  <application>CTM</application> システムの操作に関する
	  アナウンスがポストされる唯一の場になるでしょう。
	  メーリングリストに参加するには、上のメーリングリスト名をクリックして、
          参加手順に従ってください。</para>
      </note>
    </sect2>

    <sect2>
      <title>はじめて <application>CTM</application> を使い始める</title>

      <para><application>CTM</application>
	デルタを使い始めるためには、これは以降作られる全ての
	デルタの出発点を手にいれる必要があります。</para>

      <para>最初にあなたが何をすでに持っているかをはっきりさせましょう。
	すべての人は
	<quote>空</quote> のディレクトリから始めなければなりません。
	ツリーをサポートしてるあなたの
	<application>CTM</application> を稼働するためには
	指定した <quote>空</quote>
	のデルタを使う必要があります。いくつかの分岐点
	では、あなたの都合により CD
	内に分配されている <quote>スタータ</quote>
	デルタを使用できるようになっています。しかしながら、これは
	頻繁に行われることではありません。
      </para>

      <para>適切な出発点が決まれば、その出発点を
	<application>CTM</application> が
	維持するツリーへ変換するための <quote>スタータ</quote>
	初期デルタを使う必要が あります。</para>

      <para>移行デルタは番号の後ろに <literal>X</literal>
	をつけたものがそうです
	(たとえば <filename>src-cur.3210XEmpty.gz</filename>)。
	<literal>X</literal>
	の後ろは最初の開始ポイントに対応します。
	<filename>Empty</filename> は 空のディレクトリです。
	ルールとして <literal>Empty</literal> からの移行デルタは
	100 デルタごとに 作られます。ちなみに、
	これらは非常に大きくなります!
	<filename>XEmpty</filename>のデルタは 70 から 80MB の
	<command>gzip</command>
	で圧縮されたデータというのが普通です。</para>

      <para>一度スタートするためのベースデルタを得ると、
	それに続く多数のすべてのデルタも必要になるでしょう。</para>
    </sect2>

    <sect2>
      <title><application>CTM</application> を日常で使う</title>

      <para>デルタを適用するためには、単に</para>

      <screen>&prompt.root; <userinput>cd /where/ever/you/want/the/stuff</userinput>
&prompt.root; <userinput>ctm -v -v /where/you/store/your/deltas/src-xxx.*</userinput></screen>

      <para>とします。</para>

      <para><application>CTM</application>
	はどれが <command>gzip</command> されているか理解します。
	従って最初に <command>gunzip</command> しておく必要はありません。
	ディスクの節約にもなります。</para>

      <para>全体の処理に関して確信するまでは
	<application>CTM</application> は (ソース) ツリーに対して
	何もしません。また、デルタを確かめるためには
	<option>-c</option> フラグを使うことができます。
	このフラグがあると <application>CTM</application>
	はツリーに対して実際には何も行ないません。
	単にデルタの完全性を確認し、
	現在のツリーに問題なく使用できるかを確認
	するだけです。</para>

      <para><application>CTM</application>
	には他にもオプションがあります。詳細に関しては
	マニュアルページを参照するかソースを見てください。</para>

      <para>以上でやることは本当に全部です。
	新しいデルタを入手した時には、
	ソースを最新のものにするためにそれを
	<application>CTM</application>に通すだけです。</para>

      <para>もしデルタを再ダウンロードするのが
	骨の折れる作業であれば、デルタを消さないでおいてください。
	なにかおかしなことが起こった場合には置いておけば良かった
	と思うかもしれません。
	もしフロッピーディスクしか持っていない状況
	であってもコピーを取るのに
	<command>fdwrite</command> を使うことを考えてください。</para>
    </sect2>

    <sect2>
      <title>ローカルの変更を保存する</title>

      <para>開発者としてはソースツリー中のファイルを
	使って実験したり変更したく なるものです。
	<application>CTM</application>
	はローカルの変更を制限つきでサポートします: ファイル
	<filename>foo</filename> の存在をチェックする前に、
	<filename>foo.ctm</filename> を参照しにいきます。
	このファイルが存在する場合、<application>CTM</application>
        は <filename>foo</filename>
	の代りにこれを処理します。</para>

      <para>この動作はローカルの変更を保持する簡単な手段を
	提供します: 単に変更したいファイルを拡張子
	<filename>.ctm</filename> 付きのファイル名で
	コピーするだけです。あとは自由にコードをハックでき、
	<filename>.ctm</filename>  ファイルの方は
        <application>CTM</application>
	が最新状態に保ってくれます。</para>
    </sect2>

    <sect2>
      <title><application>CTM</application>
	のその他の面白いオプション</title>

      <sect3>
	<title>更新で変更されるファイルを正確に知る</title>

	<para><application>CTM</application>
	  のソースリポジトリに対する変更のリストを
	  <option>-l</option>
	  オプションを使って決定することができます。</para>

	<para>これは、変更のログを保存したい、
	  変更されたファイルをなんらかの方法で 前・後処理したい、
	  または単にこだわりたい場合には、
	  役に立つでしょう。</para>
      </sect3>

      <sect3>
	<title>更新前にバックアップを取る</title>

	<para><application>CTM</application>
	  の更新によって変更されるファイルすべてのバックアップを
	  取りたくなることがあります。</para>

	<para><option>-B backup-file</option> オプションを指定すると
	  <application>CTM</application> は
	  デルタで変更されるファイルすべてを
	  <filename>backup-file</filename>
	  としてバックアップするようになります。</para>
      </sect3>

      <sect3>
	<title>更新で変更されるファイルを制限する</title>

	<para><application>CTM</application>
	  の更新の範囲を制限したり一連のデルタのから
	  ほんの数ファイルを抽出したくなることがあります。</para>

	<para><option>-e</option> と <option>-x</option>
	  オプションを用い正規表現を指定することで、
	  <application>CTM</application>
	  が処理するファイルのリストを制御することが
	  できます。</para>

	<para>例えば、<filename>lib/libc/Makefile</filename>
	  の最新のコピーを保存してある <application>CTM</application>
	  デルタのコレクションから抽出するには、
	  以下のコマンドを実行します。</para>

	<screen>&prompt.root; <userinput>cd /where/ever/you/want/to/extract/it/</userinput>
&prompt.root; <userinput>ctm -e '^lib/libc/Makefile' ~ctm/src-xxx.*</userinput></screen>

	<para><application>CTM</application>
	  デルタで指定されたファイルごとに、<option>-e</option>
	  そして <option>-x</option>
	  オプションがコマンドラインで指定された順序で適用されます。
	  すべての<option>-e</option> そして <option>-x</option>
	  オプションが適用された後に更新対象と選択された場合に限り、
	  <application>CTM</application>
	  はそのファイルを処理します。</para>
      </sect3>
    </sect2>

    <sect2>
      <title><application>CTM</application>の将来計画</title>

      <para>重要なもの</para>

      <itemizedlist>
	<listitem>
	  <para>なんらかの <application>CTM</application> システムへの認証機構を用い、不正な
	    <application>CTM</application> の更新の検出を可能とする。</para>
	</listitem>

	<listitem>
	  <para><application>CTM</application>
	    へのオプションを整理する。さもないと混乱し、
	    直観に反したものになります。</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>その他</title>

      <para><literal>ports</literal> コレクションに対するデルタもあるのですが、
        これに興味を持っている人はまだ少ないようです。</para>
    </sect2>

    <sect2 id="mirrors-ctm">
      <title>CTM サイト</title>

      <para><link linkend="ctm">CTM</link>/FreeBSD
	は以下のミラーサイトから anonymous FTP によって入手できます。
	もし <application>CTM</application> を anonymous FTP によって手にいれる場合は、
	近くのサイトを利用するようにしてください。</para>

      <para>何か問題がある場合は、&a.phk; に連絡してください。</para>

      <variablelist>
	<varlistentry><term>カリフォルニア、サンフランシスコ近辺、
	    公式なソース</term>
	  <listitem>
	    <itemizedlist>
	      <listitem>
	      <para><ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/"></ulink></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>

	<varlistentry><term>南アフリカ、ctm、sup、
	    CVSupなどの古い差分ファイルのバックアップサーバ</term>
	  <listitem>
	    <itemizedlist>
	      <listitem>
	      <para><ulink url="ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/"></ulink></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>

	<varlistentry><term>台湾/中華民国</term>
	  <listitem>
	    <itemizedlist>
	      <listitem>
	      <para><ulink url="ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/"></ulink></para>
	      </listitem>

	      <listitem>
	      <para><ulink url="ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/"></ulink></para>
	      </listitem>

	      <listitem>
	      <para><ulink url="ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/"></ulink></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>近くにミラーサイトがない場合やミラーが不完全な場合は、
        <ulink url="http://www.alltheweb.com/">alltheweb</ulink>
        のような検索エンジンを使ってみてください。</para>
    </sect2>
  </sect1>

  <sect1 id="cvsup">
    <title>CVSup を使う</title>

    <para><emphasis>訳: &a.jp.iwasaki;、1997 年 2 月 27 日</emphasis></para>

    <sect2 id="cvsup-intro">
      <title>紹介</title>

      <para><application>CVSup</application> は、
	リモートのサーバホストにあるマスタ CVS リポジトリから
	ソースツリーを配布し更新するための
	ソフトウェアパッケージです。FreeBSD のソースは、
	カリフォルニアにある中心的な開発マシンの CVS リポジトリの
	中でメンテナンスしています。<application>CVSup</application>
	を使用することで、FreeBSD ユーザは
	簡単に自分のソースツリーを最新の状態に
	しておくことができます。</para>

      <para><application>CVSup</application> は
	<emphasis>pull</emphasis>
	モデルとよばれる更新のモデルを採用しています。pull
	モデルでは、
	各クライアントが更新したい場合に更新したい時点で、
	サーバに更新の問い合わせをおこないます。
	サーバはクライアントからの
	更新の要求を受け身の状態で待ちます。したがって、
	すべての更新はクライアント主導でおこなわれます。
	サーバは頼まれもしない更新情報を送るようなことはしません。
	ユーザは <application>CVSup</application>
	クライアントを手動で実行して更新をおこなうか、
	<command>cron</command>
	ジョブを設定して定期的に自動実行する必要があります。</para>

      <para>用語 <application>CVSup</application>
	のように大文字で表記しているものは、ソフトウェアパッケージ
	全体を指します。主な構成物は、
	各ユーザマシンで実行するクライアントである
	<command>cvsup</command>、FreeBSD
	の各ミラーサイトで実行するサーバ <command>cvsupd</command>
	です。</para>

      <para>FreeBSD の文書やメーリングリストを読んだ際に、
	<application>sup</application> についての言及を
	見かけたかもしれません。<application>sup</application> は
	<application>CVSup</application> の前に存在していたもので、
	同様の目的で使われていました。
	<application>CVSup</application> は sup
	と同じように使用されており、実際、<command>sup</command>
	と互換性のあるコンフィグレーションファイルを使用します。
	<application>CVSup</application>
	の方がより高速で柔軟性もあるので、もはや
	<application>sup</application> は FreeBSD
	プロジェクトでは使用されていません。</para>
    </sect2>

    <sect2 id="cvsup-install">
      <title>インストール</title>

      <para><application>CVSup</application>
        をインストールする最も簡単な方法は、FreeBSD
	<link linkend="ports">Ports コレクションのパッケージ</link>
	からコンパイル済みの
	<filename role="package">net/cvsup</filename> パッケージをインストールすることです。
	もしくは、<filename role="package">net/cvsup</filename> でも構いません。
	ただし、<filename role="package">net/cvsup</filename> は
	Modula-3 システムに依存していて、構築にかかる時間、
	ディスクスペースは比較的大きくなります。</para>

	<note>
	  <para>たとえばサーバのような <application>&xfree86;</application>
	  がインストールされていない計算機で <application>CVSup</application>
	  を使おうとしているのであれば、必ず <application>CVSup</application>
	  <acronym>GUI</acronym> が含まれていない
	  <filename role="package">net/cvsup-without-gui</filename>
	  を使ってください。</para>
	</note>
    </sect2>

    <sect2 id="cvsup-config">
      <title>CVSup のコンフィグレーション</title>

      <para><application>CVSup</application> の動作は、<filename>supfile</filename>
	と呼ばれるコンフィグレーションファイルで制御します。
	<filename>supfile</filename> のサンプルは、ディレクトリ
        <ulink url="file://localhost/usr/share/examples/cvsup/"><filename>/usr/share/examples/cvsup/</filename></ulink>
        の下にあります。
      </para>

      <para><filename>supfile</filename> には以下の <application>CVSup</application>
	に関する質問への答えを記述します:</para>

      <itemizedlist>
	<listitem>
	  <para><link linkend="cvsup-config-files">
	      どのファイルを受け取りたいのか?</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="cvsup-config-vers">
	      どのバージョンのものが欲しいのか?</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="cvsup-config-where">
	      どこから入手したいのか?</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="cvsup-config-dest">
	      自分のマシンのどこに置きたいのか?</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="cvsup-config-status">
	      どこに status ファイルを置きたいのか?</link></para>
	</listitem>
      </itemizedlist>

      <para>次のセクションで、これらの質問に順番に答えながら典型的な
	<filename>supfile</filename> を組み立てていきます。最初に
	<filename>supfile</filename> の全体構造を説明します。</para>

      <para><filename>supfile</filename> はテキストファイルです。
	コメントは <literal>#</literal> から行末までです。
	空行とコメントだけの行は無視します。</para>

      <para>残りの各行には、
	ユーザが受け取りたいファイル群について記述します。
	行の始めは、
	サーバ側で定義した論理的なファイルのグループである
	<quote>コレクション</quote> の名称です。
	コレクションの名称を指定して、欲しいファイル群を
	サーバに伝えます。コレクション名の後には、
	ホワイトスペースで区切られた 0 個以上のフィールドが続きます。
	これらのフィールドが上記の質問に対する答えになります。
	フィールドには 2 種類あります: flag フィールドと value
	フィールドです。flag フィールドは <literal>delete</literal>
	や <literal>compress</literal> のような
	単独のキーワードから成ります。また、value
	フィールドもキーワードで始まりますが、
	キーワードの後にはホワイトスペースは入らず、
	<literal>=</literal> と二つめの単語が続きます。例えば、
	<literal>release=cvs</literal> は value
	フィールドです。</para>

      <para>通常、<filename>supfile</filename>
	には受け取りたいコレクションを一つ以上指定します。
	<filename>supfile</filename> を組み立てる一つの方法として、
	コレクション毎にすべての関係の
	あるフィールドを明示的に指定する方法があります。しかし、
	これでは <filename>supfile</filename>
	のすべてのコレクションに対して
	ほとんどのフィールドが同じになるため、
	行が非常に長くなってしまい不便になります。
	これらの問題を避けるため、<application>CVSup</application>
	ではデフォルトを指定することのできる
	メカニズムが提供されています。特殊な擬似コレクション名
	<literal>*default</literal> で始まる行は、
	<filename>supfile</filename> 中の後続の
	コレクションに対して使用する flag フィールドと value
	フィールドのデフォルトを設定するために利用できます。
	個々のコレクションで固有の値を指定すると、
	デフォルト値を無効にできます。また <option>*default</option>
	行を追加すると、<filename>supfile</filename>
	の途中からデフォルト値の変更や追加が可能になります。</para>

      <para>これまでの予備知識を基に、
	<link linkend="current">FreeBSD-current</link>
	のメインのソースツリーを受け取って更新するための
	<filename>supfile</filename> を組み立ててみましょう。</para>

      <itemizedlist>
	<listitem>
	  <para><anchor id="cvsup-config-files">
	    どのファイルを受け取りたいのか?</para>

	  <para><application>CVSup</application>
	    を通して入手できるファイルは <quote>コレクション</quote>
	    と呼ばれる名前の付けられたグループにまとめられています。
	    利用可能なコレクションについては
	    <link linkend="cvsup-collec">後の節</link>の中で説明しています。
	    ここでは、FreeBSD システムのメインのソースツリー全体
	    を受け取るための設定例を紹介します。
	    すべてを含む <literal>src-all</literal>
	    という単一の大きなコレクションがあります。
	    <filename>supfile</filename>
	    を組み立てる最初のステップとして、
	    これらのコレクションを一行に一つずつ記述します
	    (この場合は一行だけです)。</para>

	  <programlisting>src-all</programlisting>
	</listitem>

	<listitem>
	  <para><anchor id="cvsup-config-vers">
	    どのバージョンのものが欲しいのか?</para>

	  <para><application>CVSup</application> を使用すると、
	    かつて存在していたことのある、事実上どのバージョンの
	    ソースでも受け取ることができます。これは
	    <application>cvsupd</application>
	    サーバがすべてのバージョンを含む  CVS
	    リポジトリに基づいて動作することにより、
	    実現されています。
	    <literal>tag=</literal> および
	    <option>date=</option> の value フィールドを使用して、
	    欲しいバージョンの 一つを指定します。</para>

	  <warning>
	    <para><literal>tag=</literal>
	      のフィールドの指定は正確に行うように十分注意
	      してください。いくつかのタグは特定のコレクションに
	      対してのみ有効です。
	      タグの綴りが違っていたり不適切なタグを指定すると、
	      <application>CVSup</application> はユーザが消し
	      たくないファイルまで削除してしまいます。特に
	      <literal>ports-*</literal> のコレクション に対しては
	      <literal>tag=.</literal> <emphasis>だけ</emphasis>
	      を指定するようにしてください。</para>
	  </warning>

	  <para><literal>tag=</literal>
	    フィールドはリポジトリ中のシンボリックタグを指定します。
	    tag には revision tag と branch tag の二種類があります。
	    revision tag は特定のリビジョンを指します。これは、
	    毎日同じ状態に保つことになります。一方 branch tag は、
	    ある時点での開発分流の最新のリビジョンを指します。
	    branch tag
	    は特定のリビジョンを指定している訳ではないので、
	    今日と明日では
	    異なるリビジョンを参照することになるかもしれません。</para>

	  <para><xref linkend="cvs-tags">
        にはユーザが興味を持つであろうリビジョンタグの一覧が載せられています。
	    <application>CVSup</application> の設定ファイル中でタグを指定する時は、
	    <literal>tag=</literal> に続けて書きます
	    (<literal>RELENG_4</literal> は
	    <literal>tag=RELENG_4</literal> になります)。
	    <literal>tag=.</literal> だけが ports コレクションには
	    適切であることに注意してください。</para>

	  <warning>
	    <para>tag
	      名を示した通りにタイプされているか十分注意してく
	      ださい。<application>CVSup</application> は tag
	      名が正しいかどうかを見分けることはできません。tag
	      が間違っていた場合、
	      たまたまファイルがまったく存在しない正しい tag が
	      指定されたものとして<application>CVSup</application>
	      は動作します。その場合は、現在あるソースが削
	      除されるでしょう。</para>
	  </warning>

	  <para>branch tag を指定した際には、
	    通常はその開発分流の最新バージョンの
	    ファイルを受け取ります。
	    いくらか前のバージョンを受け取りたい場合は、
	    <option>date=</option> の value
	    フィールドを使って日付を指定することで、
	    これを実現することが できます。&man.cvsup.1;
	    のマニュアルページで、
	    その方法を説明しています。</para>

	    <para>例として、FreeBSD-current を受け取りたいとします。
	      次の行を <filename>supfile</filename>
	      の始めに追加します:</para>

	  <programlisting>*default tag=.</programlisting>

	  <para><literal>tag=</literal> フィールドも
	    <literal>date=</literal>
	    フィールドも指定しなかった場合に
	    動き出す重要な特殊なケースがあります。そのケースでは、
	    特定のバージョンの ファイルを受け取るのではなく、
	    サーバの CVS リポジトリから実際の RCS
	    ファイルを直接受け取ります。
	    一般的に開発者はこの処理のモードが好きなようです。
	    彼らのシステム上にリポジトリそのものの
	    コピーを維持することで、
	    リビジョン履歴を閲覧し過去のバージョンの
	    ファイルを検査できるようになります。しかし、
	    これには大きなディスクスペースが必要になります。</para>
	</listitem>

	<listitem>
	  <para><anchor id="cvsup-config-where">
	    どこから入手したいのか?</para>

	  <para>更新情報をどこから入手するかを
	    <command>cvsup</command> に伝えるために
	    <literal>host=</literal> フィールドを使用します。
	    <link linkend="cvsup-mirrors">CVSup ミラーサイト</link>
	    のどこからでも入手できますが、
	    ネット上での最寄りのサイトを選ぶべきでしょう。
	    この例では、仮想上の FreeBSD 配布サイト
	    <hostid role="fqdn">cvsup666.FreeBSD.org</hostid>
	    を使用します:</para>

	  <programlisting>*default host=cvsup666.FreeBSD.org</programlisting>

	  <para><application>CVSup</application> を実行する前にホスト名を
	    実在のものに変更する必要があります。どのように
	    <command>cvsup</command> を実行しても、この設定は
	    <option>-h <replaceable> hostname</replaceable></option>
	    を
	    使用してコマンドラインで変更することができます。</para>
	</listitem>

	<listitem>
	  <para><anchor id="cvsup-config-dest">
	    自分のマシンのどこに置きたいのか?</para>

	  <para><literal>prefix=</literal> フィールドは、
	    <command>cvsup</command>
	    に受け取ったファイルをどこに置くかを伝えます。
	    この例では、ソースファイルを直接メインのソースツリー
	    <filename>/usr/src</filename> に置きます。
	    <filename>src</filename>
	    ディレクトリはすでにファイルを受け取るために
	    選択したコレクションで暗黙に指定しているので、
	    これは正しい仕様となります:</para>

	  <programlisting>*default prefix=/usr</programlisting>
	</listitem>

	<listitem>
	  <para><anchor id="cvsup-config-status">
	    どこに status ファイルを置きたいのか?</para>

	  <para><application>CVSup</application> クライアントは
	    <quote>base</quote>
	    ディレクトリと呼ばれる場所に、ある status
	    ファイルを維持しています。
	    すでに受け取った更新情報を追従し続けることで、
	    これらのファイルは <application>CVSup</application>
	    がより効果的に動作することを支援します。標準の base
	    ディレクトリ <filename>/usr/local/etc/cvsup</filename>
	    を使用します:</para>

	  <programlisting>*default base=/usr/local/etc/cvsup</programlisting>

	  <para><filename>supfile</filename> に指定がない場合は、
	    この設定をデフォルトで使用しますので、
	    実際には上の行は必要ありません。</para>

	  <para>base
	    ディレクトリが存在しない場合は作成しておきましょう。base
	    ディレクトリが存在しない場合、<command>cvsup</command>
	    クライアントは実行を拒否します。</para>
	</listitem>

	<listitem>
	  <para>その他もろもろの <filename>supfile</filename>
	    の設定:</para>

	  <para>通常 <filename>supfile</filename>
	    に入れておくべき行がもう一つあります:</para>

	  <programlisting>*default release=cvs delete use-rel-suffix compress</programlisting>

	  <para><literal>release=cvs</literal> は、サーバがメインの
	    FreeBSD CVS リポジトリから
	    その情報を取得するように指示します。
	    ほとんどの場合はこのようにしておきますが、
	    ここでの説明の範疇をこえるような
	    状況では他の指定をすることも可能です。</para>

	  <para><literal>delete</literal> は
	    <application>CVSup</application>
	    にファイルを削除することを許可します。
	    <application>CVSup</application> が
	    ソースツリーを完全に最新の状態に
	    保てるようにするためには、これは常に
	    指定しておくべきでしょう。
	    <application>CVSup</application> は、
	    これらの責任範囲のファイルだけを慎重に削除します。
	    たまたま存在する他の余分なファイルについては、
	    まったく手をつけずに残しておきます。</para>

	  <para><literal>use-rel-suffix</literal>
	    は、…神秘的なものです。これについて本当に知りたい人は、
	      &man.cvsup.1; のマニュアルページをご覧ください。
	    でなければ、何も考えずに指定してみてください。</para>

	  <para><literal>compress</literal> は通信チャネルで gzip
	    形式の圧縮の使用を有効にします。
	    ご使用のネットワーク接続が T1 speed 以上である場合、
	    この圧縮を使用しない方がよいかもしれません。
	    そうでない場合は十分に役に立ちます。</para>
	</listitem>

	<listitem>
	  <para><filename>supfile</filename> の例のまとめ:</para>

	  <para>以下は <filename>supfile</filename> の例の全体です:</para>

	  <programlisting>*default tag=.
*default host=cvsup666.FreeBSD.org
*default prefix=/usr
*default base=/usr/local/etc/cvsup
*default release=cvs delete use-rel-suffix compress

src-all</programlisting>
        </listitem>
      </itemizedlist>

      <sect3>
        <title><filename>refuse</filename> ファイル</title>

        <para>既に述べたように、<application>CVSup</application>
          は<emphasis>取り寄せ法 (pull method)</emphasis>を用いるのですが、
          これは基本的に次のようなことを意味します。
          まずあなたが <application>CVSup</application> サーバに接続します。
          するとサーバは
          <quote>あなたがダウンロードできるのはこれこれです</quote> と言います。
          それに対し、あなたが使っているクライアントは
          <quote>わかりました。
            では、これとこれとこれをもらいます</quote> と答えます。
          デフォルトの設定の <application>CVSup</application> クライアントは、
          設定ファイルで選んだコレクションとタグに適合する
	  すべてのファイルを取得します。
          しかし、これは常にあなたの望む動作と一致するとは限りません。
          特に <filename>doc</filename> や <filename>ports</filename> や
          <filename>www</filename> のツリーを同期させる場合などはそうでしょう。
          ほとんどの人は四か国語も五か国語も操れるわけではありませんから、
          特定の言語のファイルのダウンロードは必要ないでしょう。
          Ports コレクションを <application>CVSup</application>
          で取得する場合には、各コレクションを個別に指定することができます
          (たとえば、単に <emphasis>ports-all</emphasis> とするかわりに
          <emphasis>ports-astrology</emphasis>、
          <emphasis>ports-biology</emphasis> などと書きます)。
          一方、<filename>doc</filename> と <filename>www</filename>
          のツリーは言語別のコレクションになっていません。
          そこであなたは <application>CVSup</application>
          のたくさんある洗練された機能の一つ、
          <filename>refuse</filename> ファイルを使う必要があります。</para>

        <para><filename>refuse</filename> ファイルは
          <application>CVSup</application> に対し、
          コレクションに含まれる一部のファイルを取得することを伝えます。
          言い換えれば、それはクライアントに対し、
          サーバから来る一部のファイルを<emphasis>拒否</emphasis>するよう指定するということです。
          <filename>refuse</filename> ファイルは
          <filename><replaceable>base</replaceable>/sup/</filename>
          にあります (もしファイルがない場合には作成してください)。
          <replaceable>base</replaceable> は <filename>supfile</filename> 内で定義されています。
          デフォルトでは <filename>/usr/local/etc/cvsup</filename> です。つまり、
          <filename>refuse</filename> ファイルのデフォルトは
          <filename>/usr/local/etc/cvsup/sup/refuse</filename>
          ということになります。</para>

        <para><filename>refuse</filename> ファイルの書式は、単にダウンロードしたくないファイルや
          ディレクトリの名前が書いてあるだけの非常にシンプルなものです。
          たとえば、英語以外にはドイツ語を少し話せるだけの人で、
          ドイツ語のアプリケーション (やその他英語以外の言語のためのアプリケーション)
          を必要と感じなければ
          以下のような <filename>refuse</filename> ファイルが考えられます。</para>

        <screen>ports/chinese
ports/french
ports/german
ports/hebrew
ports/hungarian
ports/japanese
ports/korean
ports/polish
ports/portuguese
ports/russian
ports/ukrainian
ports/vietnamese
doc/da_*
doc/de_*
doc/el_*
doc/es_*
doc/fr_*
doc/it_*
doc/ja_*
doc/nl_*
doc/no_*
doc/pl_*
doc/pt_*
doc/ru_*
doc/sr_*
doc/zh_*</screen>

        <para>他の言語についても同様です (全リストは <ulink
          URL="http://www.freebsd.org/cgi/cvsweb.cgi/">FreeBSD
          CVS リポジトリ</ulink> をご覧になってください)。</para>

        <para>この実に便利な機能を使うと
          まったく必要としないファイルをダウンロードする必要がなくなり、
          インターネット接続の回線が遅かったり従量制で課金されている人は
          貴重な時間を節約できるようになります。
          <filename>refuse</filename> ファイルの詳細や
          <application>CVSup</application> が持つその他の便利な機能に関しては
          マニュアルページを参照してください。</para>
      </sect3>
    </sect2>

    <sect2>
      <title><application>CVSup</application> の実行</title>

      <para>さて、更新の準備ができました。
        これを実行するコマンドラインは実に簡単です:</para>

      <screen>&prompt.root; <userinput>cvsup <replaceable>supfile</replaceable></userinput></screen>

      <para>もちろん、ここでの
        <filename><replaceable>supfile</replaceable></filename>
        は作成したばかりの <filename>supfile</filename> のファイル名です。X11
        環境で実行するものと仮定して、<command>cvsup</command> は
        通常の操作に必要なボタンを持つ GUI ウィンドウを表示します。
        <guibutton>go</guibutton> ボタンを押して、
        実行を監視してください。</para>

      <para>この例では実際の <filename>/usr/src</filename>
        ツリーを更新しているので、<command>cvsup</command>
        にファイルを更新するのに必要なパーミッションを与えるために、
        ユーザ <username>root</username> で実行する必要があります。
        コンフィグレーションファイルを作ったばかりで、
        しかも以前にこのプログラムを実行したことがないので、
        神経質になるのは無理もない話だと思います。
        大切なファイルに触らずに試しに実行する簡単な方法があります。
        どこか適当な場所に空のディレクトリを作成して、
        コマンドラインの引数で指定するだけです:</para>

      <screen>&prompt.root; <userinput>mkdir /var/tmp/dest</userinput>
&prompt.root; <userinput>cvsup supfile /var/tmp/dest</userinput></screen>

      <para>指定したディレクトリは、すべての更新されるファイルの
        更新先ディレクトリとして使用します。
        <application>CVSup</application> は
        <filename>/usr/src</filename> の下のファイルを検査しますが、
        変更や削除はまったくおこないません。かわりに
        <filename>/var/tmp/dest/usr/src</filename>
        に更新されたすべてのファイルが置かれるようになります。
        この方法で実行した場合は、<application>CVSup</application>
        は base ディレクトリの status
        ファイルを更新せずにそのままにします。
        これらのファイルの新しいバージョンは指定されたディレクトリ
        に書き込まれます。<filename>/usr/src</filename>
        の読み取り許可がある限り、このような試し実行のためにユーザ
        <username>root</username> になる必要はありません。</para>

      <para>X11 を利用していないとか単に GUI が気に入らない場合は、
        <command>cvsup</command> 起動時にコマンドラインに
        二つほどオプションを追加する必要があります:</para>

      <screen>&prompt.root; <userinput>cvsup -g -L 2 <replaceable>supfile</replaceable></userinput></screen>

      <para><option>-g</option> オプションは <application>CVSup</application>
        に GUI を使用しないように伝えます。X11
        を利用していない場合には自動的に指定されますが、
        そうでない場合は明示的に指定します。</para>

      <para><option>-L 2</option> オプションは <application>cvsup</application>
        にファイル更新中の詳細情報をプリントアウト
        するように伝えます。冗長性には <option>-L 0</option> から
        <option>-L 2</option> までの三つのレベルがあります。
        デフォルトは 0 であり、エラーメッセージ以外はまったく出力
        しません。</para>

      <para>たくさんの他のオプション変数があります。
        それらの簡単な一覧は <command>cvsup -H</command>
        で表示されます。
        より詳しい説明はマニュアルページをご覧ください。</para>

      <para>動作している更新の方法に満足したら、&man.cron.8;
        を使って <application>CVSup</application> を定期的に
        実行させる準備をすることができます。cron から起動する際には、
        明示的に <application>CVSup</application> が GUI
        を使わないようにする必要があります。</para>
    </sect2>

    <sect2 id="cvsup-collec">
      <title><application>CVSup</application> ファイルコレクション</title>

      <para><application>CVSup</application>
        経由で入手できるファイルコレクションは
        階層的に組織化されています。
        いくつか大きなコレクションがあり、
        それらは小さなサブコレクションに 分割されています。
        大きなコレクションは、そのサブコレクション毎に
        受信することと同じことになります。
        下の一覧ではコレクション間の階層関係を
        字下げして表現します。</para>

      <para>最も一般的に使用するコレクションは
        <literal>src-all</literal>、
        <literal>ports-all</literal> です。
        他のコレクションは特別な目的を持つ人達だけが使用しており、
        ミラーサイトはそれらのすべてを
        持っていないかもしれません。</para>

      <variablelist>
        <varlistentry>
          <term><literal>cvs-all release=cvs</literal></term>

          <listitem>
            <para>メインの FreeBSD CVS リポジトリであり、
              暗号のコードを含んでいます。</para>

            <variablelist>
              <varlistentry>
                <term><literal>distrib release=cvs</literal></term>

                <listitem>
                  <para>FreeBSD
                    の配布とミラーに関連するファイルです。</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><literal>doc-all release=cvs</literal></term>

                <listitem>
                  <para>FreeBSD
                    ハンドブックおよびその他のドキュメントのソースです。
		    これには FreeBSD web サイトのファイルは含まれません。</para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><literal>ports-all release=cvs</literal></term>

                <listitem>
                  <para>FreeBSD Ports Collection です。</para>

		  <important id="cvsup-collec-pbase-warn">
		    <para><literal>ports-all</literal> (ports ツリー全体) を更新せずに、
                       以下のサブコレクションの一つを使う場合は、<emphasis>常に</emphasis>
                       <literal>ports-base</literal> サブコレクションを更新することを忘れないでください!
                       ports の構築システムに変更があると、
                       <literal>ports-base</literal> に反映されます。
                       そしてほとんどの場合、その変更は新しい ports
                       で<quote>実際に</quote>使われるからです。
                       つまり、<quote>個々の ports</quote> だけを更新していると、
                       奇妙なエラーで構築に失敗する可能性が非常に高くなるということです。
		       <literal>ports-base</literal> サブコレクションが
                       最新状態であるかどうかの確認は、
                       <emphasis>何よりも最初にやらなければならない</emphasis>
                       ことなのです。</para>
		  </important>

                  <variablelist>
                    <varlistentry>
                      <term><literal>ports-archivers release=cvs</literal></term>

                      <listitem>
                        <para>アーカイビングのツール。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-astro release=cvs</literal></term>

                      <listitem>
                        <para>天文学関連の ports。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-audio release=cvs</literal></term>

                      <listitem>
                        <para>サウンドサポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-base release=cvs</literal></term>

                      <listitem>
			<para>Ports Collection の構築システム部分。
			  <filename>/usr/ports</filename> のサブディレクトリ
                          <filename>Mk/</filename>、<filename>Tools/</filename>
                          にある、さまざまなファイルが含まれています。</para>

			<note>
			  <para><link linkend="cvsup-collec-pbase-warn">上の注意文</link>をご覧ください。
                            FreeBSD Ports Collection の一部分を更新する時には、
			    このサブコレクションも<emphasis>常に</emphasis>更新しなければなりません。</para>
			</note>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-benchmarks release=cvs</literal></term>

                      <listitem>
                        <para>ベンチマークプログラム。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-biology release=cvs</literal></term>

                      <listitem>
                        <para>植物学関連のプログラム。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-cad release=cvs</literal></term>

                      <listitem>
                        <para>CAD ツール。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-chinese release=cvs</literal></term>

                      <listitem>
                        <para>中国語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-comms release=cvs</literal></term>

                      <listitem>
                        <para>通信ソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-converters release=cvs</literal></term>

                      <listitem>
                        <para>文字コードコンバータ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-databases release=cvs</literal></term>

                      <listitem>
                        <para>データベース。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-deskutils release=cvs</literal></term>

                      <listitem>
                        <para>コンピュータが発明される前に
                          卓上で使われていたものたち。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-devel release=cvs</literal></term>

                      <listitem>
                        <para>開発ユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-dns release=cvs</literal></term>

                      <listitem>
                        <para>DNS 関連のソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-editors release=cvs</literal></term>

                      <listitem>
                        <para>エディタ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-emulators release=cvs</literal></term>

                      <listitem>
                        <para>他の OS のエミュレータ。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>ports-finance
			  release=cvs</literal></term>

		      <listitem>
			<para>金融、財務関連のアプリケーション。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-ftp release=cvs</literal></term>

                      <listitem>
                        <para>FTP クライアントとサーバ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-games release=cvs</literal></term>

                      <listitem>
                        <para>ゲーム。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-german release=cvs</literal></term>

                      <listitem>
                        <para>ドイツ語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-graphics release=cvs</literal></term>

                      <listitem>
                        <para>グラフィックユーティリティ。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>ports-hungarian
			  release=cvs</literal></term>

		      <listitem>
			<para>ハンガリー語のサポート。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-irc release=cvs</literal></term>

                      <listitem>
                        <para>インターネットリレーチャット (IRC) 用のユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-japanese release=cvs</literal></term>

                      <listitem>
                        <para>日本語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-java release=cvs</literal></term>

                      <listitem>
                        <para>&java; ユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-korean release=cvs</literal></term>

                      <listitem>
                        <para>韓国語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-lang release=cvs</literal></term>

                      <listitem>
                        <para>プログラミング言語。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-mail release=cvs</literal></term>

                      <listitem>
                        <para>メールソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-math release=cvs</literal></term>

                      <listitem>
                        <para>数値計算ソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-mbone release=cvs</literal></term>

                      <listitem>
                        <para>MBone アプリケーション。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-misc release=cvs</literal></term>

                      <listitem>
                        <para>色々なユーティリティ。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>ports-multimedia
			  release=cvs</literal></term>

		      <listitem>
			<para>マルチメディアソフトウェア。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-net release=cvs</literal></term>

                      <listitem>
                        <para>ネットワーキングソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-news release=cvs</literal></term>

                      <listitem>
                        <para>USENET ニュースのソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-palm release=cvs</literal></term>

                      <listitem>
                        <para><trademark class="trade">Palm</trademark> シリーズ用ソフトウェア。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>ports-polish
			  release=cvs</literal></term>

		      <listitem>
			<para>ポーランド語のサポート。</para>
		      </listitem>
		    </varlistentry>

		    <varlistentry>
		      <term><literal>ports-portuguese
			  release=cvs</literal></term>

		      <listitem>
			<para>ポルトガル語のサポート。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-print release=cvs</literal></term>

                      <listitem>
                        <para>印刷ソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-russian release=cvs</literal></term>

                      <listitem>
                        <para>ロシア語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-security release=cvs</literal></term>

                      <listitem>
                        <para>セキュリティユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-shells release=cvs</literal></term>

                      <listitem>
                        <para>コマンドラインシェル。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-sysutils release=cvs</literal></term>

                      <listitem>
                        <para>システムユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-textproc release=cvs</literal></term>

                      <listitem>
                        <para>文書処理ユーティリティ
                          (デスクトップパブリッシングは含まない)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-vietnamese release=cvs</literal></term>

                      <listitem>
                        <para>ベトナム語サポート。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-www release=cvs</literal></term>

                      <listitem>
                        <para>World Wide Web 関連のソフトウェア。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11 release=cvs</literal></term>

                      <listitem>
                        <para>X window システムをサポートする ports。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-clocks release=cvs</literal></term>

                      <listitem>
                        <para>X11 上で動作する時計の数々。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-fm release=cvs</literal></term>

                      <listitem>
                        <para>X11 上で動作するファイラ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-fonts release=cvs</literal></term>

                      <listitem>
                        <para>X11 のフォントとフォントユーティリティ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-toolkits release=cvs</literal></term>

                      <listitem>
                        <para>X11 のツールキット。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-servers</literal></term>

                      <listitem>
                        <para>各種 X11 サーバ。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>ports-x11-wm release=cvs</literal></term>

                      <listitem>
                        <para>X11 のウィンドウマネージャ。</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><literal>src-all release=cvs</literal></term>

                <listitem>
                  <para>メインの FreeBSD ソース群であり、
                    暗号のコードを含んでいます。</para>

                  <variablelist>
                    <varlistentry>
                      <term><literal>src-base release=cvs</literal></term>

                      <listitem>
                        <para><filename>/usr/src</filename>
                          のトップにあるその他のファイル。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-bin release=cvs</literal></term>

                      <listitem>
                        <para>シングルユーザモードで必要な
                          ユーザユーティリティ
                          (<filename>/usr/src/bin</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-contrib release=cvs</literal></term>

                      <listitem>
                        <para>FreeBSD プロジェクト外部からの
                          ユーティリティおよびライブラリ、
                          比較的無修正
                          (<filename>/usr/src/contrib</filename>)。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>src-crypto release=cvs</literal></term>

		      <listitem>
		        <para>FreeBSD プロジェクトの外部で開発された暗号ユーティリティとライブラリで、
		          ほとんどそのままの形で使われます
		          (<filename>/usr/src/crypto</filename>)。</para>
		          </listitem>
		    </varlistentry>

		    <varlistentry>
		      <term><literal>src-eBones release=cvs</literal></term>

		      <listitem>
		        <para>Kerberos と DES
		          (<filename>/usr/src/eBones</filename>) のこと。
		          現在の FreeBSD リリースでは使われていません。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>src-etc release=cvs</literal></term>

                      <listitem>
                        <para>システムコンフィグレーションファイル
                          (<filename>/usr/src/etc</filename>)。</para>
                      </listitem>
                    </varlistentry>


                    <varlistentry>
                      <term><literal>src-games release=cvs</literal></term>

                      <listitem>
                        <para>ゲーム
                          (<filename>/usr/src/games</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-gnu release=cvs</literal></term>

                      <listitem>
                        <para>GNU Public License
                          下にあるユーティリティ
                          (<filename>/usr/src/gnu</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-include release=cvs</literal></term>

                      <listitem>
                        <para>ヘッダファイル
                          (<filename>/usr/src/include</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-kerberos5 release=cvs</literal></term>

                      <listitem>
                        <para>Kerberos5 セキュリティパッケージ
                          (<filename>/usr/src/kerberos5</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-kerberosIV release=cvs</literal></term>

                      <listitem>
                        <para>KerberosIV セキュリティパッケージ
                          (<filename>/usr/src/kerberosIV</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-lib release=cvs</literal></term>

                      <listitem>
                        <para>ライブラリ
                          (<filename>/usr/src/lib</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-libexec release=cvs</literal></term>

                      <listitem>
                        <para>システムプログラムであり、
                          通常は他のプログラムから実行される
                          (<filename>/usr/src/libexec</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-release release=cvs</literal></term>

                      <listitem>
                        <para>FreeBSD の release
                          を構築するために必要なファイル
                          (<filename>/usr/src/release</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-sbin release=cvs</literal></term>

                      <listitem>
                        <para>シングルユーザモード用の
                          システムユーティリティ
                          (<filename>/usr/src/sbin</filename>)。</para>
                      </listitem>
                    </varlistentry>

 		    <varlistentry>
		      <term><literal>src-secure
 			  release=cvs</literal></term>

 		      <listitem>
			<para>暗号化ライブラリとコマンド
			  (<filename>/usr/src/secure</filename>)。</para>
 		      </listitem>
 		    </varlistentry>

                    <varlistentry>
                      <term><literal>src-share release=cvs</literal></term>

                      <listitem>
                        <para>多様なシステム間で共有可能なファイル
                          (<filename>/usr/src/share</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-sys release=cvs</literal></term>

                      <listitem>
                        <para>カーネル
                          (<filename>/usr/src/sys</filename>)。</para>
                      </listitem>
                    </varlistentry>

		    <varlistentry>
		      <term><literal>src-sys-crypto
		        release=cvs</literal></term>

		      <listitem>
		        <para>カーネル用の暗号コード
		          (<filename>/usr/src/sys/crypto</filename>)。</para>
		      </listitem>
		    </varlistentry>

                    <varlistentry>
                      <term><literal>src-tools release=cvs</literal></term>

                      <listitem>
                        <para>FreeBSD の保守用の色々なツール
                          (<filename>/usr/src/tools</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-usrbin release=cvs</literal></term>

                      <listitem>
                        <para>ユーザユーティリティ
                          (<filename>/usr/src/usr.bin</filename>)。</para>
                      </listitem>
                    </varlistentry>

                    <varlistentry>
                      <term><literal>src-usrsbin release=cvs</literal></term>

                      <listitem>
                        <para>システムユーティリティ
                          (<filename>/usr/src/usr.sbin</filename>)。</para>
                      </listitem>
                    </varlistentry>
                  </variablelist>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><literal>www release=cvs</literal></term>

                <listitem>
		  <para>FreeBSD WWW サイトのソースです。</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>

        <varlistentry><term><literal>distrib release=self</literal></term>
          <listitem>
            <para><application>CVSup</application>
              サーバ自身のコンフィグレーションファイルです。CVSup
              ミラーサイトが使用します。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><literal>gnats release=current</literal></term>

          <listitem>
            <para>GNATS バグトラッキングデータベースです。</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><literal>mail-archive release=current</literal></term>

          <listitem>
            <para>FreeBSD 関連メーリングリストのアーカイブ。</para>
          </listitem>
        </varlistentry>

        <varlistentry><term><literal>www release=current</literal></term>
          <listitem>
            <para>前処理された FreeBSD www サイトのファイルです
	      (ソースではありません)。
              WWW ミラーサイトが使用します。</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2>
      <title>詳細について</title>

      <para><application>CVSup</application> の FAQ や
        <application>CVSup</application> に関するその他の情報については
        <ulink url="http://www.polstra.com/projects/freeware/CVSup/">
          The CVSup Home Page</ulink> をご覧ください。</para>

      <para><application>CVSup</application> のほとんどの FreeBSD
        関連の議論は &a.hackers; でおこなわれています。
        ソフトウェアの新しいバージョンは &a.announce; で
        アナウンスされます。</para>

	<para>質問とバグ報告はプログラムの作者、
	  <email>cvsup-bugs@polstra.com</email> へ
	  送ってください。</para>
    </sect2>

    <sect2 id="cvsup-mirrors">
      <title>CVSup サイト</title>

      <para>FreeBSD の <link linkend="cvsup">CVSup</link>
        サーバは以下のサイトで稼働しています。</para>

      &chap.mirrors.cvsup.inc;
    </sect2>
  </sect1>

  <sect1 id="cvs-tags">
    <title>CVS タグ</title>

    <para><application>cvs</application> や <application>CVSup</application>
      でソースを入手したり同期させたりするとき、リビジョンタグ
      (日時で参照されている) を指定しなければなりません。</para>

    <para>リビジョンタグは、FreeBSD 開発ブランチのどれか、
      もしくはある時刻に対応しています。前者を <quote>ブランチタグ</quote>、
      後者を <quote>リリースタグ</quote> と呼びます。</para>


    <sect2>
      <title>ブランチタグ</title>

      <para>ここにある <literal>HEAD</literal> (常に有効なタグ)
        以外のすべてのタグは、<filename>src/</filename> のみに有効です。
        <filename>ports/</filename>、<filename>doc/</filename>、
	<filename>www/</filename> ツリーは、ブランチに分けられていません。</para>

    <variablelist>
      <varlistentry>
	<term>HEAD</term>

	<listitem>
	  <para>主要部をなす流れ、すなわち FreeBSD-CURRENT
            のための名前です。また、
            どのリビジョンも指定されなかったときにはこれになります。</para>

	  <para><application>CVSup</application> では、
	    このタグは <literal>.</literal> で表されます
	    (句読点ではありません。<literal>.</literal>
	    文字そのものです)。</para>

	  <note>
	    <para>CVS
	      ではこれがリビジョンタグが指定されなかった時のデフォルトです。
	      STABLE な計算機上に CURRENT
	      のソースをチェクアウトしたりアップデートするのは、
	      思うところがあってやっているのというのでなければ、
	      よい考え<emphasis>とはいえません</emphasis>。</para>
	  </note>
	</listitem>
      </varlistentry>

       <varlistentry>
	<term>RELENG_5_1</term>

	<listitem>
	  <para>FreeBSD-5.1 用のリリースブランチ。セキュリティ勧告や
            その他の深刻なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_5_0</term>

	<listitem>
	  <para>FreeBSD-5.0 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4</term>

	<listitem>
	  <para>FreeBSD-4.X の開発のための流れです。
            FreeBSD-STABLE としても知られています。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_9</term>

	<listitem>
	  <para>FreeBSD-4.9 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_8</term>

	<listitem>
	  <para>FreeBSD-4.8 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_7</term>

	<listitem>
	  <para>FreeBSD-4.7 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_6</term>

	<listitem>
	  <para>FreeBSD-4.6 および FreeBSD-4.6.2 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_5</term>

	<listitem>
	  <para>FreeBSD-4.5 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_4</term>

	<listitem>
	  <para>FreeBSD-4.4 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_3</term>

	<listitem>
	  <para>FreeBSD-4.3 用のリリースブランチ。セキュリティ勧告や
            その他の重要なセキュリティ上の修正があった場合にのみ使われます。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3</term>

	<listitem>
	  <para>FreeBSD-3.X の開発のための流れです。
            3.X-STABLE としても知られています。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2</term>

	<listitem>
	  <para>FreeBSD-2.2.X の開発のための流れです。2.2-STABLE
            としても知られています。このブランチは大部分が
	    すたれています。</para>
	</listitem>
      </varlistentry>
    </variablelist>
    </sect2>

    <sect2>
      <title>リリースタグ</title>

      <para>これらのタグは、FreeBSD <filename>src/</filename>
	ツリー (および <filename>ports/</filename>、<filename>doc/</filename>、
	<filename>www/</filename> ツリー) で、各バージョンの FreeBSD
        がリリースされた時点に対応しています。</para>

    <variablelist>
      <varlistentry>
	<term>RELENG_4_9_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.9</para>
	</listitem>
      </varlistentry>

       <varlistentry>
	<term>RELENG_5_1_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 5.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_8_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.8</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_5_0_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 5.0</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_7_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.7</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_6_2_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.6.2</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_6_1_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.6.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_6_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.6</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_5_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.5</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_4_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.4</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_3_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.3</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_2_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.2</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_1_1_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.1.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_1_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_4_0_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD 4.0</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_5_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.5</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_4_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.4</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_3_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.3</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_2_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.2</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_1_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_3_0_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-3.0</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_8_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.8</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_7_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.7</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_6_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.6</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_5_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.5</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_2_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.2</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_1_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.1</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>RELENG_2_2_0_RELEASE</term>

	<listitem>
	  <para>FreeBSD-2.2.0</para>
	</listitem>
      </varlistentry>
    </variablelist>
    </sect2>
  </sect1>

  <sect1 id="mirrors-afs">
    <title>AFS サイト</title>

    <para>FreeBSD の AFS サーバは以下のサイトで稼働しています:</para>

    <variablelist>
      <varlistentry>
	<term>スウェーデン</term>

        <listitem>
	  <para>ファイルは以下の場所にあります:
	    <filename>/afs/stacken.kth.se/ftp/pub/FreeBSD/</filename></para>

	  <programlisting>stacken.kth.se         # Stacken Computer Club, KTH, Sweden
130.237.234.43         #hot.stacken.kth.se
130.237.237.230        #fishburger.stacken.kth.se
130.237.234.3          #milko.stacken.kth.se</programlisting>

	  <para>(保守担当 <email>ftp@stacken.kth.se</email>)</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 id="mirrors-rsync">
    <title>rsync ミラーサイト</title>

    <para>次のサイトは、FreeBSD を rsync プロトコルで提供しています。
      <application>rsync</application> ユーティリティは
      &man.rcp.1; コマンドとほぼ同じ機能を実現するもので、
      こちらの方が豊富なオプションを備え、送り側と受け側の差分だけを
      転送するという rsync リモート更新プロトコルを使用するという点が異なります。
      rsync を使うと、ネットワーク経由での同期を非常に高速に行なうことが可能です。
      特に、FreeBSD FTP サーバや CVS リポジトリのミラーサイトを作成する時に便利でしょう。
      <application>rsync</application> は、多くのオペレーティングシステムで
      利用することができます。FreeBSD 版は、
      <filename role="package">net/rsync</filename> の
      port か、package を使ってください。</para>

    <variablelist>
      <varlistentry>
	<term>チェコ共和国</term>

	<listitem>
	  <para>rsync://ftp.cz.FreeBSD.org/</para>

	  <para>提供しているコレクション:</para>
	  <itemizedlist>
	    <listitem><para>ftp: FreeBSD FTP サーバの部分ミラー</para></listitem>
	    <listitem><para>FreeBSD: FreeBSD FTP サーバの全体ミラー</para></listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>ドイツ</term>

	<listitem>
	  <para>rsync://grappa.unix-ag.uni-kl.de/</para>

	  <para>提供しているコレクション:</para>
	  <itemizedlist>
	    <listitem><para>freebsd-cvs: FreeBSD CVS リポジトリ全体</para></listitem>
	  </itemizedlist>
	  <para>このマシンは、他に NetBSD プロジェクトと OpenBSD プロジェクトの
            CVS リポジトリもミラーしています。</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>オランダ</term>

	<listitem>
	  <para>rsync://ftp.nl.FreeBSD.org/</para>

	  <para>提供しているコレクション:</para>

	  <itemizedlist>
	    <listitem><para>vol/3/freebsd-core: FreeBSD FTP サーバの全体ミラー</para></listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>イギリス</term>

	<listitem>
	  <para>rsync://rsync.mirror.ac.uk/</para>

	  <para>提供しているコレクション:</para>

	  <itemizedlist>
	    <listitem><para>ftp.FreeBSD.org: FreeBSD FTP サーバの全体ミラー</para></listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>アメリカ合衆国</term>

	<listitem>
	  <para>rsync://ftp-master.FreeBSD.org/</para>

	  <para>このサーバは、FreeBSD の一次ミラーサイトとしてのみ使われています。</para>

	  <para>提供しているコレクション:</para>

	  <itemizedlist>
	    <listitem><para>FreeBSD: FreeBSD FTP サーバのマスタアーカイブ</para></listitem>
	    <listitem><para>acl: The FreeBSD マスタ ACL リスト</para></listitem>
	  </itemizedlist>

	  <para>rsync://ftp13.FreeBSD.org/</para>

	  <para>提供しているコレクション:</para>

	  <itemizedlist>
	    <listitem><para>FreeBSD: FreeBSD FTP サーバの全体ミラー</para></listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</appendix>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../appendix.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "appendix")
     End:
-->
