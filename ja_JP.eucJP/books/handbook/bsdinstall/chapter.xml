<?xml version="1.0" encoding="euc-jp"?>
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42226
     $FreeBSD$
-->

<chapter id="bsdinstall">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>再構成、部分的に書き直し: </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Randy</firstname>
	<surname>Pratt</surname>
	<contrib>sysinstall のウォークスルー、スクリーンショット、
	  およびその他原稿: </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Gavin</firstname>
	<surname>Atkinson</surname>
	<contrib>bsdinstall に向けた改訂: </contrib>
      </author>

      <author>
	<firstname>Warren</firstname>
	<surname>Block</surname>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>&os; のインストール (9.<replaceable>X</replaceable> 以降の場合)</title>

  <sect1 id="bsdinstall-synopsis">
    <title>この章では</title>

    <indexterm><primary>installation</primary></indexterm>

    <para>&os; では、テキストベースの使いやすいインストールプログラムが用意されています。
      &os;&nbsp;9.0-RELEASE 以降では <application>bsdinstall</application>、
      &os;&nbsp;9.0-RELEASE より前のリリースでは <application>sysinstall</application>
      と呼ばれるインストールプログラムを使います。
      この章では、<application>bsdinstall</application> の使い方について説明します。
      <application>sysinstall</application> の利用については、
      <xref linkend="install"/> で説明しています。</para>

    <para>この章を読むと、以下のことがわかります。</para>

    <itemizedlist>
      <listitem>
	<para>&os; インストールメディアの作り方。</para>
      </listitem>

      <listitem>
	<!-- WB: verify this, including GPT partition notation (ada0p2) -->
	<para>&os; がハードディスクをどのように分割し、参照するか。</para>
      </listitem>

      <listitem>
	<para><application>bsdinstall</application>
	  をどのように起動するか。</para>
      </listitem>

      <listitem>
	<para><application>bsdinstall</application>
	  が聞いてくる質問がどのような意味であり、
	  またどのように答えれば良いか。</para>
      </listitem>
    </itemizedlist>

    <para>この章を読む前に、以下のことを確認して下さい。</para>

    <itemizedlist>
      <listitem>
	<para>インストールしようとしているバージョンに付属しているサポートハードウェア一覧を読み、
	  あなたの使っているハードウェアがサポートされているかどうかを確認して下さい。</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>このインストールの説明書は &i386; (<quote>PC 互換</quote>)
	アーキテクチャのコンピュータを対象にしています。
	他のプラットフォームに特有の説明についてはそのつど明記しています。
	インストーラとこの文書で記述している内容の間には、
	いくらかズレがあることがあります。
	この章を正確で忠実な手順書としてではなく、
	一般的なガイドとしてご利用ください。</para>
    </note>

  </sect1>

  <sect1 id="bsdinstall-hardware">
    <title>ハードウェア要件</title>

    <sect2 id="bsdinstall-hardware-minimal">
      <title>最小構成</title>

      <para>&os; をインストールする最小構成は、
	&os; のバージョンやハードウェアのアーキテクチャによって異なります。</para>

      <para>以下の節では、最小構成についての情報をまとめています。
	また、&os; のインストール方法によって、
	対応している CDROM ドライブや、
	場合によってはネットワークアダプタが必要となります。
	これに関しては <xref linkend="bsdinstall-installation-media"/>
	で説明します。</para>

      <sect3>
	<title>&os;/&arch.i386;</title>

	<para>&os;/&arch.i386; アーキテクチャは、
	  486 以上のプロセッサと、
	  少なくとも 64&nbsp;MB の RAM が必要です。
	  最小のインストールでは、
	  少なくとも 1.1&nbsp;MB のハードディスクの空き容量が必要です。</para>

	<note>
	  <para>古いコンピュータでは、
	    速いプロセッサを入手するより、より多くの RAM
	    やより多くの容量のハードドライブを用意するほうが重要です。</para>
	</note>
      </sect3>

      <sect3>
	<title>&os;/&arch.amd64;</title>

	<para>&os;/&arch.amd64; を実行可能なプロセッサには
	  2 つのクラスがあります。
	  1 つ目のクラスは、&amd.athlon;64, &amd.athlon;64-FX, &amd.opteron;
	  やそれより新しいプロセッサです。</para>

	<para>もう 1 つのクラスは、
	  &intel;&nbsp;EM64T アーキテクチャを採用しているプロセッサです。
	  これらのプロセッサの例は、
	  &intel;&nbsp;&core;&nbsp;2 Duo, Quad, Extreme プロセッサファミリ、
	  &intel;&nbsp;&xeon; 3000, 5000, 7000 系のプロセッサ、
	  および &intel;&nbsp;&core; i3, i5, i7 プロセッサです。</para>

	<para>nVidia nForce3 Pro-150 ベースのコンピュータを使用するには、
	  BIOS のセットアップを使って、IO APIC を無効にする
	  <emphasis>必要があります</emphasis>。
	  もし、このようなオプションがなければ、
	  代わりに ACPI を無効にする必要があるでしょう。
	  Pro-150 チップセットには回避策が見つかっていないバグがあります。</para>
      </sect3>

      <sect3>
	<title>&os;/&arch.powerpc; &apple; &macintosh;</title>

	<para>すべての USB 内蔵の New World &apple; &macintosh;
	  システムに対応しています。
	  複数の CPU を持つコンピュータは SMP に対応しています。</para>

	<para>32-bit カーネルは、RAM の最初の 2&nbsp;GB だけを利用できます。
	  Blue &amp; White PowerMac G3 では、&firewire; に対応していません。</para>
      </sect3>

      <sect3>
	<title>&os;/&arch.sparc64;</title>

	<para>&os;/&arch.sparc64; が対応しているハードウェアの一覧については、
	  <ulink url="http://www.freebsd.org/ja/platforms/sparc.html">
	  FreeBSD/sparc64</ulink> プロジェクトをご覧ください。</para>

	<para>現時点では、
	  他のオペレーティングシステムとディスクの共有ができないので、
	  &os;/&arch.sparc64; 専用のディスクが必要です。</para>
      </sect3>
    </sect2>

    <sect2 id="bsdinstall-hardware-supported">
      <title>サポートされているハードウェア</title>

      <para>&os;
	がサポートしているハードウェアアーキテクチャやデバイスの一覧は、
	各リリースのハードウェアノートとして提供されます。
	このドキュメントは通常リリースメディアのルートディレクトリにある
	<filename>HARDWARE.TXT</filename>
	という名前のファイルで見ることができます。
	ハードウェアリストは、&os; のウェブサイトの <ulink
	url="http://www.FreeBSD.org/ja/releases/index.html">リリース情報</ulink>
	のページにもあります。</para>
    </sect2>
  </sect1>

  <sect1 id="bsdinstall-pre">
    <title>インストール前に行う作業</title>

    <sect2>
      <title>データのバックアップ</title>

      <para>&os; をインストールするコンピュータに残されている価値のあるデータをすべてバックアップしてください。
	そして、インストール作業を進める前にバックアップが正しく取れていることを確認してください。
	&os; のインストーラは、ハードディスクに変更を加える前に確認を求めますが、
	一度実際に書き込む作業が始まってしまうと、
	もう元に戻すことはできません。</para>
    </sect2>

    <sect2 id="bsdinstall-where">
      <title>&os; をインストールする場所の決定</title>

      <para>インストールするオペレーティングシステムが &os; のみで、
	ハードディスクすべてを使ってインストールする場合には、
	この節の後半を飛ばすことができます。
	しかし、ハードディスクに &os;
	と他のオペレーティングシステムを共存させる必要がある場合には、
	ディスクレイアウトに関する基本的な部分を理解しておく必要があります。</para>

      <sect3 id="bsdinstall-where-i386">
	<title>&os;/&arch.i386; および &os;/&arch.amd64;
	  アーキテクチャでのディスクレイアウト</title>

      <para>ハードディスクを複数の塊に分割することができます。
	これらの塊は <firstterm>パーティション</firstterm> と呼ばれます。</para>

      <para>ディスクをパーティションに分割する方法は 2 通りあります。
	伝統的な <firstterm>Master Boot Record</firstterm>
	(<acronym role="Master Boot Record">MBR</acronym>) では、
	ディスク 1 台あたり 4 つまでのパーティションテーブルを持つことができます
	(歴史的な理由により、&os; は、これらのパーティションのことを
	<firstterm>スライス</firstterm> と呼びます)。
	大きなディスクにとって、作成できるパーティションの数が 4
	つという制限は限定的なので、
	プライマリパーティションの 1 つに拡張パーティションを作成できます。
	<firstterm>論理パーティション</firstterm>
	と呼ばれる特別のパーティションは、
	この拡張パーティションの内部に作成できます。
	これは、多少扱いにくいものです。</para>

      <para><firstterm>GUID Partition Table</firstterm>
	(<acronym role="GUID Partition Table">GPT</acronym>) は、
	ディスクをパーティションに分ける簡単で新しい方法です。
	伝統的な MBR パーティションテーブルと比べると、
	<acronym role="GUID Partition Table">GPT</acronym>
	ははるかに万能です。一般的な <acronym>GPT</acronym> の実装では、
	1 つのディスクに 128 個までのパーティションの作成が可能です。
	扱いにくい論理パーティションのような回避策は必要ありません。</para>

      <warning>
	<para>&windows;&nbsp;XP のような古いオペレーティングシステムは、
	  <acronym>GPT</acronym> パーティションと互換性がありません。
	  &os; をこのようなオペレーティングシステムとディスク上で共存させる場合には、
	  <acronym role="Master Boot Record">MBR</acronym>
	  パーティションテーブルを使う必要があります。</para>
      </warning>

      <para>&os; の標準のブートローダは、プライマリまたは <acronym>GPT</acronym>
	パーティションに対応しています
	(&os; の起動プロセスのより詳しい情報については、
	<xref linkend="boot"/> をご覧ください)。
	ディスク上のすべてのプライマリ、もしくは
	<acronym>GPT</acronym> パーティションが使われているのであれば、
	そのひとつを &os; のために開放してください。</para>

      <para>&os; の最小のインストールでは、1&nbsp;GB
	程度のディスク容量が必要です。
	しかし、これは <emphasis>非常に</emphasis> 小さなインストールであり、
	自分のファイルを作成するスペースはほとんど残らないでしょう。
	現実的には、グラフィカルな環境が必要なければ 3&nbsp;GB、
	グラフィカルユーザインタフェースを使用するのであれば 5&nbsp;GB
	以上は必要でしょう。
	サードパーティ製ソフトウェアをインストールするならば、
	さらに多くのスペースが必要になります。</para>

      <para>さまざまな <ulink
	url="http://en.wikipedia.org/wiki/List_of_disk_partitioning_software">
	パーティションサイズを変更するフリーや商用のツール</ulink>
	を利用できます。
	<ulink url="http://gparted.sourceforge.net/livecd.php">GParted
	Live</ulink> は、<application>GParted</application>
	パーティションエディタを含む完全なライブ CD です。
	多くの Linux Live CD ディストリビューションでも
	<application>GParted</application> を利用できます。</para>

      <warning>
	<para>ディスクパーティションのアプリケーションは、
	  ディスク上のデータを壊す可能性があります。
	  ディスクのパーティションを変更する前に、
	  必ず全体のバックアップをとり、完全性を検証してください。</para>
      </warning>

      <para>&microsoft;&nbsp;Vista
	のパーティションサイズの変更は、難しい可能性があります。
	このような作業を行う際は、
	Vista のインストール CDROM を手元に置いておくことをお勧めします。</para>

      <example>
	<title>既存のパーティションを使用</title>

	<para>既に &windows; がインストールされている 40&nbsp;GB のハードディスクが
	  1 台接続されており、そのハードディスクは、
	  20&nbsp;GB の 2 つのパーティションに分割されていると仮定します。
	  &windows; では、それぞれ <devicename>C:</devicename> および
	  <devicename>D:</devicename> と呼びます。
	  <devicename>C:</devicename> パーティションには 10&nbsp;GB のデータ、
	  <devicename>D:</devicename> パーティションには 5&nbsp;GB
	  のデータがあるとします。</para>

	<para><devicename>D:</devicename> にあるデータをすべて
	  <devicename>C:</devicename> にコピーすれば、
	  2 つ目のパーティションを解放し、&os;
	  のために使うことができるようになります。</para>
      </example>

      <example>
	<title>既存のパーティションを縮小する</title>

	<para>&windows; がインストールされている 40&nbsp;GB のハードディスクが
	  1 台接続された PC を使用していると仮定します。
	  ディスクのすべてを 1 つの大きなパーティションとして使用しています。
	  &windows; では、この 40&nbsp;GB のパーティションを
	  1 つの <devicename>C:</devicename> ドライブとして表示します。
	  15&nbsp;GB のデータがあるとします。
	  &windows; が 20&nbsp;GB パーティション、
	  残りの 20&nbsp;GB パーティションを &os; で使いたいとします。</para>

	<para>インストールを行うには、2 つの方法があります。</para>

	<orderedlist>
	  <listitem>
	    <para>&windows; のデータをバックアップし、インストール時に 20&nbsp;GB
	      のパーティションを作成して再インストールする。</para>
	  </listitem>

	  <listitem>
	    <para>先に述べた <application>GParted</application>
	      をはじめとするパーティションを縮小するツールを使って、
	      &windows; のパーティションを縮小し、フリーの空間上に、
	      &os; のためのパーティションを作成する。</para>
	  </listitem>
	</orderedlist>
      </example>

      <para>異なるオペレーティングシステムを含むディスクパーティションでは、
	どのオペレーティングシステムも同時に実行できるのは 1 つです。
	複数のオペレーティングシステムを同時に実行する方法については、
	<ulink url="&url.books.handbook.en;/virtualization.html">
	Virtualization</ulink> の章で説明します。</para>
      </sect3>
    </sect2>

    <sect2 id="bsdinstall-collect-network-information">
      <title>ネットワークの詳細をまとめる</title>

      <para>&os; のインストール方法によっては、ネットワークに接続し、
	ファイルのダウンロードが必要です。
	イーサネットに接続 (または、ケーブル / DSL
	モデム経由でイーサネットインタフェースを利用して接続) するためには、
	インストール中にこれらの情報を入力する必要があります。</para>

      <para><firstterm><acronym role="Dynamic Host Configuration Protocol">DHCP
	</acronym></firstterm> は、
	自動的にネットワークの設定情報を得るのによく使われます。
	<acronym>DHCP</acronym> を利用できない場合には、
	システム管理者かプロバイダにネットワーク情報を問い合わせる必要があります。</para>

      <orderedlist>
	<title>ネットワーク情報</title>

	<listitem>
	  <para><acronym role="Internet Protocol">IP</acronym> アドレス</para>
	</listitem>

	<listitem>
	  <para>サブネットマスク</para>
	</listitem>

	<listitem>
	  <para>デフォルトルータの <acronym>IP</acronym> アドレス</para>
	</listitem>

	<listitem>
	  <para>ローカルネットワークのドメイン名</para>
	</listitem>

	<listitem>
	  <para><acronym role="Domain Name System">DNS</acronym> サーバの
	  <acronym>IP</acronym> アドレス</para>
	</listitem>
      </orderedlist>
    </sect2>
    <sect2>
      <title>&os; Errata の確認</title>

      <para>&os;&nbsp;プロジェクトでは &os;
	の各リリースができる限り安定するよう努力していますが、
	時々バグが発生してしまうことがあります。極まれに、
	発生したバグがインストールプロセスに影響を与えることがあります。
	これらの問題は発見され解決されるとともに、
	&os; のウェブサイトの <ulink
	  url="&url.base;/releases/&rel.current;R/errata.html">FreeBSD
	Errata</ulink> に掲示されます。
	インストールに関して注意すべき既知の問題が無いことを確かめるために、
	インストールする前に Errata を確認してください。</para>

      <para>すべてのリリースに関する情報や Errata は、
	<ulink
	url="&url.base;/ja/index.html">&os; のウェブサイト</ulink> の
	<ulink
	url="&url.base;/ja/releases/index.html">リリース情報</ulink>
	の項で確認することができます。</para>
    </sect2>

    <sect2 id="bsdinstall-installation-media">
      <title>インストールメディアの準備</title>

      <para>&os; のインストールは、
	インストール用の CD, DVD または USB
	メモリスティックとともに、コンピュータを起動するところから始まります。
	インストーラは、オペレーティングシステムで実行できるようなプログラムではありません。</para>

      <para>&os; のインストールファイルをすべて含んでいる通常のインストールメディアに加え、
	<emphasis>bootonly</emphasis> を利用できます。
	bootonly インストールメディアは、インストールファイルを含んでいません。
	そのかわり、インストールの途中ですべてのファイルをネットワークからダウンロードします。
	そのため、bootonly インストール CD は小さく、
	また、インストール中に必要なファイルだけをダウンロードするので、
	使用するバンド幅を減らすことが出来ます。</para>

      <para>&os; のインストールメディアは
	<ulink url="&url.base;/ja/where.html#download">&os;
	ウェブサイト</ulink> から入手できます。</para>

      <tip>
	<para>&os; の入っている CDROM や DVD,
	  USB メモリスティックを持っているのであれば、
	  この章を飛ばしてもかまいません。</para>
      </tip>

      <para>&os; の CD および DVD イメージは、
	起動可能な ISO ファイルです。
	インストールには、一枚の CD または DVD があれば十分です。
	現在使用しているオペレーティングシステムにインストールされている、
	ISO イメージを CD に書き込むアプリケーションを用いて、
	起動可能な CD または DVD を作成してください。</para>

      <para>起動可能なメモリスティックを作成する場合には、
	以下の手順にしたがってください。</para>

      <procedure id="bsdinstall-installation-media-memory-stick">
	<step>
	  <title>メモリスティックのイメージの取得</title>

	  <para>&os;&nbsp;9.0-RELEASE 以降のメモリスティックのイメージは、
	    <literal>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/<replaceable>arch</replaceable>/<replaceable>arch</replaceable>/ISO-IMAGES/<replaceable>version</replaceable>/&os;-<replaceable>version</replaceable>-RELEASE-<replaceable>arch</replaceable>-memstick.img</literal>
	    の <filename class="directory">ISO-IMAGES/</filename>
	    ディレクトリからダウンロードできます。
	    ここで、<replaceable>arch</replaceable> と
	    <replaceable>version</replaceable> の部分を、
	    それぞれインストールするアーキテクチャとバージョン番号に置き換えてください。
	    たとえば、&os;/&arch.i386;&nbsp;9.0-RELEASE
	    のメモリスティックのイメージは、<ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/&arch.i386;/&arch.i386;/ISO-IMAGES/9.0/&os;-9.0-RELEASE-&arch.i386;-memstick.img"></ulink>
	    から入手できます。</para>

	  <tip>
	    <para>&os;&nbsp;8.<replaceable>X</replaceable> 以前では、
	      これとは異なるディレクトリパスが使われています。
	      &os;&nbsp;8.<replaceable>X</replaceable>
	      以前のバージョンのダウンロードとインストールの詳細については、
	      <xref linkend="install"/> で説明しています。</para>
	  </tip>

	  <para>メモリスティックイメージには、<filename>.img</filename>
	    という拡張子がついています。<filename
	    class="directory">ISO-IMAGES/</filename>
	    ディレクトリには複数の異なるイメージがあり、インストールする
	    &os; のバージョンや、インストールするハードウェアによって、
	    必要なファイルが変わります。</para>

	  <important>
	    <para>以下の作業によってデータが <emphasis>消去</emphasis> されるので、
	      先に進む前に、使用する USB
	      スティックにあるデータを<emphasis>バックアップ</emphasis>してください。</para>
	  </important>
	</step>

	<step>
	  <title>イメージファイルをメモリスティックに書き込む</title>

	  <procedure>
	    <title>&os; を使ってイメージを書き込む</title>

	    <warning>
	      <para>以下の例では、イメージを書き込むデバイスを
		<filename class="devicefile">/dev/da0</filename> としています。
		正しいデバイスを出力先に設定していることを十分確認してくだい。
		さもなければ、現在あるデータを破壊してしまうことになります。</para>
	    </warning>

	    <step>
	      <title>&man.dd.1; を使ってイメージを書き込む</title>

	      <para><filename>.img</filename> ファイルは、
		通常のファイルでは<emphasis>ありません</emphasis>。
		メモリスティックの完全な内容の <emphasis>イメージ</emphasis>
		です。
		通常のファイルのようなコピーは
		<emphasis>できません</emphasis>。&man.dd.1;
		を使用して直接ターゲットディスクに書き込む必要があります。</para>

	      <screen>&prompt.root; <userinput>dd if=&os;-9.0-RELEASE-&arch.i386;-memstick.img of=/dev/<replaceable>da0</replaceable> bs=64k</userinput></screen>
	    </step>
	  </procedure>

	  <procedure>
	    <title>&windows; を使ってイメージを書き込む</title>

	    <warning>
	      <para>適切なドライブレターを出力先に設定していることを十分確認してくだい。
		さもなければ、現在あるデータを破壊してしまうでしょう。</para>
	    </warning>

	    <step>
	      <title><application>Image Writer for &windows;</application>
		を入手する</title>

	      <para><application>Image Writer for &windows;</application> は、
		イメージファイルをメモリスティックに正しく書き込むことのできるフリーのアプリケーションです。
		<ulink url="https://launchpad.net/win32-image-writer/"></ulink>
		からダウンロードして、フォルダに展開してください。</para>
	    </step>

	    <step>
	      <title>イメージライタを使ってイメージを書き込む</title>

	      <para><application>Win32DiskImager</application>
		アイコンをダブルクリックして、プログラムを起動します。
		<computeroutput>Device</computeroutput>
		の下に表示されるデバイスレターが、
		メモリスティックのドライブであることを確認してください。
		フォルダのアイコンをクリックして、
		メモリスティックに書き込むイメージファイルを選択します。
	        <guibutton>[&nbsp;Save&nbsp;]</guibutton> をクリックして、
		イメージファイルの名前をアクセプトしてください。
		すべてが正しく行われたかどうか、また、
		他のウィンドウでメモリスティックのフォルダが開かれていないことを確認してください。
		準備ができたら、<guibutton>[&nbsp;Write&nbsp;]</guibutton> を押して、
		メモリスティックにイメージファイルを書き込みます。</para>
	    </step>
	  </procedure>
	</step>
      </procedure>

      <note>
	<para>フロッピーディスクからのインストールには、
	  もはや対応していません。</para>
      </note>

      <para>これで &os; をインストールする用意ができました。</para>
    </sect2>
  </sect1>

  <sect1 id="bsdinstall-start">
    <title>インストールの開始</title>

    <important>
      <para>デフォルトでは、次のメッセージが表示されるまで
	インストーラはディスクに何の変更も加えません。</para>

      <literallayout class="monospaced">Your changes will now be written to disk.  If you
have chosen to overwrite existing data, it will
be PERMANENTLY ERASED. Are you sure you want to
commit your changes?</literallayout>

      <para>この警告の前であれば、
	いつでもハードディスクの内容を変更することなくインストールを中断できます。
	もし、何かを間違って設定してしまったことが心配ならば、
	最後の警告の前に単にコンピュータをオフにしてください。
	被害を残さずに済みます。</para>
    </important>

    <sect2 id="bsdinstall-starting">
      <title>起動</title>

      <sect3 id="bsdinstall-starting-i386">
	<title>&i386; および &arch.amd64; アーキテクチャでの起動</title>

	<procedure>

	  <step>
	    <para><xref linkend="bsdinstall-installation-media"/>
	      で説明されている <quote>起動</quote> USB
	      スティックを使用する場合には、コンピュータを立ち上げる前に、
	      USB スティックを挿入してください。</para>

	    <para>CDROM から起動する場合には、コンピュータを立ち上げ、
	      すぐに CDROM を挿入してください。</para>
	  </step>

	  <step>
	    <para>CDROM または USB
	      から起動するようにコンピュータを設定してください。
	      この作業は、インストールに用いるメディアによって異なります。
	      起動するデバイスを
	      <acronym role="Basic Input/Output System">BIOS</acronym>
	      で設定できます。
	      ほとんどのシステムでは、通常、起動時に
	      <keycap>F10</keycap>, <keycap>F11</keycap>,
	      <keycap>F12</keycap> または <keycap>Escape</keycap>
	      キーを押すことで、起動するデバイスを選択できます。</para>
	  </step>

	  <step>
	    <para>もし、コンピュータがすでに存在している OS を読み込み、
	      通常通り起動してしまったのであれば、
	      以下の原因が考えられます。</para>

	    <orderedlist>
	      <listitem>
		<para>起動ディスクが起動プロセスにおいて十分早いタイミングで挿入されていません。
		  ディスクをそのままにしてコンピュータを再起動してください。</para>
	      </listitem>

	      <listitem>
		<para>先程の <acronym>BIOS</acronym>
		  の変更が適切に行われていません。
		  正しいオプションを設定してやり直してください。</para>
	      </listitem>

	      <listitem>
		<para>使用している <acronym>BIOS</acronym> は、
		  希望しているメディアからの起動に対応していません。
		  <ulink url="http://www.plop.at/en/bootmanager.html">Plop
		  Boot Manager</ulink> を使うと、古いコンピュータを CD や USB
		  メディアから起動できます。</para>
	      </listitem>
	    </orderedlist>
	  </step>

	  <step>
	    <para>&os; は起動を開始します。CDROM から起動している場合、
	      次のような画面が表示されるでしょう
	      (バージョン情報は省略しています)。</para>

	  <screen>Booting from CD-ROM...
645MB medium detected
CD Loader 1.2

Building the boot loader arguments
Looking up /BOOT/LOADER... Found
Relocating the loader and the BTX
Starting the BTX loader

BTX loader 1.00 BTX version is 1.02
Consoles: internal video/keyboard
BIOS CD is cd0
BIOS drive C: is disk0
BIOS drive D: is disk1
BIOS 636kB/261056kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/boot/kernel/kernel text=0x64daa0 data=0xa4e80+0xa9e40 syms=[0x4+0x6cac0+0x4+0x88e9d]
\</screen>
	  </step>
	  <step>
	    <para>&os; ブートローダにより、以下の画面が表示されます。</para>

	    <figure id="bsdinstall-boot-loader-menu">
	      <title>&os; ブートローダメニュー</title>
	      <mediaobject>
		<imageobject>
		  <imagedata fileref="bsdinstall/bsdinstall-boot-loader-menu"/>
		</imageobject>
	      </mediaobject>
	    </figure>

	    <para>10 秒間待つか、<keycap>Enter</keycap> を押してください。</para>
	  </step>
	</procedure>

      </sect3>

      <sect3>
	<title>&macintosh; &powerpc; での起動</title>

	<para>ほとんどのコンピュータでは、
	  起動中にキーボードの <keycap>C</keycap>
	  を押しておくと、CD から起動します。
	  別の方法では
	  <keycombo action="simul">
	    <keycap>Command</keycap>
	    <keycap>Option</keycap>
	    <keycap>O</keycap>
	    <keycap>F</keycap>
	  </keycombo>、
	  または non-&apple; キーボードでは
	  <keycombo action="simul">
	    <keycap>Windows</keycap>
	    <keycap>Alt</keycap>
	    <keycap>O</keycap>
	    <keycap>F</keycap>
	  </keycombo>
	  を押してください。
	  <prompt>0 ></prompt> プロンプトで</para>

	<screen><userinput>boot cd:,\ppc\loader cd:0</userinput></screen>

	<para>と入力してください。</para>

	<para>キーボードのない Xserves では、
	  Open Firmware に起動する方法について
	  <ulink url="http://support.apple.com/kb/TA26930">&apple;'s
	  support web site</ulink> を参照してください。</para>
      </sect3>

      <sect3>
	<title>&sparc64; アーキテクチャでの起動</title>

	<para>ほとんどの &sparc64; システムは、
	  ディスクから自動的に起動するように設定されています。
	  &os; をインストールするには、ネットワークまたは CDROM
	  から起動する必要があり、そのためには
	  <acronym role="Programmable Read Only Memory">PROM</acronym>
	  (OpenFirmware) に入る必要があります。</para>

	<para>PROM に入るにはシステムを再起動し、
	  ブートメッセージが表示されるまで待ってください。
	  モデルによりますが、以下のような表示です。</para>

    <screen>Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.</screen>

	<para>もしシステムがこの時点でディスクから起動するようでしたら、
	  キーボードから
	  <keycombo action="simul"><keycap>L1</keycap><keycap>A</keycap></keycombo>
	  または
	  <keycombo action="simul"><keycap>Stop</keycap><keycap>A</keycap></keycombo>
	  を押すか、シリアルコンソールから <command>BREAK</command>
	  (たとえば、&man.tip.1; または &man.cu.1; では <command>~#</command>)
	  を送信して、
	  <acronym role="Programmable Read Only Memory">PROM</acronym>
	  プロンプトを表示してください。
	  次のような表示です。</para>

	  <screen><prompt>ok    </prompt><co id="bsdinstall-prompt-single"/>
<prompt>ok {0} </prompt><co id="bsdinstall-prompt-smp"/></screen>

	  <calloutlist>
	    <callout arearefs="bsdinstall-prompt-single">
	      <para>単一の CPU を持つシステムでのプロンプト</para>
	    </callout>

	    <callout arearefs="bsdinstall-prompt-smp">
	      <para>SMP システムのプロンプト。数字はアクティブな CPU の数。</para>
	    </callout>
	  </calloutlist>

	<para>ここで、CDROM をドライブに挿入し、
	  <acronym>PROM</acronym> プロンプトで
	  <command>boot cdrom</command> と入力してください。</para>

      </sect3>

    </sect2>

    <sect2 id="bsdinstall-view-probe">
      <title>デバイス検出結果を再表示する</title>

      <para>画面に表示される数百行の文字列は (バッファに) 記憶されており、
	再表示することが出来ます。</para>

      <para>バッファを再表示するには、<keycap>Scroll Lock</keycap> キーを押します。
	これで画面をスクロールできます。結果を見るためには、矢印キーもしくは
	<keycap>PageUp</keycap> か <keycap>PageDown</keycap> を使います。
	<keycap>Scroll Lock</keycap> をもう一度押すと、スクロールを停止します。</para>

      <para>直ちにこの作業を行って、カーネルがデバイス検出を実行している時に
	画面の外に流れた文字列を再表示してください。
	<xref linkend="bsdinstall-dev-probe"/> によく似た画面が現われるでしょう。
	ただし、あなたのコンピュータに搭載されているデバイスによって、
	表示される文字列は異なります。</para>

      <figure id="bsdinstall-dev-probe">
	<title>典型的なデバイス検出結果の例</title>

	<screen>Copyright (c) 1992-2011 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.
FreeBSD is a registered trademark of The FreeBSD Foundation.
FreeBSD 9.0-RELEASE #0 r225473M: Sun Sep 11 16:07:30 BST 2011
    root@psi:/usr/obj/usr/src/sys/GENERIC amd64
CPU: Intel(R) Core(TM)2 Duo CPU     T9400  @ 2.53GHz (2527.05-MHz K8-class CPU)
  Origin = "GenuineIntel"  Id = 0x10676  Family = 6  Model = 17  Stepping = 6
  Features=0xbfebfbff&lt;FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CLFLUSH,DTS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE&gt;
  Features2=0x8e3fd&lt;SSE3,DTES64,MON,DS_CPL,VMX,SMX,EST,TM2,SSSE3,CX16,xTPR,PDCM,SSE4.1&gt;
  AMD Features=0x20100800&lt;SYSCALL,NX,LM&gt;
  AMD Features2=0x1&lt;LAHF&gt;
  TSC: P-state invariant, performance statistics
real memory  = 3221225472 (3072 MB)
avail memory = 2926649344 (2791 MB)
Event timer "LAPIC" quality 400
ACPI APIC Table: &lt;TOSHIB A0064   &gt;
FreeBSD/SMP: Multiprocessor System Detected: 2 CPUs
FreeBSD/SMP: 1 package(s) x 2 core(s)
 cpu0 (BSP): APIC ID:  0
 cpu1 (AP): APIC ID:  1
ioapic0: Changing APIC ID to 1
ioapic0 &lt;Version 2.0&gt; irqs 0-23 on motherboard
kbd1 at kbdmux0
acpi0: &lt;TOSHIB A0064&gt; on motherboard
acpi0: Power Button (fixed)
acpi0: reservation of 0, a0000 (3) failed
acpi0: reservation of 100000, b6690000 (3) failed
Timecounter "ACPI-safe" frequency 3579545 Hz quality 850
acpi_timer0: &lt;24-bit timer at 3.579545MHz&gt; port 0xd808-0xd80b on acpi0
cpu0: &lt;ACPI CPU&gt; on acpi0
ACPI Warning: Incorrect checksum in table [ASF!] - 0xFE, should be 0x9A (20110527/tbutils-282)
cpu1: &lt;ACPI CPU&gt; on acpi0
pcib0: &lt;ACPI Host-PCI bridge&gt; port 0xcf8-0xcff on acpi0
pci0: &lt;ACPI PCI bus&gt; on pcib0
vgapci0: &lt;VGA-compatible display&gt; port 0xcff8-0xcfff mem 0xff400000-0xff7fffff,0xe0000000-0xefffffff irq 16 at device 2.0 on pci0
agp0: &lt;Intel GM45 SVGA controller&gt; on vgapci0
agp0: aperture size is 256M, detected 131068k stolen memory
vgapci1: &lt;VGA-compatible display&gt; mem 0xffc00000-0xffcfffff at device 2.1 on pci0
pci0: &lt;simple comms&gt; at device 3.0 (no driver attached)
em0: &lt;Intel(R) PRO/1000 Network Connection 7.2.3&gt; port 0xcf80-0xcf9f mem 0xff9c0000-0xff9dffff,0xff9fe000-0xff9fefff irq 20 at device 25.0 on pci0
em0: Using an MSI interrupt
em0: Ethernet address: 00:1c:7e:6a:ca:b0
uhci0: &lt;Intel 82801I (ICH9) USB controller&gt; port 0xcf60-0xcf7f irq 16 at device 26.0 on pci0
usbus0: &lt;Intel 82801I (ICH9) USB controller&gt; on uhci0
uhci1: &lt;Intel 82801I (ICH9) USB controller&gt; port 0xcf40-0xcf5f irq 21 at device 26.1 on pci0
usbus1: &lt;Intel 82801I (ICH9) USB controller&gt; on uhci1
uhci2: &lt;Intel 82801I (ICH9) USB controller&gt; port 0xcf20-0xcf3f irq 19 at device 26.2 on pci0
usbus2: &lt;Intel 82801I (ICH9) USB controller&gt; on uhci2
ehci0: &lt;Intel 82801I (ICH9) USB 2.0 controller&gt; mem 0xff9ff800-0xff9ffbff irq 19 at device 26.7 on pci0
usbus3: EHCI version 1.0
usbus3: &lt;Intel 82801I (ICH9) USB 2.0 controller&gt; on ehci0
hdac0: &lt;Intel 82801I High Definition Audio Controller&gt; mem 0xff9f8000-0xff9fbfff irq 22 at device 27.0 on pci0
pcib1: &lt;ACPI PCI-PCI bridge&gt; irq 17 at device 28.0 on pci0
pci1: &lt;ACPI PCI bus&gt; on pcib1
iwn0: &lt;Intel(R) WiFi Link 5100&gt; mem 0xff8fe000-0xff8fffff irq 16 at device 0.0 on pci1
pcib2: &lt;ACPI PCI-PCI bridge&gt; irq 16 at device 28.1 on pci0
pci2: &lt;ACPI PCI bus&gt; on pcib2
pcib3: &lt;ACPI PCI-PCI bridge&gt; irq 18 at device 28.2 on pci0
pci4: &lt;ACPI PCI bus&gt; on pcib3
pcib4: &lt;ACPI PCI-PCI bridge&gt; at device 30.0 on pci0
pci5: &lt;ACPI PCI bus&gt; on pcib4
cbb0: &lt;RF5C476 PCI-CardBus Bridge&gt; at device 11.0 on pci5
cardbus0: &lt;CardBus bus&gt; on cbb0
pccard0: &lt;16-bit PCCard bus&gt; on cbb0
isab0: &lt;PCI-ISA bridge&gt; at device 31.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
ahci0: &lt;Intel ICH9M AHCI SATA controller&gt; port 0x8f58-0x8f5f,0x8f54-0x8f57,0x8f48-0x8f4f,0x8f44-0x8f47,0x8f20-0x8f3f mem 0xff9fd800-0xff9fdfff irq 19 at device 31.2 on pci0
ahci0: AHCI v1.20 with 4 3Gbps ports, Port Multiplier not supported
ahcich0: &lt;AHCI channel&gt; at channel 0 on ahci0
ahcich1: &lt;AHCI channel&gt; at channel 1 on ahci0
ahcich2: &lt;AHCI channel&gt; at channel 4 on ahci0
acpi_lid0: &lt;Control Method Lid Switch&gt; on acpi0
battery0: &lt;ACPI Control Method Battery&gt; on acpi0
acpi_button0: &lt;Power Button&gt; on acpi0
acpi_acad0: &lt;AC Adapter&gt; on acpi0
acpi_toshiba0: &lt;Toshiba HCI Extras&gt; on acpi0
acpi_tz0: &lt;Thermal Zone&gt; on acpi0
attimer0: &lt;AT timer&gt; port 0x40-0x43 irq 0 on acpi0
Timecounter "i8254" frequency 1193182 Hz quality 0
Event timer "i8254" frequency 1193182 Hz quality 100
atkbdc0: &lt;Keyboard controller (i8042)&gt; port 0x60,0x64 irq 1 on acpi0
atkbd0: &lt;AT Keyboard&gt; irq 1 on atkbdc0
kbd0 at atkbd0
atkbd0: [GIANT-LOCKED]
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: [GIANT-LOCKED]
psm0: model GlidePoint, device ID 0
atrtc0: &lt;AT realtime clock&gt; port 0x70-0x71 irq 8 on acpi0
Event timer "RTC" frequency 32768 Hz quality 0
hpet0: &lt;High Precision Event Timer&gt; iomem 0xfed00000-0xfed003ff on acpi0
Timecounter "HPET" frequency 14318180 Hz quality 950
Event timer "HPET" frequency 14318180 Hz quality 450
Event timer "HPET1" frequency 14318180 Hz quality 440
Event timer "HPET2" frequency 14318180 Hz quality 440
Event timer "HPET3" frequency 14318180 Hz quality 440
uart0: &lt;16550 or compatible&gt; port 0x3f8-0x3ff irq 4 flags 0x10 on acpi0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
ppc0: cannot reserve I/O port range
est0: &lt;Enhanced SpeedStep Frequency Control&gt; on cpu0
p4tcc0: &lt;CPU Frequency Thermal Control&gt; on cpu0
est1: &lt;Enhanced SpeedStep Frequency Control&gt; on cpu1
p4tcc1: &lt;CPU Frequency Thermal Control&gt; on cpu1
Timecounters tick every 1.000 msec
hdac0: HDA Codec #0: Realtek ALC268
hdac0: HDA Codec #1: Lucent/Agere Systems (Unknown)
pcm0: &lt;HDA Realtek ALC268 PCM #0 Analog&gt; at cad 0 nid 1 on hdac0
pcm1: &lt;HDA Realtek ALC268 PCM #1 Analog&gt; at cad 0 nid 1 on hdac0
usbus0: 12Mbps Full Speed USB v1.0
usbus1: 12Mbps Full Speed USB v1.0
usbus2: 12Mbps Full Speed USB v1.0
usbus3: 480Mbps High Speed USB v2.0
ugen0.1: &lt;Intel&gt; at usbus0
uhub0: &lt;Intel UHCI root HUB, class 9/0, rev 1.00/1.00, addr 1&gt; on usbus0
ugen1.1: &lt;Intel&gt; at usbus1
uhub1: &lt;Intel UHCI root HUB, class 9/0, rev 1.00/1.00, addr 1&gt; on usbus1
ugen2.1: &lt;Intel&gt; at usbus2
uhub2: &lt;Intel UHCI root HUB, class 9/0, rev 1.00/1.00, addr 1&gt; on usbus2
ugen3.1: &lt;Intel&gt; at usbus3
uhub3: &lt;Intel EHCI root HUB, class 9/0, rev 2.00/1.00, addr 1&gt; on usbus3
uhub0: 2 ports with 2 removable, self powered
uhub1: 2 ports with 2 removable, self powered
uhub2: 2 ports with 2 removable, self powered
uhub3: 6 ports with 6 removable, self powered
ugen2.2: &lt;vendor 0x0b97&gt; at usbus2
uhub8: &lt;vendor 0x0b97 product 0x7761, class 9/0, rev 1.10/1.10, addr 2&gt; on usbus2
ugen1.2: &lt;Microsoft&gt; at usbus1
ada0 at ahcich0 bus 0 scbus1 target 0 lun 0
ada0: &lt;Hitachi HTS543225L9SA00 FBEOC43C&gt; ATA-8 SATA 1.x device
ada0: 150.000MB/s transfers (SATA 1.x, UDMA6, PIO 8192bytes)
ada0: Command Queueing enabled
ada0: 238475MB (488397168 512 byte sectors: 16H 63S/T 16383C)
ada0: Previously was known as ad4
ums0: &lt;Microsoft Microsoft 3-Button Mouse with IntelliEyeTM, class 0/0, rev 1.10/3.00, addr 2&gt; on usbus1
SMP: AP CPU #1 Launched!
cd0 at ahcich1 bus 0 scbus2 target 0 lun 0
cd0: &lt;TEAC DV-W28S-RT 7.0C&gt; Removable CD-ROM SCSI-0 device
cd0: 150.000MB/s transfers (SATA 1.x, ums0: 3 buttons and [XYZ] coordinates ID=0
UDMA2, ATAPI 12bytes, PIO 8192bytes)
cd0: cd present [1 x 2048 byte records]
ugen0.2: &lt;Microsoft&gt; at usbus0
ukbd0: &lt;Microsoft Natural Ergonomic Keyboard 4000, class 0/0, rev 2.00/1.73, addr 2&gt; on usbus0
kbd2 at ukbd0
uhid0: &lt;Microsoft Natural Ergonomic Keyboard 4000, class 0/0, rev 2.00/1.73, addr 2&gt; on usbus0
Trying to mount root from cd9660:/dev/iso9660/FREEBSD_INSTALL [ro]...</screen>
      </figure>

     <para>丹念に検出結果をチェックして、あなたが予期したすべてのデバイスを
	 &os; が検出できた事を確認してください。デバイスが見つからなかった場合、
	検出結果へ表示されません。
	<link linkend="kernelconfig-modules">カーネルモジュール</link> を構築することで、
	<filename>GENERIC</filename>
	カーネルに含まれていないデバイスのサポートを追加できます。</para>

      <para>デバイス検出後、
	<xref linkend="bsdinstall-choose-mode"/> が表示されます。
	インストールメディアは、&os; のインストール、
	<link linkend="using-live-cd">live CD</link>、または
	&os; シェルへのアクセスの 3 つの目的に利用出来ます。
	矢印キーを使ってオプションを選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="bsdinstall-choose-mode">
	<title>インストールメディアの選択モード</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-choose-mode"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ここで <guibutton>[&nbsp;Install&nbsp;]</guibutton>
	を選択すると、インストール作業が始まります。</para>
    </sect2>
  </sect1>

  <sect1 id="using-bsdinstall">
    <title><application>bsdinstall</application> の紹介</title>

    <para><application>bsdinstall</application> は、&a.nwhitehorn.email; により書かれた、
      テキストベースのインストールプログラムです。
      2011 年の &os;&nbsp;9.0 で導入されました。</para>

    <note>
      <para>&a.kmoore.email; の <application>pc-sysinstall</application> は、
	<ulink url="http://pcbsd.org">PC-BSD</ulink> に含まれており、<ulink
	url="http://wiki.pcbsd.org/index.php/Use_PC-BSD_Installer_to_Install_FreeBSD">
	&os; のインストール</ulink> にも使用できます。
	<application>bsdinstall</application> と混同されることもありますが、
	この 2 つのインストーラには関係はありません。</para>
    </note>

    <para><application>bsdinstall</application> のメニューは、カーソルキー、
      <keycap>Enter</keycap>, <keycap>Tab</keycap>,
      <keycap>Space</keycap> 等で操作します。</para>

    <sect2 id="bsdinstall-keymap">
      <title>キー配列メニューの選択</title>

      <para>使用しているシステムのコンソールにもよりますが、
	<application>bsdinstall</application> は、
	最初にデフォルト以外のキーボードレイアウト使うかどうかを尋ねてきます。</para>

      <figure id="bsdinstall-keymap-select-default">
	<title>キーマップの選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-keymap-select-default"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><guibutton>[&nbsp;YES&nbsp;]</guibutton> を選択すると、
	以下のキーボード選択画面が表示されます。
	そうでなければ、この選択メニューは表示されず、
	デフォルトのキーボードマップが使われます。</para>

      <figure id="bsdinstall-config-keymap">
	<title>キーボードメニューの選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-config-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>システムのキーボードに最も近いキーマップを上下のカーソルキーで選び、
	<keycap>Enter</keycap> キーを押してください。</para>

      <note>
	<para><keycap>Esc</keycap> を押すと、
	  デフォルトのキーボードマップを使うようになります。
	  どのキーボードマップを選べばよいかわからない場合には、
	  <guimenuitem>United States of America ISO-8859-1</guimenuitem>
	  キーマップを選ぶとよいでしょう。</para>
      </note>
    </sect2>

    <sect2 id="bsdinstall-hostname">
      <title>ホスト名の設定</title>

      <para>次に <application>bsdinstall</application> は、
	新しくインストールするシステムに与えるホスト名の入力に移ります。</para>

      <figure id="bsdinstall-config-hostname">
	<title>ホスト名の設定</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-config-hostname"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>入力するホスト名は、
	<hostid role="fqdn">machine3.example.com</hostid>
	のように完全修飾のホスト名で入力してください。</para>
    </sect2>

    <sect2 id="bsdinstall-components">
      <title>インストールするコンポーネントの設定</title>

      <para>次に、 <application>bsdinstall</application>
	は、インストールするオプションのコンポーネントの選択に移ります。</para>

      <figure id="bsdinstall-config-components">
	<title>インストールするコンポーネントの設定</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-config-components"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>どのコンポーネントをインストールするかは、
	システムの用途と用意されているディスク容量に依存します。
	&os; カーネルとユーザランド (総称 は <quote>base system</quote>) は、
	常にインストールされます。</para>

      <para>インストールのタイプによっては表示されないコンポーネントもあります。</para>

      <itemizedlist>
	<title>オプションのコンポーネント</title>

	<listitem>
	  <para><literal>doc</literal> - 追加の文書。多くは歴史的な興味のものです。
	    &os; ドキュメンテーションプロジェクトが提供している文書は、
	    あとでインストールされます。</para>
	</listitem>

	<listitem>
	  <para><literal>games</literal> - <application>fortune</application>,
	    <application>rot13</application>
	    などの伝統的な BSD ゲームをインストールします。</para>
	</listitem>

	<listitem>
	  <para><literal>lib32</literal> -
	    32-bit のアプリケーションを 64-bit 版の &os;
	    で実行する際に必要となる互換ライブラリ。</para>
	</listitem>

	<listitem>
	  <para><literal>ports</literal> - &os; Ports Collection</para>

	  <para>Ports Collection は、
	    ソフトウェアのインストールを簡単に行う方法を提供します。
	    Ports Collection は、
	    ソフトウェアをコンパイルするのに必要なソースコードを含んでいません。
	    サードパーティ製ソフトウェアパッケージのダウンロード、
	    コンパイル、インストールを自動化するように設計されたファイルの集まりです。
	    Ports Collection の使い方については、
	    <xref linkend="ports"/> で説明します。</para>

	  <warning>
	    <para>インストールプログラムは、
	      システムのディスクに十分な空き容量があるかどうかを確認しないので、
	      このオプションを選択する際には、
	      ハードディスクの容量が十分あることを確認してください。
	      &os;&nbsp;9.0 では、Ports Collection が必要とする容量は、
	      約 &ports.size; です。
	      より最新の &os; のバージョンでは、
	      安全のためにもう少し大きなサイズを想定してください。</para>
	  </warning>
	</listitem>

	<listitem>
	  <para><literal>src</literal> - システムのソースコード</para>

	  <para>&os; には、
	    カーネルとユーザランド両方のソースコードが付属しています。
	    ほとんどのアプリケーションは必要としませんが、
	    ソースで提供されているソフトウェア
	    (デバイスドライバやカーネルモジュールなど) によってはコンパイル時、
	    または &os; そのものを開発する場合に必要となります。</para>

	  <para>すべてのソースツリーをインストールするには
	    1&nbsp;GB のディスク容量を必要とします。
	    また、&os; システム全体のコンパイルには、
	    さらに 5&nbsp;GB の容量が必要です。</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 id="bsdinstall-netinstall">
    <title>ネットワークからのインストール</title>

    <para><emphasis>bootonly</emphasis> インストールメディアは、
      インストールファイルを含んでいません。
      <emphasis>bootonly</emphasis> インストールメディアを使う場合には、
      ネットワーク経由でファイルをダウンロードする必要があります。</para>

    <figure id="bsdinstall-netinstall-notify">
      <title>ネットワークからのインストール</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-netinstall-files"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para><xref linkend="bsdinstall-config-network-dev"/> に示されているように、
      ネットワーク接続の設定が終わっていれば、ミラーサイトが選択されます。
      ミラーサイトは、&os; ファイルのコピーをキャッシュしています。
      &os; をインストールするコンピュータと同じ地域のミラーサイトを選んでください。
      ターゲットコンピュータの近くにミラーがあると、
      ファイルのダウンロードは早く終わるので、インストールの時間が短くなります。</para>

    <figure id="bsdinstall-netinstall-mirror">
      <title>ミラーサイトの選択</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-netinstall-mirrorselect"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para>インストールファイルをローカルメディアに用意できたら、
      インストールは先に進みます。</para> </sect1>

  <sect1 id="bsdinstall-partitioning">
    <title>ディスク領域の割り当て</title>

    <para>&os; へディスク領域を割り当てるには 3 つの方法があります。
      <emphasis>Guided</emphasis> によるパーティションの分割方法では、
      ディスクパーティションを自動的に設定します。
      一方 <emphasis>Manual</emphasis> によるパーティションの分割方法は、
      高度な知識を持つユーザ向けで、
      カスタマイズしたパーティションを作成できます。
      3 つ目の方法として、シェルを利用し、&man.gpart.8;, &man.fdisk.8;, &man.bsdlabel.8;
      のようなコマンドラインのプログラムを実行する方法があります。</para>

      <figure id="bsdinstall-part-guided-manual">
	<title>パーティションの分割に Guided と Manual のどちらを用いるかの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-guided-manual"/>
	  </imageobject>
	</mediaobject>
      </figure>

    <sect2 id="bsdinstall-part-guided">
      <title>Guided によるパーティションの分割</title>

      <para>複数のディスクが接続されている場合には、
	&os; をインストールするディスクを選択してください。</para>

      <figure id="bsdinstall-part-guided-disk">
	<title>複数のディスクから選択する</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-guided-disk"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ディスクのすべて、または一部を &os; に割り当てます。
	<guibutton>[&nbsp;Entire&nbsp;Disk&nbsp;]</guibutton> を選択すると、
	一般的なパーティションレイアウトが作成されます。
	<guibutton>[&nbsp;Partition&nbsp;]</guibutton> を選択すると、
	ディスクの使用していない領域にパーティションレイアウトを作成します。</para>

      <figure id="bsdinstall-part-entire-part">
	<title>Entire Disk または Partition の選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-entire-part"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>パーティションのレイアウトを作成したら、
	正しく作成できているかどうか注意深く確認してください。
	間違いを発見したら、
	<guibutton>[&nbsp;Revert&nbsp;]</guibutton> を選択して、
	直前に作成したパーティションをリセットしてください。
	また、<guibutton>[&nbsp;Auto&nbsp;]</guibutton> を選択すると、
	自動的にもう一度 &os; パーティションを作成します。
	パーティションを手動で作成、変更、削除できます。
	正しくパーティションを作成出来たら、
	<guibutton>[&nbsp;Finish&nbsp;]</guibutton> を選択し、
	インストールを進めてください。</para>

      <figure id="bsdinstall-part-review">
	<title>作成されたパーティションの確認</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-review"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 id="bsdinstall-part-manual">
      <title>Manual によるパーティションの分割</title>

      <para>Manual によるパーティションの分割では、
	直接パーティションエディタが起動します。</para>

      <figure id="bsdinstall-part-manual-create">
	<title>Manual によるパーティションの分割</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-create"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ドライブ (この例では <devicename>ada0</devicename>) を選び、
	<guibutton>[&nbsp;Create&nbsp;]</guibutton> を選択すると、
	<firstterm>partitioning scheme</firstterm>
	を選択するメニューが表示されます。</para>

      <figure id="bsdinstall-part-manual-partscheme">
	<title>手動でパーティションを作成する</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-partscheme"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>PC 互換のコンピュータでは、通常 <acronym>GPT</acronym>
	によるパーティション分割が最も適切な選択となります。
	<acronym>GPT</acronym>
	に対応していないような古い PC オペレーティングシステムでは、
	<acronym>MBR</acronym> パーティションを使う必要があります。
	他のパーティションスキームは、使うことがまれであったり、
	古いコンピュータで用いられます。</para>

      <table frame="none" rowsep="1" pgwide="1">
	<title>パーティションスキーム</title>

	<tgroup cols="2" align="left">
	  <thead>
	    <row>
	      <entry align="left">省略形</entry>
	      <entry align="left">説明</entry>
	    </row>
	  </thead>

	<tbody>
	  <row>
	    <entry>APM</entry>
	    <entry><ulink url="http://support.apple.com/kb/TA21692">Apple
	      パーティションマップ。
	      &powerpc; &macintosh; で使われます。</ulink></entry>
	  </row>

	  <row>
	    <entry>BSD</entry>
	    <entry>MBR を用いない BSD ラベル。しばしば
	      "dangerously dedicated mode" と呼ばれます。
	      &man.bsdlabel.8; をご覧ください。</entry>
	  </row>

	  <row>
	    <entry>GPT</entry>
	    <entry><ulink
	      url="http://en.wikipedia.org/wiki/GUID_Partition_Table">GUID
	      パーティションテーブル</ulink></entry>
	  </row>

	  <row>
	    <entry>MBR</entry>
	    <entry><ulink
	      url="http://en.wikipedia.org/wiki/Master_boot_record">Master
	      Boot Record</ulink></entry>
	  </row>

	  <row>
	    <entry>PC98</entry>
	    <entry><ulink url="http://en.wikipedia.org/wiki/Pc9801">MBR
	      の亜種。NEC PC-98 コンピュータで使われます。</ulink></entry>
	  </row>

	  <row>
	    <entry>VTOC8</entry>
	    <entry>Volume Table Of Contents。
	      Sun SPARC64 および UltraSPARC コンピュータで使われます。</entry>
	  </row>
	</tbody>
	</tgroup>
      </table>

      <para>パーティションスキームを選択して作成した後で、
	もう一度 <guibutton>[&nbsp;Create&nbsp;]</guibutton> を選択すると、
	新しいパーティションが作成されます。</para>

      <figure id="bsdinstall-part-manual-addpart">
	<title>手動でパーティションを作成する</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-addpart"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>標準の &os; <acronym>GPT</acronym> のインストールでは、
	少なくとも 3 つのパーティションが使われます。</para>

      <itemizedlist>
	<title>標準的な &os; <acronym>GPT</acronym> パーティション</title>
	<listitem>
	  <para><literal>freebsd-boot</literal> - &os; ブートコード。</para>
	</listitem>

	<listitem>
	  <para><literal>freebsd-ufs</literal> - &os;
	    UFS ファイルシステム。</para>
	</listitem>

	<listitem>
	  <para><literal>freebsd-swap</literal> - &os;
	    スワップ空間。</para>
	</listitem>
      </itemizedlist>

      <para>他のパーティション形式に <literal>freebsd-zfs</literal> があります。
	これは &os; ZFS ファイルシステムを含めるためのものです。

	<ulink url="&url.books.handbook.en;/filesystems-zfs.html">
	  The Z File System (ZFS)</ulink> をご覧ください。
	利用可能な <acronym>GPT</acronym>
	パーティションタイプについては、&man.gpart.8;
	をご覧ください。</para>

      <para>複数のファイルシステムのパーティションを使うことができます。
	<filename>/</filename>, <filename>/var</filename>,
	<filename>/tmp</filename> そして <filename>/usr</filename>
	といった伝統的なパーティション分割のレイアウトを好む人もいます。
	レイアウトの例が <xref
	  linkend="bsdinstall-part-manual-splitfs"/> にあります。</para>

      <para>サイズを入力する際に、
	<emphasis>K</emphasis> (キロバイト)、<emphasis>M</emphasis> (メガバイト)、
	<emphasis>G</emphasis> (ギガバイト)
	といった通常の省略形を使用出来ます。</para>

      <tip>
	<para>セクタを適切に配置することで、
	  最良のパフォーマンスを得ることができます。
	  また、パーティションサイズを 4K バイトの偶数倍にすると、
	  512 バイトまたは 4K バイトのセクタでドライブが配置しやすくなります。 一般的に、
	  4K の偶数倍の場所からパーティションが開始するように設定する簡単な方法は、
	  1M または 1G の偶数倍のパーティションサイズを用いることです。
	  ただし、例外があり、現在のところ
	  <emphasis>freebsd-boot</emphasis> パーティションは、
	  ブートコードの制限により 512K 以下である必要があります。</para>
      </tip>

      <para>ファイルシステムを持つパーティションでは、
	マウントポイントが必要となります。
	1 つの UFS パーティションだけを作成するのであれば、
	マウントポイントは <filename>/</filename> となります。</para>

      <para>同様に <firstterm>label</firstterm> の作成も必要です。
	ラベルは作成したパーティションを認識するための名前です。
	ドライブ名や番号は、
	ドライブが別のコントローラやポートに接続されると変わることがありますが、
	パーティションラベルは変わりません。
	<filename>/etc/fstab</filename> のようなファイルの中で、
	ドライブ名やパーティション番号ではなく、ラベルを参照することにより、
	システムがハードウェアの変更に対して、より寛容になります。
	GPT のラベルは、ディスクが接続されると <filename>/dev/gpt/</filename>
	に現れます。他のパーティションスキームでは別のラベルとなり、
	<filename>/dev/</filename>
	以下の異なるディレクトリにラベルが現れます。</para>

      <tip>
	<para>同じ名前による衝突を避けるため、
	  すべてのファイルシステムに対し、一意的な名前使ってください。
	  コンピュータ名、使用、位置情報を表す単語をラベルに追加できます。
	  たとえば、研究室のコンピュータの UFS のルートパーティションを
	  "labroot" または "rootfs-lab" とします。</para>
      </tip>

      <example id="bsdinstall-part-manual-splitfs">
	<title>伝統的なファイルシステムのパーティションを作成する。</title>

	<para>伝統的なパーティションレイアウト
	  (<filename>/</filename>, <filename>/var</filename>,
	  <filename>/tmp</filename> および <filename>/usr</filename>
	  ディレクトリが各パーティションの別のファイルシステム)
	  を作成するには、
	  GPT パーティションスキームを作成し、
	  その後、示されているようにパーティションを作成してください。
	  示されているパーティションサイズは 20G のディスク用です。
	  ディスクにより多くの容量があれば、swap または
	  <filename>/var</filename>
	  パーティションを大きく取ると良いでしょう。
	  ここで示されているラベルには、"example" を意味する
	  <literal>ex</literal> が付けられていますが、
	  実際には上で説明したように、
	  これとは別のユニークなラベルをつけてください。</para>

	<para>&os; の <filename>gptboot</filename> は、
	  デフォルトでは最初に見つかった UFS パーティションが、
	  <filename>/</filename> パーティションであることを前頭としています。</para>

	<informaltable frame="none">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry>パーティションタイプ</entry>
		<entry>サイズ</entry>
		<entry>マウントポイント</entry>
		<entry>ラベル</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry><literal>freebsd-boot</literal></entry>
		<entry><literal>512K</literal></entry>
	      </row>

	      <row>
		<entry><literal>freebsd-ufs</literal></entry>
		<entry><literal>2G</literal></entry>
		<entry><filename>/</filename></entry>
		<entry><literal>exrootfs</literal></entry>
	      </row>

	      <row>
		<entry><literal>freebsd-swap</literal></entry>
		<entry><literal>4G</literal></entry>
		<entry></entry>
		<entry><literal>exswap</literal></entry>
	      </row>

	      <row>
		<entry><literal>freebsd-ufs</literal></entry>
		<entry><literal>2G</literal></entry>
		<entry><filename>/var</filename></entry>
		<entry><literal>exvarfs</literal></entry>
	      </row>

	      <row>
		<entry><literal>freebsd-ufs</literal></entry>
		<entry><literal>1G</literal></entry>
		<entry><filename>/tmp</filename></entry>
		<entry><literal>extmpfs</literal></entry>
	      </row>

	      <row>
		<entry><literal>freebsd-ufs</literal></entry>
		<entry>デフォルト (ディスクの残りのすべての容量)</entry>
		<entry><filename>/usr</filename></entry>
		<entry><literal>exusrfs</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </example>

      <para>カスタムパーティション を作成したら
	<guibutton>[&nbsp;Finish&nbsp;]</guibutton> を選択して、
	インストールを先に進んでください。</para>
    </sect2>
  </sect1>

  <sect1 id="bsdinstall-final-warning">
    <title>インストール操作の確定</title>

    <para>インストールによるハードディスクへの変更を中止するなら、
      ここが最後のチャンスです。</para>

    <figure id="bsdinstall-final-confirmation">
      <title>最後の確認</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-final-confirmation"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para><guibutton>[&nbsp;Commit&nbsp;]</guibutton> を選択して、
      <keycap>Enter</keycap> キーを押すとインストールが開始します。
      もし変更が必要であれば、
      <guibutton>[&nbsp;Back&nbsp;]</guibutton>
      を選択してパーティションエディタまで戻ってください。
      <guibutton>[&nbsp;Revert&nbsp;&amp;&nbsp;Exit&nbsp;]</guibutton> を選択すると、
      ハードドライブへの変更なしにインストールを終了できます。</para>

    <para>インストールにかかる時間は、どのディストリビューションを選んだか、
      どのインストールメディアを使ったか、
      そしてコンピュータの速度にも依存します。
      進行状況を表すメッセージが逐次表示されます。</para>

    <para>まず最初に、インストーラは、ディスクにパーティション情報を書き込み、
      <command>newfs</command> を実行してパーティションを初期化します。</para>

    <para>ネットワーク経由でのインストールでは、
      <application>bsdinstall</application> は、
      インストールに必要な配布ファイルをダウンロードします。</para>
<!-- XXXGA: What does it do if fetch fails? -->

    <figure id="bsdinstall-distfile-fetching">
      <title>配布ファイルのダウンロード</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-fetching"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para>次に、ダウンロードの際にエラーが含まれなかったか、
      インストールメディアからの読み取り中に読み間違いが起きなかったかどうか等、
      配布ファイルの完全性の検証が行われます。</para>

    <figure id="bsdinstall-distfile-verify">
      <title>配布ファイルの検証</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-verifying"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para>最後に、検証された配布ファイルがディスクへ取り出されます。</para>

    <figure id="bsdinstall-distfile-extract">
      <title>配布ファイルの取り出し</title>
      <mediaobject>
	<imageobject>
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-extracting"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para>必要な配布ファイルがすべて取り出されたら、
      <application>bsdinstall</application> は、
      インストール後の作業 (<xref linkend="bsdinstall-post"/>) に進みます。</para>
  </sect1>

  <sect1 id="bsdinstall-post">
    <title>インストール後の作業</title>

    <para>&os; のインストールが完了したら、
      さまざまなオプションの設定に移ります。
      新しくインストールした &os; を起動する前に、
      最後のメニューの configuration オプションの項目に入りなおすことでも、
      オプションの設定を変更できます。</para>

    <sect2 id="bsdinstall-post-root">
      <title><username>root</username> パスワードの設定</title>

      <para><username>root</username> のパスワードを設定する必要があります。
	パスワードを入力している際に、入力している文字は画面に表示されません。
	パスワードの入力後、もう一度入力する必要があります。
	これは入力ミスを防ぐためです。</para>

      <figure id="bsdinstall-post-set-root-passwd">
	<title><username>root</username> パスワードの設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-post-root-passwd"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>パスワードの入力に成功したら、インストールは次に進みます。</para>
    </sect2>

    <sect2 id="bsdinstall-config-network-dev">
      <title>ネットワークインタフェースの設定</title>

      <note>
	<para><emphasis>bootonly</emphasis> によるインストール作業の一部として、
	  すでにネットワークの設定を終えているのであれば、
	  この作業を飛ばすことができます。</para>
      </note>

      <para>次に、コンピュータが認識したすべてのネットワークインタフェースが表示されます。
	設定するネットワークインタフェースを選んでください。</para>

      <figure id="bsdinstall-configure-net-interface">
	<title>イーサネットインタフェースの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <sect3 id="bsdinstall-configure-net-wireless">
	<title>ワイヤレスネットワークインタフェースの設定</title>

	<para>ワイヤレスネットワークインタフェースを選択したのであれば、
	  ネットワークに接続するようにワイヤレス認証およびセキュリティパラメータの入力が必要となります。</para>

	<para>ワイヤレスネットワークは Service Set Identifier
	  (<acronym role="Service Set Identifier">SSID</acronym>) によって識別されます。
	  <acronym role="Service Set Identifier">SSID</acronym>
	  は、それぞれのネットワークに与えられる、短く、一意的な名前です。</para>

	<para>ほとんどのワイヤレスネットワークは、
	  送信データを暗号化して、情報を盗聴から保護します。
	  <acronym role="Wired Equivalent Privacy">WEP</acronym>
	  のような古い暗号の安全性は低いので、
	  <acronym role="Wi-Fi Protected Access II">WPA2</acronym>
	  暗号を強く薦めます。</para>

	<para>ワイヤレスネットワークへ接続する最初のステップは、
	  ワイヤレスアクセスポイントのスキャンです。</para>

	<figure id="bsdinstall-wireless-scan">
	  <title>ワイヤレスアクセスポイントのスキャン</title>
	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-scan"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>スキャンで見つかった
	  <acronym role="Service Set Identifiers">SSID</acronym> の一覧が、
	  そのネットワークで利用できる暗号化のタイプの説明とともに表示されます。
	  もし、期待した <acronym role="Service Set Identifier">SSID</acronym>
	  が一覧に表示されないのであれば、
	  <guibutton>[&nbsp;Rescan&nbsp;]</guibutton>
	  を選択してもう一度スキャンしてください。
	  もし、期待したネットワークが表示されないのであれば、
	  接続のためのアンテナやコンピュータをアクセスポイントの近くに移動させてみてください。
	  その後もう一度スキャンしてください。</para>

	<figure id="bsdinstall-wireless-accesspoints">
	  <title>ワイヤレスネットワークの選択</title>
	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-accesspoints"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>ネットワークの選択後、ワイヤレスネットワークに接続するための暗号情報を入力します。
	  <acronym role="Wi-Fi Protected Access II">WPA2</acronym> では、
	  パスワード (Pre-Shared Key または <acronym
	  role="Pre-Shared Key">PSK</acronym> とも呼ばれます) のみが必要です。
	  セキュリティ上の観点から、入力ボックスに入力した文字はアスタリスクで表示されます。</para>

	<figure id="bsdinstall-wireless-wpa2">
	  <title>WPA2 のセットアップ</title>
	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-wpa2setup"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>ワイヤレスネットワークを選択後、
	  ネットワークの設定は接続情報の入力に進みます。</para>
      </sect3>

      <sect3 id="bsdinstall-ipv4">
	<title>IPv4 ネットワークの設定</title>

	  <para>IPv4 ネットワークを使うかどうかを選択してください。
	    これは、ネットワーク接続の最も一般的なタイプです。</para>

	  <figure id="bsdinstall-configure-net-ipv4">
	    <title>IPv4 ネットワークの選択</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4"/>
	      </imageobject>
	    </mediaobject>
	  </figure>

	<para>IPv4 の設定方法は 2 通りあります。
	  <firstterm><acronym role="Dynamic Host Configuration Protocol">DHCP</acronym>
	  </firstterm> はネットワークインタフェースを自動的に適切に設定する方法で、
	  推奨されています。
	  <firstterm>Static</firstterm> 設定では、
	  ネットワーク情報を手動で入力する必要があります。</para>

	<note>
	  <para>適当なネットワーク情報を入力しても動かないので、
	    ネットワーク管理者またはサービスプロバイダから <xref
	    linkend="bsdinstall-collect-network-information"/>
	    に示されている情報を入手してください。</para>
	</note>

	<sect4 id="bsdinstall-net-ipv4-dhcp-config">
	  <title>IPv4 DHCP ネットワークの設定</title>

	  <para>DHCP サーバを利用できるのであれば、
	    <guibutton>[&nbsp;Yes&nbsp;]</guibutton> を選択して、
	    ネットワークインタフェースの設定を自動的に行ってください。</para>

	  <figure id="bsdinstall-net-ipv4-dhcp">
	    <title>IPv4 DHCP 設定の選択</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4-dhcp"/>
	      </imageobject>
	    </mediaobject>
	  </figure>
	</sect4>

	<sect4 id="bsdinstall-net-ipv4-static-config">
	  <title>静的な IPv4 ネットワークの設定</title>

	  <para>静的なネットワークインタフェースの設定では、
	    いくつかの IPv4 情報を入力する必要があります。</para>

	  <figure id="bsdinstall-net-ipv4-static">
	    <title>IPv4 Static 設定</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4-static"/>
	      </imageobject>
	    </mediaobject>
	  </figure>

	  <itemizedlist>
	    <listitem>
	      <para><literal>IP Address</literal> -
		コンピュータに手動で与える IP アドレスです。
		このアドレスは一意的なものである必要があり、
		ローカルネットワーク上の他のネットワーク機器で使われていてはいけません。</para>
	    </listitem>

	    <listitem>
	      <para><literal>Subnet Mask</literal> -
		ローカルネットワークで用いられるサブネットマスクです。
		一般的には <literal>255.255.255.0</literal> です。</para>
	    </listitem>

	    <listitem>
	      <para><literal>Default Router</literal> -
		このネットワークのデフォルトルータの IP アドレスです。
		これは、通常ルータか、
		ローカルネットワークをインターネットへ接続するネットワーク機器のことです。
		<emphasis>デフォルトゲートウェイ</emphasis>
		とも呼ばれます。</para>
	    </listitem>
	  </itemizedlist>
	</sect4>
      </sect3>

      <sect3 id="bsdinstall-ipv6">
	<title>IPv6 ネットワークの設定</title>

	<para>IPv6 はネットワークの設定の新しい方法です。
	  IPv6 が利用でき、希望するのであれば、
	  <guibutton>[&nbsp;Yes&nbsp;]</guibutton> を選択してください。</para>

	<figure id="bsdinstall-net-ipv6">
	  <title>IPv6 ネットワークの設定</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv6"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>IPv6 の設定に関しても 2 つの方法があります。
	  <firstterm><acronym role="StateLess Address AutoConfiguration">SLAAC</acronym>
	  </firstterm> (<emphasis>StateLess Address AutoConfiguration</emphasis>)
	  は、ネットワークインタフェースを自動的に適切に設定します。
	  <firstterm>Static</firstterm>
	  設定では、ネットワーク情報を手動で入力する必要があります。</para>

	<sect4 id="bsdinstall-net-ipv6-slaac-config">
	  <title>IPv6 Stateless Address Autoconfiguration</title>

	  <para><acronym>SLAAC</acronym> では、IPv6
	    ネットワークコンポーネントがローカルルータから自動設定に関する情報をリクエストできるようにします。
	    詳細については、
	    <ulink url="http://tools.ietf.org/html/rfc4862">RFC4862</ulink>
	    をご覧ください。</para>

	  <figure id="bsdinstall-net-ipv6-slaac">
	    <title>IPv6 SLAAC 設定の選択</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-slaac"/>
	      </imageobject>
	    </mediaobject>
	  </figure>
	</sect4>

	<sect4 id="bsdinstall-net-ipv6-static-config">
	  <title>静的な IPv6 ネットワークの設定</title>

	  <para>静的なネットワークインタフェースの設定では、
	    IPv6 の設定に関する情報を入力する必要があります。</para>

	  <figure id="bsdinstall-net-ipv6-static">
	    <title>IPv6 static 設定</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv6-static"/>
	      </imageobject>
	    </mediaobject>
	  </figure>

	  <itemizedlist>
	    <listitem>
	      <para><literal>IPv6 Address</literal> -
		このコンピュータに割り当てられた
		<acronym>IP</acronym> アドレスです。
		手動で設定します。
		このアドレスは一意的なものである必要があり、
		ローカルネットワーク上の他のネットワーク機器で使われていてはいけません。</para>
	    </listitem>

	    <listitem>
	      <para><literal>Default Router</literal> -
		このネットワークのデフォルトルータの IPv6 アドレスです。
		これは、通常ルータか、
		ローカルネットワークをインターネットへ接続するネットワーク機器のことです。
		<emphasis>デフォルトゲートウェイ</emphasis>
		とも呼ばれます。</para>
	    </listitem>
	  </itemizedlist>
	</sect4>
      </sect3>

      <sect3 id="bsdinstall-net-dns">
	<title><acronym role="Domain Name System">DNS</acronym> の設定</title>

	<para><firstterm>Domain Name System</firstterm> (または
	  <emphasis><acronym role="Domain Name System">DNS</acronym></emphasis>)
	  リゾルバは、ホスト名とネットワークアドレスを変換します。
	  すでに <acronym>DHCP</acronym> または <acronym>SLAAC</acronym>
	  をネットワークの自動設定に使ったのであれば、
	  リゾルバの設定はすでに行われています。そうでなければ、Search
	  フィールドにローカルネットワークのドメイン名を入力してください。
	  <acronym>DNS</acronym> #1 および <acronym>DNS</acronym> #2 は、
	  ローカル <acronym>DNS</acronym> サーバの <acronym>IP</acronym> アドレスです。
	  少なくとも、1 つの <acronym>DNS</acronym> サーバは必要です。</para>

	  <figure id="bsdinstall-net-dns-config">
	    <title>DNS の設定</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="bsdinstall/bsdinstall-configure-network-ipv4-dns"/>
	      </imageobject>
	    </mediaobject>
	  </figure>
      </sect3>
    </sect2>

    <sect2 id="bsdinstall-timezone">
      <title>タイムゾーンの設定</title>

      <para>使用しているコンピュータのタイムゾーンを設定することで、
	地域による時刻の違いが自動的に調整され、
	タイムゾーンに関連した機能が適切に取り扱われます。</para>

      <para>ここでの例では、コンピュータが United States の
	Eastern タイムゾーンにあるものとします。
	実際の地理的位置を選択してください。</para>

      <figure id="bsdinstall-local-utc">
	<title>ローカルまたは UTC クロックの選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-set-clock-local-utc"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>コンピュータのクロックの設定にしたがい、
	<guibutton>[&nbsp;Yes&nbsp;]</guibutton> または、
	<guibutton>[&nbsp;No&nbsp;]</guibutton>
	を選択し、<keycap>Enter</keycap> を押しください。
	UTC とローカルタイムのどちらを選ぶべきかわからない場合には、
	<guibutton>[&nbsp;No&nbsp;]</guibutton>
	を選択して、より一般的なローカルタイムに設定してください。</para>

      <figure id="bsdinstall-timezone-region">
	<title>地域の選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-region"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切な地域を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="bsdinstall-timezone-country">
	<title>国名の選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-country"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切に国名を選び、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="bsdinstall-timezone-zone">
	<title>タイムゾーンの選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-zone"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って適切なタイムゾーンを選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="bsdinstall-timezone-confirmation">
	<title>タイムゾーンの確定</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-confirm"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>タイムゾーンの省略形が正しいかどうかを確認してください。
	問題がないようであれば <keycap>Enter</keycap> を押して、
	インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 id="bsdinstall-sysconf">
      <title>有効にするサービスの選択</title>

      <para>ブート時に起動するシステムサービスを追加で有効に出来ます。
	これらのサービスはすべてオプションです。</para>

      <figure id="bsdinstall-config-serv">
	<title>追加で有効にするサービスの選択</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-config-services"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <itemizedlist>
	<title>追加のサービス</title>
	<listitem>
	  <para><literal>sshd</literal> -
	    安全なリモートアクセスのためのセキュアシェル
	    (<acronym role="Secure Shell">SSH</acronym>) デーモン</para>
	</listitem>

	<listitem>
	  <para><literal>moused</literal> - システムのコンソールで、
	    マウスを利用できるようにします。</para>
	</listitem>

	<listitem>
	  <para><literal>ntpd</literal> - 自動時刻同期のネットワークプロトコル
	    (<acronym role="Network Time Protocol">NTP</acronym>) デーモン</para>
	</listitem>

	<listitem>
	  <para><literal>powerd</literal> -
	    電源の管理およびエネルギーを節約するための電源コントロールユーティリティ</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="bsdinstall-crashdump">
      <title>クラッシュダンプの設定</title>

      <para>次に <application>bsdinstall</application> は、
	クラッシュダンプの設定に移ります。
	システムのデバッグを行う上で、
	クラッシュダンプにより得られる情報は非常に有用です。
	可能であればクラッシュダンプを有効にすると良いでしょう。
	<guibutton>[&nbsp;Yes&nbsp;]</guibutton>
	を選択してクラッシュダンプを有効にするか、または
	<guibutton>[&nbsp;No&nbsp;]</guibutton>
	を選択してクラッシュダンプを無効化し、先に進んでください。</para>

      <figure id="bsdinstall-config-crashdump">
	<title>クラッシュダンプの設定</title>
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-config-crashdump"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 id="bsdinstall-addusers">
      <title>ユーザの追加</title>

      <para>システムに <username>root</username> でログインすることを避けるため、
	インストール時には、少なくとも一人のユーザを追加してください。
	<username>root</username> 権限では、実行に対して制限がなく、また、
	保護されません。
	通常のユーザでログインすることにより、
	安全でセキュリティ的に危険が少なくなります。</para>

      <para><guibutton>[&nbsp;Yes&nbsp;]</guibutton> を選択し、
	新しいユーザを追加してください。</para>

      <figure id="bsdinstall-add-user1">
	<title>新しいユーザのアカウントの作成</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-adduser1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>追加するユーザの情報を入力してください。</para>

      <figure id="bsdinstall-add-user2">
	<title>ユーザ情報の入力</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-adduser2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <itemizedlist>
	<title>ユーザの情報</title>

	<listitem>
	  <para><literal>Username</literal> -
	    ログイン時のユーザ名を入力します。典型的なものでは、
	    ファーストネームの最初の文字とラストネームを組み合わせます。</para>
	</listitem>

	<listitem>
	  <para><literal>Full name</literal> - ユーザのフルネーム</para>
	</listitem>

	<listitem>
	  <para><literal>Uid</literal> - ユーザ ID 番号。
	    通常は、システムが自動的に割り当てるように、
	    空欄のままにします。</para>
	</listitem>

	<listitem>
	  <para><literal>Login group</literal> -
	    新しいユーザのログイングループ。
	    空欄のままにすると、自動的に割り当てられます</para>
	</listitem>

	<listitem>
	  <para><literal>Invite <replaceable>user</replaceable> into
	    other groups?</literal> -
	    ユーザを別のグループのメンバーとして追加するかどうか。</para>
	</listitem>

	<listitem>
	  <para><literal>Login class</literal> -
	    空欄にするとデフォルトの設定になります。</para>
	</listitem>

	<listitem>
	  <para><literal>Shell</literal> - ユーザのログインシェル。
	    この例では &man.csh.1; に設定されています。</para>
	</listitem>

	<listitem>
	  <para><literal>Home directory</literal> -
	    ユーザのホームディレクトリ。
	    通常は、デフォルトの場所が適切です。</para>
	</listitem>

	<listitem>
	  <para><literal>Home directory permissions</literal> -
	    ユーザのホームディレクトリの権限。
	    通常は、デフォルトが適切です。</para>
	</listitem>

	<listitem>
	  <para><literal>Use password-based authentication?</literal> -
	    通常は "yes" です。</para>
	</listitem>

	<listitem>
	  <para><literal>Use an empty password?</literal> -
	    通常は "no" です。</para>
	</listitem>

	<listitem>
	  <para><literal>Use a random password?</literal> -
	    通常は "no" です。</para>
	</listitem>

	<listitem>
	  <para><literal>Enter password</literal> -
	    ユーザのパスワードです。
	    入力している文字は画面に表示されません。</para>
	</listitem>

	<listitem>
	  <para><literal>Enter password again</literal> -
	    確認のため、パスワードをもう一度入力します。</para>
	</listitem>

	<listitem>
	  <para><literal>Lock out the account after creation?</literal>
	  - 通常は "no" です。</para>
	</listitem>
      </itemizedlist>

      <para>すべてを入力したら、サマリが表示され、
	正しいかどうかの確認を求められます。
	入力した情報に間違いがあれば、
	<literal>no</literal> を入力してもう一度作業を行なってください。
	すべてが正しく入力されていれば、
	<literal>yes</literal> を入力して、新しいユーザを作成してください。</para>

      <figure id="bsdinstall-add-user3">
	<title>ユーザおよびグループの管理を終了する</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-adduser3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>さらにユーザを追加するのであれば、
	"Add another user?" の質問に対し、
	<literal>yes</literal> を入力してください。
      	<literal>no</literal> を入力すると、ユーザの追加が終わり、次に進みます。</para>

      <para>ユーザの追加や、ユーザ管理の詳細については、
	<xref linkend="users"/> を参照してください。</para>
    </sect2>

    <sect2 id="bsdinstall-final-conf">
      <title>最後の設定</title>

      <para>すべてをインストールし、設定が終わった後に、
	最後に設定を修正する機会が与えられます。</para>

      <figure id="bsdinstall-final-config">
	<title>最後の設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-finalconfiguration"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>インストールを完了する前に、
	このメニューを使って変更、または、追加の設定を行なってください。</para>

      <itemizedlist>
	<title>最終の設定オプション</title>

	<listitem>
	  <para><literal>Add User</literal> -
	    <xref linkend="bsdinstall-addusers"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Root Password</literal> -
	    <xref linkend="bsdinstall-post-root"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Hostname</literal> -
	    <xref linkend="bsdinstall-hostname"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Network</literal> -
	    <xref linkend="bsdinstall-config-network-dev"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Services</literal> -
	    <xref linkend="bsdinstall-sysconf"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Time Zone</literal> -
	    <xref linkend="bsdinstall-timezone"/> で説明しています。</para>
	</listitem>

	<listitem>
	  <para><literal>Handbook</literal> -
	    &os; ハンドブック (現在あなたが読んでいるこの文章のことです)
	    のダウンロードとインストール。</para>
	</listitem>
      </itemizedlist>

      <para>最後の設定を完了後、<guibutton>Exit</guibutton>
	を選んでインストールを終了してください。</para>

      <figure id="bsdinstall-final-modification-shell">
	<title>Manual Configuration</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-final-modification-shell"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>新しいシステムを再起動する前に、
	<application>bsdinstall</application>
	は追加の設定が必要かどうかを尋ねてきます。
	<guibutton>[&nbsp;Yes&nbsp;]</guibutton>
	を選択して新しいシステムのシェルに入るか、または
	<guibutton>[&nbsp;No&nbsp;]</guibutton>
	を選択して、インストールの最後のステップに進んでください。</para>

      <figure id="bsdinstall-final-main">
	<title>インストールの終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="bsdinstall/bsdinstall-mainexit"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>もし追加の設定や、特別なセットアップが必要なのであれば、
	<guibutton>[&nbsp;Live&nbsp;CD&nbsp;]</guibutton>
	を選んでインストールメディアを
	Live CD モードで起動してください。</para>

      <para>インストールが終わったら、
	<guibutton>[&nbsp;Reboot&nbsp;]</guibutton> を選んで、
	コンピュータを再起動し、新しい &os; システムを動かしてください。
	再起動する前には、忘れずに &os; インストール CD, DVD または
	USB メモリスティックを外してください。
	さもないと、もう一度インストールメディアから起動してしまいます。</para>
    </sect2>

    <sect2 id="bsdinstall-freebsdboot">
      <title>&os; の起動とシャットダウン</title>

      <sect3 id="bsdinstall-freebsdboot-i386">
	<title>&os;/&arch.i386; の起動</title>

	<para>&os; の起動時には、多くのメッセージが画面に表示されます。
	  ほとんどは、画面上からスクロールして見えなくなってしまいますが、
	  これは正常です。システムの起動が終わった後で、
	  ログインプロンプトが表示されます。
	  画面上からスクロールして消えてしまったメッセージは
	  <keycap>Scroll-Lock</keycap> を押し、
	  <emphasis>scroll-back buffer</emphasis> で、みることができます。
	  <keycap>PgUp</keycap>, <keycap>PgDn</keycap>
	  そして矢印キーでメッセージの内容を見ることができます。
	  <keycap>Scroll-Lock</keycap>
	  をもう一度押すと、画面のロックを外し、
	  通常の画面に戻ることができます。</para>

      <para><prompt>login:</prompt> プロンプトで、
	インストール時に追加したユーザ名を入力してください。
	この例では、<username>asample</username> です。
	必要のない限り、<username>root</username> でのログインを避けてください。</para>

	<para>上で示した scroll-back buffer では、バッファの容量制限により、
	  すべてが表示されないかもしれません。
	  ログインの後にプロンプトからコマンドラインで
	  <command>dmesg | less</command>
	  と入力することによって、すべてを見ることができます。
	  確認後に <keycap>q</keycap> を押すと、コマンドラインに戻ります。</para>

	<para>典型的なブートメッセージ (バージョン情報は省略しています)</para>

      <screen>Copyright (c) 1992-2011 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.
FreeBSD is a registered trademark of The FreeBSD Foundation.

    root@farrell.cse.buffalo.edu:/usr/obj/usr/src/sys/GENERIC amd64
CPU: Intel(R) Core(TM)2 Duo CPU     E8400  @ 3.00GHz (3007.77-MHz K8-class CPU)
  Origin = "GenuineIntel"  Id = 0x10676  Family = 6  Model = 17  Stepping = 6
  Features=0x783fbff&lt;FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,MMX,FXSR,SSE,SSE2&gt;
  Features2=0x209&lt;SSE3,MON,SSSE3&gt;
  AMD Features=0x20100800&lt;SYSCALL,NX,LM&gt;
  AMD Features2=0x1&lt;LAHF&gt;
real memory  = 536805376 (511 MB)
avail memory = 491819008 (469 MB)
Event timer "LAPIC" quality 400
ACPI APIC Table: &lt;VBOX   VBOXAPIC&gt;
ioapic0: Changing APIC ID to 1
ioapic0 &lt;Version 1.1&gt; irqs 0-23 on motherboard
kbd1 at kbdmux0
acpi0: &lt;VBOX VBOXXSDT&gt; on motherboard
acpi0: Power Button (fixed)
acpi0: Sleep Button (fixed)
Timecounter "ACPI-fast" frequency 3579545 Hz quality 900
acpi_timer0: &lt;32-bit timer at 3.579545MHz&gt; port 0x4008-0x400b on acpi0
cpu0: &lt;ACPI CPU&gt; on acpi0
pcib0: &lt;ACPI Host-PCI bridge&gt; port 0xcf8-0xcff on acpi0
pci0: &lt;ACPI PCI bus&gt; on pcib0
isab0: &lt;PCI-ISA bridge&gt; at device 1.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
atapci0: &lt;Intel PIIX4 UDMA33 controller&gt; port 0x1f0-0x1f7,0x3f6,0x170-0x177,0x376,0xd000-0xd00f at device 1.1 on pci0
ata0: &lt;ATA channel 0&gt; on atapci0
ata1: &lt;ATA channel 1&gt; on atapci0
vgapci0: &lt;VGA-compatible display&gt; mem 0xe0000000-0xe0ffffff irq 18 at device 2.0 on pci0
em0: &lt;Intel(R) PRO/1000 Legacy Network Connection 1.0.3&gt; port 0xd010-0xd017 mem 0xf0000000-0xf001ffff irq 19 at device 3.0 on pci0
em0: Ethernet address: 08:00:27:9f:e0:92
pci0: &lt;base peripheral&gt; at device 4.0 (no driver attached)
pcm0: &lt;Intel ICH (82801AA)&gt; port 0xd100-0xd1ff,0xd200-0xd23f irq 21 at device 5.0 on pci0
pcm0: &lt;SigmaTel STAC9700/83/84 AC97 Codec&gt;
ohci0: &lt;OHCI (generic) USB controller&gt; mem 0xf0804000-0xf0804fff irq 22 at device 6.0 on pci0
usbus0: &lt;OHCI (generic) USB controller&gt; on ohci0
pci0: &lt;bridge&gt; at device 7.0 (no driver attached)
acpi_acad0: &lt;AC Adapter&gt; on acpi0
atkbdc0: &lt;Keyboard controller (i8042)&gt; port 0x60,0x64 irq 1 on acpi0
atkbd0: &lt;AT Keyboard&gt; irq 1 on atkbdc0
kbd0 at atkbd0
atkbd0: [GIANT-LOCKED]
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: [GIANT-LOCKED]
psm0: model IntelliMouse Explorer, device ID 4
attimer0: &lt;AT timer&gt; port 0x40-0x43,0x50-0x53 on acpi0
Timecounter "i8254" frequency 1193182 Hz quality 0
Event timer "i8254" frequency 1193182 Hz quality 100
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
atrtc0: &lt;AT realtime clock&gt; at port 0x70 irq 8 on isa0
Event timer "RTC" frequency 32768 Hz quality 0
ppc0: cannot reserve I/O port range
Timecounters tick every 10.000 msec
pcm0: measured ac97 link rate at 485193 Hz
em0: link state changed to UP
usbus0: 12Mbps Full Speed USB v1.0
ugen0.1: &lt;Apple&gt; at usbus0
uhub0: &lt;Apple OHCI root HUB, class 9/0, rev 1.00/1.00, addr 1&gt; on usbus0
cd0 at ata1 bus 0 scbus1 target 0 lun 0
cd0: &lt;VBOX CD-ROM 1.0&gt; Removable CD-ROM SCSI-0 device
cd0: 33.300MB/s transfers (UDMA2, ATAPI 12bytes, PIO 65534bytes)
cd0: Attempt to query device size failed: NOT READY, Medium not present
ada0 at ata0 bus 0 scbus0 target 0 lun 0
ada0: &lt;VBOX HARDDISK 1.0&gt; ATA-6 device
ada0: 33.300MB/s transfers (UDMA2, PIO 65536bytes)
ada0: 12546MB (25694208 512 byte sectors: 16H 63S/T 16383C)
ada0: Previously was known as ad0
Timecounter "TSC" frequency 3007772192 Hz quality 800
Root mount waiting for: usbus0
uhub0: 8 ports with 8 removable, self powered
Trying to mount root from ufs:/dev/ada0p2 [rw]...
Setting hostuuid: 1848d7bf-e6a4-4ed4-b782-bd3f1685d551.
Setting hostid: 0xa03479b2.
Entropy harvesting: interrupts ethernet point_to_point kickstart.
Starting file system checks:
/dev/ada0p2: FILE SYSTEM CLEAN; SKIPPING CHECKS
/dev/ada0p2: clean, 2620402 free (714 frags, 327461 blocks, 0.0% fragmentation)
Mounting local file systems:.
vboxguest0 port 0xd020-0xd03f mem 0xf0400000-0xf07fffff,0xf0800000-0xf0803fff irq 20 at device 4.0 on pci0
vboxguest: loaded successfully
Setting hostname: machine3.example.com.
Starting Network: lo0 em0.
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; metric 0 mtu 16384
        options=3&lt;RXCSUM,TXCSUM&gt;
        inet6 ::1 prefixlen 128
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x3
        inet 127.0.0.1 netmask 0xff000000
        nd6 options=21&lt;PERFORMNUD,AUTO_LINKLOCAL&gt;
em0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; metric 0 mtu 1500
        options=9b&lt;RXCSUM,TXCSUM,VLAN_MTU,VLAN_HWTAGGING,VLAN_HWCSUM&gt;
        ether 08:00:27:9f:e0:92
        nd6 options=29&lt;PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL&gt;
        media: Ethernet autoselect (1000baseT &lt;full-duplex&gt;)
        status: active
Starting devd.
Starting Network: usbus0.
DHCPREQUEST on em0 to 255.255.255.255 port 67
DHCPACK from 10.0.2.2
bound to 192.168.1.142 -- renewal in 43200 seconds.
add net ::ffff:0.0.0.0: gateway ::1
add net ::0.0.0.0: gateway ::1
add net fe80::: gateway ::1
add net ff02::: gateway ::1
ELF ldconfig path: /lib /usr/lib /usr/lib/compat /usr/local/lib
32-bit compatibility ldconfig path: /usr/lib32
Creating and/or trimming log files.
Starting syslogd.
No core dumps found.
Clearing /tmp (X related).
Updating motd:.
Configuring syscons: blanktime.
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
10:a0:f5:af:93:ae:a3:1a:b2:bb:3c:35:d9:5a:b3:f3 root@machine3.example.com
The key's randomart image is:
+--[RSA1 1024]----+
|    o..          |
|   o . .         |
|  .   o          |
|       o         |
|    o   S        |
|   + + o         |
|o . + *          |
|o+ ..+ .         |
|==o..o+E         |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
7e:1c:ce:dc:8a:3a:18:13:5b:34:b5:cf:d9:d1:47:b2 root@machine3.example.com
The key's randomart image is:
+--[ DSA 1024]----+
|       ..     . .|
|      o  .   . + |
|     . ..   . E .|
|    . .  o o . . |
|     +  S = .    |
|    +  . = o     |
|     +  . * .    |
|    . .  o .     |
|      .o. .      |
+-----------------+
Starting sshd.
Starting cron.
Starting background file system checks in 60 seconds.

Thu Oct  6 19:15:31 MDT 2011

FreeBSD/amd64 (machine3.example.com) (ttyv0)

login:</screen>

      <para>低速なマシンでは、
	RSA および DSA キーを作成するのに少々時間がかかるかもしれません。
	これはインストール後の最初の起動時に、<application>sshd</application>
	のセットアップが自動的に開始する時に実行されます。
	その後の起動はより速くなるでしょう。</para>

      <para>&os; はデフォルトでは、グラフィカルな環境をインストールしませんが、
	多くのものを利用できます。
	<xref linkend="x11"/> を読んでください。</para>

      </sect3>
    </sect2>

    <sect2 id="bsdinstall-shutdown">
      <title>&os; のシャットダウン</title>

      <para>適切に &os; をシャットダウンすることは、
	ハードウェアをダメージから守ったり、データの保護につながります。
	ただ電源を落すということはしないでください。
	<groupname>wheel</groupname>
	グループのメンバとなっているユーザは、
	コマンドラインから <command>su</command> と入力し、
	<username>root</username> パスワードを入力して
	<username>root</username> となってください。
	または <username>root</username> としてログインし、
	<command>shutdown -p now</command>
	を使用します。システムは正しくシャットダウンし、電源が落ちます。</para>

      <para>
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>Alt</keycap>
	  <keycap>Del</keycap>
	</keycombo>
	というキーの組合せを使ってシステムをリブートすることもできますが、
	通常の運用においてこれは推奨されません。</para>

    </sect2>
  </sect1>

  <sect1 id="bsdinstall-install-trouble">
    <title>トラブルシューティング</title>

    <indexterm>
      <primary>インストール</primary>
      <secondary>トラブルシューティング</secondary>
    </indexterm>
    <para>この節では、インストールの際の、
      これまで報告された共通の問題に対する解決のための情報が書いてあります。</para>

    <sect2>
      <title>なにかおかしいときには何をすればよいでしょうか</title>

      <para>PC アーキテクチャのさまざまな制限により、
	100% 確実に原因を突き止めることは不可能ですが、
	失敗した時にいくつかできることがあります。</para>

      <para>インストールする &os; のバージョンの <ulink
	url="http://www.FreeBSD.org/ja/releases/index.html">ハードウェアノート</ulink>
	を調べて、
	使っているハードウェアに対応しているかどうかを確認してください。</para>

      <para>もしハードウェアがサポートされているにもかかわらず、
	動作しなかったり他の問題点がある時は、<link
	linkend="kernelconfig">カスタムカーネル</link>
	を構築する必要があります。<filename>GENERIC</filename>
	カーネルに含まれていないデバイスのサポートを追加することができます。
	起動ディスクのカーネルでは、ほとんどのハードウェアデバイスの IRQ, IO アドレス、
	DMA チャネルが工場出荷時の状態であると設定されています。
	もしハードウェアの設定が変更されていると、
	カーネルコンフィグレーションファイルを編集し、
	再コンパイルを行なって、これらの値を
	&os; に設定しなければなりません。</para>

      <para>存在しないデバイスを認識してしまうことにより、
	その後実際に存在するデバイスの認識を失敗してしまうことがあります。
	このような場合は衝突しているドライバを無効にします。</para>

      <note>
	<para>いくつかのインストール上の問題はさまざまなハードウェア装置の、
	  特にマザーボードのファームウェアのアップデートで回避または緩和することができます。
	  マザーボードのファームウェアは <acronym>BIOS</acronym>
	  と呼ばれることもあり、
	  多くのマザーボードまたはコンピュータ製造メーカーは、
	  アップデートやアップグレード情報を載せているウェブサイトを用意しています。</para>

	<para>通常、製造メーカーは、
	  重要な更新のようなそれなりの理由がない限り、マザーボードの
	  <acronym>BIOS</acronym> のアップグレードは行わないよう推奨しています。
	  アップデートの過程で失敗する<emphasis>可能性があり</emphasis>、
	  その場合 <acronym>BIOS</acronym> が不完全な状態になり、
	  コンピュータが動作しない原因となり得るからです。</para>
	</note>
    </sect2>

    <sect2>
      <title>トラブルシューティングに関する Q &amp; A</title>

      <qandaset>
	<qandaentry>
	  <question>
	    <para>起動時のハードウェア検出で、システムがハングアップします。
	      または、インストール中にシステムがおかしくなります。</para>
	  </question>
	  <answer>
	    <para>i386, amd64 および ia64 プラットフォームにおいて、
	      &os; はシステムの設定を手助けするシステム ACPI サービスを、
	      起動時に検出された場合に広く使います。
	      残念ながら、まだいくつかの不具合が、
	      ACPI ドライバとシステムのマザーボードおよび
	      <acronym>BIOS</acronym> ファームウェア両方に存在しています。
	      起動ステージ 3 において、ヒント情報
	      <literal>hint.acpi.0.disabled</literal>
	      を以下のように設定すると ACPI を無効にできます。</para>

	    <screen><userinput>set hint.acpi.0.disabled="1"</userinput></screen>

	    <para>この設定はシステムが起動するたびにリセットされるので、
	      <filename>/boot/loader.conf</filename> ファイルに
	      <literal>hint.acpi.0.disabled="1"</literal> を追加してください。
	      ブートローダのより詳しい情報については
	      <xref linkend="boot-synopsis"/> で説明します。</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 id="using-live-cd">
    <title>Live CD を使う</title>

    <para>&os; の live CD は、メインのインストールプログラムと同じ CD に含まれています。
      オペレーティングシステムに &os; を使おうかどうか考えている方や、
      インストールする前に機能を試して見たいと思っている方に有用です。</para>

    <note>
      <para>live CD を使う際は、以下のことに気をつけてください。</para>
      <itemizedlist>
	<listitem>
	  <para>システムにアクセスする際には、認証を求められます。
	    ユーザ名は <literal>root</literal>、パスワードは空欄としてください。</para>
	</listitem>
	<listitem>
	  <para>システムは CD から起動するため、
	    ハードディスクにインストールされたシステムに比べ、
	    パフォーマンスはかなり遅い可能性があります。</para>
	</listitem>
	<listitem>
	  <para>live CD のユーザインタフェースはコマンドプロンプトです。
	    グラフィカルなユーザインタフェースではありません。</para>
	</listitem>
      </itemizedlist>
    </note>
  </sect1>
</chapter>
