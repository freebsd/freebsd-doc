.\"
.\" Copyright (c) 2000,2001,2002 S鷨en Schmidt <sos@FreeBSD.org>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" %FreeBSD: src/sbin/atacontrol/atacontrol.8,v 1.23 2003/05/02 12:42:31 sos Exp %
.\"
.\" $FreeBSD$
.Dd May 17, 2001
.Dt ATACONTROL 8
.Os
.Sh 抩憊
.Nm atacontrol
.Nd ATA 犯田奶旦玉仿奶田及戊件玄伕□伙皿伕弘仿丞
.Sh 踏摯
.Nm
.Aq Ar command
.Ar args
.Pp
.Nm
.Ic attach
.Ar channel
.Nm
.Ic detach
.Ar channel
.Nm
.Ic reinit
.Ar channel
.Nm
.Ic create
.Ar type Oo Ar interleave Oc Ar disk0 ... diskN
.Nm
.Ic delete
.Ar raid
.Nm
.Ic addspare
.Ar raid disk
.Nm
.Ic rebuild
.Ar raid
.Nm
.Ic status
.Ar raid
.Nm
.Ic mode
.Ar channel
.Op Ar mastermode slavemode
.Nm
.Ic info
.Ar channel
.Nm
.Ic cap
.Ar channel device
.Nm
.Ic enclosure
.Ar channel device
.Nm
.Ic list
.Sh 荸濩
.Nm
交□氾奴伉氾奴反
.Fx
.Xr ata 4
扔皮扑旦氾丞尺及失弁本旦午戊件玄伕□伙毛交□扒卞羼間允月
戊件玄伕□伙皿伕弘仿丞匹允﹝
.Pp
.Nm
交□氾奴伉氾奴反銀中杅毛貲月午﹜
蕉對卅扑旦氾丞整陴支犯□正及罈撩毛婁五粟仇允仇午互丐月及匹﹜
仇及戊穴件玉反蝸坌卅鏜啦及曉卞銀迕允月方丹卞仄化票今中!
.Pp
婁醒
.Ar channel
反﹜醜綜允月 ATA 民乓生伙及砦璊リ飽
動票及戊穴件玉互扔禾□玄今木化中引允:
.Bl -tag -width "rebuild"
.It Ic attach
ATA
.Ar channel
卞濤糧仄引允﹝民乓生伙曉及犯田奶旦反皮□玄凜午き迋卞腹請今木﹜濤糧今木引允﹝
.It Ic detach
ATA
.Ar channel
毛濠曰峊仄引允﹝
民乓生伙曉及犯田奶旦反市□生伙井日潸曰輪井木﹜怳質咥及鱉霜羈反撩л午仄化
扑旦氾丞卞忒今木引允﹝
.It Ic reinit
ATA
.Ar channel
毛瘋賡渝祭仄引允﹝
民乓生伙曉及犯田奶旦反伉本永玄今木﹜
ATA 及玉仿奶田互ま朿匹筏盛仄化中月由仿丟□正卞賡渝祭今木引允﹝
裕整手仄仁反腹請卞膨仄卅仁卅勻凶犯田奶旦﹜引凶反坁咥讀卞潸曰陸今木凶
犯田奶旦反市□生伙井日潸曰輪井木引允﹝
公仄化引凶﹜伉本永玄醱卞犯田奶旦互腹請’濤糧今木月仇午手丐曰引允﹝
.It Ic create
.Ar type
及
ATA RAID
毛綜嶽仄引允﹝
正奶皿反
.Cm RAID0
(旦玄仿奶皿),
.Cm RAID1
(立仿□),
.Cm RAID0+1 ,
.Cm SPAN
(JBOD) 及中內木井匹允﹝
RAID 卞
.Cm RAID0
及朿坌互丐月樺寧﹜
.Ar interleave
毛本弁正醒及簽匏匹隙爛允月仇午互优邰匹允﹝
RAID 反
.Bk -words
.Ar disk0 ... diskN
.Ek
午中丹抩蟆及つ峏仄凶犯奴旦弁井日厭嶽今木引允﹝
.Pp
ATA 玉仿奶田反升氏卅戊件玄伕□仿及犯奴旦弁曉卞匹手 ATA RAID 毛綜嶽第Х匹允互﹜
孺蜃互丐曰引允﹝
失伊奶井日皮□玄第Х卅及反﹜Promise 支 Highpoint 午中勻凶
.Dq 呿坁
及 ATA RAID 戊件玄伕□仿卞公及失伊奶互濤糧今木化中月樺寧井﹜
RAID 互
.Cm RAID1
引凶反
.Cm SPAN
午燭蛻今木化中月樺寧匹允﹝
SPAN 及樺寧卞反﹜皮□玄允月由□氾奴扑亦件互 SPAN 及瘉賡及
犯奴旦弁卞丐月优邰互丐曰引允﹝
.It Ic delete
RAID 覆殺 ATA 戊件玄伕□仿及 RAID 失伊奶毛綽輪仄引允﹝
.It Ic addspare
湃繡及 RAID 卞芺鬙ルㄔ馴砟艡价瓣楔牏飽
.It Ic rebuild
RAID 覆殺 ATA 戊件玄伕□仿及 RAID1 失伊奶毛瘋厭嶽仄引允﹝
.It Ic status
ATA RAID 及橇謫毛潸ぜ仄引允﹝
.It Ic mode
2勾及乒□玉婁醒互卅中樺寧﹜徆杅及犯田奶旦及蜇箕及鱉霜乒□玉互刓憎今木引允﹝
乒□玉婁醒互芨尹日木凶樺寧﹜鱉霜乒□玉毛公及乒□玉卞庍凳允月方丹卞﹜
ATA玉仿奶田卞邰菲仄引允﹝甩□玉它尼失互公木日及乒□玉毛扔禾□玄仄化中卅中午五反
ATA玉仿奶田反邰菲毛蛐搕楔牏飽
乒□玉反﹜
.Dq Li PIO3 ,
.Dq Li udma2 ,
.Dq Li udma100
及方丹卞隙爛仄引允﹝妐儂及釐凝反楮溢丐曰引六氏﹝
手仄﹜犯田奶旦乒□玉及 1 勾毛庍凳仄卅中午五反﹜公及乒□玉及午仇欠卞
.Dq Li 庍凳拑仄
及啦怗﹜婁醒
.Dq Li XXX
毛銀中引允﹝
.Pp
蜇箕扔禾□玄今木化中月乒□玉反﹜
.Cm BIOSDMA ,
.Cm PIO0
.Cm ( BIOSPIO
及帎抩) ,
.Cm PIO1 , PIO2 , PIO3 , PIO4 ,
.Cm WDMA2 ,
.Cm UDMA2
.Cm ( UDMA33
及帎抩) ,
.Cm UDMA4
.Cm ( UDMA66
及帎抩) ,
.Cm UDMA5
.Cm ( UDMA100
及帎抩) ,
.Cm UDMA6
.Cm ( UDMA133
及帎抩)
匹允﹝
.It Ic info
.Ar channel
卞濤糧今木凶犯田奶旦及樹扷毛刓憎仄引允﹝
犯田奶旦抩午丟□市/田□斥亦件毛刓憎仄引允﹝
.It Ic cap
.Ar channel device
及犯田奶旦及擇稱毛刓憎仄引允﹝
犯田奶旦 0 反穴旦正毛﹜犯田奶旦 1 反旦伊□皮毛啦怗仄引允﹝
.It Ic enclosure
.Ar channel device
及巨件弁伕□斥乓及擇稱毛刓憎仄引允﹝
犯田奶旦 0 反穴旦正毛﹜犯田奶旦 1 反旦伊□皮毛啦怗仄引允﹝
白央件及 RPM 簧蘸﹜巨件弁伕□斥乓硃蘸﹜5V 午 12V 及伊矛伙毛刓憎仄引允﹝
.It Ic list
允屯化及肣躲卅戊件玄伕□仿曉及﹜允屯化及濤糧今木化中月犯田奶旦卞勾中化﹜
樹扷毛刓憎仄引允﹝
.El
.Sh 銀迕拺
犯田奶旦及蜇箕及失弁本旦乒□玉毛葦月卞反﹜慼及戊穴件玉仿奶件毛銀迕仄引允:
.Pp
.Dl "atacontrol mode 0"
.Pp
仇及瑛絆﹜犯田奶旦及乒□玉互慼及方丹卅妐儂昫匹刓憎今木引允:
.Bd -literal -offset indent
Master = WDMA2
Slave  = PIO4
.Ed
.Pp
仇木反﹜ata0-master 反 DMA 乒□玉﹜
ata0-slave 反 PIO 乒□玉匹丐月仇午卅升毛憎仄引允﹝
曉筏及方丹卅妐儂昫毛銀迕允月仇午匹﹜
.Nm
匹乒□玉澀爛第Х匹允﹝
拺尹壬慼及方丹卞仄引允:
.Pp
.Dl "atacontrol mode 0 PIO4 PIO4"
.Pp
.Nm
互枑月午五卞反﹜蕙筋乒□玉互澀爛今木化中引允﹝
.Sh 楮洘嫩杴
.Xr ata 4
.Sh 昳銖
.Nm
交□氾奴伉氾奴反﹜
.Fx 4.6 
匹反元戶化瓚樺仄引仄凶﹝
.Sh 綜樊
.An -nosplit
.Nm
交□氾奴伉氾奴反﹜
.An S\(/oren Schmidt
.Aq sos@FreeBSD.org 
互踏五引仄凶﹝
.Pp
仇及穴瓦亙失伙矢□斥反﹜
.An S\(/oren Schmidt
.Aq sos@FreeBSD.org 
互踏五引仄凶﹝
