.\" Copyright (c) 2002 John Rochester
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" %FreeBSD: src/usr.bin/makewhatis/makewhatis.1,v 1.3 2002/05/18 15:39:56 ru Exp %
.\"
.\" $FreeBSD$
.Dd May 12, 2002
.Dt MAKEWHATIS 1
.Os
.Sh 名称
.Nm makewhatis
.Nd whatis databaseを作る
.Sh 書式
.Nm makewhatis
.Op Fl a
.Op Fl i Ar column
.Op Fl n Ar name
.Op Fl o Ar file
.Op Fl v
.Op Fl L
.Op Ar directories ...
.Sh 解説
.Nm
ユーティリティは
.Ar directories
中のフォーマットされていないマニュアルページから名称と短い記述を抽出し、
.Xr whatis 1
と
.Xr apropos 1
が使用するファイルを作成します。
ディレクトリはコロンか空白で区切ります。
.Ar directories
を指定しない場合、環境変数
.Ev MANPATH
の内容が使用されるか、これが設定されていない場合はデフォルトの
.Pa /usr/share/man
が処理されます。
.Pp
オプションは次の通りです:
.Bl -tag -width ".Fl i Ar column"
.It Fl a
出力ファイルを置き換えるのではなく追加します。
出力中では重複する行は削除されますが、無くなったエントリが残るかもしれません。
.It Fl i Ar column
解説の文字列を
.Ar column
に揃えます。
デフォルトは 24 です。
.It Fl n Ar name
.Pa whatis
の代わりに
.Ar name
を使用します。
.It Fl o Ar file
.Pa */man/whatis
の代わりに全ての出力を
.Ar file
に書き込みます。
.It Fl v
なにをしているかに関し
.Nm
は冗長表示します。
.It Fl L
標準の環境変数で指定されるロケールに対応する
ローカライズサブディレクトリのみ処理します。
.El
.Sh 環境変数
.Bl -tag -width ".Ev MANPATH"
.It Ev LC_ALL , LC_CTYPE , LANG
これらの変数は、
.Fl L
オプション指定時にどのサブディレクトリを処理するかを制御します。
.It Ev MACHINE
設定された場合、マシン固有サブディレクトリを検索する時に、
この値で現在のマシンタイプを上書きします。
.It Ev MANPATH
コマンドラインで指定しないときに処理するディレクトリ集合を決定します。
.El
.Sh 関連ファイル
.Bl -tag -width ".Pa /usr/share/man" -compact
.It Pa /usr/share/man
.Ev MANPATH
環境変数未設定時に処理するデフォルトディレクトリ。
.It Pa */man/whatis
デフォルト出力ファイル。
.El
.Sh 診断
.Ex -std
.Sh 関連項目
.Xr apropos 1 ,
.Xr whatis 1
.Sh 歴史
.Nm
コマンドは
.Fx 2.1
に登場しました。
.Sh 作者
.An -nosplit
.An Wolfram Schneider
がオリジナルの Perl バージョンを書き、提供しました。
元バージョンは、
.An John Rochester
が C で書き直したものです。
