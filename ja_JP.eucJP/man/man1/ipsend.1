.\" $FreeBSD$
.TH IPSEND 1
.SH 名称
ipsend \- IP パケットを送信する
.SH 書式
.B ipsend
[
.B \-dITUv
] [
.B \-i
<interface>
] [
.B \-f
<\fIoffset\fP>
] [
.B \-g
<\fIgateway\fP>
] [
.B \-m
<\fIMTU\fP>
] [
.B \-o
<\fIoption\fP>
] [
.B \-P
<protocol>
] [
.B \-s
<\fIsource\fP>
] [
.B \-t
<\fIdest. port\fP>
] [
.B \-w
<\fIwindow\fP>
] <destination> [TCP-flags]
.SH 解説
.PP
\fBipsend\fP は 2 種類の方法でコンパイルされている可能性があります。
最初
の方法は、コマンド行オプションを用いてさまざまな属性値をヘッダに入れた、
一度だけのパケットを終点のホストに向けて送信するために用いられます。
TCP フラグが A, S, F, U, P, R の組み合わせとして最後に指定される場合を除く
と、\fIdestination\fP は最後のコマンド行オプションとして指定する必要
があります。
.PP
もう一つの方法は、コンパイルの際に DOSOCKET が定義されている場合ですが、
コマンド行オプションの指定により ipsend で SYN パケットを再送して、TCP
コネクションを作成しようとすることを可能とするために使用します。
.SH オプション
.TP
.BR \-d
デバッグモードを有効にします。
.TP
.BR \-f \0<offset>
\fI-f\fP を指定することにより、IP ヘッダの IP オフセットフィールドに
任意の値を設定することができます。
この値は 10 進数または 16 進数で
指定することができます。
.TP
.BR \-g \0<gateway>
パケットを通すゲートウェイのホスト名を指定します。
送出しようとする
ホストと同一のネットワークに直接接続されていないホストを終点とする場合は、
つねにこのオプションが必要です。
.TP
.BR \-i \0<interface>
指定した名前をインタフェース名として設定します。
.TP
.TP
.BR \-m \0<MTU>
パケットを送出する際に使用する MTU を指定します。
このオプションを使うことで、実際と異なる MTU を設定することができます。
これにより、
実際にネットワークインタフェースの MTU を小さく設定しなくても、
小さな MTU を持つインタフェースをシミュレートすることができます。
.TP
.BR \-o \0<option>
IP ヘッダの最後に含めるオプションを指定します。
EOL オプションは自動的に付加されますので指定する必要はありません。
関連するデータを持つオプション
(lsrr オプションでの始点 IP 番号) の場合、そのデータは初期化
されません。
.TP
.BR \-s \0<source>
パケットの始点アドレスを指定した値で設定します。
おそらくホスト名か IP
番号となるでしょう。
.TP
.BR \-t \0<dest. port>
TCP/UDP パケットの終点ポートを設定します。
.TP
.BR \-w \0<window>
TCP パケットのウィンドウサイズを設定します。
.TP
.B \-I
プロトコルを ICMP として設定します。
.TP
.B \-P <protocol>
プロトコルを指定した値で設定します。
パラメータが名前の場合、その名前を
使って \fI/etc/protocols\fP ファイルを検索します。
.TP
.B \-T
プロトコルを TCP として設定します。
.TP
.B \-U
プロトコルを UDP として設定します。
.TP
.BR \-v
冗長モードをオンにします。
.DT
.SH 関連項目
ipsend(1), ipresend(1), iptest(1), protocols(4), bpf(4), dlpi(7p)
.SH 診断
.PP
root で実行する必要があります。
.SH バグ
.PP
なにかお気づきの点があれば、darrenr@pobox.com までメール下さい。
