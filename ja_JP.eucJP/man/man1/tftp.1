.\" Copyright (c) 1990, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)tftp.1	8.2 (Berkeley) 4/18/94
.\" %FreeBSD: src/usr.bin/tftp/tftp.1,v 1.4.2.2 2001/03/04 09:12:14 kris Exp %
.\" $FreeBSD$
.\"
.Dd April 18, 1994
.Dt TFTP 1
.Os BSD 4.3
.Sh 名称
.Nm tftp
.Nd 簡単なファイル転送プログラム
.Sh 書式
.Nm
.Op Ar host
.Sh 解説
.Nm
は、インターネット
.Tn TFTP
(Trivial File Transfer Protocol) を用いて、リモートマシンとの間の
ファイル転送を行なうためのユーザインタフェースです。
リモートマシン名
.Ar host
は、
.Nm
起動時にコマンドラインで指定することが可能です。この場合、
.Ar host
はファイル転送を行なう際のデフォルトのホストとして使われます。
(以下の
.Cm connect
コマンドを参照のこと)。
.Sh コマンド
.Nm
起動後、コマンド入力を促すプロンプト
.Dq Li tftp>
が表示されます。この状態で使用できるコマン
ドは以下の通りです。
.Pp
.Bl -tag -width verbose -compact
.It Cm \&? Ar command-name ...
ヘルプメッセージを出力します。
.Pp
.It Cm ascii
``mode ascii'' の略です。
.Pp
.It Cm binary
``mode binary'' の略です。
.Pp
.It Cm connect Ar host-name Op Ar port
ファイル転送を行なう
.Ar host
を(必要あれば
.Ar port 
番号も同時に)
設定します。
なお、
.Tn TFTP
プロトコルは、
.Tn FTP
プロトコルと違い、無通信状態においてはホスト間の
コネクションを保持しないことに注意してください。
つまり、
.Cm connect
コマンドはホスト
間のコネクションを確立するのではなく、実際には転送を行なうホストを
記憶するのに使用されます。
使用者は
.Cm connect
コマンドを使用する必要はなく、
.Cm get
もしくは
.Cm put
コマンドを使用する時にリモートホストを指定することができます。
.Pp
.It Cm get Ar filename
.It Cm get Ar remotename localname
.It Cm get Ar file1 file2 ...  fileN
指定された形式でファイルを取得します。転送元の指定方法には 2 通りあります。
.Ar host
がすでに指定されている場合、リモートホスト上のファイル名を指定し
ます。もしくは
.Ar hosts:filename
のようにリモートマシンとファイル名の両者を指
定します。もし後者の形式が使用される場合、最後に指定されたリモートホスト名が
以後のファイル転送の対象ホストとなります。
.Pp
.It Cm mode Ar transfer-mode
転送モードを設定します。転送モードは
.Em ascii
と
.Em binary 
の 2 通りがあります。デフォルトは
.Em ascii 
となります。
.Pp
.It Cm put Ar file
.It Cm put Ar localfile remotefile
.It Cm put Ar file1 file2 ... fileN remote-directory
指定されたファイルまたはディレクトリをリモートホストに転送します。
転送先の指定方法は 2 通りあります。
.Ar host
がすでに
指定されている場合、リモートホスト上に作成されるファイル名を指定します。もしく
は
.Ar hosts:filename
のようにリモートホストとファイル名の両者を指定します。後者
の形式が使用される場合、最後に指定されたリモートホスト名が以後のファイル転送の
対象ホストとなります。また、ディレクトリを指定してリモートへのファイル転送を行
なう場合、リモートホストは
.Tn UNIX
マシンとみなされます。
.Pp
.It Cm quit
.Nm
を終了します。EOF (^D)
を入力した場合も同様です。
.Pp
.It Cm rexmt Ar retransmission-timeout
パケット毎の再送タイムアウト時間を秒単位で設定します。
.Pp
.It Cm status
現在の tftp の状態を表示します。
.Pp
.It Cm timeout Ar total-transmission-timeout
全体の転送タイムアウト時間を、秒単位で設定します。
.Pp
.It Cm trace
トグル動作でパケットトレース機能の ON/OFF を設定します。
.Pp
.It Cm verbose
トグル動作でバーボーズモードの ON/OFF を設定します。
.El
.Sh バグ
.Pp
.Tn TFTP
プロトコルには、ユーザ認証機構がないために、リモートマシン上のファイルには
何らかの種類のアクセス制限が生じることがあります。それらに関してはいろいろな例
があるため、ここには記述しません。
.Pp
33488896 オクテット (65535 ブロック) を越えるファイルは、
クライアントとサーバがブロックサイズのネゴシエーション (RFC1783) を
サポートしていなければ、転送不可能です。
.Sh 歴史
.Nm
コマンドは
.Bx 4.3 
から登場しました。
