.\" $FreeBSD$
.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "STRIP 1"
.TH STRIP 1 "2004-04-09" "binutils-2.14.91" "GNU Development Tools"
.SH 名称
strip \- オブジェクトファイルからシンボルの削除
.SH 書式
.IX Header "SYNOPSIS"
strip [\fB\-F\fR \fIbfdname\fR |\fB\-\-target=\fR\fIbfdname\fR]
      [\fB\-I\fR \fIbfdname\fR |\fB\-\-input\-target=\fR\fIbfdname\fR]
      [\fB\-O\fR \fIbfdname\fR |\fB\-\-output\-target=\fR\fIbfdname\fR]
      [\fB\-s\fR|\fB\-\-strip\-all\fR]
      [\fB\-S\fR|\fB\-g\fR|\fB\-d\fR|\fB\-\-strip\-debug\fR]
      [\fB\-K\fR \fIsymbolname\fR |\fB\-\-keep\-symbol=\fR\fIsymbolname\fR]
      [\fB\-N\fR \fIsymbolname\fR |\fB\-\-strip\-symbol=\fR\fIsymbolname\fR]
      [\fB\-w\fR|\fB\-\-wildcard\fR]
      [\fB\-x\fR|\fB\-\-discard\-all\fR] [\fB\-X\fR |\fB\-\-discard\-locals\fR]
      [\fB\-R\fR \fIsectionname\fR |\fB\-\-remove\-section=\fR\fIsectionname\fR]
      [\fB\-o\fR \fIfile\fR] [\fB\-p\fR|\fB\-\-preserve\-dates\fR]
      [\fB\-\-only\-keep\-debug\fR]
      [\fB\-v\fR |\fB\-\-verbose\fR] [\fB\-V\fR|\fB\-\-version\fR]
      [\fB\-\-help\fR] [\fB\-\-info\fR]
      \fIobjfile\fR...
.SH 解説
.IX Header "DESCRIPTION"
\s-1GNU\s0
\fBstrip\fR
はオブジェクトファイル
\fIobjfile\fR
からシンボルをすべて削除します。
オブジェクトファイルのリストにアーカイブが含まれていても構いません。
少なくともひとつのオブジェクトファイルが必要です。
.PP
\fBstrip\fR
は変更されたコピーを別名で作成せず、
引数で指定したファイルそのものを変更します。
.SH オプション
.IX Header "OPTIONS"
.IP "\fB\-F\fR \fIbfdname\fR" 4
.IX Item "-F bfdname"
.PD 0
.IP "\fB\-\-target=\fR\fIbfdname\fR" 4
.IX Item "--target=bfdname"
.PD
オリジナルの \fTobjfile\fR を
\fIbfdname\fR オブジェクトコード形式のファイルとして扱い、
それと同じ形式で上書きします。
.IP "\fB\-\-help\fR" 4
.IX Item "--help"
\fBstrip\fR
のオプションの一覧を表示して終了します。
.IP "\fB\-\-info\fR" 4
.IX Item "--info"
利用可能なアーキテクチャとオブジェクト形式のすべての一覧を
表示します。
.IP "\fB\-I\fR \fIbfdname\fR" 4
.IX Item "-I bfdname"
.PD 0
.IP "\fB\-\-input\-target=\fR\fIbfdname\fR" 4
.IX Item "--input-target=bfdname"
.PD
オリジナルの \fIobjfile\fR を
\fIbfdname\fR オブジェクトコード形式のファイルとして扱います。
.IP "\fB\-O\fR \fIbfdname\fR" 4
.IX Item "-O bfdname"
.PD 0
.IP "\fB\-\-output\-target=\fR\fIbfdname\fR" 4
.IX Item "--output-target=bfdname"
.PD
\fIobjfile\fR を \fIbfdname\fR 出力形式のファイルに置き換えます。
.IP "\fB\-R\fR \fIsectionname\fR" 4
.IX Item "-R sectionname"
.PD 0
.IP "\fB\-\-remove\-section=\fR\fIsectionname\fR" 4
.IX Item "--remove-section=sectionname"
.PD
出力ファイルから \fIsectionname\fR という名前のセクションを削除します。
このオプションは 1 回以上使うことができます。
このオプションを不適切に使用すると、オブジェクトファイルが
使用できなくなるかもしれないことに注意してください。
.IP "\fB\-s\fR" 4
.IX Item "-s"
.PD 0
.IP "\fB\-\-strip\-all\fR" 4
.IX Item "--strip-all"
.PD
すべてのシンボルを削除します。
.IP "\fB\-g\fR" 4
.IX Item "-g"
.PD 0
.IP "\fB\-S\fR" 4
.IX Item "-S"
.IP "\fB\-d\fR" 4
.IX Item "-d"
.IP "\fB\-\-strip\-debug\fR" 4
.IX Item "--strip-debug"
.PD
デバッギングシンボルだけを削除します。
.IP "\fB\-\-strip\-unneeded\fR" 4
.IX Item "--strip-unneeded"
再配置処理に不必要なシンボルをすべて削除します。
.IP "\fB\-K\fR \fIsymbolname\fR" 4
.IX Item "-K symbolname"
.PD 0
.IP "\fB\-\-keep\-symbol=\fR\fIsymbolname\fR" 4
.IX Item "--keep-symbol=symbolname"
.PD
元ファイルのシンボル \fIsymbolname\fR だけを保持します。
このオプションは 1 回以上使うことができます。
.IP "\fB\-N\fR \fIsymbolname\fR" 4
.IX Item "-N symbolname"
.PD 0
.IP "\fB\-\-strip\-symbol=\fR\fIsymbolname\fR" 4
.IX Item "--strip-symbol=symbolname"
.PD
元ファイルからシンボル \fIsymbolname\fR を削除します。
このオプションは 1 回以上使うことができ、また \fB\-K\fR 以外の
strip のオプションと併用することができます。
.IP "\fB\-o\fR \fIfile\fR" 4
.IX Item "-o file"
存在するファイルを置き換える代わりに、
strip された出力を \fIfile\fR に出します。
この引数を使用する時には、\fIobjfile\fR 引数は 1 つしか指定できません。
.IP "\fB\-p\fR" 4
.IX Item "-p"
.PD 0
.IP "\fB\-\-preserve\-dates\fR" 4
.IX Item "--preserve-dates"
.PD
ファイルのアクセス時刻と更新時刻を保存します。
.IP "\fB\-w\fR" 4
.IX Item "-w"
.PD 0
.IP "\fB\-\-wildcard\fR" 4
.IX Item "--wildcard"
.PD
他のコマンド行オプションで使用される \fIsymbolname\fRs において、
正規表現の使用を許可します。
疑問符 (?)、アスタリスク (*)、バックスラッシュ (\e)、
角括弧 ([]) の演算子をシンボル名のどこでも使用できます。
シンボル名の最初の文字が感嘆符 (!) である場合、そのシンボルに
対するスイッチの意味が反転します。
例えば、次の
.Sp
.Vb 1
\&          -w -K !foo -K fo*
.Ve
.Sp
では、文字 ``fo'' で始まるシンボルだけを保持し、
シンボル ``foo'' は破棄することになります。
.IP "\fB\-x\fR" 4
.IX Item "-x"
.PD 0
.IP "\fB\-\-discard\-all\fR" 4
.IX Item "--discard-all"
.PD
グローバルでないシンボルを削除します。
.IP "\fB\-X\fR" 4
.IX Item "-X"
.PD 0
.IP "\fB\-\-discard\-locals\fR" 4
.IX Item "--discard-locals"
.PD
コンパイラによって生成されたローカルシンボル (これは通常 \fBL\fR か \fB.\fR
で始まります。) を削除します。
.IP "\fB\-\-only\-keep\-debug\fR" 4
.IX Item "--only-keep-debug"
ファイルから削除する際に、\fB\-\-strip\-debug\fR により削除されるものは
すべて除去しつつ、デバッグ用セクションは残します。
.Sp
このオプションの意図は、\fB\-\-add\-gnu\-debuglink\fR と一緒に使い、
2 パートの実行可能形式を生成することにあります。
第一に、削除済みのバイナリの占める \s-1RAM\s0 容量が
より少なくなること。
第二に、デバッグ機能が必要な場合のみ
デバッグ情報ファイルが必要となることです。
これらのファイルを生成するに際し、推奨する手順は次の通りです。
.RS 4
.IP "1.<実行可能形式を普通通りリンクする。この名前を>" 4
\&\f(CW\*(C`foo\*(C'\fR とする。
.IX Item "1.<実行可能形式を普通通りリンクする。この名前を>"
.ie n .IP "1.<""objcopy \-\-only\-keep\-debug foo foo.dbg"" を実行し>" 4
.el .IP "1.<\f(CWobjcopy \-\-only\-keep\-debug foo foo.dbg\fR を実行し>" 4
.IX Item "1.<objcopy --only-keep-debug foo foo.dbg を実行し>"
デバッグ情報を含むファイルを生成する。
.ie n .IP "1.<""objcopy \-\-strip\-debug foo"" を実行し>" 4
.el .IP "1.<\f(CWobjcopy \-\-strip\-debug foo\fR を実行し>" 4
.IX Item "1.<objcopy --strip-debug foo を実行し>"
ストリップされた実行可能形式を生成する。
.ie n .IP "1.<""objcopy \-\-add\-gnu\-debuglink=foo.dbg foo""を実行し>" 4
.el .IP "1.<\f(CWobjcopy \-\-add\-gnu\-debuglink=foo.dbg foo を実行し\fR>" 4
.IX Item "1.<objcopy --add-gnu-debuglink=foo.dbg foo を実行し>"
ストリップされた実行可能形式に、デバッグ情報へのリンクを追加する。
.RE
.RS 4
.Sp
注意 \- デバッグ情報ファイルの拡張子を選ぶ際に \f(CW\*(C`.dbg\*(C'\fR を
使うことは任意です。
\&\f(CW\*(C`\-\-only\-keep\-debug\*(C'\fR のステップも
省略可能です。代わりに次のようにすることができます。
.IP "1.<通常通り実行可能形式をリンクする>" 4
.IX Item "1.<通常通り実行可能形式をリンクする>"
.PD 0
.ie n .IP "1.<""foo""\fR を \f(CW""foo.full""にコピーする>" 4
.el .IP "1.<\f(CWfoo\fR を  \f(CWfoo.full\fR にコピーする>" 4
.IX Item "1.<foo を foo.full にコピーする>"
.ie n .IP "1.<""strip \-\-strip\-debug foo""を実行する>" 4
.el .IP "1.<\f(CWstrip \-\-strip\-debug foo\fR を実行する>" 4
.IX Item "1.<strip --strip-debug foo を実行する>"
.ie n .IP "1.<""objcopy \-\-add\-gnu\-debuglink=foo.full foo" を実行する">" 4
.el .IP "1.<\f(CWobjcopy \-\-add\-gnu\-debuglink=foo.full foo\fR を実行する>" 4
.IX Item "1.<objcopy --add-gnu-debuglink=foo.full foo を実行する>"
.RE
.RS 4
.PD
.Sp
ここで、\fB\-\-add\-gnu\-debuglink\fR により指し示されたファイルは
完全実行可能形式です。
これは、\&\fB\-\-only\-keep\-debug\fR スイッチにより生成される
必要はありません。
.RE
.IP "\fB\-V\fR" 4
.IX Item "-V"
.PD 0
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
.PD
\fBstrip\fR のバージョンを表示して終了します。
.IP "\fB\-v\fR" 4
.IX Item "-v"
.PD 0
.IP "\fB\-\-verbose\fR" 4
.IX Item "--verbose"
.PD
冗長な出力: 変更されたすべてのオブジェクトファイルを列挙します。
アーカイブの場合、
\fBstrip \-v\fR
はアーカイブのすべてのメンバを列挙します。
.SH 関連項目
.IX Header "SEE ALSO"
Info の \fIbinutils\fR エントリ。
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (c) 1991, 92, 93, 94, 95, 96, 97, 98, 99, 2000,
2001, 2002, 2003 Free Software Foundation, Inc.
.PP
Permission is granted to copy, distribute and/or modify this document
under the terms of the \s-1GNU\s0 Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections, with no Front-Cover Texts, and with no
Back-Cover Texts.  A copy of the license is included in the
section entitled ``\s-1GNU\s0 Free Documentation License''.
.\" .SH 履歴
.\" 河原大輔 <kawahara@pine.kuee.kyoto-u.ac.jp> 1998/11/07 FreeBSD 用に翻訳
.\" 堀川和雄 <horikawa@jp.FreeBSD.org> 2001/08/04 binutil 2.11.2 用に修正
.\" 堀川和雄 <horikawa@jp.FreeBSD.org> 2002/12/29 binutil 2.12.91 用に修正
