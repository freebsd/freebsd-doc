.\" $FreeBSD$
.de Id
.ds Rv \\$3
.ds Dt \\$4
..
.Id %FreeBSD: src/gnu/usr.bin/rcs/rlog/rlog.1,v 1.8 1999/08/27 23:36:59 peter Exp %
.ds i \&\s-1ISO\s0
.ds r \&\s-1RCS\s0
.ds u \&\s-1UTC\s0
.if n .ds - \%--
.if t .ds - \(em
.TH RLOG 1 \*(Dt GNU
.SH 名称
rlog \- RCS ファイルのログメッセージや、その他の関連情報を表示する
.SH 書式
.B rlog
.RI [ " options " ] " file " .\|.\|.
.SH 解説
.B rlog
は \*r ファイルに関する情報を表示します。
.PP
\*r 拡張子にマッチするファイル名は \*r ファイルであるとみなし、
その他のファイル名はワークファイルであるとみなします。
.BR ci (1)で説明しているように、ファイル名は RCS ファイルと
ワークファイルのペアになっています。
.PP
.B rlog
は、各 \*r ファイルの以下の情報を表示します: \*r ファイルのパス名、
ワークファイルのパス名、ヘッド(幹で最新のリビジョン)、デフォルト枝、
アクセスリスト、ロック状況、シンボル名、拡張子、総リビジョン数、
指定されたリビジョンの数、内容記述。以上の情報に加え、新しいものから順に
選択されたリビジョンのリストが表示されます。各リビジョンに関して、
.B rlog は、
リビジョン番号、作者、日時、状態、(直前のリビジョンから)追加/削除された行数、
ロック者、ログメッセージを表示します。
デフォルトでは、表示されるすべての時刻は協定世界時 (\*u)
です ;
これは
.BR \-z
オプションで書き換え可能です。
オプションを指定しない場合、
.B rlog
は以上のすべての情報を表示します。
以下のオプションにより表示する内容を限定することができます。
.nr n \w'\f3\-V\fP\f2n\fP'+2n-1/1n
.ds n \nn
.if \n(.g .if r an-tag-sep .ds n \w'\f3\-V\fP\f2n\fP'u+\n[an-tag-sep]u
.TP \*n
.B \-L
ロックされていない \*r ファイルを無視します。
.B \-h
、
.B \-l
、
.B \-R
オプションと組み合わせると便利です。
.TP
.B \-R
\*r ファイル名のみを表示します。ワークファイルのパス名を \*r ファイル
名に変換するのに便利です。
.TP
.BI \-v "[string]"
ワーキングファイルの名前とデフォルト枝(の枝)の先端リビジョンだけを表示します。
.I [string]
で指定した文字列は出力行の先頭に出力されます。
.TP
.B \-h
\*r ファイルのパス名、ワークファイルのパス名、ヘッド、デフォルト枝、ア
クセスリスト、ロック者、シンボル名、拡張子を表示します。
.TP
.B \-t
.BR \-h
の情報に追加して内容記述を表示します。
.TP
.B \-N
シンボル名を表示しません。
.TP
.B \-b
デフォルト枝に関する情報を表示します。通常は、幹の最も大きな番号を持つ枝
です。
.TP
.BI \-d "dates"
セミコロンで区切られた、登録日時の範囲にあるリビジョンに関する情報を
表示します。
.IB d1 < d2
または
.IB d2 > d1
なる形式の範囲は、日時
.I d1
から日時
.I d2
までの間 (d1とd2は除く) に登録されたリビジョンを指定します。
.BI < d
または
.IB d >
なる形式の範囲は、日時
.IR d
より前に登録されたすべてのリビジョンを指定します。
.IB d <
または
.BI > d
なる形式の範囲は日時
.IR d
より後を指定します。
もし
.B <
または
.B >
に
.B =
が続いていれば、範囲は両端を含むようになります。
.I d
なる形式の範囲は日時
.I d
以前の最新のリビジョンを指定します。
.I d
、
.I d1
、
.I d2
は
.BR co (1)
に記述されている自由形式の日時です。
通常
.B <
や
.B >
を使う場合にはクォートが必要です。要素の区切りがセミコロンであることに
注意してください。
.TP
.BR \-l [\f2lockers\fP]
ロックされているリビジョンに関する情報のみを表示します。コンマで区切られた
ユーザ名のリスト
.I lockers
が指定された場合は、指定されたユーザがロックしたリビジョンに関する情報のみを
表示します。例えば、
.BI "rlog\ \-L\ \-R\ \-l" wft "\ RCS/*"
はユーザ
.I wft
がロックしている \*r ファイル名を表示します。
.TP
.BR \-r [\f2revisions\fP]
コンマで区切られたリビジョンのリスト
.I revisions
で指定されたリビジョンに関する情報のみを表示します。
.IB rev1 : rev2
の形式の範囲指定は、同一枝上の
.I rev1
から
.I rev2
までを、
.BI : rev
は枝上の最初のリビジョンからリビジョン
.I rev
までを、
.IB rev :
はリビジョン
.I rev
から枝上の最後のリビジョンまでを示します。引数に枝番号を指定した場合は、
その枝上のすべてのリビジョンに関する情報が表示されます。
枝番号による範囲指定は、範囲内の枝上のすべてのリビジョンを示します。
.I revisions
が省略された場合は、デフォルト枝(通常は幹)上の最新リビジョンの情報のみを
表示します。
.TP
.BI \-s states
状態が
.I states
であるリビジョンの情報のみを表示します。
.I states
はコンマで区切った状態名のリストです。
.TP
.BR \-w [\f2logins\fP]
.I logins
で指定したユーザが登録したリビジョンに関する情報のみを表示します。
.I logins
はコンマで区切ったユーザ名のリストです。
.I logins
が省略された場合は、
.B rlog
を起動したユーザ名が用いられます。
.TP
.B \-T
このオプションの効果はありません ;
ほかの \*r コマンドとの互換性を保つために存在しています。
.TP
.BI \-V
\*r システムのバージョンを表示します。
.TP
.BI \-V n
ログの生成時に、\*r システムのバージョン
.I n
のエミュレーションを行います。詳細は
.BR co (1)
を参照してください。
.TP
.BI \-x "suffixes"
\*r ファイル拡張子を指定します。詳しくは
.BR ci (1)
を参照してください。
.PP
.B rlog
は指定されたオプション
.B \-d
、
.B \-l
、
.B \-s
、
.B \-w
のすべてに適合し、かつ
.B \-b
、
.B \-r
の
いずれかに適合したリビジョンに関する情報のみを表示します。
.TP
.BI \-z zone
日時の出力形式を指定し、
.BI \-d dates
オプションの
.I date
に対するデフォルトのタイムゾーンを指定します。
.I zone
には何も指定しないか、数字の \*u を指定するか、ローカルタイムのための
特別な文字列
.B LT
を指定します。
デフォルトは何も指定しない空の
.IR zone
で、伝統的な \*u の \*r 形式ですが、タイムゾーンを示す表示はなく、
日付の部分を分割するのにスラッシュを用います ;
他では、\*i 形式でタイムゾーンの表示と一緒に時間を出力します。
例えば、ローカルタイムが 太平洋標準時の 1990 年 1 月 11 日、午後 8 時で、
\*u から 8 時間、西である(遅れている)場合、時間の出力は以下のようになります :
.RS
.LP
.RS
.nf
.ta \w'\f3\-z+05:30\fP  'u +\w'\f31990-01-11 09:30:00+05:30\fP  'u
.ne 4
\f2option\fP	\f2time output\fP
\f3\-z\fP	\f31990/01/12 04:00:00\fP	\f2(default)\fP
\f3\-zLT\fP	\f31990-01-11 20:00:00\-08\fP
\f3\-z+05:30\fP	\f31990-01-12 09:30:00+05:30\fP
.ta 4n +4n +4n +4n
.fi
.RE
.SH 使用例
.LP
.nf
.B "    rlog  \-L  \-R  RCS/*"
.LP
ロックされたすべての \*r ファイル名を出力します。
.LP
.B "    rlog  \-L  \-h  RCS/*"
.LP
ロックされたすべての \*r ファイルのヘッダを出力します。
.LP
.B "    rlog  \-L  \-l  RCS/*"
.LP
ロックされたすべての \*r ファイルのヘッダとログメッセージを出力します。
.LP
.B "    rlog  RCS/*"
.LP
すべての \*r ファイルに関するすべての情報を出力します。
.fi
.LP
.SH 環境変数
.TP
.B \s-1RCSINIT\s0
コマンドライン引数に先立って指定すべきオプションを指定します。オプションは
空白で区切って指定します。詳しくは
.BR ci (1)
を参照してください。
.SH 診断
すべての動作が成功した場合に終了ステータス 0 を返します。
.SH 作者
Author: Walter F. Tichy.
.br
Manual Page Revision: \*(Rv; Release Date: \*(Dt.
.br
Copyright \(co 1982, 1988, 1989 Walter F. Tichy.
.br
Copyright \(co 1990, 1991, 1992, 1993, 1994, 1995 Paul Eggert.
.SH 関連項目
ci(1), co(1), ident(1), rcs(1), rcsdiff(1), rcsintro(1), rcsmerge(1),
rcsfile(5)
.br
Walter F. Tichy,
\*r\*-A System for Version Control,
.I "Software\*-Practice & Experience"
.BR 15 ,
7 (July 1985), 637-654.
.SH バグ
以前の版の
.B rlog では
.B \-r
オプションにおけるリビジョンの区切りは
.B \-
でした。
しかし、これはシンボリック名が
.B \-
を含んでいるときに混乱を生じます。
従来の版との互換性のため、
.B \-
を用いた記法もサポートしますが、この記法を用いた場合は
警告メッセージを表示します。
.br
