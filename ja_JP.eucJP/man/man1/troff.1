'\" t
.ig
troff.man

Last update : 09 Dec 2002

This file is part of groff, the GNU roff type-setting system.

Copyright (C) 1989, 2000, 2001, 2002 Free Software Foundation, Inc.

written by James Clark

modified by Werner Lemberg <wl@gnu.org>
            Bernd Warken <bwarken@mayn.de>

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with the
Invariant Sections being this .ig-section and AUTHOR, with no
Front-Cover Texts, and with no Back-Cover Texts.

A copy of the Free Documentation License is included as a file called
FDL in the main directory of the groff source package.
..
.
.\" $FreeBSD$
.
.\" --------------------------------------------------------------------
.\" Setup
.\" --------------------------------------------------------------------
.
.mso www.tmac
.
.if n \{\
.  mso tty-char.tmac
.  ftr CR R
.  ftr CI I
.\" $FreeBSD$
.\}
.
.if '\*[.T]'dvi' \
.  ftr CB CW
.
.de TQ
.br
.ns
.TP \\$1
..
.
.\" Like TP, but if specified indent is more than half
.\" the current line-length - indent, use the default indent.
.de Tp
.ie \\n(.$=0:((0\\$1)*2u>(\\n(.lu-\\n(.iu)) .TP
.el .TP "\\$1"
..
.
.
.\" --------------------------------------------------------------------
.\" Title
.\" --------------------------------------------------------------------
.
.TH TROFF 1 "1 May 2003" "Groff Version 1.19"
.SH 名称
troff \- groff テキストフォーマットシステムの troff プロセッサ
.
.
.\" --------------------------------------------------------------------
.SH 書式
.\" --------------------------------------------------------------------
.
.nr a \n(.j
.ad l
.nr i \n(.i
.in +\w'\fBtroff 'u
.ti \niu
.B troff
.de OP
.ie \\n(.$-1 .RI "[\ \fB\\$1\fP" "\\$2" "\ ]"
.el .RB "[\ " "\\$1" "\ ]"
..
.OP \-abcivzCERU
.OP \-d cs
.OP \-f fam
.OP \-F dir
.OP \-m name
.OP \-M dir
.OP \-n num
.OP \-o list
.OP \-r cn
.OP \-T name
.OP \-w name
.OP \-W name
.RI "[\ " files\|.\|.\|. "\ ]"
.br
.ad \na
.P
コマンドラインオプションとパラメータの間には、
空白を含めることができます。
.
.
.\" --------------------------------------------------------------------
.SH 解説
.\" --------------------------------------------------------------------
.
本マニュアルでは、GNU バージョンの
.BR troff
について記述しています。
これは、groff ドキュメントフォーマットシステムの一部です。
.
本コマンドは UNIX troff と高い互換性を持っている一方で、
多くの拡張がなされています。
この拡張については、
.BR \%groff_diff (7)
を参照してください。
通常 troff は
.BR groff (1)
コマンドから起動されます。
また groff は、適切な前処理プログラムと後処理プログラムを
適切なオプションを用いて、適切な順序で起動します。
.
.
.\" --------------------------------------------------------------------
.SH オプション
.\" --------------------------------------------------------------------
.
.TP \w'\-dname=s'u+2n
.B \-a
.SM ASCII
文字のみの近似的な出力を行います。
.
.TP
.B \-b
各警告とエラーメッセージに対するバックトレースを表示します。
.
これは、警告やエラーの原因を調べるのに有用です。
.
出力される行番号は必ずしも正しくはありません。
.B as
や
.B am
リクエストによって、
.BR troff
が行番号を誤認する可能性があるからです。
.
.TP
.B \-c
カラー出力を無効にします (互換モードでは常に無効です)。
.
.TP
.B \-C
互換モードを有効にします。
.
.TP
.BI \-d cs
.TQ
.BI \-d name = s
マクロ
.I c
または
.I name
を文字列
.IR s
と定義します。
.I c
は 1 文字のマクロ名です。
.
.TP
.B \-E
.BR troff
のエラーメッセージを一切出力しません。
これは、
.B tm
や
.B tm1
リクエストを用いたマクロパッケージによって標準エラー出力へ表示される
メッセージには影響しないことに注意してください。
.
.TP
.BI \-f fam
.I fam
をデフォルトのフォントファミリとして使用します。
.
.TP
.BI \-F dir
ディレクトリ (またはディレクトリパス)
.I dir
以下のサブディレクトリ
.BI dev name
.RI ( name
は出力デバイス名) を検索し、その中からフォントファイルと
.B DESC
ファイルを探します。
.I dir
は、他のすべてのフォントディレクトリより前に調べられます。
.
.TP
.B \-i
指定されたファイルをすべて処理したあとに、標準入力を読み取ります。
.
.TP
.BI \-m name
マクロファイル
.IB name .tmac\fR
を読み取ります。
見つからなければ、かわりに
.BI tmac. name
を試みます。
.
まず最初に
.B \-M
コマンドラインオプションで指定されたディレクトリ、続いて
.B GROFF_TMAC_PATH
環境変数で指定されたディレクトリ、
そして現在のディレクトリ (安全でないモードの場合のみ)、
ホームディレクトリ、/usr/share/tmac/、/usr/share/tmac/、
/usr/share/tmac の順に検索します。
.
.TP
.BI \-M dir
指定したディレクトリ (またはディレクトリパス)
.I dir
からマクロファイルを検索します。
.
これは他のすべてのマクロディレクトリより前に調べられます。
.
.TP
.BI \-n num
最初のページ番号を
.IR num
とします。
.
.TP
.BI \-o list
.IR list
で指定したページのみを出力します。
.IR list
は、コンマで区切られたページ範囲のリストです:
.I n
は
.IR n
ページの出力、
.IB m \- n
は
.I m
ページから
.IR n
ページまでの出力、
.BI \- n
は
.IR n
ページまでの出力、
.IB n \-
は
.IR n
ページ以降の出力を意味します。
.B troff
はリストの最後のページを印刷し終えると終了します。
.
.TP
.BI \-r cn
.TQ
.BI \-r name = n
数値レジスタ
.I c
または
.I name
の値を
.IR n
とします。
.I c
は 1 文字の名前です。
.I n
は troff で扱える数式です。
.
.TP
.B \-R
.B troffrc
と
.BR troffrc-end
を読み取りません。
.
.TP
.BI \-T name
デバイス
.IR name
用の出力を生成します。
デフォルトは
.BR ps
です。
更なる解説は
.BR groff (1)
を参照してください。
.
.TP
.B \-U
安全でないモード。
.
これによって以下のリクエストが有効になります:
.BR open ,
.BR opena ,
.BR pso ,
.BR sy ,
.BR pi
。
このオプションが指定されない場合、セキュリティのために
これらの危険性のあるリクエストは禁止されます。
.
またこのオプションによって、現在のディレクトリがマクロ検索パスに追加されます。
.
.TP
.B \-v
バージョン番号を表示します。
.
.TP
.BI \-w name
.IR  name
で指定した分類の警告を行います。
指定できる警告は、後述の
.I 警告
のサブセクションを参照してください。
.
例えば、すべての警告を有効にする場合、
.B \-w
.BR all
とします。
.B \-w
オプションは複数指定できます。
.
.TP
.BI \-W name
.IR name
で指定した分類の警告を行いません。
.B \-W
オプションは複数指定することができます。
.
.TP
.B \-z
フォーマットした結果を出力しません。
.
.
.\" --------------------------------------------------------------------
.SH 警告
.\" --------------------------------------------------------------------
.
.B troff
が出力する警告は以下のカテゴリに分類されます。
.
各警告に関連する名前は
.B \-w
と
.B \-W
オプションで使用可能です。
また番号は、
.B warn
リクエストおよび
.B .warn
レジスタが使用します。
番号は、ビット合成しやすいように常に 2 の冪乗となっています。
.
.P
.TS
tab(@), center, box;
c c c | c c c
r rI lB | r rI lB.
ビット@コード@警告@ビット@コード@警告
_
0@1@char@10@1024@reg
1@2@number@11@2048@tab
2@4@break@12@4096@right-brace
3@8@delim@13@8192@missing
4@16@el@14@16384@input
5@32@scale@15@32768@escape
6@64@range@16@65536@space
7@128@syntax@17@131072@font
8@256@di@18@262144@ig
9@512@mac@19@524288@color
.TE
.
.P
.nr x \w'\fBright-brace'+1n+\w'00000'u
.ta \nxuR
.
.TP \nxu+3n
.BR break "\t4"
行詰めモードにおいて、行を分割できなかったため、
行の長さよりも短くなりました。
.
これはデフォルトで有効です。
.
.TP
.BR char "\t1"
存在しない文字です。
.
これはデフォルトで有効です。
.
.TP
.BR color "\t524288"
色に関する警告です。
.
.TP
.BR delim "\t8"
閉じる方のデリミタがないか、もしくはマッチしませんでした。
.
.TP
.BR di "\t256"
現在転換がないにもかかわらず、引数なしで
.B di
や
.B da
を使用しました。
.
.TP
.BR el "\t16"
対応する
.B ie
リクエストのない、
.B el
リクエストです。
.
.TP
.BR escape "\t32768"
認識できないエスケープシーケンスです。
.
認識できないエスケープシーケンスがあった場合は、
そのエスケープ文字は無視されます。
.
.TP
.BR font "\t131072"
存在しないフォントです。
.
これはデフォルトで有効です。
.
.TP
.BR ig "\t262144"
.B ig
リクエストによって無視されたテキストの中にある、不正なエスケープです。
.
これらは、無視されたテキストの中でなければエラーとなっているものです。
.
.TP
.BR input "\t16384"
不正な入力文字です。
.
.TP
.BR mac "\t512"
未定義の文字列、マクロ、転換を使用しました。
.
未定義の文字列、マクロ、転換を使用した場合、
その文字列は自動的に空に定義されます。
.
このため多くの場合、各名前に対する警告は、たかだか 1 回だけです。
.
.TP
.BR missing "\t8192"
必要な引数が足りないリクエストです。
.
.TP
.BR number "\t2"
不正な数式です。
.
これはデフォルトで有効です。
.
.TP
.BR range "\t64"
引数が範囲を越えています。
.
.TP
.BR reg "\t1024"
未定義の数値レジスタを使用しました。
.
未定義の数値レジスタを使用した場合、
そのレジスタは自動的に値 0 に定義されます。
.
このため多くの場合、特定の名前に対する警告は、たかだか 1 回だけです。
.
.TP
.BR right-brace "\t4096"
数字が期待される場所で
.B \[rs]}
が使用されました。
.
.TP
.BR scale "\t32"
意味のないスケールインジゲータです。
.
.TP
.BR space "\t65536"
リクエストもしくはマクロとそれらの引数との間に空白がありません。
.
この警告は、最初の 2 文字が定義された名前であるような、
2 文字より長い未定義の名前があった場合に起こります。
.
この時、リクエストもしくはマクロは起動されません。
.
この警告が発せられる時、どのようなマクロも自動的には定義されません。
.
これはデフォルトで有効です。
.
この警告は互換モードでは起こりません。
.
.TP
.BR syntax "\t128"
数式中に疑わしい文法があります。
.
.TP
.BR tab "\t2048"
タブ文字の使い方が不適切です。
数字が期待される場所でタブを使用したか、
またはクォートされていないマクロの引数中でタブ文字を使用しました。
.
.P
警告のグループを指定する名前もあります:
.
.TP
.B all
.BR di ,
.BR mac ,
.BR reg
を除くすべての警告を指定します。
これは、伝統的なマクロパッケージを使用する際に有用な警告の
すべてをカバーするよう意図されています。
.
.TP
.B w
すべての警告を指定します。
.
.
.\" --------------------------------------------------------------------
.SH 環境変数
.\" --------------------------------------------------------------------
.
.TP
.SM
.B GROFF_TMAC_PATH
マクロファイルを検索すべきディレクトリ名の、コロン区切りのリストです。
.B troff
は、それらの前に
.B \-M
オプションで指定されたディレクトリを検索し、
次に本環境変数で指定されたディレクトリ、最後に標準のディレクトリ
(現在のディレクトリ (安全でないモードの場合)、ホームディレクトリ、
.BR /usr/share/tmac ,
.BR /usr/share/tmac ,
.BR /usr/share/tmac )
を検索します。
.
.TP
.SM
.B GROFF_TYPESETTER
デフォルトの出力デバイス。
.
.TP
.SM
.B GROFF_FONT_PATH
.BI dev name
ディレクトリを検索すべきディレクトリ名の、コロン区切りのリストです。
.B troff
は、まず
.B \-F
オプションで指定されたディレクトリを検索し、次に本環境変数で指定された
ディレクトリ、最後に標準のディレクトリ (
.RB ( /usr/share/groff_font ,
.BR /usr/share/groff_font ,
.BR /usr/share/groff_font )
を検索します。
.
.
.\" --------------------------------------------------------------------
.SH 関連ファイル
.\" --------------------------------------------------------------------
.
.Tp \w'/usr/share/groff_font/devname/DESC'u+3n
.B /usr/share/tmac/troffrc
初期化ファイル (他のマクロパッケージの前に呼び出されます)
.
.TP
.B /usr/share/tmac/troffrc-end
初期化ファイル (他のマクロパッケージの後に呼び出されます)
.
.TP
.BI /usr/share/tmac/ name .tmac
.TQ
.BI /usr/share/tmac/tmac. name
マクロファイル
.
.TP
.BI /usr/share/groff_font/dev name /DESC
デバイス
.IR name
用のデバイス記述ファイル
.
.TP
.BI /usr/share/groff_font/dev name / F
デバイス
.IR name
のフォント
.I F
用のフォント記述ファイル
.P
.B troffrc
と
.B troffrc-end
は、セキュリティのためデフォルトでは (
.B \-U
オプションが指定されていても) 現在のディレクトリと
ホームディレクトリのどちらからも検索されない事に注意してください。
.
必要な場合は、
.B \-M
コマンドラインオプションもしくは
.B GROFF_TMAC_PATH
環境変数を使用することで、これらのディレクトリを検索パスに加えられます。
.
.
.\" --------------------------------------------------------------------
.SH 作者
.\" --------------------------------------------------------------------
.
Copyright (C) 1989, 2001, 2002 Free Software Foundation, Inc.
.
.P
この文書は、FDL (GNU Free Documentation License) バージョン 1.1 か
それ以降のものに基づいて配布されています。
.
あなたは、システム上に FDL のコピーを受け取っているはずですが、
これは
.URL http://www.gnu.org/copyleft/fdl.html "GNU copyleft site"
からもオンラインで入手可能です。
この文書は James Clark によって書かれ、
.MTO wl@gnu.org "Werner Lemberg"
と
.MTO bwarken@mayn.de "Bernd Warken"
によって修正されました。
.
.P
この文書は GNU の roff ディストリビューションである
.IR groff
の一部です。
.
.
.\" --------------------------------------------------------------------
.SH 関連項目
.\" --------------------------------------------------------------------
.
.TP
.BR groff (1)
.I groff
システムの主要プログラムです。
これは
.IR troff
を包むラッパとなっています。
.
.TP
.BR groff (7)
.I groff
言語の説明です。
これには、素の
.IR groff
の持つすべての定義済みのリクエスト、レジスタ、エスケープについての
簡潔ですが完全なリファレンスが含まれています。
コマンドラインからは、以下のように呼び出します。
.RS
.IP
.B man 7 groff
.RE
.
.TP
.BR \%groff_diff (7)
.I groff
言語と
.I 古典的な troff
言語の違いです。
.
現在のところ、これが
.I groff
システムで実際の文書そのものです。
.
.TP
.BR roff (7)
.I groff
や他の
.I roff
システムの概要です。
これにはさらなる関連文書へのポインタも含まれています。
.
.P
.I groff info
.IR ファイル
(
.BR info (1)
を参照) は、1 文書で groff のすべての説明をしています。
.
.
.\" --------------------------------------------------------------------
.\" Emacs variables
.\" --------------------------------------------------------------------
.
.\" Local Variables:
.\" mode: nroff
.\" End:
