<!--
     The FreeBSD Italian Documentation Project

     $FreeBSD$
     Original revision: 1.186
-->

<chapter id="x11">
  <chapterinfo>
    <authorgroup>
      <author>
        <firstname>Ken</firstname>

        <surname>Tom</surname>

        <contrib>Aggiornato per l'X11 server di X.Org da </contrib>
      </author>

      <author>
        <firstname>Marc</firstname>

        <surname>Fonvieille</surname>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>L'X Window System</title>

  <sect1 id="x11-synopsis">
    <title>Sinossi</title>

    <para>FreeBSD usa X11 per fornire agli utenti una potente
      interfaccia grafica.  X11 &egrave; una implementazione gratuita dell'X
      Window System che &egrave; stata implementata sia in <application>
      &xorg;</application> che in <application>&xfree86;</application> (ed
      altri pacchetti di software che qui non menzioneremo).
      Le versioni di &os; fino alla &os;&nbsp;5.2.1-RELEASE inclusa
      troveranno come installazione di default <application>&xfree86;</application>,
      il server X11 rilasciato dal Progetto &xfree86;.  A partire da &os;&nbsp;5.3-RELEASE,
      la versione di default ed ufficiale &egrave; stata cambiata 
      in <application>&xorg;</application>,
      il server X11 sviluppato dalla Fondazione X.Org sotto una licenza
      molto simile a quella usata da &os;.  Sono disponibili per &os;
      anche X server commerciali.</para>

    <para>Questo capitolo copre l'installazione e la
      configurazione di X11 con enfasi su <application>&xorg;</application>
      release &xorg.version;.  Per ulteriori
      informazioni sulla configurazione di <application>&xfree86;</application>
      (ad esempio su vecchie release di &os; dove 
      <application>&xfree86;</application>
      era la distribuzione di default di X11) o release precedenti di
      <application>&xorg;</application> &egrave; sempre possibile riferirsi alla
      versione archiviata del Manuale di &os; consultabile a questo indirizzo
      <ulink url="http://docs.FreeBSD.org/doc/"></ulink>.</para>

    <para>Per maggiori informazioni sull'hardware video che X11 supporta,
      controlla il sito web <ulink url="http://www.x.org/">&xorg;</ulink>.</para>

    <para>Dopo aver letto questo capitolo, conoscerai:</para>

    <itemizedlist>
      <listitem>
        <para>I diversi componenti dell'X Window system, e come
          questi cooperano.</para>
      </listitem>

      <listitem>
        <para>Come installare e configurare X11.</para>
      </listitem>

      <listitem>
        <para>Come installare ed usare diversi window manager.</para>
      </listitem>

      <listitem>
        <para>Come usare i font &truetype; in X11.</para>
      </listitem>

      <listitem>
        <para>Come impostare il tuo sistema per il login grafico (
          <application>XDM</application>).</para>
      </listitem>
    </itemizedlist>

    <para>Prima di leggere questo capitolo, dovresti:</para>

    <itemizedlist>
      <listitem>
        <para>Sapere come installare del software di terze parti (<xref
          linkend="ports">).</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="x-understanding">
    <title>Capire X</title>

    <para>Usare X per la prima volta pu&ograve; essere talvolta scioccante per
      quelli che hanno familiarit&agrave; con altri ambienti grafici, come
      &microsoft.windows; e &macos;.</para>

    <para>Seppure non sia necessario capire tutti i dettagli dei diversi
      componenti di X e come interagiscono, tuttavia una qualche conoscenza di
      base rende possibile avvantaggiarsi delle funzionalit&agrave; di X.</para>

    <sect2>
      <title>Perch&egrave; X?</title>

      <para>X non &egrave; il primo window manager scritto per &unix;, ma
        &egrave; il pi&ugrave; popolare.
        Il gruppo di sviluppo originale di X aveva gi&agrave; lavorato ad un
        altro sistema grafico prima di scrivere X.  Il nome di quel sistema era
        <quote>W</quote> (per <quote>Window</quote>).  X era semplicemente
        la lettera seguente nell'alfabeto Romano.</para>

      <para>X pu&ograve; essere chiamato <quote>X</quote>, <quote>X Window
        System</quote>, <quote>X11</quote>, e in altri modi.  Chiamare X11
        <quote>X Windows</quote> potrebbe dare fastidio a della gente; per
        ulteriori dettagli su questo, consulta &man.X.7;.</para>
    </sect2>

    <sect2>
      <title>Il modello client/server di X</title>

      <para>X &egrave; stato progettato fin dall'inizio per essere incentrato
        sulla rete ed adotta un modello <quote>client-server</quote>.</para>

      <para>Nel modello di X, il <quote>server X</quote> funziona sul computer
        che ha tastiera, monitor e mouse attaccati.  Il server &egrave;
        responsabile di operazioni come il controllo del display, la gestione
        dell'input dalla tastiera e dal mouse, e di altri dispositivi
        di input o di output (es. una <quote>tavoletta</quote> pu&ograve; essere
        usata come dispositivo di input, e un proiettore video pu&ograve;
        essere un dispositivo di output alternativo).  Ogni applicazione X (come
        <application>XTerm</application>, o
        <application>&netscape;</application>)
        &egrave; un <quote>client</quote>.  Un client spedisce messaggi al
        server come <quote>Per favore disegna una finestra a queste
        coordinate</quote>, e il server risponde con messaggi quali
        <quote>L'utente ha appena premuto il bottone OK</quote>.</para>

      <para>In una casa o in un piccolo ufficio, il server X e i client X 
        di solito funzioneranno sullo stesso computer.  
        Ad ogni modo, &egrave; perfettamente possibile far funzionare
        il server X su un desktop meno potente, e far funzionare le applicazioni
        X (i client) su di una potente e costosa macchina che serve l'ufficio.
        In questo scenario le comunicazioni tra il client X e il server hanno
        luogo attraverso la rete.</para>

      <para>Questo confonde certa gente, perch&egrave; la terminologia di X
        &egrave; proprio l'opposto di quello che ci si possa aspettare di
        solito.
        Normalmente ci si aspetta che il <quote>server X</quote> sia la grossa e
        potente macchina in fondo alla sala, e il <quote>client X</quote> sia la
        macchina sulla propria scrivania.</para>

      <para>&Egrave; importante ricordare che il server X &egrave; 
        la macchina con il monitor e la
        tastiera, e i client X sono i programmi che mostrano le
        finestre.</para>

      <para>Non c'&egrave; nulla nel protocollo che obbliga la macchina client e
        quella server ad utilizzare lo stesso sistema operativo, oppure a
        funzionare sullo stesso tipo di computer.  &Egrave; certamente possibile
        far funzionare un server X su &microsoft.windows; o &macos; di Apple, e
        ci sono diverse applicazioni free o commerciali che fanno esattamente
        questo.</para>
    </sect2>

    <sect2>
      <title>Il Window Manager</title>

      <para>La filosofia di design di X &egrave; molto simile a quella di
        &unix; <quote>strumenti, non regole</quote>.
        Questo significa che X non prova
        a dire come una azione debba essere compiuta.  Invece, vengono forniti
        degli strumenti all'utente, ed &egrave; quindi responsabilit&agrave;
        dell'utente decidere come usare questi strumenti.</para>

      <para>Questa filosofia si estende al fatto che X non dice come le
        finestre debbano comparire sullo schermo, n&eacute; come queste debbano
        essere spostate con il mouse, n&eacute; quali tasti servano per muoversi
        attraverso le finestre (ad esempio, <keycombo action="simul">
          <keycap>Alt</keycap>
          <keycap>Tab</keycap>
        </keycombo>, nel caso di &microsoft.windows;), n&eacute; che aspetto
        devono avere
        le barre sopra ogni finestra, se queste hanno o meno bottoni di
        chiusura, e cos&igrave; via.</para>

      <para>Al contrario X delega questa responsabilit&agrave; ad una
        applicazione
        chiamata <quote>Window Manager</quote>.  Ci sono dozzine di window
        manager disponibili per X; <application>AfterStep</application>,
        <application>Blackbox</application>, <application>ctwm</application>,
        <application>Enlightenment</application>,
        <application>fvwm</application>, <application>Sawfish</application>,
        <application>twm</application>, <application>Window
        Maker</application>, ed altri.  Ciascuno di questi window manager
        fornisce un diverso aspetto ed ambiente; alcuni di questi supportano i
        <quote>virtual desktop</quote>; alcuni consentono di avere delle
        combinazioni di tasti predefinite per gestire il desktop; altri hanno
        un pulsante <quote>Start</quote> o simile; altri possono avere dei
        <quote>temi</quote>, permettendo un cambio completo di aspetto e
        funzionalit&agrave; applicando un nuovo tema.  Questi window manager, e
        molti altri,
        sono disponibili nella categoria <filename>x11-wm</filename>
        dei Port.</para>

      <para>Inoltre, i desktop environments <application>KDE</application>
        e <application>GNOME</application> hanno tutti e due il proprio
        window manager che si integra con il desktop.</para>

      <para>Ciascun window manager inoltre ha a un proprio meccanismo di
        configurazione; alcuni si aspettano di avere un file di configurazione
        scritto a mano, altri hanno delle interfacce grafiche per molti dei
        compiti di configurazione; almeno uno
        (<application>Sawfish</application>) ha un file di configurazione
        scritto in un dialetto del linguaggio Lisp.</para>

      <note>
        <title>Regole di fuoco</title>

        <para>Un'altra caratteristica per la quale il window manager deve avere
          responsabilit&agrave; &egrave; la cosiddetta <quote>focus
            policy</quote>, o Regola di fuoco.
          Ogni sistema a finestre necessita di un modo per scegliere
          la finestra che deve essere attiva e che deve ricevere le
          comunicazioni da tastiera, e dovrebbe anche indicare in modo visibile
          quale finestra &egrave; attiva in un determinato momento.</para>

        <para>Una Focus policy familiare &egrave; chiamata
          <quote>click-to-focus</quote>.  Questo &egrave; il modello
          utilizzato da &microsoft.windows;, nel quale una finestra
          diventa attiva dopo aver ricevuto un click del mouse.</para>

        <para>X non supporta alcuna focus policy particolare.  &Egrave; invece
          il Window Manager che controlla quale finestra &egrave; attiva in
          un determinato momento.  Diversi Window manager supporteranno
          diversi metodi di focus.  Tutti supportano il click-to-focus,
          e la maggioranza di questi ne supporta molti altri.</para>

        <para>Le regole di fuoco pi&ugrave; popolari sono:</para>

        <variablelist>
          <varlistentry>
            <term>focus-follows-mouse (o fuoco-segue-mouse)</term>

            <listitem>
              <para>La finestra su cui si trova il puntatore &egrave; quella
                che riceve il fuoco.  Questa potrebbe non essere
                necessariamente la finestra che si trova davanti a tutte
                le altre.  Il fuoco cambia se si punta un'altra
                finestra, e non c'&egrave; bisogno di fare click con il
                mouse.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>sloppy-focus</term>

            <listitem>
              <para>Questa policy &egrave; una piccola estensione della
                focus-follows-mouse.  Con focus-follows-mouse, se il mouse
                viene mosso sulla finestra principale (o sullo sfondo), allora
                nessuna finestra avr&agrave; il fuoco, e la pressione di un
                tasto verr&agrave; semplicemente ignorata.  Con sloppy-focus, il
                fuoco &egrave; solamente cambiato quando il cursore entra in
                una nuova finestra, e non quando si esce dalla finestra
                corrente.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>click-to-focus</term>

            <listitem>
              <para>La finestra attiva &egrave; scelta dal click del mouse.  La
                finestra potrebbe essere allora <quote>alzata</quote>, ed
                apparire davanti alle altre finestre.  Tutte le pressioni dei
                tasti saranno da quel momento dirette a questa finestra,
                anche se il cursore viene spostato su un'altra
                finestra.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Molti window manager supportano altre policy, come possono
          avere variazioni sul tema.  Per maggiori informazioni vi preghiamo
          di consultare la documentazione stessa del window manager.</para>
      </note>
    </sect2>

    <sect2>
      <title>I Widget</title>

      <para>L'approccio di X di fornire strumenti e non regole si estende
        anche ai widget visti sullo schermo in ogni applicazione.</para>

      <para><quote>Widget</quote> &egrave; un termine usato per tutte quelle
        parti nell'interfaccia utente che possono essere cliccate o manipolate
        in un certo modo; bottoni, checkboxes, radio buttons, icone, liste, e
        cos&igrave; via.  &microsoft.windows; li chiama
        <quote>controlli</quote>.</para>

      <para>Sia &microsoft.windows; che Apple &macos; hanno delle regole strette
        per i widget.  Gli sviluppatori devono assicurarsi che tutte le loro
        applicazioni condividano lo stesso stile e lo stesso aspetto.
        Con X, non si &egrave; sentito un particolare bisogno di 
        obbligare ad avere un particolare stile grafico, o settare widgets a cui
        aderire.</para>

      <para>Come risultato, non aspettatevi che le applicazioni per X abbiano
        lo stesso stile e lo stesso aspetto.  Ci sono alcuni widgets 
        popolari e le loro variazioni, come l'originale Athena sviluppato dal
        MIT, <application>&motif;</application> (dal quale &egrave; stato
        modellato il
        widget presente su &microsoft.windows;, tutti angoli a doppio livello e
        tre sfumature di grigio), <application>OpenLook</application>, ed
        altri.</para>

      <para>Molte applicazioni nuove di X di oggi usano un widget con
        sembianze moderne, probabilmente Qt, usato da
        <application>KDE</application>, o GTK+,
        usato da <application>GNOME</application>.  Rispetto a questo,
        c'&egrave; un accenno di convergenza nell'aspetto dei desktop UNIX,
        il che facilita le cose ai nuovi utenti.</para>
    </sect2>
  </sect1>

  <sect1 id="x-install">
    <title>Installazione di X11</title>

    <para><application>&xorg;</application> &egrave; l'implementazione di
      default di X11 per &os;.  <application>&xorg;</application> &egrave;
      l'implementazione
      dell'X server dell'X Window System rilasciato dalla Fondazione X.Org.
      <application>&xorg;</application> &egrave; basato sul codice di
      <application>&xfree86&nbsp;4.4RC2</application> e X11R6.6.
      La versione di <application>&xorg;</application> disponibile al momento
      nella Collezione dei Ports &egrave; &xorg.version;.</para>

    <para>Per compilare ed installare <application>&xorg;</application> dalla
      Collezione dei Ports digita:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/x11/xorg</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

    <note>
      <para>Per compilare <application>&xorg;</application> nella sua interezza,
        accertati di avere almeno 4&nbsp;GB di spazio libero disponibile.</para>
    </note>

    <para>In alternativa, X11 pu&ograve; essere installato direttamente dai
      pacchetti.
      Per X11 sono disponibili anche pacchetti binari da usare con
      &man.pkg.add.1;.
      Quando si usa il download da remoto di &man.pkg.add.1;, il numero di
      versione deve essere rimosso.  &man.pkg.add.1; scaricher&agrave;
      automaticamente l'ultima versione dell'applicazione.</para>

    <para>Quindi per scaricare ed installare il pacchetto di
      <application>&xorg;</application>, semplicemente digita:</para>

    <screen>&prompt.root; <userinput>pkg_add -r xorg</userinput></screen>

    <note>
      <para>Gli esempi sopra riportati installeranno la distribuzione completa
        di X11 inclusi i server, i client, i font  etc.  Sono anche disponibili
        pacchetti e port separati di X11.</para>
    </note>

    <para>Il resto del capitolo spiegher&agrave; come configurare X11 e come
      impostare un desktop enviroment produttivo</para>
  </sect1>

  <sect1 id="x-config">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Christopher</firstname>

          <surname>Shumway</surname>

          <contrib>Grazie al contributo di </contrib>
        </author>
      </authorgroup>
    </sect1info>

    <title>La Configurazione di X11</title>

    <indexterm><primary>&xorg;</primary></indexterm>
    <indexterm><primary>X11</primary></indexterm>

    <sect2>
      <title>Prima di Partire</title>

      <para>Prima di configurare X11 &egrave; necessario avere le 
        seguenti informazioni sul sistema:</para>

      <itemizedlist>
        <listitem>
          <para>Specifiche del Monitor</para>
        </listitem>

        <listitem>
          <para>Chipset della Scheda Video</para>
        </listitem>

        <listitem>
          <para>Memoria della Scheda Video</para>
        </listitem>
      </itemizedlist>

      <indexterm><primary>horizontal scan rate</primary></indexterm>
      <indexterm><primary>vertical scan rate</primary></indexterm>

      <para>Le specifiche del monitor sono usate da X11 per determinare
        la risoluzione ed il refresh rate ai quali girare.  Queste specifiche
        possono essere di solito ottenute dalla documentazione che &egrave;
        arrivata con il monitor o dal sito web del produttore.
        Ci sono i due intervalli di numeri di cui &egrave; necessario
        conoscere il valore, l'horizontal scan rate ed il vertical scan
        rate.</para>

      <para>Il chipset della scheda video determina quale modulo driver X11 usa
        per parlare con l'hardware grafico.  Con la maggior parte dei chipset,
        questo pu&ograve; essere determinato automaticamente, ma &egrave; ancora
        utile conoscerlo caso mai la ricerca automatica non funzioni
        correttamente.</para>

      <para>La memoria della scheda video determina la risoluzione e la
        profondit&agrave; dei colori ai quali il sistema pu&ograve; funzionare.
        &Egrave; importante conoscerlo cosicch&egrave; l'utente conosca i limiti
        del sistema.</para>
    </sect2>

    <sect2>
      <title>Configurare X11</title>

      <para>A partire dalla versione 7.3, <application>&xorg;</application>
        pu&ograve; spesso lavorare senza un file di configurazione
        particolare semplicemnte digitando al prompt:</para>

      <screen>&prompt.user; <userinput>startx</userinput></screen>

      <para>Se non funziona, o se la configurazione di default non &egrave;
        accettabile, allora X11 deve essere configurato manualmente.
        La configurazione di X11 &egrave; un processo dai molti passi.  Il primo
        passo &egrave; creare un file di configurazione iniziale.  Come super
        utente digita semplicemente:</para>

      <screen>&prompt.root; <userinput>Xorg -configure</userinput></screen>

      <para>Questo generer&agrave; uno scheletro di configurazione di X11 nella
        directory <filename>/root</filename> chiamato
        <filename>xorg.conf.new</filename> (il fatto che tu abbia fatto un
        &man.su.1; o che tu abbia fatto una login diretta determina la variabile
        ereditata <envar>$HOME</envar>).  Il programma X11 cercher&agrave; di
        determinare l'hardware grafico usato sul sistema e scriver&agrave; un
        file di configurazione per caricare i driver corretti per l'hardware
        presente sul sistema.</para>

      <para>Il prossimo passo &egrave; testare la configurazione esistente per
        verificare che <application>&xorg;</application> possa funzionare con
        l'hardware grafico sul sistema.  Per eseguire questo passo,
        digita:</para>

      <screen>&prompt.root; <userinput>Xorg -config xorg.conf.new</userinput></screen>

      <para>Se appare una griglia bianca e nera con un cursore del mouse ad X,
        la configurazione ha avuto successo.  Per uscire dal testo, premi
        <keycombo action="simul">
          <keycap>Ctrl</keycap>
          <keycap>Alt</keycap>
          <keycap>Backspace</keycap>
        </keycombo> simultaneamente.</para>

      <note>
        <para>Se il mouse non funziona, devi configurarlo prima di
          continuare.  Leggi <xref linkend="mouse"> nel capitolo di
            installazione di &os;.</para>
      </note>

      <indexterm><primary>Tuning di X11</primary></indexterm>

      <para>Quindi, fai il tuning di <filename>xorg.conf.new</filename> a
        piacere.  Apri il file in un editor come &man.emacs.1; o &man.ee.1;.
        Per prima cosa aggiungi le frequenze per il monitor del sistema.
        Queste sono di solito espresse come synchronization rate orizzontali e
        verticali.  Questi valori sono aggiunti al file
        <filename>xorg.conf.new</filename> sotto la sezione
        <literal>"Monitor"</literal>:</para>

      <programlisting>Section "Monitor"
        Identifier   "Monitor0"
        VendorName   "Monitor Vendor"
        ModelName    "Monitor Model"
        HorizSync    30-107
        VertRefresh  48-120
EndSection</programlisting>

      <para>Le parole chiave <literal>HorizSync</literal> e
        <literal>VerRefresh</literal> possono mancare sul file di
        configurazione.  Se mancano, &egrave; necessario aggiungerle con la
        corretta horizontal synchronization rate dopo la parola chiave
        <literal>HorizSync</literal> e la vertical synchronization rate dopo la
        parola chiave <literal>VertRefresh</literal>.  Nell'esempio sopra sono
        stati immessi i valori corretti per il sistema di riferimento.</para>

      <para>X permette che siano usate le feature di DPMS (Energy Star) con i
        monitor che ne dispongono.  Il programma &man.xset.1; controlla i
        timeout e pu&ograve; forzare lo standby, la sospensione o lo
        spegnimento.  Se desideri abilitare features di DPMS per il tuo
        monitor, devi aggiungere le seguenti linee alla sezione del
        monitor:</para>

      <programlisting>Option       "DPMS"</programlisting>

      <indexterm>
        <primary><filename>xorg.conf</filename></primary>
      </indexterm>

      <para>Mentre il file di configurazione <filename>xorg.conf.new</filename>
        &egrave; ancora aperto in un editor, seleziona la risoluzione di default
        e la profondit&agrave; del colore desiderata.  Questa &egrave; definita
        nella sezione <literal>"Screen"</literal>:</para>

      <programlisting>Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth 24
        SubSection "Display"
                Viewport  0 0
                Depth     24
                Modes     "1024x768"
        EndSubSection
EndSection</programlisting>

      <para>la parola chiave <literal>DefaultDepth</literal> descrive la
        profondit&agrave; dei colori da usare di default.  Questa opzione
        pu&ograve; essere sovrascritta con l'opzione da command line
        <option>-depth</option> di &man.Xorg.1;.  La parola chiave <literal>
        Modes</literal> descrive la risoluzione sotto cui girare per una data
        profondit&agrave; di colori.  Nota che solo i modi standard VESA sono
        supportati come definito dall'hardware grafico del sistema.
        Nell'esempio di prima, la risoluzione accettata &egrave; 1024 per 768
        pixels.</para>

      <para>Alla fine, scrivi il file di configurazione e testalo usando la
        modalit&agrave; test spiegata in precedenza.</para>

      <note>
        <para>Uno dei tool disponibili per assisterti durante la fase
          di risoluzione dei problemi sono i log file di X11, che contengono
          l'informazione su ogni device a cui il  server X11 si collega.
          I nomi dei log file di <application>&xorg;</application> sono
          nel formato <filename>/var/log/Xorg.0.log</filename>.  Il nome
          esatto del log pu&ograve; variare da <filename>Xorg.0.log
          </filename> a <filename>Xorg.8.log</filename> e cos&igrave;
          via.</para>
      </note>

      <para>Se &egrave; andato tutto bene, il file di configurazione deve essere
        installato in una directory dove &man.Xorg.1; possa trovarlo.  Questa
        &egrave; tipicamente <filename>/etc/X11/xorg.conf</filename> o
        <filename>/usr/local/etc/X11/xorg.conf</filename>.</para>

      <screen>&prompt.root; <userinput>cp xorg.conf.new /etc/X11/xorg.conf</userinput></screen>

      <para>Il processo di configurazione di X11 &egrave; ora completo.
        <application>&xorg;</application> pu&ograve; ora essere avviato con la
        utility &man.startx.1;.  Il server X11 pu&ograve; essere anche avviato
        con l'uso di &man.xdm.1;.</para>

      <note>
        <para>Esiste anche un tool di configurazione grafico, &man.xorgcfg.1;
          che viene distribuito con X11.  Ti permette di di definire la tua
          configurazione scegliendo i driver appropriati e le impostazioni.
          Questo programma pu&ograve; essere invocato dalla console, digitando
          <command>xorgcfg -textmode</command>.  Per ulteriori dettagli,
          consulta la pagina di manuale di &man.xorgcfg.1;.</para>

        <para>In alternativa c'&egrave; anche un tool chiamato
          &man.xorgconfig.1;.  Questo programma &egrave; una utility della
          console che &egrave; meno user friendly, ma potrebbe funzionare in
          situazioni nelle quali gli altri tool non funzionano.</para>
      </note>
    </sect2>

    <sect2>
      <title>Argomenti di Configurazione Avanzati</title>

      <sect3>
        <title>Configurazione con i Chipset Grafici &intel; i810</title>

        <indexterm><primary>Il Chipset Grafico Intel i810</primary></indexterm>

        <para>La configurazione dei chipset integrati &intel; i810 richiede
          l'interfaccia di programmazione AGP
          <devicename>agpgart</devicename>
          perch&egrave; X11 possa usare la scheda.  Consulta la pagina di
          manuale del driver &man.agp.4; per maggiori informazioni.</para>

        <para>Questo permetter&agrave; la configurazione dell'hardware come ogni
          altra scheda grafica.  Nota che su sistemi senza il driver &man.agp.4;
          compilato nel kernel, cercare di caricare il modulo con
          &man.kldload.8; non funzioner&agrave;.  Questo driver deve essere nel
          kernel al momento del boot, o compilandolo nel kernel, o usando
          <filename>/boot/loader.conf</filename>.</para>
      </sect3>

      <sect3>
        <title>Aggiungere un Flatpanel a Tutto Schermo al Mix.</title>

        <indexterm>
          <primary>configurazione del flatpanel a tutto schermo.</primary>
        </indexterm>

        <para>Questa sezione assume una conoscenza della configurazione un
          p&ograve; avanzata.  Se i tentativi di usare gli strumenti di
          configurazione standard descritti in precedenza non hanno avuto
          successo, ci sono abbastanza informazioni nei file di log utile per
          fare funzionare l'installazione.  Sar&agrave; necessario un editor
          testuale.</para>

        <para>Al momento i formati a tutto schermo (WSXGA, WSXGA+, WUXGA, WXGA,
          WXGA+, et.al.) supportano i formati 16:10 e 10:9 o frazioni
          dell'aspetto grafico che possono essere problematiche.  Esempi di
          alcune risoluzioni del monitor comuni per la frazione dell'aspetto
          grafico sono:</para>

        <itemizedlist>
          <listitem>
            <para>2560x1600</para>
          </listitem>

          <listitem>
            <para>1920x1200</para>
          </listitem>

          <listitem>
            <para>1680x1050</para>
          </listitem>

          <listitem>
            <para>1440x900</para>
          </listitem>

          <listitem>
            <para>1280x800</para>
          </listitem>
        </itemizedlist>

        <para>In futuro, questo compito sar&agrave; semplice come aggiungere
          una di queste risoluzioni come possibile <literal>Mode</literal> nella
          <literal>Section "Screen"</literal>, come viene mostrato di
          seguito:</para>

        <programlisting>Section "Screen"
      Identifier "Screen0"
      Device     "Card0"
      Monitor    "Monitor0"
      DefaultDepth 24
      SubSection "Display"
            Viewport  0 0
            Depth     24
            Modes     "1680x1050"
      EndSubSection
EndSection</programlisting>

        <para><application>&xorg;</application> &egrave; abbastanza furbo da
          ottenere le informazioni di risoluzione dal widescreen via I2C/DDC,
          cos&igrave; conosce quali formati il monitor possa gestire come
          frequenze e risoluzioni.</para>

        <para>Se quelle <literal>ModeLines</literal> non esistono nei driver,
          uno potrebbe avere necessit&agrave; di
          dare ad <application>&xorg;</application> un 
          piccolo aiuto.  Usando <filename>/var/log/Xorg.0.log</filename>
          uno pu&ograve; estrarre abbastanza informazioni da creare manualmente
          una <literal>Modeline</literal> che funziona.  Basta cercare linee
          che assomigliano a queste:</para>

        <programlisting>(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</programlisting>

        <para>Questa informazione &egrave; chiamata informazione EDID.  Creare
          una <literal>ModeLine</literal> da questa &egrave; solo questione di
          mettere i numeri nell'ordine giusto:</para>

        <programlisting>ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</programlisting>

        <para>Cos&igrave; la <literal>ModeLine</literal> nella sezione
          <literal>"Monitor"</literal> in questo esempio somiglierebbe a questa:</para>

        <programlisting>Section "Monitor"
    Identifier      "Monitor1"
    VendorName      "Bigname"
    ModelName       "BestModel"
    ModeLine        "1680x1050" 146.2 1680 1784 1960 2240 1050 1053 1059 1089
    Option          "DPMS"
EndSection</programlisting>

        <para>Adesso, dopo aver completato questi semplici passi con l'editor,
          X dovrebbe partire sul tuo monitor a tutto schermo.</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="x-fonts">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Murray</firstname>

          <surname>Stokely</surname>

          <contrib>Grazie al contributo di </contrib>
        </author>
      </authorgroup>
    </sect1info>

    <title>Usare i Font in X11</title>

    <sect2 id="type1">
      <title>Font Type1</title>

      <para>I font di default che vengono distribuite
        con X11 non sono certo ideali per il tipico
        desktop di pubblicazione.  I font grandi delle presentazioni
        appaiono confuse e non professionali, e i piccoli font
        in <application>&netscape;</application> sono quasi illeggibili.
        Comunque, ci sono molti font Type1 gratis e di alta qualit&agrave;
        (&postscript;) disponibili che possono essere usate subito con X11.
        Ad esempio la collezione dei font URW (<filename
          role="package">x11-fonts/urwfonts</filename>) include versioni di alta
        qualit&agrave; di font standard type1 (<trademark
          class="registered">Times Roman</trademark>,
        <trademark class="registered">Helvetica</trademark>,
        <trademark class="registered">Palatino</trademark> ed altre).
        La collezione Freefonts (<filename
          role="package">x11-fonts/freefonts</filename>)
        include molti altri font, ma la maggior parte di loro sono fatte per
        essere usate con software grafico come <application>Gimp</application>
        e non sono abbastanza complete per essere usate come font di schermo.
        Inoltre, X11 pu&ograve; essere configurato per usare i font &truetype;
        con un minimo sforzo.  Per ulteriori
        dettagli leggi la pagina di manuale di &man.X.7; o la
        <link linkend="truetype">sezione sui font &truetype;</link>.</para>

      <para>Per installare la collezione dei font Type1 sopra citate,
        esegui il seguente comando:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/x11-fonts/urwfonts</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>E in maniera analoga per freefont o altre collezioni.  Per fare
        s&igrave; che l'X server usi questi font, aggiungi una linea
        appropriata al file di configurazione dell'X server
        (<filename>/etc/X11/xorg.conf</filename>), simile a questa:</para>

      <programlisting>FontPath "/usr/local/lib/X11/fonts/URW/"</programlisting>

      <para>Alternativamente, alla command line in una sessione di X
        esegui:</para>

      <screen>&prompt.user; <userinput>xset fp+ /usr/local/lib/X11/fonts/URW</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>

      <para>Questo funzioner&agrave; ma sar&agrave; perso quando la sessione
        X viene chiusa, a meno che non sia aggiunto al file di startup
        (<filename>~/.xinitrc</filename> per una normale sessione
        <command>startx</command>, o <filename>~/.xsession</filename> quando ci
        si logga attraverso un
        login manager grafico come <application>XDM</application>).
        Un terzo modo &egrave; usare il nuovo file
        <filename>/usr/local/etc/fonts/local.conf</filename>: consulta la
        sezione su <link linkend="antialias">anti-aliasing</link>.</para>
    </sect2>

    <sect2 id="truetype">
      <title>&truetype; Font</title>

      <indexterm><primary>Font TrueType</primary></indexterm>
      <indexterm>
        <primary>font</primary>
        <secondary>TrueType</secondary>
      </indexterm>

      <para><application>&xorg;</application> ha il supporto nativo per rendere
        i font &truetype;.  Ci sono due differenti moduli che possono abilitare
        questa funzionalit&agrave;.   Il modulo freetype &egrave; usato in questo
        esempio perch&egrave; &egrave; pi&ugrave; consistente con gli altri
        back-end di rendering degli altri font.  Per abilitare il modulo
        freetype basta che aggiungi la seguente linea nella sezione
        <literal>"Module"</literal> del file
        <filename>/etc/X11/xorg.conf</filename>:</para>

      <programlisting>Load "freetype"</programlisting>

      <para>Adesso crea una directory per i font &truetype; (ad
        esempio <filename>/usr/local/lib/X11/fonts/TrueType</filename>)
        e copia tutte i font &truetype; in questa directory.  Ricordati
        che i font &truetype; non possono essere prese direttamente da un
        &macintosh;, devono essere in formato &unix;/&ms-dos;/&windows; per
        essere usate da X11.  Una volta che i file sono stati copiati in questa
        directory, usa il comando <application>ttmkfdir</application> per
        creare un file <filename>fonts.dir</filename>, cos&igrave; che il
        renderer di font X sappia che questi nuovi file sono stati installati.
        <command>ttmkfdir</command> &egrave; disponibile dalla Collezione dei
        Ports di FreeBSD come
        <filename role="package">x11-fonts/ttmkfdir</filename>.</para>

      <screen>&prompt.root; <userinput>cd /usr/local/lib/X11/fonts/TrueType</userinput>
&prompt.root; <userinput>ttmkfdir -o fonts.dir</userinput></screen>

      <para>Adesso aggiungi la directory &truetype; al percorso dei font.
        &Egrave; lo stesso procedimento seguito sopra per i font
        <link linkend="type1">Type1</link>, ovvero usa</para>

      <screen>&prompt.user; <userinput>xset fp+ /usr/local/lib/X11/fonts/TrueType</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>

      <para>o aggiungi una linea <literal>FontPath</literal> al file
        <filename>xorg.conf</filename>.</para>

      <para>Questo &egrave; tutto.  Adesso
        <application>&netscape;</application>,
        <application>Gimp</application>, <application>&staroffice;</application>
        e tutte le altre applicazioni X dovrebbero riconoscere i font &truetype;
        installate.  I font molto piccoli (come del testo mostrato in alta
        risoluzione su una pagina web) e font estremamente grandi (all'interno
        di <application>&staroffice;</application>) avranno un'apparenza
        molto migliore.</para>
    </sect2>

    <sect2 id="antialias">
      <sect2info>
        <authorgroup>
          <author>
            <firstname>Joe Marcus</firstname>

            <surname>Clarke</surname>

            <contrib>Aggiornato da </contrib>
          </author>
        </authorgroup>
      </sect2info>

      <title>Font Anti-Aliased</title>

      <indexterm><primary>font anti-aliased</primary></indexterm>
      <indexterm>
        <primary>font</primary>
        <secondary>anti-aliased</secondary>
      </indexterm>

      <para>L'anti-aliasing dei font &egrave; stato disponibile per X11 a
        partire da <application>&xfree86;</application> 4.0.2.  Tuttavia la
        configurazione dei font era complicata prima dell'introduzione di
        <application>&xfree86;</application> 4.3.0.  A partire da
        <application>&xfree86;</application> 4.3.0, tutte i font in X11 che sono
        trovati sotto le directory
        <filename>/usr/local/lib/X11/fonts/</filename> e
        <filename>~/.fonts/</filename> sono automaticamente resi disponibili
        per l'anti aliasing ad applicazioni con supporto per Xft.  Non tutte le
        applicazioni lo hanno, ma molte hanno ricevuto supporto per Xft.
        Esempi di applicazioni con supporto per Xft includono Qt 2.3 e
        successivi (il toolkit per il desktop <application>KDE</application>),
        GTK+ 2.0 e successivi (il toolkit per il desktop
        <application>GNOME</application>) e
        <application>Mozilla</application> 1.2 e successivi.</para>

      <para>Per controllare quali font sono anti-aliased, o per configurare
        delle propriet&agrave; anti-alias, crea (o edita, se esiste gi&agrave;)
        il file <filename>/usr/local/etc/fonts/local.conf</filename>.  Molte
        caratteristiche avanzate del sistema di font Xft possono essere
        configurate usando questo file; questa sezione descrive solo alcune
        semplici possibilit&agrave;.  Per ulteriori dettagli, consulta
        &man.fonts-conf.5;.</para>

      <indexterm><primary>XML</primary></indexterm>

      <para>Questo file deve essere in formato XML.  Presta particolare
        attenzione al case, e accertati che tutti i tag siano chiusi
        propriamente.
        Il file inizia con l'header usuale XML seguito da una definizione
        DOCTYPE, poi usa il tag <literal>&lt;fontconfig&gt;</literal>:</para>

      <programlisting>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;</programlisting>

      <para> Come ricordato in precedenza, tutti i font in
        <filename>/usr/local/lib/X11/fonts/</filename> cos&igrave; come
        quelli in <filename>~/.fonts/</filename> sono gi&agrave; resi
        disponibili alle applicazioni pronte per Xft.  Se desideri aggiungere
        un'altra directory fuori da queste due alberature di directory,
        aggiungi una linea simile a questa in
        <filename>/usr/local/etc/fonts/local.conf</filename>:</para> 

      <programlisting>&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</programlisting>

      <para>Dopo aver aggiunto i nuovi font, e specialmente nuove directory,
        dovresti eseguire questo comando per ricostruire la cache dei
        font:</para>

      <screen>&prompt.root; <userinput>fc-cache -f</userinput></screen>

      <para>L'anti-aliasing rende i bordi un p&ograve; confusi, il che rende
        il testo piccolo pi&ugrave; leggibile e rimuove le <quote>scale</quote>
        dal testo grande, ma pu&ograve; causare una cattiva visuale se applicato
        al testo normale.
        Per escludere i font di dimensione minore di 14 punti dall'anti-aliasing
        includi le seguenti linee:</para>

      <programlisting>        &lt;match target="font"&gt;
            &lt;test name="size" compare="less"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name="antialias" mode="assign"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="font"&gt;
            &lt;test name="pixelsize" compare="less" qual="any"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode="assign" name="antialias"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <indexterm>
        <primary>font</primary>
        <secondary>lo spazio</secondary>
      </indexterm>

      <para>Anche lo spazio per alcuni font a spazio singolo potrebbe essere
        inappropriato con l'anti-aliasing.  Questo pare che sia un problema
        in particolare con <application>KDE</application>.
        Una possibile soluzione a questo &egrave; forzare lo spazio di questi
        font a 100.  Aggiungi le seguenti linee:</para>

       <programlisting>       &lt;match target="pattern" name="family"&gt;
           &lt;test qual="any" name="family"&gt;
               &lt;string&gt;fixed&lt;/string&gt;
           &lt;/test&gt;
           &lt;edit name="family" mode="assign"&gt;
               &lt;string&gt;mono&lt;/string&gt;
           &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

       <para>(questo crea un alias per altri nomi comuni di font a dimensione
         fissa come <literal>"mono"</literal>), e poi aggiungi:</para>

       <programlisting>         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="spacing" mode="assign"&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;      </programlisting>

      <para>Alcuni font, come Helvetica, potrebbero avere un problema quando
        sono resi anti-alias.  In genere questo si manifesta come un font che
        sembra tagliato in verticale.  Nella peggiore delle ipotesi, questo
        potrebbe causare
        il crash delle applicazioni come <application>Mozilla</application>.
        Per evitarlo, considera di aggiungere queste linee a
        <filename>local.conf</filename>:</para>

      <programlisting>         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="family" mode="assign"&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;        </programlisting>

      <para>Quando hai finito di editare il file <filename>local.conf</filename>
        accertati di mettere alla fine del file il tag
        <literal>&lt;/fontconfig&gt;</literal>.
        Se non lo fai le tue modifiche saranno ignorate.</para>

      <para>Il set di font che viene di default con X11 non &egrave; molto
        desiderabile quando viene reso sotto anti-alias.  Un set molto migliore
        pu&ograve; essere trovato nel port
        <filename role="package">x11-fonts/bitstream-vera</filename>.
        Questo port installer&agrave; un file
        <filename>/usr/local/etc/fonts/local.conf</filename> se non esiste
        gi&agrave;.  Se il file esiste, il port creer&agrave; un file
        <filename>/usr/local/etc/fonts/local.conf-vera</filename>.  Unisci il
        contenuto di questo file in
        <filename>/usr/local/etc/fonts/local.conf</filename> e i font
        Bitstream automaticamente rimpiazzeranno le X11 Serif di default, Sans
        Serif, e Monospaced.</para>

      <para>Alla fine, gli utenti possono aggiungere le loro impostazioni
        attraverso i loro file personali <filename>.fonts.conf</filename>.
        Per farlo, ogni utente dovrebbe crearsi semplicemente un file
        <filename>~/.fonts.conf</filename>.  Anche questo
        file dovrebbe essere in formato XML.</para>

      <indexterm><primary>Screen LCD</primary></indexterm>
      <indexterm>
        <primary>Font</primary>
        <secondary>Screen LCD</secondary>
      </indexterm>

      <para>Un ultimo punto: con uno schermo LCD, potrebbe essere desiderabile
        una resa sub-pixel.  In sostanza questo tratta le componenti rosse,
        verdi e blu in modo separato per migliorare la risoluzione orizzontale;
        il risultato &egrave; notevole.  Per abilitarlo, aggiungi queste linee
        da qualche parte nel file <filename>local.conf</filename>:</para>

      <programlisting>         &lt;match target="font"&gt;
             &lt;test qual="all" name="rgba"&gt;
                 &lt;const&gt;unknown&lt;/const&gt;
             &lt;/test&gt;
             &lt;edit name="rgba" mode="assign"&gt;
                 &lt;const&gt;rgb&lt;/const&gt;
             &lt;/edit&gt;
         &lt;/match&gt;</programlisting>

      <note>
        <para>A seconda del tipo di display, <literal>rgb</literal>
          potrebbe essere cambiato in <literal>bgr</literal>,
          <literal>vrgb</literal> o <literal>vbgr</literal>: sperimenta
          e vedi quale funziona meglio.</para>
      </note>

      <indexterm>
        <primary>Mozilla</primary>
        <secondary>disabilitare i font anti-aliased</secondary>
      </indexterm>

      <para>L'anti-aliasing dovrebbe essere abilitato la prossima volta che
        il server X sar&agrave; avviato.   Comunque, i programmi devono sapere
        come avvantaggiarsene.  Al momento, il toolkit Qt lo sa, cos&igrave;
        l'intero ambiente <application>KDE</application> pu&ograve; usare font
        anti-aliased. GTK+ e <application>GNOME</application> possono essere
        rese compatibili con l'anti-aliasing attraverso il capplet
        <quote>Font</quote> (leggi <xref linkend="x11-wm-gnome-antialias"> per
        dettagli).  Di default <application>Mozilla</application> 1.2 e
        successivi sapranno come usare automaticamente l'anti-aliasing.  Per
        disabilitarlo, ricompila <application>Mozilla</application> con il flag
        <makevar>DWITHOUT_XFT</makevar>.</para>
    </sect2>
  </sect1>

  <sect1 id="x-xdm">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Seth</firstname>

          <surname>Kingsley</surname>

          <contrib>Grazie al contributo di </contrib>
        </author>
      </authorgroup>
    </sect1info>

    <title>L'X Display Manager</title>

    <sect2>
      <title>Overview</title>

      <indexterm><primary>X Display Manager</primary></indexterm>

      <para>L'X Display Manager (<application>XDM</application>)
        &egrave; una parte opzionale dell'X Windows System che &egrave;
        usata per la gestione delle sessioni di login.  Questo
        &egrave; utile in molte situazioni, inclusi desktop <quote>X Terminal
        </quote> minimali, e grandi reti di display server.  Dato che
        l'X Window System &egrave; indipendente dalla rete e dal protocollo,
        c'&egrave; una grande moltitudine di configurazioni possibili per
        eseguire client X e server X su diverse macchine connesse da una rete.
        <application>XDM</application> fornisce un'interfaccia grafica per
        scegliere a quale display manager collegarsi, e digitare le informazioni
        di autenticazione come una combinazione di login e password.</para>

      <para>Puoi pensare a <application>XDM</application> come a qualcosa
        che fornisce all'utente la stessa funzionalit&agrave; dell'utility
        &man.getty.8; (vedi ad esempio <xref linkend="term-config"> per
          dettagli).   In poche parole, gestisce login di sistema al display al
          quale si &egrave; collegati e quindi esegue un session manager per
          conto dell'utente (di solito un X Window Manager).
          <application>XDM</application> quindi attende che questo
          programma termini, segnalando che l'utente ha finito e che dovrebbe
          essere mandato fuori dal display.  A questo punto
          <application>XDM</application>
          pu&ograve; mostrare lo schermo di login e di scelta degli schermi per
          il prossimo utente.</para>
    </sect2>

    <sect2>
      <title>Usare XDM</title>

      <para>Il programma demone &egrave; situato in
        <filename>/usr/local/bin/xdm</filename>.  Questo programma
        pu&ograve; essere avviato in ogni istante come <username>root</username>
        e inizier&agrave; a gestire il display X
        sulla macchina locale.  Se <application>XDM</application>
        deve essere eseguito ogni volta che la macchina fa il boot,
        un modo conveniente &egrave; quello di farlo aggiungendo una entry
        a <filename>/etc/ttys</filename>.  Per maggiori informazioni sul formato
        e l'uso di questo file, consulta <xref linkend="term-etcttys">.
        C'&egrave; una linea nel file di default <filename>/etc/ttys</filename>
        per eseguire il demone <application>XDM</application> su un terminale
        virtuale:</para>

      <screen>ttyv8   "/usr/local/bin/xdm -nodaemon"  xterm   off secure</screen>

      <para>Di default questa entry &egrave; disabilitata; al fine di abilitarla
        cambia il campo 5 da <literal>off</literal> ad <literal>on</literal> e
        riavvia &man.init.8; usando le direttive in <xref linkend="term-hup">.
        Il primo campo, il nome del terminale che questo programma
        gestir&agrave;, &egrave; <literal>ttyv8</literal>.  Questo significa che
        <application>XDM</application> si avvier&agrave; sul nono terminale
        virtuale.</para>
    </sect2>

    <sect2>
      <title>Configurare XDM</title>

      <para>La directory di configurazione di <application>XDM</application>
        &egrave; situata in <filename>/usr/local/lib/X11/xdm</filename>.  In
        questa directory ci sono molti file usati per cambiare il
        comportamento e l'aspetto di <application>XDM</application>.
        Tipicamente in questi file sar&agrave; trovato:</para>

      <informaltable frame="none" pgwide="1">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>File</entry>

              <entry>Descrizione</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><filename>Xaccess</filename></entry>

              <entry>Regole di  autorizzazione del client.</entry>
            </row>

            <row>
              <entry><filename>Xresources</filename></entry>

              <entry>Valori di default delle risorse X.</entry>
            </row>

            <row>
              <entry><filename>Xservers</filename></entry>

              <entry>Lista dei display locali e remoti da gestire.</entry>
            </row>

            <row>
              <entry><filename>Xsession</filename></entry>

              <entry>Script di default delle sessioni di login.</entry>
            </row>

            <row>
              <entry><filename>Xsetup_</filename>*</entry>

              <entry>Script per lanciare applicazioni prima
                dell'interfaccia di login.</entry>
            </row>

            <row>
              <entry><filename>xdm-config</filename></entry>

              <entry>Configurazione globale per tutti i display che
                girano su questa macchina.</entry>
            </row>

            <row>
              <entry><filename>xdm-errors</filename></entry>

              <entry>Errori generati dal programma server.</entry>
            </row>

            <row>
              <entry><filename>xdm-pid</filename></entry>

              <entry>L'id di processo dell'XDM che &egrave; in esecuzione
                al momento.</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>In questa directory ci sono anche alcuni scripts e programmi usati
        per impostare il desktop quando <application>XDM</application>
        &egrave; in esecuzione.  Lo scopo di ognuno di questi file sar&agrave;
        descritto brevemente.  La sintassi esatta e l'uso di tutti questi file
        &egrave; descritto in &man.xdm.1;.</para>

      <para>La configurazione di default &egrave; una semplice finestra di login
        rettangolare con l'hostname della macchina mostrato in cima a grandi
        caratteri e sotto un prompt di <quote>Login:</quote> e
        <quote>Password:</quote>.  Questo
        &egrave; un buon punto di inizio per cambiare l'aspetto degli schermi
        <application>XDM</application>.</para>

      <sect3>
        <title>Xaccess</title>

        <para>Il protocollo per connettersi ai display controllati da
          <application>XDM</application> &egrave; chiamato l'X Display
          Manager Connection Protocol (XDMCP).  Questo file &egrave;
          un insieme di regole per controllare le connessioni XDMCP da
          remoto.  &Egrave; ignorato a meno che <filename>xdm-config</filename>
          sia cambiato per restare in ascolto di connessioni remote.  Di default
          non permette a nessun client di connettersi.</para>
      </sect3>

      <sect3>
        <title>Xresources</title>

        <para>Questa &egrave; un file di default dell'applicazione per il
          selettore di display e schermate di login.  In questo, l'apparenza
          del programma di login pu&ograve; essere modificata.  Il formato
          &egrave; identico al file app-default descritto nella documentazione
          di X11.</para>
      </sect3>

      <sect3>
        <title>Xservers</title>

        <para>Questo &egrave;  una lista dei display remoti che il programma di
          selezione dovrebbe fornire come scelta.</para>
      </sect3>

      <sect3>
        <title>Xsession</title>

        <para>Questo &egrave; lo script di default delle sessioni
          per <application>XDM</application> da eseguire dopo che un utente
          si &egrave; loggato.  Normalmente ogni utente avr&agrave; uno script
          di sessione personalizzato in <filename>~/.xsession</filename> che
          sovrascriver&agrave; questo script.</para>
      </sect3>

      <sect3>
        <title>Xsetup_*</title>

        <para>Questi andranno automaticamente in esecuzione prima di
          mostrare il selettore o le interfacce di login.  C'&egrave; uno
          script per ogni display in uso, chiamato <filename>Xsetup_</filename>
          seguito dal numero del display locale (per esempio
          <filename>Xsetup_0</filename>).  Tipicamente questi script
          eseguirannno uno o due programmi in background come
          <command>xconsole</command>.</para>
      </sect3>

      <sect3>
        <title>xdm-config</title>

        <para>Questo contiene le impostazioni nella forma di default di
          applicazioni che sono applicabili ad ogni display che questa
          installazione gestisce.</para>
      </sect3>

      <sect3>
        <title>xdm-errors</title>

        <para>Questo contiene l'output di ogni X server che
          <application>XDM</application> cerca di eseguire.  Se un display che
          <application>XDM</application> gestisce si blocca
          per qualche motivo, questo &egrave; un buon posto per cercare
          messaggi di errore.  Questi stessi messaggi sono anche scritti nel
          file dell'utente <filename>~/.xsession-errors</filename> in base alla
          sessione.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Eseguire un Network Display Server</title>

      <para>Affinch&egrave; gli altri clienti si connettano al server di
        display, devi editare le regole di controllo degli accessi ed abilitare
        il processo in ascolto di connessioni.  Di default queste sono
        impostate a valori conservativi.  Per far s&igrave; che
        <application>XDM</application> resti in ascolto in attesa di
        connessioni, per prima cosa decommenta una linea nel file
        <filename>xdm-config</filename>:</para>

      <screen>! SECURITY: do not listen for XDMCP or Chooser requests
! Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</screen>

      <para>e poi riavvia <application>XDM</application>.  Ricordati che i
        commenti nei file app-default iniziano con un carattere
        <quote>!</quote>, non con l'usuale <quote>#</quote>.  Possono essere
        desiderabili controlli degli acccessi pi&ugrave; stretti &mdash; guarda
        le entry di esempio in <filename>Xaccess</filename>, e
        fai riferimento alla pagina di manuale di &man.xdm.1; per ulteriori
        informazioni.</para>
    </sect2>

    <sect2>
      <title>Programmi sostitutivi per XDM</title>

      <para>Ci sono molti programmi sostitutivi per il classico programma
        <application>XDM</application>.  Uno di questi, <application>kdm
        </application> (distribuito con <application>KDE</application>) viene
        descritto successivamente in questo capitolo.  Il display manager
        <application>kdm</application> offre molti miglioramenti visuali
        e rifiniture grafiche, come anche la possibilit&agrave; di
        permettere agli utenti di scegliere il loro window manager al momento
        del login.</para>
    </sect2>
  </sect1>

  <sect1 id="x11-wm">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Valentino</firstname>

          <surname>Vaschetto</surname>

          <contrib>Grazie al contributo di </contrib>
        </author>
      </authorgroup>
    </sect1info>

   <title>Desktop Environment</title>

    <para>Questa sezione descrive alcuni diversi desktop environment
      disponibili per X su FreeBSD. Un <quote>desktop
      environment</quote> pu&ograve; significare tutto ci&ograve; che va
      da un semplice window manager ad una completa suite di applicazioni
      desktop, come <application>KDE</application> o
      <application>GNOME</application>.</para>

    <sect2 id="x11-wm-gnome">
      <title>GNOME</title>

      <sect3 id="x11-wm-gnome-about">
        <title>A proposito di GNOME</title>

        <indexterm><primary>GNOME</primary></indexterm>

        <para><application>GNOME</application> &egrave; un desktop
          environment user-friendly che permette agli utenti di usare
          semplicemente il loro computer e configurarlo.
          <application>GNOME</application> include un pannello (per avviare le
          applicazioni e mostrarne lo status), un desktop (dove dati ed
          applicazioni possono essere posti),
          un insieme di strumenti da desktop ed applicativi, ed un insieme di
          convenzioni che rendono semplice per le applicazioni la cooperazione e
          la consistenza reciproca.  Gli utenti di altri sistemi operativi o
          environment dovrebbero sentirsi a casa loro usando il potente
          ambiente grafico che <application>GNOME</application> offre.
          Ulteriori informazioni a proposito di
          <application>GNOME</application> su FreeBSD possono essere trovate
          sul sito <ulink
            url="http://www.FreeBSD.org/gnome">FreeBSD GNOME Project</ulink>.
          Il sito web contiene anche delle FAQ abbastanza estese circa
          l'installazione, la configurazione, e la gestione di
          <application>GNOME</application>.</para>
      </sect3>

      <sect3 id="x11-vm-gnome-install">
        <title>Installare GNOME</title>

        <para>Il software pu&ograve; essere installato facilmente
          da un pacchetto o dalla collezione dei Ports:</para>

        <para>Per installare il pacchetto <application>GNOME</application>
          dalla rete, semplicemente digita:</para>

        <screen>&prompt.root; <userinput>pkg_add -r gnome2</userinput></screen>

        <para>Per compilare <application>GNOME</application> da sorgenti, usa
          l'albero dei ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11/gnome2</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

        <para>Una volta che <application>GNOME</application> &egrave;
          installato, bisogna dire al server X di avviare
          <application>GNOME</application> invece del window manager di
          default.</para>

        <para>Il modo pi&ugrave; semplice per avviare
          <application>GNOME</application> &egrave; con
          <application>GDM</application>, il Display Manager di GNOME.
          <application>GDM</application>, che &egrave; installato come parte
          del desktop <application>GNOME</application> (ma &egrave;
          disabilitato di default) pu&ograve; essere abilitato aggiungendo
          <literal>gdm_enable="YES"</literal> a
          <filename>/etc/rc.conf</filename>.  Una volta che hai rebootato,
          <application>GNOME</application> partir&agrave; automaticamente
          una volta che ti logghi &mdash; nessuna altra configurazione &egrave;
          necessaria.</para>

        <para><application>GNOME</application> pu&ograve; anche essere avviato
          dalla command-line configurando propriamente un file chiamato
          <filename>.xinitrc</filename>.
          Se un file personalizzato <filename>.xinitrc</filename> &egrave;
          gi&agrave; al suo posto, semplicemente sostituisci la linea che avvia
          il window manager corrente con una che invece avvia
          <application>/usr/local/bin/gnome-session</application>.
          Se invece non &egrave; stato fatto nulla di speciale al file di
          configurazione, dovrebbe essere sufficiente digitare:</para>

        <screen>&prompt.user; <userinput>echo "/usr/local/bin/gnome-session" &gt; ~/.xinitrc</userinput></screen>

        <para>Quindi, digita <command>startx</command> e il desktop environment
          <application>GNOME</application> sar&agrave; avviato.</para>

        <note>
          <para>Se un precedente display manager, come
            <application>XDM</application>, &egrave; in uso, questo non
            funzioner&agrave;.  Invece, crea un file eseguibile
            <filename>.xsession</filename> con lo stesso comando dentro.  Per
            farlo edita il file e sostituisci il window manager esistente con
            <application>/usr/local/bin/gnome-session</application>:</para>
        </note>

        <screen>&prompt.user; <userinput>echo "#!/bin/sh" &gt; ~/.xsession</userinput>
&prompt.user; <userinput>echo "/usr/local/bin/gnome-session" &gt;&gt; ~/.xsession</userinput>
&prompt.user; <userinput>chmod +x ~/.xsession</userinput></screen>

        <para>Un'altra opzione &egrave; configurare il display manager per
          scegliere il window manager al momento di login; la sezione in <link
            linkend="x11-wm-kde-details">KDE details</link> spiega come farlo
          per <application>kdm</application>, il display manager di
          <application>KDE</application>.</para>
      </sect3>

      <sect3 id="x11-wm-gnome-antialias"> 
        <title>Font anti-aliased con GNOME</title>

        <indexterm>
          <primary>GNOME</primary>
          <secondary>font anti-aliased</secondary>
        </indexterm>

        <para>X11 supporta l'anti-aliasing attraverso l'estensione
          <quote>RENDER</quote>.  GTK+ 2.0 e successivi (il toolkit
          usato da <application>GNOME</application>) pu&ograve; fare uso di
          questa funzionalit&agrave;.  Configurare l'anti-aliasing &egrave;
          descritto in <xref linkend="antialias">.  Cos&igrave;, con
          software aggiornato, &egrave; possibile usare l'anti-aliasing
          all'interno del desktop <application>GNOME</application>.  Basta che
          vai in <menuchoice>
            <guimenu>Applications</guimenu>
            <guisubmenu>Desktop Preferences</guisubmenu>
            <guimenuitem>Font</guimenuitem>
          </menuchoice>, e selezioni
          <guibutton>Best shapes</guibutton>,
          <guibutton>Best contrast</guibutton>, o
          <guibutton>Subpixel smoothing (LCDs)</guibutton>.  Per una
          applicazione GTK+ che non &egrave; parte di
          <application>GNOME</application>, imposta la variabile di ambiente
          <varname>GDK_USE_XFT</varname>
          a <literal>1</literal> prima di avviare il programma.</para>
      </sect3>
    </sect2>

    <sect2 id="x11-wm-kde">
      <title>KDE</title>

      <indexterm><primary>KDE</primary></indexterm>

      <sect3 id="x11-wm-kde-about">
        <title>A proposito di KDE</title>

        <para><application>KDE</application> &egrave; un
          desktop environment facila da usare.  Alcune delle
          caratteristiche che <application>KDE</application> fornisce
          alll'utente sono:</para>

        <itemizedlist>
          <listitem>
            <para>Un bel desktop moderno</para>
          </listitem>

          <listitem>
            <para>Un desktop che esibisce una totale trasparenza
              rispetto alla rete.</para>
          </listitem>

          <listitem>
            <para>Un sistema di help integrato che permette accesso
            conveniente e consistente all'aiuto sull'uso del desktop
            <application>KDE</application> e le sue applicazioni</para>
          </listitem>

          <listitem>
            <para>Un aspetto delle applicazioni <application>KDE</application>
              consistente fra loro</para>
          </listitem>

          <listitem>
            <para>Menu e toolbars standardizzate, key-bindings, color-scheme
              etc.</para>
          </listitem>

          <listitem>
            <para>Internazionalizzazione: <application>KDE</application>
              &egrave; disponibile in pi&ugrave; di 40 linguaggi</para>
          </listitem>

          <listitem>
            <para>Configurazione del desktop centralizzata, consistente e
              guidata da finestre dialog</para>
          </listitem>

          <listitem>
            <para>Un gran numero di utili applicazioni
              <application>KDE</application></para>
          </listitem>
        </itemizedlist>

        <para><application>KDE</application> viene installato con un browser
          chiamato <application>Konqueror</application>, che &egrave; un
          solido competitore di altri browser esistenti su sistemi &unix;.
          Maggiori informazioni su <application>KDE</application> possono essere
          trovati al <ulink url="http://www.kde.org"> sito di KDE</ulink>.
          Per informazioni specifiche su FreeBSD e risorse su
          <application>KDE</application> consulta il sito <ulink
            url="http://freebsd.kde.org/">KDE sul sito del team di
            FreeBSD</ulink>.</para>
      </sect3>

      <sect3 id="x11-wm-kde-install">
        <title>Installare KDE</title>

        <para>Proprio come con <application>GNOME</application> o altri
          desktop environment, il software pu&ograve; essere installato
          facilmente da pacchetto o dalla Collezione dei Port:</para>

        <para>Per installare il pacchetto <application>KDE</application>
          dalla rete, semplicemente digita:</para>

        <screen>&prompt.root; <userinput>pkg_add -r kde</userinput></screen>

        <para>&man.pkg.add.1; automaticamente scaricher&agrave; l'ultima
          versione dell'applicazione.</para>

        <para>Per compilare <application>KDE</application> dai sorgenti, usa
          l'albero dei ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11/kde3</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

        <para>Dopo che <application>KDE</application> &egrave; stato
          installato, bisogna dire al server X di avviarlo al posto del
          window manager di default.  Questo si ottiene editando il file
          <filename>.xinitrc</filename>:

        <screen>&prompt.user; <userinput>echo "exec startkde" &gt; ~/.xinitrc</userinput></screen>

        <para>Adesso, ogni volta che l'X Window System &egrave; avviato con
          <command>startx</command>, <application>KDE</application>
          sar&agrave; il desktop.</para>

        <para>Se si usa un display manager come
          <application>XDM</application>, la configurazione &egrave;
          leggermente differente.  Devi infatti editare il
          file <filename>.xsession</filename>.  Le istruzioni per
          <application>kdm</application> sono descritte di seguito in questo
          capitolo.</para>
      </sect3>
    </sect2>

    <sect2 id="x11-wm-kde-details">
      <title>Maggiori dettagli su KDE</title>

      <para>Adesso che <application>KDE</application> &egrave; installato sul
        tuo computer, la maggior parte delle cose le puoi scoprire attraverso
        le pagine dell'help, o semplicemente puntando e cliccando qualche menu.
        Gli utenti &windows; e &mac; si sentiranno abbastanza a loro
        agio.</para>

      <para>Il migliore riferimento per <application>KDE</application> &egrave;
        la documentazione on-line.  <application>KDE</application> arriva con
        il suo web browser, <application>Konqueror</application>, dozzine di
        utili applicazioni e documentazione estesa.  Il resto di questa sezione
        discute dettagli tecnici che sono difficili da imparare da una
        esplorazione casuale.</para>

      <sect3 id="x11-wm-kde-kdm">
        <title>Il Display Manager KDE</title>

        <indexterm>
          <primary>KDE</primary>
          <secondary>display manager</secondary>
        </indexterm>

        <para>Un amministratore di un sistema multiutente pu&ograve; desiderare
          di avere uno schermo di login grafico per dare il benvenuto agli
          utenti.  <link linkend="x-xdm">XDM</link> pu&ograve; essere usato,
          come descritto in precedenza.  In ogni caso,
          <application>KDE</application> include un'alternativa,
          <application>kdm</application>, che &egrave; disegnato per
          essere pi&ugrave; attraente ed includere maggiori opzioni di login.
          In particolare, gli utenti possono facilmente scegliere (attraverso
          un menu) quale desktop environment (<application>KDE</application>,
          <application>GNOME</application> o qualcos'altro) avviare dopo essersi
          loggati.</para>

        <para>Per abilitare <application>kdm</application>, la entry
          <literal>ttyv8</literal> in <filename>/etc/ttys</filename> deve
          essere adattata.  La linea assomiglia a questa:</para>

        <programlisting>ttyv8 "/usr/local/bin/kdm -nodaemon" xterm on secure</programlisting>
      </sect3>
    </sect2>

    <sect2 id="x11-wm-xfce">
      <title>XFce</title>

      <sect3 id="x11-wm-xfce-about">
        <title>A proposito di XFce</title>

        <para><application>XFce</application> &egrave; un desktop environment
          basato sul toolkit GTK+ usato da <application>GNOME</application>,
          ma &egrave; molto pi&ugrave; snello e disegnato per quelli che
          vogliono un semplice, efficiente desktop che sia non di meno facile
          da usare e configurare.  Visivamente, assomiglia molto a
          <application>CDE</application>, il desktop che si trova su sistemi
          &unix; commerciali.  Alcune delle caratteristiche
          di <application>XFce</application> sono:</para>

        <itemizedlist>
          <listitem>
            <para>Un semplice desktop, facile da gestire</para>
          </listitem>

          <listitem>
            <para>Interamente configurabile via mouse, con drag and drop,
              etc.</para>
          </listitem>

          <listitem>
            <para>Pannelli principali simili a <application>CDE</application>,
              con menu, applets e lanciatori di applicazioni</para>
          </listitem>

          <listitem>
            <para>Window manager integrato, file manager, sound manager,
              modulo di compatiblit&agrave; <application>GNOME</application> e
              altro</para>
          </listitem>

          <listitem>
            <para>I suoi temi si possono configurare (grazie a GTK+)</para>
          </listitem>

          <listitem>
            <para>Veloce, snello ed efficiente: ideale per macchine
              vecchie/lente o macchine con poca memoria</para>
          </listitem>
        </itemizedlist>

        <para>Maggiori informazioni su <application>XFce</application> possono
          essere trovate sul sito web
          <ulink url="http://www.xfce.org/">XFce</ulink>.</para>
      </sect3>

      <sect3 id="x11-wm-xfce-install">
        <title>Installare XFce</title>

        <para>Esiste un pacchetto binario per <application>XFce</application>
          al momento in cui scriviamo.  Per installarlo, semplicemente
          digita:</para>

        <screen>&prompt.root; <userinput>pkg_add -r xfce4</userinput></screen>

        <para>In alternativa, per compilare dai sorgenti, usa la collezione dei
          ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11-wm/xfce4</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

        <para>Adesso devi dire all'X server di lanciare
          <application>XFce</application> la prossima volta che X &egrave;
          avviato.  Digita semplicemente questo:</para>

        <screen>&prompt.user; <userinput>echo "/usr/local/bin/startxfce4" &gt; ~/.xinitrc</userinput></screen>

        <para>La prossima volta che X &egrave; avviato,
          <application>XFce</application> sar&agrave; il desktop.  Come prima,
          se un display manager come <application>XDM</application> &egrave;
          in uso, crea un <filename>.xsession</filename>, come descritto nella
          sezione su <link linkend="x11-wm-gnome">GNOME</link>, ma con il
          comando <filename>/usr/local/bin/startxfce4</filename>;
          o configura il display manager per permetterti di scegliere un
          desktop al momento del login, come spiegato su <link
            linkend="x11-wm-kde-kdm">kdm</link>.</para>
      </sect3>
    </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
