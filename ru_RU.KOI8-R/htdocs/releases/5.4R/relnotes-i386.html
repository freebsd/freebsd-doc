<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Информация о релизе FreeBSD/i386 5.4-RELEASE</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">Информация о релизе FreeBSD/i386
5.4-RELEASE</a></h1>

<h3 class="CORPAUTHOR">Проект FreeBSD</h3>

<p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002, 2003, 2004, 2005 Проект
документирования FreeBSD</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/ru_RU.KOI8-R/relnotes/common/new.sgml,v
1.6.2.10.2.5 2005/05/06 18:57:44 hrs Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD это зарегистрированная торговая марка FreeBSD Foundation.</p>

<p>IBM, AIX, EtherJet, Netfinity, OS/2, PowerPC, PS/2, S/390 и ThinkPad это торговые
марки International Business Machines Corporation в Соединенных Штатах, других странах,
или по всему миру.</p>

<p>IEEE, POSIX и 802 это зарегистрированные торговые марки Institute of Electrical and
Electronics Engineers, Inc. в Соединенных Штатах.</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium и Xeon это торговые марки
или зарегистрированные торговые марки Intel Corporation или ее дочерних компаний в
Соединенных Штатах и других странах.</p>

<p>Sparc, Sparc64, SPARCEngine, и UltraSPARC это торговые марки SPARC International, Inc
в Соединенных Штатах и других странах. Продукты с торговой маркой SPARC основаны на
архитектуре, разработанной Sun Microsystems, Inc.</p>

<p>Многие из обозначений, используемые производителями и продавцами для обозначения своих
продуктов, заявляются в качестве торговых марок. Когда такие обозначения появляются в
этом документе, и Проекту FreeBSD известно о торговой марке, к обозначению добавляется
знак ``&trade;'' или ``&reg;''.</p>
</div>

<div>
<div class="ABSTRACT"><a id="AEN23" name="AEN23"></a>
<p>Заметки о релизе для FreeBSD 5.4-RELEASE содержат общую информацию по изменениям,
внесенным в систему FreeBSD с момента выпуска 5.3-RELEASE. Этот документ содержит список
сообщений безопасности, выпущенных после последнего релиза, а также список значительных
изменений, внесенных в ядро и пользовательские программы FreeBSD. Представлены также
краткие заметки по обновлению системы.</p>
</div>
</div>

<hr />
</div>

<div class="TOC">
<dl>
<dt><b>Содержание</b></dt>

<dt>1. <a href="#INTRO">Введение</a></dt>

<dt>2. <a href="#NEW">Что нового</a></dt>

<dd>
<dl>
<dt>2.1. <a href="#SECURITY">Сообщения безопасности</a></dt>

<dt>2.2. <a href="#KERNEL">Изменения в ядре</a></dt>

<dd>
<dl>
<dt>2.2.1. <a href="#BOOT">Изменения в загрузчике</a></dt>

<dt>2.2.2. <a href="#PROC">Поддержка оборудования</a></dt>

<dt>2.2.3. <a href="#NET-PROTO">Сетевые протоколы</a></dt>

<dt>2.2.4. <a href="#DISKS">Диски и хранение</a></dt>

<dt>2.2.5. <a href="#FS">Файловые системы</a></dt>

<dt>2.2.6. <a href="#AEN293">Стороннее программное обеспечение</a></dt>
</dl>
</dd>

<dt>2.3. <a href="#USERLAND">Изменения в программах пользователя</a></dt>

<dd>
<dl>
<dt>2.3.1. <a href="#RC-SCRIPTS">Скрипты <tt class="FILENAME">/etc/rc.d</tt></a></dt>
</dl>
</dd>

<dt>2.4. <a href="#CONTRIB">Стороннее программное обеспечение</a></dt>

<dt>2.5. <a href="#PORTS">Инфраструктура коллекции портов/пакетов</a></dt>

<dt>2.6. <a href="#RELENG">Подготовка релизов и интеграция</a></dt>

<dt>2.7. <a href="#DOC">Документация</a></dt>
</dl>
</dd>

<dt>3. <a href="#UPGRADE">Обновление с предыдущих релизов FreeBSD</a></dt>
</dl>
</div>

<div class="SECT1">
<h2 class="SECT1"><a id="INTRO" name="INTRO">1. Введение</a></h2>

<p>Этот документ содержит информацию о релизе FreeBSD 5.4-RELEASE для аппаратной
платформы i386. В нем описаны недавно добавленные, измененные, или удаленные возможности
FreeBSD. Он также представляет некоторые заметки по обновлению с предыдущей версии
FreeBSD.</p>

<p>Этот дистрибутив FreeBSD 5.4-RELEASE представляет собой release. Его можно найти на <a
href="ftp://ftp.FreeBSD.org/" target="_top">ftp://ftp.FreeBSD.org/</a> или на любом из
зеркал. Дополнительная информация по получению этого (или другого) release дистрибутива
FreeBSD может быть найдена в <a
href="../../../../../doc/ru_RU.KOI8-R/books/handbook/mirrors.html"
target="_top">приложении ``Получение FreeBSD''</a> <a
href="../../../../../doc/ru_RU.KOI8-R/books/handbook/" target="_top">Руководства
FreeBSD</a>.</p>

<p>Всем пользователям рекомендуется ознакомиться с сообщениями о проблемах перед
установкой FreeBSD. В этот документ вносятся самая последняя информация, полученная в
позже в процессе выпуска релиза или после релиза. Обычно в нем находятся информация о
известных ошибках, сообщениях безопасности и исправления документации. Актуальную копию
сообщений о проблемах для FreeBSD 5.4-RELEASE можно найти на веб сайте FreeBSD.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="NEW" name="NEW">2. Что нового</a></h2>

<p>В этом разделе описаны основные видимые пользователю добавленные или измененные с
5.3-RELEASE возможности FreeBSD. Как правило, изменения, описанные здесь, уникальны для
5-STABLE, если только они не помечены как [MERGED].</p>

<p>Обычно в информации о релизе последовательно включены последние сообщения
безопасности, выпущенные после 5.3-RELEASE, информация о поддержке новых драйверов или
оборудования, новых команд или параметров, информация о основных исправлениях ошибок, или
обновлениях стороннего программного обеспечения. В нем могут также перечисляться
изменения важнейших портов/пакетов или практики выпуска релизов. Конечно, в информацию о
релизе не вносятся данные о каждом отдельном изменении, сделанном в FreeBSD между
релизами; этот документ фокусируется в основном на сообщениях безопасности, видимых
пользователю изменениях, и основных архитектурных улучшениях.</p>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="SECURITY" name="SECURITY">2.1. Сообщения безопасности</a></h3>

<p>Была исправлена ошибка в утилите <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fetch&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fetch</span>(1)</span></a>,
позволявшая злонамеренному HTTP серверу перезапись произвольных участков памяти клиента.
За дальнейшей информацией обращайтесь к сообщению безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:16.fetch.asc"
target="_top">FreeBSD-SA-04:16.fetch</a>.</p>

<p>Была исправлена ошибка в <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=procfs&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">procfs</span>(5)</span></a> и <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">linprocfs</span>(5)</span></a>,
позволявшая злонамеренному локальному пользователю читать части памяти ядра или выполнять
локальную DoS атаку путем вызова паники системы. За дальнейшей информацией обращайтесь к
сообщению безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-04:17.procfs.asc"
target="_top">FreeBSD-SA-04:17.procfs</a>.</p>

<p>В клиенте TELNET были исправлены две ошибки переполнения буфера. Они могут позволить
злонамеренному серверу TELNET или активному атакующему в сети между клиентом и сервером
заставить <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=telnet&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">telnet</span>(1)</span></a>
выполнить произвольный код с привилегиями пользователя, запустившего клиент. За
дальнейшей информацией обращайтесь к сообщению безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:01.telnet.asc"
target="_top">FreeBSD-SA-05:01.telnet</a>.</p>

<p>В системном вызове <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sendfile&sektion=2&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sendfile</span>(2)</span></a> была
исправлена ошибка, связанная с раскрытием информации, которая могла позволить передачу
произвольных частей памяти ядра. За дальнейшей информацией обращайтесь к сообщению
безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:02.sendfile.asc"
target="_top">FreeBSD-SA-05:02.sendfile</a>.</p>

<p>Была исправлена ошибка в <tt class="LITERAL">SIOCGIFCONF</tt> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ioctl&sektion=2&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ioctl</span>(2)</span></a>,
приводившая к утечке информации, из-за которой подвергались утечке 12 байт памяти ядра.
За дальнейшей информацией обращайтесь к сообщению безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:04.ifconf.asc"
target="_top">FreeBSD-SA-05:04.ifconf</a>.</p>

<p>Было исправлено несколько программных ошибок в <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cvs&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cvs</span>(1)</span></a>, которые
потенциально позволяли выполнение произвольного кода на серверах CVS. Дополнительная
информация может быть получена из сообщения безопасности <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-05:05.cvs.asc"
target="_top">FreeBSD-SA-05:05.cvs</a>.</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="KERNEL" name="KERNEL">2.2. Изменения в ядре</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">jail</span>(8)</span></a> теперь
поддерживает новую переменную sysctl <code
class="VARNAME">security.jail.chflags_allowed</code>, которая контролирует поведение <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">chflags</span>(1)</span></a>
внутри jail. Если переменная установлена в <tt class="LITERAL">0</tt> (значение по
умолчанию), внутри jail <tt class="USERNAME">root</tt> считается непривилегированным
пользователем; если она установлена в <tt class="LITERAL">1</tt>, различий между
пользователем <tt class="USERNAME">root</tt> внутри jail и вне jail не делается.</p>

<p>Переменная загрузчика <code class="VARNAME">debug.mpsafevm</code> была включена по
умолчанию.</p>

<p>Множество ошибок было исправлено в планировщике ULE.</p>

<p>Была исправлена ошибка в обработке Inter-Processor Interrupt (IPI), которая могла
вызвать крах SMP систем под высокой нагрузкой. Более подробная информация опубликована в
сообщении о проблеме <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:03.ipi.asc"
target="_top">FreeBSD-EN-05:03.ipi</a>. [MERGED]</p>

<p>Выделение памяти для старых PCI мостов было ограничено до 32MB RAM. Многие старые
мосты позволяют выделение памяти только из этого диапазона. Изменение применяется только
к устройствам, память которых не выделена BIOS. Это изменение исправляет ошибку ``bad
Vcc'' мостов CardBus (<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pccbb&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pccbb</span>(4)</span></a>).</p>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="BOOT" name="BOOT">2.2.1. Изменения в загрузчике</a></h4>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="PROC" name="PROC">2.2.2. Поддержка оборудования</a></h4>

<p>Была добавлена инфраструктура для гибкого управления скоростью процессора. Она
предоставляет различным драйверам методы управления энергопотреблением CPU путем
изменения скорости процессора. Более детальная информация находится на странице
справочника <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpufreq&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cpufreq</span>(4)</span></a>.</p>

<p>Был добавлен драйвер pcii для поддержки карт GPIB-PCIIA IEEE-488.</p>

<div class="SECT4">
<hr />
<h5 class="SECT4"><a id="MM" name="MM">2.2.2.1. Поддержка мультимедиа</a></h5>
</div>

<div class="SECT4">
<hr />
<h5 class="SECT4"><a id="NET-IF" name="NET-IF">2.2.2.2. Поддержка сетевых
интерфейсов</a></h5>

<p>Был добавлен USB Communication Device Class Ethernet драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cdce&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cdce</span>(4)</span></a>.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cp&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">cp</span>(4)</span></a> теперь
MPSAFE.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ctau&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ctau</span>(4)</span></a> теперь
MPSAFE.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cx&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">cx</span>(4)</span></a> теперь
MPSAFE.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">ed</span>(4)</span></a> теперь
поддерживает инфраструктуру <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">altq</span>(4)</span></a>.</p>

<p>В драйвере <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">em</span>(4)</span></a> была выключена
по умолчанию аппаратная поддержка тегов VLAN, поскольку эта функция конфликтовала с
promiscuous режимом.</p>

<p>Контроль потока Ethernet отключен по умолчанию в драйвере <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fxp&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fxp</span>(4)</span></a> для
предотвращения проблем -- паники ядра.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hme&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hme</span>(4)</span></a> теперь
MPSAFE.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=re&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">re</span>(4)</span></a> теперь
поддерживает инфраструктуру <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">altq</span>(4)</span></a>.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sf&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sf</span>(4)</span></a> теперь
поддерживает device polling и <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">altq</span>(4)</span></a>.</p>

<p>Были исправлены несколько программных ошибок в драйвере <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sk&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sk</span>(4)</span></a>. Эти ошибки
проявлялись на SMP системах, и могли приводить к панике, ошибкам page fault, обрыву
соединений SSH или ошибкам при передаче файлов. Более подробная информация находится в
сообщении о проблеме <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:02.sk.asc"
target="_top">FreeBSD-EN-05:02.sk</a>.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sk&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sk</span>(4)</span></a> теперь
поддерживает <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=altq&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">altq</span>(4)</span></a>. Этот
драйвер также поддерживает jumbo фреймы на Yukon-based интерфейсах.</p>
</div>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="NET-PROTO" name="NET-PROTO">2.2.3. Сетевые протоколы</a></h4>

<p>MTU feedback в IPv6 выключается при отправке данных, которые должны быть
фрагментированы.</p>

<p>Был реализован Common Address Redundancy Protocol (CARP). CARP был взят из OpenBSD и
позволяет нескольким хостам совместно использовать один IP адрес, чтобы обеспечивать
высокую доступность и распределение нагрузки. За дальнейшей информацией обращайтесь к
странице справочника <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=carp&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">carp</span>(4)</span></a>.</p>

<p>Система <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(4)</span></a> может
работать с <code class="VARNAME">debug.mpsafenet</code>=<tt class="LITERAL">1</tt> (эта
переменная равна <tt class="LITERAL">1</tt> по умолчанию) когда используются параметры
правил <tt class="LITERAL">gid</tt>, <tt class="LITERAL">jail</tt>, и/или <tt
class="LITERAL">uid</tt>.</p>

<p>Правило <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a> <tt
class="LITERAL">ipfw fwd</tt> теперь поддерживает полное управление назначением пакета
при установке параметра ядра <tt class="LITERAL">options IPFIREWALL_FORWARD_EXTENDED</tt>
в дополнение к параметру <tt class="LITERAL">options IPFIREWALL_FORWARD</tt>. Этот
параметр ядра устраняет все ограничения для локально созданных пакетов и позволяет
перенаправление пакетов, предназначенных для локально сконфигурированного IP адреса.
Обратите внимание, что правила <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a> должны
быть составлены аккуратно, чтобы, например, не нарушить определение PMTU.</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipnat&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipnat</span>(8)</span></a> теперь
позволяет определять правила перенаправления для не-TCP/UDP пакетов.</p>

<p>Продолжается работа по уменьшению использования Giant блокировки стеком сетевых
протоколов и улучшению стратегии блокировки.</p>

<p>Новый узел NetGraph <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_netflow&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_netflow</span>(4)</span></a>
позволяет маршрутизатору, работающему под FreeBSD, выполнять экспорт NetFlow версии
5.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sppp&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sppp</span>(4)</span></a> теперь
включает поддержку Frame Relay</p>

<p>Была исправлена ошибка TCP, которая иногда приводила к игнорированию пакетов RST при
окне приема в ноль байт.</p>

<p>Были исправлены несколько ошибок в реализации TCP SACK.</p>

<p>Реализация KAME IPv4 IPsec, интегрированная в FreeBSD, теперь поддерживает
TCP-MD5.</p>

<p>Алгоритм ``Random ephemeral port number allocation'' приводил к некоторым проблемам с
повторным использованием портов при высокой частоте новых подключений. Теперь в периоды,
когда новые соединения создаются быстрее, чем <code
class="VARNAME">net.inet.ip.portrange.randomcps</code> в секунду, рандомизация номеров
портов отключается на следующие <code
class="VARNAME">net.inet.ip.portrange.randomtime</code> секунд. Значения по умолчанию
этих двух переменных sysctl равны <tt class="LITERAL">10</tt> и <tt
class="LITERAL">45</tt> соответственно.</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="DISKS" name="DISKS">2.2.4. Диски и хранение</a></h4>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=amr&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">amr</span>(4)</span></a> теперь
может безопасно использоваться на системах с <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pae&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pae</span>(4)</span></a>.</p>

<p>Был добавлен драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=arcmsr&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">arcmsr</span>(4)</span></a>. Он
поддерживает контроллеры SATA RAID серий Areca ARC-11<tt
class="REPLACEABLE"><i>xx</i></tt> и ARC-12<tt class="REPLACEABLE"><i>xx</i></tt>.</p>

<p>Был добавлен драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hptmv&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hptmv</span>(4)</span></a>,
поддерживающий HighPoint RocketRAID 182x series.</p>

<p>Драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ips&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ips</span>(4)</span></a> теперь
поддерживает дампы ядра на некоторых современных моделях ServeRAID.</p>

<p>Был удален драйвер <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=matcd&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">matcd</span>(4)</span></a>.</p>

<p>Был добавлен класс SHSEC GEOM. Он предоставлен для разделения секретного ключа
(``secret'') между несколькими провайдерами GEOM. Все эти провайдеры должны
присутствовать, чтобы получить секретный ключ. Эта функция контролируется утилитой <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gshsec&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gshsec</span>(8)</span></a>.</p>

<p>Информация о вновь смонтированных файловых системах cd9660 (например, информация о
наличии расширений RockRidge) теперь печатается только если ядро было собрано в режиме
verbose. Это изменение было сделано для уменьшения количества (зачастую ненужных)
протоколируемых сообщений ядра.</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="FS" name="FS">2.2.5. Файловые системы</a></h4>

<p>Вычисление суммарной информации для не размонтированных корректно (``dirty'') файловых
систем UFS и UFS2 больше не выполняется во время загрузки, а делается фоновым <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck</span>(8)</span></a>. Это
изменение увеличивает скорость загрузки при монтировании больших файловых систем после
сбоя. Предыдущее поведение может быть восстановлено установкой переменной sysctl <code
class="VARNAME">vfs.ffs.compute_summary_at_mount</code> в ненулевое значение.</p>

<p>Была исправлена ошибка NFS сервера, приводившая к панике ядра. Более подробная
информация находится в сообщении о проблеме <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ERRATA/notices/FreeBSD-EN-05:01.nfs.asc"
target="_top">FreeBSD-EN-05:01.nfs</a>.</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="AEN293" name="AEN293">2.2.6. Стороннее программное
обеспечение</a></h4>

<p><b class="APPLICATION">ACPI-CA</b> был обновлен с 20040527 до 20041119.</p>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="USERLAND" name="USERLAND">2.3. Изменения в программах
пользователя</a></h3>

<p>Программа <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpd&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ftpd</span>(8)</span></a> теперь
корректно использует коды статуса <tt class="LITERAL">212</tt> и <tt
class="LITERAL">213</tt> для каталога и файла (в предыдущей версии использовался код <tt
class="LITERAL">211</tt>). Это поведение описано в RFC 959.</p>

<p>Функция <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=getaddrinfo&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">getaddrinfo</span>(3)</span></a>
теперь запрашивает записи DNS <tt class="LITERAL">A</tt> перед записями <tt
class="LITERAL">AAAA</tt>, когда указан <tt class="LITERAL">AF_UNSPEC</tt>. Некоторые DNS
серверы некорректно возвращают <tt class="LITERAL">NXDOMAIN</tt> в ответ на запрос
несуществующей записи <tt class="LITERAL">AAAA</tt>, хотя должны возвращать <tt
class="LITERAL">NOERROR</tt> с пустой записью. Это проблема для двойного IPv4/IPv6 стека,
поскольку после возврата <tt class="LITERAL">NXDOMAIN</tt> на запрос <tt
class="LITERAL">AAAA</tt> приводит к тому, что запрашивающий сервер не пытается разрешить
запись <tt class="LITERAL">A</tt>. Кроме того, такое поведение потенциально может
привести к DoS атаке (см. <a href="http://www.kb.cert.org/vuls/id/714121"
target="_top">http://www.kb.cert.org/vuls/id/714121</a> с более подробной информацией).
Обратите внимание, что хотя порядок запроса был изменен, возвращаемый результат все еще
включает запись <tt class="LITERAL">AF_INET6</tt> перед записью <tt
class="LITERAL">AF_INET</tt>.</p>

<p>Команда <tt class="LITERAL">create</tt> утилиты <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gpt&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gpt</span>(8)</span></a> теперь
поддерживает параметр командной строки <code class="OPTION">-f</code> для форсирования
создания GPT даже если на диске присутствует запись MBR.</p>

<p>Утилита gvinum(8) теперь поддерживает субкоманды <tt class="COMMAND">checkparity</tt>,
<tt class="COMMAND">rebuildparity</tt> и <tt class="COMMAND">setstate</tt>.</p>

<p>Библиотека <tt class="FILENAME">libarchive</tt> (как и команда <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tar&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">tar</span>(1)</span></a>, ее
использующая) теперь поддерживает чтение образов ISO (с опциональным расширением
RockRidge) и архивов ZIP (со сжатием <tt class="LITERAL">deflate</tt> и <tt
class="LITERAL">none</tt>).</p>

<p>Была добавлена библиотека <tt class="FILENAME">libgpib</tt>, чтобы предоставить доступ
уровня пользователя к устройствам GPIB (используя драйвер pcii) через <code
class="FUNCTION">ib<tt class="REPLACEABLE"><i>foo</i></tt></code> API.</p>

<p>Множество исправлений для <tt class="FILENAME">libpthread</tt> были внесены из
HEAD.</p>

<p>В библиотеке <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=math&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">math</span>(3)</span></a> было
реализовано множество новых функций. В их число входят <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ceill&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ceill</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=floorl&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">floorl</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ilogbl&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ilogbl</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fma&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fma</span>(3)</span></a> и
варианты, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=lrint&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">lrint</span>(3)</span></a> и
варианты, и <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=lround&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">lround</span>(3)</span></a> и
варианты.</p>

<p>Была добавлена не-GPL утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mkuzip&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mkuzip</span>(8)</span></a>, для
сжатия образов файловых систем перед использованием с модулем <tt
class="LITERAL">GEOM_UZIP</tt> <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">geom</span>(4)</span></a>.</p>

<p>Даемон <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=moused&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">moused</span>(8)</span></a> теперь
поддерживает ``виртуальную прокрутку'', когда перемещения мыши при нажатой средней кнопке
интерпретируются как прокрутка. Эта функция включается флагом <code
class="OPTION">-V</code>.</p>

<p>Для динамических зон <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=named&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">named</span>(8)</span></a> был
добавлен отдельный каталог, владельцем которого является пользователь <tt
class="USERNAME">bind</tt> (для создания журнального файла зоны). Более подробная
информация находится в примере динамической зоны файла <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=named.conf&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">named.conf</span>(5)</span></a>.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> теперь
поддерживает флаг <code class="OPTION">-n</code> для подавления создания каталога <tt
class="FILENAME">.snap</tt> на новых файловых системах. Эта функция предназначена для
использования с файловыми системами в памяти или виртуальными файловыми системами,
которым не требуется поддержка образов.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> теперь
выдает предупреждение при создании файловых систем UFS или UFS2, которые не могут
поддерживать образы. Такая ситуация может возникать в случае очень больших файловых
систем с блоками малого размера.</p>

<p>Была добавлена переменная компиляции системы <tt class="LITERAL">NO_NIS</tt>. Как
следует из ее имени, включение этой переменной приведет к исключению поддержки NIS из
различных программ, и утилиты NIS не будут компилироваться.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ncal&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ncal</span>(1)</span></a> теперь
поддерживает флаг <code class="OPTION">-m</code> для создания календаря определенного
месяца в текущем году.</p>

<p>Проверка безопасности в <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=periodic&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">periodic</span>(8)</span></a>
теперь поддерживает отображение счетчиков пакетов, заблокированных <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pf&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">pf</span>(4)</span></a>.</p>

<p>В программе <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ppp</span>(8)</span></a>
реализован параметр <code class="OPTION">echo</code>, позволяющий включать LCP ECHO
независимо от LQR. Более старые версии <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ppp</span>(8)</span></a> переходят
в режим LCP ECHO если согласование lqr не будет успешно проведено. Теперь для получения
такого поведения необходимо указать <tt class="COMMAND">enable echo</tt>.</p>

<p>Были исправлены две ошибки в программе <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pppd&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pppd</span>(8)</span></a>. Они
могли привести к некорректному ответу CBCP, нарушающему Microsoft PPP Callback Control
Protocol section 3.2.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=restore&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">restore</span>(8)</span></a>
теперь снова может читать дампы FreeBSD версии 1.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rm&sektion=1&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">rm</span>(1)</span></a> теперь
поддерживает параметр <code class="OPTION">-I</code>, с которым (однократно)
запрашивается подтверждение при рекурсивном удалении каталогов или более 3 файлов,
перечисленных в командной строке.</p>

<p>Динамический компоновщик <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rtld</span>(1)</span></a> теперь
поддерживает указание замещающих библиотек через переменную окружения <code
class="VARNAME">LD_LIBMAP</code>. Эта переменная перезаписывает записи в <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=libmap.conf&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">libmap.conf</span>(5)</span></a>.</p>

<p>Функция <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=strftime&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">strftime</span>(3)</span></a>
теперь поддерживает некоторые GNU расширения, такие как <tt class="LITERAL">-</tt> (без
заполнения), <tt class="LITERAL">_</tt> (использовать пробел для заполнения), и <tt
class="LITERAL">0</tt> (заполнение нулями).</p>

<p>Функцию <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">syslog</span>(3)</span></a> теперь
можно безопасно использовать в многопоточных программах.</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">syslogd</span>(8)</span></a>
теперь открывает дополнительный сокет (<tt class="FILENAME">/var/run/logpriv</tt> по
умолчанию), с правами <tt class="LITERAL">0600</tt> для использования привилегированными
программами. Это предотвращает блокировку привилегированных программ, когда буфер сокета
переполняется вследствие локальной DoS атаки.</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">syslogd</span>(8)</span></a>
теперь поддерживает опцию <code class="OPTION">-S</code>, которая позволяет изменять путь
к привилегированному сокету. Это полезно, если вы не хотите, чтобы даемон получал
какие-либо сообщения из локальных сокетов (по умолчанию используются <tt
class="FILENAME">/var/run/log</tt> и <tt class="FILENAME">/var/run/logpriv</tt>).</p>

<p>Утилита <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">syslogd</span>(8)</span></a>
теперь позволяет использовать символы <tt class="LITERAL">:</tt> и <tt
class="LITERAL">%</tt> в спецификации имени хоста. Эти символы используются в адресах и
scope ID IPv6.</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=systat&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">systat</span>(1)</span></a> <code
class="OPTION">-netstat</code> теперь приспособлен для IPv6.</p>

<p>Параметр <code class="OPTION">-f</code> утилиты <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tail&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">tail</span>(1)</span></a> теперь
поддерживает более одного файла одновременно.</p>

<p>Была добавлена команда <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tcpdrop&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">tcpdrop</span>(8)</span></a>,
закрывающая выбранное соединение TCP. Она была заимствована из OpenBSD.</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=whois&sektion=1&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">whois</span>(1)</span></a> теперь
поддерживает флаг <code class="OPTION">-k</code> для запроса <tt
class="HOSTID">whois.krnic.net</tt> (the National Internet Development Agency of Korea),
содержащего информацию о IP адресах в Корее.</p>

<p>Была исправлена ошибка чтения файлов конфигурации, таких как <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hosts</span>(5)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=services&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">services</span>(5)</span></a> и
так далее, которые не заканчивались символом новой строки.</p>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="RC-SCRIPTS" name="RC-SCRIPTS">2.3.1. Скрипты <tt
class="FILENAME">/etc/rc.d</tt></a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a>
теперь поддерживает изменение имен сетевых интерфейсов во время загрузки. Например:</p>

<pre class="PROGRAMLISTING">
ifconfig_fxp0_name="net0"
ifconfig_net0="inet 10.0.0.1/16"
</pre>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a>
теперь поддерживает переменные <code class="VARNAME">tmpmfs_flags</code> и <code
class="VARNAME">varmfs_flags</code>. Они могут использоваться для передачи дополнительных
параметров утилите <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mdmfs&sektion=8&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mdmfs</span>(8)</span></a>,
задания <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=md&sektion=4&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">md</span>(4)</span></a> параметров
создания файловой системы, таких как включение/выключение softupdates, указания владельца
файловой системы по умолчанию и так далее.</p>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="CONTRIB" name="CONTRIB">2.4. Стороннее программное
обеспечение</a></h3>

<p><b class="APPLICATION">BIND</b> был обновлен с версии 9.3.0 до версии 9.3.1.</p>

<p><b class="APPLICATION">Heimdal</b> был обновлен с 0.6.1 до 0.6.3.</p>

<p>Был добавлен снэпшот <b class="APPLICATION">netcat</b> из OpenBSD от 4 февраля 2005
года. Более подробная информация находится на странице справки по <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=nc&sektion=1&manpath=FreeBSD+5.4-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">nc</span>(1)</span></a>.</p>

<p><b class="APPLICATION">OpenSSL</b> был обновлен с 0.9.7d до 0.9.7e.</p>

<p><b class="APPLICATION">sendmail</b> был обновлен с версии 8.13.1 до версии 8.13.3.</p>

<p>База данных timezone была обновлена с релиза <b class="APPLICATION">tzdata2004e</b> до
релиза <b class="APPLICATION">tzdata2004g</b>.</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="PORTS" name="PORTS">2.5. Инфраструктура коллекции
портов/пакетов</a></h3>

<p>Файлы <tt class="FILENAME">ports/INDEX<tt class="REPLACEABLE"><i>*</i></tt></tt>, в
которых находится индекс всех портов коллекции, был удален из репозитория CVS. Этот файл
генерировался не часто, и следовательно обычно был устаревшим и не соответствовал
состоянию портов. Пользователи, которым требуется индексный файл (например, для
использования с такими программами, как <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=portupgrade&sektion=1&manpath=FreeBSD+Ports">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">portupgrade</span>(1)</span></a>),
могут получить копию двумя способами:</p>

<ul>
<li>
<p>Создать индекс файл на основе текущего дерева портов, выполнив <tt
class="COMMAND">make index</tt> из корневого каталога дерева <tt
class="FILENAME">ports/</tt>.</p>
</li>

<li>
<p>Забрать индексный файл по сети, выполнив <tt class="COMMAND">make fetchindex</tt> из
корневого каталога дерева <tt class="FILENAME">ports/</tt>. Этот индексный файл (как
правило) подходит для использования в течение дня.</p>
</li>
</ul>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="RELENG" name="RELENG">2.6. Подготовка релизов и
интеграция</a></h3>

<p>В предыдущих релизах FreeBSD, CD-ROM (или образ ISO) <tt class="FILENAME">disc1</tt>
был загрузочным установочным диском, содержащим основную систему, дерево портов и широко
используемые пакеты. CD-ROM (или образ ISO) <tt class="FILENAME">disc2</tt> был
загрузочным ``fix it'' диском с live filesystem, и был предназначен для восстановления
после критических сбоев. Теперь для всех архитектур за исключением ia64, на <tt
class="FILENAME">disc1</tt> находится базовая система, дерево портов и live filesystem,
что делает возможным как установку с этого диска, так и восстановление после сбоев. (На
ia64, live filesystem находится на отдельном диске, поскольку не умещается на первый).
Пакеты помещаются на отдельный диск; в частности, образ <tt class="FILENAME">disc2</tt>
содержит общеиспользуемые пакеты, такие как десктоп-приложения. Документы Проекта
документирования FreeBSD также помещаются на <tt class="FILENAME">disc2</tt>.</p>

<p>Поддерживаемая версия десктопа <b class="APPLICATION">GNOME</b> была обновлена с 2.6.2
до 2.10. Более подробная информация о работе <b class="APPLICATION">GNOME</b> в FreeBSD
находится на веб странице <a href="../../../../../gnome/" target="_top">FreeBSD GNOME
Project</a>.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Замечание:</b> Пользователи предыдущих версий <b class="APPLICATION">GNOME</b> (<a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/gnome2/pkg-descr"><tt
class="FILENAME">x11/gnome2</tt></a>) должны подойти к обновлению с определенной
осторожностью. Простое обновление из коллекции портов FreeBSD с помощью <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=portupgrade&sektion=1&manpath=FreeBSD+Ports">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">portupgrade</span>(1)</span></a>
(<a href="http://www.FreeBSD.org/cgi/url.cgi?ports/sysutils/portupgrade/pkg-descr"><tt
class="FILENAME">sysutils/portupgrade</tt></a>) вызовет серьезные проблемы. Пользователи
<b class="APPLICATION">GNOME</b> должны внимательно прочесть инструкции <a
href="../../../../../gnome/docs/faq210.html"
target="_top">../../../../../gnome/docs/faq210.html</a> и использовать скрипт <a
href="../../../../../gnome/gnome_upgrade.sh" target="_top"><tt
class="FILENAME">gnome_upgrade.sh</tt></a> для обновления до <b
class="APPLICATION">GNOME</b> 2.10.</p>
</blockquote>
</div>

<br />
<br />
<p>Поддерживаемая версия <b class="APPLICATION">KDE</b> была обновлена с 3.3.0 до 3.4.0.
Более подробная информация о работе <b class="APPLICATION">KDE</b> в FreeBSD находится на
веб странице <a href="http://freebsd.kde.org/" target="_top">KDE в FreeBSD</a>.</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Замечание:</b> Пользователям более старых версий <b class="APPLICATION">KDE</b>
предлагается следовать процедуре обновления, документированной на веб странице <a
href="http://freebsd.kde.org/" target="_top">KDE on FreeBSD</a> иди в файле <tt
class="FILENAME">ports/UPDATING</tt>.</p>
</blockquote>
</div>

<br />
<br />
<p>Поддерживаемая версия <b class="APPLICATION">Xorg</b> была обновлена с 6.7.0 до
6.8.2.</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="DOC" name="DOC">2.7. Документация</a></h3>

<p>Следующие страницы справочной системы, которые были получены из документов RFC, и
возможно нарушали IETF копирайт, были замещены: <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=gai_strerror&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">gai_strerror</span>(3)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=getaddrinfo&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">getaddrinfo</span>(3)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=getnameinfo&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">getnameinfo</span>(3)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=inet6_opt_init&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">inet6_opt_init</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=inet6_option_space&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">inet6_option_space</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=inet6_rth_space&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">inet6_rth_space</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=inet6_rthdr_space&sektion=3&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">inet6_rthdr_space</span>(3)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=icmp6&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">icmp6</span>(4)</span></a> и <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ip6&sektion=4&manpath=FreeBSD+5.4-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ip6</span>(4)</span></a>.</p>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="UPGRADE" name="UPGRADE">3. Обновление с предыдущих релизов
FreeBSD</a></h2>

<p>Пользователям с уже установленными системами FreeBSD <span class="emphasis"><i
class="EMPHASIS">настоятельно</i></span> рекомендуется прочесть ``Руководство по миграции
на FreeBSD 5.4-RELEASE''. На дистрибутивном носителе или в любом другом месте, где можно
найти информацию о релизе, имя файла этого документа обычно <tt
class="FILENAME">MIGRATE5.TXT</tt>. Он предоставляет отдельные заметки по обновлению с
FreeBSD 4.X, но, что более важно, сравнительно рассматривает работу с 4.<tt
class="REPLACEABLE"><i>X</i></tt> и обновление до 5.<tt
class="REPLACEABLE"><i>X</i></tt>.</p>

<div class="IMPORTANT">
<blockquote class="IMPORTANT">
<p><b>Важно:</b> Обновление FreeBSD конечно же должно производиться только после
резервного копирования <span class="emphasis"><i class="EMPHASIS">всех</i></span> данных
и файлов настройки.</p>
</blockquote>
</div>
</div>
</div>

<hr />
<p align="center"><small>Этот файл и другие документы, относящиеся к данной версии
FreeBSD, могут быть найдены по адресу <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>.</small></p>

<p align="center"><small>Если у вас возник вопрос, касающийся FreeBSD, прочтите <a
href="http://www.FreeBSD.org/ru/docs.html">документацию,</a> прежде чем написать письмо в
&#60;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.</small></p>

<p align="center"><small>Всем пользователям FreeBSD 5-STABLE рекомендуется подписаться на
список рассылки &#60;<a
href="mailto:stable@FreeBSD.org">stable@FreeBSD.org</a>&#62;.</small></p>

<p align="center"><small>Вопросы, касающиеся этого документа, вы можете направить по
адресу &#60;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</small></p>
</body>
</html>

