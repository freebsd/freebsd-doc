<!--
     The FreeBSD Russian Documentation Project

     $FreeBSD$
     $FreeBSDru: frdp/doc/ru_RU.KOI8-R/books/handbook/install/chapter.sgml,v 1.17 2004/02/20 12:25:58 den Exp $

     Original revision: 1.279
-->
<chapter id="install">
  <chapterinfo>
    <authorgroup>
      <author>
        <firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Реструктурировал, исправил и частично
	  переписал </contrib>
      </author>
    </authorgroup>

    <authorgroup>
      <author>
	<firstname>Randy</firstname>
	<surname>Pratt</surname>
	<contrib>Обзор sysinstall, скриншоты и общее
	  руководство </contrib>
      </author>
    </authorgroup>
    <!-- January 2000 -->
  </chapterinfo>

  <title>Установка FreeBSD</title>

  <sect1 id="install-synopsis">
    <title>Краткий обзор</title>

    <indexterm><primary>установка</primary></indexterm>

    <para>FreeBSD поставляется простой в использовании текстовой
      программой установки <application>sysinstall</application>.
      Это основная программа установки FreeBSD, хотя поставщики
      могут предлагать свои программы.  В этой главе
      описывается использование <application>sysinstall</application>
      для установки FreeBSD.</para>

    <para>Прочтя эту главу, вы узнаете:</para>

    <itemizedlist>
      <listitem>
	<para>Как создать дискеты для установки FreeBSD.</para>
      </listitem>

      <listitem>
	<para>Как FreeBSD видит и делит на разделы жесткие диски.</para>
      </listitem>

      <listitem>
	<para>Как запустить <application>sysinstall</application>.</para>
      </listitem>

      <listitem>
	<para>Вопросы, которые <application>sysinstall</application> задаст
	  вам, что имеется ввиду, и как ответить на эти вопросы.</para>
      </listitem>
    </itemizedlist>

    <para>Перед прочтением этой главы вам потребуется:</para>

    <itemizedlist>
      <listitem>
	<para>Прочитать информацию о поддерживаемом оборудовании, поставляемую
	  с устанавливаемой версией FreeBSD, и убедиться, что ваше
	  оборудование поддерживается.</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>Как правило, эти инструкции по установке написаны для
        &i386; (<quote>PC совместимых</quote>)
        компьютеров.  Когда это возможно, приводятся инструкции,
        специфичные для других платформ (например, Alpha).
	Хотя это руководство поддерживается в актуальном состоянии
	настолько, насколько это возможно, вы можете обнаружить
	небольшие различия между программой установки и тем,
	что показано здесь.  Предполагается, что вы будете
	использовать эту главу в качестве общего руководства, а не
	как пошаговую инструкцию по установке.</para>
    </note>

  </sect1>

  <sect1 id="install-pre">
    <title>Перед установкой</title>

    <sect2 id="install-inventory">
      <title>Соберите информацию о компьютере</title>

      <para>Перед установкой FreeBSD попытайтесь собрать
	информацию об устройствах компьютера.  Во время установки
	FreeBSD покажет информацию об устройствах (жестких дисках,
	сетевых картах, CDROM и т.д.) с номером модели и производителем.
	FreeBSD также попытается определить правильную конфигурацию для
	этих устройств, включая информацию об IRQ и портах ввода-вывода.  Из-за
	возможных проблем с оборудованием этот процесс не всегда
	завершается успешно, и возможно вам придется исправлять
	определенную FreeBSD конфигурацию.</para>

      <para>Если у вас уже есть установленная операционная система,
	например &windows; или Linux, неплохо будет использовать ее
	возможности для просмотра настроек оборудования.
	Если вы не уверены какие какие настройки карты
	расширения использовать, можете найти их на самой карте.
	Часто используемые номера прерываний 3, 5 и 7, порты ввода-
	вывода обычно пишутся в шестнадцатеричном виде, например
	0x330.</para>

      <para>Мы рекомендуем распечатать эту информацию перед установкой
	FreeBSD.  Вам может помочь использование таблицы вроде этой:</para>

      <table pgwide="1" frame="none">
	<title>Пример сведений об оборудовании</title>

	<tgroup cols="4">
          <colspec colwidth="2*">
          <colspec colwidth="1*">
          <colspec colwidth="1*">
          <colspec colwidth="4*">
	  <thead>
	    <row>
	      <entry>Название устройства</entry>

	      <entry>IRQ</entry>

	      <entry>Порт ввода-вывода</entry>

	      <entry>Примечания</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>Первый жесткий диск</entry>

	      <entry>нет</entry>

	      <entry>нет</entry>

	      <entry>40&nbsp;GB, Seagate, первый IDE master</entry>
	    </row>

	    <row>
	      <entry>CDROM</entry>

	      <entry>нет</entry>

	      <entry>нет</entry>

	      <entry>Первый IDE slave</entry>
	    </row>

	    <row>
	      <entry>Второй жесткий диск</entry>

	      <entry>нет</entry>

	      <entry>нет</entry>

	      <entry>20&nbsp;GB, IBM, второй IDE master</entry>
	    </row>

	    <row>
	      <entry>Первый IDE контроллер</entry>

	      <entry>14</entry>

	      <entry>0x1f0</entry>

	      <entry></entry>
	    </row>

	    <row>
	      <entry>Сетевая карта</entry>

	      <entry>нет</entry>

	      <entry>нет</entry>

	      <entry>&intel; 10/100</entry>
	    </row>

	    <row>
	      <entry>Модем</entry>

	      <entry>нет</entry>

	      <entry>нет</entry>

	      <entry>&tm.3com; 56K факс-модем, COM1</entry>
	    </row>

	    <row>
	      <entry>&hellip;</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>

    <sect2>
      <title>Сделайте резервное копирование данных</title>

      <para>Если компьютер, на который вы устанавливаете FreeBSD,
	содержит важные данные, убедитесь в наличии резервных копий
	и проверьте их сохранность перед установкой FreeBSD.
	Во время установки FreeBSD запросит подтверждение перед
	тем, как записать данные на диск, но, если процесс запущен,
	изменения нельзя отменить.</para>
    </sect2>

    <sect2 id="install-where">
      <title>Решите куда установить FreeBSD</title>

      <para>Если вы хотите, чтобы FreeBSD использовала весь жесткий диск,
	не о чем беспокоиться &mdash; можете пропустить этот
	раздел.</para>

      <para>Однако, если нужно совмещать FreeBSD с другими
	операционными системами, необходимо иметь представление
	как данные размещаются на диске и как это касается вас.</para>

      <sect3 id="install-where-i386">
	<title>Разделы диска для &i386;</title>

      <para>Диск PC может быть поделен отдельные части.  Эти
	части называют <firstterm>разделами</firstterm>.  Первоначально
	PC поддерживал только четыре раздела на диск.  Эти разделы
	называются <firstterm>главными разделами</firstterm>.  Чтобы
	обойти это ограничение и дать возможность создавать более чем
	четыре раздела, был создан новый тип раздела, <firstterm>расширенный
	раздел</firstterm>.  Диск может содержать только один расширенный
	раздел.  Специальные разделы, называемые <firstterm>логическими
	разделами</firstterm>, могут быть созданы внутри расширенного
	раздела.</para>

      <para>Каждый раздел имеет <firstterm>ID раздела</firstterm> &mdash;
	номер, который используется для определения типа данных на разделе.
	FreeBSD использует ID раздела <literal>165</literal>.</para>

      <para>Как правило, каждая операционная система, которую вы используете,
	определяет разделы своим способом.  Например, DOS и ее
	потомки, такие как &windows;, присваивают каждому главному и логическому
	разделу <firstterm>букву диска</firstterm>, начиная с
	<devicename>C:</devicename>.</para>

      <para>FreeBSD нужно устанавливать в главный раздел.  FreeBSD может
	хранить все свои данные, включая создаваемые вами файлы, на
	этом одном разделе.  Тем не менее, если дисков много, вы можете
	создать разделы FreeBSD на всех дисках или на некоторых из них.
	При установке FreeBSD должен быть доступен по крайней мере один раздел.
	Это может быть чистый, подготовленный для установки раздел, или
	раздел с данными, которые больше не нужны.</para>

      <para>Если все разделы на диске уже используются, вы должны
	освободить один из них для FreeBSD, используя программы,
	поставляемые с имеющейся операционной системой (например,
	<command>fdisk</command> для DOS или &windows;).</para>

      <para>Если есть резервный раздел, используйте его.  Однако,
	возможно сначала придется ужать один или несколько
	существующих разделов.</para>

      <para> FreeBSD для установки нужен диск не менее 100&nbsp;MB.
	Однако, это <emphasis>очень</emphasis>минимальная
	установка, при которой не останется места для ваших личных 
	файлов.  Более реальный объем &mdash; 250&nbsp;MB без графической оболочки,
	и более 350&nbsp;MB с графической оболочкой.  Если вы собираетесь
	устанавливать большое количество дополнительного ПО,
	понадобится еще больше дискового пространства.</para>

      <para>Вы можете использовать коммерческие программы,
	такие как <application>&partitionmagic;</application>, для
	изменения размера разделов и освобождения места под
	FreeBSD.  Каталог <filename>tools</filename> на CDROM
	содержит две свободно распространяемых утилиты,
	которые могут быть использованы для этой задачи, называющиеся
	<application>FIPS</application>
	и <application>PResizer</application>.
	<application>FIPS</application>,
	<application>PResizer</application>, и
	<application>&partitionmagic;</application> могут изменять размер
	разделов <acronym>FAT16</acronym> и <acronym>FAT32</acronym>,
	используемых системами от &ms-dos; до &windows; ME.
	<application>&partitionmagic;</application> это единственная
	известная программа, способная изменять размер <acronym>NTFS</acronym>.
	Документация на них находится в том же каталоге.</para>

      <warning>
	<para>Неправильное использование этих утилит может привести к
	  уничтожению данных на диске.  Удостоверьтесь в
	  наличии свежих и исправных резервных копий данных перед
	  их использованием.</para>
      </warning>

      <example>
	<title>Использование существующего раздела без изменения</title>

	<para>Представьте что в компьютере один 4&nbsp;GB диск, на
	  котором уже установлена &windows;, и диск разбит на два
	  логических диска <devicename>C:</devicename> и
	  <devicename>D:</devicename>, каждый по 2&nbsp;GB.
	  1&nbsp;GB данных на <devicename>C:</devicename>, и
	  0.5&nbsp;GB данных на <devicename>D:</devicename>.</para>

	<para>Это означает, что диск состоит из двух разделов, по одному
	  на каждую букву.  Вы можете скопировать все данные с
	  <devicename>D:</devicename> на <devicename>C:</devicename>, это
	  освободит второй раздел для FreeBSD.</para>
      </example>

      <example>
	<title>Сжатие существующих разделов</title>

	<para>Представьте, что в компьютере один 4&nbsp;GB диск, на
	  котором уже установлена &windows;.  При установке
	  &windows; вы создали один большой раздел, получив при этом
	  диск <devicename>C:</devicename> размером 4&nbsp;GB.  Вы
	  используете 1.5&nbsp;GB, и хотите выделить 2&nbsp;GB для FreeBSD.</para>

	<para>Для установки FreeBSD нужно выбрать:</para>

	<orderedlist>
	  <listitem>
	    <para>Сделать резервную копию &windows;, затем переустановить
	      &windows;, выделив 2&nbsp;GB под ее раздел.</para>
	  </listitem>

	  <listitem>
	    <para>Использовать одну из утилит, таких как
		<application>&partitionmagic;</application>, описанную
		выше, для сжатия раздела &windows;.</para>
	  </listitem>
	</orderedlist>
      </example>

      </sect3>

      <sect3>
	<title>Разделы диска для Alpha</title>

	<indexterm><primary>Alpha</primary></indexterm>

	<para>Вам потребуется выделенный диск
	   для FreeBSD на Alpha.  В настоящее время невозможно
	  установить две операционные системы на диск.  В зависимости
	  от конкретного компьютера Alpha, диск может быть SCSI
	  или IDE, главное, чтобы ваш компьютер мог с него
	  загружаться.</para>

	<para>В соответствии с соглашениями, принятыми в
	  руководствах Digital / Compaq, весь SRM ввод показан в
	  верхнем регистре.  SRM нечувствителен к регистру.</para>

	<para>Для поиска имен и типов дисков на компьютере
	  используйте команду <literal>SHOW DEVICE</literal> SRM
	  консоли:</para>

	<screen>&gt;&gt;&gt;<userinput>SHOW DEVICE</userinput>
dka0.0.0.4.0               DKA0           TOSHIBA CD-ROM XM-57  3476
dkc0.0.0.1009.0            DKC0                       RZ1BB-BS  0658
dkc100.1.0.1009.0          DKC100             SEAGATE ST34501W  0015
dva0.0.0.0.1               DVA0
ewa0.0.0.3.0               EWA0              00-00-F8-75-6D-01
pkc0.7.0.1009.0            PKC0                  SCSI Bus ID 7  5.27
pqa0.0.0.4.0               PQA0                       PCI EIDE
pqb0.0.1.4.0               PQB0                       PCI EIDE</screen>

	<para>Этот пример с Digital Personal Workstation
	  433au показывает три подключенных диска.  Первый &mdash;
	  устройство CDROM с именем <devicename>DKA0</devicename>, другие два
	  называются <devicename>DKC0</devicename> и
	  <devicename>DKC100</devicename> соответственно.</para>

	<para>Диски с именами <devicename>DKx</devicename>
	  &mdash; SCSI диски.  Например, <devicename>DKA100</devicename>
	  означает SCSI диск со SCSI целевым ID 1 на первой SCSI шине (A),
	  в то время как <devicename>DKC300</devicename> означает SCSI диск
	  с SCSI ID 3 на третьей SCSI шине (C).  Имя устройства <devicename>
	  PKx</devicename> означает SCSI адаптер.  Как показано
	  в выводе <literal>SHOW DEVICE</literal>, SCSI устройство CDROM
	  определяется как любой другой жесткий диск SCSI.</para>

	<para>Имена IDE дисков выглядят как <devicename>DQx</devicename>,
	  в то время как <devicename>PQx</devicename> &mdash; IDE
	  контроллер.</para>

      </sect3>
    </sect2>

    <sect2>
      <title>Соберите информацию о конфигурации сети</title>

      <para>Если вы хотите подключиться к сети в процессе установки
	FreeBSD (например, при установке с FTP или NFS сервера),
	нужно знать конфигурацию сети.  Вам будет предложено
	ввести эту информацию,
	чтобы FreeBSD смогла подключиться к сети для продолжения
	установки.</para>

      <sect3>
	<title>Подключение к сети Ethernet, или через кабельный/DSL модем</title>

	<para>Если вы подключаетесь к сети Ethernet, или соединение
	  с интернет подключено к Ethernet через кабельный или DSL модем, понадобится
	  следующая информация:</para>

	<orderedlist>
	  <listitem>
	    <para>IP адрес</para>
	  </listitem>

	  <listitem>
	    <para>IP адрес шлюза по умолчанию</para>
	  </listitem>

	  <listitem>
	    <para>Имя хоста</para>
	  </listitem>

	  <listitem>
	    <para>IP адрес DNS сервера</para>
	  </listitem>

	  <listitem>
	    <para>Маска подсети</para>
	  </listitem>
	</orderedlist>

	<para>Если у вас нет этой информации, спросите
	  системного администратора или провайдера интернет.  Они могут сказать,
	  что эти данные присваиваются автоматически, с использованием
	  <firstterm>DHCP</firstterm>.  Если это так, запомните это.</para>
      </sect3>

      <sect3>
	<title>Подсоединение с помощью модема</title>

	<para>Если вы дозваниваетесь до провайдера с помощью обычного модема,
	  вы все же сможете установить FreeBSD через интернет, но это займет
	  очень много времени.</para>

	<para>Вам нужно знать:</para>

	<orderedlist>
	  <listitem>
	    <para>Номер телефона провайдера</para>
	  </listitem>

	  <listitem>
	    <para>COM порт, к которому подключен модем</para>
	  </listitem>

	  <listitem>
	    <para>Имя пользователя и пароль учетной записи для доступа в 
	      интернет</para>
	  </listitem>
	</orderedlist>
      </sect3>
    </sect2>
    <sect2>
      <title>Проверьте сведения об обнаруженных ошибках FreeBSD</title>

      <para>Хотя проект FreeBSD борется за то, чтобы каждый релиз
	FreeBSD был настолько стабильным, насколько это возможно, ошибки порой
	вкрадываются в процесс разработки.  В очень редких случаях эти ошибки
	влияют на процесс установки.  Как только эти проблемы обнаруживаются и
	исправляются, они попадают в <ulink url="http://www.freebsd.org/releases/&rel.current;-R/errata.html">сообщения об ошибках FreeBSD</ulink>, находящиеся 
	на сайте FreeBSD.  Вы можете проверить сообщения об ошибках перед
	установкой, чтобы убедиться, что не существует проблем, о которых стоит
	беспокоиться.</para>

      <para>Информация о релизах, включая сообщения об ошибках каждого релиза,
	находится странице
	<ulink url="../../../../releases/index.html">информации
	о релизах</ulink>
	<ulink url="../../../../index.html">сайта FreeBSD</ulink>.</para>
    </sect2>

    <sect2>
      <title>Получение установочных файлов FreeBSD</title>

      <para>Программа установки FreeBSD может установить FreeBSD из файлов,
	расположенных в одном из следующих мест:</para>

      <itemizedlist>
	<title>Локальный диск</title>

	<listitem>
	  <para>CDROM или DVD</para>
	</listitem>

	<listitem>
	  <para>Раздел DOS на вашем компьютере</para>
	</listitem>

	<listitem>
	  <para>Лента SCSI или QIC</para>
	</listitem>

	<listitem>
	  <para>Гибкие диски</para>
	</listitem>
      </itemizedlist>

      <itemizedlist>
	<title>Сеть</title>

	<listitem>
	  <para>FTP сервер (через файрволл или HTTP прокси,
	    если потребуется)</para>
	</listitem>

	<listitem>
	  <para>NFS сервер</para>
	</listitem>

	<listitem>
	  <para>Соединение через параллельный или последовательный порт</para>
	</listitem>
      </itemizedlist>

      <para>Если вы купили FreeBSD на CD или DVD, у вас уже есть
	все, что нужно, переходите к следующему разделу
	(<xref linkend="install-floppies">).</para>

      <para>Если у вас нет установочных файлов FreeBSD,
	перейдите к разделу <xref linkend="install-diff-media">, который описывает,
	как подготовиться к установке FreeBSD любым указанным выше способом.
	После прочтения этого раздела, вернитесь сюда и прочтите
	<xref linkend="install-floppies">.</para>
    </sect2>

    <sect2 id="install-floppies">
      <title>Подготовка загрузочных дисков</title>

      <para>Процесс установки FreeBSD начинается с загрузки в ваш
	компьютер программы установки FreeBSD &mdash; эта программа
	не запускается из других операционных систем.  Компьютер
	обычно загружает операционную систему, установленную на
	жестком диске, но также может быть настроен для
	использования <quote>загрузочной</quote> дискеты.
	Большинство современных компьютеров могут также
	загрузиться с компакт-диска в приводе CDROM.</para>

      <tip>
	<para>Если у вас есть FreeBSD на CDROM или DVD (купленный
	  или записанный самостоятельно), и компьютер позволяет загрузку
	  с CDROM или DVD (обычно этот пункт в BIOS называется <quote>Boot
	    Order</quote> или что-то вроде), можете пропустить этот раздел.
	  Образы FreeBSD CDROM и DVD являются загрузочными и могут быть
	  использованы для установки FreeBSD без какой-либо специальной
	  подготовки.</para>
      </tip>

      <para>Для создания загрузочных дисков сделайте следующее:</para>

      <procedure>
	<step>
	  <title>Получение образов загрузочных дисков</title>

	  <para>Загрузочные диски есть на установочном диске
	    в каталоге <filename>floppies/</filename>, и
	    могут быть также закачаны из <ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/floppies/">
	    каталога  floppies </ulink> для компьютеров &i386; и из <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/alpha/&rel.current;-RELEASE/floppies/">каталога floppies</ulink> для компьютеров Alpha.</para>

	  <para>Расширение файла образа диска <filename>.flp</filename>.
	    Каталог <filename>floppies/</filename> содержит множество
	    разных образов, ваш выбор будет зависеть от устанавливаемой
	    версии FreeBSD и, в некоторых случаях, от конфигурации
	    компьютера.  В большинстве случаев понадобятся всего лишь два
	    файла, <filename>kern.flp</filename> и
	    <filename>mfsroot.flp</filename>.  В некоторых системах могут
	    потребоваться дополнительные драйверы устройств.  Они находятся
	    в файле <filename>drivers.flp</filename>.  Обратитесь к файлу
	    <filename>README.TXT</filename> в том же каталоге за свежей
	    информацией об этих образах дисков.</para>

	  <important>
	    <para>FTP клиент должен использовать
	      <emphasis>бинарный режим</emphasis>
	      для загрузки образов дисков.  Некоторые веб браузеры
	      используют <emphasis>текстовый</emphasis>
	      (<emphasis>ASCII</emphasis>) режим, который точно не позволит
	      загрузиться с этих дисков.</para>
	  </important>
	</step>

	<step>
	  <title>Подготовка дискет</title>

	  <para>Необходимо подготовить по одной дискете на
	    каждый загруженный образ.  Эти дискеты должны
	    быть без дефектов.  Лучший способ проверить это &mdash;
	    отформатировать дискеты самостоятельно.
	    Не доверяйте заводскому форматированию дискет.  Утилита
	    форматирования в &windows; не сообщит о наличии плохих
	    секторов, она просто пометит их как <quote>плохие</quote>
	    и проигнорирует.  Советуем использовать новые дискеты
	    если вы выбрали этот способ установки.</para>

	  <important>
	    <para>Если при попытке установки FreeBSD программа
	      установки рушится, зависает, или делает что-то не так, сразу
	      проверьте дискеты.  Попробуйте записать образы
	      на новые дискеты и попытайтесь еще раз.</para>
	  </important>
	</step>

	<step>
	  <title>Запись образов на дискеты</title>

	  <para>Файлы с расширением <filename>.flp</filename> это
	    <emphasis>не</emphasis> обычные файлы, которые можно
	    записать на диск.  Это образы всего содержимого диска.
	    Это означает, что вы <emphasis>не можете</emphasis>
	    просто скопировать их с одного диска на другой.
	    Вместо этого, нужно использовать
	    специальные утилиты для записи образов на диск.</para>

	  <indexterm><primary>DOS</primary></indexterm>
	  <para>Если вы записываете флоппи на компьютере под
      &ms-dos;/&windows;, используйте утилиту
       <command>fdimage</command>.</para>

	  <para>Если вы используете образы с CDROM, и буква вашего
	    CDROM  <devicename>E:</devicename>,
	    запустите ее так:</para>

	  <screen><prompt>E:\&gt;</prompt> <userinput>tools\fdimage floppies\kern.flp A:</userinput></screen>

	  <para>Повторите эту команду для каждого файла 
	    <filename>.flp</filename>, вставляя новую дискету каждый раз,
	    пометьте каждый диск именем файла, который вы скопировали на него.
	    Измените команду если потребуется, в зависимости от места, куда вы
	    поместили файлы <filename>.flp</filename>.  Если у вас нет
	    CDROM, <command>fdimage</command> может быть загружена
	    из каталога <ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/"><filename class="directory">tools</filename>
	    </ulink> FTP сервера FreeBSD.</para>

	  <para>Если вы записываете дискеты под &unix; (например,
	    под другой системой FreeBSD), используйте утилиту &man.dd.1;
	    для записи образов непосредственно на дискеты.  Под FreeBSD
	    запустите:</para>

	  <screen>&prompt.root; <userinput>dd if=kern.flp of=/dev/fd0</userinput></screen>

	  <para>Под FreeBSD, <filename>/dev/fd0</filename> означает первый
	    гибкий диск (диск <devicename>A:</devicename>).
	    <filename>/dev/fd1</filename> будет диском
	    <devicename>B:</devicename>, и так далее.  Другие &unix;
	    системы могут по-другому именовать устройства гибких дисков,
	    вам возможно понадобится прочитать документацию по
	    соответствующей системе.</para>
	</step>
      </procedure>

      <para>Теперь вы готовы к установке FreeBSD.</para>
    </sect2>
  </sect1>

  <sect1 id="install-start">
    <title>Начало установки</title>

    <important>
      <para>Как правило, программа установки не будет производить никаких
	изменений на дисках, пока не выдаст следующее сообщение:</para>

      <literallayout class="monospaced">Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</literallayout>

      <para>Установка может быть прервана в любой момент до этого
	предупреждения без каких-либо изменений на жестком диске.  Если вы
	считаете, что что-то настроили неправильно, можете просто
	выключить компьютер без риска что-либо повредить.</para>
    </important>

    <sect2 id="install-starting">
      <title>Загрузка</title>

      <sect3 id="install-starting-i386">
        <title>Загрузка &i386;</title>

      <procedure>
	<step>
	  <para>Компьютер выключен.</para>
	</step>

	<step>
	  <para>Включите компьютер.  После включения он должен показать
	    способ входа в меню установки BIOS, как правило это
	    клавиши <keycap>F2</keycap>, <keycap>F10</keycap>,
	    <keycap>Del, </keycap>или
	    <keycombo action="simul">
	      <keycap>Alt</keycap>
	      <keycap>S</keycap>
	    </keycombo>.  Используете те клавиши, которые показаны на экране.
	    В некоторых случаях компьютер может показывать картинку после
	    запуска.  Как правило, нажатие <keycap>Esc</keycap> уберет картинку
	    и позволит вам увидеть необходимую информацию.</para>
	</step>

	<step>
	  <para>Найдите установки системы, указывающие ей с какого устройства
	    загружаться.  Обычно они обозначаются как <quote>Boot Order</quote>,
	    и там как правило отображен список устройств, таких как
	    <literal>Floppy</literal>, <literal>CDROM</literal>,
	    <literal>First Hard Disk</literal>, и так далее.</para>

	  <para>Если вы подготовили дискеты, убедитесь, что выбран
	    Floppy.  Если вы загружаетесь с CDROM, убедитесь что
	    выбран он.  Если вы не уверены, посмотрите руководство к
	    компьютеру и/или к его материнской плате.</para>

	  <para>Сделайте изменения, затем сохраните их и выйдите.  Компьютер
	    должен перезагрузиться.</para>
	</step>

	<step>
	  <para>Если вы подготовили дискеты, как описано в разделе
	    <xref linkend="install-floppies">, одна из них будет первым
	    загрузочным диском; как правило, это дискета с
	    <filename>kern.flp</filename>.  Вставьте эту дискету в
	    дисковод.</para>

	  <para>Если вы загружаетесь с CDROM, потребуется сначала
	    включить компьютер и вставить компакт-диск как только это станет
	    возможно.</para>

	  <para>Если компьютер запускается как обычно, и загружает
	    существующую операционную систему, возможны следующие причины:</para>

	  <orderedlist>
	    <listitem>
	      <para>Диск был вставлен недостаточно рано в процессе загрузки.
		Оставьте его внутри и перегрузите компьютер.</para>
	    </listitem>

	    <listitem>
	      <para>Установки BIOS, измененные ранее, действуют неправильно.
		Надо изменять их их пока они не заработают.</para>
	    </listitem>

	    <listitem>
	      <para>BIOS вашего компьютера не поддерживает загрузку с
		выбранного типа носителя.</para>
	    </listitem>
	</orderedlist>
	</step>
    
	<step>
	  <para>FreeBSD начнет загрузку.  Если загрузка происходит с CDROM, вы
	    увидите что-то вроде этого (информация о версии удалена):</para>

	  <screen>Verifying DMI Pool Data ........
Boot from ATAPI CD-ROM :
 1. FD 2.88MB  System Type-(00)
Uncompressing ... done

BTX loader 1.00 BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive B: is disk1
BIOS drive C: is disk2
BIOS drive D: is disk3
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel text=0x277391 data=0x3268c+0x332a8 |

|
Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _</screen>

	  <para>Если происходит загрузка с дискеты, вы увидите что-то вроде
	    этого (информация о версии удалена):</para>

	  <screen>Verifying DMI Pool Data ........

BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1 
BIOS 639kB/261120kB available memory 

FreeBSD/i386 bootstrap loader, Revision 0.8 
/kernel text=0x277391 data=0x3268c+0x332a8 |

Please insert MFS root floppy and press enter:</screen>

	  <para>Следуя инструкциям, уберите дискету с
	    <filename>kern.flp</filename>, вставьте дискету с
	    <filename>mfsroot.flp</filename> и нажмите
	    <keycap>Enter</keycap>.</para>
	</step>

	<step>
	  <para>Идет ли загрузка с дискет или с CDROM,
	    в процессе загрузки появится:</para>

	  <screen>Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _</screen>

	  <para>Подождите десять секунд или нажмите <keycap>Enter</keycap>.
	    Будет запущено меню конфигурации ядра.</para>
	</step>
      </procedure>

      </sect3>
      <sect3>
        <title>Загрузка Alpha</title>

	<indexterm><primary>Alpha</primary></indexterm>

      <procedure>
	<step>
	  <para>Компьютер выключен.</para>
	</step>

	<step>
	  <para>Включите компьютер и дождитесь приглашения к загрузке
	    на мониторе.</para>
        </step>

	<step>
	  <para>Если вы подготовили загрузочные дискеты, как описано в разделе
	    <xref linkend="install-floppies">, одна из них будет
	    первым загрузочным диском; как правило, это дискета с
	    <filename>kern.flp</filename>.  Вставьте эту дискету в дисковод
	    и наберите следующую команду для загрузки
	    (замените на имя вашего дисковода если потребуется):</para>

	  <screen>&gt;&gt;&gt;<userinput>BOOT DVA0 -FLAGS '' -FILE ''</userinput></screen>

	  <para>Если вы загружаетесь с CDROM, вставьте компакт-диск в
	    привод и наберите для начала установки следующую команду
	    (замените на имя соответствующего устройства
	    CDROM если потребуется):</para>

          <screen>&gt;&gt;&gt;<userinput>BOOT DKA0 -FLAGS '' -FILE ''</userinput></screen>
	</step>

	<step>
	  <para>FreeBSD начнет загружаться.  Если загрузка идет с дискет, через
	    некоторое время вы увидите сообщение:</para>

	  <screen>Please insert MFS root floppy and press enter:</screen>

	  <para>Следуя инструкциям, удалите дискету с
	    <filename>kern.flp</filename>, вставьте дискету с
	    <filename>mfsroot.flp</filename> и нажмите
	    <keycap>Enter</keycap>.</para>
	</step>

	<step>
	  <para>Идет ли загрузка с дискет или с CDROM,
	    в процессе загрузки появится:</para>

	  <screen>Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _</screen>

	  <para>Подождите десять секунд или нажмите <keycap>Enter</keycap>.
	    Будет запущено меню конфигурации ядра.</para>
	</step>
      </procedure>

      </sect3>

    </sect2>

    <sect2 id="start-userconfig">
      <title>Конфигурация ядра (kernel)</title>

      <note><para>Начиная с FreeBSD версии 5.0 и более поздних, userconfig
	был удален в пользу метода &man.device.hints.5;.  За более подробной
	информацией о &man.device.hints.5; обращайтесь к <xref linkend="device-hints"></para></note>

<!-- SCSI sequential access driver - драйвер SCSI-->
      <para><firstterm>kernel</firstterm> это ядро операционной системы.
	В нем реализовано множество функций, включая доступ ко
	всем устройствам, которые могут быть в системе, таким как
	жесткие диски, сетевые карты, звуковые карты и т.д.  Каждое устройство,
	поддерживаемое ядром FreeBSD имеет свой драйвер.  У каждого
	драйвера есть имя из двух или трех букв, например <devicename>sa
	</devicename> для драйвера последовательного доступа SCSI, или
	<devicename>sio</devicename>
	для драйвера последовательного ввода-вывода (который управляет
	COM портами).</para>

      <para>Когда ядро загружено, каждый драйвер проверяет систему на
	предмет наличия поддерживаемого оборудования.  Если оно найдено,
	драйвер конфигурирует оборудование и делает его доступным остальной
	части ядра.</para>

      <para>Такая проверка обычно называется <firstterm>тестированием
	устройства</firstterm>.  К сожалению, это не всегда
	безопасно.  Некоторые драйвера конфликтуют между собой,
	и проверка части оборудования иногда может привести другую
	часть в неработоспособное состояние.  Это основное ограничение
	архитектуры <acronym>PC</acronym>.</para>

      <para>Многие старые устройства называются ISA &mdash; в
	противоположность PCI.  Стандарт ISA требует, чтобы в каждом
	устройстве была прописана некоторая информация, обычно номер
	Interrupt Request Line (IRQ) и адрес порта ввода-вывода, которые
	используются драйвером.  Эта информация обычно устанавливается
	с использованием перемычек на карте, или с помощью DOS
	утилиты.</para>

      <para>Часто это вызывало проблемы, поскольку было
	невозможно использовать два устройства с одинаковыми IRQ или
	адресами портов.</para>

      <para>Новые устройства поддерживают PCI стандарт, который не
	требует установки параметров вручную, так как устройства способны
	общаться с BIOS и договариваться, какие IRQ и адреса портов
	ввода-вывода использовать.</para>

      <para>Если в вашем компьютере есть устройства ISA, FreeBSD
	драйвер для этого устройства должен быть настроен с IRQ и
	адресом порта установленными на карте.  Для этого может
	понадобиться собрать сведения об оборудовании (<xref
	linkend="install-inventory">).</para>

      <para>К сожалению, номера IRQ и адреса портов, используемые
	некоторыми драйверами, конфликтуют.  Это потому, что некоторые
	устройства ISA поставляются с конфликтующими номерами IRQ
	или адресами портов.  По умолчанию драйвера FreeBSD
	предусмотрительно настроены для использования заводских установок,
	поэтому будут работать столько устройств, сколько возможно.</para>

      <para>Это как правило не проблема при каждодневном использовании FreeBSD.
	В компьютере обычно нет двух конфликтующих устройств,
	поскольку в противном случае одно из них не будет работать
	(независимо от используемой операционной системы).</para>

      <para>Это может стать проблемой при установке FreeBSD в первый раз,
	потому что ядро, используемое для установки, собрано с максимальным
	количеством драйверов для поддержки множества различных
	конфигураций оборудования.  Это означает, что некоторые из драйверов
	имеют конфликтующие настройки.  Устройства тестируются в строго
	определенном порядке, и если у вас есть устройство, тестирующееся
	позже, но конфликтующее с ранее протестированным устройством,
	оборудование может не работать или быть некорректно протестировано
	в процессе установки FreeBSD.</para>

      <para>Поэтому первое, что вы должны сделать при установке
	FreeBSD &mdash; проверить список устройств, настроенных в
	ядре. Отключите некоторые из них, если таких устройств нет.
	Подтвердите (и измените) конфигурацию, если
	это устройство присутствует, но установки по умолчанию неверны.</para>

      <para>Возможно, это звучит гораздо сложнее чем есть на самом деле.</para>

      <para>На <xref linkend="kernel-config"> показано главное меню
	конфигурации ядра.  Мы рекомендуем выбрать опцию
	<guimenuitem>Start kernel configuration in full-screen visual
	  mode</guimenuitem>, так как это самый простой интерфейс для
	нового пользователя.</para>

      <figure id="kernel-config">
	<title>Меню конфигурации ядра</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/userconfig" format="PNG">
	  </imageobject>

	  <textobject>
	    <screen>&txt.install.userconfig;</screen>
	  </textobject>
	</mediaobject>
      </figure>

      <para>Экран конфигурации ядра (<xref linkend="fig-userconfig">)
	поделен на четыре части:</para>

      <orderedlist>
	<listitem>
	  <para>Свернутый список устройств, помеченных как
	    <quote>active</quote>, поделен на группы, такие как
	    <literal>Storage</literal>, и <literal>Network</literal>.  
	    Каждый драйвер показан в виде описания, имени из двух
	    или трех букв, используемых IRQ и порта.  В дополнение,
	    если какой-либо активный драйвер конфликтует с другим
	    активным драйвером, после имени драйвера пишется 
	    <literal>CONF</literal>.  В этом разделе также показано 
	    общее число конфликтующих активных драйверов.</para>
	</listitem>

	<listitem>
	  <para> Драйверы, помеченные как неактивные.  Они остаются в ядре,
	    но не будут тестировать свои устройства при загрузке ядра.
	    Они поделены на группы так же как и активные драйверы.</para>
	</listitem>

	<listitem>
	  <para>Дополнительная информация о выбранном в данный момент
	    драйвере, включая IRQ и адрес порта.</para>
	</listitem>

	<listitem>
	  <para>Информация об управляющих клавишах, доступных в данный
	    момент.</para>
	</listitem>
      </orderedlist>

      <figure id="fig-userconfig">
	<title>Визуальный интерфейс конфигурации ядра</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/userconfig2" format="PNG">
	  </imageobject>

          <textobject>
            <screen>&txt.install.userconfig2;</screen>
          </textobject>
	</mediaobject>
      </figure>

      <para>Не беспокойтесь если появятся сообщения о конфликтах,
	так и должно быть; все драйверы
	включены и как уже объяснялось, некоторые из них будут
	конфликтовать с другими.</para>

      <para>Сейчас вам нужно просмотреть список драйверов и
	разрешить конфликты.</para>

      <procedure>
	<title>Разрешение конфликтов драйверов</title>

	<step>
	  <para>Нажмите <keycap>X</keycap>.  Это полностью раскроет список
	    драйверов и вы сможете увидеть их все.  Вам понадобятся
	    клавиши навигации для прокрутки назад и вперед в списке
	    активных драйверов.</para>

	  <para><xref linkend="hardware-conflicts"> показывает результат
	    действия <keycap>X</keycap>.  </para>

	  <figure id="hardware-conflicts">
	    <title>Развернутый список драйверов</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/hdwrconf" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>
	</step>

	<step>
	  <para>Отключите все драйвера устройств, которых у вас нет.  Для
	    отключения драйвера, переместитесь к нему с помощью клавиш
	    навигации и нажмите <keycap>Del</keycap>.  Драйвер будет
	    помещен в список <literal>Inactive Drivers</literal>.</para>

	  <para>Если вы случайно отключили нужное устройство, нажмите
	    <keycap>Tab</keycap> для переключения на <literal>Inactive
	    Drivers</literal>, выберите отключенный драйвер, и
	    нажмите <keycap>Enter</keycap>, чтобы вернуть его обратно в список
	    активных драйверов.</para>

	  <warning>
	    <para>Не отключайте <devicename>sc0</devicename>.  Он управляет
	      экраном, и он нужен, если только вы не производите установку
	      через последовательный порт.</para>
	  </warning>

	  <warning>
	    <para>Отключайте <devicename>atkbd0</devicename> только если
	      вы используете USB клавиатуру.  Если клавиатура обычная,
	      оставьте <devicename>atkbd0</devicename>.</para>
	  </warning>
	</step>

	<step>
	  <para>Если конфликтов нет, можете пропустить этот этап.
	    В другом случае оставшиеся конфликты должны быть проверены.  Если
	    они не помечены как <quote>allowed conflict</quote> в окне
	    сообщений, должны быть изменены или IRQ/адрес порта для
	    тестирования устройства, <emphasis>или</emphasis> IRQ/адрес порта
	    физического устройства.</para>

	  <para>Для изменения IRQ и адреса порта ввода-вывода драйвера,
	    выберите устройство и нажмите <keycap>Enter</keycap>.  Курсор
	    переместится в третье окно и вы сможете изменить значения.
	    вам нужно ввести значения IRQ и адреса порта, определенные
	    в процессе сбора информации об оборудовании.
	    Нажмите <keycap>Q</keycap> для завершения редактирования
	    конфигурации устройства и возвращения в список активных 
	    устройств.</para>

	  <para>Если вы не уверены, какими должны быть эти значения,
	    попробуйте использовать <literal>-1</literal>.  Некоторые драйвера
	    FreeBSD могут безопасно протестировать оборудование
	    для определения правильных значений, и значение
	    <literal>-1</literal> указывает им сделать это.</para>

	  <para>Процедура изменения адреса физического устройства различна
	    для разных устройств.  Для некоторых устройств вам может
	    понадобиться извлечь карту из компьютера и установить перемычки или
	    DIP переключатели.  Другие устройства могут поставляться с DOS
	    дискетой, содержащей программы, используемые для перенастройки
	    карты.  В любом случае, обращайтесь к документации, поставляемой
	    с устройством.  Изменение адреса несомненно потребует
	    перезагрузки компьютера, так что вам потребуется опять 
	    вернуться к процессу установки FreeBSD после
	    перенастройки карты.</para>
	</step>

	<step>
	  <para>Когда все конфликты будут разрешены, экран будет выглядеть как
	    <xref linkend="userconfig-done">.</para>

	  <figure id="userconfig-done">
	    <title>Конфигурация драйверов без конфликтов</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/probstart" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>

	  <para>Как видите, список активных драйверов стал гораздо меньше,
	    поскольку в нем только драйвера реально установленных
	    устройств.</para>

	  <para>Теперь вы можете сохранить изменения и перейти к следующему
	    пункту установки.  Нажмите <keycap>Q</keycap> для выхода из меню
	    конфигурации.  Появится сообщение:</para>

	  <screen>Save these parameters before exiting? ([Y]es/[N]o/[C]ancel)</screen>

	  <para>Нажмите <keycap>Y</keycap> для сохранения параметров
	    в памяти (они будут сохранены на диск после завершения установки)
	    и тестирование начнется.  После отображения белым по черному
	    результатов тестирования запустится
	    <application>sysinstall</application>
	    и отобразится главное меню
	    (<xref linkend="sysinstall-main">).</para>

	  <figure id="sysinstall-main">
	    <title>Главное меню Sysinstall</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/main1" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>
	</step>
      </procedure>
    </sect2>

    <sect2 id="view-probe">
      <title>Просмотр результатов тестирования устройств</title>

      <para>Последние несколько сотен линий, отображенные на экране,
	сохраняются и могут быть просмотрены.</para>

      <para>Для просмотра буфера нажмите <keycap>Scroll Lock</keycap>.  Это
	включит прокрутку экрана.  Вы можете использовать клавиши навигации или
	<keycap>PageUp</keycap> и <keycap>PageDown</keycap> для просмотра
	результатов.  Нажмите <keycap>Scroll Lock</keycap> еще раз для
	отключения прокрутки.</para>

      <para>Сделайте это сейчас для просмотра текста, ушедшего за экран,
	когда ядро закончило тестирование устройств.  Вы увидите текст вроде
	<xref linkend="install-dev-probe">, хотя в деталях он будет отличаться
	в зависимости от устройств, имеющихся в вашем компьютере.</para>

      <figure id="install-dev-probe">
	<title>Типичный вывод Device Probe</title>

	<screen>avail memory = 253050880 (247120K bytes)
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard   
npx0: INT 16 interface   
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; (vendor=0x1106, dev=0x3040) at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</screen>
      </figure>

      <para>Внимательно проверьте результаты тестирования устройств и
	убедитесь, что FreeBSD обнаружила все устройства какие нужно.
	Если устройство не найдено, его не будет в списке.  Если драйвер
	устройства нуждается в настройке IRQ и адреса порта, проверьте,
	введены ли они правильно.</para>

      <para>Если вам нужно внести изменения в UserConfig,
	потребуется выйти из <application>sysinstall</application>
	и начать сначала.  Это также хороший путь познакомиться поближе с
	процессом конфигурации.</para>

      <figure id="sysinstall-exit">
	<title>Выбор Sysinstall Exit</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/sysinstall-exit" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте клавиши навигации для выбора
	<guimenuitem>Exit Install</guimenuitem> из главного меню.
	Отобразится сообщение:</para>


      <screen>                      User Confirmation Requested
         Are you sure you wish to exit? The system will reboot
           (be sure to remove any floppies from the drives).

                            [ Yes ]    No</screen>

      <para>Программа установки запустится опять, если компакт-диск
	остался в устройстве и было выбрано <guibutton>[Yes]</guibutton>.</para>

      <para>Если вы загружаетесь с дискет, необходимо будет извлечь
	дискету с <filename>mfsroot.flp</filename> и заменить ее дискетой с
	<filename>kern.flp</filename> перед перезагрузкой.</para>
    </sect2>
  </sect1>

  <sect1 id="using-sysinstall">
    <title>Введение в Sysinstall</title>

    <para>Утилита <application>sysinstall</application> это программа
      установки, предоставляемая проектом FreeBSD.  Это консольное приложение,
      разделенное на несколько меню и экранов, которые вы можете использовать
      для настройки и управления процессом установки.</para>

    <para>Меню <application>sysinstall</application> управляется
      клавишами навигации, <keycap>Enter</keycap>, пробелом, и
      другими.  Подробное описание клавиш и их функций содержится в информации
      по использованию <application>sysinstall</application>.</para>

    <para>Для просмотра этой информации убедитесь, что выбраны пункт
      <guimenuitem>Usage</guimenuitem> и кнопка
      <guibutton>[Select]</guibutton>, как показано на <xref
      linkend="sysinstall-main3">, затем нажмите <keycap>Enter</keycap>.</para>

    <para>Будут показаны инструкции по использованию меню.  После
      просмотра инструкций, нажмите  <keycap>Enter</keycap>для
      возврата в главное меню.</para>

    <figure id="sysinstall-main3">
      <title>Выбор Usage в главном меню Sysinstall</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/main1" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

    <sect2 id="select-doc">
      <title>Выбор меню документации (Doc)</title>

      <para>Из главного меню выберите клавишами навигации 
	<guimenuitem>Doc</guimenuitem> и нажмите <keycap>Enter</keycap>.</para>

      <figure id="main-doc">
	<title>Выбор меню документации</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-doc" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Будет отображено меню документации.</para>

      <figure id="docmenu1">
	<title>Меню документации Sysinstall</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/docmenu1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Рекомендуется прочитать предоставляемую документацию.</para>

      <para>Для просмотра документа выберите его с помощью клавиш
	навигации и нажмите <keycap>Enter</keycap>.  После
	прочтения документа нажмите <keycap>Enter</keycap> для
	возврата в меню документации.</para>

      <para>Для возврата в главное меню выберите 
	<guimenuitem>Exit</guimenuitem> с помощью клавиш навигации и 
	нажмите <keycap>Enter</keycap>.</para>
    </sect2>

    <sect2 id="keymap">
      <title>Выбор меню раскладки клавиатуры (Keymap)</title>

      <para>Для изменения раскладки клавиатуры выберите из меню с
	помощью клавиш навигации <guimenuitem>Keymap</guimenuitem>
	и нажмите <keycap>Enter</keycap>.  Это потребуется только при
	использовании нестандартной или не-US клавиатуры.</para>

      <figure id="sysinstall-keymap">
	<title>Выбор меню раскладки клавиатуры</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-keymap" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Различные раскладки клавиатуры могут быть выбраны из
	меню с использованием клавиш навигации, затем следует
	нажать <keycap>Space</keycap>.  Нажатие <keycap>Space</keycap>
	еще раз приведет к отмене выбора.  Когда необходимые раскладки
	будут выбраны, перейдите на &gui.ok; с помощью клавиш
	навигации и нажмите <keycap>Enter</keycap>.</para>

      <para>На экран выведена только часть списка.  Нажав
	<keycap>Tab</keycap>, можно выбрать &gui.cancel;, вернуться к
	раскладке по умолчанию и перейти к главному меню.</para>

      <figure id="sysinstall-keymap-menu">
	<title>Меню раскладки клавиатуры</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/keymap" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

    </sect2>

    <sect2 id="viewsetoptions">
      <title>Параметры установки (Options)</title>

    <para>Выберите пункт <guimenuitem>Options</guimenuitem>
	и нажмите <keycap>Enter</keycap>.</para>

    <figure id="sysinstall-options">
      <title>Выбор параметров установки</title>

      <mediaobject>
        <imageobject>
	  <imagedata fileref="install/main-options" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

      <figure id="options">
	<title>Параметры Sysinstall</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/options" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Параметры по умолчанию обычно устраивают большинство
        пользователей и не нуждаются в изменении.  Имя релиза зависит
	от устанавливаемой версии.</para>

      <para>Описание выбранного пункта будет появляться внизу экрана
        с синей подсветкой.  Обратите внимание, что один из
	параметров &mdash; <guimenuitem>Use Defaults</guimenuitem>,
	означает сброс всех параметров к значениям по
	умолчанию.</para>

      <para>Нажатие <keycap>F1</keycap> отобразит справку
	по различным параметрам.</para>

      <para>Нажатием <keycap>Q</keycap> можно перейти к
        главному меню.</para>
    </sect2>

    <sect2 id="start-install">
      <title>Начало стандартной установки (Standart)</title>

      <para>Пункт <guimenuitem>Standard</guimenuitem>
	рекомендуется для новых пользователей &unix; или FreeBSD.
	Используйте клавиши навигации для выбора пункта
	<guimenuitem>Standard</guimenuitem>, а затем нажмите 
	<keycap>Enter</keycap> для запуска установки.</para>

      <figure id="sysinstall-standard">
	<title>Начало стандартной установки</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-std" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 id="install-steps">
    <title>Выделение дискового пространства</title>

    <para>Ваша первая задача &mdash; выделить дисковое пространство под
      FreeBSD и разметить его, чтобы <application>sysinstall</application>
      могла его подготовить.  Для этого вам нужно знать, как FreeBSD
      ищет информацию на диске.</para>

    <sect2 id="install-drive-bios-numbering">
      <title>Нумерация дисков в BIOS</title>

      <para>Перед установкой и настройкой FreeBSD
	нужно позаботиться кое о чем, особенно если
	жестких дисков несколько.</para>

      <indexterm><primary>DOS</primary></indexterm>
      <indexterm><primary>Microsoft Windows</primary></indexterm>
      <para>В PC, работающем под BIOS-зависимой операционной
	системой, такой как &ms-dos; или &microsoft.windows;, BIOS
	может отходить от обычного порядка нумерации дисков.  Это
	позволяет пользователю загружаться не только с так
	называемого <quote>primary master</quote> диска.  Это особенно
	удобно для тех пользователей, кто обнаружил, что простейший и самый
	дешевый путь делать резервную копию системы &mdash; купить второй
	идентичный первому жесткий диск и регулярно делать копии первого
	диска на второй, используя
	<application><trademark class="registered">Ghost</trademark></application>
	или <application>XCOPY</application>.  Затем, если первый диск выйдет из
        строя, будет заражен вирусом или поврежден из-за сбоя
        операционной системы, он может быть легко восстановлен
        путем логической перестановки дисков в BIOS.  Это все равно
        что переключить кабели дисков, но без вскрытия корпуса.</para>

      <indexterm><primary>SCSI</primary></indexterm>
      <indexterm><primary>BIOS</primary></indexterm>
      <para>Более дорогостоящие системы со SCSI контроллерами
	зачастую имеют расширения BIOS, позволяющие
	сходным путем менять порядок до семи SCSI дисков.</para>

      <para>Пользователи, привыкшие пользоваться этими полезными
	функциями, могут быть удивлены, что во FreeBSD результаты не
	совпадают с ожидаемыми.  FreeBSD не использует BIOS, и не
	знает о <quote>логическом отображении дисков в BIOS</quote>.  Это может
	привести к очень сложным ситуациям, особенно когда диски
	имеют одинаковую геометрию и содержат точную копию данных
	друг друга.</para>

      <para>При использовании FreeBSD всегда восстанавливайте
        настройки BIOS к первоначальной нумерации перед установкой
        системы и оставляйте их в таком виде.  Если вам понадобится
        переключить диски, сделайте это, но путем физического
        переконфигурирования, вскрыв корпус, переключив перемычки и
        кабели.</para>

      <sidebar>
	<title>Рассказ о необыкновенных приключениях файлов Билла и Фреда:</title>
      
	<para>Билл разобрал старый Wintel компьютер, чтобы
	  сделать еще один компьютер под FreeBSD для Фреда.  Билл
	  установил один SCSI диск как нулевое устройство
	  SCSI и поставил на него FreeBSD.</para>

	<para>Фред начал использовать систему, но через
	  несколько дней обнаружил, что старый SCSI диск сообщает
	  о множестве сбоев и сказал об этом Биллу.</para>

	<para>Еще через несколько дней Билл решил, что настало
	  время решить проблему, и достал такой же SCSI диск
	  из <quote>заначки</quote> в кладовке.  Первая проверка
	  поверхности показала, что диск работает нормально;
	  Билл установил этот диск как четвертое устройство
	  SCSI и скопировал образ диска с нулевого устройства
	  на четвертое.  Теперь, когда новый диск был
	  установлен и отлично работал, Билл решил что
	  неплохо бы начать использовать его, и с помощью
	  функции SCSI BIOS поменял порядок дисков, чтобы
	  система могла грузиться с четвертого устройства
	  SCSI.  FreeBSD загрузилась и работала без
	  проблем.</para>

	<para>Фред поработал еще несколько дней, и скоро они с
	  Биллом решили, что настало время для нового
	  приключения &mdash; время обновить версию FreeBSD.  Билл
	  удалил нулевое устройство SCSI, потому что оно
	  <quote>подглючивало</quote>, и установил на его место такой же диск из
	  <quote>заначки</quote>.  Затем Билл установил новую версию
	  FreeBSD на новое нулевое устройство SCSI используя
	  дискеты Фреда с интернет сервера FTP.  Установка прошла
	  отлично.</para>

	<para>Фред использовал новую версию FreeBSD несколько
	  дней и удостоверился, что она вполне подходит для работы
	  в инженерном отделе.  Настало время скопировать все
	  архивы со старого диска.  Фред смонтировал четвертое
	  устройство SCSI (последнюю копию старой версии
	  FreeBSD) и обнаружил, что ни одного из его
	  драгоценных файлов на четвертом устройстве SCSI
	  нет.</para>

	<para>Куда делись данные?</para>

	<para>Когда Билл сделал копию с нулевого устройства
	  SCSI на четвертое устройство SCSI, оно стало
	  <quote>клоном</quote>.  Когда Билл поменял настройки SCSI BIOS,
	  чтобы загрузиться с четвертого устройства SCSI, он
	  всего лишь обманул сам себя.  FreeBSD все еще
	  работала с нулевого устройства SCSI.  Изменение этих
	  настроек BIOS привело к загрузке части кода Boot и
	  Loader с выбранного в BIOS диска, но после загрузки
	  драйверов FreeBSD настройки BIOS были
	  проигнорированы, и FreeBSD вернулась к нормальной
	  нумерации.  Как показано <quote>на пальцах</quote>, система
	  продолжила работать с нулевым устройством SCSI, и
	  все данные Фреда остались там, а не на четвертом
	  устройстве SCSI.  То, что система грузилась с
	  четвертого устройства SCSI, было всего лишь
	  обманутыми ожиданиями.</para>

	<para>Мы рады упомянуть, что данные не были уничтожены
	  или повреждены при нашем исследовании этого
	  феномена.  Старое нулевое устройство SCSI было
	  вытащено из груды железа, и все файлы Фреда
	  вернулись к нему.</para>

	<para>Хотя в этом рассказе были использованы SCSI
	  диски, с IDE дисками все точно так же.</para>
      </sidebar>
    </sect2>

    <sect2 id="main-fdisk">
      <title>Создание слайсов с использованием FDisk</title>

      <note>
	<para>Внесенные вами изменения не будут записываться на диск сразу.
	  Если вы думаете, что сделали ошибку, и хотите начать сначала, можете
	  использовать меню для выхода из <application>sysinstall</application>
	  и попробовать еще раз или нажатием <keycap>U</keycap> вызвать
	  опцию <guimenuitem>Undo</guimenuitem> (отмена).  Если вы запутались и не можете выйти, просто
	  выключите компьютер.</para>
      </note>

      <para>После начала стандартной установки в 
	<application>sysinstall</application> будет показано это 
	сообщение:</para>

      <screen>                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command. 
                                [  OK  ] 

                      [ Press enter or space ]</screen>

      <para>Нажмите <keycap>Enter</keycap> как предлагается.  Будет
	показан список всех жестких дисков, обнаруженных ядром во время
	тестирования устройств.  
	<xref linkend="sysinstall-fdisk-drive1"> показывает пример системы
	с двумя IDE дисками.  Они были названы
	<devicename>ad0</devicename> и <devicename>ad2</devicename>.</para>

      <figure id="sysinstall-fdisk-drive1">
	<title>Выберите диск для FDisk</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Вы можете быть удивлены, почему устройства
	<devicename>ad1</devicename> здесь нет.  Почему оно было
	пропущено?</para>

      <para>Предположим, что у вас есть два жестких диска IDE, один 
	master на первом контроллере IDE, а второй master на
	втором контроллере IDE.  Если FreeBSD пронумерует их
	в том порядке, в котором нашла, <devicename>ad0</devicename> и
	<devicename>ad1</devicename>, все будет работать.</para>

      <para>Но если вы добавите третий диск, как slave устройство на
	первый контроллер IDE, он станет <devicename>ad1</devicename>,
	а предыдущий <devicename>ad1</devicename> станет
	<devicename>ad2</devicename>.  Поскольку имена устройств (таких как
	<devicename>ad1s1a</devicename>) используются для обращения к
	файловым системам, вы можете вдруг обнаружить, что некоторые из ваших
	файловых систем больше не отображаются правильно и вам потребуется
	изменить конфигурацию FreeBSD.</para>
      
      <para>Для обхода этой проблемы, ядро может быть настроено так, чтобы
	именовать IDE диски на основе их местоположения, а не порядка, в
	котором они были найдены.  С этой схемой master диск на втором
	контроллере IDE будет <emphasis>всегда</emphasis> устройством
	<devicename>ad2</devicename>, если даже нет устройств
	<devicename>ad0</devicename> или <devicename>ad1</devicename>.</para>

      <para>Это конфигурация ядра FreeBSD по умолчанию, поэтому
	на экране показаны <devicename>ad0</devicename> и
	<devicename>ad2</devicename>.  У компьютера, с которого был взят этот
	снимок экрана, есть по одному IDE диску на обеих master каналах IDE
	контроллеров и ни одного диска на каналах slave.</para>

      <para>Вы должны выбрать диск, на который хотите установить FreeBSD,
	и нажать &gui.ok;.
	Запустившийся <application>FDisk</application> будет выглядеть 
	примерно как <xref linkend="sysinstall-fdisk1">.</para>

      <para>Экран <application>FDisk</application> разбит на три 
	секции.</para>

      <para>Первая секция, занимающая первые две линии экрана, показывает
	подробную информацию о выбранном в данный момент диске, включая его
	имя во FreeBSD, геометрию и общий размер диска.</para>

      <para>Вторая секция показывает имеющиеся в данный момент на диске слайсы,
	где они начинаются и заканчиваются, их размер, имя, которое им дала
	FreeBSD, описание и подтип.  На этом примере показаны два маленьких
	неиспользованных слайса, которые являются артефактами схемы разметки
	диска на PC.  Также показан один большой <acronym>FAT</acronym> слайс, который почти всегда
	является диском <devicename>C:</devicename> в &ms-dos; / &windows;, и
	дополнительный слайс, который может содержать диски с другими буквами
	для &ms-dos; / &windows;.</para>

      <para>Третья секция показывает команды, доступные в
	<application>FDisk</application>.</para>

      <figure id="sysinstall-fdisk1">
	<title>Типичные разделы fdisk перед редактированием</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Ваши действия теперь будут зависеть от того, как вы хотите разбить
	диск на слайсы.</para>

      <para>Если вы хотите использовать для FreeBSD весь диск (это приведет
	к удалению всех других данных на этом диске когда вы подтвердите
	<application>sysinstall</application> продолжение процесса установки),
	нажмите <keycap>A</keycap>, что соответствует опции
	<guimenuitem>Использовать весь диск (Use Entire Disk)</guimenuitem>.
	Существующие слайсы будут удалены, и заменены на небольшую область,
	помеченную как <literal>неиспользуемая (unused)</literal>
	(это опять же артефакт разметки диска PC), и один большой слайс для
	FreeBSD.  Когда вы сделаете это, нужно выбрать вновь созданный
	слайс FreeBSD используя клавиши навигации, а затем нажать
	<keycap>S</keycap>, чтобы сделать слайс загрузочным.  Экран будет
	похож на <xref linkend="sysinstall-fdisk2">.  Обратите внимание, что
	<literal>A</literal> в колонке <literal>Flags</literal> означает, что
	слайс <emphasis>активен</emphasis> и с него будет происходить
	загрузка.</para>

      <para>Если вы будете удалять существующий слайс для освобождения места
	под FreeBSD, выберите слайс, используя клавиши навигации, и нажмите
	<keycap>D</keycap>.  Затем можете нажать <keycap>C</keycap>,
	и получить приглашение на ввод размера слайса, который вы хотите
	создать.  Введите соответствующее значение и нажмите
	<keycap>Enter</keycap>.  Значение по умолчанию в этом поле
	означает наибольший размер слайса, который может быть выбран;
	это может быть наибольший непрерывный блок неразмеченного
	пространства или размер всего жесткого диска.</para>
      
      <para>Если вы уже освободили место для FreeBSD (возможно, используя
	утилиту похожую на  <application>&partitionmagic;</application>),
	можете нажать <keycap>C</keycap> для создания нового слайса.
	Будет также предложено ввести размер слайса, который вы
	хотите создать.</para>

      <figure id="sysinstall-fdisk2">
	<title>Разбиение в Fdisk с использованием всего диска</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Когда закончите, нажмите <keycap>Q</keycap>.  Изменения будут
	сохранены в <application>sysinstall</application>, но еще не
	записаны на диск.</para>
    </sect2>

    <sect2 id="bootmgr">
      <title>Установка менеджера загрузки (Boot Manager)</title>

      <para>Теперь вам предлагается установить менеджера загрузки.  Как
	правило, нужно выбрать установку менеджера загрузки если:</para>

      <itemizedlist>
	<listitem>
	  <para>У вас больше чем один диск и вы устанавливаете FreeBSD не на
	    первый диск.</para>
	</listitem>

	<listitem>
	  <para>Вы устанавливаете FreeBSD вместе с другой операционной
	    на один и тот же диск, и хотите выбирать при загрузке FreeBSD
	    или другую операционную систему.</para>
	</listitem>
      </itemizedlist>

      <para>Если FreeBSD единственная операционная система, установленная
	на этом компьютере, и находится на первом жестком диске,
	подойдет менеджер загрузки <guimenuitem>Standard</guimenuitem>.
	Выберите <guimenuitem>None</guimenuitem> если вы используете
	менеджер загрузки сторонних разработчиков, способный загрузить
	FreeBSD.</para>

      <para>Сделайте выбор и нажмите <keycap>Enter</keycap>.</para>

      <figure id="sysinstall-bootmgr">
	<title>Меню менеджера загрузки Sysinstall</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/boot-mgr" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Экран подсказки, вызываемый по нажатию <keycap>F1</keycap>,
	описывает проблемы, которые могут быть встречены при попытке
	совместного использования диска операционными системами.</para>
    </sect2>

    <sect2>
      <title>Создание слайсов на другом диске</title>

      <para>Если дисков больше чем один, вернитесь к экрану выбора дисков
	(Select Drives) после выбора менеджера загрузки.  Если вы собираетесь
	устанавливать FreeBSD более чем на один диск, можете выбрать другой
	диск и повторить процесс разбиения на слайсы с использованием
	<application>FDisk</application>.</para>

      <important>
	<para>Если вы устанавливаете FreeBSD не на первый жесткий диск,
	  потребуется установить менеджер загрузки FreeBSD на оба
	  диска.</para>
      </important>

      <figure id="sysinstall-fdisk-drive2">
	<title>Выход из выбора диска</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Клавиша <keycap>Tab</keycap> переключает между последним выбранным
	диском, &gui.ok;, и 
	&gui.cancel;.</para>

      <para>Нажмите <keycap>Tab</keycap> один раз для выбора
	&gui.ok;, затем нажмите <keycap>Enter</keycap>
	для продолжения установки.</para>
    </sect2>

    <sect2 id="disklabeleditor">
      <title>Создание разделов с помощью
	<application>Disklabel</application></title>
      
      <para>Теперь вы должны создать несколько разделов внутри каждого только
	что созданного слайса.  Запомните, что у каждого раздела есть буква с
	<literal>a</literal> до <literal>h</literal>, а
	разделы <literal>b</literal>, <literal>c</literal>, и
	<literal>d</literal> имеют соглашения, которых вы должны
	придерживаться.</para>

      <para>Некоторые приложения могут выигрывать от определенных схем
	разделов, особенно если у вас разделы на более чем одном диске.
	Тем не менее, для вашей первой установки FreeBSD не нужно
	слишком углубляться в принципы разбиения диска.  Более важно
	установить FreeBSD и начать ее использовать.  Вы всегда можете
	переустановить FreeBSD для изменения схемы разделов, когда поближе
	познакомитесь с операционной системой.</para>

      <para>Эта схема показывает четыре раздела &mdash; один для подкачки и
	три для файловых систем.</para>

      <table frame="none" pgwide="1">
	<title>Планирование разделов для первого диска</title>

	<tgroup cols="4">
          <colspec colwidth="1*">
          <colspec colwidth="1*">
          <colspec colwidth="1*">
          <colspec colwidth="4*">

	  <thead>
	    <row>
	      <entry>Раздел</entry>
	      
	      <entry>Файловая система</entry>

	      <entry>Размер</entry>

	      <entry>Описание</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>a</literal></entry>

	      <entry><filename>/</filename></entry>

	      <entry>100&nbsp;MB</entry>

	      <entry>Корневая файловая система.  Любая другая файловая
		система будет смонтирована на эту.  100&nbsp;MB это подходящий
		размер для этой файловой системы.  Вы не будете хранить на
		ней слишком много данных, а обычная установка FreeBSD
		разместит здесь около 40&nbsp;MB данных.  Оставшееся
		пространство используется для временных файлов, а также
		оставляет возможность расширения для будущих версий FreeBSD,
		которым может понадобится больше места в
		<filename>/</filename>.</entry>
	    </row>

	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>N/A</entry>

	      <entry>2-3 x RAM</entry>

	      <entry><para>Здесь находится раздел подкачки.  Выбор правильного
		  размера раздела подкачки это немного искусство.  Хороший
		  практический способ выбрать размер подкачки это установить
		  его равным двум или трем размерам доступной физической
		  памяти (RAM).  Должно быть хотя бы 64&nbsp;MB подкачки;
		  если в компьютере меньше чем 32&nbsp;MB памяти &mdash;
		  установите размер подкачки равным 64&nbsp;MB.</para><para>

		  Если у вас больше одного диска, можно расположить подкачку
		  на каждом диске.  FreeBSD будет использовать каждый диск,
		  что серьезно увеличит скорость подкачки.  В этом
		  случае, определите общий размер подкачки, который вам нужен
		  (например, 128&nbsp;MB),
		  и поделите его на число имеющихся дисков (например, два)
		  для определения размера разделов подкачки, которые нужно
		  разместить на каждом вашем диске, в этом примере 64&nbsp;MB на
		  диск.</para></entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry><filename>/var</filename></entry>

	      <entry>50&nbsp;MB</entry>

	      <entry>Каталог <filename>/var</filename> содержит файлы, которые
		постоянно меняются; логи и другие административные файлы.
		Многие из этих файлов интенсивно читаются и записываются
		в процессе ежедневной работы FreeBSD.  Размещение их
		на отдельной файловой системе позволяет FreeBSD
		оптимизировать доступ к этим файлам без затрагивания
		других каталогов, не имеющих такой же модели доступа.</entry>
	    </row>

	    <row>
	      <entry><literal>f</literal></entry>

	      <entry><filename>/usr</filename></entry>

	      <entry>Остальная часть диска</entry>

	      <entry>Все другие файлы как правило хранятся в каталоге
		<filename>/usr</filename> и его подкаталогах.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
      
      <para>Если вы устанавливаете FreeBSD более чем на один диск, вы
	должны также создать разделы в других слайсах, которые
	настроили.  Простейший путь сделать это &mdash; создать два раздела
	на каждом диске, один для подкачки, а другой для файловой
	системы.</para>

      <table frame="none" pgwide="1">
	<title>Разметка разделов для остальных дисков</title>

	<tgroup cols="4">
          <colspec colwidth="1*">
          <colspec colwidth="1*">
          <colspec colwidth="2*">
          <colspec colwidth="3*">
	  <thead>
	    <row>
	      <entry>Раздел</entry>
	      
	      <entry>Файловая система</entry>

	      <entry>Размер</entry>

	      <entry>Описание</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>N/A</entry>

	      <entry>Смотрите описание</entry>

	      <entry>Как уже обсуждалось, вы можете распространить подкачку
		на каждый диск.  Даже если раздел <literal>a</literal>
		свободен, соглашение говорит о том, что подкачка находится
		на разделе <literal>b</literal>.</entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry>/disk<replaceable>n</replaceable></entry>

	      <entry>Остальная часть диска</entry>

	      <entry>Остальная часть диска занята одним большим разделом.
		Он легко может быть помещен на раздел <literal>a</literal>
		вместо раздела <literal>e</literal>.  Однако, соглашение
		говорит что раздел <literal>a</literal> зарезервирован на
		слайсе для корневой (<filename>/</filename>) файловой системы.
		вы можете не следовать этому соглашению, но программа
		<application>sysinstall</application> будет ему следовать,
		поэтому приняв его, вы сделаете установку несколько проще.
		вы можете монтировать эти файловые системы к любой точке; в
		этом примере предлагается смонтировать их как каталоги
		<filename>/disk<replaceable>n</replaceable></filename>, где
		<replaceable>n</replaceable> это номер, который уникален для
		каждого диска.  Но вы можете использовать другую схему, если
		захотите.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para> Теперь, выбрав разметку разделов, можете приступить к их
	созданию в <application>sysinstall</application>.  Вы увидите
	это сообщение:</para>

      <screen>                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (200&nbsp;MB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.  

                                [  OK  ]
                          [ Press enter or space ]</screen>

      <para>Нажмите <keycap>Enter</keycap> для запуска редактора разделов
	FreeBSD, называемого <application>Disklabel</application>.</para>

      <para><xref linkend="sysinstall-label"> показывает экран только что
	запущенного <application>Disklabel</application>.  Экран поделен
	на три раздела.</para>

      <para>Первые несколько линий показывают имя диска, с которым вы сейчас
	работаете и слайс, содержащий раздел который вы создаете (здесь
	<application>Disklabel</application> называет это
	<literal>именем раздела (Partition name)</literal> вместо имени
	слайса).  Этот экран также показывает объем свободного пространства на
	слайсе; т.е. пространство, выделенное под слайс, но еще не отданное
	под раздел.</para>

      <para>В центре экрана показаны уже созданные разделы, имена файловых
	систем, содержащихся в разделах, их размер и некоторые опции,
	применяемые при создания файловых систем.</para>

      <para>Нижняя треть экрана показывает управляющие клавиши, работающие в
	<application>Disklabel</application>.</para>

      <figure id="sysinstall-label">
	<title>Редактор Sysinstall Disklabel</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><application>Disklabel</application> может автоматически создать
	разделы и присвоить им размеры по умолчанию.  Попробуйте это, нажав
	<keycap>A</keycap>.  Вы увидите экран как на
	<xref linkend="sysinstall-label2">.  В зависимости от размера диска,
	значения по умолчанию могут подходить или
	не подходить вам.  Это не имеет значения, если вы не принимаете
	их.</para>

	<note>
	  <para>Начиная с FreeBSD&nbsp;4.5, по умолчанию под каталог
	    <filename>/tmp</filename> выделяется собственный раздел вместо
	    использования части раздела <filename>/</filename>.  Это
	    помогает избежать заполнения раздела <filename>/</filename>
	    временными файлами.</para>
	</note>

      <figure id="sysinstall-label2">
	<title>Редактор Sysinstall Disklabel с установками по умолчанию</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-auto" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Если вы решили не использовать разделы по умолчанию и
	заменить их на свои,
	используйте клавиши навигации для выбора первого раздела, затем
	нажмите <keycap>D</keycap> для его удаления.  Повторите это для
	удаления всех предложенных разделов.</para>

      <para>Для создания первого раздела (<literal>a</literal>, монтируемого 
	как <filename>/</filename> &mdash; root), убедитесь, что выбран
	соответствующий слайс
	вверху экрана и нажмите <keycap>C</keycap>.  Появится диалог,
	предлагающий выбрать размер нового раздела (как показано в
	<xref linkend="sysinstall-label-add">).  Вы можете ввести количество
	блоков диска, или количество мегабайт с
	<literal>M</literal> после номера, или гигабайт с
	<literal>G</literal>, или цилиндров с <literal>C</literal>.</para>

      <note><para>Начиная с FreeBSD&nbsp;5.X, пользователи могут: выбирать
	<acronym>UFS2</acronym>, используя опцию <literal>Custom Newfs</literal>
	(<keycap>Z</keycap>), использовать опцию
	<literal>Auto Defaults</literal> и изменять параметры с помощью
	опции <literal>Custom Newfs</literal>, или
	добавлять опцию <option>-O 2</option> в процессе создания раздела.
	Не забудьте добавить <option>-U</option> для включения SoftUpdates
	если вы используете опцию<literal>Custom Newfs</literal>!</para></note>

      <figure id="sysinstall-label-add">
	<title>Свободное место для корневого раздела</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Размер по умолчанию задан для создания корневого раздела на
	весь слайс.  Если вы используете размеры разделов, описанные ранее в примере,
	удалите это значение используя <keycap>Backspace</keycap>,
	а затем введите <userinput>64M</userinput>, как показано на
	<xref linkend="sysinstall-label-add2">.  Затем нажмите
	&gui.ok;.</para>
      
      <figure id="sysinstall-label-add2">
	<title>Редактирование размера корневого раздела</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>После указания размера раздела вам будет задан вопрос, должен ли
	этот раздел содержать файловую систему или раздел подкачки.  Диалог
	показан на <xref linkend="sysinstall-label-type">.  Первый раздел
	будет содержать файловую систему, поэтому проверьте, что выбрана
	<guimenuitem>FS</guimenuitem> и нажмите
	<keycap>Enter</keycap>.</para>

      <figure id="sysinstall-label-type">
	<title>Выбор типа корневого раздела</title>
	
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-fs" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
      
      <para>Наконец, поскольку вы создаете файловую систему, нужно сказать
	<application>Disklabel</application> где файловая система будет
	смонтирована.  Диалог показан на  
	<xref linkend="sysinstall-label-mount">.  Точка монтирования
	корневой файловой системы <filename>/</filename>, поэтому введите
	<userinput>/</userinput>, и нажмите <keycap>Enter</keycap>.</para>

      <figure id="sysinstall-label-mount">
	<title>Выбор точки монтирования корневой файловой системы</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>На экране будет показан вновь созданный раздел.  Вам нужно
	повторить эту процедуру для других разделов.  При создании
	раздела подкачки вопроса про точку монтирования не будет,
	поскольку раздел подкачки никогда не монтируется.  Когда будете
	создавать последний раздел, <filename>/usr</filename>, можете оставить
	предложенный размер как есть, чтобы использовать весь остаток
	слайса.</para>

      <para>Последний экран FreeBSD редактора DiskLabel будет похож на
	<xref linkend="sysinstall-label4">, хотя ваш выбор значений может
	быть другим.  Нажмите <keycap>Q</keycap>, чтобы выйти.</para>

      <figure id="sysinstall-label4">
	<title>Редактор Sysinstall Disklabel</title>
	
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 id="install-choosing">
    <title>Выбор устанавливаемых компонентов</title>

    <sect2 id="distset">
      <title>Выбор дистрибутивного набора (Distribution Set)</title>

      <para>Выбор дистрибутивного набора зависит в основном от направления
	будущего использования системы и от доступного дискового
	пространства.  Предустановленные опции варьируются от наименьшей
	возможной конфигурации до полной установки.  Для новичков в
	&unix; и/или FreeBSD лучшим выбором будет одна из этих
	предустановленных опций.  Настройка дистрибутивного набора
	как правило нужна более опытным пользователям.</para>

      <para>Нажмите <keycap>F1</keycap> для получения информации о
	дистрибутивных наборах и их содержимом.  После просмотра помощи
	нажмите <keycap>Enter</keycap> для возврата к меню выбора
	дистрибутивного набора.</para>

      <para>Если желательно наличие графического интерфейса пользователя,
	должен быть выбран дистрибутивный набор с названием, начинающимся
	на <literal>X</literal>.  Настройка <application>&xfree86;</application>
	и выбор десктопа по умолчанию &mdash; часть послеустановочного 
	процесса.</para>

      <para>Устанавливаемая по умолчанию версия 
	<application>&xfree86;</application> зависит от устанавливаемой версии
	FreeBSD.  Для версий FreeBSD ниже 4.6 устанавливается
	<application>&xfree86; 3.X</application>.  Для FreeBSD&nbsp;4.6 и выше,
	версия по умолчанию <application>&xfree86; 4.X</application>.</para>

      <para>Проверьте на веб-сайте <ulink url="http://www.xfree86.org/">
	&xfree86;</ulink> поддерживается ли ваша видеокарта.  Если
	видеокарта не поддерживается в версии по умолчанию, которую устанавливает
	FreeBSD, выберите дистрибутивный набор без X.  После установки
	установите и настройте соответствующую версию 
	<application>&xfree86;</application> используя коллекцию портов.</para>

      <para>Если планируется пересборка ядра, выберите опцию, включающую
	исходные тексты.  Информация о том, зачем пересобирать ядро и
	как это сделать, находится на <xref linkend="kernelconfig">.</para>

      <para>Ясно, что наиболее универсальная система включает все.
	Если места на диске достаточно, выберите 
	<guimenuitem>All</guimenuitem>, как показано на
	<xref linkend="distribution-set1"> и нажмите
	<keycap>Enter</keycap>.  Если есть сомнения относительно того,
	хватит ли диска, используйте наиболее подходящую опцию.
	Не беспокойтесь о том, какой выбор будет наилучшим, другие
	части дистрибутива могут быть добавлены после установки.</para>

      <figure id="distribution-set1">
	<title>Выбор дистрибутивных наборов</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 id="portscol">
      <title>Установка коллекции портов</title>

      <para>После выбора подходящего дистрибутива можно будет выбрать
	установку коллекции портов FreeBSD.  Коллекция портов &mdash;
	легкий и удобный путь установки программ.  Коллекция портов не
	содержит исходных кодов программ.  Это набор файлов, который
	автоматизирует загрузку, компилирование и установку
	пакетов программного обеспечения сторонних разработчиков.
	<xref linkend="ports"> показывает как использовать коллекцию
	портов.</para>

      <para>Программа установки не проверяет, есть ли достаточно места.
	Выберите эту опцию только если его достаточно.  В
	FreeBSD &rel.current;, коллекция портов занимает около
	&ports.size;.  В более современных релизах это значение
	всегда больше.</para>

<screen>                         User Confirmation Requested
 Would you like to install the FreeBSD ports collection? 

 This will give you ready access to over &os.numports; ported software packages,
 at a cost of around &ports.size; of disk space when "clean" and possibly much
 more than that if a lot of the distribution tarballs are loaded
 (unless you have the extra CDs from a FreeBSD CD/DVD distribution
 available and can mount it on /cdrom, in which case this is far less
 of a problem). 

 The ports collection is a very valuable resource and well worth having
 on your /usr partition, so it is advisable to say Yes to this option. 

 For more information on the ports collection & the latest ports,
 visit: 
     http://www.FreeBSD.org/ports  

                              [ Yes ]     No</screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> для установки
	коллекции портов, или <guibutton>[ No ]</guibutton>, чтобы
	пропустить установку.  Нажмите <keycap>Enter</keycap>, чтобы продолжить.
	Меню выбора дистрибутивных наборов появится опять.</para>

      <figure id="distribution-set2">
	<title>Подтверждение выбора дистрибутивного набора</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Если вы согласны с выбранными опциями, переместитесь на
	<guimenuitem>Exit</guimenuitem>, убедитесь что выбран
	&gui.ok; и нажмите 
	<keycap>Enter</keycap>, чтобы продолжить.</para>

    </sect2>
  </sect1>

  <sect1 id="install-media">
    <title>Выбор источника для установки</title>

    <para>При установке с CDROM или DVD используйте клавиши навигации, для перехода к 
      <guimenuitem>Install from a FreeBSD CD/DVD</guimenuitem>.  Убедитесь
      что выбран &gui.ok; и нажмите
      <keycap>Enter</keycap> для запуска установки.</para>
    
    <para>При других методах установки выберите соответствующую опцию и
      следуйте инструкциям.</para>

    <para>Нажмите <keycap>F1</keycap> для просмотра справки по  
      источникам установки.  Нажмите <keycap>Enter</keycap> для возврата к
      меню выбора источника установки.</para>

    <figure id="choose-media">
      <title>Выбор источника установки</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/media" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

    <note>
      <title>Режимы установки с FTP</title>

      <indexterm>
	<primary>installation</primary>
	<secondary>network</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>
      
      <para>Есть три режима установки через FTP, которые вы можете выбрать:
	активный FTP, пассивный FTP, или через HTTP прокси.</para>

      <variablelist>
	<varlistentry>
	  <term>Активный FTP: <guimenuitem>Install from an FTP
	      server</guimenuitem></term>
	  
	  <listitem>
	    <para>С этой опцией все закачки по FTP будут выполнены в 
	      <quote>активном</quote> режиме.  Этот режим не позволяет
	      работать через файрволл, но зачастую позволяет работать
	      со старыми серверами FTP, не поддерживающими пассивный
	      режим.  Если соединение прерывается в пассивном режиме
	      (по умолчанию), попробуйте активный!</para>
	  </listitem>
	</varlistentry>
	
	<varlistentry>
	  <term>Пассивный FTP: <guimenuitem>Install from an FTP server through a
	      firewall</guimenuitem></term>
	  
	  <listitem>
	    <indexterm>
	      <primary>FTP</primary>
	      <secondary>Пассивный режим</secondary>
	    </indexterm>

	    <para>Эта опция говорит <application>sysinstall</application> использовать 
	      <quote>пассивный</quote> режим для работы с FTP.
	      Он позволяет работать через файрволл, не разрешающий
	      входящие соединения на случайных TCP портах.</para>
	  </listitem>
	</varlistentry>
	
	<varlistentry>
	  <term>FTP через HTTP прокси: <guimenuitem>Install from an FTP server
	      through a http proxy</guimenuitem></term>
	    
	  <listitem>
	    <indexterm>
	      <primary>FTP</primary>
	      <secondary>через HTTP прокси</secondary>
	    </indexterm>
	    
	    <para>Эта опция говорит <application>sysinstall</application> использовать HTTP
	      протокол (как веб браузер) для работы с FTP через
	      прокси.  Прокси будет транслировать все
	      запросы и посылать их на FTP сервер.  Это позволяет
	      проходить через файрволл, на котором FTP запрещен,
	      но есть HTTP прокси.  В этом случае
	      потребуется указать прокси и FTP сервер.</para>
	  </listitem>
	</varlistentry>
      </variablelist>
      
      <para>Для работы с FTP через прокси, необходимо поместить имя
	сервера как часть имени пользователя после знака
	<quote>@</quote>.  Прокси сервер <quote>обманет</quote>
	настоящий сервер.  Например, предположим что вы хотите провести
	установку с <hostid role="fqdn">ftp.FreeBSD.org</hostid>, используя FTP
	через прокси <hostid role="fqdn">foo.example.com</hostid>,
	прослушивающем порт 1024.</para>
      
      <para>в этом случае, войдите в меню параметров, установите имя
	пользователя FTP <literal>ftp@ftp.FreeBSD.org</literal>, а вместо
	пароля введите свой адрес email.  В качестве источника установки
	выберите FTP (или пассивный FTP, если прокси его поддерживает), и URL
	<literal>ftp://foo.example.com:1234/pub/FreeBSD</literal>.</para>

      <para>Так как <filename>/pub/FreeBSD</filename> с сервера 
	<hostid role="fqdn">ftp.FreeBSD.org</hostid> идет через прокси 
	<hostid role="fqdn">foo.example.com</hostid>, вы сможете провести
	установку с <emphasis>этого</emphasis> компьютера (файлы будут загружены с
	<hostid role="fqdn">ftp.FreeBSD.org</hostid> как требуется для 
	установки).</para>
    </note>
  </sect1>

  <sect1 id="install-final-warning">
    <title>Подтверждение установки</title>

    <para>Теперь можно начинать установку.  Это последний шанс
      отменить установку и таким образом избежать изменений на жестком
      диске.</para>

    <screen>                       User Confirmation Requested
 Last Chance! Are you SURE you want to continue the installation? 

 If you're running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding! 

 We can take no responsibility for lost disk contents!  

                             [ Yes ]    No</screen>

    <para>Выберите <guibutton>[ Yes ]</guibutton> и нажмите
      <keycap>Enter</keycap>, чтобы начать.</para>

    <para>Время установки сильно зависит от выбранного дистрибутивного набора,
      источника установки и скорости компьютера.
      Появится несколько сообщений о статусе процесса установки.</para>
    
    <para>Установка будет завершена когда отобразится следующее
      сообщение:</para>

    <screen>                               Message 

Congratulations! You now have FreeBSD installed on your system. 

We will now move on to the final configuration questions. 
For any option you do not wish to configure, simply select No. 

If you wish to re-enter this utility after the system is up, you may
do so by typing: /stand/sysinstall .  

                                 [ OK ] 

                      [  Press enter to continue  ]</screen>

    <para>Нажмите <keycap>Enter</keycap> для начала послеустановочной
      настройки.</para>

    <para>Выбор <guibutton>[ No ]</guibutton> и нажатие
      <keycap>Enter</keycap> прервет процесс установки,
      изменения в систему внесены не будут.  Появится следующее
      сообщение:</para>

    <screen>                                Message
Installation complete with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature. 
You can also choose "No" at the next prompt and go back into the
installation menus to retry whichever operations have failed. 

                                 [ OK ]</screen>

    <para>Это сообщение появилось поскольку ничего не было установлено.
      Нажатие <keycap>Enter</keycap> вернет вас в главное меню установки,
      чтобы выйти из нее.</para>
  </sect1>

  <sect1 id="install-post">
    <title>После установки</title>

    <para>После успешной установки необходимо настроить множество параметров.
      Некоторые параметры могут быть заданы из меню параметров после установки
      перед загрузкой установленной FreeBSD или после с использованием
      <command>/stand/sysinstall</command>, где надо выбрать пункт
      <guimenuitem>Configure</guimenuitem>.</para>

    <sect2 id="inst-network-dev">
      <title>Настройка сетевых устройств (Network Device Configuration)</title>

      <para>Если вы настраивали PPP для установки через FTP, этот экран
	не появится, настройку можно будет произвести позже как описано
	выше.</para>

      <para>Чтобы лучше узнать о локальных сетях и настройке
	FreeBSD в качестве шлюза/маршрутизатора, обратитесь к главе
	<link linkend="advanced-networking">Advanced Networking</link>.</para>

      <screen>                      User Confirmation Requested 
   Would you like to configure any Ethernet or SLIP/PPP network devices?

                             [ Yes ]   No</screen>

      <para>Для настройки сетевого устройства выберите
	<guibutton>[ Yes ]</guibutton> и нажмите <keycap>Enter</keycap>.
      Или нажмите <guibutton>[ No ]</guibutton>, чтобы продолжить.</para>

      <figure id="ed-config1">
	<title>Выбор Ethernet устройства</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите интерфейс для настройки с помощью клавиш навигации и
	нажмите <keycap>Enter</keycap>.</para>

      <screen>                      User Confirmation Requested 
       Do you want to try IPv6 configuration of the interface?

                              Yes   [ No ]</screen>

      <para>Для частной локальной сети обычный протокол интернет
	(<acronym>IPv4</acronym>) вполне достаточен, поэтому выбрана кнопка
	<guibutton>[ No ]</guibutton> и нажат <keycap>Enter</keycap>.</para>

      <para>Если вы хотите подсоединиться к существующей сети
	<acronym>IPv6</acronym>	через сервер <acronym>RA</acronym>,
	выберите <guibutton>[ Yes ]</guibutton> и нажмите
	<keycap>Enter</keycap>.  Поиск RA серверов займет несколько
	секунд.</para>

      <screen>                             User Confirmation Requested 
        Do you want to try DHCP configuration of the interface?

                              Yes   [ No ]</screen>

      <para>Если DHCP (Dynamic Host Configuration Protocol) не нужен,
	выберите <guibutton>[ No ]</guibutton> с помощью клавиш навигации и
	нажмите <keycap>Enter</keycap>.</para>

      <para>Выбор <guibutton>[ Yes ]</guibutton> запустит
	<application>dhclient</application>, и если все пройдет нормально,
	заполнит информацию о конфигурации сети автоматически.  Обратитесь
	к <xref linkend="network-dhcp"> за более подробными сведениями.</para>

      <para>Следующий экран конфигурации сети показывает настройку
	устройства Ethernet системы, которая будет работать шлюзом
	для локальной сети.</para>

      <figure id="ed-config2">
	<title>Настройка сети для ed0</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте <keycap>Tab</keycap> для выбора полей и заполнения
	их соответствующими данными:</para>

      <variablelist>
	<varlistentry>
	  <term>Host</term>

	  <listitem>
	    <para>Полное имя хоста, в этом примере
	      <hostid role="fqdn">k6-2.example.com</hostid>.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Domain</term>

	  <listitem>
	    <para>Имя домена, в котором находится ваш компьютер,
	      в этом примере <hostid role="domainname">example.com</hostid>.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 Gateway</term>

	  <listitem>
	    <para>IP хоста, пересылающего пакеты наружу локальной сети.
	      Вам потребуется заполнить его, если это компьютер, подключенный к
	      сети.  <emphasis>Оставьте это поле пустым</emphasis>,
	      если компьютер является шлюзом в интернет для сети.
	      Шлюз IPv4 известен также как шлюз по умолчанию или маршрут
	      по умолчанию.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Name server</term>

	  <listitem>
	    <para>IP адрес местного сервера DNS.  В этой локальной сети
	      нет DNS сервера, поэтому использован IP адрес DNS сервера
	      провайдера (<hostid role="ipaddr">208.163.10.2</hostid>).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 address</term>

	  <listitem>
	    <para>IP адрес, использованный для этого интерфейса,
	      <hostid role="ipaddr">192.168.0.1</hostid></para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Netmask</term>

	  <listitem>
	    <para>Адрес блока, использованного для этой локальной сети,
	      это блок класса C
	      (<hostid role="ipaddr">192.168.0.0</hostid> -
	      <hostid role="ipaddr">192.168.255.255</hostid>).
	      Маска по умолчанию дана для сети класса C
	      (<hostid role="netmask">255.255.255.0</hostid>).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Дополнительные параметры для ifconfig</term>

	  <listitem>
	    <para>Любые специфичные для интерфейса опции к 
	      <command>ifconfig</command>, которые вы хотите добавить.
	      В данном случае ничего.</para>
	  </listitem>
	</varlistentry>

      </variablelist>

      <para>Используйте <keycap>Tab</keycap> для выбора &gui.ok;
	после окончания настройки и нажмите <keycap>Enter</keycap>.</para>


      <screen>                      User Confirmation Requested 
        Would you like to Bring Up the ed0 interface right now?

                             [ Yes ]   No</screen>

      <para>Выбор <guibutton>[ Yes ]</guibutton> и нажатие
	<keycap>Enter</keycap> введет компьютер в сеть.
	Тем не менее, компьютеру все еще требуется перезагрузка.</para>
    </sect2>

    <sect2 id="gateway">
      <title>Настройка шлюза (Configure Gateway)</title>

      <screen>                       User Confirmation Requested 
       Do you want this machine to function as a network gateway?

                              [ Yes ]    No</screen>

      <para>Если компьютер будет шлюзом для локальной сети, пересылая
	пакеты между другими компьютерами, выберите 
	<guibutton>[ Yes ]</guibutton> и нажмите <keycap>Enter</keycap>.
	Если это обычный компьютер, выберите <guibutton>[ No ]</guibutton>
	и нажмите <keycap>Enter</keycap> для продолжения.</para>
    </sect2>

    <sect2 id="inetd-services">
      <title>Настройка сервисов интернет (Configure Internet Services)</title>

      <screen>                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

                               Yes   [ No ]</screen>

      <para>Если выбрана <guibutton>[ No ]</guibutton>, различные сервисы,
	такие как <application>telnetd</application> не будут запущены.  Это
	означает, что удаленные пользователи не смогут зайти по
	<application>telnet</application> на этот компьютер.  Локальные
	пользователи все же смогут заходит на удаленные компьютеры по
	<application>telnet</application>.</para>

      <para>Эти сервисы могут быть включены после установки путем
	редактирования <filename>/etc/inetd.conf</filename> с помощью вашего
	любимого текстового редактора.  Обращайтесь к
	<xref linkend="network-inetd-overview">
	за более подробной информацией.</para>

      <para>Выберите <guibutton>[ Yes ]</guibutton> если хотите настроить
	эти сервисы во время установки.  Появится дополнительный запрос
	подтверждения:</para>

      <screen>                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No</screen>

      <para>Нажмите <guibutton>[ Yes ]</guibutton>, чтобы продолжить.</para>

      <screen>                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be separately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

                             [ Yes ]   No</screen>

      <para>Выбор <guibutton>[ Yes ]</guibutton> позволит добавить сервисы
	путем удаления <literal>#</literal> перед началом строки.</para>

      <figure id="inetd-edit">
	<title>Редактирование <filename>inetd.conf</filename></title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/edit-inetd-conf" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>После добавления нужных сервисов нажатие <keycap>Esc</keycap>
	отобразит меню, позволяющее выйти с сохранением изменений.</para>

    </sect2>

    <sect2 id="ftpanon">
      <title>Анонимный (Anonymous) FTP</title>

      <screen>                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine? 

                              Yes    [ No ]</screen>

      <sect3 id="deny-anon">
	<title>Запрещение анонимного FTP</title>
      
	<para>Выбор кнопки по умолчанию <guibutton>[ No ]</guibutton> и нажатие
	  <keycap>Enter</keycap> все же позволит пользователям, имеющим учетные
	  записи с паролями, использовать FTP для доступа к компьютеру.</para>
      </sect3>

      <sect3 id="ftpallow">
	<title>Разрешение анонимного FTP</title>

	<para>Кто угодно сможет получить доступ к компьютеру если
	  вы разрешите анонимные соединения FTP.  Предварительно должны быть
	  рассмотрены возможные осложнения с безопасностью.  Более подробная
	  информация о безопасности доступна на
	  <xref linkend="security">.</para>

	<para>Чтобы разрешить анонимный FTP, используя клавиши навигации
	  выберите <guibutton>[ Yes ]</guibutton> и нажмите
	  <keycap>Enter</keycap>.  Появится следующий (или похожий)
	  экран:</para>

	<figure id="anon-ftp2">
	  <title>Настройка по анонимного FTP по умолчанию</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon1" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>Нажатие <keycap>F1</keycap> отобразит справку:</para>

	<screen>This screen allows you to configure the anonymous FTP user.

The following configuration values are editable:

UID:     The user ID you wish to assign to the anonymous FTP user.
         All files uploaded will be owned by this ID.

Group:   Which group you wish the anonymous FTP user to be in.

Comment: String describing this user in /etc/passwd


FTP Root Directory:

        Where files available for anonymous FTP will be kept.

Upload subdirectory:

        Where files uploaded by anonymous FTP users will go.</screen>

	<para>Корневой каталог ftp по умолчанию будет размещен в
	  <filename>/var</filename>.  Если в нем предположительно не хватает
	  места для для нужд FTP, можно использовать каталог
	  <filename>/usr</filename>, выбрав корневой каталог FTP
	  (FTP Root Directory) <filename>/usr/ftp</filename>.</para>

	<para>Когда будут выбраны подходящие значения, нажмите 
	  <keycap>Enter</keycap>, чтобы продолжить.</para>

	<screen>                          User Confirmation Requested 
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No</screen>

	<para>Если вы выберете <guibutton>[ Yes ]</guibutton> и нажмете
	  <keycap>Enter</keycap>, запустится редактор, позволяющий
	  отредактировать сообщение FTP.</para>

	<figure id="anon-ftp4">
	  <title>Редактирование FTP Welcome Message</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon2" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>Этот текстовый редактор называется <command>ee</command>.
	  Используйте инструкции, чтобы изменить сообщение, или измените
	  сообщение позже, используя выбранный вами редактор.  Обратите
	  внимание, что имя/расположение файла показаны внизу окна
	  редактора.</para>

	<para>Нажмите <keycap>Esc</keycap> и появится меню с пунктом по
	  умолчанию <guimenuitem>a) leave editor </guimenuitem>
	  (выйти из редактора).  Нажмите <keycap>Enter</keycap>, чтобы выйти и
	  продолжить.  Нажмите <keycap>Enter</keycap> еще раз, чтобы
	  сохранить изменения, если они были сделаны.</para>
      </sect3>
    </sect2>

    <sect2 id="nfsconf">
      <title>Настройка сетевой файловой системы (Configure Network File System)</title>

      <para>Сетевая файловая система (Network File System, NFS) позволяет
	совместно использовать файлы в сети.  Компьютер может быть настроен
	как сервер, клиент, или как то и другое.  Обратитесь к
	<xref linkend="network-nfs"> за более подробной информацией.</para>

      <sect3 id="nsf-server-options">
	<title>Сервер NFS (NFS Server)</title>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS server? 

                              Yes    [ No ]</screen>

	<para>Если вам не нужен NFS сервер, выберите
	  <guibutton>[ No ]</guibutton> и нажмите
	  <keycap>Enter</keycap>.</para>

	<para>Если выбран пункт <guibutton>[ Yes ]</guibutton>, появится
	  сообщение, говорящее о том, что должен быть создан файл
	  <filename>exports</filename>.</para>

	<screen>                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]</screen>

	<para>Нажмите <keycap>Enter</keycap>, чтобы продолжить.  Запустится
	  текстовый редактор, позволяющий создать и отредактировать файл
	  <filename>exports</filename>.</para>

	<figure id="nfs-server-edit">
	  <title>Редактирование <filename>exports</filename></title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/nfs-server-edit" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>Используйте инструкции для добавления экспортируемых файловых
	  систем сейчас, или позднее с помощью выбранного вами текстового
	  редактора.  Обратите внимание, что имя/расположение файла показаны
	  внизу окна редактора.</para>

	<para>Нажмите <keycap>Esc</keycap> и появится меню с пунктом по
	  умолчанию <guimenuitem>a) leave editor</guimenuitem>.  Нажмите
	  <keycap>Enter</keycap>, чтобы выйти и продолжить.</para>
      </sect3>

      <sect3 id="nfs-client-options">
	<title>Клиент NFS (NFS Client)</title>

	<para>NFS клиент позволяет организовать доступ к серверам NFS.</para>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS client? 

                              Yes   [ No ]</screen>

	<para>С помощью клавиш навигации выберите <guibutton>[ Yes ]</guibutton>
	  или <guibutton>[ No ]</guibutton>, как потребуется, и нажмите
	  <keycap>Enter</keycap>.</para>
      </sect3>
    </sect2>

    <sect2 id="securityprofile">
      <title>Профиль безопасности (Security Profile)</title>

      <para><quote>Профиль безопасности</quote> это набор параметров
	настройки, с помощью которого делается попытка достичь
	требуемого уровня безопасности и удобства путем разрешения или
	запрещения запуска определенных программ и другими настройками.
	Чем строже профиль безопасности, тем меньше программ будет
	запущено по умолчанию.  Это один из основных принципов безопасности:
	не запускайте ничего кроме того что необходимо.</para>

      <para>Имейте ввиду, что профиль безопасности это лишь установка по
	умолчанию.  Любая программа может быть запущена или остановлена
	после установки FreeBSD путем редактирования или добавления
	соответствующих строк в <filename>/etc/rc.conf</filename>. 
	Для получения более подробной информации обратитесь к странице
	справочника &man.rc.conf.5;.</para>

      <para>Следующая таблица описывает действие каждого профиля безопасности.
	Колонки показывают выбранный вами профиль безопасности, а ряды
	&mdash; программы или функции, которые профиль включает или
	выключает.</para>

      <table>
	<title>Возможные профили безопасности</title>

	<tgroup cols=3>
	  <thead>
	    <row>
	      <entry></entry>

	      <entry>Extreme (Максимальный)</entry>

	      <entry>Moderate (Умеренный)</entry>
	    </row>
	  </thead>

	  <tbody>

	    <row>
	      <entry>&man.sendmail.8;</entry>

	      <entry>НЕТ</entry>

	      <entry>ДА</entry>
	    </row>

	    <row>
	      <entry>&man.sshd.8;</entry>

	      <entry>НЕТ</entry>

	      <entry>ДА</entry>
	    </row>

	    <row>
	      <entry>&man.portmap.8;</entry>

	      <entry>НЕТ</entry>

	      <entry>МОЖЕТ БЫТЬ
		<footnote>
		  <para>Portmapper включен, если компьютер был настроен в
		    процессе установки как NFS клиент или сервер.</para>
		</footnote>
	      </entry>
	    </row>

	    <row>
	      <entry>NFS server</entry>

	      <entry>НЕТ</entry>

	      <entry>ДА</entry>
	    </row>

	    <row>
	      <entry>&man.securelevel.8;</entry>

	      <entry>ДА
		<footnote>
		  <para>Если вы выберете профиль безопасности с уровнем
		    <quote>Extreme</quote> или
		    <quote>High</quote>, будьте готовы к последствиям.
		    Прочитайте страницу справочника &man.init.8;
		    и уделите некоторое внимание значениям уровней
		    безопасности, или позже могут возникнуть
		    серьезные проблемы!</para>
		</footnote>
	      </entry>

	      <entry>НЕТ</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <screen>                       User Confirmation Requested
 Do you want to select a default security profile for this host (select
 No for "medium" security)? 

                            [ Yes ]    No</screen>

      <para>Выбор <guibutton>[ No ]</guibutton> и нажатие 
	<keycap>Enter</keycap> установит профиль безопасности к среднему
	значению.</para>

      <para>Выбор <guibutton>[ Yes ]</guibutton> и нажатие
	<keycap>Enter</keycap> позволит выбрать другой профиль
	безопасности.</para>

      <figure id="security-profile">
	<title>Параметры профиля безопасности</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/security" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Нажмите <keycap>F1</keycap>, чтобы получить помощь.  Нажмите
	<keycap>Enter</keycap> для возврата к меню выбора.</para>

      <para>Используйте клавиши навигации для выбора
	<guimenuitem>Medium</guimenuitem>, если вы не уверены, что
	необходим другой уровень.  С подсвеченным
	&gui.ok; нажмите <keycap>Enter</keycap>.</para>

      <para>Будет отображен запрос на подтверждение, соответствующий выбранным
	настройкам безопасности.</para>

      <screen>                                 Message

Moderate security settings have been selected.

Sendmail and SSHd have been enabled, securelevels are
disabled, and NFS server setting have been left intact.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a standard set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]</screen>

      <screen>                                 Message

Extreme security settings have been selected.

Sendmail, SSHd, and NFS services have been disabled, and
securelevels have been enabled.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a more secure set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]</screen>

      <para>Нажмите <keycap>Enter</keycap>, чтобы продолжить
	послеустановочные настройки.</para>

      <warning>
	<para>Профиль безопасности не панацея!  Если даже вы
	  выберете экстремальные установки, понадобится поддерживать
	  безопасность, читая соответствующие  <ulink
	  url="../handbook/eresources.html#ERESOURCES-MAIL">списки 
	  рассылки</ulink>, используя хорошие пароли и идентификационные
	  фразы, и придерживаясь хорошей практики безопасности.
	  Профиль всего лишь повышает желаемый уровень безопасности
	  свежеустановленной системы до приемлемого значения.</para>
      </warning>

    </sect2>

    <sect2 id="console">
      <title>Настройки системной консоли (System Console Settings)</title>

      <para>Есть несколько параметров для настройки системной консоли.</para>

      <screen>                      User Confirmation Requested 
       Would you like to customize your system console settings?

                              [ Yes ]  No</screen>

      <para>Для просмотра и настройки параметров выберите
	<guibutton>[ Yes ]</guibutton> и нажмите
	<keycap>Enter</keycap>.</para>

      <figure id="saver-options">
	<title>Параметры настройки системной консоли</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Часто используемая опция это хранитель экрана (screen saver).
	Используйте клавиши навигации для выбора
	<guimenuitem>Saver</guimenuitem> и
	нажмите <keycap>Enter</keycap>.</para>

      <figure id="saver-select">
	<title>Параметры хранителя экрана</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите подходящий хранитель экрана с помощью клавиш навигации и
	нажмите <keycap>Enter</keycap>.  Опять появится меню настройки
	системной консоли.</para>

      <para>Время по умолчанию 300 секунд.  Для изменения временного интервала
	выберите <guimenuitem>Saver</guimenuitem> еще раз.  В меню
	настроек хранителя экрана выберите <guimenuitem>Timeout</guimenuitem>
	с помощью клавиш навигации и нажмите <keycap>Enter</keycap>.
	Появится меню:</para>

      <figure id="saver-timeout">
	<title>Временной интервал хранителя экрана</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Значение может быть изменено, затем выберите &gui.ok;
	и нажмите <keycap>Enter</keycap> для возврата в меню настройки
	системной консоли.</para>

      <figure id="saver-exit">
	<title>Выход из меню конфигурации консоли</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver4" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выбор <guimenuitem>Exit</guimenuitem> и нажатие
	<keycap>Enter</keycap> вернет вас к послеустановочной
	настройке.</para>
    </sect2>

    <sect2 id="timezone">
      <title>Установка часового пояса (Setting The Time Zone)</title>

      <para>Установка часового на компьютере позволит ему
	автоматически вносить поправки к местному времени и правильно
	выполнять другие, связанные с часовым поясом функции.</para>

      <para>Пример приведен для компьютера, расположенного в восточном
	часовом поясе Соединенных Штатов.  Ваш выбор будет зависеть
	от вашего географического положения.</para>

      <screen>                      User Confirmation Requested 
          Would you like to set this machine's time zone now?

                            [ Yes ]   No</screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> и нажмите
	<keycap>Enter</keycap> для установки часового пояса.</para>

      <screen>                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here! 

                              Yes   [ No ]</screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> 
	или <guibutton>[ No ]</guibutton> в зависимости от настроек
	часов компьютера и нажмите <keycap>Enter</keycap>.</para>

      <figure id="set-timezone-region">
	<title>Выбор региона</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Соответствующий регион выбран с помощью клавиш навигации и
	нажат <keycap>Enter</keycap>.</para>

      <figure id="set-timezone-country">
	<title>Выбор страны</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите соответствующую страну с помощью клавиш навигации и
	нажмите <keycap>Enter</keycap>.</para>

      <figure id="set-timezone-locality">
	<title>Выбор часового пояса</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выбран соответствующий часовой пояс с помощью клавиш навигации
      	и нажат <keycap>Enter</keycap>.</para>

      <screen>                            Confirmation 
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No</screen>

      <para>Правильно будет согласиться с назначением аббревиатуры временного
	пояса.  Если она подходит, нажмите <keycap>Enter</keycap>, чтобы
	продолжить послеустановочную настройку.</para>
    </sect2>

    <sect2 id="linuxcomp">
      <title>Совместимость с Linux (Linux Compatibility)</title>

      <screen>                      User Confirmation Requested 
          Would you like to enable Linux binary compatibility?

                            [ Yes ]   No</screen>

      <para>Выбор <guibutton>[ Yes ]</guibutton> и нажатие
	<keycap>Enter</keycap> позволит
	запускать программы Linux под FreeBSD.  Программа установки добавит
	соответствующие пакеты для совместимости с Linux.</para>

      <para>При установке по FTP, компьютеру потребуется соединиться с
	интернет.  Иногда на сервере ftp нет всех необходимых компонент,
	например для бинарной совместимости с Linux.  Эти компоненты могут
	быть установлены позже, если потребуется.</para>
    </sect2>

    <sect2 id="mouse">
      <title>Настройка мыши (Mouse Settings)</title>

      <para>Эти настройки позволят вырезать и вставлять текст в консоли и
	пользовательских программах с помощью трехкнопочной мыши.  Если
	используется двухкнопочная мышь, обратитесь к странице справочника
	&man.moused.8; после установки, чтобы узнать подробности об
	эмуляции трехкнопочной мыши.  Этот пример приведен для настройки
	не-USB мыши (например мыши для порта PS/2 или COM):</para>

      <screen>                      User Confirmation Requested 
         Does this system have a non-USB mouse attached to it?

                            [ Yes ]    No </screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> для USB мыши или
	<guibutton>[ No ]</guibutton> для не-USB мыши и нажмите
	<keycap>Enter</keycap>.</para>

      <figure id="mouse-protocol">
	<title>Выбор протокола мыши</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте клавиши навигации для выбора
	<guimenuitem>Type</guimenuitem> и нажмите
	<keycap>Enter</keycap>.</para>

      <figure id="set-mouse-protocol">
	<title>Установка протокола мыши</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>В этом примере использована PS/2 мышь, поэтому подойдет протокол по
	умолчанию <guimenuitem>Auto</guimenuitem>.  Чтобы изменить протокол,
	используйте клавиши навигации для выбора другого пункта.  Убедитесь,
	что выбран &gui.ok;, и нажмите <keycap>Enter</keycap> для выхода из
	меню.</para>

      <figure id="config-mouse-port">
	<title>Настройка порта мыши</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте клавиши навигации для выбора
	<guimenuitem>Port</guimenuitem> и нажмите 
	<keycap>Enter</keycap>.</para>

      <figure id="set-mouse-port">
	<title>Установка порта мыши</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse4" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>К этой системе подключена мышь PS/2, поэтому подходит значение
	по умолчанию <guimenuitem>PS/2</guimenuitem>.  Чтобы изменить порт,
	используйте клавиши навигации и нажмите <keycap>Enter</keycap>.</para>

      <figure id="test-daemon">
	<title>Запуск мышиного даемона</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse5" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Наконец, используйте клавиши навигации для
	выбора <guimenuitem>Enable</guimenuitem>, затем нажмите
	<keycap>Enter</keycap> для запуска и тестирования
	даемона мыши.</para>

      <figure id="test-mouse-daemon">
	<title>Проверка мышиного даемона</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse6" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Подвигайте курсор по экрану и убедитесь, что он
	движется правильно.  Если это так, выберите
	<guibutton>[ Yes ]</guibutton> и нажмите <keycap>Enter</keycap>.
	Если нет, мышь не была правильно настроена &mdash; выберите
	<guibutton>[ No ]</guibutton> и попробуйте использовать другие
	опции настройки.</para>

      <para>Выберите <guimenuitem>Exit</guimenuitem> с
	помощью клавиш навигации и нажмите <keycap>Enter</keycap> для
	возврата к послеустановочной настройке.</para>
    </sect2>

    <sect2 id="network-services">
      <title>Настройка дополнительных сетевых сервисов</title>

      <para>Настройка сетевых сервисов может быть пугающей
	задачей для новых пользователей если у них нет опыта
	в этой области.  Работа в сети, включая интернет,
	критична для многих современных операционных систем,
	включая &os;; очень важно иметь некоторые знания
	о дополнительных сетевых возможностях &os;.
	Настраивая их во время установки, пользователь получает
	некоторую информацию о различных доступных сервисах.</para>

      <para>Сетевые сервисы &mdash; это программы, принимающие данные из
	любой точки сети.  Чтобы убедиться, что эти программы не делают
	ничего <quote>вредного</quote>, требуется особое внимание.
	К сожалению, программисты не совершенны и время от времени
	допускают ошибки в сетевых сервисах; эти ошибки позволяют
	атакующим взломать их и использовать в собственных целях.
	Важно, чтобы вы включали сетевые сервисы только в том случае,
	когда знаете, какие сервисы нужны.  В случае сомнений лучше не
	включать сервис, пока он не понадобится.  Вы всегда можете включить
	его позже, запустив <application>sysinstall</application> еще
	раз, или используя возможности, предоставляемые файлом
	<filename>/etc/rc.conf</filename>.</para>

      <para>Выбор опции <guimenu>Networking</guimenu> отобразит меню,
	похожее на это:</para>

      <figure id="network-configuration">
	<title>Верхняя часть меню настройки сети (Network Configuration)</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/net-config-menu1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Первая опция, <guimenuitem>Interfaces</guimenuitem> (интерфейсы),
	была ранее описана в разделе <xref linkend="inst-network-dev">,
	эту опцию можно проигнорировать.</para>

      <para>Выбор опции <guimenuitem>AMD</guimenuitem> добавит поддержку
	<acronym>BSD</acronym> утилиты автоматического монтирования.
	Она обычно используется вместе с протоколом
	<acronym>NFS</acronym> (смотрите ниже)
	для автоматического монтирования удаленных файловых
	систем.  Здесь не требуется специальной конфигурации.</para>

      <para>Следующая линия это опция флаги <guimenuitem>AMD</guimenuitem>
	(flags).  Когда эта опция выбрана, появится меню для ввода
	специфичных флагов <acronym>AMD</acronym>.
	Меню уже содержит набор различных опций:</para>

      <screen>-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map</screen>

      <para>Опция <literal>-a</literal> указывает месторасположение
	монтирования систем по умолчанию, в этом примере
	<filename>/.amd_mnt</filename>.  Опция <literal>-l</literal>
	указывает <filename>log</filename> файл по умолчанию;
	тем не менее, если для ведения логов используется
	<literal>syslogd</literal>, все логи отправляются даемону
	системных логов.  Каталог <filename role="directory">/host</filename>
	используется для монтирования экспортированных файловых
	систем с удаленного хоста, а
	<filename role="directory">/net</filename> для монтирования
	экспортированных файловых систем с <acronym>IP</acronym> адреса.
	Файл <filename>/etc/amd.map</filename> определяет
	опции по умолчанию для монтируемых <acronym>AMD</acronym>
	каталогов.</para>

      <para>Опция <guimenuitem>Anon FTP</guimenuitem> позволяет получить
	анонимный доступ к <acronym>FTP</acronym>.  
	Выберите ее, чтобы сделать этот компьютер
	анонимным <acronym>FTP</acronym> сервером.
	Помните о риске безопасности, создаваемом этой опцией.
	Будет отображено еще одно меню для разъяснения
	риска безопасности и для более тонкой настройки.</para>

      <para>Опция <guimenuitem>Gateway</guimenuitem> сделает компьютер
	шлюзом, как было объяснено ранее.  Этот пункт может быть
	использован для отмены опции <guimenuitem>Gateway</guimenuitem>,
	если она была ошибочно установлена в процессе установки.</para>

      <para>Опцию <guimenuitem>Inetd</guimenuitem> можно использовать для
	настройки или полного отключения даемона &man.inetd.8;, как
	было описано выше.</para>

      <para>Опция <guimenuitem>Mail</guimenuitem> используется для настройки
	системного <acronym>MTA</acronym> по умолчанию (Mail Transfer
	Agent, агент передачи почты).  Выбор этой опции приведет к
	появлению следующего меню:</para>

      <figure id="mta-selection">
	<title>Выбор MTA по умолчанию</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mta-main" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Здесь предоставляется выбор <acronym>MTA</acronym> для
	установки по умолчанию.  <acronym>MTA</acronym> это
	почтовый сервер, доставляющий почту пользователям системы
	или интернет.</para>

      <para>Выбор <guimenuitem>Sendmail</guimenuitem> приведет к
	установке популярного сервера <application>sendmail</application>,
	<acronym>MTA</acronym> по умолчанию для &os;.
	Опция <guimenuitem>Sendmail local</guimenuitem> настроит
	<application>sendmail</application> в качестве
	<acronym>MTA</acronym> по умолчанию, но отключит возможность
	получения входящей почты из интернет.  Другие <acronym>MTA</acronym>,
	представленные здесь, <guimenuitem>Postfix</guimenuitem> и
	<guimenuitem>Exim</guimenuitem>, действуют подобно
	<guimenuitem>Sendmail</guimenuitem>.  Оба они доставляют
	почту; тем не менее, некоторые пользователи предпочитают
	эти альтернативы <application>sendmail</application>.</para>

      <para>После выбора <acronym>MTA</acronym> или пропуска этого пункта
	появится меню настройки сети со следующей опцией, клиент
	<guimenuitem>NFS</guimenuitem>.</para>

      <para>Клиент <guimenuitem>NFS</guimenuitem> позволяет настроить
	систему для соединения с сервером через
	<acronym>NFS</acronym>.  Сервер <acronym>NFS</acronym>
	дает другим машинам доступ к файловой системе через
	протокол <acronym>NFS</acronym>.  Если это отдельно
	стоящий компьютер, опцию можно не выбирать.
	Опция может потребовать дополнительной настройки позже;
	обращайтесь к <xref linkend="network-nfs"> за более
	подробной информацией о настройке сервера и клиента.</para>

      <para>Ниже находится опция <guimenuitem>NFS</guimenuitem> сервер,
	позволяющая вам настроить систему для работы в качестве
	<acronym>NFS</acronym> сервера.  Она добавляет требуемую
	информацию для запуска процедуры вызова удаленных
	сервисов <acronym>RPC</acronym> (remote procedure
	call services).  <acronym>RPC</acronym> используется для
	организации соединения между хостами и программами.</para>

      <para>Следующая строка это <guimenuitem>Ntpdate</guimenuitem>,
	которая отвечает за синхронизацию времени.  Когда эта опция
	выбрана, появится приблизительно такое меню:</para>

      <figure id="Ntpdate-config">
	<title>Настройка Ntpdate</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ntp-config" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите из этого меню ближайший к вашему местонахождению
	сервер.  Выбор ближайшего сервера сделает синхронизацию
	времени более точной, поскольку у более дальнего
	сервера может быть более длинная задержка соединения.</para>

      <para>Следующая опция это выбор <acronym>PCNFSD</acronym>.
	Эта опция устанавливает пакет
	<filename role="package">net/pcnfsd</filename> из
	коллекции портов.  Это полезная утилита, предоставляющая
	сервисы авторизации <acronym>NFS</acronym> для систем, в
	в которых собственная отсутствует, таких как Microsoft
	&ms-dos;.</para>

      <para>Теперь вы можете прокрутить меню немного вниз, чтобы увидеть
	другие опции:</para>

      <figure id="Network-configuration-cont">
	<title>Нижняя часть меню настройки сети</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/net-config-menu2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Утилиты &man.rpcbind.8;, &man.rpc.statd.8;, и
	&man.rpc.lockd.8; для удаленного вызова процедур (Remote Procedure
	Calls, <acronym>RPC</acronym>).  Утилита
	<command>rpcbind</command> управляет соединением между
	<acronym>NFS</acronym> серверами и клиентами, она требуется
	серверу <acronym>NFS</acronym> для корректной работы.
	Даемон <application>rpc.statd</application> взаимодействует с
	даемонами <application>rpc.statd</application> на других хостах
	для обеспечения мониторинга статуса.  Полученный статус
	обычно хранится в файле <filename>/var/db/statd.status</filename>.
	Последняя опция это <guimenuitem>rpc.lockd</guimenuitem>, которая,
	будучи выбранной, предоставляет сервисы блокировки файлов.
	Она обычно используется с <application>rpc.statd</application>
	для отслеживания хостов, запрашивающих блокировки и частоты
	этих запросов.  Хотя две последние опции прекрасно подходят
	для отладки, они не требуются серверам и клиентам
	<acronym>NFS</acronym> для корректной работы.</para>

      <para>Ниже в списке опций находится <guimenuitem>Routed</guimenuitem>,
	даемон маршрутизации.  Утилита &man.routed.8; управляет
	сетевыми таблицами маршрутизации, обнаруживает широковещательные
	маршрутизаторы, и предоставляет копию таблиц маршрутизации
	любому физически подключенному к сети хосту по запросу.
	Это обычно используется компьютерами, являющимися шлюзом
	для локальной сети (смотрите страницы справочника &man.icmp.4;
	и &man.udp.4;).  Когда эта опция выбрана, появится меню
	выбора местоположения утилиты по умолчанию.  Значение
	по умолчанию уже выбрано, чтобы подтвердить его нажмите
	<keycap>Enter</keycap>.  Появится следующее меню, запрашивающее
	флаги для <application>routed</application>.  По умолчанию это
	флаг <literal>-q</literal>, он должен уже быть на экране.</para>

      <para>На следующей линии находится опция <guimenuitem>Rwhod</guimenuitem>,
	выбор которой приведет к запуску даемона &man.rwhod.8; при
	старте системы.  Утилита <command>rwhod</command> периодически
	рассылает широковещательные системные сообщения по сети
	или собирает их в режиме <quote>потребителя</quote>.
	Дополнительную информацию можно найти на страницах справочника
	&man.ruptime.1; и &man.rwho.1;.</para>	

      <para>Следующая перед последней опцией в списке это даемон
	&man.sshd.8;.  Это сервер безопасной оболочки (secure shell) из
	<application>OpenSSH</application> и он очень рекомендуется
	для использования вместо стандартных серверов
	<application>telnet</application> и
	<acronym>FTP</acronym>.  Сервер <application>sshd</application>
	используется для создания безопасных соединений от одного
	хоста к другому с использованием шифрования.</para>

      <para>И наконец, опция <guimenuitem>TCP</guimenuitem> Extensions.
	Она включает расширения <acronym>TCP</acronym>, определенные
	в <acronym>RFC</acronym>&nbsp;1323 и
	<acronym>RFC</acronym>&nbsp;1644.  Хотя для многих хостов
	они могут повысить скорость соединения, с другими соединение может
	быть оборвано.  Для серверов эти расширения не рекомендуются,
	но клиентским компьютерам могут дать некоторые преимущества.</para>

      <para>Теперь, после настройки сетевых сервисов, вы можете прокрутить
	меню к верхнему пункту, <guimenuitem>Exit</guimenuitem>, и 
	перейти к следующему разделу настройки.</para>

    </sect2>

    <sect2 id="x-server">
      <title>Настройка X Сервера (Configure X Server)</title>

      <para>Чтобы использовать графический интерфейс пользователя
	<application>KDE</application>, <application>GNOME</application>,
	или другие, нужно настроить X сервер.</para>

      <note>
	<para>Чтобы запустить <application>&xfree86;</application> не из под
	  <username>root</username>, вам потребуется установленный
	  <filename role="package">x11/wrapper</filename>.  Он устанавливается
	  по умолчанию начиная с FreeBSD&nbsp;4.7.  В более ранних версиях он
	  может быть добавлен из меню выбора пакетов (Package Selection
	  menu).</para>
      </note>

      <para>Чтобы узнать, поддерживается ли ваша видеокарта, обратитесь
	к сайту <ulink url="http://www.xfree86.org/">&xfree86;</ulink>.</para>

      <screen>                      User Confirmation Requested 
        Would you like to configure your X server at this time?

                            [ Yes ]   No</screen>

      <warning>
	<para>Необходимо узнать параметры монитора и информацию о
	  видеокарте.  Установкой неправильных параметров можно повредить
	  оборудование.  Если у вас нет этой информации, выберите
	  <guibutton>[ No ]</guibutton> и выполните конфигурацию после
	  установки, когда необходимая информация будет собрана.
	  Используя <command>/stand/sysinstall</command>, выберите
	  <guimenuitem>Configure</guimenuitem> а затем
	  <guimenuitem>XFree86</guimenuitem>.  Неправильная настройка
	  X сервера может <quote>подвесить</quote> компьютер.
	  Зачастую настройку X сервера рекомендуют производить после
	  завершения установки.
	</para>
      </warning>

      <para>Если у вас есть информация о графической карте и мониторе,
	выберите <guibutton>[ Yes ]</guibutton> и нажмите
	<keycap>Enter</keycap> для начала настройки X сервера.</para>

      <figure id="xserver2">
	<title>Меню выбора способа конфигурации</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/xf86setup" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Есть несколько путей настройки X сервера.  Используйте
	клавиши навигации для выбора одного из методов и нажмите
	<keycap>Enter</keycap>.  Внимательно прочтите все инструкции.</para>

      <para>Команды <application>xf86cfg</application> и
	<application>xf86cfg -textmode</application> могут сделать экран
	темным и запуститься через несколько секунд.  Будьте терпеливы.</para>


      <para>Далее описывается использование программы настройки
	<application>xf86config</application>.  Выбор настроек
	будет зависеть от оборудования системы, так что ваши
	настройки возможно будут отличаться от тех, что приведены:</para>

      <screen>                                Message
 You have configured and been running the mouse daemon. 
 Choose "/dev/sysmouse" as the mouse port and "SysMouse" or
 "MouseSystems" as the mouse protocol in the X configuration utility. 

                                 [ OK ]

                      [ Press enter to continue ]</screen>

      <para>Это говорит, что предварительно настроенный даемон мыши был
	обнаружен.  Нажмите <keycap>Enter</keycap>, чтобы продолжить.</para>

      <para>При запуске <application>xf86config</application> отобразит
	краткое введение:</para>

      <screen>This program will create a basic XF86Config file, based on menu selections you
make.

The XF86Config file usually resides in /usr/X11R6/etc/X11 or /etc/X11. A sample
XF86Config file is supplied with XFree86; it is configured for a standard
VGA card and monitor with 640x480 resolution. This program will ask for a
pathname when it is ready to write the file.

You can either take the sample XF86Config as a base and edit it for your
configuration, or let this program produce a base XF86Config file for your
configuration and fine-tune it.

Before continuing with this program, make sure you know what video card
you have, and preferably also the chipset it uses and the amount of video
memory on your video card. SuperProbe may be able to help with this.

Press enter to continue, or ctrl-c to abort.</screen>

      <para>Нажатие <keycap>Enter</keycap> запустит настройку мыши.
	Следуя инструкциям, выберите
	<quote>Mouse Systems</quote> в качестве протокола мыши и
	<devicename>/dev/sysmouse</devicename> в качестве порта мыши,
	даже если вы используете PS/2, как показано в примере.</para>

      <screen>First specify a mouse protocol type. Choose one from the following list:

 1.  Microsoft compatible (2-button protocol)
 2.  Mouse Systems (3-button protocol) & FreeBSD moused protocol
 3.  Bus Mouse
 4.  PS/2 Mouse
 5.  Logitech Mouse (serial, old type, Logitech protocol)
 6.  Logitech MouseMan (Microsoft compatible)
 7.  MM Series
 8.  MM HitTablet
 9.  Microsoft IntelliMouse

If you have a two-button mouse, it is most likely of type 1, and if you have
a three-button mouse, it can probably support both protocol 1 and 2. There are
two main varieties of the latter type: mice with a switch to select the
protocol, and mice that default to 1 and require a button to be held at
boot-time to select protocol 2. Some mice can be convinced to do 2 by sending
a special sequence to the serial port (see the ClearDTR/ClearRTS options).

Enter a protocol number: 2

You have selected a Mouse Systems protocol mouse. If your mouse is normally
in Microsoft-compatible mode, enabling the ClearDTR and ClearRTS options
may cause it to switch to Mouse Systems mode when the server starts.

Please answer the following question with either 'y' or 'n'.
Do you want to enable ClearDTR and ClearRTS? n

You have selected a three-button mouse protocol. It is recommended that you
do not enable Emulate3Buttons, unless the third button doesn't work.

Please answer the following question with either 'y' or 'n'.
Do you want to enable Emulate3Buttons? y

Now give the full device name that the mouse is connected to, for example
/dev/tty00. Just pressing enter will use the default, /dev/mouse.
On FreeBSD, the default is /dev/sysmouse.

Mouse device: /dev/sysmouse</screen>

      <para>Следующий пункт настройки это клавиатура.  В примере показана
	модель generic 101-key.  В качестве варианта можно использовать
	любое имя, или просто нажать <keycap>Enter</keycap>, чтобы
	принять значение по умолчанию.</para>

      <screen>Please select one of the following keyboard types that is the better
description of your keyboard. If nothing really matches,
choose 1 (Generic 101-key PC)

  1  Generic 101-key PC                                
  2  Generic 102-key (Intl) PC                         
  3  Generic 104-key PC                                
  4  Generic 105-key (Intl) PC                         
  5  Dell 101-key PC                                   
  6  Everex STEPnote                                   
  7  Keytronic FlexPro                                 
  8  Microsoft Natural                                 
  9  Northgate OmniKey 101                             
 10  Winbook Model XP5                                 
 11  Japanese 106-key                                  
 12  PC-98xx Series                                    
 13  Brazilian ABNT2                                   
 14  HP Internet                                       
 15  Logitech iTouch                                   
 16  Logitech Cordless Desktop Pro                     
 17  Logitech Internet Keyboard                        
 18  Logitech Internet Navigator Keyboard              
 19  Compaq Internet                                   
 20  Microsoft Natural Pro                             
 21  Genius Comfy KB-16M                               
 22  IBM Rapid Access                                  
 23  IBM Rapid Access II                               
 24  Chicony Internet Keyboard                         
 25  Dell Internet Keyboard                            

Enter a number to choose the keyboard.

1


Please select the layout corresponding to your keyboard


  1  U.S. English                                      
  2  U.S. English w/ ISO9995-3                         
  3  U.S. English w/ deadkeys                          
  4  Albanian                                          
  5  Arabic                                            
  6  Armenian                                          
  7  Azerbaidjani                                      
  8  Belarusian                                        
  9  Belgian                                           
 10  Bengali                                           
 11  Brazilian                                         
 12  Bulgarian                                         
 13  Burmese                                           
 14  Canadian                                          
 15  Croatian                                          
 16  Czech                                             
 17  Czech (qwerty)                                    
 18  Danish                                            

Enter a number to choose the country.
Press enter for the next page

1


Please enter a variant name for 'us' layout. Or just press enter
for default variant

us


Please answer the following question with either 'y' or 'n'.
Do you want to select additional XKB options (group switcher,
group indicator, etc.)? n</screen>

      <para>Теперь переходим к настройке монитора.  Не превышайте
	значений для вашего монитора.  Он может быть поврежден.
	Если у вас есть какие-то сомнения, проводите настройку
	после того как получите информацию.</para>

      <screen>Now we want to set the specifications of the monitor. The two critical
parameters are the vertical refresh rate, which is the rate at which the
whole screen is refreshed, and most importantly the horizontal sync rate,
which is the rate at which scanlines are displayed.

The valid range for horizontal sync and vertical sync should be documented
in the manual of your monitor. If in doubt, check the monitor database
/usr/X11R6/lib/X11/doc/Monitors to see if your monitor is there.

Press enter to continue, or ctrl-c to abort.



You must indicate the horizontal sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range.

It is VERY IMPORTANT that you do not specify a monitor type with a horizontal
sync range that is beyond the capabilities of your monitor. If in doubt,
choose a conservative setting.

    hsync in kHz; monitor type with characteristic modes
 1  31.5; Standard VGA, 640x480 @ 60 Hz
 2  31.5 - 35.1; Super VGA, 800x600 @ 56 Hz
 3  31.5, 35.5; 8514 Compatible, 1024x768 @ 87 Hz interlaced (no 800x600)
 4  31.5, 35.15, 35.5; Super VGA, 1024x768 @ 87 Hz interlaced, 800x600 @ 56 Hz
 5  31.5 - 37.9; Extended Super VGA, 800x600 @ 60 Hz, 640x480 @ 72 Hz
 6  31.5 - 48.5; Non-Interlaced SVGA, 1024x768 @ 60 Hz, 800x600 @ 72 Hz
 7  31.5 - 57.0; High Frequency SVGA, 1024x768 @ 70 Hz
 8  31.5 - 64.3; Monitor that can do 1280x1024 @ 60 Hz
 9  31.5 - 79.0; Monitor that can do 1280x1024 @ 74 Hz
10  31.5 - 82.0; Monitor that can do 1280x1024 @ 76 Hz
11  Enter your own horizontal sync range

Enter your choice (1-11): 6

You must indicate the vertical sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range. For interlaced modes,
the number that counts is the high one (e.g. 87 Hz rather than 43 Hz).

 1  50-70
 2  50-90
 3  50-100
 4  40-150
 5  Enter your own vertical sync range

Enter your choice: 2

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names.

The strings are free-form, spaces are allowed.
Enter an identifier for your monitor definition: Hitachi</screen>

      <para>Далее производится выбор видеокарты из списка.  Если вы пропустили
	карту в списке, продолжайте нажимать <keycap>Enter</keycap>,
	и список повторится.  Показан только отрывок:</para>

      <screen>Now we must configure video card specific settings. At this point you can
choose to make a selection out of a database of video card definitions.
Because there can be variation in Ramdacs and clock generators even
between cards of the same model, it is not sensible to blindly copy
the settings (e.g. a Device section). For this reason, after you make a
selection, you will still be asked about the components of the card, with
the settings from the chosen database entry presented as a strong hint.

The database entries include information about the chipset, what driver to
run, the Ramdac and ClockChip, and comments that will be included in the
Device section. However, a lot of definitions only hint about what driver
to run (based on the chipset the card uses) and are untested.

If you can't find your card in the database, there's nothing to worry about.
You should only choose a database entry that is exactly the same model as
your card; choosing one that looks similar is just a bad idea (e.g. a
GemStone Snail 64 may be as different from a GemStone Snail 64+ in terms of
hardware as can be).

Do you want to look at the card database? y



288  Matrox Millennium G200 8MB                        mgag200
289  Matrox Millennium G200 SD 16MB                    mgag200
290  Matrox Millennium G200 SD 4MB                     mgag200
291  Matrox Millennium G200 SD 8MB                     mgag200
292  Matrox Millennium G400                            mgag400
293  Matrox Millennium II 16MB                         mga2164w
294  Matrox Millennium II 4MB                          mga2164w
295  Matrox Millennium II 8MB                          mga2164w
296  Matrox Mystique                                   mga1064sg
297  Matrox Mystique G200 16MB                         mgag200
298  Matrox Mystique G200 4MB                          mgag200
299  Matrox Mystique G200 8MB                          mgag200
300  Matrox Productiva G100 4MB                        mgag100
301  Matrox Productiva G100 8MB                        mgag100
302  MediaGX                                           mediagx
303  MediaVision Proaxcel 128                          ET6000
304  Mirage Z-128                                      ET6000
305  Miro CRYSTAL VRX                                  Verite 1000

Enter a number to choose the corresponding card definition.
Press enter for the next page, q to continue configuration.

288

Your selected card definition:

Identifier: Matrox Millennium G200 8MB
Chipset:    mgag200
Driver:     mga
Do NOT probe clocks or use any Clocks line.

Press enter to continue, or ctrl-c to abort.



Now you must give information about your video card. This will be used for
the "Device" section of your video card in XF86Config.

You must indicate how much video memory you have. It is probably a good
idea to use the same approximate amount as that detected by the server you
intend to use. If you encounter problems that are due to the used server
not supporting the amount memory you have (e.g. ATI Mach64 is limited to
1024K with the SVGA server), specify the maximum amount supported by the
server.

How much video memory do you have on your video card:

 1  256K
 2  512K
 3  1024K
 4  2048K
 5  4096K
 6  Other

Enter your choice: 6

Amount of video memory in Kbytes: 8192

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names (possibly from a card definition).

Your card definition is Matrox Millennium G200 8MB.

The strings are free-form, spaces are allowed.
Enter an identifier for your video card definition:</screen>

      <para>Далее, производится установка видеорежимов для требуемого разрешения.
	Обычно используемые значения 640x480, 800x600, и 1024x768, но
	они зависят от возможностей видеокарты, размера монитора и
	зрительного комфорта.  Выбирая глубину цвета, устанавливайте
	самое большое поддерживаемое видеокартой значение.</para>

      <screen>For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"640x480" "800x600" "1024x768" "1280x1024" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 2

Select modes from the following list:

 1  "640x400"
 2  "640x480"
 3  "800x600"
 4  "1024x768"
 5  "1280x1024"
 6  "320x200"
 7  "320x240"
 8  "400x300"
 9  "1152x864"
 a  "1600x1200"
 b  "1800x1400"
 c  "512x384"

Please type the digits corresponding to the modes that you want to select.
For example, 432 selects "1024x768" "800x600" "640x480", with a
default mode of 1024x768.

Which modes? 432

You can have a virtual screen (desktop), which is screen area that is larger
than the physical screen and which is panned by moving the mouse to the edge
of the screen. If you don't want virtual desktop at a certain resolution,
you cannot have modes listed that are larger. Each color depth can have a
differently-sized virtual screen

Please answer the following question with either 'y' or 'n'.
Do you want a virtual screen that is larger than the physical screen? n



For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"1024x768" "800x600" "640x480" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 4



Please specify which color depth you want to use by default:

  1  1 bit (monochrome)                                
  2  4 bits (16 colors)                                
  3  8 bits (256 colors)                               
  4  16 bits (65536 colors)                            
  5  24 bits (16 million colors)                       

Enter a number to choose the default depth.

4</screen>

      <para>Наконец, настройки нужно сохранить.  Убедитесь что ввели
	<filename>/etc/XF86Config</filename> в качестве места
	хранения настроек.</para>

      <screen>I am going to write the XF86Config file now. Make sure you don't accidently
overwrite a previously configured one.

Shall I write it to /etc/X11/XF86Config? y</screen>

      <para>Если настройка прервалась, вы можете запустить настройку опять,
	выбрав <guimenuitem>[ Yes ]</guimenuitem> когда появится следующее
	сообщение:</para>

      <screen>          User Confirmation Requested
The XFree86 configuration process seems to have
failed.  Would you like to try again?

             [ Yes ]         No</screen>

      <para>Если у вас проблемы с настройкой <application>&xfree86;</application>, выберите
	<guimenuitem>[ No ]</guimenuitem>, нажмите <keycap>Enter</keycap>
	и продолжайте процесс установки.  После установки вы можете использовать
	<command>xf86cfg -textmode</command> или
	<command>xf86config</command> для получения доступа к утилитам настройки
	в режиме командной строки под <username>root</username>.  Это дополнительный
	метод настройки <application>&xfree86;</application>, описанный в
	<xref linkend="x11">.   Если вы решите не настраивать
	<application>&xfree86;</application> сейчас, следующим появится меню
	выбора пакетов.</para>

      <para>Настройкой по умолчанию, позволяющей перезагрузить сервер,
	является комбинация клавиш <keycombo action='simul'>
	<keycap>Ctrl</keycap><keycap>Alt</keycap>
	<keycap>Backspace</keycap></keycombo>.  Эта комбинация
	может быть применена если что-то не так с установками сервера, она
	позволяет предотвратить повреждение оборудования.</para>

      <para>Настройкой по умолчанию, позволяющей переключать видео режимы
	во время работы X, является комбинация клавиш
	<keycombo action='simul'>
	  <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>+</keycap>
	</keycombo> or
	<keycombo action='simul'>
	  <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>-</keycap>
	</keycombo>.   
      </para>

      <para>После установки высота, ширина экрана или центровка экрана
	может быть выбрана с использованием
	<application>xvidtune</application>, если вы запустите 
	<application>&xfree86;</application> с
	<application>xvidtune</application>.</para>

      <para>Будут выданы предупреждения, что неверные установки могут повредить
	ваше оборудование.  Прислушайтесь к ним.  Если вы сомневаетесь в чем-то,
	не делайте этого.  Вместо этого, используйте настройки монитора для
	подстройки его под X Window.  Вид экрана может несколько отличаться
	при переключении обратно в текстовый режим, но это лучше, чем
	повреждение оборудования.</para>

      <para>Прочитайте справочник &man.xvidtune.1; перед тем как производить
	какие-либо настройки.</para>

      <para>После успешной настройки <application>&xfree86;</application>,
	будет предложен выбор десктопа по умолчанию.</para>
    </sect2>

    <sect2 id="default-desktop">
      <title>Выбор десктопа по умолчанию (Select Default X Desktop)</title>

      <para>Доступны самые разные оконные менеджеры.  Их функциональность
	варьируется от самых минимальных до полноценных десктопов
	с большим набором программ.  Некоторые требуют минимума места на диске
	и небольшого количества памяти, другие, с большим набором функций,
	требуют гораздо больше.  Лучший путь определить наиболее подходящий вам &mdash;
	попробовать несколько.  Они доступны из коллекции портов и в виде
	пакетов, и могут быть добавлены после установки.</para>

      <para>Вы можете выбрать один из популярных десктопов, он будет
	установлен и настроен в качестве десктопа по умолчанию.
	Это позволит запустить его сразу после установки.</para>

      <figure id="x-desktop">
	<title>Выбор десктопа по умолчанию</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/desktop" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте клавиши навигации, чтобы выбрать десктоп, и нажмите
	<keycap>Enter</keycap>.  Будет запущена установка выбранного
	десктопа.</para>
    </sect2>

    <sect2 id="packages">
    <title>Установка пакетов (Install Packages)</title>

      <para>Пакеты &mdash; это прекомпилированные бинарные файлы и это
	удобный способ установки программ.</para>

      <para>В качестве примера показана установка одного пакета.
	Если потребуется, можно установить дополнительные пакеты.  После
	установки для добавления пакетов может быть использована команда
	<command>/stand/sysinstall</command>.</para>

      <screen>                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now? 

                            [ Yes ]   No</screen>

      <para>Выбор <guimenuitem>[ Yes ]</guimenuitem> и нажатие
	<keycap>Enter</keycap> приведет к появлению
	экрана выбора пакетов:</para>

      <figure id="package-category">
	<title>Выбор категории пакетов</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-cat" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Только пакеты с текущего носителя
	доступны для установки в любое время.</para>

      <para>Все доступные пакеты будут показаны если выбрать категорию
	<guimenuitem>All</guimenuitem>, можно также выбирать отдельные
	категории.  Перейдите к выбранной категории с помощью клавиш
	навигации и нажмите <keycap>Enter</keycap>.</para>

      <para>Появится меню, содержащее доступные в данной категории
	пакеты.</para>

      <figure id="package-select">
	<title>Выбор пакетов</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-sel" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выбрана оболочка <application>bash</application>.
	Выберите все необходимые пакеты, перемещаясь по меню и нажимая
	клавишу пробела на выбираемых пакетах.  Краткое описание
	пакета будет появляться в нижней левой части экрана.</para>

      <para>Нажатие <keycap>Tab</keycap> переключает между последним
	выбранным пакетом, &gui.ok;, и &gui.cancel;.</para>

      <para>После того, как будет закончена отметка пакетов для установки,
	нажмите <keycap>Tab</keycap> один раз для переключения на &gui.ok;
	и нажмите <keycap>Enter</keycap> для переключения на меню выбора
	пакетов.</para>

      <para>Нажимая клавиши навигации влево или вправо, можно переключаться
	между &gui.ok; и &gui.cancel;.  Этот метод может быть применен также
	для выбора &gui.ok;, и возврата к
	меню выбора пакетов нажатием <keycap>Enter</keycap>.</para>

      <figure id="package-install">
	<title>Установка пакетов</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-install" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Используйте <keycap>Tab</keycap> и клавиши навигации для выбора
	<guibutton>[ Install ]</guibutton> и нажмите <keycap>Enter</keycap>.
	вам потребуется подтвердить установку пакетов:</para>

      <figure id="package-install-confirm">
	<title>Подтверждение установки пакетов</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-confirm" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выбор &gui.ok; и нажатие <keycap>Enter</keycap> запустит
	установку пакетов.  Во время установки будут выдаваться
	сообщения.  Обратите внимание на возможные сообщения об
	ошибках.</para>

      <para>После установки пакетов настройка продолжится.
	Если вы не выбрали ни один из пакетов и хотите вернуться
	к завершению настройки, выберите <guibutton>Install</guibutton>
	в любом случае.</para>
    </sect2>

    <sect2 id="addusers">
      <title>Добавление пользователей/групп (Add Users/Groups)</title>

      <para>В процессе установки нужно добавить хотя бы одного пользователя,
	чтобы использовать систему без входа под
	<username>root</username>.  Корневой каталог обычно мал и запуск
	приложений под <username>root</username> быстро заполнит его.
	Ниже показано предупреждение:</para>

      <screen>                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system). 

                            [ Yes ]   No</screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> и нажмите
	<keycap>Enter</keycap> чтобы продолжить добавление пользователя.</para>

      <figure id="add-user2">
	<title>Выбор User (пользователь)</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите <guimenuitem>User</guimenuitem> с помощью клавиш навигации
	и нажмите <keycap>Enter</keycap>.</para>

      <figure id="add-user3">
	<title>Вод информации о пользователе</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>При выборе полей с помощью <keycap>Tab</keycap> в нижней
	части экрана будет появляться описание, помогающее
	ввести необходимую информацию:</para>

      <variablelist>
	<varlistentry>
	  <term>Логин (Login ID)</term>

	  <listitem>
	    <para>Имя нового пользователя (обязательно).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>UID</term>
	
	  <listitem>
	    <para>Числовой ID (идентификатор) для этого пользователя (оставьте
	      пустым для автоматического выбора).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Группа (Group)</term>

	  <listitem>
	    <para>Имя группы этого пользователя (оставьте пустым для
	      автоматического выбора).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Пароль (Password)</term>

	  <listitem>
	    <para>Пароль этого пользователя (заполняйте это поле с
	      осторожностью!).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Полное имя</term>

	  <listitem>
	    <para>Полное имя пользователя (комментарий).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Член групп (Member groups)</term>

	  <listitem>
	    <para>Группы, к которым принадлежит пользователь (т.е. имеет
	      права доступа).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Домашний каталог (Home directory)</term>

	  <listitem>
	    <para>Домашний каталог пользователя (оставьте пустым для
	      выбора по умолчанию).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Оболочка (Login shell)</term>
	  <listitem>
	    <para>Оболочка пользователя, запускаемая при входе в систему
	      (оставьте пустым для оболочки по умолчанию,
	      например <filename>/bin/sh</filename>).</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Оболочка была изменена с <filename>/bin/sh</filename> на
	<filename>/usr/local/bin/bash</filename> для использования
	<application>bash</application>, которая была перед этим установлена
	из пакета.  Не пытайтесь использовать несуществующую оболочку, вы
	не сможете войти в систему.  Наиболее часто используемая в мире
	BSD оболочка это C shell, которую можно обозначить как
	<filename>/bin/tcsh</filename>.</para>

      <para>Пользователь был добавлен в группу <groupname>wheel</groupname>,
	чтобы иметь возможность стать суперпользователем с привилегиями
	<username>root</username>.</para>

      <para>Когда все будет введено, нажмите &gui.ok; и меню
	управления пользователями и группами (User and Group Management)
	появится снова:</para>

      <figure id="add-user4">
	<title>Выход из меню управления пользователями и группами</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Сейчас также можно добавить группы, если известно, для чего
	они потребуются.  Иначе в это меню можно войти,
	запустив <filename>/stand/sysinstall</filename> после окончания
	установки.</para>

      <para>После завершения добавления пользователей, выберите 
	<guimenuitem>Exit</guimenuitem> с помощью клавиш навигации и нажмите
	<keycap>Enter</keycap> для продолжения установки.</para>
    </sect2>

    <sect2 id="rootpass">
      <title>Установка пароля <username>root</username></title>

      <screen>                        Message
 Now you must set the system manager's password.  
 This is the password you'll use to log in as "root". 

                         [ OK ] 

               [ Press enter to continue ]</screen>

      <para>Нажмите <keycap>Enter</keycap> для установки пароля
	<username>root</username>.</para>

      <para>Необходимо два раза правильно ввести пароль.  Излишне
	упоминать, что должна быть возможность восстановления пароля,
	если вы его забудете.<para>

      <screen>Changing local password for root. 
New password : 
Retype new password :</screen>

      <para>Установка продолжится после успешного ввода пароля.</para>
    </sect2>

    <sect2 id="exit-inst">
      <title>Выход из установки (Exiting Install)</title>

      <para>Если нужно настроить дополнительные сетевые устройства, или 
	произвести другие настройки, вы можете сделать это сейчас или
	после установки с помощью<filename>/stand/sysinstall</filename>.</para>

      <screen>                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options? 

                              Yes   [ No ]</screen>

      <para>Выберите <guibutton>[ No ]</guibutton> с помощью клавиш навигации
	и нажмите <keycap>Enter</keycap> для возврата к главному меню
	установки.</para>

      <figure id="final-main">
	<title>Выход из установки</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mainexit" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>Выберите <guibutton>[X Exit Install]</guibutton> с помощью клавиш
	навигации и нажмите <keycap>Enter</keycap>.  Будет задан вопрос о
	подтверждении выхода из установки:</para>

      <screen>                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot (be sure to  
 remove any floppies from the drives). 

                            [ Yes ]   No</screen>

      <para>Выберите <guibutton>[ Yes ]</guibutton> и удалите дискету если
	загрузка была с нее.  CDROM заблокирован, пока компьютер не начнет
	перегружаться.  CDROM будет разблокирован и диск нужно будет извлечь
	из привода (быстро).</para>

      <para>Система начнет перезагрузку, смотрите за сообщениями об ошибках,
	которые могут появиться.</para>
    </sect2>

    <sect2 id="freebsdboot">
      <title>Загрузочный процесс FreeBSD (FreeBSD Bootup)</title>

      <sect3 id="freebsdboot-i386">
        <title>Загрузка FreeBSD на &i386;</title>

      <para>Если все пройдет нормально, вы увидите прокручивающиеся за экран
	сообщения, затем приглашение ко входу в систему.  Вы может просмотреть
	сообщения, нажав <keycap>Scroll-Lock</keycap> и используя
	<keycap>PgUp</keycap> и <keycap>PgDn</keycap>.  Нажатие
	<keycap>Scroll-Lock</keycap> еще раз вернет вас к приглашению.</para>

      <para>Все сообщение может не отобразиться (ограничение буфера),
	но может быть просмотрено путем ввода команды
	<command>dmesg</command> в командной строке.</para>

      <para>Войдите, используя имя пользователя/пароль, добавленные во
	время установки (<username>rpratt</username> в этом примере).
	Избегайте входа под <username>root</username>, если это не
	требуется.</para>

      <para>Типичные сообщения при загрузке (информация о версии удалена):</para>

<screen>Copyright (c) 1992-2002 The FreeBSD Project. 
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved. 

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt; 
  AMD Features=0x80000800&lt;SYSCALL,3DNow!&gt; 
real memory  = 268435456 (262144K bytes) 
config&gt; di sn0 
config&gt; di lnc0 
config&gt; di le0 
config&gt; di ie0 
config&gt; di fe0 
config&gt; di cs0 
config&gt; di bt0  
config&gt; di aic0 
config&gt; di aha0 
config&gt; di adv0 
config&gt; q 
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000. 
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c. 
md0: Malloc disk 
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard 
npx0: INT 16 interface 
pcib0: &lt;Host to PCI bridge&gt; on motherboard 
pci0: &lt;PCI bus&gt; on pcib0 
pcib1: &lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0 
pci1: &lt;PCI bus&gt; on pcib1 
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11 
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0 
isa0: &lt;ISA bus&gt; on isab0 
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0 
ata0: at 0x1f0 irq 14 on atapci0 
ata1: at 0x170 irq 15 on atapci0 
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0 
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0 
usb0: USB revision 1.0 
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1 
uhub0: 2 ports with 2 removable, self powered 
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0 
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xe800-0xe81f irq 9 at
device 10.0 on pci0 
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit) 
isa0: too many dependant configs (8) 
isa0: unexpected small tag 14 
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold 
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0 
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0 
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0 
kbd0 at atkbd0 
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0 
psm0: model Generic PS/2 mouse, device ID 0 
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0 
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt; 
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0 
sio0: type 16550A 
sio1 at port 0x2f8-0x2ff irq 3 on isa0 
sio1: type 16550A 
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0 
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode 
ppc0: FIFO with 16/16/15 bytes threshold 
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0: 
plip0: &lt;PLIP network interface&gt; on ppbus0 
lpt0: &lt;Printer&gt; on ppbus0 
lpt0: Interrupt-driven port 
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33 
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33 
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4 
Mounting root from ufs:/dev/ad0s1a 
swapon: adding /dev/ad0s1b as swap device 
Automatic boot in progress... 
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS 
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname. 
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384 
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8 
        inet6 ::1 prefixlen 128 
        inet 127.0.0.1 netmask 0xff000000 
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:. 
additional daemons: syslogd. 
Doing additional network setup:. 
Starting final network daemons: creating ssh RSA host key 
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key. 
Your public key has been saved in /etc/ssh/ssh_host_key.pub. 
The key fingerprint is: 
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key 
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key. 
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub. 
The key fingerprint is: 
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib 
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout 
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:. 
rc.i386 configuring syscons: blank_time screensaver moused. 
Additional ABI support: linux. 
Local package initialization:. 
Additional TCP options:. 

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt 
Password:</screen>

      <para>Генерирование ключей RSA и DSA может занять некоторое время
	на медленных компьютерах.  Это может случиться только при
	первой загрузке свежеустановленной системы.  Последующие
	загрузки будут быстрее.</para>

      <para>Если X сервер был настроен и был выбран десктоп по умолчанию,
	он может быть запущен из командной строки командой
	<command>startx</command>.</para>

      </sect3>

      <sect3>
        <title>Загрузка FreeBSD на Alpha</title>

	<indexterm><primary>Alpha</primary></indexterm>

        <para>Когда процедура установки будет завершена, вы сможете
	  запустить FreeBSD в приглашении SRM примерно такой командой:</para>

	<screen>&gt;&gt;&gt;<userinput>BOOT DKC0</userinput></screen>

	<para>Это команда дает указание на загрузку с заданного диска.  Чтобы
	  FreeBSD в будущем загружалась автоматически, используйте
	  эти команды:</para>

	<screen><prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOT_OSFLAGS A</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOT_FILE ''</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOTDEF_DEV DKC0</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET AUTO_ACTION BOOT</userinput></screen>

	<para>Загрузочные сообщения будут похожи (но не идентичны)
	сообщениям, выводимым FreeBSD при загрузке на &i386;.</para>
      </sect3>
    </sect2>

    <sect2 id="shutdown">
      <title>Завершение работы FreeBSD (FreeBSD Shutdown)</title>

      <para>Важно правильно завершать работу операционной системы.
	Нельзя просто выключать питание.  Сначала нужно стать
	суперпользователем, введя в командной строке <command>su</command>
	и пароль <username>root</username>.  Это сработает только если
	пользователь является членом группы <groupname>wheel</groupname>.
	Или зайдите под <username>root</username> и используйте команду
	<command>shutdown -h now</command>.</para>

      <screen>The operating system has halted. 
Please press any key to reboot.</screen>

      <para>Можно безопасно выключать питание после того, как будет выполнена
	команда shutdown и появится сообщение
	<quote>Please press any key to reboot</quote>.  Если вместо выключения
	питания будет нажата любая клавиша, система перезагрузится.</para>

      <para>Вы также можете использовать комбинацию клавиш
        <keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>Alt</keycap>
	  <keycap>Del</keycap>
	</keycombo>
	для перезагрузки системы, хотя это не рекомендуется в обычной
	ситуации.</para>

    </sect2>
  </sect1>

  <sect1 id="install-supported-hardware">
    <title>Поддерживаемое оборудование</title>

    <indexterm><primary>оборудование</primary></indexterm>
    <para>В настоящее время FreeBSD работает на разнообразных PC, с шинами
      ISA, VLB, EISA, и PCI с процессорами <quote>x86</quote> от
      Intel, AMD, Cyrix, или NexGen, так же как и с
      множеством компьютеров на процессорах Compaq Alpha.  Поддерживаются также
      IDE или ESDI диски, различные SCSI контроллеры, карты PCMCIA,
      устройства USB, сетевые карты и карты последовательных портов.
      FreeBSD также поддерживает шину MCA от IBM.</para>

    <para>Список поддерживаемого оборудования поставляется с каждым релизом
      FreeBSD в информации о поддерживаемом FreeBSD оборудовании.  Этот 
      документ обычно
      может быть найден в файле <filename>HARDWARE.TXT</filename> в корневом
      каталоге CDROM, дистрибутива на FTP или в меню документации
      <application>sysinstall</application>.  В нем находится список
      аппаратных устройств, которые поддерживаются этим релизом
      FreeBSD для данной архитектуры.  Копии списка поддерживаемого
      оборудования для различных релизов и архитектур также можно найти
      на  странице <ulink
      url="http://www.FreeBSD.org/ru/releases/index.html">Информации о
      релизах</ulink> сайта FreeBSD.</para>
  </sect1>

  <sect1 id="install-trouble">
    <title>Решение проблем</title>

    <indexterm>
      <primary>установка</primary>
      <secondary>решение проблем</secondary>
    </indexterm>

    <para>Следующий раздел описывает основные проблемы при установке, о
      о которых обычно сообщают пользователи. Здесь также несколько вопросов
      и ответов от тех, кто хочет настроить двойную загрузку FreeBSD и
      &ms-dos;.</para>

    <sect2>
      <title>Что делать если что-то идет не так</title>

      <para>По причине различных ограничений архитектуры PC, невозможно
	протестировать устройства достоверно на 100%, тем не менее,
	есть несколько вещей, которые вы можете сделать, если тестирование
	завершится неудачно.</para>

      <para>Сверьтесь со списком поддерживаемого оборудованию для вашей
	версии FreeBSD, чтобы убедиться, что ваше оборудование
	поддерживается.</para>

      <para>Если оборудование поддерживается, но все же происходят
	зависания или вы встретились с другими проблемами, перегрузите
	компьютер, и когда появится опция визуальной настройки ядра, выберите ее.
	Это позволит вам просмотреть список оборудования и дать системе
	информацию о настройке.  Ядро на загрузочном диске настроено в
	предположении, что у большинства аппаратных устройств IRQ, адреса
	ввода-вывода и каналы DMA установлены производителем к значениям
	по умолчанию.  Если оборудование было перенастроено, вам
	потребуется использовать редактор настроек, чтобы сообщить
	FreeBSD где что искать.</para>

      <para>Возможно также, что тестирование устройства, которого нет,
	приведет позже к ошибке тестирования существующего устройства.
	В этом случае тестирование конфликтующего драйвера (драйверов)
	должно быть запрещено.</para>

      <note>
        <para>Некоторые проблемы установки можно обойти или уменьшить,
	  обновив встроенное программное обеспечение различных
	  компонент оборудования, особенно материнской платы.
	  Встроенное программное обеспечение также называют 
          <acronym>BIOS</acronym> и у большинства производителей
	  компьютеров или материнских плат есть вебсайты, где можно найти
	  обновления и информацию об обновлениях.</para>

        <para>Большинство производителей настоятельно советуют не обновлять
          <acronym>BIOS</acronym> пока не возникнет серьезной необходимости,
	  например появление критически важных обновлений.
	  Процесс обновления <emphasis>может</emphasis> пойти неверно,
	  что приведет к неустранимому повреждению микросхемы
	  <acronym>BIOS</acronym>.</para>
        </note>

      <warning>
        <para>Не выключайте драйвера, которые понадобятся вам во время
          установки, такие как экран (<devicename>sc0</devicename>).
	  Если после выхода из редактора конфигурации установка
	  загадочно зависает или прерывается, возможно вы удалили
	  или изменили что-то, что не надо было трогать.  Перегрузитесь
	  и попробуйте еще раз.</para>
      </warning>

      <para>В режиме настройки вы можете:</para>

      <itemizedlist>
        <listitem>
          <para>Просматривать список устройств, включенных в ядро.</para>
        </listitem>

        <listitem>
          <para>Отключать драйвера устройств для оборудования, которого нет
	    в системе.</para>
        </listitem>

        <listitem>
          <para>Менять IRQ, DRQ, адреса портов, используемые драйвером
	    устройства.</para>
        </listitem>
      </itemizedlist>

      <para>После настройки ядра под оборудование нажмите
        <command>Q</command> для загрузки с новыми настройками.
	После завершения установки все изменения, внесенные в режиме
	настройки, будут действовать постоянно, так что вам не придется
	делать настройку при каждой загрузке.  Все же очень неплохо, если вы
	со временем соберете новое <link
        linkend="kernelconfig">ядро</link>.</para>
    </sect2>
    
    <sect2>
      <title>Работа с существующими разделами &ms-dos;</title>

      <indexterm><primary>DOS</primary></indexterm>
      <para>Многие пользователи устанавливают &os; на <acronym>PC</acronym>
	с установленной операционной системой &microsoft;.  Для этих целей
	в &os; есть утилита, называемая <application>FIPS</application>.  Ее
	можно найти в каталоге <filename>tools</filename> установочного
	CD-ROM или загрузить с одного из множества зеркал &os;.</para>

      <para>Утилита <application>FIPS</application> позволит вам разделить
	существующий раздел &ms-dos; на две части, сохранив имеющиеся
	данные, и сделать установку на второй свободный раздел.
	Вам потребуется сначала дефрагментировать раздел &ms-dos; с помощью
	&windows; утилиты <application>Disk Defragmenter</application>
	(запустите Explorer, кликните правой клавишей мыши на жестком диске и
	выберите дефрагментацию диска), или используйте Norton Disk Tools.
	Затем запустите утилиту <application>FIPS</application>.  Она запросит
	необходимую информацию, следуйте инструкциям на экране.  Затем
	можете перегрузиться и установить &os; на новый свободный слайс.
	Смотрите меню <guimenuitem>Distributions</guimenuitem> для определения
	размера	необходимого для выбранного типа установки свободного
	пространства.</para>

      <para>Есть также очень полезная программа
	<application>&partitionmagic;</application> от PowerQuest
	(<ulink url="http://www.powerquest.com/">http://www.powerquest.com</ulink>).
	Эта программа гораздо более функциональна, чем
	<application>FIPS</application>, и очень рекомендуется, если
	вы планируете часто добавлять/убирать операционные системы.
	Она стоит денег, и если вы планируете установить &os;
	и оставить ее, вам возможно отлично подойдет
	<application>FIPS</application>.</para>
    </sect2>

    <sect2>
      <title>Использование файловых систем &ms-dos; и &windows;</title>

      <para>В настоящее время, &os; не поддерживает файловые системы, сжатые
	с помощью программы <application>Double Space&trade;</application>.
	Поэтому файловая система должна быть разжата, чтобы
	&os; смогла получить доступ к данным.  Это может быть сделано с
	помощью приложения <application>Compression Agent</application>,
	находящегося в меню <guimenuitem>Пуск</guimenuitem>&gt;
	<guimenuitem>Программы</guimenuitem> &gt; <guimenuitem>Системные</guimenuitem>.</para>

      <para>&os; поддерживает файловые системы &ms-dos;.  Для этого потребуется
	использовать команду &man.mount.msdos.8; (в &os; 5.X, это
	&man.mount.msdosfs.8;) с необходимыми параметрами.  Наиболее
	распространенный способ	использования:</para>

      <screen>&prompt.root; <userinput>mount_msdos /dev/ad0s1 /mnt</userinput></screen>

      <para>В этом примере файловая система &ms-dos; расположена на первом
	разделе первого жесткого диска.  Ваша конфигурация может быть другой,
	проверьте вывод команд <command>dmesg</command> и
	<command>mount</command>.  Они должны предоставить достаточно
	информации для определения названий разделов.</para>

      <note><para>Расширенные разделы &ms-dos; обычно располагаются после разделов
	&os;.  Другими словами, номер слайса может быть больше, чем
	используемый &os; is using.  Например, первый раздел &ms-dos; может быть
	<filename>/dev/ad0s1</filename>, раздел &os;
	<filename>/dev/ad0s2</filename>, а расширенный раздел &ms-dos;
	<filename>/dev/ad0s3</filename>.  Некоторых это иногда запутывает на
	первых порах.</para></note>

      <para>Разделы NTFS также можно смонтировать похожим способом, используя
	команду &man.mount.ntfs.8;.</para>
     </sect2>
 
    <sect2>
      <title>Вопросы и ответы пользователей Alpha</title>

      <indexterm><primary>Alpha</primary></indexterm>

      <para>Этот раздел отвечает на некоторые обычно задаваемые вопросы об
        установке FreeBSD на Alpha.</para>

      <qandaset>
	<qandaentry>
	  <question>
	    <para>Могу я загрузиться с ARC или с консоли Alpha BIOS?</para>
	  </question>

	  <indexterm><primary>ARC</primary></indexterm>
	  <indexterm><primary>Alpha BIOS</primary></indexterm>
	  <indexterm><primary>SRM</primary></indexterm>

	  <answer>
	    <para>Нет.  &os;, как и Compaq Tru64 и VMS, может загружаться
	    только с консоли SRM.</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>Помогите, у меня нет места!  Должен ли я сначала
	    все удалить?</para>
	  </question>

	  <answer>
	    <para>К сожалению, да.</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>Могу ли я смонтировать файловые системы
	    Compaq Tru64 или VMS?</para>
	  </question>

	  <answer>
	    <para>В настоящее время нет.</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 id="install-advanced">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Valentino</firstname>
	  <surname>Vaschetto</surname>
	  <contrib>Предоставлено </contrib>
	</author>
	<!-- May 2001 -->
      </authorgroup>
    </sect1info>

    <title>Расширенное руководство по установке</title>

    <para>Эта секция описывает особые случаи установки FreeBSD.</para>

    <sect2 id="headless-install">
      <title>Установка FreeBSD на систему без монитора или клавиатуры</title>

      <indexterm>
        <primary>установка</primary>
        <secondary>без монитора (последовательная консоль)</secondary>
      </indexterm>
      <indexterm><primary>последовательная консоль</primary></indexterm>
      <para>Этот тип установки называется <quote>установка без
	монитора</quote>, потому что на компьютере, на который вы пробуете
	установить FreeBSD или не подсоединен монитор, или даже нет
	VGA выхода.  Вы спросите, как это возможно?  Используя последовательную
	консоль.  Последовательная консоль в своей основе имеет другой
	компьютер, который служит дисплеем и клавиатурой для системы.
	Чтобы сделать это, создайте инсталляционные дискеты, как
	описано в разделе <xref linkend="install-floppies">.</para>

      <para>Чтобы модифицировать дискеты для загрузки с последовательной
	консоли, следуйте этой инструкции:</para>

      <procedure>
	<step>
	  <title>Включение загрузки с последовательной консоли</title>
  	    <indexterm>
	      <primary><command>mount</command></primary>
	    </indexterm>
	    <para>Если вы произведете загрузку с только что полученных дискет,
	      FreeBSD загрузится в нормальный режим установки.  Мы хотим,
	      чтобы FreeBSD загрузилась на последовательную консоль для
	      нашей установки.  Чтобы сделать это, смонтируйте
	      <filename>kern.flp</filename> на вашу систему FreeBSD
	      используя команду &man.mount.8;.</para>

            <screen>&prompt.root; <userinput>mount /dev/fd0 /floppy</userinput></screen>

	    <para>Теперь, когда дискета смонтирована, нужно перейти в
	      каталог дискеты:</para>

	    <screen>&prompt.root; <userinput>cd /floppy</userinput></screen>

	    <para>Сейчас вам нужно настроить дискету для загрузки в
	      последовательную консоль.  Нужно создать файл
	      <filename>boot.config</filename>, содержащий
	      <literal>/boot/loader -h</literal>.  Это нужно для того, чтобы
	      передать загрузчику флаг загрузки с последовательной
	      консоли.</para>

	    <screen>&prompt.root; <userinput>echo "/boot/loader -h" > boot.config</userinput></screen>

	    <para>Теперь, когда ваша дискета правильно настроена,
	      размонтируйте ее с помощью команды &man.umount.8;:</para>

            <screen>&prompt.root; <userinput>cd /</userinput>
&prompt.root; <userinput>umount /mnt</userinput></screen>

	    <para>Теперь удалите дискету из дисковода.</para>
	  </step>

	  <step>
	    <title>Подсоединение нуль-модемного кабеля</title>

  	    <indexterm><primary>нуль-модемный кабель</primary></indexterm>
	    <para>Теперь нужно соединить два компьютера нуль-модемным кабелем.
	      Просто подсоедините этот кабель к последовательным
	      портам двух компьютеров.  <emphasis>Обычный последовательный
	      кабель не будет работать</emphasis>, вам потребуется
	      нуль-модемный кабель, поскольку в нем некоторые соединения
	      перевернуты.</para>
	  </step>

	  <step>
	    <title>Загрузка для установки</title>

	    <para>Настало время начать установку.  Вставьте диск 
	      <filename>kern.flp</filename> в дисковод компьютера, на который
	      вы будете производить установку без монитора и включите его.</para>
	  </step>

	  <step>
	    <title>Подключение к компьютеру без монитора</title>
	    <indexterm>
	      <primary><command>cu</command></primary>
	    </indexterm>
	    <para>Теперь вы можете подключиться к этому компьютеру с помощью
	      &man.cu.1;:</para> 

	    <screen>&prompt.root; <userinput>cu -l /dev/cuaa0</userinput></screen>
	  </step>
      </procedure>

      <para>Это все! Теперь вы можете управлять компьютером без монитора через
        сессию <command>cu</command>.  Будет запрошен диск
	<filename>mfsroot.flp</filename>, затем появится выбор типа
	терминала.  Выберите цветную консоль FreeBSD и проводите
	установку!</para>

    </sect2>
  </sect1>

  <sect1 id="install-diff-media">
    <title>Подготовка собственного источника установки</title>

    <note>
      <para>Чтобы не повторяться, <quote>диск FreeBSD</quote> в данном случае
	означает FreeBSD CDROM или DVD который вы купили или подготовили
	самостоятельно.</para>
    </note>

    <para>Может быть несколько ситуаций, в которых вам потребуется подготовить
      собственный диск и/или источник для установки FreeBSD.  Это может быть
      физический носитель, такой как лента, или источник, с которого
      <application>sysinstall</application> сможет взять файлы, такой как
      локальный сервер FTP, или раздел &ms-dos;.</para>

    <para>Например:</para>

    <itemizedlist>
      <listitem>
	<para>У вас есть много компьютеров, подсоединенных к локальной сети, и
	  один диск с FreeBSD.  Вы хотите создать локальный сервер FTP,
	  используя содержимое диска FreeBSD, а затем использовать с ваших
	  компьютеров этот локальный сервер FTP вместо подсоединения к
	  интернет.</para>
      </listitem>

      <listitem>
	<para>У вас есть диск с FreeBSD, и FreeBSD не распознает ваш CD/DVD
	  привод, а &ms-dos;/&windows; распознает.  Вы хотите скопировать
	  файлы установки FreeBSD на раздел DOS этого же компьютера и
	  установить FreeBSD используя эти файлы.</para>
      </listitem>

      <listitem>
	<para>На компьютере, на который вы хотите провести установку, нет ни
	  привода CD/DVD ни сетевой карты, но вы можете подсоединиться в
	  <quote>Laplink-стиле</quote> последовательным или параллельным
	  кабелем к другому компьютеру, на котором они есть.</para>
      </listitem>

      <listitem>
	<para>Вы хотите создать ленту, которую можно использовать для
	  установки FreeBSD.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="install-cdrom">
      <title>Создание установочного CDROM</title>

      <para>В составе каждого релиза проект FreeBSD предоставляет доступ к
	двум образам CDROM (<quote>ISO images</quote>).  Эти образы могут
	быть записаны (<quote>прожжены</quote>) на CD если у вас есть CD-рекордер,
	а затем использованы для установки FreeBSD.  Если у вас есть
	CD-рекордер и дешевый канал интернет, это простейший путь
	установить FreeBSD.</para>

      <procedure>
	<step>
	  <title>Скачайте соответствующие ISO образы</title>

	  <para>ISO образы для каждого релиза могут быть загружены с <filename>ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-<replaceable>архитектура</replaceable>/<replaceable>версия</replaceable></filename> или с ближайшего зеркала.  
	    Замените <replaceable>архитектура</replaceable> и 
	    <replaceable>версия</replaceable> в соответствии архитектурой
	    (Alpha или &i386;) и номером релиза соответственно.</para>

	  <para>Этот каталог обычно содержит следующие образы:</para>

	  <table frame="none">
	    <title>Названия FreeBSD ISO образов и их значения</title>

	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry>Имя файла</entry>

		  <entry>Содержимое</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry><filename><replaceable>версия</replaceable>-mini.iso</filename></entry>
		  
		  <entry>Все что вам нужно для установки FreeBSD.</entry>
		</row>

		<row>
		  <entry><filename><replaceable>версия</replaceable>-disc1.iso</filename></entry>

		  <entry>Все что вам нужно для установки FreeBSD, и столько
		    дополнительных пакетов сторонних производителей, сколько
		    уместилось на диске.</entry>
		</row>

		<row>
		  <entry><filename><replaceable>версия</replaceable>-disc2.iso</filename></entry>

		  <entry><quote>live filesystem</quote>, используемая в
		    сочетании со средством <quote>Repair</quote> программы
		    <application>sysinstall</application>.  Копия дерева CVS
		    FreeBSD.  Столько дополнительных пакетов сторонних
		    производителей, сколько уместилось на диске.</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>
<!-- XXX we don't need to mention things prior to 4.4 anymore
	  <note>
	    <para>Версия mini ISO изготовляется только для FreeBSD&nbsp;4.4 и
	      последующих релизов.  Образы дисков два, три и четыре
	      изготовляются только для FreeBSD&nbsp;4.5 и последующих
	      релизов.</para>
	  </note>
-->
	  <para>Вам <emphasis>необходимо</emphasis> загрузить или образ mini
	    ISO, или образ первого диска.  Не загружайте их оба, так как
	    образ первого диска содержит все, что есть на образе mini
	    ISO.</para>

	  <para>Используйте mini ISO если доступ в интернет затруднен.  Он
	    позволит вам установить FreeBSD, и вы сможете установить в
	    последствии программы сторонних производителей используя
	    систему портов/пакетов (смотрите
	    <xref linkend="ports">) если необходимо.</para>

	  <para>Используйте образ первого диска, если хотите выбрать
	    программы сторонних производителей с этого диска.</para>

	  <para>Дополнительные образы дисков полезны, но не необходимы,
	    особенно если у вас есть высокоскоростной доступ к интернет.</para>
	</step>

	<step>
	  <title>Запись CD</title>

	  <para>Затем вам нужно записать образы CD на диски.  Если вы делаете
	    это из другой системы FreeBSD, обратитесь к
	    <xref linkend="creating-cds"> за более подробной информацией (в 
	    частности, <xref linkend="burncd"> и 
	    <xref linkend="cdrecord">).</para>

	  <para>Если вы делаете это в другой системе, потребуется
	    использовать те утилиты для управления CD-рекордером, которые
	    есть в этой системе.  Образы дисков предоставляются в стандартном
	    формате ISO, который поддерживается многими программами.</para>
	</step>
      </procedure>
    </sect2>

    <sect2 id="install-ftp">
      <title>Создание локального сервера FTP с FreeBSD</title>
	
      <indexterm>
	<primary>установка</primary>
	<secondary>сеть</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>

      <para>Диск FreeBSD сформирован так же, как и сервер FTP.  Это сильно
	упрощает создание локального сервера FTP, который может быть
	использован другими компьютерами вашей сети для установки
	FreeBSD.</para>

      <procedure>
	<step>
	  <para>Убедитесь, что на компьютере FreeBSD, на котором будет
	    установлен сервер FTP, CDROM находится в приводе и смонтируйте
	    <filename>/cdrom</filename>.</para>

	  <screen>&prompt.root; <userinput>mount /cdrom</userinput></screen>
	</step>

	<step>
	  <para>Создайте учетную запись для anonymous FTP в
	    <filename>/etc/passwd</filename>.  Сделайте это, отредактировав
	    <filename>/etc/passwd</filename> с помощью &man.vipw.8; и добавив
	    эту строку:</para>

	  <programlisting>ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</programlisting>
	</step>

	<step>
	  <para>Убедитесь что сервис FTP включен в
	    <filename>/etc/inetd.conf</filename>.</para>
	</step>
      </procedure>

      <para>Всякий, кто может подсоединиться по сети к вашему компьютеру,
	может выбрать тип носителя FTP и набрать
	<userinput>ftp://<replaceable>ваш компьютер</replaceable></userinput>
	после выбора <quote>Other</quote> в меню серверов FTP во время
	установки.</para>

      <warning>
	<para>Этот подход хорош для компьютера в вашей локальной сети,
	  защищенного с помощью файрволла.  Предоставление сервиса FTP
	  другим компьютерам через интернет (а не через локальную сеть)
	  привлекает к вашему компьютеру внимание кракеров и других
	  лиц, чье внимание нежелательно.  Мы настоятельно рекомендуем
	  придерживаться правильной политики безопасности, если вы
	  делаете это.</para>
      </warning>
    </sect2>

      <sect2>
        <title>Создание дискет для установки</title>

      <indexterm>
	<primary>установка</primary>
	<secondary>дискеты</secondary>
      </indexterm>

      <para>Если вам требуется выполнить установку с дискет (чего мы
	<emphasis>не</emphasis> рекомендуем делать) или по причине
	не поддерживаемого оборудования, или просто потому, что
	вы не любите простых путей, потребуется сначала
	подготовить несколько дискет для установки.</para>

	<para>Как минимум, вам потребуется столько 1.44&nbsp;MB или 1.2&nbsp;MB
	  дискет, сколько нужно, чтобы вместить все файлы из каталога 
	  <filename>bin</filename> (binary distribution).  Если
	  вы подготавливаете эти дискеты из DOS, они
	  <emphasis>ДОЛЖНЫ</emphasis> быть отформатированы с помощью команды
	  &ms-dos; <command>FORMAT</command>.  Если вы используете &windows;,
	  используйте Explorer для форматирования дисков (кликните правой
	  кнопкой мыши на диске <devicename>A:</devicename> и выберите
	  <quote>Format</quote>.</para>

	<para><emphasis>Не</emphasis> доверяйте заводскому форматированию
	  дискет.  Отформатируйте их еще раз самостоятельно, просто для
	  уверенности.  Множество проблем, о которых сообщали наши пользователи,
	  были результатом использования неправильно отформатированных дисков,
	  поэтому мы сейчас обращаем на это внимание.</para>

	<para>Если вы создаете образы на другом компьютере FreeBSD,
	  форматирование все еще не лишне, хотя вам не потребуется
	  создавать файловую систему DOS на каждой дискете.  Вы можете
	  использовать <command>disklabel</command> и <command>newfs</command>
	  для создания на них файловых систем UFS, в следующей
	  последовательности (для 3.5" 1.44&nbsp;MB дискет):</para>

	<screen>&prompt.root; <userinput>fdformat -f 1440 fd0.1440</userinput>
&prompt.root; <userinput>disklabel -w -r fd0.1440 floppy3</userinput>
&prompt.root; <userinput>newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0</userinput></screen>

	<note>
	  <para>Используйте <literal>fd0.1200</literal> и
	    <literal>floppy5</literal> для 5.25" 1.2&nbsp;MB дискет.</para>
	</note>

	<para>Затем вы можете смонтировать их и писать на них как на любую
	  другую файловую систему.</para>

	<para>После форматирования дискет вам потребуется скопировать на них
	  файлы.  Файлы дистрибутива разделены на части, размер которых
	  позволяет легко разместить пять частей на обычной 1.44&nbsp;MB дискете.
	  Заполните все дискеты файлами, помещая столько файлов на одну
	  дискету, сколько уместится, пока у вас не будет всех необходимых
	  компонент дистрибутива.  Каждый компонент должен располагаться
	  в подкаталоге на дискете, например
	  <filename>a:\bin\bin.aa</filename>,
	  <filename>a:\bin\bin.ab</filename>, и так далее.</para>

	<para>Как только в процессе установки появится экран Media,
	  выберите <quote>Floppy</quote> и установка продолжится.</para>
      </sect2>

      <sect2 id="install-msdos">
        <title>Установка с раздела &ms-dos;</title>

	<indexterm>
	  <primary>установка</primary>
	  <secondary>с MS-DOS</secondary>
	</indexterm>
	<para>Чтобы подготовиться к установке с раздела &ms-dos;,
	  скопируйте файлы с дистрибутива в каталог
          <filename>freebsd</filename> корневого каталога раздела.
	  Например, <filename>c:\freebsd</filename>.  Структура каталога
	  CDROM или сервера FTP должна быть в точности воспроизведена в
	  этом каталоге, мы предлагаем использовать команду DOS
	  <command>xcopy</command> если вы копируете дистрибутив с CD.
	  Например, чтобы подготовить минимальную установку FreeBSD:</para>

	<screen><prompt>C:\&gt;</prompt> <userinput>md c:\freebsd</userinput>
<prompt>C:\&gt;</prompt> <userinput>xcopy e:\bin c:\freebsd\bin\ /s</userinput>
<prompt>C:\&gt;</prompt> <userinput>xcopy e:\manpages c:\freebsd\manpages\ /s</userinput></screen>

	<para>Предполагается, что на <devicename>C:</devicename> есть свободное
	  место, а на <devicename>E:</devicename> смонтирован CDROM.</para>
	
	<para>Если у вас нет CDROM, можно загрузить дистрибутив с <ulink
	  url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/">ftp.FreeBSD.org</ulink>.
	  Каждый компонент находится в своем собственном каталоге, например
	  компонент <emphasis>base</emphasis> можно найти в каталоге <ulink
	  url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/base/">&rel.current;/base/</ulink>.</para>
    
	<note>
	  <para>В 4.X и более поздних релизах &os; компонент
	    <quote>base</quote> называется <quote>bin</quote>.  Поправьте
	    команды и ссылки соответственно, если вы используете эти
	    версии.</para>
	</note>

	<para>Все компоненты, которые вы будете устанавливать с раздела
	  &ms-dos; (и для которых у вас есть место), нужно расположить в
	  <filename>c:\freebsd</filename> &mdash; для минимальной установки
	  нужна только компонента <literal>BIN</literal>.</para>
      </sect2>

      <sect2>
        <title>Создание ленты для установки</title>

	<indexterm>
	  <primary>установка</primary>
	  <secondary>с ленты QIC/SCSI</secondary>
	</indexterm>
	<para>Установка с ленты это возможно самый простой метод, уступающий
	  только установке с FTP или CDROM.  Программа установки может
	  найти на ленте файлы, которые записаны на нее с помощью tar.
	  После получения всех файлов дистрибутива, которые вам нужны,
	  запишите их на ленту с помощью tar:</para>

	<screen>&prompt.root; <userinput>cd /freebsd/distdir</userinput>
&prompt.root; <userinput>tar cvf /dev/rwt0 dist1 ... dist2</userinput></screen>

<!--redundant description in original text removed from translation-->
	<para>Когда вы приступите к установке, нужно убедиться в наличии
	  достаточного места во временном каталоге (который будет
	  предложено выбрать), чтобы поместилось <emphasis>все</emphasis>
	  содержимое записанной ленты.  Поскольку лента &mdash; устройство
	  не-произвольного доступа, этот метод установки требует некоторого
	  места во временном хранилище.</para>

	<note>
	  <para>При начале установки лента должна быть в приводе
	    <emphasis>до</emphasis> загрузки с дискеты.
	    В ином случае она может быть не найдена при тестировании
	    устройств.</para>
	</note>
      </sect2>

      <sect2>
        <title>Перед установкой по сети</title>

	<indexterm>
	  <primary>установка</primary>
	  <secondary>сеть</secondary>
	  <tertiary>последовательная (SLIP или PPP)</tertiary>
	</indexterm>
	<indexterm>
	  <primary>установка</primary>
	  <secondary>сеть</secondary>
	  <tertiary>параллельная (PLIP)</tertiary>
	</indexterm>
	<indexterm>
	  <primary>установка</primary>
	  <secondary>сеть</secondary>
	  <tertiary>Ethernet</tertiary>
	</indexterm>
	<para>Есть три возможных типа установки по сети.  Через последовательный
	  порт (SLIP или PPP), параллельный порт (PLIP (laplink кабель)),
	  или Ethernet (стандартный Ethernet контроллер (включая некоторые
	  PCMCIA)).</para>

	<para>Поддержка SLIP немного примитивна, и ограничена в основном
	  постоянными соединениями, такими как последовательный
	  кабель между ноутбуком и другим компьютером.  Соединение должно быть
	  постоянным, так как устанавливаемый SLIP в настоящее время не имеет
	  возможности дозвона; эта возможность предоставляется программой PPP,
	  которая должна быть использована вместо SLIP когда это
	  возможно.</para>

	<para>Если вы используете модем, PPP это конечно почти единственный
	  выбор.  Убедитесь что у вас есть информация о провайдере, так как она
	  понадобится на довольно ранней стадии процесса установки.</para>  

	<para>Если вы используете PAP или CHAP для соединения с провайдером
	  (другими словами, вы можете соединяться с провайдером из 
	  &windows; без использования скрипта), все что вам понадобится это
	  ввести <command>dial</command> в приглашении
	  <application>ppp</application>.  Иначе вам нужно знать, как
	  дозвониться до провайдера с помощью <quote>AT команд</quote>,
	  специфичных для вашего модема, так как программа дозвона PPP
	  предоставляет только очень простой эмулятор терминала.  Обратитесь
	  к <link
	  linkend="userppp">руководству</link> user-ppp и <ulink
	  url="../faq/ppp.html">FAQ</ulink> для получения более подробных
	  сведений.  Если у вас проблемы, логи могут быть выведены на экран
	  с помощью команды <command>set log local ...</command>.</para>

	<para>Если доступно постоянное соединение с другой машиной 
	  FreeBSD (2.0-R или выше), вы можете также подумать об
	  установке через параллельный порт <quote>laplink</quote> кабелем.
	  Скорость соединения через параллельный порт значительно выше, чем
	  обычно возможно через последовательную линию (до 50&nbsp;кбайт/с),
	  это приведет к ускорению установки.</para>

	<para>Наконец, для самой быстрой установки по сети хорошим выбором
	  будет Ethernet адаптер! FreeBSD поддерживает большинство
	  PC Ethernet карт; список поддерживаемых карт (и требуемых
	  для них установок) предоставляется в информации об оборудовании
	  для каждого релиза FreeBSD.  Если вы используете одну из
	  поддерживаемых PCMCIA Ethernet карт, убедитесь также что она
	  подключена <emphasis>перед</emphasis> тем, как ноутбук будет
	  включен! К сожалению, FreeBSD в настоящее время не поддерживает
	  горячее подключение PCMCIA карт во время установки.</para>

	<para>Вам также потребуется знать IP адрес в сети, сетевую
	  маску для класса подсети, и имя компьютера.  Если вы делаете
	  установку через соединение PPP и у вас нет статического
	  IP, не бойтесь, IP адрес будет динамически выделен вам провайдером.
	  Системный администратор может подсказать вам какие значения
	  использовать для данной установки по сети.  Если вы будете обращаться
	  к другим хостам по имени, а не по IP адресу, понадобится также
	  ДНС сервер и, возможно, адрес шлюза (если вы используете PPP, это
	  IP адрес вашего провайдера), чтобы связаться с ним.  Если вы хотите
	  производить установку с FTP через HTTP прокси,
	  потребуется также адрес прокси.  Если вы не знаете ответов
	  на все или большинство этих вопросов, свяжитесь с системным
	  администратором или ISP <emphasis>перед</emphasis> тем, как начать
	  этот тип установки.</para>

	<sect3>
	  <title>Перед установкой через NFS</title>

	  <indexterm>
	    <primary>установка</primary>
	    <secondary>сеть</secondary>
	    <tertiary>NFS</tertiary>
	  </indexterm>
	  <para>Установка через NFS очень проста.  Просто скопируйте
	    компоненты FreeBSD, которые вам нужны на NFS сервер,
	    а затем укажите на него при выборе источника установки NFS.</para>

	  <para>Если этот сервер поддерживает только <quote>привилегированные
	    порты</quote> (это как правило так для рабочих станций Sun),
	    потребуется установить этот параметр в меню Options
	    перед тем, как начать установку.</para>

	  <para>Если у вас Ethernet карта плохого качества с низкой скоростью
	    передачи данных, вы возможно захотите переключить соответствующий
	    флаг в Options.</para>

	  <para>Чтобы установка по NFS работала, сервер должен поддерживать
	    монтирование подкаталогов, например, если установочный каталог
	    дистрибутива FreeBSD&nbsp;&rel.current; находится на:
	    <filename>ziggy:/usr/archive/stuff/FreeBSD</filename>,
	    <hostid>ziggy</hostid> должен позволять непосредственное
	    монтирование <filename>/usr/archive/stuff/FreeBSD</filename>,
	    а не только <filename>/usr</filename> или
	    <filename>/usr/archive/stuff</filename>.</para>

	  <para>В файле FreeBSD <filename>/etc/exports</filename>, это
	    управляется параметром <option>-alldirs</option>.  Другие NFS
	    сервера могут иметь другие соглашения.  Если вы получаете
	    сообщения сервера <quote>permission denied</quote>,
	    это может означать, что соответствующая опция не включена.</para>
	</sect3>

      </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
