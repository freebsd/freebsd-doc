.\" Copyright (c) 1983, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)talk.1	8.1 (Berkeley) 6/6/93
.\" %FreeBSD: src/usr.bin/talk/talk.1,v 1.20 2005/02/13 22:25:24 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/talk.1,v 1.1 2007/10/31 15:43:55 ru Exp $
.\" $FreeBSD$
.\"
.Dd 3 июля 2004
.Dt TALK 1
.Os
.Sh НАЗВАНИЕ
.Nm talk
.Nd поговорить с другим пользователем
.Sh СИНТАКСИС
.Nm
.Ar пользователь
.Op Ar терминал
.Sh ОПИСАНИЕ
Утилита
.Nm
представляет собой программу для визуального общения,
которая копирует строки, вводимые с вашего терминала,
на терминал другого пользователя.
.Pp
Имеются следующие опции:
.Bl -tag -width ".Ar пользователь"
.It Ar пользователь
Если вы хотите поговорить с кем-то на вашей машине, тогда
.Ar пользователь
\[en] это просто регистрационное имя пользователя.
Если вы хотите поговорить с пользователем на другом хосте, то
.Ar пользователь
должен иметь вид
.Ql пользователь@хост ,
или
.Ql хост!пользователь ,
или
.Ql хост:пользователь .
.It Ar терминал
Если вы хотите пообщаться с пользователем, который зарегистрировался в
системе более одного раза, можно использовать аргумент
.Ar терминал ,
чтобы указать имя нужного терминала.
При этом
.Ar терминал
должен иметь вид
.Ql ttyXX .
.El
.Pp
При первом вызове
.Nm
посылает пользователю, с которым вы хотели бы связаться,
следующее сообщение:
.Bd -literal -offset indent -compact
Message from TalkDaemon@его_машина...
talk: connection requested by ваше_имя@ваша_машина.
talk: respond with: talk ваше_имя@ваша_машина
.Ed
.Pp
В ответ получатель сообщения должен ввести команду
.Pp
.Dl talk \ ваше_имя@ваша_машина
.Pp
При этом не имеет значения, с какой машины получатель ответит, если его
регистрационное имя останется таким же.
Как только связь установлена, обе стороны одновременно могут набирать текст,
который будет появляться в отдельных окнах.
Нажатие control-L
.Ql ^L
приведёт к перерисовке экрана.
Нажатие control-D
.Ql ^D
очистит обе части вашего экрана, а также отошлёт этот символ
удалённой стороне
(где он будет просто отображён этим клиентом
.Nm ) .
Символы забоя, удаления строки и удаления слова
работают как обычно.
Для выхода просто введите символ прерывания;
.Nm
переместит курсор в нижнюю строку экрана и восстановит терминал в его
предыдущее состояние.
.Pp
Общение может быть запрещено или разрешено с помощью команды
.Xr mesg 1 .
Изначально общение разрешено.
.Sh ФАЙЛЫ
.Bl -tag -width /var/run/utmp -compact
.It Pa /etc/hosts
чтобы найти машину получателя
.It Pa /var/run/utmp
чтобы найти терминал получателя
.El
.Sh СМОТРИ ТАКЖЕ
.Xr mail 1 ,
.Xr mesg 1 ,
.Xr wall 1 ,
.Xr who 1 ,
.Xr write 1 ,
.Xr talkd 8
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 4.2 .
.Pp
Во
.Fx 5.3
поведение по умолчанию утилиты
.Nm
было изменено так, чтобы запросы на общение между локальными пользователями
рассматривались как исходящие и заканчивающиеся на локальном хосте
.Em localhost .
До этого изменения существовало требование, чтобы имя хоста (согласно
.Xr gethostname 3 )
разрешалось в действительный адрес IPv4 (через
.Xr gethostbyname 3 ) ,
делая невозможным использование
.Nm
в конфигурациях, где
.Xr talkd 8
был привязан к интерфейсу обратной связи (loopback)
(обычно из соображений безопасности).
.Sh ПРОБЛЕМЫ
Версия
.Nm ,
выпущенная в
.Bx 4.3 ,
использует протокол, несовместимый с протоколом, использованным в версии,
выпущенной в
.Bx 4.2 .
.Pp
Мультибайтовые символы не распознаются.
