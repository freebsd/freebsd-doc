.\" Copyright (c) 2002 John Rochester
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" %FreeBSD: src/usr.bin/makewhatis/makewhatis.1,v 1.5 2005/12/05 14:22:12 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/makewhatis.1,v 1.6 2007/11/20 07:08:33 ru Exp $
.\" $FreeBSD$
.\"
.Dd 3 декабря 2005
.Dt MAKEWHATIS 1
.Os
.Sh НАЗВАНИЕ
.Nm makewhatis
.Nd "создать базу данных whatis"
.Sh СИНТАКСИС
.Nm
.Op Fl a
.Op Fl i Ar столбец
.Op Fl n Ar имя
.Op Fl o Ar файл
.Op Fl v
.Op Fl L
.Op Ar каталог ...
.Sh ОПИСАНИЕ
Утилита
.Nm
извлекает имена и краткие описания из всех неформатированных
страниц справочника в заданных каталогах,
и помещает их в файл, который затем используется командами
.Xr whatis 1
и
.Xr apropos 1 .
Каталоги могут разделяться двоеточиями вместо пробелов.
Если аргументы
.Ar каталог
не заданы, используется значение переменной окружения
.Ev MANPATH ,
а если и она не установлена, используется каталог
по умолчанию,
.Pa /usr/share/man .
.Pp
Имеются следующие опции:
.Bl -tag -width ".Fl i Ar столбец"
.It Fl a
Добавлять информацию в выходные файлы вместо полной замены их содержимого.
Результат
будет отсортирован, повторяющиеся строки будут удалены,
но могут остаться устаревшие записи.
.It Fl i Ar столбец
Выровнять описания по указанному столбцу.
По умолчанию
.Ar столбец
равен 24.
.It Fl n Ar имя
Использовать
.Ar имя
вместо
.Pa whatis .
.It Fl o Ar файл
Весь вывод направить в
.Ar файл
вместо
.Pa */man/whatis .
.It Fl v
Более подробно сообщать о том,
что делает
.Nm .
.It Fl L
Обрабатывать только локализованные каталоги, соответствующие
региональным настройкам (locale), заданными стандартными переменными
окружения.
.El
.Sh ОКРУЖЕНИЕ
.Bl -tag -width ".Ev MANPATH"
.It Ev LC_ALL , LC_CTYPE , LANG
Эти переменные влияют на то, какие каталоги будут обрабатываться,
если указана опция
.Fl L .
.It Ev MACHINE
Если переменная
.Ev MACHINE
установлена, она перекрывает значение текущего типа машины,
использующееся для поиска машинно-зависимых подкаталогов
справочника.
.It Ev MACHINE_ARCH
Если переменная
.Ev MACHINE_ARCH
установлена, она перекрывает значение текущей архитектуры,
использующееся для поиска архитектурно-зависимых подкаталогов
справочника.
.It Ev MANPATH
Определяет набор каталогов, которые будут обрабатываться в случае,
если каталоги не заданы явно в командной строке.
.El
.Sh ФАЙЛЫ
.Bl -tag -width ".Pa /usr/share/man" -compact
.It Pa /usr/share/man
Каталог по умолчанию, если переменная окружения
.Ev MANPATH
не установлена.
.It Pa */man/whatis
Стандартный файл вывода.
.El
.Sh СТАТУС ЗАВЕРШЕНИЯ
.Ex -std
.Sh СМОТРИ ТАКЖЕ
.Xr apropos 1 ,
.Xr whatis 1
.Sh ИСТОРИЯ
Команда
.Nm
появилась во
.Fx 2.1 .
.Sh АВТОРЫ
.An -nosplit
Программа
.Nm
изначально была написана на Perl, её написал
.An Wolfram Schneider .
Текущую версию
.Nm
переписал на C
.An John Rochester .
