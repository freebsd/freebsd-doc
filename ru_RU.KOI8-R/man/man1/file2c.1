.\"----------------------------------------------------------------------------
.\" "THE BEER-WARE LICENSE" (Revision 42):
.\" <phk@FreeBSD.org> wrote this file.  As long as you retain this notice, you
.\" can do whatever you want with this file. If we meet some day, and you think
.\" this stuff is worth it, you can buy me a beer in return.  Poul-Henning Kamp
.\" ---------------------------------------------------------------------------
.\"
.\" %FreeBSD: src/usr.bin/file2c/file2c.1,v 1.13.2.1 2007/11/14 19:24:10 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/file2c.1,v 1.4 2007/11/16 11:31:27 ru Exp $
.\" $FreeBSD$
.\"
.Dd 22 марта 2007
.Dt FILE2C 1
.Os
.Sh НАЗВАНИЕ
.Nm file2c
.Nd превратить файл в исходник C
.Sh СИНТАКСИС
.Nm
.Op Fl sx
.Op Fl n Ar число
.Op Ar префикс Op Ar суффикс
.Sh ОПИСАНИЕ
Утилита
.Nm
читает файл из стандартного ввода и пишет его в стандартный вывод, на лету
превращая каждый байт в его десятичное или шестнадцатеричное представление.
Значения байт разделяются запятыми.
За значением последнего байта запятой не следует.
По умолчанию значения байт выводятся в десятичном виде, но если указана опция
.Fl x ,
значения будут выведены в шестнадцатеричном виде.
Если указана опция
.Fl s ,
в начале каждой строки будет выведен символ табуляции, и после каждой
запятой будет напечатан пробел, кроме последней запятой в строке.
.Pp
При выводе свыше 70 знаков на строку, эта строка
завершается и вывод продолжается со следующей строки.
Опция
.Fl n
позволяет начинать новые строки через указанное количество выведенных
значений байт.
При этом длина строки не будет играть роли.
Для вывода значений всех байт на одной строке можно задать опции
.Fl n
отрицательное число.
.Pp
Префикс и суффикс могут быть выведены до и после значений байт соответственно.
Если суффикс должен быть выведен, префикс также должен быть указан.
Первое слово, не являющееся опцией \[en] префикс, за ним может следовать
слово, которое следует принять за суффикс.
.Pp
Эта программа обычно используется для включения бинарных файлов в исходники C.
Префикс используется для задания массива, а суффикс используется для завершения
выражения C.
Опции
.Fl n , s
и
.Fl x
полезны, когда бинарные данные представляют собой массив бит и вывод
должен оставаться читаемым или редактируемым.
Шрифты \[en] хороший пример такого случая.
.Sh ПРИМЕРЫ
Команда:
.Bd -literal -offset indent
date | file2c 'const char date[] = {' ',0};'
.Ed
.Pp
выведет:
.Bd -literal -offset indent
const char date[] = {
83,97,116,32,74,97,110,32,50,56,32,49,54,58,50,56,58,48,53,
32,80,83,84,32,49,57,57,53,10
,0};
.Ed
