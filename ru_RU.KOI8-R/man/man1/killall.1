.\" Copyright (C) 1994 by Joerg Wunsch, Dresden
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
.\" STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
.\" IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.\" %FreeBSD: src/usr.bin/killall/killall.1,v 1.34.10.1 2007/11/14 19:22:42 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/killall.1,v 1.2 2007/11/16 11:31:27 ru Exp $
.\" $FreeBSD$
.\"
.Dd 9 ноября 2007
.Os
.Dt KILLALL 1
.Sh НАЗВАНИЕ
.Nm killall
.Nd уничтожить процессы по имени
.Sh СИНТАКСИС
.Nm
.Op Fl delmsvz
.Op Fl help
.Op Fl j Ar jid
.Op Fl u Ar пользователь
.Op Fl t Ar терминал
.Op Fl c Ar имя_процесса
.Op Fl Ar СИГНАЛ
.Op Ar имя_процесса ...
.Sh ОПИСАНИЕ
Утилита
.Nm
уничтожает процессы по заданному имени процесса, в отличии от утилиты
.Xr kill 1 ,
которая работает с идентификатором процесса.
По умолчанию,
.Nm
посылает сигнал
.Dv TERM
всем процессам с тем же реальным UID, что и у вызвавшего её
пользователя, и имя которых совпадает с указанным аргументом
.Ar имя_процесса
именем.
Суперпользователь может уничтожить любой процесс.
.Pp
Имеются следующие опции:
.Bl -tag -width ".Fl c Ar имя_процесса"
.It Fl d | v
Вывести более подробный отчёт о работе утилиты.
Если указана только опция
.Fl d ,
будет выведен список процессов, которым будет послан выбранный сигнал,
либо сообщение о том, что подходящих процессов найдено не было.
.It Fl e
Использовать эффективный идентификатор пользователя вместо реального
идентификатора пользователя (это происходит по умолчанию) для поиска
процессов при указании опции
.Fl u .
.It Fl help
Вывести подсказку по использованию команды и выйти.
.It Fl l
Вывести список имён доступных сигналов и выйти, как в
.Xr kill 1 .
.It Fl m
Сопоставлять имена процессов с указанным в аргументе
.Ar имя_процесса
регулярным выражением, с учётом регистра.
ВНИМАНИЕ!
С осторожностью используйте эту опцию.
Например, одиночная точка будет соответствовать любому процессу,
запущенному под реальным UID вызвавшего утилиту пользователя.
.It Fl s
Только показать что было бы сделано, но не посылать при этом никаких сигналов.
.It Fl Ar СИГНАЛ
Послать отличный от
.Dv TERM
сигнал.
Сигнал может быть указан как по имени (с приставкой
.Dq Li SIG
или без неё), так и по номеру.
.It Fl j Ar jid
Завершить процессы в jail, указанной по
.Ar jid .
.It Fl u Ar пользователь
Ограничить потенциально подходящие процессы теми, что принадлежат
указанному пользователю.
.It Fl t Ar терминал
Ограничить потенциально подходящие процессы теми, что запущены
на указанном терминале.
.It Fl c Ar имя_процесса
Ограничить потенциально подходящие процессы теми, у которых
имя совпадает с аргументом
.Ar имя_процесса .
.It Fl z
Не игнорировать процессы-зомби.
Это никак не должно повлиять на работу утилиты, за исключением того, что
.Nm
выведет несколько сообщений об ошибках при обнаружении подходящих
процессов-зомби.
.El
.Sh ВСЕ ПРОЦЕССЫ
Утилита
.Xr kill 1
уже имеет возможность передачи сигнала всем процессам с заданным UID,
поэтому для такого рода задачи следует использовать
.Xr kill 1 .
Например,
.Dq Li "kill -TERM -1"
или с правами суперпользователя
.Dq Li "echo kill -TERM -1 | su -m <user>" .
.Sh СТАТУС ЗАВЕРШЕНИЯ
Утилита
.Nm
возвращает 0, если были найдены подходящие процессы и им успешно
был послан сигнал.
В противном случае,
.Nm
возвращает 1.
.Sh ДИАГНОСТИКА
Отладочные сообщения будут выводиться только в случае использования опции
.Fl d .
.Sh СМОТРИ ТАКЖЕ
.Xr kill 1 ,
.Xr pkill 1 ,
.Xr sysctl 3 ,
.Xr jail 8
.Sh ИСТОРИЯ
Команда
.Nm
появилась во
.Fx 2.1 .
Она была смоделирована по образу и подобию команды
.Nm ,
доступной на других платформах.
.Sh АВТОРЫ
.An -nosplit
Изначально программу
.Nm
написал на Perl
.An Wolfram Schneider .
Эту страницу справочника написал
.An J\(:org Wunsch .
Текущую версию утилиты
.Nm ,
использующую интерфейс
.Xr sysctl 3 ,
переписал на C
.An Peter Wemm .
