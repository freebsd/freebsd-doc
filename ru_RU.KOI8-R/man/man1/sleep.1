.\"-
.\" Copyright (c) 1990, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)sleep.1	8.3 (Berkeley) 4/18/94
.\" %FreeBSD: src/bin/sleep/sleep.1,v 1.22 2005/01/16 16:41:59 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/sleep.1,v 1.3 2007/11/13 11:08:03 ru Exp $
.\" $FreeBSD$
.\"
.Dd 18 апреля 1994
.Dt SLEEP 1
.Os
.Sh НАЗВАНИЕ
.Nm sleep
.Nd приостановить выполнение на указанный интервал времени
.Sh СИНТАКСИС
.Nm
.Ar seconds
.Sh ОПИСАНИЕ
Команда
.Nm
приостанавливает выполнение по крайней мере на
.Ar seconds
секунд.
.Pp
Если команда
.Nm
получает сигнал, она выполняет стандартное действие.
.Sh ОСОБЕННОСТИ РЕАЛИЗАЦИИ
В данной реализации сигнал
.Dv SIGALRM
никаким специальным образом не обрабатывается.
.Pp
Команда
.Nm
допускает указание дробного числа секунд
(с символом
.Ql .\&
в качестве десятичной точки).
.Bf Sy
Это нестандартное расширение функциональности, и его использование может
привести к тому, что командный сценарий будет выполняться некорректно на
другой системе.
.Ef
.Sh СТАТУС ЗАВЕРШЕНИЯ
.Ex -std
.Sh ПРИМЕРЫ
Чтобы запланировать выполнение команды через
.Va x
секунд (из
.Xr csh 1 ) :
.Pp
.Dl (sleep 1800; sh command_file >& errors)&
.Pp
Это "заклинание" подождало бы полчаса перед тем,
как выполнить командный сценарий command_file.
(Посмотрите на утилиту
.Xr at 1 . )
.Pp
Чтобы выполнить команду с повтором (из
.Xr csh 1 ) :
.Pp
.Bd -literal -offset indent -compact
while (1)
	if (! -r zzz.rawdata) then
		sleep 300
	else
		foreach i (`ls *.rawdata`)
			sleep 70
			awk -f collapse_data $i >> results
		end
		break
	endif
end
.Ed
.Pp
Сценарий, подобный этому, может быть использован в следующем случае:
программа, которая выполняется в настоящий момент и обрабатывает
ряд файлов, тратит времени больше, чем ожидалось, и было бы неплохо,
если бы другая программа начала обработку файлов, созданных первой
программой, как только та закончит свою работу (когда будет создан
файл zzz.rawdata).
Сценарий проверяет наличие файла zzz.rawdata каждые пять минут
и когда обнаруживает его, отправляет очередную порцию на обработку,
делая это вежливо, засыпая на 70 секунд перед каждым заданием awk.
.Sh СМОТРИ ТАКЖЕ
.Xr nanosleep 2 ,
.Xr sleep 3
.Sh СТАНДАРТЫ
Предполагается, что команда
.Nm
совместима со стандартом
.St -p1003.2 .
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.At v4 .
