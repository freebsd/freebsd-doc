.\" Copyright (c) 1990, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)tftp.1	8.2 (Berkeley) 4/18/94
.\" %FreeBSD: src/usr.bin/tftp/tftp.1,v 1.19.10.1 2007/11/14 19:25:04 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/tftp.1,v 1.3 2007/11/20 13:50:08 ru Exp $
.\" $FreeBSD$
.\"
.Dd 1 октября 2003
.Dt TFTP 1
.Os
.Sh НАЗВАНИЕ
.Nm tftp
.Nd "программа простой передачи файлов"
.Sh СИНТАКСИС
.Nm
.Op Ar хост Op Ar порт
.Sh ОПИСАНИЕ
Утилита
.Nm
является пользовательским интерфейсом к Интернет-протоколу
.Tn TFTP
(протокол простой передачи файлов),
который позволяет пользователям передавать и получать файлы с удалённого хоста.
Удалённый
.Ar хост
может быть указан в командной строке, в этом случае
.Nm
использует указанный хост для последующих передач (см.\&
описание команды
.Ic connect
ниже).
.Sh КОМАНДЫ
Запущенный
.Nm
выводит приглашение
.Dq Li "tftp> "
и распознаёт следующие команды:
.Pp
.Bl -tag -width ".Ic verbose" -compact
.It Ic \&? Ar имя-команды ...
Вывести подсказку.
.Pp
.It Ic ascii
Сокращённый вариант команды
.Ic mode Cm ascii .
.Pp
.It Ic binary
Сокращённый вариант команды
.Ic mode Cm binary .
.Pp
.It Ic connect Ar хост Op Ar порт
Задать
.Ar хост
(и необязательный
.Ar порт )
для передачи файлов.
Заметьте, что протокол
.Tn TFTP
(в отличие от протокола
.Tn FTP )
не поддерживает соединение между хостами в промежутках между передачами,
поэтому команда
.Ic connect
на самом деле не создаёт соединение, а просто запоминает хост для
последующих передач файлов.
Использование команды
.Ic connect
не является обязательным, так как удалённый хост может быть указан
непосредственно в командах
.Ic get
и
.Ic put .
.Pp
.It Ic get Oo Ar хост : Oc Ns Ar файл Op Ar локальное-имя
.It Ic get Xo
.Oo Ar хост1 : Oc Ns Ar файл1
.Oo Ar хост2 : Oc Ns Ar файл2 ...
.Oo Ar хостN : Oc Ns Ar файлN
.Xc
Получить один или более файлов с удалённого хоста.
Если используется аргумент
.Ar хост ,
его значение будет использоваться для последующих передач файлов.
Если указан аргумент
.Ar локальное-имя ,
файл будет сохранён локально под этим именем, в противном случае
будет использовано оригинальное имя файла.
Занимательно, что за один раз невозможно получить два файла,
только один, три или более.
.Pp
При указании хоста в виде числового адреса IPv6, следуют взять
адрес в квадратные скобки, подобно
.Dq Li [3ffe:2900:e00c:ffee::1234] : Ns Ar файл ,
чтобы отличить двоеточия в адресе IPv6 от двоеточия, разделяющего
хост и имя файла.
.Pp
.It Ic mode Ar режим-передачи
Устанавливает режим передачи;
.Ar режим-передачи
может быть либо
.Cm ascii ,
либо
.Cm binary .
По умолчанию включен режим
.Cm ascii .
.Pp
.It Ic put Ar файл Op Oo Ar хост : Oc Ns Ar удалённое-имя
.It Ic put Ar файл1 файл2 ... файлN Op Oo Ar хост : Oc Ns Ar удалённый-каталог
Передать один или несколько файлов на удалённый хост.
Если указан аргумент
.Ar удалённое-имя ,
файл будет сохранён удалённо под этим именем, в противном случае
будет использовано оригинальное имя файла.
Если указан аргумент
.Ar удалённый-каталог ,
то предполагается, что удалённый хост является
.Ux Ns
-системой.
Чтобы задать хост в виде числового адреса IPv6, смотрите
пример в описании команды
.Ic get .
.Pp
.It Ic quit
Выйти из
.Nm .
Конец файла также приводит к выходу.
.Pp
.It Ic rexmt Ar таймаут-повторной-передачи
Задать таймаут повторной передачи пакета в секундах.
.Pp
.It Ic status
Показать текущее состояние.
.Pp
.It Ic timeout Ar общий-таймаут-передачи
Задать общий таймаут передачи в секундах.
.Pp
.It Ic trace
Включить/выключить трассировку пакетов.
.Pp
.It Ic verbose
Включить/выключить режим подробного вывода.
.El
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 4.3 .
.Sh ПРОБЛЕМЫ
Учитывая отсутствие контроля доступа на уровне протокола
.Tn TFTP ,
удалённая сторона как правило вынуждена самостоятельно
заботиться об ограничении доступа к файлам.
Конкретные методы ограничения доступа индивидуальны для
каждой системы и, следовательно, не могут быть изложены здесь.
.Pp
Файлы больше 33488896 байт (65535 блоков) не могут быть переданы без
поддержки обеими сторонами согласования размера блока (RFC1783).
