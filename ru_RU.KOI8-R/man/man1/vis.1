.\" Copyright (c) 1989, 1991, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)vis.1	8.4 (Berkeley) 4/19/94
.\"
.\" %FreeBSD: src/usr.bin/vis/vis.1,v 1.13 2006/12/23 19:15:39 ru Exp %
.\" $FreeBSDru: frdp/doc/ru_RU.KOI8-R/man/man1/vis.1,v 1.9 2006/12/23 19:27:29 ru Exp $
.\" $FreeBSD$
.\"
.Dd 25 июня 2004
.Dt VIS 1
.Os
.Sh НАЗВАНИЕ
.Nm vis
.Nd вывести непечатаемые символы в удобном для просмотра виде
.Sh СИНТАКСИС
.Nm
.Op Fl cbflnostw
.Op Fl F Ar foldwidth
.Op Ar
.Sh ОПИСАНИЕ
Утилита
.Nm
является фильтром для преобразования непечатаемых символов в удобный для
просмотра вид.
Её работа отличается от команды
.Ql cat -v
тем, что
получаемая форма уникальна и может быть подвергнута обратному преобразованию.
По умолчанию преобразуются все неграфические символы, кроме символов пробела,
табуляции и новой строки.
Подробное описание
различных форматов представления есть в
.Xr vis 3 .
.Pp
Имеются следующие опции:
.Bl -tag -width indent
.It Fl b
Отключает вывод обратной косой черты перед управляющими последовательностями с
циркумфлексом
.Pq Ql ^
и мета-символами, а также отключает удваивание символов
обратной косой черты.
Получаемый результат не является ни обратимым, ни точным, но
он содержит минимум изменений по сравнению с оригинальными данными.
Он похож на вывод по команде
.Dq Li cat -v .
.It Fl c
Задаёт формат, при котором небольшое подмножество
непечатаемых символов выводится в виде последовательностей
с обратными косыми чертами в стиле языка C.
.It Fl F
Указывает утилите
.Nm
размещать вывод в строках шириной
.Ar foldwidth
столбцов (по умолчанию 80), как это делает
.Xr fold 1 ,
кроме того, что используется невидимый символ новой строки (который удаляется
при обратном преобразовании файла к оригинальной форме по команде
.Xr unvis 1 ) .
Если последний символ в преобразуемом файле не оканчивается символом новой
строки, в вывод будет добавлен скрытый символ новой строки.
Это позволяет использовать результат работы с различными редакторами и
другими утилитами, которые обычно не работают с неполными строками.
.It Fl f
То же, что и
.Fl F .
.It Fl l
Выделить символы новой строки визуально последовательностью
.Ql \e$ ,
за которой следует символ новой строки.
.It Fl n
Отключить какое бы то ни было преобразование, кроме того, что
символы обратной косой черты удваиваются, и в случае задания флагов
.Fl f
или
.Fl F
добавляются невидимые символы новой строки.
В сочетании с флагом
.Fl f
утилита
.Nm
ведёт себя как
.Dq обратимая
версия утилиты
.Xr fold 1 .
Это значит, что результат может быть подвергнут обратному
преобразованию, если пропустить его через
.Xr unvis 1 .
.It Fl o
Задать формат, в котором непечатаемые символы показываются
как восьмеричные числа, \eddd.
.It Fl s
Преобразовывать только те символы, вывод которых на терминал
считается небезопасным.
Этот флаг позволяет выводить, кроме традиционных по умолчанию
символов пробела, табуляции и новой строки, символы забоя, звукового
сигнала и новой строки.
.It Fl t
Преобразовывать также символы табуляции.
.It Fl w
Преобразовывать также пробельные символы (пробел, табуляция, новая строка).
.El
.Sh СМОТРИ ТАКЖЕ
.Xr unvis 1 ,
.Xr vis 3
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 4.4 .
.Sh ПРОБЛЕМЫ
В силу ограничений лежащей в основе функции
.Xr vis 3 ,
утилита
.Nm
не распознаёт мультибайтовые символы и может решить, что они
непечатаемые, когда на самом деле они печатаемые, и наоборот.
