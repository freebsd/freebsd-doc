<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD/amd64 5.2-RELEASE リリースノート</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD/amd64 5.2-RELEASE
リリースノート</a></h1>

<h3 class="CORPAUTHOR">FreeBSD プロジェクト</h3>

<p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002, 2003, 2004 FreeBSD
ドキュメンテーション プロジェクト</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/ja_JP.eucJP/relnotes/common/new.sgml,v
1.95.2.1 2004/01/17 03:24:55 hrs Exp $<br />
</p>

<div>
<div class="ABSTRACT"><a id="AEN13" name="AEN13"></a>
<p>この FreeBSD 5.2-RELEASE 用リリースノートには、 5-CURRENT 開発ブランチの FreeBSD
ベースシステムに対する最近の 変更点の概要が含まれています。 FreeBSD
カーネルおよびユーザーランドにおける変更点、
前のリリース以降に発行されたセキュリティ勧告が書かれています。
また、アップグレードの際の注意点も載せてあります。</p>
</div>
</div>

<hr />
</div>

<div class="TOC">
<dl>
<dt><b>Table of Contents</b></dt>

<dt>1. <a href="#INTRO">はじめに</a></dt>

<dt>2. <a href="#NEW">更新情報</a></dt>

<dd>
<dl>
<dt>2.1. <a href="#SECURITY">セキュリティ勧告</a></dt>

<dt>2.2. <a href="#KERNEL">カーネルの変更点</a></dt>

<dd>
<dl>
<dt>2.2.1. <a href="#PROC">プラットフォーム固有のハードウェアの対応状況</a></dt>

<dt>2.2.2. <a href="#BOOT">ブートローダの変更</a></dt>

<dt>2.2.3. <a href="#NET-IF">ネットワークインターフェイスの対応状況</a></dt>

<dt>2.2.4. <a href="#NET-PROTO">ネットワークプロトコル</a></dt>

<dt>2.2.5. <a href="#DISKS">ディスク・記憶装置</a></dt>

<dt>2.2.6. <a href="#FS">ファイルシステム</a></dt>

<dt>2.2.7. <a href="#MM">マルチメディアへの対応状況</a></dt>
</dl>
</dd>

<dt>2.3. <a href="#USERLAND">ユーザランドの変更点</a></dt>

<dt>2.4. <a href="#CONTRIB">寄贈ソフトウェア</a></dt>

<dt>2.5. <a href="#PORTS">Ports/Packages Collection インフラストラクチャ</a></dt>

<dt>2.6. <a href="#RELENG">リリースエンジニアリングと統合</a></dt>

<dt>2.7. <a href="#DOC">ドキュメンテーション</a></dt>
</dl>
</dd>

<dt>3. <a href="#UPGRADE">前のリリースの FreeBSD からのアップグレード</a></dt>
</dl>
</div>

<div class="SECT1">
<h2 class="SECT1"><a id="INTRO" name="INTRO">1. はじめに</a></h2>

<p>この文書は AMD64 ハードウェアプラットフォーム用 FreeBSD 5.2-RELEASE
のリリースノートです。 これは FreeBSD
に最近追加、変更、削除された機能について解説したものであり、 FreeBSD
の前のバージョンからのアップグレードについても言及しています。</p>

<p>この FreeBSD 5.2-RELEASE 配布物は release 配布物です。 この配布物はあらゆるミラーの <a
href="ftp://ftp.FreeBSD.org/" target="_top">ftp://ftp.FreeBSD.org/</a>
で見つけることができます。 この (もしくは他の) FreeBSD の release 配布物を取得する方法 は
<a href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/"
target="_top">FreeBSD ハンドブック</a> の <a
href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/mirrors.html"
target="_top">付録 ``FreeBSD を取得する''</a> を参照してください。</p>

<p>FreeBSD release の 5-CURRENT 系列をはじめて利用するユーザは、まず ``FreeBSD
5.2-RELEASE 初期利用者の手引き'' をご覧ください。 この文書は (FreeBSD
配布ファイルの一部として、 もしくは FreeBSD ウェブサイト上の)
リリースノートと同じ場所に置かれており、 FreeBSD 4-STABLE
開発ブランチをベースにしたリリースと比較して、 FreeBSD 5.2-RELEASE
を利用する際の利点と欠点について重要な情報が書かれています。</p>

<p>FreeBSD をインストールする前に、必ずそのリリースの errata 文書をお読みください。
errata 文書には、リリース工程の最後やリリース後に判明した ``最新の''
情報が書かれています。 通常これに含まれているのは、既知のバグ、セキュリティ勧告、
文書の訂正です。FreeBSD 5.2-RELEASE の最新版 errata 文書は、FreeBSD
ウェブサイトから入手できます。</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="NEW" name="NEW">2. 更新情報</a></h2>

<p>この節では 5.1-RELEASE 以降に新たに追加・変更された
ユーザに影響する機能について説明します。 これには他のブランチ (FreeBSD 5.1-RELEASE 以降)
へと 最近マージされた機能に加えて、5-CURRENT ブランチ に固有の項目も含まれます。</p>

<p>リリースノートには、 5.1-RELEASE 以降に出されたセキュリティ勧告、
新しいドライバやハードウェア対応、
新しいコマンドやオプション、重要なバグフィックスや寄贈ソフトウェア のアップグレード、
ports/packages やリリースエンジニアリング工程に関する大きな変更点が
書かれています。リリースノートには、リリース間に加えられた FreeBSD
の全変更点が書かれているわけではありません。
記載されている情報は、セキュリティ勧告、ユーザに影響のある変更、
既存の構造に対する大きな改良点が中心としたものです。</p>

<p>FreeBSD に加えられた変更点のうち、
スペースの都合上ここに書かれていないものも多数存在します。
それらはたとえば文書の修正や改良、ごく影響の小さいバグの修正、
監査で見つかったセキュリティ上好ましくないスタイルで書かれたコードの修正、
ソースコードの整理などです。</p>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="SECURITY" name="SECURITY">2.1. セキュリティ勧告</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=realpath&sektion=3&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">realpath</span>(3)</span></a>
関数の実装にあった 1 バイトのバッファオーバフローを引き起こすバグが修正されました。
この修正は FreeBSD 5.1-RELEASE の公開前に行われました (したがって、5.1-RELEASE
には影響がありません) が、リリース文書には記載されていませんでした。
詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:08.realpath.asc"
target="_top">FreeBSD-SA-03:08</a> をご覧ください。 [MFC 済]</p>

<p>カーネルに不正なシグナルの配送を可能にするバグが修正されました。
このバグは、カーネルパニックを引き起こしたり、
特定の状況ではカーネルメモリを不正に改変できる可能性があります。 詳細はセキュリティ勧告
<a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:09.signal.asc"
target="_top">FreeBSD-SA-03:09</a> をご覧ください。 [MFC 済]</p>

<p>カーネルメモリの内容が漏洩する可能性がある iBCS2
エミュレーションモジュールのバグが修正されました。
なお、このモジュールはデフォルトでは有効になっていません。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:10.ibcs2.asc"
target="_top">FreeBSD-SA-03:10</a> をご覧ください。 [MFC 済]</p>

<p><b class="APPLICATION">OpenSSH</b> のバッファを管理する
コードにあったクラッシュを引き起こす可能性があるバグが修正されました。
詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:12.openssh.asc"
target="_top">FreeBSD-SA-03:12</a> をご覧ください。 [MFC 済]</p>

<p><b class="APPLICATION">sendmail</b> のバッファオーバフロー問題が修正されました。
詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:13.sendmail.asc"
target="_top">FreeBSD-SA-03:13</a> をご覧ください。 [MFC 済]</p>

<p>ARP キャッシュコードにあった、カーネル資源を枯渇させ、
システムパニックを発生させる可能性があるバグが修正されました。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:14.arp.asc"
target="_top">FreeBSD-SA-03:14</a> をご覧ください。 [MFC 済]</p>

<p><b class="APPLICATION">OpenSSH</b> の PAM
チャレンジ/レスポンス認証サブシステムにあったいくつかの誤りが修正されました。
これらのバグの影響には、さまざまなものが存在します。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:15.openssh.asc"
target="_top">FreeBSD-SA-03:15</a> をご覧ください。 [MFC 済]</p>

<p>カーネルメモリの内容が漏洩する可能性がある <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=procfs&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">procfs</span>(5)</span></a> と <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=linprocfs&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">linprocfs</span>(5)</span></a>
のバグが修正されました。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:17.procfs.asc"
target="_top">FreeBSD-SA-03:17</a>. をご覧ください。 [MFC 済]</p>

<p><b class="APPLICATION">OpenSSL</b> にあった 4 種類の
セキュリティ上の弱点が修正されました。 このバグは、リモートの攻撃者が <b
class="APPLICATION">OpenSSL</b> を利用するアプリケーションをクラッシュさせたり、
アプリケーションの権限で任意のコードを実行できる可能性があります。 詳細はセキュリティ勧告
<a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:18.openssl.asc"
target="_top">FreeBSD-SA-03:18</a> をご覧ください。 [MFC 済]</p>

<p><b class="APPLICATION">BIND</b>
において、サービス妨害の可能性があったバグが修正されました。 詳細はセキュリティ勧告 <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/FreeBSD-SA-03:19.bind.asc"
target="_top">FreeBSD-SA-03:19</a> をご覧ください。 [MFC 済]</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="KERNEL" name="KERNEL">2.2. カーネルの変更点</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpi&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acpi</span>(4)</span></a>
ドライバの CPU コンポーネントが、単一プロセッサシステム、SMP システムの両方で C1 から C3
のアイドル状態に対応しました。これは、プロセッサが
アイドル状態の時に消費電力や発熱を抑制するための機能で、ACPI 2.0
に準拠したものです。また、スロットリング制御機能が ACPI 2.0
に対応するように更新されています。</p>

<p>新しく``ダムコンソール''ドライバ <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dcons&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dcons</span>(4)</span></a>
が追加されました。これは、ローカルとリモートコンソールに対応したもので、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dcons_crom&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dcons_crom</span>(4)</span></a>
ドライバを使うことで FireWire 経由でアクセスすることが可能です。 ユーザからは、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dconschat&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dconschat</span>(8)</span></a>
ユーティリティを使うことで <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dcons&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dcons</span>(4)</span></a>
デバイスにアクセスすることができます。</p>

<p>マルチバイト文字集合の変換メソッドに対応する <var class="LITERAL">LIBICONV</var>
カーネルオプションが追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=puc&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">puc</span>(4)</span></a> (PCI
Universal Communications) ドライバが <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ppc&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ppc</span>(4)</span></a>
ドライバを 経由したパラレルポートへの接続に対応しました。</p>

<p>新しく <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uart&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uart</span>(4)</span></a>
ドライバが追加されました。 これはさまざまな種類の UART (Universal Asynchronous
Receiver/Transmitter) デバイスに対応したもので、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sio</span>(4)</span></a>
ドライバに似ていますが、 対応しているデバイスの数がより多くなっています。 このドライバは
ia64 や sparc64 といった、
いくつかのアーキテクチャでシリアルポートに対応するために必要です。</p>

<p>カーネルにソフトウェアウォッチドッグ機能が実装されました。 詳しくは <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=watchdog&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">watchdog</span>(4)</span></a> と
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=watchdogd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">watchdogd</span>(8)</span></a>
をご覧ください。</p>

<p>スワップページャの実装が刷新されました。 ユーザに見える変更点は、 I/O
スループット向上のためにレイアウトポリシが
固定幅のストライピングから複数デバイスのラウンドロビン方式に変更されたこと、
コンパイル時に指定していたスワップデバイス数の上限がなくなったこと、
メモリオーバヘッドが減少したことなどがあります。</p>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="PROC" name="PROC">2.2.1.
プラットフォーム固有のハードウェアの対応状況</a></h4>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="BOOT" name="BOOT">2.2.2. ブートローダの変更</a></h4>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="NET-IF" name="NET-IF">2.2.3.
ネットワークインターフェイスの対応状況</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ath</span>(4)</span></a> および <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ath_hal&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ath_hal</span>(4)</span></a>
ドライバが新しく追加されました。 これは、AR5210, AR5211, AR5212 ベースの 802.11a/b/g
デバイスに対応しています。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bfe&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bfe</span>(4)</span></a>
ドライバが新しく追加されました。 これは、Broadcom BCM4401 ベースの Fast Ethernet
アダプタに対応しています。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bge&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bge</span>(4)</span></a> が
Broadcom 5705 ベースの Gigabit Ethernet NIC に対応しました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=bge&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">bge</span>(4)</span></a>
にあったバグが修正され、 10Mbps で正常に動作するようになりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">em</span>(4)</span></a>
ドライバが、ドライバを再コンパイルしなくても、 割込みの遅延量を sysctl
変数を利用して調整できるようになりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fatm&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fatm</span>(4)</span></a>
ドライバが新しく追加されました。これは Fore/Marconi PCA200 ATM カードに対応した NATM と
NgATM 用のドライバです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=re&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">re</span>(4)</span></a>
ドライバが追加されました。 これは、 RealTek RTL8139C+、RTL8169、RTL8169S、RTL8110S PCI
Fast Ethernet コントローラおよび Gigabit Ethernet コントローラに対応しています。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sk&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sk</span>(4)</span></a> ドライバが
SK-9521 V2.0 と 3COM 3C940 ベースの Gigabit Ethernet NIC に対応しました。 [MFC 済]</p>

<p>新しく <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=utopia&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">utopia</span>(4)</span></a>
ドライバが追加されました。 これは、多くの ATM-PHY チップで使われている 25MBit/sec,
155MBit/sec. 622MBit/sec の ATM 物理層の設定、状態・統計の取得に対応したものです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">wi</span>(4)</span></a>
ドライバのサスペンド/レジューム対応が デバイスを down
状態にしている時にも正しく動作するようになりました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">wi</span>(4)</span></a>
ドライバが、Lucent 802.11b インタフェースで正しく動作するようになりました。</p>

<p>802.11 対応レイヤが、 拡張や新機能の追加が可能なように書き直されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xe&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">xe</span>(4)</span></a> ドライバが CE2,
CEM28, CEM33 カードに対応し、 マルチキャスト (<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=multicast&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">multicast</span>(4)</span></a>)
データグラムに対応しました。また、 ドライバにあったいくつかのバグも修正されています。</p>

<p>数多くのネットワークドライバの割り込みハンドラが MPSAFE になりました。MPSAFE
とは、ジャイアントロック (Giant lock)
なしに動作可能という意味です。そのように変更されたドライバには、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ath&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ath</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=em&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">em</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ep&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">ep</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fxp&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fxp</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sn&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">sn</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=wi&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">wi</span>(4)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sis&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sis</span>(4)</span></a>
などがあります。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="NET-PROTO" name="NET-PROTO">2.2.4.
ネットワークプロトコル</a></h4>

<p>IPv4 プロトコル実装における <var class="LITERAL">ip_flow</var> 機能が、 <var
class="LITERAL">ip_fastforward</var> 機能で置き換えられました。 <var
class="LITERAL">ip_fastforward</var> 機能は、
送出インタフェースに向かうパケットをキューや netisr
を使わずに処理することで、単純なパケットの回送を高速化しようというものです。
処理できないパケットがあった場合、通常の <var class="LITERAL">ip_input</var>
ルーチンに渡されて処理されます。この機能は sysctl 変数 <var
class="VARNAME">net.inet.ip.fastforwarding</var> を <var class="LITERAL">1</var>
にすると有効になります。</p>

<p><var class="LITERAL">IP_ONESBCAST</var> オプションが追加されました。
これを有効にすると、特定のネットワークインタフェースに送られる すべての <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ip&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">ip</span>(4)</span></a>
ブロードキャストを、
強制的にリミテッドブロードキャストアドレスに向けることが可能です。</p>

<p><var class="LITERAL">options IPFILTER</var> 機能を有効にする際には、 <var
class="LITERAL">options PFIL_HOOKS</var> の追加が必要になりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(4)</span></a> limit
ルールの処理に含まれていた、
システムパニックを発生させる可能性のあるバグが修正されました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(4)</span></a>
ルールに、カンマで区切られたアドレスリスト (たとえば <var class="LITERAL">1.2.3.4,
5.6.7.8/30, 9.10.11.12/22</var>)
が使用できるようになりました。また、可読性を向上させるため、
カンマの後ろに空白文字を入れることも可能になっています。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(4)</span></a>
ルールに、C++ 風のコメントが書けるようになりました。
各コメントはルールと同じ場所に格納され、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a> <var
class="LITERAL">show</var> コマンドでルールと一緒に表示させることができます。 [MFC
済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a>
を使って、ルールセット 31 にある <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(4)</span></a>
ルールが変更できるようになりました。 従来のルールセット 31
は、デフォルトのルールを格納するために 使われる読みとり専用のルールセットでしたが、
この変更により <tt class="COMMAND">ipfw delete set 31</tt> という
コマンドを使って、ルールセット 31 を削除することができるようになっています。
ただし、このルールセットは <tt class="COMMAND">ipfw flush</tt>
コマンドでは削除されません。つまり、このルールセットを使うと、 一種の ``永続ルール''
を記述することが可能になります。 詳細については、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a>
に書かれています。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_atmpif&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_atmpif</span>(4)</span></a>
NetGraph ノードタイプが追加されました。 これは HARP 物理インタフェースをエミュレートし、
ハードウェアが実在しなくても HARP ATM スタックを動作させることができます。</p>

<p>カーネルが Protocol Independent Multicast ルーティング (<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pim&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pim</span>(4)</span></a>)
に対応しました。 [MFC 済]</p>

<p>FreeBSD の Bluetooth プロトコルスタックが更新されました。</p>

<ul>
<li>
<p><b class="APPLICATION">libsdp</b> が BSD 風のライセンスで再実装されました。これは、
Linux BlueZ に含まれるコードが GPL で配布されていたためです。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hccontrol&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hccontrol</span>(8)</span></a>
ユーティリティが Read/Write_Page_Scan_Mode、Read/Write_Page_Scan_Period_Mode という 4
個の新しいコマンドに対応しました。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=hcsecd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">hcsecd</span>(8)</span></a>
デーモンが、 リンクキーをディスクに保存するようになりました。
毎回、デバイスを合わせる必要はなくなっています。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_hci&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_hci</span>(4)</span></a> および
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_l2cap&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_l2cap</span>(4)</span></a>
カーネルモジュールに含まれていた、 解放されたデータ構造体にアクセスする可能性のあった
NetGraph タイムアウト問題が修正されました。</p>
</li>

<li>
<p>FreeBSD 5.1-RELEASE で構築できなかった <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ng_ubt&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ng_ubt</span>(4)</span></a>
モジュールが修正されました。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rfcomm_sppd&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rfcomm_sppd</span>(1)</span></a>
および <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rfcomm_pppd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rfcomm_pppd</span>(8)</span></a>
が、 サーバから SDP 経由で RFCOMM チャネルを取得できるようになりました。 RFCOMM
チャネルを手動で設定すると、これらのユーティリティは SDP
経由での取得をおこないません。</p>
</li>

<li>
<p>Linux BlueZ SDP パッケージに含まれる sdptool ユーティリティに似た <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sdpcontrol&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sdpcontrol</span>(8)</span></a>
ユーティリティが追加されました。</p>
</li>
</ul>

<p>IPv6 および IPSec のコードおける数多くの修正と更新が、 KAME
プロジェクトから統合されました。</p>

<p>IPv6 Advanced Sockets API 対応が RFC 2292 ではなく RFC 3542 (別名 RFC 2292bis)
に準拠しました。 この API
を使っているアプリケーションも、それに応じて更新されています。</p>

<p>RFC 3484 に含まれているソースアドレス選択 (source address selection)
機能が追加されました。アドレス選択ポリシの設定には、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ip6addrctl&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ip6addrctl</span>(8)</span></a>
ユーティリティが使用できます。</p>

<p>TCP 実装に <var class="LITERAL">tcp_hostcache</var> 機能が追加されました。
これは過去の TCP セションのパラメータをキャッシュし、
以降に発生する同一の送信元アドレス・送信先アドレスの接続において、
より適切な初期値を与えることを可能にします。
経路表に格納されていた、同じような情報は削除されました。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="DISKS" name="DISKS">2.2.5. ディスク・記憶装置</a></h4>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=amr&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">amr</span>(4)</span></a>
ドライバがクラッシュダンプ機構に対応しました。[MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
ドライバが大きく書き直されました。 大きな変更の一つは、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a>
ドライバの ジャイアントカーネルロックが外されたことです。 従来、ATA のソフトウェア RAID
システムは <var class="LITERAL">device atadisk</var> を指定するだけで
自動的に利用できるようになっていましたが、 現在は、明示的にカーネルコンフィグファイルに
<var class="LITERAL">device ataraid</var> を追加する必要があります。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ccd&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ccd</span>(4)</span></a> が raw
ディスクおよび、その他の <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">geom</span>(4)</span></a>
プロバイダに対して動作するようになりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=da&sektion=4&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">da</span>(4)</span></a> ドライバが、USB
デバイスと FireWire デバイスに 6 バイトコマンドを送出しないようになりました。
現在、この回避策は (不要になったと思われるため) 無効にされています。
従来の動作に戻すには、<var class="LITERAL">options DA_OLD_QUIRKS</var> を
カーネルコンフィグファイルに追加してください。 [MFC 済]</p>

<p><tt class="FILENAME">geom_apple</tt>, <tt class="FILENAME">geom_bde</tt>, <tt
class="FILENAME">geom_bsd</tt>, <tt class="FILENAME">geom_gpt</tt>, <tt
class="FILENAME">geom_mbr</tt>, <tt class="FILENAME">geom_pc98</tt>, <tt
class="FILENAME">geom_sunlabel</tt>, <tt class="FILENAME">geom_vol_ffs</tt>
といった、さまざまある <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=geom&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">geom</span>(4)</span></a>
モジュールが、 カーネルモジュールとして読み込み可能になりました。</p>

<p>マルチパスストレージデバイスの検出や、アクセスパス選択を可能にする <var
class="LITERAL">GEOM_FOX</var> モジュールが追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=twe&sektion=4&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">twe</span>(4)</span></a>
ドライバが 3ware 汎用 API に対応しました。 [MFC 済]</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="FS" name="FS">2.2.6. ファイルシステム</a></h4>

<p>cd9660、msdosfs、ntfs, udf ファイルシステムが マルチバイト文字変換に対応しました。
それぞれ、カーネルオプション <var class="LITERAL">CD9660_ICONV</var>, <var
class="LITERAL">MSDOSFS_ICONV</var>, <var class="LITERAL">NTFS_ICONV</var>, <var
class="LITERAL">UDF_ICONV</var> をカーネルコンフィグファイルに指定してください。</p>

<p>smbfs が 15 文字の NetBIOS 名で正しく動作するのを阻害していた いくつかの一つ違い
(off-by-one) の誤りが修正されました。</p>

<p>テラバイトオーダのファイルシステムに対応するため、 <var class="LITERAL">statfs</var>
構造体に含まれるいくつかのメンバ変数の大きさが、 32 ビットから 64
ビットに変更されました。</p>

<ul>
<li>
<p>この変更の前後でソースを使ってアップグレードする場合は、
次のソースアップグレード手順に従って作業し、
カーネルとユーザランドを同期させていなければなりません。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=statfs&sektion=2&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">statfs</span>(2)</span></a>
システムコールの後方互換バージョンは、 <var class="LITERAL">COMPAT_FREEBSD4</var>
カーネルオプションが追加されている場合にのみ利用できます。
このオプションを追加しておくことを強く推奨します。</p>
</li>

<li>
<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=statfs&sektion=2&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">statfs</span>(2)</span></a>
を使っているプログラムは、
再構築する必要があります。再構築が必要だと判明しているものには、 <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/devel/gnomevfs2/pkg-descr"><tt
class="FILENAME">devel/gnomevfs2</tt></a>, <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/mail/postfix/pkg-descr"><tt
class="FILENAME">mail/postfix</tt></a>, <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/security/cfg/pkg-descr"><tt
class="FILENAME">security/cfg</tt></a> などがあります。</p>
</li>
</ul>

<br />
<br />
<p>ミシガン大学の Citi NFSv4 クライアント実装が統合され、 NFSv4 に対応しました。
詳細は、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_nfs4&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_nfs4</span>(8)</span></a>
および <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=idmapd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">idmapd</span>(8)</span></a>
のマニュアルページをご覧ください。</p>
</div>

<div class="SECT3">
<hr />
<h4 class="SECT3"><a id="MM" name="MM">2.2.7. マルチメディアへの対応状況</a></h4>
</div>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="USERLAND" name="USERLAND">2.3. ユーザランドの変更点</a></h3>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpiconf&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acpiconf</span>(8)</span></a>
に、バッテリの状態を表示する <var class="OPTION">-i</var>
オプションが追加されました。</p>

<p>ACPI DSDT デバッガ <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpidb&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acpidb</span>(8)</span></a>
が追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=arp&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">arp</span>(8)</span></a> に、ARP
エントリに対する操作の影響範囲を 特定のインタフェースに限定する <var
class="OPTION">-i</var> オプションが追加されました。このオプションは、
情報を表示させる操作にのみ適用されます。多くのインタフェースを
搭載したルータなどに有用なオプションです。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=atmconfig&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">atmconfig</span>(8)</span></a>
が追加されました。 ATM ドライバと IP over ATM 機能の設定を行います。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">chroot</span>(8)</span></a>
が、chroot 環境で使うユーザとプライマリグループ、 グループリストの設定に対応しました。
設定にはそれぞれ、<var class="OPTION">-u</var>, <var class="OPTION">-g</var>, <var
class="OPTION">-G</var> オプションを使います。 [MFC 済]</p>

<p><tt class="FILENAME">compat4x.i386</tt> ライブラリが、FreeBSD 4.9-RELEASE
に対応したものに更新されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dhclient</span>(8)</span></a> が
ネットワークインタフェースの状態をポーリングするようになり、
動作中のインタフェースに対してのみ DHCP 要求を送出するようになりました。 ポーリング間隔は
<var class="OPTION">-i</var> オプションで制御することができます。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck</span>(8)</span></a>
で作成される <tt class="FILENAME">lost+found</tt> のデフォルトモードが、<var
class="LITERAL">01777</var> から <var class="LITERAL">0700</var> に変更されました。 [MFC
済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck_ffs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck_ffs</span>(8)</span></a>
および <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=newfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">newfs</span>(8)</span></a> が、
各ファイルシステムのルートディレクトリに <tt class="GROUPNAME">operator</tt> グループで
<tt class="FILENAME">.snap</tt> ディレクトリを作成するようになりました。 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck_ffs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">fsck_ffs</span>(8)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mksnap_ffs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mksnap_ffs</span>(8)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dump&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dump</span>(8)</span></a> は、
それぞれのファイルシステムスナップショットをこのディレクトリに書き込みます。
この変更は、スナップショットの作成中にファイルシステムのルートディレクトリへの
アクセスをロックしないようにするため、また、<tt class="USERNAME">root</tt>
以外のユーザがスナップショットを作成できるようにするためのものです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ffsinfo&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ffsinfo</span>(8)</span></a>
ユーティリティが UFS2 ファイルシステムを解釈するに更新され、
再びベースシステムに含まれるようになりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=iasl&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">iasl</span>(8)</span></a>
ユーティリティが追加されました。 これは、ACPI Source Language (ASL) と ACPI Machine
language (AML) の コンパイラ・逆コンパイラです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ifconfig</span>(8)</span></a>
に新しいオプション <var class="OPTION">staticarp</var>
が追加されました。これは、そのインタフェースから ARP
要求の送出をしないよう指定するためのものです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=initgroups&sektion=3&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">initgroups</span>(3)</span></a>
ライブラリ関数の修正により、 login プロセスがプロセスの権限として、そのユーザが所属する
<span class="emphasis"><i class="EMPHASIS">すべての</i></span>
グループが設定できなかった場合、 ログインが失敗するようになりました。
現在のカーネルにおける制限は、16 グループです。 管理者は、ユーザが 16
グループ以上に所属していないことを 確認することをおすすめします。もし所属グループ数が 16
を超えていると、 ログインすることができなくなります。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a> <var
class="LITERAL">list</var> および <var class="LITERAL">show</var>
コマンドで、ルール番号を範囲で指定することができるようになりました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ipfw&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ipfw</span>(8)</span></a>
に、実際の動作を行なわずにコマンドの文法だけをチェックする <var class="OPTION">-n</var>
フラグが追加されました。[MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=kdump&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">kdump</span>(1)</span></a>
に、特定のプロセスに対応するイベントのみを追跡する <var class="OPTION">-p</var>
オプションと、ダンプ開始時点からの相対的な 時刻を表示する <var class="OPTION">-E</var>
フラグが追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=last&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">last</span>(1)</span></a>
に、出力の行数を制限する <var class="OPTION">-n</var> フラグが追加されました。</p>

<p><tt class="FILENAME">libalias</tt> ライブラリ、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=natd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">natd</span>(8)</span></a> および
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ppp</span>(8)</span></a> が Cisco
Skinny Station プロトコルに対応しました。 このプロトコルは Cisco Call Manager
と通信するために Cisco 製の IP 電話によって利用されています。 ただし現時点では、NAT
ゲートウェイの後ろに Call Manager を置く構成には 対応していません。[MFC 済]</p>

<p><tt class="FILENAME">libcipher</tt> DES 暗号ライブラリが削除されました。
これらの機能はすべて <tt class="FILENAME">libcrypto</tt> ライブラリで
提供されているもので、ベースシステムに含まれている <tt class="FILENAME">libcipher</tt>
を使っていたプログラムは、 すべて <tt class="FILENAME">libcrypto</tt>
を使うように変更されています。</p>

<p>カーネルに読み込み可能な文字集合変換テーブルの操作をおこなう <tt
class="FILENAME">libkiconv</tt> ライブラリが追加されました。</p>

<p><tt class="FILENAME">libwrap</tt> および <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=tcpdchk&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">tcpdchk</span>(8)</span></a> が、
デフォルトで <b class="APPLICATION">tcp_wrappers</b>
拡張文法に対応するようになりました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=locale&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">locale</span>(1)</span></a>
ユーティリティが再実装され、POSIX 標準に準拠しました。新しく追加された <var
class="OPTION">-m</var> オプションは 利用可能なすべてのコードセットを表示します。</p>

<p><var class="OPTION">-v</var> フラグを指定して <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount</span>(8)</span></a>
ユーティリティを 実行した場合に、通常の情報に加えて各ファイルシステムのファイルシステム
ID が表示されるようになりました。このファイルシステム ID は、 <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=umount&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">umount</span>(8)</span></a>
ユーティリティでデバイスファイルや
マウントポイントのパス名の代わりに使用することができます。
この機能を使うと、同じデバイス名やマウントポイント名を使って
複数のファイルシステムをマウントしている場合に、
アンマウントするファイルシステムを正確に指定することが可能です。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_cd9660&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_cd9660</span>(8)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_ntfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_ntfs</span>(8)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_udf&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_udf</span>(8)</span></a>
ユーティリティに <var class="OPTION">-C</var> オプションが追加されました。 これは Unicode
ファイル名の変換先になるローカルの文字集合を指定するもので、
マルチバイト文字集合を指定することが可能です。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_msdosfs</span>(8)</span></a>
ユーティリティに、
ファイルシステム中のディレクトリに対する最大のファイル許可属性を指定する <var
class="OPTION">-M</var> オプションが追加されました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_msdosfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_msdosfs</span>(8)</span></a>
ユーティリティに、 MS-DOS コードページを指定する <var class="OPTION">-D</var>
オプションと ローカル文字集合を指定する <var class="OPTION">-L</var> オプションが
追加されました。 これらのオプションはファイル名の文字集合変換に使われます。
これにより、<tt class="FILENAME">/usr/libdata/msdosfs</tt> にあった
文字集合変換テーブルは廃止されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_nwfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_nwfs</span>(8)</span></a>,
<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_portalfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span
class="REFENTRYTITLE">mount_portalfs</span>(8)</span></a>, <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=mount_smbfs&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">mount_smbfs</span>(8)</span></a>
ユーティリティが <tt class="FILENAME">/sbin</tt> から <tt class="FILENAME">/usr/sbin</tt>
に移動しました。</p>

<p>(以前はシェルスクリプトだった) <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=nologin&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">nologin</span>(8)</span></a>
プログラムが C 言語で再実装されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rc.conf&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rc.conf</span>(5)</span></a>
にある、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ntpd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ntpd</span>(8)</span></a>
の起動オプションを設定する変数 <var class="VARNAME">ntpd_flags</var> がデフォルトで <var
class="OPTION">-f /var/db/ntpd.drift</var> を含むようになりました。</p>

<p>ゲストログインに対応する <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pam_guest&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pam_guest</span>(8)</span></a> PAM
モジュールが追加されました。 これは pam_ftp(8) モジュールを置き換えるものです。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ps&sektion=1&manpath=FreeBSD+5.2-RELEASE"><span
 class="CITEREFENTRY"><span class="REFENTRYTITLE">ps</span>(1)</span></a> と <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=top&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">top</span>(1)</span></a>
に、各プロセスのカーネルスレッドを表示する <var class="OPTION">-H</var>
オプションが追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rarpd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rarpd</span>(8)</span></a>
にあった、 着脱可能な Ethernet NIC を認識しないというバグが修正されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=repquota&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">repquota</span>(8)</span></a>
に、ユーザとグループを数値で表示する <var class="OPTION">-n</var>
フラグが追加されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rtld&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rtld</span>(1)</span></a>
がデフォルトで ``libmap'' 機能に対応するようになりました。
この変更により、コンパイル時の変数 <var class="VARNAME">WITH_LIBMAP</var>
は不要となり、廃止されています。 詳細は <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=libmap.conf&sektion=5&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">libmap.conf</span>(5)</span></a>
をご覧ください。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=savecore&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">savecore</span>(8)</span></a>
に、コアダンプファイルが存在するかどうかのみを 表示する <var class="OPTION">-C</var>
フラグが追加されました。</p>

<p>カーネルの全部分が ELF フォーマットに移行したことにより a.out
フォーマットのツールチェインが使用されなくなったため、 不要になった symorder
ユーティリティが削除されました。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
にインストール中に 代替 MTA を選択する機能が追加されました。 現在、<b
class="APPLICATION">exim</b> と <b class="APPLICATION">Postfix</b>
を選択することができます。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a> の
``セキュリティプロファイル'' 対応が廃止されました。同等の機能は、<a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sshd&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sshd</span>(8)</span></a>
の項目を個々に設定したり、 システムのセキュアレベルを設定することで実現できます。</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=systat&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">systat</span>(1)</span></a> が
IPv6 および ICMPv6 のトラフィックを表示するようになりました。 [MFC 済]</p>

<p><a
href="http://www.FreeBSD.org/cgi/man.cgi?query=uname&sektion=1&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">uname</span>(1)</span></a>
に、カーネル識別子を表示する <var class="OPTION">-i</var>
フラグが追加されました。この識別子は、<var class="VARNAME">kern.ident</var> という sysctl
変数からも得ることが可能です。</p>

<p><tt class="FILENAME">/bin</tt> および <tt class="FILENAME">/sbin</tt>
にあった多くのユーティリティは、 静的リンクされたクランチバイナリ (crunched binary)
として <tt class="FILENAME">/rescue</tt> にも置かれるようになりました。
このディレクトリの目的は <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
でインストールされる <tt class="FILENAME">/stand</tt>
ディレクトリと同じようなものですが、 <tt class="FILENAME">/rescue</tt>
にはより多くのプログラムが置かれ、 <var class="LITERAL">buildworld</var>/<var
class="LITERAL">installworld</var> の操作で更新されるようになっています。 詳細は <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=rescue&sektion=8&manpath=FreeBSD+5.2-RELEASE">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">rescue</span>(8)</span></a>
をご覧ください。</p>

<p><tt class="FILENAME">/bin</tt> ディレクトリおよび <tt class="FILENAME">/sbin</tt>
ディレクトリにあるたくさんの実行ファイルが、
静的リンクではなく動的リンクで構築されるようになりました。
これにより、ベースシステムユーティリティが読み込み可能な PAM モジュールや NSS
モジュールに対応できるようになりました。 また、共有ライブラリを使用することで
ルートファイルシステムに必要とされるディスク容量が削減されました。 この機能は <var
class="LITERAL">buildworld</var> の際に 変数 <var class="VARNAME">NO_DYNAMICROOT</var>
を定義して無効にすることができます。
また、システムの修正や復旧作業用に、静的にリンクされ、 crunch された実行ファイルが、 <tt
class="FILENAME">/rescue</tt> ディレクトリに置かれています。</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="CONTRIB" name="CONTRIB">2.4. 寄贈ソフトウェア</a></h3>

<p><b class="APPLICATION">ACPI-CA</b> コードが、 20030228 スナップショットから 20030619
スナップショットに更新されました。</p>

<p><b class="APPLICATION">amd</b> がバージョン 6.0.7 から、バージョン 6.0.9
に更新されました。</p>

<p>Bell Labs 由来の <b class="APPLICATION">awk</b> が 2003 年 3 月 14
日時点のスナップショットから 2003 年 7 月 29
日時点のスナップショットに更新されました。</p>

<p><b class="APPLICATION">BIND</b> がバージョン 8.3.4 から、バージョン 8.3.7
に更新されました。[MFC 済]</p>

<p><b class="APPLICATION">GCC</b> が、バージョン 3.2.2 から、2003 年 11 月 6 日における
3.3.3 の post release snapshot に更新されました。</p>

<div class="NOTE">
<blockquote class="NOTE">
<p><b>Note:</b> <b class="APPLICATION">GCC</b> の前のバージョンは、 最適化オプション <var
class="LITERAL">-march=pentium4</var>
が指定されていると誤ったコードを生成してしまいます。
今回の更新によりその問題は修正されたと考えられており、 以前行っていた <var
class="LITERAL">CPUTYPE</var> が <var class="LITERAL">p4</var>
の場合の回避策は削除されました。</p>
</blockquote>
</div>

<br />
<br />
<p><b class="APPLICATION">GNU Readline</b> がバージョン 4.2 から、バージョン 4.3
に更新されました。</p>

<p><b class="APPLICATION">GNU Sort</b> が textutils バージョン 2.0.21 から、バージョン
2.1 に更新されました。</p>

<p><b class="APPLICATION">Heimdal Kerberos</b> がバージョン 0.5.1 からバージョン 0.6
に更新されました。</p>

<p><b class="APPLICATION">ISC DHCP</b> クライアントがバージョン 3.0.1rc11
から、バージョン 3.0.1rc12 に更新されました。</p>

<p><b class="APPLICATION">lukemftp</b> がバージョン 1.6beta2 から、NetBSD の 2003 年 11
月 11 日時点のスナップショットに更新されました。</p>

<p><b class="APPLICATION">OpenPAM</b> が ``Dogwood'' リリースに更新されました。</p>

<p><b class="APPLICATION">OpenSSL</b> がバージョン 0.9.7a から 0.9.7c に更新されました。
[MFC 済]</p>

<p><b class="APPLICATION">sendmail</b> がバージョン 8.12.9 から 8.12.10
に更新されました。[MFC 済]</p>

<p><b class="APPLICATION">texinfo</b> がバージョン 4.5 から、バージョン 4.6
に更新されました。 [MFC 済]</p>

<p>タイムゾーンデータベースが <tt class="FILENAME">tzdata2003a</tt> リリースから <tt
class="FILENAME">tzdata2003d</tt> リリースに更新されました。[MFC 済]</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="PORTS" name="PORTS">2.5. Ports/Packages Collection
インフラストラクチャ</a></h3>

<p><tt class="MAKEVAR">GNU_CONFIGURE</tt> が定義されている場合、 <tt class="FILENAME"><tt
class="MAKEVAR">WRKDIR</tt></tt> 以下にある すべての <tt
class="FILENAME">config.guess</tt> および <tt class="FILENAME">config.sub</tt>
ファイルが、 <tt class="FILENAME"><tt class="MAKEVAR">PORTSDIR</tt>/Template</tt>
にあるものと置き換えられるようになりました。 これは、古いバージョンのスクリプトを含む
ports が、ia64 や amd64
などの新しいアーキテクチャで構築できるようにするための措置です。</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="RELENG" name="RELENG">2.6.
リリースエンジニアリングと統合</a></h3>

<p>インストール用のフロッピディスクイメージが alpha、amd64 および ia64
アーキテクチャでは構築されなくなりました。</p>

<p><b class="APPLICATION">GNOME</b> の対応リリースが 2.2.1 から 2.4 に更新されました。
[MFC 済]</p>

<p><b class="APPLICATION">KDE</b> の対応リリースが 3.1.2 から 3.1.4 に更新されました。
[MFC 済]</p>
</div>

<div class="SECT2">
<hr />
<h3 class="SECT2"><a id="DOC" name="DOC">2.7. ドキュメンテーション</a></h3>

<p>情報の重複をなくし、内容管理の効率化をはかるため、 ハードウェアノートにある、
特定デバイスの記述をシステムのマニュアルページに移動しました。
このリリースの時点で、この作業はまだ進行中です。</p>

<p>トルコ語 (tr_TR.ISO8859-9) 翻訳プロジェクトが開始しました。</p>
</div>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="UPGRADE" name="UPGRADE">3. 前のリリースの FreeBSD
からのアップグレード</a></h2>

<p>現存する FreeBSD システムからアップグレードするユーザは ``FreeBSD 5.2-RELEASE
初期利用者のための手引き'' を読むことを <span class="emphasis"><i
class="EMPHASIS">強く</i></span> 推奨します。 この文書は、通常 <tt
class="FILENAME">EARLY.TXT</tt> という名前で 配布物に収録されており、
また、他のリリースノートが置かれているところにも一緒に置かれています。
この手引にはアップグレード時に注意を払うべき点に加え、 さらに重要な情報として、 FreeBSD
4.<var class="REPLACEABLE">X</var> システムを使い続ける場合と FreeBSD 5.<var
class="REPLACEABLE">X</var> へのアップグレードした場合の、
それぞれの利点についてのまとめが書かれています。</p>

<div class="IMPORTANT">
<blockquote class="IMPORTANT">
<p><b>Important:</b> FreeBSD のアップグレードは、もちろん、 <span class="emphasis"><i
class="EMPHASIS">すべての</i></span> データと設定ファイルを
バックアップしてからのみ行うべきです。</p>
</blockquote>
</div>
</div>
</div>

<hr />
<p align="center"><small>このファイルの他、リリース関連の文書は <a
href="ftp://ftp.FreeBSD.org/">ftp://ftp.FreeBSD.org/</a>
からダウンロードできます。</small></p>

<p align="center"><small>FreeBSD に関するお問い合わせは、&#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62; へ質問を投稿する前に<a
href="http://www.FreeBSD.org/docs.html">解説文書</a>をお読みください。</small></p>

<p align="center"><small>この文書の原文に関するお問い合わせは &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62; まで、<br />
日本語訳に関するお問い合わせは、&#60;<a
href="http://www.jp.FreeBSD.org/ml.html#doc-jp">doc-jp@jp.FreeBSD.org</a>&#62;
まで電子メールでお願いします。</small></p>

<br />
<br />
</body>
</html>

