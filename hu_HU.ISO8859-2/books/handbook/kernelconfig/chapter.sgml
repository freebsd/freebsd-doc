<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->
<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/kernelconfig/chapter.sgml
     %SRCID%	1.193
-->

<chapter id="kernelconfig" lang="hu">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Friss&iacute;tette &eacute;s &aacute;tdolgozta:
	  </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Jake</firstname>
	<surname>Hamby</surname>
	<contrib>Eredetileg &iacute;rta: </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>A &os; rendszermag testreszab&aacute;sa</title>

  <sect1 id="kernelconfig-synopsis">
    <title>&Aacute;ttekint&eacute;s</title>

    <indexterm>
      <primary>rendszermag</primary>
      <secondary>saj&aacute;t rendszermag
	k&eacute;sz&iacute;t&eacute;se</secondary>
    </indexterm>

    <para>A rendszermag a &os; oper&aacute;ci&oacute;s rendszer lelke.
      Felel&#245;s a mem&oacute;ria kezel&eacute;s&eacute;rt, a
      biztons&aacute;gi szab&aacute;lyoz&aacute;sok
      betartat&aacute;s&aacute;&eacute;rt, a h&aacute;l&oacute;zat
      m&#251;k&ouml;dtet&eacute;s&eacute;&eacute;rt, a
      lemezhozz&aacute;f&eacute;r&eacute;s&eacute;rt &eacute;s sok
      minden m&aacute;s&eacute;rt is.  Mik&ouml;zben maga a &os; egyre
      jobban konfigur&aacute;lhat&oacute; dinamikusan, addig
      alkalmank&eacute;nt elegedhetetlen, hogy
      &uacute;jrakonfigur&aacute;ljuk &eacute;s
      &uacute;jraford&iacute;tsuk a rendszermagot.</para>

    <para>A fejezet elolvas&aacute;sa sor&aacute;n
      megismerj&uuml;k:</para>

    <itemizedlist>
      <listitem>
	<para>mi&eacute;rt lehet sz&uuml;ks&eacute;g&uuml;nk egy
	  saj&aacute;t rendszermagra;</para>
      </listitem>

      <listitem>
	<para>hogyan k&eacute;sz&iacute;ts&uuml;nk
	  konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyt a
	  rendszermaghoz, vagy hogyan m&oacute;dos&iacute;tsunk egy
	  m&aacute;r l&eacute;tez&#245;t;</para>
      </listitem>

      <listitem>
	<para>hogyan haszn&aacute;ljuk a rendszermag
	  konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny&aacute;t
	  egy &uacute;j rendszermag leford&iacute;t&aacute;s&aacute;ra
	  &eacute;s l&eacute;trehoz&aacute;s&aacute;ra;</para>
      </listitem>

      <listitem>
	<para>hogyan telep&iacute;ts&uuml;k az &uacute;j
	  rendszermagot;</para>
      </listitem>

      <listitem>
	<para>hogyan orvosoljuk a felmer&uuml;l&#245;
	  probl&eacute;m&aacute;kat.</para>
      </listitem>
    </itemizedlist>

    <para>A fejezetben az &ouml;sszes p&eacute;ldak&eacute;nt
      bemutat&aacute;sra ker&uuml;l&#245; parancsot
      <username>root</username> felhaszn&aacute;l&oacute;k&eacute;nt
      kell kiadni a sikeres v&eacute;grehajt&aacute;sukhoz.</para>

  </sect1>

  <sect1 id="kernelconfig-custom-kernel">
    <title>Mi&eacute;rt k&eacute;sz&iacute;ts&uuml;nk saj&aacute;t
      rendszermagot?</title>

    <para>A &os; eredetileg &uacute;n.  <quote>monolitikus</quote>
      rendszermaggal rendelkezett.  Ez azt jelenti, hogy a rendszermag
      egyetlen nagy program volt, ami el&#245;re r&ouml;gz&iacute;tett
      eszk&ouml;z&ouml;ket ismert, &eacute;s ha meg akartuk
      v&aacute;ltoztatni a rendszermag
      m&#251;k&ouml;d&eacute;s&eacute;t, akkor ford&iacute;tanunk
      kellett &uacute;j rendszermagot, majd &uacute;jra kellett
      ind&iacute;tanunk vele a
      sz&aacute;m&iacute;t&oacute;g&eacute;pet.</para>

    <para>Manaps&aacute;g azonban a &os; m&aacute;r ink&aacute;bb
      afel&eacute; a megk&ouml;zel&iacute;t&eacute;s fel&eacute; halad,
      ahol a rendszermag funkcionalit&aacute;s&aacute;nak nagy
      r&eacute;sz&eacute;t m&#251;k&ouml;d&eacute;s k&ouml;zben az
      ig&eacute;nyek szerint bet&ouml;lthet&#245; &eacute;s
      elt&aacute;vol&iacute;that&oacute; modulok adj&aacute;k.  Ezzel
      lehet&#245;v&eacute; v&aacute;lik, hogy a rendszermag gyorsan
      illeszkedjen az &uacute;jonnan megjelen&#245;
      hardvereszk&ouml;z&ouml;kh&ouml;z (mint p&eacute;ld&aacute;ul a
      laptopok PCMCIA-k&aacute;rty&aacute;ihoz), vagy olyan &uacute;j
      funkci&oacute;kat tegy&uuml;nk a rendszermaghoz, amelyek a
      ford&iacute;t&aacute;s&aacute;n&aacute;l nem voltak
      felt&eacute;tlen&uuml;l sz&uuml;ks&eacute;gesek.  Ezt a modellt
      nevezik modul&aacute;ris rendszermagnak.</para>

    <para>Ennek ellen&eacute;re m&eacute;g mindig elker&uuml;lhetetlen,
      hogy esetenk&eacute;nt ne legyen sz&uuml;ks&eacute;g a rendszermag
      statikus testreszab&aacute;s&aacute;ra.  Ez a legt&ouml;bb esetben
      azzal magyar&aacute;zhat&oacute;, hogy vannak olyan
      funkci&oacute;k, amelyek t&uacute;ls&aacute;gosan is m&eacute;lyen
      helyezkednek el a rendszermagban, ez&aacute;ltal nem
      t&ouml;lthet&#245;ek be dinamikusan.  M&aacute;skor viszont
      egyszer&#251;en az&eacute;rt nem lehets&eacute;ges, mert
      m&eacute;g senki sem sz&aacute;nt id&#245;t az adott
      funkci&oacute;hoz tartoz&oacute;, dinamikusan bet&ouml;lthet&#245;
      modul elk&eacute;sz&iacute;t&eacute;s&eacute;re.</para>

    <para>Egy saj&aacute;t rendszermag k&eacute;sz&iacute;t&eacute;se
      azon legfontosabb pr&oacute;bat&eacute;telek egyike, melyet egy
      halad&oacute; BSD felhaszn&aacute;l&oacute;nak ki kell
      &aacute;llnia.  Ez a folyamat, hab&aacute;r n&eacute;mileg
      id&#245;ig&eacute;nyes, sz&aacute;mos el&#245;nyt tartogat &os;
      rendszer&uuml;nk sz&aacute;m&aacute;ra.  Elt&eacute;r&#245;en egy
      <filename>GENERIC</filename> (&aacute;ltal&aacute;nos)
      rendszermagt&oacute;l, amely rengeteg hardvert t&aacute;mogat, egy
      saj&aacute;t rendszermag csak a <emphasis>saj&aacute;t</emphasis>
      PC-nk hardver&eacute;t ismeri.  Ennek t&ouml;bb el&#245;nye is
      van, p&eacute;ld&aacute;ul:</para>

    <itemizedlist>
      <listitem>
	<para>A rendszer&uuml;nk gyorsabban indul.  Mivel a rendszermag
	  csak azokat a hardvereket fogja keresni, melyek a
	  rendszer&uuml;nkben megtal&aacute;lhat&oacute;ak,
	  jelent&#245;s m&eacute;rt&eacute;kben le tud cs&ouml;kkeni az
	  indul&aacute;shoz sz&uuml;ks&eacute;ges id&#245;.</para>
      </listitem>

      <listitem>
	<para>Kisebb mem&oacute;riahaszn&aacute;lat.  Egy saj&aacute;t
	  rendszermag a sz&uuml;ks&eacute;gtelen r&eacute;szek &eacute;s
	  eszk&ouml;zmeghajt&oacute;k elhagy&aacute;sa miatt gyakran
	  kevesebb mem&oacute;ri&aacute;t em&eacute;szt fel, mint a
	  <filename>GENERIC</filename> rendszermag.  Ez az&eacute;rt is
	  fontos, mert a rendszermag mindig benn van a fizikai
	  mem&oacute;ri&aacute;ban, &eacute;s ezzel az
	  alkalmaz&aacute;sok el&ouml;l veszi a helyet.  Emiatt egy
	  saj&aacute;t rendszermag elk&eacute;sz&iacute;t&eacute;se
	  k&uuml;l&ouml;n&ouml;sen hasznos lehet egy kev&eacute;s
	  fizikai mem&oacute;ri&aacute;val rendelkez&#245;
	  rendszeren.</para>
      </listitem>

      <listitem>
	<para>Tov&aacute;bbi hardverek t&aacute;mogat&aacute;sa.  A
	  saj&aacute;t rendszermagunkba olyan eszk&ouml;z&ouml;k
	  t&aacute;mogat&aacute;s&aacute;t is beletehetj&uuml;k, amelyek
	  nem szerepelnek a <filename>GENERIC</filename> rendszermagban,
	  mint p&eacute;ld&aacute;ul a
	  hangk&aacute;rty&aacute;k&eacute;t.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="kernelconfig-devices">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Tom</firstname>
	  <surname>Rhodes</surname>
	  <contrib>&Iacute;rta: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A rendszer&uuml;nkben lev&#245; hardverek
      &ouml;sszeszed&eacute;se</title>

    <para>Miel&#245;tt belevetn&eacute;nk magunkat a rendszermag
      be&aacute;ll&iacute;t&aacute;s&aacute;ba, &eacute;rdemes egy
      lelt&aacute;rt k&eacute;sz&iacute;teni a g&eacute;p&uuml;nkben
      tal&aacute;lhat&oacute; k&uuml;l&ouml;nb&ouml;z&#245;
      eszk&ouml;z&ouml;kr&#245;l.  Ahol a &os; nem els&#245;dlegesen
      haszn&aacute;lt oper&aacute;ci&oacute;s rendszer, ott ehhez
      elegend&#245; megn&eacute;zni a jelenlegi rendszerben
      tal&aacute;lhat&oacute; elemeket.  P&eacute;ld&aacute;ul az
      &microsoft; rendszerek
      <application>Eszk&ouml;zkezel&#245;</application>j&eacute;ben
      (Device Manager) &aacute;ltal&aacute;ban az &ouml;sszes
      eszk&ouml;z fontosabb adatait megtal&aacute;ljuk.  Mag&aacute;t az
      <application>Eszk&ouml;zkezel&#245;</application>t pedig a
      Vez&eacute;rl&#245;pultb&oacute;l (Control Panel)
      &eacute;rhetj&uuml;k el.</para>

    <note>
      <para>A &microsoft.windows; egyes verzi&oacute;iban a
	<application>Rendszer</application> (System) ikonj&aacute;ra
	kattintva megkapjuk azt a k&eacute;perny&#245;t, ahonnan
	k&ouml;zvetlen&uuml;l el tudjuk &eacute;rni az
	<application>Eszk&ouml;zkezel&#245;</application>t.</para>
    </note>

    <para>Ha viszont nincs m&aacute;sik oper&aacute;ci&oacute;s rendszer
      a g&eacute;p&uuml;nk&ouml;n, akkor magunknak kell mindezeknek
      ut&aacute;nan&eacute;zn&uuml;nk.  Erre az egyik alkalmas
      m&oacute;dszer a &man.dmesg.8; &eacute;s a &man.man.1; parancsok
      haszn&aacute;lata.  A &os;-ben tal&aacute;lhat&oacute;
      legt&ouml;bb meghajt&oacute;nak van saj&aacute;t man oldala, ami
      tartalmazza az &aacute;ltaluk kezelt eszk&ouml;z&ouml;k
      list&aacute;j&aacute;t, illetve &iacute;gy a
      rendszerind&iacute;t&aacute;s sor&aacute;n &eacute;szlelt
      hardvereket n&eacute;zhetj&uuml;k vissza.  P&eacute;ld&aacute;ul
      az al&aacute;bbi sor arra utal, hogy a
      <devicename>psm</devicename> meghajt&oacute; megtal&aacute;lta a
      g&eacute;p&uuml;nkh&ouml;z tartoz&oacute; egeret:</para>

    <programlisting>psm0: &lt;PS/2 Mouse&gt; irq 12 on atkdbc0
psm0: [GIANT-LOCKED]
psm0: [ITHREAD]
psm0: model Generic PS/2 mouse, device ID 0</programlisting>

    <para>Ezut&aacute;n ezt a meghajt&oacute;t vagy a rendszermagba kell
      be&eacute;p&iacute;ten&uuml;nk, vagy pedig a &man.loader.conf.5;
      &aacute;llom&aacute;nyon kereszt&uuml;l
      bet&ouml;lten&uuml;nk.</para>

    <para>Bizonyos esetekben a <command>dmesg</command> az
      eszk&ouml;z&ouml;k felkutat&aacute;s&aacute;nak eredm&eacute;nyei
      helyett csak a rendszer &uuml;zeneteit mutatja.  Ilyen
      helyezetekben a teljes kimenet a
      <filename>/var/run/dmesg.boot</filename> &aacute;llom&aacute;nyban
      tekinthet&#245; meg.</para>

    <para>A hardverek manu&aacute;lis
      felder&iacute;t&eacute;s&eacute;nek m&oacute;dja a &man.pciconf.8;
      seg&eacute;dprogram kimenet&eacute;nek
      b&ouml;ng&eacute;sz&eacute;se, ami egy valamivel
      r&eacute;szletesebb eredm&eacute;nyt ad.  Mint
      p&eacute;ld&aacute;ul:</para>

    <programlisting>ath0@pci0:3:0:0:        class=0x020000 card=0x058a1014 chip=0x1014168c rev=0x01 hdr=0x00
         vendor     = 'Atheros Communications Inc.'
         device     = 'AR5212 Atheros AR5212 802.11abg wireless'
         class      = network
         subclass   = ethernet</programlisting>

    <para>A <command>pciconf <option>-lv</option></command> paranccsal
      kapott kimenet ezen r&eacute;sze azt mutatja, hogy az
      <devicename><replaceable>ath</replaceable></devicename>
      meghajt&oacute; tal&aacute;lt egy vezet&eacute;k
      n&eacute;lk&uuml;li Ethernet eszk&ouml;zt.  Innen a <command>man
      <replaceable>ath</replaceable></command> paranccsal
      &eacute;rhetj&uuml;k el a &man.ath.4; man oldal&aacute;t.</para>

    <para>A &man.man.1; a <option>-k</option> param&eacute;ter
      megad&aacute;s&aacute;val tov&aacute;bbi hasznos
      inform&aacute;ci&oacute;kkal is tud szolg&aacute;lni.  A
      fentiekb&#245;l kiindulva p&eacute;ld&aacute;ul a
      k&ouml;vetkez&#245; paranccsal:</para>

    <screen>&prompt.root; man -k <replaceable>Atheros</replaceable></screen>

    <para>le tudjuk k&eacute;rdezni azokat a man oldalakat, amelyek
      tartalmazz&aacute;k az adott sz&oacute;t:</para>

    <programlisting>ath(4)                   - Atheros IEEE 802.11 wireless network driver
ath_hal(4)               - Atheros Hardware Access Layer (HAL)</programlisting>

    <para>A hardvereszk&ouml;zeink list&aacute;j&aacute;val
      felv&eacute;rtezve most m&aacute;r egy saj&aacute;t rendszermag
      l&eacute;trehoz&aacute;sa sem lesz annyira ijeszt&#245;.</para>
  </sect1>

  <sect1 id="kernelconfig-modules">
    <title>Meghajt&oacute;k, alrendszerek &eacute;s modulok</title>
    <indexterm>
      <primary>rendszermag</primary>
      <secondary>meghajt&oacute;k, modulok, alrendszerek</secondary>
    </indexterm>

    <para>Miel&#245;tt &uacute;j rendszermagot
      k&eacute;sz&iacute;ten&eacute;nk, &eacute;rdemes megfontolnunk, hogy
      egy&aacute;ltal&aacute;n sz&uuml;ks&eacute;g&uuml;nk lesz-e
      r&aacute;.  Ha p&eacute;ld&aacute;ul valamilyen eszk&ouml;z
      t&aacute;mogat&aacute;s&aacute;hoz kell, akkor k&ouml;nnyen
      el&#245;fordulhat, hogy azt modulk&eacute;nt is be tudjuk
      t&ouml;lteni.</para>

    <para>A rendszermaghoz tartoz&oacute; modulok a <filename
	class="directory">/boot/kernel</filename>
      k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute;ak, &eacute;s a
      &man.kldload.8; seg&iacute;ts&eacute;g&eacute;vel a rendszer
      m&#251;k&ouml;d&eacute;se k&ouml;zben dinamikusan
      bet&ouml;lthet&#245;ek.  Ha nem is az &ouml;sszes, de a
      legt&ouml;bb meghajt&oacute;hoz tartozik egy modul &eacute;s egy
      man oldal.  P&eacute;ld&aacute;ul az el&#245;z&#245; szakaszban az
      <devicename>ath</devicename> vezet&eacute;k n&eacute;lk&uuml;li
      Ethernet meghajt&oacute;val foglalkoztunk.  A k&ouml;vetkez&#245;
      le&iacute;r&aacute;st tal&aacute;ljuk a hozz&aacute;tartoz&oacute;
      man oldalon:</para>

    <programlisting>Vagy ha modulk&eacute;nt akarjuk bet&ouml;lteni ezt a meghajt&oacute;t a rendszer ind&iacute;t&aacute;sa
sor&aacute;n, akkor a &man.loader.conf.5; &aacute;llom&aacute;nyba vegy&uuml;k fel a k&ouml;vetkez&#245;
sort:

    if_ath_load="YES"</programlisting>

    <para>A fentebb le&iacute;rtak szerint teh&aacute;t ha a
      <literal>if_ath_load="YES"</literal> sort hozz&aacute;adjuk a
      <filename>/boot/loader.conf</filename> &aacute;llom&aacute;nyhoz,
      akkor a rendszer indul&aacute;sakor ez a modul mindig dinamikusan
      bet&ouml;lt&#245;dik.</para>

    <para>N&eacute;mely esetben azonban nem &aacute;ll
      rendelkez&eacute;s&uuml;nkre ilyen modul.  Ez
      k&uuml;l&ouml;n&ouml;sen igaz bizonyos alrendszerekre &eacute;s a
      fontosabb meghajt&oacute;kra, p&eacute;ld&aacute;ul az
      <acronym>FFS</acronym> &aacute;llom&aacute;nyrendszerre
      vonatkoz&oacute;an, mivel ezeknek k&ouml;telez&#245;en a
      rendszermagban kell lenni&uuml;k.  Ugyanez elmondhat&oacute; a
      h&aacute;l&oacute;zati t&aacute;mogat&aacute;sra is (INET).  Csak
      &uacute;gy tudjuk megmondani, hogy valamelyik meghajt&oacute;ra
      sz&uuml;ks&eacute;g van a rendszermagban, ha el&#245;sz&ouml;r
      megpr&oacute;b&aacute;ljuk megkeresni hozz&aacute; a
      megfelel&#245; modult.</para>

    <warning>
      <para>A be&eacute;p&iacute;tett meghajt&oacute;k figyelmetlen
	elt&aacute;vol&iacute;t&aacute;s&aacute;val k&ouml;nnyen
	leford&iacute;thatatlan &aacute;llapotba ker&uuml;lhet a
	rendszermag.  P&eacute;ld&aacute;ul, ha a &man.ata.4;
	meghajt&oacute;t kivessz&uuml;k a rendszermag
	konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;ny&aacute;b&oacute;l, az
	<acronym>ATA</acronym> alrendszert haszn&aacute;l&oacute;
	meghajt&oacute;k csak abban az esetben fognak biztosan
	m&#251;k&ouml;dni, ha egy&uacute;ttal felvessz&uuml;k a
	<filename>loader.conf</filename> &aacute;llom&aacute;nyba.  Ha
	nem vagyunk benne biztosak, akkor el&#245;sz&ouml;r
	pr&oacute;b&aacute;ljuk meg haszn&aacute;lni a modult &eacute;s
	csak ut&aacute;na hagyjuk el a rendszermagba
	&eacute;p&iacute;tett v&aacute;ltozat&aacute;t.</para>
    </warning>
  </sect1>

  <sect1 id="kernelconfig-building">
    <title>Saj&aacute;t rendszermag k&eacute;sz&iacute;t&eacute;se
      &eacute;s telep&iacute;t&eacute;se</title>

    <indexterm>
      <primary>rendszermag</primary>
      <secondary>k&eacute;sz&iacute;t&eacute;se,
	telep&iacute;t&eacute;se</secondary>
    </indexterm>

    <para>El&#245;sz&ouml;r is tegy&uuml;nk egy r&ouml;vidke
      s&eacute;t&aacute;t a rendszermag k&ouml;nyvt&aacute;r&aacute;ban.
      A tov&aacute;bbiakban eml&iacute;tend&#245; &ouml;sszes
      k&ouml;nyvt&aacute;r a <filename>/usr/src/sys</filename>
      k&ouml;nyvt&aacute;ron bel&uuml;l tal&aacute;lhat&oacute;, amely
      <filename>/sys</filename> n&eacute;ven is el&eacute;rhet&#245;.
      Itt rengeteg alk&ouml;nyvt&aacute;r tal&aacute;lhat&oacute;,
      mindegyik&uuml;k a rendszermag k&uuml;l&ouml;nb&ouml;z&#245;
      r&eacute;szeit testes&iacute;ti meg.  Ezek k&ouml;z&uuml;l most
      sz&aacute;munkra a legfontosabb az
      <filename><replaceable>architekt&uacute;ra</replaceable>/conf</filename>
      lesz, ahol majd l&eacute;trehozzuk a saj&aacute;t rendszermagunk
      konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny&aacute;t,
      valamint a <filename>compile</filename>, ahol majd a
      rendszermagunk ford&iacute;t&aacute;sa t&ouml;rt&eacute;nik.  Itt
      az <replaceable>architekt&uacute;ra</replaceable> lehet
      <filename>i386</filename>, <filename>alpha</filename>,
      <filename>amd64</filename>, <filename>ia64</filename>,
      <filename>powerpc</filename>, <filename>sparc64</filename> vagy
      <filename>pc98</filename> (a PC-k egyik, legink&aacute;bb
      Jap&aacute;nban elterjedt v&aacute;ltozata).  Az adott
      architekt&uacute;ra k&ouml;nyvt&aacute;r&aacute;ban
      tal&aacute;lhat&oacute; &ouml;sszes &aacute;llom&aacute;ny csak
      arra az architekt&uacute;r&aacute;ra vonatkozik, a k&oacute;d
      t&ouml;bbi r&eacute;sze pedig g&eacute;pf&uuml;ggetlen &eacute;s
      k&ouml;z&ouml;s az &ouml;sszes t&ouml;bbi l&eacute;tez&#245;
      &eacute;s leend&#245; &os; platformon.  &Eacute;rdemes megfigyelni
      a k&ouml;nyvt&aacute;rak logikai elrendez&eacute;s&eacute;t:
      minden egyes ismert eszk&ouml;z, &aacute;llom&aacute;nyrendszer
      &eacute;s b&#245;v&iacute;tm&eacute;ny saj&aacute;t
      alk&ouml;nyvt&aacute;rral rendelkezik.</para>

    <para>A p&eacute;ld&aacute;k sor&aacute;n ez a fejezet
      felt&eacute;telezi, hogy az i386 architekt&uacute;r&aacute;t
      haszn&aacute;ljuk.  Ha ez a mi eset&uuml;nkben nem &iacute;gy
      lenne, ne felejts&uuml;k el &aacute;t&iacute;rni benn&uuml;k az
      el&eacute;r&eacute;si &uacute;tvonalakat a rendszer&uuml;nk
      architekt&uacute;r&aacute;j&aacute;nak megfelel&#245;en.</para>

    <note>
      <para>Ha <emphasis>nem lenne</emphasis>
	<filename>/usr/src/sys</filename> k&ouml;nyvt&aacute;r a
	rendszer&uuml;nkben, val&oacute;sz&iacute;n&#251;leg m&eacute;g
	nem telep&iacute;tett&uuml;k a rendszermag
	forr&aacute;sk&oacute;dj&aacute;t.  Ezt a legk&ouml;nnyebben
	&uacute;gy tudjuk megtenni, ha <username>root</username>
	felhaszn&aacute;l&oacute;k&eacute;nt elind&iacute;tjuk a
	<command>sysinstall</command> programot &eacute;s ott
	kiv&aacute;lasztjuk a <guimenuitem>Configure</guimenuitem>
	(Be&aacute;ll&iacute;t&aacute;sok), azon bel&uuml;l
	<guimenuitem>Distributions</guimenuitem> (Terjeszt&eacute;sek)
	men&uuml;pontot, amiben v&aacute;lasszuk ki a
	<guimenuitem>src</guimenuitem>, <guimenuitem>base</guimenuitem>
	&eacute;s <guimenuitem>sys</guimenuitem> terjeszt&eacute;seket.
	Ha nem szeretn&eacute;nk erre a c&eacute;lra a
	<application>sysinstall</application> programot
	haszn&aacute;lni, de rendelkez&eacute;s&uuml;nkre &aacute;ll a
	<quote>hivatalos</quote> &os; CD, akkor a forr&aacute;sokat
	ak&aacute;r parancssorb&oacute;l is
	telep&iacute;thetj&uuml;k:</para>

      <screen>&prompt.root; <userinput>mount /cdrom</userinput>
&prompt.root; <userinput>mkdir -p /usr/src/sys</userinput>
&prompt.root; <userinput>ln -s /usr/src/sys /sys</userinput>
&prompt.root; <userinput>cat /cdrom/src/ssys.[a-d]* | tar -xzvf -</userinput>
&prompt.root; <userinput>cat /cdrom/src/sbase.[a-d]* | tar -xzvf -</userinput></screen>
    </note>

    <para>Ezut&aacute;n l&eacute;pj&uuml;nk be az
      <filename><replaceable>i386</replaceable>/conf</filename>
      k&ouml;nyvt&aacute;rba &eacute;s m&aacute;soljuk le a
      <filename>GENERIC</filename> konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyt a kedv&uuml;nk szerinti nev&#251;re.
      P&eacute;ld&aacute;ul:</para>

    <screen>&prompt.root; <userinput>cd /usr/src/sys/<replaceable>i386</replaceable>/conf</userinput>
&prompt.root; <userinput>cp GENERIC <replaceable>SAJ&Aacute;T</replaceable></userinput></screen>

    <para>&Aacute;ltal&aacute;ban a nevet v&eacute;gig nagybet&#251;kkel
      &iacute;rjuk, &eacute;s ha t&ouml;bb &os;-s g&eacute;pet is
      &uuml;zemeltet&uuml;nk k&uuml;l&ouml;nb&ouml;z&#245; hardverekkel,
      hasznosnak bizonyulhat megeml&iacute;teni benne az adott
      g&eacute;p rendszer&eacute;nek nev&eacute;t is.  Ebben a
      p&eacute;ld&aacute;ban ez most a
      <filename><replaceable>SAJ&Aacute;T</replaceable></filename>
      lesz.</para>

    <tip>
      <para>A rendszermagunk konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;ny&aacute;t nem &eacute;ppen a legjobb
	&ouml;tlet a <filename>/usr/src</filename>
	k&ouml;nyvt&aacute;rban t&aacute;rolni.  Ugyanis k&ouml;nnyen
	el&#245;fordulhat, hogy egy rosszul siker&uuml;lt
	ford&iacute;t&aacute;s ut&aacute;n egyszer&#251;en csak
	let&ouml;r&ouml;lj&uuml;k az eg&eacute;sz
	<filename>/usr/src</filename> k&ouml;nyvt&aacute;rat &eacute;s
	onnan kezdj&uuml;k &uacute;jra.  Azonban csak ezut&aacute;n
	juthat esz&uuml;nkbe, hogy vele egy&uuml;tt bizony
	let&ouml;r&ouml;lt&uuml;k a saj&aacute;t rendszermagunk
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny&aacute;t is!
	Ehhez hasonl&oacute;an, k&ouml;zvetlen&uuml;l a
	<filename>GENERIC</filename> konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;ny szerkeszt&eacute;se sem aj&aacute;nlott,
	mivel a forr&aacute;sok egy esetleges <link
	  linkend="updating-upgrading">friss&iacute;t&eacute;s&eacute;n&eacute;l</link>
	k&ouml;nnyen fel&uuml;l&iacute;r&oacute;dhat &eacute;s ezzel
	egy&uuml;tt elvesznek a m&oacute;dos&iacute;t&aacute;saink
	is.</para>

      <para>Teh&aacute;t &eacute;rdemes ink&aacute;bb valahol
	m&aacute;shol t&aacute;rolnunk a rendszermagunk
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny&aacute;t,
	majd l&eacute;trehozni r&aacute; egy szimbolikus linket a
	<filename><replaceable>i386</replaceable></filename>
	k&ouml;nyvt&aacute;rban.</para>

      <para>Valahogy &iacute;gy:</para>

      <screen>&prompt.root; <userinput>cd /usr/src/sys/<replaceable>i386</replaceable>/conf</userinput>
&prompt.root; <userinput>mkdir /root/kernel</userinput>
&prompt.root; <userinput>cp GENERIC /root/kernel/<replaceable>SAJ&Aacute;T</replaceable></userinput>	
&prompt.root; <userinput>ln -s /root/kernel/<replaceable>SAJ&Aacute;T</replaceable></userinput></screen>
    </tip>

    <para>Most pedig a kedvenc sz&ouml;vegszerkeszt&#245;nkkel
      l&aacute;ssunk neki a
      <filename><replaceable>SAJ&Aacute;T</replaceable></filename>
      &aacute;t&iacute;r&aacute;s&aacute;nak!  Ha nemr&eacute;g
      telep&iacute;tett&uuml;k csak a rendszer&uuml;nket, az egyetlen
      el&eacute;rhet&#245; sz&ouml;vegszerkeszt&#245;nk minden bizonnyal
      a <application>vi</application> lesz.  R&oacute;la most
      t&uacute;ls&aacute;gosan is bonyolult lenne le&iacute;r&aacute;st
      adnunk, de az <link
      linkend="bibliography">Irodalomjegyz&eacute;k</link>ben
      tal&aacute;lhat&oacute; k&ouml;nyvek k&ouml;z&uuml;l sokban
      el&eacute;g j&oacute;l bemutatj&aacute;k.  Ezen k&iacute;v&uuml;l
      a &os; aj&aacute;nl egy k&ouml;nnyebben megtanulhat&oacute;
      sz&ouml;vegszerkeszt&#245;t is az <application>ee</application>
      szem&eacute;ly&eacute;ben, amely a kezd&#245;k
      sz&aacute;m&aacute;ra az ide&aacute;lis v&aacute;laszt&aacute;s.
      Nyugodtan &aacute;t&iacute;rhatjuk az el&ouml;l
      tal&aacute;lhat&oacute; megjegyz&eacute;seket a saj&aacute;t
      konfigur&aacute;ci&oacute;nknak megfelel&#245;en, vagy ak&aacute;r
      azt is r&ouml;gz&iacute;thetj&uuml;k, hogy miben
      t&eacute;rt&uuml;nk el a <filename>GENERIC</filename>
      be&aacute;ll&iacute;t&aacute;sait&oacute;l.</para>

    <indexterm><primary>SunOS</primary></indexterm>

    <para>Ha ford&iacute;tottunk m&aacute;r rendszermagot &sunos; vagy
      m&aacute;s BSD oper&aacute;ci&oacute;s rendszer alatt, ez az
      &aacute;llom&aacute;ny ismer&#245;snek t&#251;nhet.  Ha viszont
      m&aacute;s oper&aacute;ci&oacute;s rendszerek, mint
      p&eacute;ld&aacute;ul a DOS fel&#245;l &eacute;rkez&uuml;nk, a
      <filename>GENERIC</filename> konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;ny egy kiss&eacute; tereb&eacute;lyesnek
      t&#251;nhet sz&aacute;munkra, ez&eacute;rt <link
      linkend="kernelconfig-config">A konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;ny</link> c&iacute;m&#251; r&eacute;szt
      figyelmesen &eacute;s lassan olvassuk &aacute;t.</para>

    <note>
      <para>Amennyiben a forr&aacute;sf&aacute;nkat a &os; projekt
	legfrissebb forr&aacute;saival <link
	  linkend="updating-upgrading">szinkroniz&aacute;ljuk</link>, mindig
	olvassuk el a <filename>/usr/src/UPDATING</filename>
	&aacute;llom&aacute;nyt, miel&#245;tt b&aacute;rmilyen
	friss&iacute;t&eacute;shez is kezden&eacute;nk.  Itt
	megtal&aacute;lhat&oacute;ak azok a fontos &eacute;rintett
	k&eacute;rd&eacute;sek &eacute;s ter&uuml;letek, amely
	k&uuml;l&ouml;n figyelmet ig&eacute;nyelnek a friss&iacute;tett
	forr&aacute;sk&oacute;d eset&eacute;n.  A
	<filename>/usr/src/UPDATING</filename> mindig a &os;
	forr&aacute;s&aacute;nak legfrissebb v&aacute;ltozat&aacute;hoz
	igazodik, &eacute;s ez&eacute;rt sokkal naprak&eacute;szebb
	inform&aacute;ci&oacute;kat tartalmaz, mint ez a
	k&eacute;zik&ouml;nyv.</para>
    </note>

    <para>Most pedig le kell leford&iacute;tanunk a rendszermag
      forr&aacute;sk&oacute;dj&aacute;t.</para>

    <procedure>
      <title>A rendszermag leford&iacute;t&aacute;sa</title>

      <step>
	<para>L&eacute;pj&uuml;nk be a <filename
	    class="directory">/usr/src</filename>
	  k&ouml;nyvt&aacute;rba:</para>

	<screen>&prompt.root; <userinput>cd /usr/src</userinput></screen>
      </step>

      <step>
	<para>Ford&iacute;tsuk le a rendszermagot:</para>

	<screen>&prompt.root; <userinput>make buildkernel KERNCONF=<replaceable>SAJ&Aacute;T</replaceable></userinput></screen>
      </step>

      <step>
	<para>Telep&iacute;ts&uuml;k az &uacute;j rendszermagot:</para>

	<screen>&prompt.root; <userinput>make installkernel KERNCONF=<replaceable>SAJ&Aacute;T</replaceable></userinput></screen>
      </step>
    </procedure>

    <note>
      <para>A &os; teljes forr&aacute;sf&aacute;j&aacute;ra
	sz&uuml;ks&eacute;g van a rendszermag
	leford&iacute;t&aacute;s&aacute;hoz.</para>
    </note>

    <tip>
      <para>Amikor egy saj&aacute;t rendszermagot
	alap&eacute;rtelmez&eacute;s szerint ford&iacute;tunk, vele
	egy&uuml;tt az <emphasis>&ouml;sszes</emphasis> modul is
	leford&iacute;t&aacute;sra ker&uuml;l.  Ha viszont id&#245;t
	szeretn&eacute;nk megtakar&iacute;tani a rendszermag
	friss&iacute;t&eacute;se sor&aacute;n vagy csak a saj&aacute;t
	moduljainkat akarjuk leford&iacute;tani, &eacute;rdemes
	&aacute;t&iacute;rnunk az <filename>/etc/make.conf</filename>
	&aacute;llom&aacute;nyt a rendszermag
	ford&iacute;t&aacute;s&aacute;nak megkezd&eacute;se
	el&#245;tt:</para>

      <programlisting>MODULES_OVERRIDE = linux acpi sound/sound sound/driver/ds1 ntfs</programlisting>

      <para>Ez a v&aacute;ltoz&oacute; megadja a t&eacute;nylegesen
	leford&iacute;tand&oacute; modulok
	list&aacute;j&aacute;t.</para>

      <programlisting>WITHOUT_MODULES = linux acpi sound/sound sound/driver/ds1 ntfs</programlisting>

      <para>Ez a v&aacute;ltoz&oacute; a
	ford&iacute;t&aacute;sb&oacute;l kihagyand&oacute; modulokat
	sorolja fel.  A rendszermag ford&iacute;t&aacute;s&aacute;nak
	folyamat&aacute;ban egy&eacute;b hasznosnak tekinthet&#245;
	v&aacute;ltoz&oacute;kr&oacute;l a &man.make.conf.5; man
	oldal&aacute;n olvashatunk.</para>
    </tip>

    <indexterm><primary><filename class="directory">/boot/kernel.old</filename></primary></indexterm>

    <para>Ezut&aacute;n az &uacute;j rendszermag a <filename
      class="directory">/boot/kernel</filename> k&ouml;nyvt&aacute;rba
      ker&uuml;l <filename>/boot/kernel/kernel</filename> n&eacute;ven
      &eacute;s a kor&aacute;bbi rendszermag pedig
      <filename>/boot/kernel.old/kernel</filename> n&eacute;ven
      &#245;rz&#245;dik meg.  Most &aacute;ll&iacute;tsuk le a rendszert
      &eacute;s ind&iacute;tsuk &uacute;jra az &uacute;j rendszermag
      aktiv&aacute;l&aacute;s&aacute;hoz.  Ha k&ouml;zben valamilyen
      hiba t&ouml;rt&eacute;nt volna, n&eacute;zz&uuml;k meg a fejezet
      v&eacute;g&eacute;n tal&aacute;lhat&oacute;, <link
      linkend="kernelconfig-trouble">hibakeres&eacute;s</link>re
      vonatkoz&oacute; utas&iacute;t&aacute;sokat.  Mindenk&eacute;ppen
      olvassuk el azt a r&eacute;szt, amely le&iacute;rja, hogyan
      &aacute;ll&iacute;tsuk helyre a rendszer&uuml;nket abban az
      esetben, ha az &uacute;j rendszermaggal <link
      linkend="kernelconfig-noboot">nem indul</link>.</para>

    <note>
      <para>A rendszerind&iacute;t&aacute;si folyamathoz tartoz&oacute;
	tov&aacute;bbi &aacute;llom&aacute;nyok, mint
	p&eacute;ld&aacute;ul a rendszerbet&ouml;lt&#245;
	(&man.loader.8;) &eacute;s annak konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;nya, a <filename>/boot</filename>
	k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute;ak.  A
	k&uuml;ls&#245; &eacute;s saj&aacute;t modulok a <filename
	class="directory">/boot/kernel</filename> a
	k&ouml;nyvt&aacute;rba ker&uuml;lhetnek, azonban a
	felhaszn&aacute;l&oacute;knak nagyon &uuml;gyelni&uuml;k kell
	r&aacute;, hogy az itt tal&aacute;lhat&oacute; modulok
	szinkronban legyenek a leford&iacute;tott rendszermaggal.
	Ellenkez&#245; esetben a rendszerben
	megb&iacute;zhatatlans&aacute;got, hib&aacute;kat
	&eacute;szlelhet&uuml;nk.</para>
    </note>

  </sect1>

  <sect1 id="kernelconfig-config">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Joel</firstname>
	  <surname>Dahl</surname>
	  <contrib>A &os; 6.X verzi&oacute;j&aacute;hoz
	    igaz&iacute;totta: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny</title>

    <indexterm>
      <primary>rendszermag</primary>
      <secondary>NOTES</secondary>
    </indexterm>
    <indexterm><primary>NOTES</primary></indexterm>
    <indexterm>
      <primary>rendszermag</primary>
      <secondary>konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;ny</secondary>
    </indexterm>

    <para>A konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny
      &aacute;ltal&aacute;nos form&aacute;tuma igen egyszer&#251;.
      Minden sor tartalmaz egy kulcssz&oacute;t &eacute;s egy vagy
      t&ouml;bb param&eacute;tert.  A tov&aacute;bbi
      egyszer&#251;s&iacute;t&eacute;s kedv&eacute;&eacute;rt a
      legt&ouml;bb sor csak egyetlen param&eacute;tert tartalmaz.
      B&aacute;rmi, ami egy <literal>#</literal> (kett&#245;skereszt)
      jelet k&ouml;vet, megjegyz&eacute;snek min&#245;s&uuml;l &eacute;s
      nem sz&aacute;m&iacute;t konfigur&aacute;ci&oacute;s elemnek.  A
      most k&ouml;vetkez&#245; r&eacute;szek bemutatj&aacute;k az egyes
      kulcsszavakat abban a sorrendben, ahogy azokat a
      <filename>GENERIC</filename> &aacute;llom&aacute;nyban is
      megtal&aacute;lhatjuk.  <anchor id="kernelconfig-options">Az
      architekt&uacute;raf&uuml;gg&#245; opci&oacute;k &eacute;s
      eszk&ouml;z&ouml;k teljes list&aacute;j&aacute;t a
      <filename>GENERIC</filename> &aacute;llom&aacute;nnyal egy
      k&ouml;nyvt&aacute;rban lev&#245; <filename>NOTES</filename>
      &aacute;llom&aacute;nyban tal&aacute;lhatjuk meg.  Az
      architekt&uacute;r&aacute;t&oacute;l f&uuml;ggetlen
      opci&oacute;kat a <filename>/usr/src/sys/conf/NOTES</filename>
      &aacute;llom&aacute;nyban tal&aacute;ljuk.</para>

      <para>A &os;&nbsp;5.0 megjelen&eacute;se &oacute;ta a
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyokban
	haszn&aacute;lhat&oacute; az <literal>include</literal>
	direkt&iacute;va.  Ennek seg&iacute;ts&eacute;g&eacute;vel egy
	m&aacute;sik konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny
	tartalma logikailag beilleszthet&#245; az aktu&aacute;lisba,
	&iacute;gy k&ouml;nnyebb&eacute; v&aacute;lik egy m&aacute;r
	meglev&#245; &aacute;llom&aacute;nyhoz tartoz&oacute; kisebb
	mennyis&eacute;g&#251; v&aacute;ltoztat&aacute;s
	karbantart&aacute;sa.  P&eacute;ld&aacute;ul ha csup&aacute;n
	p&aacute;r egyszer&#251; kieg&eacute;sz&iacute;t&eacute;st
	szeretn&eacute;nk hozz&aacute;adni a
	<filename>GENERIC</filename> rendszermaghoz, akkor elegend&#245;
	a hozz&aacute; vett elt&eacute;r&eacute;seket
	nyilv&aacute;ntartanunk egy k&uuml;l&ouml;n
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyban:</para>

    <programlisting>include GENERIC
ident SAJAT

options         IPFIREWALL
options         DUMMYNET
options         IPFIREWALL_DEFAULT_TO_ACCEPT
options         IPDIVERT
</programlisting>

    <para>Val&oacute;sz&iacute;n&#251;leg sok rendszergazda
      sz&aacute;m&aacute;ra jelent&#245;s el&#245;nyt jelent ez a
      megold&aacute;s a konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyok kor&aacute;bbr&oacute;l m&aacute;r
      megszokott &uacute;jra&iacute;r&aacute;s&aacute;val szemben: a
      helyi konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny csak a
      <filename>GENERIC</filename> rendszermag helyi rendszerre
      vonatkoz&oacute; elt&eacute;r&eacute;seit tartalmazza.  &Iacute;gy
      amikor friss&iacute;tj&uuml;k a rendszer&uuml;nket, a
      <filename>GENERIC</filename> rendszermag &ouml;sszes
      &uacute;j&iacute;t&aacute;sa el&eacute;rhet&#245;v&eacute;
      v&aacute;lik, kiv&eacute;ve ha explicit m&oacute;don le nem
      tiltottuk ezeket a <literal>noptions</literal> vagy a
      <literal>nodevice</literal> megad&aacute;s&aacute;val.  A fejezet
      tov&aacute;bbi r&eacute;sz&eacute;ben egy &aacute;tlagos
      konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nnyal fogunk
      foglalkozni, mind a be&aacute;ll&iacute;t&aacute;sok, mind pedig
      az eszk&ouml;z&ouml;k tekintet&eacute;ben.</para>

    <note>
      <para>Ha olyan &aacute;llom&aacute;nyt akarunk
	k&eacute;sz&iacute;teni, amely tartalmazza az &ouml;sszes
	lehets&eacute;ges opci&oacute;t, p&eacute;ld&aacute;ul
	tesztel&eacute;shez, futtassuk le <username>root</username>
	felhaszn&aacute;l&oacute;k&eacute;nt az al&aacute;bbi
	parancsot:</para>

      <screen>&prompt.root; <userinput>cd /usr/src/sys/<replaceable>i386</replaceable>/conf &amp;&amp; make LINT</userinput></screen>
    </note>

    <indexterm>
      <primary>rendszermag</primary>
      <secondary>konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;ny</secondary>
    </indexterm>

    <para>Itt a <filename>GENERIC</filename>
      rendszermag-konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny
      ismertet&eacute;se k&ouml;vetkezik, az
      &eacute;rthet&#245;s&eacute;g kedv&eacute;&eacute;rt
      helyenk&eacute;nt megjegyz&eacute;sekkel kib&#245;v&iacute;tve.  A
      bemutatott &aacute;llom&aacute;nynak majdnem pontosan meg kell
      egyeznie a rendszer&uuml;nkben tal&aacute;lhat&oacute;
      <filename>/usr/src/sys/<replaceable>i386</replaceable>/conf/GENERIC</filename>
      &aacute;llom&aacute;nnyal.</para>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>machine</secondary>
    </indexterm>

    <programlisting>machine      i386</programlisting>

    <para>A sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
      architekt&uacute;r&aacute;j&aacute;t adja meg.  A
      k&ouml;vetkez&#245;k valamelyik&eacute;nek kell lennie:
      <literal>alpha</literal>, <literal>amd64</literal>,
      <literal>i386</literal>, <literal>ia64</literal>,
      <literal>pc98</literal>, <literal>powerpc</literal>, vagy
      <literal>sparc64</literal>.</para>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>cpu</secondary>
    </indexterm>
    <programlisting>cpu          I486_CPU
cpu          I586_CPU
cpu          I686_CPU</programlisting>

    <para>A fenti be&aacute;ll&iacute;t&aacute;s
      seg&iacute;ts&eacute;g&eacute;vel megadhatjuk, milyen
      t&iacute;pus&uacute; processzor tal&aacute;lhat&oacute; a
      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nkben.  T&ouml;bb
      ilyen sorunk is lehet (ha p&eacute;ld&aacute;ul nem lenn&eacute;nk
      biztosak benne, hogy a <literal>I586_CPU</literal> vagy
      <literal>I686_CPU</literal> &eacute;rt&eacute;ket kellene
      megadnunk), de a saj&aacute;t rendszermagunk
      &ouml;ssze&aacute;ll&iacute;t&aacute;s&aacute;hoz &eacute;rdemes
      csak egyet meghagynunk.  Ha nem ismerj&uuml;k pontosan a
      processzorunk t&iacute;pus&aacute;t, vess&uuml;nk egy
      pillant&aacute;st a <filename>/var/run/dmesg.boot</filename>
      &aacute;llom&aacute;nyra &eacute;s keress&uuml;k ki
      bel&#245;le.</para>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>ident</secondary>
    </indexterm>

    <programlisting>ident          GENERIC</programlisting>

    <para>Ez a rendszermag azonos&iacute;t&oacute;ja.
      V&aacute;ltoztassuk meg rendszermagunk nev&eacute;re, legyen
      p&eacute;ld&aacute;ul
      <literal><replaceable>SAJAT</replaceable></literal>, ha a
      kor&aacute;bbi utas&iacute;t&aacute;sokat k&ouml;vett&uuml;k.  Az
      <literal>ident</literal> ut&aacute;n &iacute;rt sztring fog
      megjelenni a rendszermag neve mellett a rendszer
      ind&iacute;t&aacute;sa sor&aacute;n, ez&eacute;rt fontos, hogy az
      &uacute;j rendszermagunknak m&aacute;s nevet adjunk, ha meg
      akarjuk k&uuml;l&ouml;nb&ouml;ztetni az &aacute;ltal&aacute;ban
      haszn&aacute;ltt&oacute;l (p&eacute;ld&aacute;ul egy
      tesztel&eacute;sre sz&aacute;nt rendszermagot akarunk
      k&eacute;sz&iacute;teni).</para>

    <programlisting># ha a /boot/device.hints haszn&aacute;lata helyett statikusan bele akarjuk ford&iacute;tani
#hints          "GENERIC.hints"         # itt szerepelnek a device hintek</programlisting>

    <para>A &man.device.hints.5; haszn&aacute;lhat&oacute; az
      eszk&ouml;zmeghajt&oacute;k
      be&aacute;ll&iacute;t&aacute;s&aacute;ra.  A &man.loader.8; a
      rendszer ind&iacute;t&aacute;sa sor&aacute;n
      alap&eacute;rtelmez&eacute;s szerint a
      <filename>/boot/device.hints</filename> &aacute;llom&aacute;nyt
      olvassa be erre a c&eacute;lra.  A <literal>hints</literal>
      be&aacute;ll&iacute;t&aacute;s haszn&aacute;lat&aacute;val ezeket
      a <quote>hinteket</quote> statikusan bele tudjuk
      &eacute;p&iacute;teni a rendszermagba.  Ebben az esetben nincs
      sz&uuml;ks&eacute;g&uuml;nk k&uuml;l&ouml;n
      <filename>device.hints</filename> &aacute;llom&aacute;ny
      l&eacute;trehoz&aacute;s&aacute;ra a <filename>/boot</filename>
      k&ouml;nyvt&aacute;rban.</para>

    <programlisting>makeoptions     DEBUG=-g          # a nyomk&ouml;vet&eacute;shez sz&uuml;ks&eacute;ges gdb(1) szimb&oacute;lumok be&eacute;p&iacute;t&eacute;se</programlisting>

    <para>A &os; hagyom&aacute;nyos ford&iacute;t&aacute;s&aacute;nak
      folyamata sor&aacute;n a rendszermagot a <option>-g</option>
      haszn&aacute;lat&aacute;val k&eacute;sz&iacute;tj&uuml;k el,
      aminek k&ouml;sz&ouml;nhet&#245;en hibakeres&eacute;si
      inform&aacute;ci&oacute;kat tudunk &aacute;tadni a &man.gcc.1;
      ford&iacute;t&oacute;nak.</para>

    <programlisting>options          SCHED_ULE          # ULE &uuml;temez&#245;</programlisting>

    <para>A &os; alap&eacute;rtelmezett rendszer&uuml;temez&#245;je.  Ne
      v&aacute;ltoztassuk meg!</para>

    <programlisting>options          PREEMPTION         # a rendszersz&aacute;lak megszak&iacute;that&oacute;s&aacute;g&aacute;nak enged&eacute;lyez&eacute;se</programlisting>

    <para>Ha enged&eacute;lyezz&uuml;k, a rendszermagban fut&oacute;
      sz&aacute;lakat meg tudj&aacute;k szak&iacute;tani m&aacute;s,
      magasabb priorit&aacute;s&uacute; sz&aacute;lak.  Ez seg&iacute;t
      n&ouml;velni a rendszer v&aacute;laszad&aacute;si
      sebess&eacute;g&eacute;t &eacute;s cs&ouml;kkenti a
      megszak&iacute;t&aacute;sokat kezel&#245; sz&aacute;lak
      v&aacute;rakoz&aacute;s&aacute;t.</para>

    <programlisting>options          INET              # h&aacute;l&oacute;zatkezel&eacute;s</programlisting>

    <para>A h&aacute;l&oacute;zatkezel&eacute;s
      t&aacute;mogat&aacute;sa.  Ne t&ouml;r&ouml;lj&uuml;k ki,
      m&eacute;g akkor sem, ha nem tervezz&uuml;k
      h&aacute;l&oacute;zatra kapcsolni a rendszert.  Sok programnak
      sz&uuml;ks&eacute;ge van legal&aacute;bb az &uacute;n.  loopback
      t&iacute;pus&uacute; h&aacute;l&oacute;zat
      t&aacute;mogat&aacute;s&aacute;ra (vagyis a
      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk&ouml;n bel&uuml;li
      h&aacute;l&oacute;zati kapcsolatokra), ez&eacute;rt ez
      felt&eacute;tlen&uuml;l k&ouml;telez&#245;!</para>

    <programlisting>options          INET6             # IPv6 kommunik&aacute;ci&oacute;s prokotollok</programlisting>

    <para>Enged&eacute;lyezi az IPv6 kommunik&aacute;ci&oacute;s
      protokollok haszn&aacute;lat&aacute;t.</para>

    <programlisting>options          FFS               # Berkeley Fast Filesystem</programlisting>

    <para>Ez a legalapvet&#245;bb merevlemezes
      &aacute;llom&aacute;nyrendszer.  Hagyjuk meg, ha
      merevlemezr&#245;l akarjuk ind&iacute;tani a
      rendszer&uuml;nket.</para>

    <programlisting>options          SOFTUPDATES       # az FFS Soft Updates t&aacute;mogat&aacute;sa</programlisting>

    <para>Ez a be&aacute;ll&iacute;t&aacute;s enged&eacute;lyezi a
      rendszermagban a Soft Updates haszn&aacute;lat&aacute;t, amely
      seg&iacute;t felgyors&iacute;tani a lemez &iacute;r&aacute;si
      sebess&eacute;g&eacute;t.  Ha m&aacute;r a rendszermag ezt a
      funkcionalit&aacute;st ismeri, akkor m&eacute;g k&uuml;l&ouml;n az
      egyes lemezeken is enged&eacute;lyezni kell.  N&eacute;zz&uuml;k
      meg a &man.mount.8; kimenet&eacute;t, hogy l&aacute;ssuk, a
      rendszer&uuml;nkben lev&#245; lemezek k&ouml;z&uuml;l melyiken van
      t&eacute;nylegesen enged&eacute;lyezve a Soft Updates
      haszn&aacute;lata.  Ha nem l&aacute;tjuk benne sehol sem a
      <literal>soft-updates</literal> opci&oacute;t, akkor azt
      (meglev&#245; &aacute;llom&aacute;nyrendszerek eset&eacute;n) a
      &man.tunefs.8; vagy (&uacute;j &aacute;llom&aacute;nyrendszerek
      eset&eacute;n) a &man.newfs.8; parancsokkal tudjuk
      bekapcsolni.</para>

    <programlisting>options          UFS_ACL           # a hozz&aacute;f&eacute;r&eacute;s-vez&eacute;rl&eacute;si list&aacute;k (ACL) t&aacute;mogat&aacute;sa</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal
      enged&eacute;lyezhetj&uuml;k a rendszermagban a
      hozz&aacute;f&eacute;r&eacute;s-vez&eacute;rl&eacute;si
      list&aacute;k t&aacute;mogat&aacute;s&aacute;t.  Ez a
      kiterjesztett attrib&uacute;tumok &eacute;s az
      <acronym>UFS2</acronym> haszn&aacute;lat&aacute;ra
      t&aacute;maszkodik.  Ezt a lehet&#245;s&eacute;get
      r&eacute;szleteiben a <xref linkend="fs-acl">ban
      t&aacute;rgyaljuk.  Az <acronym>ACL</acronym>
      alap&eacute;rtelmez&eacute;s szerint t&aacute;mogatott, &eacute;s
      kor&aacute;bban m&aacute;r haszn&aacute;ltuk, akkor
      semmik&eacute;ppen se kapcsoljuk ki, mert ezzel az eddig
      l&eacute;trehozott
      hozz&aacute;f&eacute;r&eacute;s-vez&eacute;rl&eacute;si
      list&aacute;ink &eacute;rv&eacute;nytelenn&eacute;, az
      &aacute;llom&aacute;nyaink pedig v&eacute;dtelenn&eacute;
      v&aacute;lnak.</para>

    <programlisting>options          UFS_DIRHASH       # nagyobb k&ouml;nyvt&aacute;rak eset&eacute;n gyorsul&aacute;st hoz</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal n&eacute;mi
      mem&oacute;ria fel&aacute;ldoz&aacute;sa &aacute;r&aacute;n fel
      tudjuk gyors&iacute;tani a nagyobb k&ouml;nyvt&aacute;rakon
      v&eacute;gzett lemezm&#251;veletek sebess&eacute;g&eacute;t,
      ez&eacute;rt ezt a be&aacute;ll&iacute;t&aacute;st &eacute;rdemes
      nagyobb szerverekre vagy interakt&iacute;vit&aacute;st
      ig&eacute;nyl&#245; munka&aacute;llom&aacute;sokra tartogatni,
      &eacute;s elt&aacute;vol&iacute;tani olyan esetekben, amikor a
      &os;-t egy olyan kisebb sz&aacute;m&iacute;t&oacute;g&eacute;peken
      haszn&aacute;ljuk, ahol a mem&oacute;ria kev&eacute;s &eacute;s a
      lemezm&#251;veletek sebess&eacute;ge kev&eacute;sb&eacute; fontos,
      p&eacute;ld&aacute;ul egy t&#251;zfalon.</para>

    <programlisting>options          MD_ROOT           # tudunk mem&oacute;rialemezr&#245;l is rendszert ind&iacute;tani</programlisting>

    <para>Ezzel az opci&oacute;val enged&eacute;lyezni tudjuk a rendszer
      ind&iacute;t&aacute;s&aacute;t mem&oacute;ri&aacute;ban
      t&aacute;rolt virtu&aacute;lis lemezekr&#245;l.</para>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>NFS</secondary>
    </indexterm>
    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>NFS_ROOT</secondary>
    </indexterm>

    <programlisting>options          NFSCLIENT         # h&aacute;l&oacute;zati &aacute;llom&aacute;nyrendszer (NFS) kliens
options          NFSSERVER         # NFS szerver
options          NFS_ROOT          # NFS haszn&aacute;lhat&oacute; gy&ouml;k&eacute;rk&eacute;nt is, kell hozz&aacute; az NFSCLIENT</programlisting>

    <para>A h&aacute;l&oacute;zati &aacute;llom&aacute;nyrendszer
      t&aacute;mogat&aacute;sa.  Hacsak nem akarunk TCP/IP-n
      kereszt&uuml;l &aacute;llom&aacute;nyrendszereket csatlakoztatni
      egy &unix; &aacute;llom&aacute;nyszerverr&#245;l,
      kivethetj&uuml;k.</para>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>MSDOSFS</secondary>
    </indexterm>

    <programlisting>options          MSDOSFS           # MS-DOS &aacute;llom&aacute;nyrendszer</programlisting>

    <para>Az &ms-dos; &aacute;llom&aacute;nyrendszer.  Hacsak nem
      akarunk DOS-ra form&aacute;zott merevlemezes
      part&iacute;ci&oacute;t csatlakoztatni a
      rendszerind&iacute;t&aacute;s sor&aacute;n, nyugodtan
      elhagyhatjuk.  A fentebb le&iacute;rtak szerint az els&#245; olyan
      alkalommal automatikusan bet&ouml;lt&#245;dik, amikor egy DOS
      part&iacute;ci&oacute;t csatlakoztatni akarunk.  S&#245;t, a
      nagyszer&#251; <filename
      role="package">emulators/mtools</filename> szoftver
      seg&iacute;ts&eacute;g&eacute;vel k&uuml;l&ouml;n
      csatlakoztat&aacute;s &eacute;s lev&aacute;laszt&aacute;s
      n&eacute;lk&uuml;l tudunk DOS-os floppykat olvasni (&eacute;s az
      <literal>MSDOSFS</literal>-re egy&aacute;ltal&aacute;n nincs is
      sz&uuml;ks&eacute;ge).</para>

    <programlisting>options          CD9660            # ISO 9660 &aacute;llom&aacute;nyrendszer</programlisting>

    <para>Az ISO 9660 &aacute;llom&aacute;nyrendszert a CD-k
      haszn&aacute;lj&aacute;k.  Vegy&uuml;k ki, ha nincs a
      sz&aacute;m&iacute;t&oacute;g&eacute;pben CD-ROM meghajt&oacute;
      vagy csak ritk&aacute;n fogunk CD-ket csatlakoztatni (mivel a
      hozz&aacute;tartoz&oacute; modul mag&aacute;t&oacute;l
      bet&ouml;lt&#245;dik az els&#245; adat CD csatlakoztat&aacute;sa
      sor&aacute;n).  Az audio CD-k nem haszn&aacute;lj&aacute;k ezt az
      &aacute;llom&aacute;nyrendszert.</para>

    <programlisting>options          PROCFS            # a fut&oacute; programok &aacute;llom&aacute;nyrendszere (sz&uuml;ks&eacute;ges hozz&aacute; a PSEUDOFS)</programlisting>

    <para>A fut&oacute; programok &aacute;llom&aacute;nyrendszere.  Ez
      csak a <filename>/proc</filename> k&ouml;nyvt&aacute;rra
      csatlakoztatott <quote>sz&iacute;nlelt</quote>
      &aacute;llom&aacute;nyrendszer, amely
      seg&iacute;ts&eacute;g&eacute;vel a &man.ps.1; &eacute;s
      hozz&aacute; hasonl&oacute; programok k&eacute;pesek t&ouml;bb
      inform&aacute;ci&oacute;t adni a fut&oacute; programokr&oacute;l.
      A <literal>PROCFS</literal> haszn&aacute;lata a legt&ouml;bb
      esetben nem indokolt, mivel a k&uuml;l&ouml;nf&eacute;le
      nyomk&ouml;vet&#245; &eacute;s fel&uuml;gyeleti eszk&ouml;z&ouml;k
      k&eacute;pesek a <literal>PROCFS</literal> haszn&aacute;lata
      n&eacute;lk&uuml;l is m&#251;k&ouml;dni:
      alap&eacute;rtelmez&eacute;s szerint a telep&iacute;tett
      rendszerek sem csatlakoztatj&aacute;k ezt az
      &aacute;llom&aacute;nyrendszer.</para>

    <programlisting>options          PSEUDOFS          # pszeudo &aacute;llom&aacute;nyrendszerek t&aacute;mogat&aacute;sa</programlisting>

    <para>A 6.X verzi&oacute;j&uacute; rendszermagokban a
      <literal>PROCFS</literal> haszn&aacute;lat&aacute;hoz
      enged&eacute;lyezn&uuml;nk kell a <literal>PSEUDOFS</literal>
      haszn&aacute;lat&aacute;t is.</para>

    <programlisting>options          GEOM_GPT          # GUID t&iacute;pus&uacute; part&iacute;ci&oacute;s t&aacute;bl&aacute;k haszn&aacute;lata</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal enged&eacute;lyezni
      tudjuk nagy mennyis&eacute;g&#251; part&iacute;ci&oacute;
      t&aacute;mogat&aacute;s&aacute;t egyetlen lemezen.</para>

    <programlisting>options          COMPAT_43         # kompatibilit&aacute;s fenntart&aacute;sa a 4.3 BSD-vel [NE T&Ouml;R&Ouml;LD!]</programlisting>

    <para>Kompatibilit&aacute;s a 4.3BSD-vel.  Ne vegy&uuml;k ki, mert
      bizonyos programok furcs&aacute;n fognak viselkedni a
      hi&aacute;nya eset&eacute;n.</para>

    <programlisting>options          COMPAT_FREEBSD4   # kompatibilit&aacute;s a &os;4-el</programlisting>

    <para>Ez a be&aacute;ll&iacute;t&aacute;s sz&uuml;ks&eacute;ges a
      &os;&nbsp;5.X &i386; &eacute;s Alpha rendszerein a &os;
      kor&aacute;bbi verzi&oacute;ihoz ford&iacute;tott
      alkalmaz&aacute;sok t&aacute;mogat&aacute;s&aacute;hoz, melyek
      r&eacute;gebbi rendszerh&iacute;v&aacute;sokat haszn&aacute;lnak.
      Az &ouml;sszes &i386; &eacute;s Alpha t&iacute;pus&uacute;
      rendszeren aj&aacute;nlott enged&eacute;lyezni, mivel itt
      el&#245;fordulhatnak r&eacute;gebbi alkalmaz&aacute;sok.  A
      t&ouml;bbi platform, mint p&eacute;ld&aacute;ul az ia64 vagy a
      &sparc64;, t&aacute;mogat&aacute;sa csak az 5.X verzi&oacute;ban
      jelent meg, ez&eacute;rt ott nincs sz&uuml;ks&eacute;g
      erre.</para>

    <programlisting>options          COMPAT_FREEBSD5   # kompatibilit&aacute;s a &os;5-el</programlisting>

    <para>Ezt a be&aacute;ll&iacute;t&aacute;st a &os;&nbsp;6.X
      &eacute;s afeletti verzi&oacute;kban kell haszn&aacute;lni az
      olyan &os;&nbsp;5.X verzi&oacute;kra ford&iacute;tott
      alkalmaz&aacute;sok futtat&aacute;s&aacute;nak
      t&aacute;mogat&aacute;s&aacute;hoz, melyek a &os;&nbsp;5.X
      rendszerh&iacute;v&aacute;sait haszn&aacute;lj&aacute;k.</para>

    <programlisting>options          SCSI_DELAY=5000  # a SCSI eszk&ouml;z&ouml;k keres&eacute;se el&#245;tt k&eacute;sleltet&eacute;s (ezredm&aacute;sodpercben)</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal a rendszermag 5
      m&aacute;sodpercig v&aacute;rakozni fog a SCSI eszk&ouml;z&ouml;k
      keres&eacute;se el&#245;tt.  Ha kiz&aacute;rolag csak IDE
      t&iacute;pus&uacute; merevlemezeink vannak, nyugodtan
      kihagyhatjuk, m&aacute;sk&uuml;l&ouml;nben &eacute;rdemes a
      rendszerind&iacute;t&aacute;s gyors&iacute;t&aacute;sa
      &eacute;rdek&eacute;ben pr&oacute;b&aacute;ljuk meg
      cs&ouml;kkenteni ezt az &eacute;rt&eacute;ket.
      Term&eacute;szetesen, ha &iacute;gy tesz&uuml;nk &eacute;s a &os;
      nem tudja felismerni a SCSI eszk&ouml;zeinket, akkor
      n&ouml;velj&uuml;k meg valamennyivel.</para>

    <programlisting>options          KTRACE            # a ktrace(1) t&aacute;mogat&aacute;sa</programlisting>

    <para>Enged&eacute;lyezi a rendszermagban fut&oacute; rutinok
      nyomonk&ouml;vet&eacute;s&eacute;t, ami hasznos lehet a
      hib&aacute;k keres&eacute;se sor&aacute;n.</para>

    <programlisting>options          SYSVSHM           # SYSV-szer&#251; osztott mem&oacute;ria</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal enged&eacute;lyezni
      tudjuk a rendszerben a System&nbsp;V t&iacute;pus&uacute; osztott
      mem&oacute;ria haszn&aacute;lat&aacute;t.  Leggyakrabban az X
      rendszer XSHM kiterjeszt&eacute;se haszn&aacute;lja, amelyen
      kereszt&uuml;l sz&aacute;mos m&#251;veletig&eacute;nyes grafikus
      program m&#251;k&ouml;d&eacute;s&eacute;t fel lehet
      gyors&iacute;tani.  Ha X-et haszn&aacute;lunk, mindenk&eacute;ppen
      sz&uuml;ks&eacute;g&uuml;nk lehet erre.</para>

    <programlisting>options          SYSVMSG           # SYSV-szer&#251; &uuml;zenetsorok</programlisting>

    <para>A System&nbsp;V &uuml;zenetek t&aacute;mogat&aacute;sa.  Ez a
      be&aacute;ll&iacute;t&aacute;s csup&aacute;n n&eacute;h&aacute;ny
      sz&aacute;z byte-tal n&ouml;veli a rendszermagot.</para>

    <programlisting>options          SYSVSEM           # SYSV-szer&#251; szemaforok</programlisting>

    <para>A System&nbsp;V szemaforok t&aacute;mogat&aacute;sa.  Nem
      t&uacute;l gyakran alkalmazz&aacute;k ezeket, de ez csak
      n&eacute;h&aacute;ny sz&aacute;z byte-ot tesz hozz&aacute; a
      rendszermaghoz.</para>

    <note>
      <para>A &man.ipcs.1; parancs <option>-p</option>
	param&eacute;ter&eacute;vel ki tudjuk list&aacute;ztatni azokat
	fut&oacute; programokat, amelyek ezen System&nbsp;V
	eszk&ouml;z&ouml;ket haszn&aacute;lj&aacute;k.</para>
    </note>

    <programlisting>options          _KPOSIX_PRIORITY_SCHEDULING # POSIX P1003_1B val&oacute;sidej&#251; kiterjeszt&eacute;sek</programlisting>

    <para>A &posix; 1993-as v&aacute;ltozat&aacute;ban megjelent
      val&oacute;sidej&#251; b&#245;v&iacute;t&eacute;sek.  A
      Portgy&#251;jtem&eacute;nyben megjelen&#245; egyes
      alkalmaz&aacute;sok haszn&aacute;lj&aacute;k ezeket (mint
      p&eacute;ld&aacute;ul a
      <application>&staroffice;</application>).</para>

    <programlisting>options          KBD_INSTALL_CDEV  # CDEV bejegyz&eacute;s l&eacute;trehoz&aacute;sa a /dev k&ouml;nyvt&aacute;rban</programlisting>

    <para>Ez a be&aacute;ll&iacute;t&aacute;s kell ahhoz, hogy
      <filename>/dev</filename> k&ouml;nyvt&aacute;rban l&eacute;tre
      tudjunk hozni eszk&ouml;zle&iacute;r&oacute;kat a
      billenty&#251;zethez.</para>

    <programlisting>options          ADAPTIVE_GIANT    # adapt&iacute;v Giant mutexek</programlisting>

    <para>A Giant annak a k&ouml;lcs&ouml;n&ouml;s
      kiz&aacute;r&aacute;si mechanizmusnak (blokkolt mutexnek) a neve,
      amely a rendszermag er&#245;forr&aacute;sainak jelent&#245;s
      r&eacute;sz&eacute;t v&eacute;di.  Manaps&aacute;g ez m&aacute;r
      egy elfogadhatatlanul sz&#251;k keresztmetszet k&eacute;pez a
      teljes&iacute;tm&eacute;nyben, ez&eacute;rt a fejleszt&eacute;sben
      fokozatosan felv&aacute;ltj&aacute;k az egyes
      er&#245;forr&aacute;sokat k&uuml;l&ouml;n-k&uuml;l&ouml;n
      v&eacute;d&#245; z&aacute;rol&aacute;sok.  Az
      <literal>ADAPTIVE_GIANT</literal> be&aacute;ll&iacute;t&aacute;s
      hat&aacute;s&aacute;ra a Giant a helyzethez igazod&oacute;an
      forg&oacute; (spin) mutexek k&ouml;z&eacute; ker&uuml;l.  Ez azt
      jelenti, hogy amikor egy sz&aacute;l z&aacute;rolni akarja a Giant
      mutexet, de ezt m&aacute;r megtette el&#245;tte egy m&aacute;sik
      processzorr&oacute;l fut&oacute; sz&aacute;l, a sz&aacute;l
      tov&aacute;bb fut &eacute;s v&aacute;rakozni fog a
      z&aacute;rol&aacute;s felold&aacute;s&aacute;ra.  Norm&aacute;lis
      esetben ugyanis egy sz&aacute;l tov&aacute;bbra is blokkolt
      &aacute;llapotban marad, v&aacute;rakozva a fut&aacute;sra.  Ha
      nem tudunk d&ouml;nteni, hagyjuk v&aacute;ltozatlanul.</para>

    <note>
      <para>Hozz&aacute;tessz&uuml;k, hogy a &os; 8.0-CURRENT &eacute;s
	k&eacute;s&#245;bbi v&aacute;ltozataiban az &ouml;ssszes mutex
	alap&eacute;rtelmez&eacute;s szerint adapt&iacute;v, hacsak meg
	nem adjuk a <literal>NO_ADAPTIVE_MUTEXES</literal>
	be&aacute;ll&iacute;t&aacute;st.  Ennek
	eredm&eacute;nyek&eacute;ppen a Giant most m&aacute;r
	alapb&oacute;l adapt&iacute;v, ez&eacute;rt eset&uuml;kben az
	<literal>ADAPTIVE_GIANT</literal> nem szerepel a rendszermag
	be&aacute;ll&iacute;t&aacute;sai k&ouml;z&ouml;tt.</para>
    </note>

    <indexterm>
      <primary>a rendszermag be&aacute;ll&iacute;t&aacute;sai</primary>
      <secondary>SMP</secondary>
    </indexterm>

    <programlisting>device          apic               # I/O APIC</programlisting>

    <para>Az <devicename>apic</devicename> nev&#251; eszk&ouml;z
      enged&eacute;lyez&eacute;s&eacute;vel haszn&aacute;lhatjuk a
      hardveres APIC-ot a megszak&iacute;t&aacute;sok
      vez&eacute;rl&eacute;s&eacute;re.  Az
      <devicename>apic</devicename> alkalmazhat&oacute; egy- &eacute;s
      t&ouml;bbprocesszoros rendszerek eset&eacute;n is egyar&aacute;nt,
      de az SMP rendszermagokn&aacute;l sz&uuml;ks&eacute;ges.
      T&ouml;bb processzor t&aacute;mogat&aacute;s&aacute;n&aacute;l
      mindenk&eacute;ppen tegy&uuml;k hozz&aacute; az <literal>options
      SMP</literal> be&aacute;ll&iacute;t&aacute;st is.</para>

    <note>
      <para>Az apic eszk&ouml;z csak az i386 architekt&uacute;r&aacute;n
	l&eacute;tezik, ez&eacute;rt a t&ouml;bbi
	architekt&uacute;r&aacute;n nem szabad haszn&aacute;lnunk ezt a
	be&aacute;ll&iacute;t&aacute;st.</para>
    </note>

    <programlisting>device          eisa</programlisting>

    <para>Abban az esetben enged&eacute;lyezz&uuml;k, ha EISA-s
      alaplapunk van, ezzel aktiv&aacute;ljuk az EISA buszra
      csatlakoztatott eszk&ouml;z&ouml;k automatikus
      felismer&eacute;s&eacute;t &eacute;s
      be&aacute;ll&iacute;that&oacute;s&aacute;g&aacute;t.</para>

    <programlisting>device          pci</programlisting>

    <para>Tegy&uuml;k hozz&aacute; a konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyhoz, ha PCI-os alaplapuk van.  Ezzel
      enged&eacute;lyezhetj&uuml;k a PCI k&aacute;rty&aacute;k
      automatikus felismer&eacute;s&eacute;t &eacute;s a PCI &eacute;s
      ISA buszok k&ouml;zti
      &aacute;tir&aacute;ny&iacute;t&aacute;st.</para>

    <programlisting># Hajl&eacute;konylemezes meghajt&oacute;k
device          fdc</programlisting>

    <para>Ez a hajl&eacute;konylemezes meghajt&oacute;
      vez&eacute;rl&#245;je.</para>

    <programlisting># ATA &eacute;s ATAPI eszk&ouml;z&ouml;k
device          ata</programlisting>

    <para>Ez az eszk&ouml;zmeghajt&oacute; felel&#245;s az &ouml;sszes
      ATA &eacute;s ATAPI eszk&ouml;z&eacute;rt.  A modern
      sz&aacute;m&iacute;t&oacute;g&eacute;peken csak egyszer kell
      megadnunk a <literal>device ata</literal> sort a
      be&aacute;ll&iacute;t&aacute;sok k&ouml;z&ouml;tt az &ouml;sszes
      PCI-os ATA/ATAPI eszk&ouml;z felismer&eacute;s&eacute;hez.</para>

    <programlisting>device          atadisk                 # ATA lemezmeghajt&oacute;k</programlisting>

    <para>Az ATA lemezmeghajt&oacute;k
      t&aacute;mogat&aacute;s&aacute;hoz erre van m&eacute;g
      sz&uuml;ks&eacute;g a <literal>device ata</literal>
      mellett.</para>

    <programlisting>device          ataraid                 # ATA RAID-meghajt&oacute;k</programlisting>

    <para>Az ATA RAID-meghajt&oacute;k kezel&eacute;s&eacute;hez erre a
      sorra van sz&uuml;ks&eacute;g a <literal>device ata</literal>
      mellett.</para>

    <programlisting><anchor id="kernelconfig-atapi">
device          atapicd                 # ATAPI CD-meghajt&oacute;k</programlisting>

    <para>Az ATAPI CD-meghajt&oacute;k haszn&aacute;lat&aacute;hoz ezt
      is tegy&uuml;k a konfigur&aacute;ci&oacute;ba a <literal>device
      ata</literal> mell&eacute;.</para>

    <programlisting>device          atapifd                 # ATAPI floppy meghajt&oacute;k</programlisting>

    <para>A <literal>device ata</literal> haszn&aacute;lata mellett erre
      van m&eacute;g sz&uuml;ks&eacute;g&uuml;nk az ATAPI floppy
      meghajt&oacute;k kezel&eacute;s&eacute;hez.</para>

    <programlisting>device          atapist                 # ATAPI szalagos meghajt&oacute;k</programlisting>

    <para>Az ATAPI szalagos egys&eacute;gek ezt a sort is tegy&uuml;k a
      konfigur&aacute;ci&oacute;ba a <literal>device ata</literal>
      mell&eacute;.</para>

    <programlisting>options         ATA_STATIC_ID           # statikus eszk&ouml;zsz&aacute;moz&aacute;s</programlisting>

    <para>Ezzel a be&aacute;ll&iacute;t&aacute;ssal a
      vez&eacute;rl&#245;k sz&aacute;moz&aacute;sa &aacute;lland&oacute;
      lesz.  N&eacute;lk&uuml;le az eszk&ouml;zsz&aacute;mok dinamikusan
      ker&uuml;lnek kioszt&aacute;sra.</para>

    <programlisting># SCSI vez&eacute;rl&#245;k
device          ahb        # EISA AHA1742 csal&aacute;d
device          ahc        # AHA2940 &eacute;s integr&aacute;lt AIC7xxx eszk&ouml;z&ouml;k
options         AHC_REG_PRETTY_PRINT    # a hib&aacute;k keres&eacute;s&eacute;hez ki&iacute;ratja a regiszterek
                                        # bitmez&#245;it.  Kb. 128 KB-al n&ouml;veli a m&eacute;ret&eacute;t.
device          ahd        # AHA39320/29320 &eacute;s integr&aacute;lt AIC79xx eszk&ouml;z&ouml;k
options         AHD_REG_PRETTY_PRINT    # a hib&aacute;k keres&eacute;s&eacute;hez ki&iacute;ratja a regiszterek
                                        # bitmez&#245;it.  Kb. 215 KB-al n&ouml;veli a m&eacute;ret&eacute;t.
device          amd        # AMD 53C974 (Teckram DC-390(T))
device          isp        # Qlogic csal&aacute;d
#device         ispfw      # a QLogic HBA firmware-e, t&ouml;bbnyire modul
device          mpt        # LSI-Logic MPT-Fusion
#device         ncr        # NCR/Symbios Logic
device          sym        # NCR/Symbios Logic (&uacute;jabb chipsetek, illetve az `ncr' t&iacute;pus&uacute;ak)
device          trm        # Tekram DC395U/UW/F DC315U csatol&oacute;k

device          adv        # Advansys SCSI-csatol&oacute;k
device          adw        # Advansys wide SCSI-csatol&oacute;k
device          aha        # Adaptec 154x SCSI-csatol&oacute;k
device          aic        # Adaptec 15[012]x SCSI-csatol&oacute;k, AIC-6[23]60.
device          bt         # Buslogic/Mylex MultiMaster SCSI-csatol&oacute;k

device          ncv        # NCR 53C500
device          nsp        # Workbit Ninja SCSI-3
device          stg        # TMC 18C30/18C50</programlisting>

    <para>SCSI-vez&eacute;rl&#245;k.  Vegy&uuml;k ki azokat, amelyekkel
      t&eacute;nylegesen nem rendelkez&uuml;nk.  Ha csak IDE
      eszk&ouml;zeink vannak a rendszer&uuml;nkben, az &ouml;sszeset
      elt&aacute;vol&iacute;thatjuk.  A
      <literal>_REG_PRETTY_PRINT</literal>
      v&eacute;gz&#245;d&eacute;s&#251; sorok a megfelel&#245;
      meghajt&oacute;k hibaker&eacute;si
      be&aacute;ll&iacute;t&aacute;sait takarj&aacute;k.</para>

    <programlisting># SCSI-perif&eacute;ri&aacute;k
device          scbus      # SCSI-busz (kell a SCSI-hoz)
device          ch         # SCSI m&eacute;diumv&aacute;lt&oacute;k (media changer)
device          da         # k&ouml;zvetlen hozz&aacute;f&eacute;r&eacute;s (lemezek)
device          sa         # soros hozz&aacute;f&eacute;r&eacute;s (szalag stb.)
device          cd         # CD
device          pass       # &aacute;tereszt&#245; eszk&ouml;z (k&ouml;zvetlen SCSI hozz&aacute;f&eacute;r&eacute;s)
device          ses        # SCSI k&ouml;rnyezeti szolg&aacute;ltat&aacute;sok (&eacute;s SAF-TE)</programlisting>

    <para>SCSI-perif&eacute;ri&aacute;k.  Itt is &eacute;rv&eacute;nyes,
      hogy kivethetj&uuml;k azokat az eszk&ouml;z&ouml;ket, amelyekkel
      nem rendelkez&uuml;nk.  De ha csak IDE hardvereink vannak,
      teljesen elt&aacute;vol&iacute;thatjuk ezeket.</para>

    <note>
      <para>Annak ellen&eacute;re, hogy val&oacute;j&aacute;ban nem
	igazi SCSI-eszk&ouml;z&ouml;k, az USB-s &man.umass.4; &eacute;s
	m&eacute;g n&eacute;h&aacute;ny m&aacute;s egy&eacute;b
	meghajt&oacute; is haszn&aacute;lja a SCSI alrendszert.  Emiatt
	semmik&eacute;ppen se t&aacute;vol&iacute;tsuk el a SCSI
	t&aacute;mogat&aacute;st a rendszer&uuml;nk&#245;l abban az
	esetben, ha ilyen meghajt&oacute;kat is haszn&aacute;lni
	sz&aacute;nd&eacute;kozunk.</para>
    </note>

    <programlisting># a SCSI alrendszerhez kapcsol&oacute;d&oacute; RAID-vez&eacute;rl&#245;k
device          amr        # AMI MegaRAID
device          arcmsr     # Areca SATA II RAID
device          asr        # DPT SmartRAID V, VI &eacute;s Adaptec SCSI RAID
device          ciss       # Compaq Smart RAID 5*
device          dpt        # DPT Smartcache III, IV - l&aacute;sd a NOTES &aacute;llom&aacute;nyt
device          hptmv      # Highpoint RocketRAID 182x
device          rr232x     # Highpoint RocketRAID 232x
device          iir        # Intel Integrated RAID
device          ips        # IBM (Adaptec) ServeRAID
device          mly        # Mylex AcceleRAID/eXtremeRAID
device          twa        # 3ware 9000 series PATA/SATA RAID

# RAID vez&eacute;rl&#245;k
device          aac        # Adaptec FSA RAID
device          aacp       # SCSI &aacute;tereszt&#245; az aac-hez (kell hozz&aacute; a CAM)
device          ida        # Compaq Smart RAID
device          mfi        # LSI MegaRAID SAS
device          mlx        # Mylex DAC960 csal&aacute;d
device          pst        # Promise Supertrak SX6000
device          twe        # 3ware ATA RAID</programlisting>

    <para>Az ismert RAID-vez&eacute;rl&#245;k.  Ha
      k&ouml;z&uuml;l&uuml;k egyikkel sem rendelkez&uuml;nk,
      t&aacute;vol&iacute;tsuk el ezeket a
      konfigur&aacute;ci&oacute;b&oacute;l.</para>

    <programlisting># az atkbdc0 vez&eacute;rli a billenty&#251;zetet &eacute;s a PS/2-es egeret
device          atkbdc     # AT billenty&#251;zet vez&eacute;rl&#245;</programlisting>

    <para>A billenty&#251;zet vez&eacute;rl&#245;je
      (<literal>atkbdc</literal>) az AT-s billenty&#251;zet &eacute;s a
      PS/2 st&iacute;lus&uacute; poz&iacute;cion&aacute;l&oacute;
      eszk&ouml;z&ouml;k vez&eacute;rl&eacute;s&eacute;hez
      sz&uuml;ks&eacute;ges I/O szolg&aacute;ltat&aacute;sokat
      biztos&iacute;tja.  Erre a vez&eacute;rl&#245;re a
      billenty&#251;zet meghajt&oacute;j&aacute;nak
      (<literal>atkbd</literal>) &eacute;s a PS/2
      poz&iacute;cion&aacute;l&oacute; eszk&ouml;z&ouml;k
      eszk&ouml;zmeghajt&oacute;j&aacute;nak (<literal>psm</literal>) is
      sz&uuml;ks&eacute;ge van.</para>

    <programlisting>device          atkbd      # AT billenty&#251;zet</programlisting>

    <para>Az <literal>atkbd</literal> meghajt&oacute;, a
      <literal>atkbdc</literal> vez&eacute;rl&#245;vel egy&uuml;tt, adja
      a hozz&aacute;f&eacute;r&eacute;st az AT billenty&#251;zet
      vez&eacute;rl&#245;re csatlakoztatott AT 84 &eacute;s a fejlettebb
      AT billenty&#251;zetek fel&eacute;.</para>

    <programlisting>device          psm        # PS/2 eg&eacute;r</programlisting>

    <para>Haszn&aacute;ljuk ezt az eszk&ouml;zt, ha az eger&uuml;nk a
      PS/2 portra csatlakozik.</para>

    <programlisting>device          kbdmux        # billenty&#251;zet multiplexer</programlisting>

    <para>A billenty&#251;zet multiplexer alapszint&#251;
      t&aacute;mogat&aacute;sa.  Ha nem k&iacute;v&aacute;nunk a
      j&ouml;v&#245;ben egyn&eacute;l t&ouml;bb billenty&#251;zetet
      csatlakoztatni a rendszer&uuml;nkre, nyugodt sz&iacute;vvel
      kivehetj&uuml;k ezt a sort.</para>

    <programlisting>device          vga        # VGA videok&aacute;rtya meghajt&oacute;</programlisting>

    <para>Videok&aacute;rtya meghajt&oacute;.</para>

    <programlisting>
device          splash     # &uuml;dv&ouml;zl&#245;k&eacute;perny&#245;k &eacute;s k&eacute;perny&#245;k&iacute;m&eacute;l&#245;k t&aacute;mogat&aacute;sa</programlisting>

    <para>Nyissunk egy &uuml;dv&ouml;zl&#245;k&eacute;perny&#245;vel!  A
      k&eacute;perny&#245;k&iacute;m&eacute;l&#245;knek is
      sz&uuml;ks&eacute;ge van erre az eszk&ouml;zre.</para>

    <programlisting># a syscons az alap&eacute;rtelmezett konzolmeghajt&oacute;, hasonl&iacute;t a SCO konzolra
device          sc</programlisting>

    <para>Az <literal>sc</literal> az alap&eacute;rtelmezett
      meghajt&oacute; a konzolok sz&aacute;m&aacute;ra, &eacute;s sokban
      hasonl&iacute;t a SCO konzolra.  Mivel a legt&ouml;bb
      teljesk&eacute;perny&#245;s program a <filename>termcap</filename>
      termin&aacute;ladatb&aacute;zis k&ouml;nyvt&aacute;ron
      kereszt&uuml;l &eacute;ri el a konzolt, nem igaz&aacute;n
      sz&aacute;m&iacute;t, hogy ezt vagy a
      <literal>VT220</literal>-kompatibilis <literal>vt</literal>
      konzolmeghajt&oacute;t haszn&aacute;ljuk.  Ha b&aacute;rmilyen
      gondunk lenne a teljesk&eacute;perny&#245;s programok
      futtat&aacute;s&aacute;val ezen a konzolon, a
      bejelentkez&eacute;skor &aacute;ll&iacute;tsuk a
      <envar>TERM</envar> k&ouml;rnyezeti v&aacute;ltoz&oacute;nk a
      <literal>scoansi</literal> &eacute;rt&eacute;kre.</para>

    <programlisting># ezzel tudjuk enged&eacute;lyezni a pcvt (VT220-kompatibilis) konzolmeghajt&oacute;t
#device          vt
#options         XSERVER          # az X szerver t&aacute;mogat&aacute;sa vt konzolon
#options         FAT_CURSOR       # telt kurzor haszn&aacute;lata</programlisting>

    <para>Ez a VT220-kompatibilis konzolmeghajt&oacute;, amely
      visszafele kompatibilis a VT100/102-vel is.  Remek&uuml;l
      m&#251;k&ouml;dik olyan laptopokon, ahol a hardver nem
      haszn&aacute;lhat&oacute; az <literal>sc</literal> konzollal.  Itt
      ugyan&uacute;gy &eacute;rdemes egy&eacute;bk&eacute;nt a
      <literal>vt100</literal> &eacute;rt&eacute;kre vagy a
      <literal>vt220</literal> &eacute;rt&eacute;kre
      &aacute;ll&iacute;tani a <envar>TERM</envar> k&ouml;rnyezeti
      v&aacute;ltoz&oacute;nkat.  Hasznosnak bizonyulhat abban az
      esetben is, amikor h&aacute;l&oacute;zaton kereszt&uuml;l nagy
      mennyis&eacute;g&#251; &eacute;s elt&eacute;r&#245;
      t&iacute;pus&uacute; sz&aacute;m&iacute;t&oacute;g&eacute;pekhez
      csatlakozunk, &eacute;s ahol a <filename>termcap</filename>
      &eacute;s <filename>terminfo</filename> adatb&aacute;zisokban az
      <literal>sc</literal> bejegyz&eacute;sei gyakran nem is
      &eacute;rhet&#245;ek el &mdash; a <literal>vt100</literal> viszont
      virtu&aacute;lisan az &ouml;sszes platformon
      el&eacute;rhet&#245;.</para>

    <programlisting>device          agp</programlisting>

    <para>&Iacute;rjuk bele a konfigur&aacute;ci&oacute;ba, ha van AGP
      k&aacute;rtya a rendszer&uuml;nkben.  Ezzel
      enged&eacute;lyezz&uuml;k az AGP &eacute;s az AGP GART
      t&aacute;mogat&aacute;s&aacute;t az ezeket ismer&#245;
      k&aacute;rty&aacute;k sz&aacute;m&aacute;ra.</para>

    <indexterm><primary>APM</primary></indexterm>

    <programlisting># energiagazd&aacute;lkod&aacute;s t&aacute;mogat&aacute;sa (b&#245;vebben l&aacute;sd: NOTES)
#device          apm</programlisting>

    <para>A fejlett energiagazd&aacute;lkod&aacute;s
      t&aacute;mogat&aacute;sa.  Laptopok eset&eacute;n hasznos,
      hab&aacute;r ez alap&eacute;rtelmez&eacute;s szerint nincs
      enged&eacute;lyezve a <filename>GENERIC</filename>
      konfigur&aacute;ci&oacute;ban.</para>

    <programlisting># az i8254 k&eacute;szenl&eacute;ti m&oacute;dj&aacute;nak t&aacute;mogat&aacute;sa
device           pmtimer</programlisting>

    <para>Az energiagazd&aacute;lkod&aacute;si esem&eacute;nyek, mint
      p&eacute;ld&aacute;ul APM &eacute;s ACPI
      id&#245;z&iacute;t&#245;j&eacute;nek
      eszk&ouml;zmeghajt&oacute;ja.</para>

    <programlisting># PCCARD (PCMCIA) t&aacute;mogat&aacute;s
# PCMCIA &eacute;s cardbus t&aacute;mogat&aacute;s
device          cbb               # cardbus (yenta) bridge
device          pccard            # PC Card (16 bites) busz
device          cardbus           # CardBus (32 bites) busz</programlisting>

    <para>A PCMCIA t&aacute;mgot&aacute;sa.  Mindenk&eacute;ppen
      sz&uuml;ks&eacute;g&uuml;nk lesz r&aacute;, ha laptopunk
      van.</para>

    <programlisting># soros (COM) portok
device          sio               # 8250, 16[45]50 alap&uacute; soros portok</programlisting>

    <para>Ezek azok a soros portok, amelyek az &ms-dos;/&windows;
      vil&aacute;gban csak <devicename>COM</devicename>
      portokk&eacute;nt ismernek.</para>

    <note>
      <para>Ha van egy bels&#245; modem&uuml;nk a
	<devicename>COM4</devicename>-en &eacute;s egy soros portunk a
	<devicename>COM2</devicename>-n, a modem IRQ-j&aacute;t meg kell
	v&aacute;ltoztatnunk 2-re (valamilyen hom&aacute;lyos
	m&#251;szaki okt&oacute;l kifoly&oacute;lag a COM2 = IRQ9), hogy
	hozz&aacute; tudjunk f&eacute;rni &os;-b&#245;l.  Ha
	t&ouml;bbportos soros k&aacute;rty&aacute;nk lenne, lapozzuk fel
	a &man.sio.4; man oldal&aacute;t, &eacute;s ott hozz&aacute;
	megtal&aacute;ljuk a <filename>/boot/device.hints</filename>
	&aacute;llom&aacute;nyba &iacute;rand&oacute; megfelel&#245;
	&eacute;rt&eacute;keket.  Egyes videok&aacute;rty&aacute;k
	(k&uuml;l&ouml;n&ouml;sen az S3 chipekre
	&eacute;p&uuml;l&#245;k) az I/O c&iacute;meket
	<literal>0x*2e8</literal> alakban haszn&aacute;lj&aacute;k,
	&eacute;s mivel rengeteg olcs&oacute; soros k&aacute;rtya nem
	k&oacute;dolja vissza eg&eacute;sz&eacute;ben a 16 bites I/O
	c&iacute;mteret, &uuml;tk&ouml;zni fognak ezekkel a
	k&aacute;rty&aacute;kkal, &eacute;s ez&aacute;ltal a
	<devicename>COM4</devicename> port gyakorlatilag
	el&eacute;rhetetlenn&eacute; v&aacute;lik.</para>

      <para>Minden egyes soros portnak egyedi IRQ-ja kell legyen (hacsak
	nem haszn&aacute;lunk olyan t&ouml;bbportos
	k&aacute;rty&aacute;t, amely t&aacute;mogatja a megosztott
	megszak&iacute;t&aacute;sokat), ez&eacute;rt a
	<devicename>COM3</devicename> &eacute;s
	<devicename>COM4</devicename> eset&eacute;n
	alap&eacute;rtelmezett IRQ-k nem
	haszn&aacute;lhat&oacute;ak.</para>
    </note>

    <programlisting># p&aacute;rhuzamos port
device          ppc</programlisting>

    <para>Ez az ISA busz p&aacute;rhuzamos portj&aacute;nak
      fel&uuml;lete.</para>

    <programlisting>device          ppbus      # a p&aacute;rhuzamos port busza (kell)</programlisting>

    <para>A p&aacute;rhuzamos porthoz tartoz&oacute; busz
      t&aacute;mogat&aacute;sa.</para>

    <programlisting>device          lpt        # nyomtat&oacute;</programlisting>

    <para>A p&aacute;rhuzamos portra csatlakoz&oacute; nyomtat&oacute;k
      t&aacute;mogat&aacute;sa.</para>

    <note>
      <para>A fentiek k&ouml;z&uuml;l mind a h&aacute;rom
	sz&uuml;ks&eacute;ges a p&aacute;rhuzamos porton
	csatlakoz&oacute; nyomtat&oacute;k
	haszn&aacute;lat&aacute;hoz.</para>
    </note>

    <programlisting>device          plip       # TCP/IP p&aacute;rhuzamos porton kereszt&uuml;l</programlisting>

    <para>Ez a p&aacute;rhuzamos port h&aacute;l&oacute;zati
      fel&uuml;let&eacute;nek meghajt&oacute;ja.</para>

    <programlisting>device          ppi        # a p&aacute;rhuzamos port fel&uuml;let&eacute;nek eszk&ouml;ze</programlisting>

    <para>&Aacute;ltal&aacute;nos c&eacute;l&uacute; (<quote>geek
      port</quote>) &eacute;s IEEE1284 I/O.</para>

    <programlisting>#device         vpo        # az scbus &eacute;s a da kell a haszn&aacute;lat&aacute;hoz</programlisting>

    <indexterm><primary>zip meghajt&oacute;</primary></indexterm>

    <para>Ez az Iomega Zip meghajt&oacute;ihoz tartoz&oacute;
      eszk&ouml;z.  A m&#251;k&ouml;d&eacute;s&eacute;hez
      sz&uuml;ks&eacute;g van az <literal>scbus</literal> &eacute;s
      <literal>da</literal> enged&eacute;lyez&eacute;s&eacute;re.  A
      legjobb teljes&iacute;tm&eacute;nyt EPP 1.9 m&oacute;dban
      m&#251;k&ouml;d&#245; portokkal lehet kihozni bel&#245;le.</para>

    <programlisting>#device         puc</programlisting>

    <para>Tegy&uuml;k bele a konfigur&aacute;ci&oacute;ba ezt az
      eszk&ouml;zt, ha egy olyan <quote>buta</quote> soros vagy
      p&aacute;rhuzamos PCI k&aacute;rty&aacute;nk van, amelyet a
      &man.puc.4; seg&eacute;dmeghajt&oacute; ismer.</para>

    <programlisting># PCI Ethernet k&aacute;rty&aacute;k
device          de         # DEC/Intel DC21x4x (<quote>Tulip</quote>)
device          em         # Intel PRO/1000 Gigabit Ethernet k&aacute;rtya
device          ixgb       # Intel PRO/10GbE Ethernet k&aacute;rtya
device          txp        # 3Com 3cR990 (<quote>Typhoon</quote>)
device          vx         # 3Com 3c590, 3c595 (<quote>Vortex</quote>)</programlisting>

    <para>K&uuml;l&ouml;nf&eacute;le PCI h&aacute;l&oacute;zati
      k&aacute;rty&aacute;k meghajt&oacute;i.  Vegy&uuml;k ki azokat,
      amelyek nem tal&aacute;lhat&oacute;ak meg a
      rendszer&uuml;nkben.</para>

    <programlisting># PCI Ethernet k&aacute;rty&aacute;k, melyek az MII busz vez&eacute;rl&#245;k&oacute;dj&aacute;t haszn&aacute;lj&aacute;k
# FIGYELEM: Ne t&ouml;r&ouml;lj&uuml;k ki a 'device miibus' sort, ha ilyen k&aacute;rty&aacute;nk van!
device          miibus     # az MII busz t&aacute;mogat&aacute;sa</programlisting>

    <para>Az MII busz enged&eacute;lyez&eacute;se elengedhetetlen
      bizonyos 10/100-as PCI Ethernet k&aacute;rty&aacute;k
      haszn&aacute;lat&aacute;hoz, konkr&eacute;tan azok&eacute;hoz,
      amelyek az MII-vel egy&uuml;ttm&#251;k&ouml;dni k&eacute;pes
      ad&oacute;-vev&#245;t haszn&aacute;lnak vagy az MII-h&ouml;z
      hasonl&oacute; ad&oacute;-vev&#245; vez&eacute;rl&#245;
      fel&uuml;letet val&oacute;s&iacute;tanak meg.  A <literal>device
      miibus</literal> hozz&aacute;ad&aacute;sa a rendszermaghoz
      mag&aacute;val vonja az &aacute;ltal&aacute;nos miibus API
      &eacute;s az &ouml;sszes PHY meghajt&oacute;
      t&aacute;mogat&aacute;s&aacute;t, bele&eacute;rtve azt az
      &aacute;ltal&aacute;nos PHY eszk&ouml;zt is, amelyet az egyes
      eszk&ouml;zmeghajt&oacute;k k&uuml;l&ouml;n nem
      t&aacute;mogatnak.</para>

    <programlisting>device          bce        # Broadcom BCM5706/BCM5708 Gigabit Ethernet
device          bfe        # Broadcom BCM440x 10/100 Ethernet
device          bge        # Broadcom BCM570xx Gigabit Ethernet
device          dc         # DEC/Intel 21143 &eacute;s egy&eacute;b hasonl&oacute;ak
device          fxp        # Intel EtherExpress PRO/100B (82557, 82558)
device          lge        # Level 1 LXT1001 gigabit ethernet
device          msk        # Marvell/SysKonnect Yukon II Gigabit Ethernet
device          nge        # NatSemi DP83820 gigabit ethernet
device          nve        # nVidia nForce MCP integr&aacute;lt Ethernet h&aacute;l&oacute;zat
device          pcn        # AMD Am79C97x PCI 10/100 (az 'lnc' el&#245;tt)
device          re         # RealTek 8139C+/8169/8169S/8110S
device          rl         # RealTek 8129/8139
device          sf         # Adaptec AIC-6915 (<quote>Starfire</quote>)
device          sis        # Silicon Integrated Systems SiS 900/SiS 7016
device          sk         # SysKonnect SK-984x &amp; SK-982x gigabit Ethernet
device          ste        # Sundance ST201 (D-Link DFE-550TX)
device          stge       # Sundance/Tamarack TC9021 gigabit Ethernet
device          ti         # Alteon Networks Tigon I/II gigabit Ethernet
device          tl         # Texas Instruments ThunderLAN
device          tx         # SMC EtherPower II (83c170 <quote>EPIC</quote>)
device          vge        # VIA VT612x gigabit ethernet
device          vr         # VIA Rhine, Rhine II
device          wb         # Winbond W89C840F
device          xl         # 3Com 3c90x (<quote>Boomerang</quote>, <quote>Cyclone</quote>)</programlisting>

    <para>Meghajt&oacute;k, melyek az MII busz
      vez&eacute;rl&#245;k&oacute;dj&aacute;t
      haszn&aacute;lj&aacute;k.</para>

    <programlisting># ISA Ethernet &eacute;s pccard h&aacute;l&oacute;zati k&aacute;rty&aacute;k.
device          cs         # Crystal Semiconductor CS89x0 NIC
# az 'device ed' eszk&ouml;zh&ouml;z kell a 'device miibus'
device          ed         # NE[12]000, SMC Ultra, 3c503, DS8390 cards
device          ex         # Intel EtherExpress Pro/10 &eacute;s Pro/10+
device          ep         # Etherlink III alap&uacute; k&aacute;rty&aacute;k
device          fe         # Fujitsu MB8696x alap&uacute; k&aacute;rty&aacute;k
device          ie         # EtherExpress 8/16, 3C507, StarLAN 10 stb.
device          lnc        # NE2100, NE32-VL Lance Ethernet k&aacute;rty&aacute;k
device          sn         # az SMC 9000-res sorozat&uacute; Ethernet chipjei
device          xe         # Xircom pccard Ethernet

# ISA eszk&ouml;z&ouml;k, melyek a r&eacute;gi ISA bet&eacute;tet haszn&aacute;lj&aacute;k
#device         le</programlisting>

    <para>ISA Ethernet meghajt&oacute;k.  A konkr&eacute;tan
      t&aacute;mogatott k&aacute;rty&aacute;k teljes
      felsorol&aacute;s&aacute;t l&aacute;sd a
      <filename>/usr/src/sys/<replaceable>i386</replaceable>/conf/NOTES</filename>
      &aacute;llom&aacute;nyban.</para>

    <programlisting># vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k
device          wlan            # 802.11 t&aacute;mogat&aacute;s</programlisting>

    <para>&Aacute;ltal&aacute;nos 802.11 t&aacute;mogat&aacute;s.  Erre
      a sorra mindenk&eacute;ppen sz&uuml;ks&eacute;g van a
      vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zatok
      haszn&aacute;lat&aacute;hoz.</para>

    <programlisting>device          wlan_wep        # 802.11 WEP t&aacute;mogat&aacute;s
device          wlan_ccmp       # 802.11 CCMP t&aacute;mogat&aacute;s
device          wlan_tkip       # 802.11 TKIP t&aacute;mogat&aacute;s</programlisting>

    <para>A 802.11 eszk&ouml;z&ouml;k eset&eacute;n a
      titkos&iacute;t&aacute;s t&aacute;mogat&aacute;sa.  Ezeket a
      sorokat akkor adjuk meg, ha titkos&iacute;t&aacute;st akarunk
      haszn&aacute;lni vagy a 802.11i biztons&aacute;gi
      protokolljait.</para>

    <programlisting>device          an         # Aironet 4500/4800 802.11 vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k
device          ath             # Atheros pci/cardbus h&aacute;l&oacute;zati k&aacute;rty&aacute;k
device          ath_hal         # Atheros HAL (Hardware Access Layer)
device          ath_rate_sample # k&uuml;ld&eacute;si mintav&eacute;teli vez&eacute;rl&eacute;s az ath-hoz
device          awi        # BayStack 660 &eacute;s m&aacute;sok
device          ral        # Ralink Technology RT2500 vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k
device          wi         # WaveLAN/Intersil/Symbol 802.11 vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k
#device         wl         # r&eacute;gebbi, nem 802.11 Wavelan vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k</programlisting>

    <para>A k&uuml;l&ouml;nb&ouml;z&#245; vezet&eacute;k
      n&eacute;lk&uuml;li k&aacute;rty&aacute;k
      t&aacute;mogat&aacute;sa.</para>

    <programlisting># Pszeudo eszk&ouml;z&ouml;k
device   loop          # h&aacute;l&oacute;zati loopback</programlisting>

    <para>Ez a TCP/IP &aacute;ltal&aacute;nos loopback eszk&ouml;ze.  Ha
      telnettel vagy FTP-vel r&aacute;csatlakozunk a
      <hostid>localhost</hostid> c&iacute;m&eacute;re (vagyis a <hostid
      role="ipaddr">127.0.0.1</hostid>-re), akkor rajta kereszt&uuml;l
      saj&aacute;t magunkhoz jutunk vissza.  Ennek a megl&eacute;te
      <emphasis>k&ouml;telez&#245;</emphasis>!</para>

    <programlisting>device   random        # &aacute;lv&eacute;letlensz&aacute;m eszk&ouml;z</programlisting>

    <para>Kriptogr&aacute;fiai szempontb&oacute;l biztons&aacute;gos
      &aacute;lv&eacute;letlensz&aacute;m gener&aacute;tor.</para>

    <programlisting>device   ether         # Ethernet t&aacute;mogat&aacute;s</programlisting>

    <para>Az <literal>ether</literal> eszk&ouml;zre csak abban az
      esetben van sz&uuml;ks&eacute;g, ha Ethernet k&aacute;rty&aacute;n
      van.  Ez mag&aacute;ban foglalja az &aacute;ltal&aacute;nos
      Ethernet protokoll k&oacute;dj&aacute;t.</para>

    <programlisting>device   sl            # bels&#245; SLIP</programlisting>

    <para>Az <literal>sl</literal> a SLIP haszn&aacute;lat&aacute;t
      enged&eacute;lyezi.  Ez egy r&eacute;gi protokoll, amelyet
      az&oacute;ta m&aacute;r szinte teljesen kiszor&iacute;tott a PPP,
      mivel azt k&ouml;nnyebb be&aacute;ll&iacute;tani &eacute;s sokkal
      jobban is illik a modem-modem kapcsolatokhoz, illetve sokkal
      er&#245;teljesebb.</para>

    <programlisting>device   ppp           # bels&#245; PPP</programlisting>

    <para>Ez a t&aacute;rcs&aacute;z&oacute;s kapcsolatok rendszermagon
      bel&uuml;li PPP t&aacute;mogat&aacute;s&aacute;t adja meg.  Van a
      PPP-nek egy k&uuml;ls&#245;, a felhaszn&aacute;l&oacute;i
      programk&eacute;nt megval&oacute;s&iacute;tott v&aacute;ltozata
      is, amely a <literal>tun</literal> eszk&ouml;zt haszn&aacute;lja
      &eacute;s sokkal nagyobb rugalmass&aacute;got k&iacute;n&aacute;l
      fel, illetve olyan lehet&#245;s&eacute;geket, mint
      p&eacute;ld&aacute;ul az ig&eacute;ny szerinti
      t&aacute;rcs&aacute;z&aacute;s.</para>

    <programlisting>device   tun           # csomag alag&uacute;t</programlisting>

    <para>Ezt a felhaszn&aacute;l&oacute;i PPP szoftver
      haszn&aacute;lja.  A k&ouml;nyv <link
      linkend="userppp">PPP</link>-r&#245;l sz&oacute;l&oacute;
      r&eacute;sz&eacute;ben t&ouml;bbet is megtudhatunk
      r&oacute;la.</para>

    <programlisting><anchor id="kernelconfig-ptys">
device   pty           # Pszeudo termin&aacute;lok (telnet stb.)</programlisting>

    <para>Ezek a <quote>pszeudo termin&aacute;lok</quote> vagy
      m&aacute;s n&eacute;ven szimul&aacute;lt bejelentkez&eacute;si
      portok.  A bej&ouml;v&#245; <command>telnet</command> &eacute;s
      <command>rlogin</command> munkamenetek haszn&aacute;lj&aacute;k,
      valamint az <application>xterm</application> &eacute;s a
      hozz&aacute; hasonl&oacute; alkalmaz&aacute;sok, mint
      p&eacute;ld&aacute;ul az <application>Emacs</application>.</para>

    <programlisting>device   md            # <quote>mem&oacute;rialemezek</quote></programlisting>

    <para>A mem&oacute;ri&aacute;ban lev&#245; pszeudo lemezes
      meghajt&oacute;k.</para>

    <programlisting>device   gif           # IPv6 &eacute;s IPv4 tunnelek haszn&aacute;lata</programlisting>

    <para>Megval&oacute;s&iacute;tja az IPv6 IPv4 feletti, az IPv4 IPv6
      feletti, az IPv4 IPv4 feletti &eacute;s az IPv6 IPv6 feletti
      k&ouml;zvet&iacute;t&eacute;s&eacute;t.  A <literal>gif</literal>
      eszk&ouml;z <quote>mag&aacute;t&oacute;l
      m&aacute;sol&oacute;dik</quote>, vagyis sz&uuml;ks&eacute;g
      szerint hozza l&eacute;tre a megfelel&#245;
      eszk&ouml;zle&iacute;r&oacute;kat.</para>

    <programlisting>device   faith         # IPv6-IPv4 k&ouml;zti tov&aacute;bb&iacute;t&aacute;s (ford&iacute;t&aacute;s)</programlisting>

    <para>Ez a pszeudo eszk&ouml;z elfogja a hozz&aacute;
      k&uuml;ld&ouml;tt csomagokat &eacute;s &aacute;tadja ezeket az
      IPv4/IPv6 ford&iacute;t&aacute;ssal foglalkoz&oacute;
      d&eacute;monnak.</para>

    <programlisting># a `bpf' eszk&ouml;z haszn&aacute;lat&aacute;val a Berkeley csomagsz&#251;r&#245;t (Berkeley Packet Filter) enged&eacute;lyezz&uuml;k
# Legy&uuml;nk r&aacute; tekintettel, hogy ennek komoly k&ouml;vetkezm&eacute;nyei lehetnek
# rendszeradminisztr&aacute;ci&oacute;s szempontb&oacute;l!
# A 'bpf'-re sz&uuml;ks&eacute;g van a DHCP-hez.
device   bpf           # Berkeley csomagsz&#251;r&#245;</programlisting>

    <para>A Berkeley csomagsz&#251;r&#245;je.  Ez egy olyan pszeudo
      eszk&ouml;z, amely lehet&#245;v&eacute; teszi, hogy a
      h&aacute;l&oacute;zati csatol&oacute;k forgalm&aacute;t
      megfigyelj&uuml;k, mivel a (pl.  Ethernet)
      h&aacute;l&oacute;zatunkon minden csomagot elkap.  Ezek a csomagok
      lemezre is menthet&#245;ek vagy kielemezhet&#245;ek a
      &man.tcpdump.1; program seg&iacute;ts&eacute;g&eacute;vel.</para>

    <note>
      <para>A &man.bpf.4; eszk&ouml;zt a &man.dhclient.8; is
	haszn&aacute;lja t&ouml;bbek k&ouml;zt az alap&eacute;rtelmezett
	&aacute;tj&aacute;r&oacute; IP-c&iacute;m&eacute;nek
	megszerz&eacute;s&eacute;hez.  Ha DHCP-t akarunk
	haszn&aacute;lni, hagyjuk &iacute;gy.</para>
    </note>

    <programlisting># USB t&aacute;mogat&aacute;s
device          uhci          # UHCI PCI-&gt;USB fel&uuml;let
device          ohci          # OHCI PCI-&gt;USB fel&uuml;let
device          ehci          # EHCI PCI-&gt;USB fel&uuml;let (USB 2.0)
device          usb           # USB busz (kell)
#device         udbp          # USB Double Bulk Pipe eszk&ouml;z&ouml;k
device          ugen          # &aacute;ltal&aacute;nos
device          uhid          # <quote>Human Interface Devices</quote>
device          ukbd          # billenty&#251;zet
device          ulpt          # nyomtat&oacute;
device          umass         # lemez/h&aacute;tt&eacute;rt&aacute;rol&oacute; - kell hozz&aacute; az scbus &eacute;s a da
device          ums           # eg&eacute;r
device          ural          # Ralink Technology RT2500USB vezet&eacute;k n&eacute;lk&uuml;li h&aacute;l&oacute;zati k&aacute;rty&aacute;k
device          urio          # Diamond Rio 500 MP3 lej&aacute;tsz&oacute;
device          uscanner      # lapolvas&oacute;k
# USB Ethernet, kell hozz&aacute; az mii
device          aue           # ADMtek USB Ethernet
device          axe           # ASIX Electronics USB Ethernet
device          cdce          # &aacute;ltal&aacute;nos USB, Etherneten kereszt&uuml;l
device          cue           # CATC USB Ethernet
device          kue           # Kawasaki LSI USB Ethernet
device          rue           # RealTek RTL8150 USB Ethernet</programlisting>

    <para>A k&uuml;l&ouml;nf&eacute;le USB eszk&ouml;z&ouml;k
      t&aacute;mogat&aacute;sa.</para>

    <programlisting># FireWire t&aacute;mogat&aacute;s
device          firewire      # FireWire buszk&oacute;d
device          sbp           # SCSI FireWire-&ouml;n kereszt&uuml;l (kell hozz&aacute; az scbus &eacute;s a da)
device          fwe           # Ethernet FireWire-&ouml;n kereszt&uuml;l (nem szabv&aacute;nyos!)</programlisting>

    <para>A k&uuml;l&ouml;nf&eacute;le Firewire eszk&ouml;z&ouml;k
      t&aacute;mogat&aacute;sa.</para>

    <para>A &os; &aacute;ltal ismert tov&aacute;bbi
      eszk&ouml;z&ouml;kr&#245;l a
      <filename>/usr/src/sys/<replaceable>i386</replaceable>/conf/NOTES</filename>
      &aacute;llom&aacute;nyb&oacute;l
      t&aacute;j&eacute;koz&oacute;dhatunk.</para>

      <sect2>
	<title>Sok mem&oacute;ria kezel&eacute;se
	  (<acronym>PAE</acronym>)</title>

	<indexterm>
	  <primary>Fizikai c&iacute;mkiterjeszt&eacute;s
	    (<acronym>PAE</acronym>)</primary>
	  <secondary>sok mem&oacute;ria</secondary>
	</indexterm>

	<para>A sok mem&oacute;ri&aacute;val rendelkez&#245;
	  sz&aacute;m&iacute;t&oacute;g&eacute;pek eset&eacute;n
	  sz&uuml;ks&eacute;g lehet a felhaszn&aacute;l&oacute;i
	  &eacute;s rendszerszint&#251; virtu&aacute;lis c&iacute;mek
	  (Kernel Virtual Address, <acronym>KVA</acronym>) 4 gigabyte
	  feletti haszn&aacute;lat&aacute;ra.  Ennek a
	  korl&aacute;toz&aacute;snak a
	  kik&uuml;sz&ouml;b&ouml;l&eacute;s&eacute;re az &intel;
	  k&uuml;l&ouml;n t&aacute;mogat&aacute;st &eacute;p&iacute;tett
	  be a &pentium; Pro &eacute;s az azt k&ouml;vet&#245;
	  processzorok 36 bites fizikai c&iacute;mz&eacute;s&eacute;nek
	  kialak&iacute;t&aacute;s&aacute;hoz.</para>

	<para>A Fizikai C&iacute;mkiterjeszt&eacute;s (Physical Address
	  Extension, <acronym>PAE</acronym>) az &intel; &pentium; Pro
	  &eacute;s k&eacute;s&#245;bbi processzoraiban
	  tal&aacute;lhat&oacute; meg, &eacute;s lehet&#245;v&eacute;
	  teszi eg&eacute;szen 64 gigabyte-ig a
	  mem&oacute;riahaszn&aacute;latot.  A &os; is t&aacute;mogatja
	  ezt a tulajdons&aacute;got a <option>PAE</option> rendszermag
	  be&aacute;ll&iacute;t&aacute;s haszn&aacute;lat&aacute;val,
	  &eacute;s megtal&aacute;lhat&oacute; a &os; &ouml;sszes
	  jelenlegi verzi&oacute;j&aacute;ban.  Az &intel;
	  architekt&uacute;r&aacute;j&uacute; processzorok
	  mem&oacute;riaszervez&eacute;s&eacute;nek korl&aacute;tai
	  miatt nem k&uuml;l&ouml;nb&ouml;ztethet&#245; meg a 4 gigabyte
	  alatti &eacute;s feletti mem&oacute;ria.  A 4 gigabyte felett
	  tal&aacute;lhat&oacute; mem&oacute;riater&uuml;letek
	  egyszer&#251;en hozz&aacute;ad&oacute;dnak a
	  rendelkez&eacute;sre &aacute;ll&oacute;
	  mem&oacute;ri&aacute;hoz.</para>

	<para>A rendszermagban a <acronym>PAE</acronym>
	  t&aacute;mogat&aacute;s&aacute;t egyszer&#251;en az
	  al&aacute;bbi sor seg&iacute;ts&eacute;g&eacute;vel
	  hozz&aacute;ad&aacute;s&aacute;val tudjuk
	  enged&eacute;lyezni:</para>

	<programlisting>options          PAE</programlisting>

	<note>
	  <para>A &os;-ben a <acronym>PAE</acronym>
	    t&aacute;mogat&aacute;sa csak az &intel; IA-32
	    architekt&uacute;r&aacute;j&uacute; processzoraihoz
	    &eacute;rhet&#245; el.  Emellett meg kell
	    eml&iacute;ten&uuml;nk, hogy a &os;-ben
	    tal&aacute;lhat&oacute; <acronym>PAE</acronym>
	    t&aacute;mogat&aacute;s nem lett sz&eacute;lesebb
	    k&ouml;rben pr&oacute;b&aacute;ra t&eacute;ve, ez&eacute;rt
	    a &os; t&ouml;bbi megb&iacute;zhat&oacute; elemeihez
	    k&eacute;pest csak b&eacute;ta &aacute;llapot&uacute;nak
	    tekinthet&#245;.</para>
	</note>

	<para>A &os; <acronym>PAE</acronym>
	  t&aacute;mogat&aacute;s&aacute;nak van n&eacute;h&aacute;ny
	  hi&aacute;nyoss&aacute;ga:</para>

	<itemizedlist>
	  <listitem>
	    <para>Egy fut&oacute; program a virtu&aacute;lis
	      mem&oacute;ri&aacute;ban nem k&eacute;pes 4
	      gigabyte-n&aacute;l t&ouml;bbet el&eacute;rni.</para>
	  </listitem>

	  <listitem>
	    <para>A &man.bus.dma.9; fel&uuml;letet nem
	      haszn&aacute;l&oacute; eszk&ouml;zmeghajt&oacute;k
	      adathib&aacute;kat okozhatnak a <acronym>PAE</acronym>-t
	      t&aacute;mogat&oacute; rendszermagokban, &eacute;s emiatt
	      nem aj&aacute;nljuk a haszn&aacute;latukat.  Ebb&#245;l a
	      megfontol&aacute;sb&oacute;l
	      k&eacute;sz&iacute;tett&uuml;nk egy
	      <filename>PAE</filename> nev&#251;
	      konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyt a
	      &os;-hez, amelyben nem szerepel egyetlen olyan
	      meghajt&oacute; sem, amely ismereteink szerint nem
	      m&#251;k&ouml;dik egy&uuml;tt a <acronym>PAE</acronym>-t
	      t&aacute;mogat&oacute; rendszermagokkal.</para>
	  </listitem>

	  <listitem>
	    <para>Bizonyos finomhangol&aacute;si
	      be&aacute;ll&iacute;t&aacute;sok a
	      mem&oacute;riahaszn&aacute;latot a rendelkez&eacute;sre
	      &aacute;ll&oacute; fizikai mem&oacute;ria
	      mennyis&eacute;g&eacute;b&#245;l
	      sz&aacute;m&iacute;tj&aacute;k ki.  A
	      <acronym>PAE</acronym> t&aacute;mogat&aacute;ssal
	      m&#251;k&ouml;d&#245; rendszerek eset&eacute;ben
	      megjelen&#245; sok mem&oacute;ria miatt azonban az ilyen
	      eszk&ouml;z&ouml;k sz&uuml;ks&eacute;gtelen&uuml;l
	      t&ouml;bb ter&uuml;letet foglalhatnak le.  Erre
	      p&eacute;lda lehet a <option>kern.maxvnodes</option>
	      sysctl v&aacute;ltoz&oacute;, amely a rendszermag
	      &aacute;ltal maxim&aacute;lisan
	      felhaszn&aacute;lhat&oacute; virtu&aacute;lis
	      csom&oacute;pontok sz&aacute;m&aacute;t korl&aacute;tozza.
	      Aj&aacute;nlott teh&aacute;t az ilyen &eacute;s ehhez
	      hasonl&oacute; be&aacute;ll&iacute;t&aacute;sok
	      &eacute;rtelmes &eacute;rt&eacute;kre
	      t&ouml;rt&eacute;n&#245;
	      vissza&aacute;ll&iacute;t&aacute;sa.</para>
	  </listitem>

	  <listitem>
	    <para>Sz&uuml;ks&eacute;ges lehet a rendszermag
	      virtu&aacute;lis c&iacute;mter&eacute;nek
	      (<acronym>KVA</acronym>) n&ouml;vel&eacute;se vagy a
	      rendszermag &aacute;ltal t&uacute;ls&aacute;gosan nagy
	      m&eacute;ret&#251;re foglalt c&iacute;mter&#251;
	      k&uuml;l&ouml;nf&eacute;le er&#245;forr&aacute;sok
	      (l&aacute;sd fentebb) cs&ouml;kkent&eacute;se a
	      <acronym>KVA</acronym> kifogy&aacute;s&aacute;nak
	      elker&uuml;l&eacute;s&eacute;re.  A <acronym>KVA</acronym>
	      ter&uuml;let&eacute;nek n&ouml;vel&eacute;s&eacute;t a
	      <option>KVA_PAGES</option>
	      be&aacute;ll&iacute;t&aacute;s&aacute;val tehetj&uuml;k
	      meg.</para>
	  </listitem>
	</itemizedlist>

	<para>Ha gondjaink lenn&eacute;nek a
	  teljes&iacute;tm&eacute;nnyel vagy a
	  megb&iacute;zhat&oacute;s&aacute;ggal, keress&uuml;k fel a
	  &man.tuning.7; man oldalt.  A &man.pae.4; man oldalon pedig a
	  &os; <acronym>PAE</acronym>
	  t&aacute;mogat&aacute;s&aacute;r&oacute;l tal&aacute;lhatunk
	  naprak&eacute;sz inform&aacute;ci&oacute;kat.</para>

    </sect2>
  </sect1>

  <sect1 id="kernelconfig-trouble">
    <title>Ha valamilyen hiba t&ouml;rt&eacute;nne</title>

    <para>N&eacute;gyf&eacute;le probl&eacute;ma jelentkezhet egy
      saj&aacute;t rendszermag k&eacute;sz&iacute;t&eacute;se
      sor&aacute;n.  Ezek:</para>

    <variablelist>
      <varlistentry>
	<term>A <command>config</command> hib&aacute;t jelez:</term>

	<listitem>
	  <para>Amikor a &man.config.8; parancs hib&aacute;t jelez
	    vissza a rendszermagunk konfigur&aacute;ci&oacute;s
	    be&aacute;ll&iacute;t&aacute;sainak feldolgoz&aacute;sa
	    sor&aacute;n, akkor minden bizonnyal csak egy apr&oacute;
	    hib&aacute;t v&eacute;tett&uuml;nk valahol.
	    Szerencs&eacute;re a &man.config.8; ki&iacute;rja a
	    hib&aacute;s sor sz&aacute;m&aacute;t, ez&eacute;rt gyorsan
	    fel tudjuk kutatni a hib&aacute;t tartalmaz&oacute; sort.
	    P&eacute;ld&aacute;ul, ha ezt l&aacute;tjuk:</para>

	  <screen>config: line 17: syntax error</screen>

	  <para>Akkor gy&#245;z&ouml;dj&uuml;nk meg r&oacute;la, hogy
	    helyesen &iacute;rtuk be az adott sorban szerepl&#245;
	    kulcssz&oacute;t.  Ebben seg&iacute;ts&eacute;g&uuml;nkre
	    lehet, ha &ouml;sszevetj&uuml;k a
	    <filename>GENERIC</filename> konfigur&aacute;ci&oacute;s
	    &aacute;llom&aacute;nnyal vagy m&aacute;s
	    hivatkoz&aacute;sokkal.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>A <command>make</command> hib&aacute;t jelez:</term>

	<listitem>
	  <para>Ha a <command>make</command> jelez hib&aacute;t, az
	    &aacute;ltal&aacute;ban arra utal, hogy az &aacute;ltalunk
	    kor&aacute;bban megadott rendszermag
	    konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyt a
	    &man.config.8; nem &eacute;rtette meg rendesen.  Megint azt
	    tudjuk csak javasolni, hogy n&eacute;zz&uuml;k &aacute;t a
	    konfigur&aacute;ci&oacute;s
	    be&aacute;ll&iacute;t&aacute;sainkat, &eacute;s ha
	    ezut&aacute;n sem siker&uuml;l megoldani a
	    probl&eacute;m&aacute;t, akkor mell&eacute;kelj&uuml;k egy
	    lev&eacute;lben a rendszermagunk konfigur&aacute;ci&oacute;s
	    be&aacute;ll&iacute;t&aacute;sait &eacute;s
	    k&uuml;ldj&uuml;k el a &a.questions; c&iacute;m&eacute;re,
	    ahol a hozz&aacute;&eacute;rt&#245;k gyorsan
	    &aacute;tn&eacute;zik.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>A rendszermag nem indul:<anchor
	  id="kernelconfig-noboot"></term>

	<listitem>
	  <para>Ha az &uacute;j rendszermagunk nem indul vagy nem
	    k&eacute;pes felismerni az eszk&ouml;zeinket, ne ess&uuml;nk
	    k&eacute;ts&eacute;gbe!  Szerencs&eacute;re a &os;
	    t&ouml;k&eacute;letes megold&aacute;ssal tud
	    szolg&aacute;lni az &ouml;sszef&eacute;rhetetlen
	    rendszermagok eset&eacute;re: a &os;
	    rendszerbet&ouml;lt&#245;j&eacute;ben egyszer&#251;en
	    v&aacute;lasszuk ki az ind&iacute;tand&oacute;
	    rendszermagot.  Ezt akkor tudjuk el&#245;h&iacute;vni,
	    amikor a rendszerind&iacute;t&oacute; men&uuml; megjelenik.
	    V&aacute;lasszuk ki a hatos, vagyis az <quote>Escape to a
	    loader prompt</quote> (a bet&ouml;lt&#245;
	    parancssor&aacute;nak el&#245;h&iacute;v&aacute;sa)
	    men&uuml;pontot.  Mikor megjelenik a parancssor,
	    &iacute;rjuk be, hogy <command>unload kernel</command>, majd
	    adjuk ki a <command>boot
	    /boot/<replaceable>kernel.old</replaceable>/kernel</command>,
	    parancsot, amiben b&aacute;rmilyen m&aacute;s olyan
	    rendszermagot is megnevezhet&uuml;nk, ami kor&aacute;bban
	    m&aacute;r m&#251;k&ouml;d&ouml;tt.  Ez&eacute;rt amikor
	    be&aacute;ll&iacute;tunk egy &uacute;j rendszermagot, mindig
	    &eacute;rdemes a kez&uuml;nk &uuml;gy&eacute;ben tartani
	    legal&aacute;bb egy olyan rendszermagot, amely
	    m&#251;k&ouml;dik.</para>

	  <para>Miut&aacute;n siker&uuml;lt elind&iacute;tanunk az egyik
	    haszn&aacute;lhat&oacute; rendszermagot, n&eacute;zz&uuml;k
	    &aacute;t m&eacute;g egyszer a konfigur&aacute;ci&oacute;s
	    &aacute;llom&aacute;nyt &eacute;s pr&oacute;b&aacute;ljuk
	    &uacute;jra leford&iacute;tani a rendszermagot.  A
	    probl&eacute;ma megold&aacute;s&aacute;t seg&iacute;theti a
	    <filename>/var/log/messages</filename>
	    &aacute;llom&aacute;ny &aacute;ttanulm&aacute;nyoz&aacute;sa
	    is, ami t&ouml;bbek k&ouml;zt r&ouml;gz&iacute;ti a
	    rendszermag sikeres indul&aacute;sa sor&aacute;n
	    keletkez&#245; &uuml;zeneteket.  Ezenk&iacute;v&uuml;l a
	    &man.dmesg.8; parancs is meg tudja jelen&iacute;teni az
	    aktu&aacute;lis rendszerind&iacute;t&aacute;s
	    &uuml;zeneteit.</para>

	  <note>
	    <para>Ha gondok mer&uuml;ln&eacute;nek fel a rendszermag
	      elk&eacute;sz&iacute;t&eacute;se sor&aacute;n,
	      mindenk&eacute;ppen tartsuk meg a
	      <filename>GENERIC</filename>, vagy b&aacute;rmilyen
	      m&aacute;sik olyan rendszermagot, amelyr&#245;l tudjuk,
	      hogy m&#251;k&ouml;dik.  Nevezz&uuml;k &aacute;t,
	      &iacute;gy nem fog fel&uuml;l&iacute;r&oacute;dni a
	      k&ouml;vetkez&#245; ford&iacute;t&aacute;s &eacute;s
	      telep&iacute;t&eacute;s sor&aacute;n.  A
	      <filename>kernel.old</filename> &aacute;llom&aacute;nyra
	      ugyanis nem minden esetben sz&aacute;m&iacute;thatunk,
	      mivel az &uacute;j rendszermagok
	      telep&iacute;t&eacute;s&eacute;n&eacute;l a
	      <filename>kernel.old</filename> mindig
	      fel&uuml;l&iacute;r&oacute;dik a legut&oacute;bb
	      telep&iacute;tett rendszermaggal, amely azonban nem
	      felt&eacute;tlen&uuml;l lesz
	      m&#251;k&ouml;d&#245;k&eacute;pes.  S&#245;t, amint csak
	      lehets&eacute;ges, rakjuk a m&#251;k&ouml;d&#245;
	      rendszermagot a <filename
	      class="directory">/boot/kernel</filename>
	      k&ouml;nyvt&aacute;rba vagy k&uuml;l&ouml;nben a
	      &man.ps.1; &eacute;s a hozz&aacute; hasonl&oacute;
	      parancsok nem fognak rendesen m&#251;k&ouml;dni.  Mindezek
	      elv&eacute;gz&eacute;s&eacute;hez egyszer&#251;en
	      nevezz&uuml;k &aacute;t a j&oacute; rendszermagot
	      tartalmaz&oacute; k&ouml;nyvt&aacute;rt:</para>

	    <screen>&prompt.root; <userinput>mv /boot/kernel <replaceable>/boot/kernel.rossz</replaceable></userinput>
&prompt.root; <userinput>mv /boot/<replaceable>kernel.j&oacute;</replaceable> /boot/kernel</userinput></screen>

	  </note>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>A rendszermag m&#251;k&ouml;dik, de a &man.ps.1; viszont
	  nem:</term>

	<listitem>
	  <para>Ha olyan rendszermagot telep&iacute;tett&uuml;nk, aminek
	    a verzi&oacute;ja nem egyezik meg a
	    hozz&aacute;tartoz&oacute; seg&eacute;dprogramok&eacute;val,
	    teh&aacute;t p&eacute;ld&aacute;ul -CURRENT rendszermagot
	    raktunk egy -RELEASE rendszerhez, egyes
	    rendszer&aacute;llapotjelz&#245; parancsok, mint
	    p&eacute;ld&aacute;ul a &man.ps.1; vagy a &man.vmstat.8; nem
	    fognak m&#251;k&ouml;dni.  Ebben az esetben <link
	    linkend="makeworld">az eg&eacute;sz rendszert &uacute;jra
	    kell ford&iacute;tanunk &eacute;s
	    telep&iacute;ten&uuml;nk</link> a rendszermagunkkal
	    megegyez&#245; verzi&oacute;j&uacute;
	    forr&aacute;sb&oacute;l.  R&eacute;szben ez&eacute;rt sem
	    k&uuml;l&ouml;n&ouml;sen aj&aacute;nlott, hogy az
	    oper&aacute;ci&oacute;s rendszer t&ouml;bbi
	    r&eacute;sz&eacute;t&#245;l elt&eacute;r&#245;
	    verzi&oacute;j&uacute; rendszermagot
	    haszn&aacute;ljunk.</para>
	</listitem>
      </varlistentry>
    </variablelist>

  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
