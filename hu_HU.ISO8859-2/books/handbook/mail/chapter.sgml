<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->

<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/mail/chapter.sgml
     %SRCID%	1.138
-->

<chapter id="mail" lang="hu">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Bill</firstname>
	<surname>Lloyd</surname>
	<contrib>Eredetileg k&eacute;sz&iacute;tette: </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>&Aacute;tdolgozta: </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Elektronikus levelez&eacute;s</title>

  <sect1 id="mail-synopsis">
    <title>&Aacute;ttekint&eacute;s</title>

    <indexterm><primary>e-mail</primary></indexterm>

    <para>Az <quote>elektronikus levelez&eacute;s</quote>, m&aacute;s
      n&eacute;ven e-mail, a kommunik&aacute;ci&oacute; egyik legjobban
      elterjedt form&aacute;ja.  Ebben a fejezetben bemutatjuk, hogyan
      futtassunk &os;-n levelez&#245; szervert, illetve hogyan
      k&uuml;ldj&uuml;nk &eacute;s fogadjunk e-maileket a &os;
      haszn&aacute;lat&aacute;val.  Ez azonban semmik&eacute;ppen sem
      tekinthet&#245; egy teljes referenci&aacute;nak &eacute;s
      tulajdonk&eacute;ppen sz&aacute;mos fontos
      t&eacute;nyez&#245;r&#245;l sz&oacute;t sem ejt&uuml;nk.  A
      t&eacute;m&aacute;ra &uacute;gy kaphatunk egy sokkal
      &aacute;tfog&oacute;bb r&aacute;l&aacute;t&aacute;st, ha a <xref
      linkend="bibliography">ben felsorolt remek k&ouml;nyveket is
      elolvassuk.</para>

    <para>A fejezet elolvas&aacute;sa sor&aacute;n
      megismerj&uuml;k:</para>

    <itemizedlist>
      <listitem>
	<para>milyen szoftverkomponensek j&aacute;tszanak szerepet az
	  elektronikus levelek k&uuml;ld&eacute;s&eacute;ben &eacute;s
	  fogad&aacute;s&aacute;ban;</para>
      </listitem>

      <listitem>
	<para>&os;-ben hol tal&aacute;lhat&oacute;ak a
	  <application>sendmail</application>
	  konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyai;</para>
      </listitem>

      <listitem>
	<para>mi a k&uuml;l&ouml;nbs&eacute;g a helyi &eacute;s
	  t&aacute;voli postal&aacute;d&aacute;k
	  k&ouml;z&ouml;tt;</para>
      </listitem>

      <listitem>
	<para>hogyan akad&aacute;lyozzuk meg, hogy a levelez&#245;
	  szerver&uuml;nk a k&eacute;retlen lev&eacute;lszemetet
	  tov&aacute;bb&iacute;tson;</para>
      </listitem>

      <listitem>
	<para>rendszer&uuml;nk&ouml;n hogyan telep&iacute;ts&uuml;nk
	  &eacute;s &aacute;ll&iacute;tsunk be m&aacute;s levelez&#245;
	  szervereket a <application>sendmail</application>
	  helyett;</para>
      </listitem>

      <listitem>
	<para>hogyan oldjuk meg a levelez&#245; szerverekkel
	  kapcsolatban felmer&uuml;l&#245; &aacute;ltal&aacute;nos
	  probl&eacute;m&aacute;kat;</para>
      </listitem>

      <listitem>
	<para>hogyan haszn&aacute;ljuk az SMTP protokollt az UUCP
	  protokollal;</para>
      </listitem>

      <listitem>
	<para>hogyan kell rendszer&uuml;ket csak
	  lev&eacute;lk&uuml;ld&eacute;sre
	  be&aacute;ll&iacute;tani;</para>
      </listitem>

      <listitem>
	<para>hogyan levelezz&uuml;nk bet&aacute;rcs&aacute;z&oacute;s
	  kapcsolattal;</para>
      </listitem>

      <listitem>
	<para>hogyan n&ouml;velj&uuml;k rendszer&uuml;nk
	  v&eacute;delm&eacute;t az SMTP
	  hiteles&iacute;t&eacute;s&eacute;nek
	  enged&eacute;lyez&eacute;s&eacute;vel;</para>
      </listitem>

      <listitem>
	<para>hogyan telep&iacute;ts&uuml;nk &eacute;s
	  haszn&aacute;ljunk a levelek k&uuml;ld&eacute;s&eacute;re
	  &eacute;s fogad&aacute;s&aacute;ra p&eacute;ld&aacute;ul a
	  <application>mutt</application>hoz hasonl&oacute;
	  levelez&#245; klienseket;</para>
      </listitem>

      <listitem>
	<para>hogyan t&ouml;lts&uuml;k le leveleinket egy t&aacute;voli
	  <acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	  szerverr&#245;l;</para>
      </listitem>

      <listitem>
	<para>hogyan alkalmazzunk automatikusan adott szab&aacute;lyokat
	  vagy sz&#251;r&#245;ket az &eacute;rkez&#245;
	  levelekre.</para>
      </listitem>
    </itemizedlist>

    <para>A fejezet elolvas&aacute;sa el&#245;tt aj&aacute;nlott:</para>

    <itemizedlist>
      <listitem>
	<para>az internet-csatlakoz&aacute;sunk megfelel&#245;
	  be&aacute;ll&iacute;t&aacute;sa (<xref
	  linkend="advanced-networking">);</para>
      </listitem>

      <listitem>
	<para>a n&eacute;vfelold&aacute;s
	  be&aacute;ll&iacute;t&aacute;sa (<xref
	  linkend="network-servers">);</para>
      </listitem>

      <listitem>
	<para>a k&uuml;ls&#245; fejleszt&eacute;s&#251;
	  alkalmaz&aacute;sok telep&iacute;t&eacute;s&eacute;nek
	  ismerete (<xref linkend="ports">).</para>
	    </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="mail-using">
    <title>Az elektronikus levelez&eacute;s haszn&aacute;lata</title>

    <indexterm><primary>POP</primary></indexterm>
    <indexterm><primary>IMAP</primary></indexterm>
    <indexterm><primary>DNS</primary></indexterm>

    <para>&Ouml;t fontosabb r&eacute;szre bonthatjuk a
      levelez&eacute;st.  Ezek: <link linkend="mail-mua">a
      felhaszn&aacute;l&oacute;i program (mail user agent)</link>, <link
      linkend="mail-mta">a lev&eacute;lk&uuml;ld&#245; d&eacute;mon
      (mail transfer agent)</link>, <link linkend="mail-dns">a
      n&eacute;vfelold&aacute;s</link>, <link linkend="mail-receive">a
      helyi vagy t&aacute;voli postal&aacute;da</link> &eacute;s
      term&eacute;szetesen <link linkend="mail-host">maga a
      levelez&#245; szerver (mail host)</link>.</para>

    <sect2 id="mail-mua">
      <title>A felhaszn&aacute;l&oacute;i program</title>

      <para>Ide soroljuk a k&uuml;l&ouml;nb&ouml;z&#245; parancssoros
	programokat, mint p&eacute;ld&aacute;ul a
	<application>mutt</application>,
	<application>pine</application>, <application>elm</application>
	&eacute;s <command>mail</command>, valamint a
	k&uuml;l&ouml;nf&eacute;le grafikus alkalmaz&aacute;sokat, mint
	p&eacute;ld&aacute;ul a <application>balsa</application>
	&eacute;s az <application>xfmail</application>, csak hogy
	felsoroljuk n&eacute;h&aacute;ny &uacute;jabb, egy
	webb&ouml;ng&eacute;sz&#245;h&ouml;z hasonl&oacute;an
	<quote>kifinomult</quote> eszk&ouml;zt is.  Ezek a programok
	egyszer&#251;en &aacute;tk&uuml;ldik az elektronikus levelekkel
	kapcsolatos tranzakci&oacute;kat a helyi <link
	linkend="mail-host"><quote>levelez&#245;
	szervernek</quote></link> vagy megh&iacute;vj&aacute;k
	valamelyik <link linkend="mail-mta">lev&eacute;lk&uuml;ld&#245;
	d&eacute;mont</link>, esetleg k&ouml;zvetlen&uuml;l a
	<acronym>TCP</acronym> protokollon kereszt&uuml;l
	k&eacute;zbes&iacute;tenek.</para>

    </sect2>

    <sect2 id="mail-mta">
      <title>A lev&eacute;lk&uuml;ld&#245; d&eacute;mon</title>

      <indexterm>
	<primary>lev&eacute;lk&uuml;ld&#245; d&eacute;mon</primary>
	<secondary><application>sendmail</application></secondary>
      </indexterm>

      <indexterm>
	<primary>lev&eacute;lk&uuml;ld&#245; d&eacute;mon</primary>
	<secondary><application>postfix</application></secondary>
      </indexterm>

      <indexterm>
	<primary>lev&eacute;lk&uuml;ld&#245; d&eacute;mon</primary>
	<secondary><application>qmail</application></secondary>
      </indexterm>

      <indexterm>
	<primary>lev&eacute;lk&uuml;ld&#245; d&eacute;mon</primary>
	<secondary><application>exim</application></secondary>
      </indexterm>

      <para>A &os; alapb&oacute;l a <application>sendmail</application>
	nev&#251; programot aj&aacute;nlja fel erre a c&eacute;lra, de
	t&aacute;mogat m&aacute;s levelez&#245; szervereket is, ezek
	k&ouml;z&uuml;l meg is eml&iacute;t&uuml;nk
	n&eacute;h&aacute;nyat
	&iacute;zel&iacute;t&#245;k&eacute;nt:</para>

      <itemizedlist>
	<listitem>
	  <para><application>exim</application></para>
	</listitem>

	<listitem>
	  <para><application>postfix</application></para>
	</listitem>

	<listitem>
	  <para><application>qmail</application></para>
	</listitem>
      </itemizedlist>

      <para>Ez a d&eacute;mon &aacute;ltal&aacute;ban k&eacute;t
	feladatot l&aacute;t el &mdash; a be&eacute;rkez&#245; levelek
	fogad&aacute;s&aacute;&eacute;rt &eacute;s a kimen&#245; levelek
	elk&uuml;ld&eacute;s&eacute;&eacute;rt felel&#245;s.
	<emphasis>Nem</emphasis> tartozik azonban a feladatai
	k&ouml;z&eacute;, hogy a <acronym>POP</acronym> vagy
	<acronym>IMAP</acronym> protokollokhoz hasonl&oacute;an
	olvashat&oacute;v&aacute; tegye a leveleinket, illetve
	csatlakozni engedjen a helyi <filename>mbox</filename> vagy
	Maildir form&aacute;tum&uacute; postal&aacute;d&aacute;inkhoz.
	Ezekhez a m&#251;veletekhez egy k&uuml;l&ouml;n <link
	linkend="mail-receive">d&eacute;mon</link>
	sz&uuml;ks&eacute;geltetik.</para>

      <warning>
	<para>A <application>sendmail</application> r&eacute;gebbi
	  v&aacute;ltozatai tartalmaznak olyan komoly biztons&aacute;gi
	  hib&aacute;kat, amelyek kihaszn&aacute;l&aacute;s&aacute;val
	  az illet&eacute;ktelen behatol&oacute;k helyi &eacute;s/vagy
	  t&aacute;voli hozz&aacute;f&eacute;r&eacute;st tudnak szerezni
	  a g&eacute;p&uuml;nk&ouml;n.  Az ilyen jelleg&#251;
	  probl&eacute;m&aacute;k elker&uuml;l&eacute;se
	  &eacute;rdek&eacute;ben igyekezz&uuml;nk mindig a legfrissebb
	  verzi&oacute;j&aacute;t haszn&aacute;lni.  Vagy a <link
	  linkend="ports">&os;
	  Portgy&#251;jtem&eacute;ny&eacute;b&#245;l</link>
	  telep&iacute;ts&uuml;nk fel egy m&aacute;sik
	  lev&eacute;lk&uuml;ld&#245; d&eacute;mont.</para>
      </warning>

    </sect2>

    <sect2 id="mail-dns">
      <title>Az elektronikus levelek &eacute;s a
	n&eacute;vfelold&aacute;s</title>

      <para>A n&eacute;vfelold&aacute;s (Domain Name System, DNS)
	&eacute;s a hozz&aacute; tartoz&oacute; <command>named</command>
	d&eacute;mon nagy szerepet j&aacute;tszik az elektronikus
	levelek tov&aacute;bb&iacute;t&aacute;s&aacute;ban.  A
	d&eacute;mon a leveleket &uacute;gy k&uuml;ldi &aacute;t az
	egyik g&eacute;pr&#245;l a m&aacute;sikra, hogy a
	n&eacute;vfelold&aacute;son kereszt&uuml;l megkeresi azt a
	t&aacute;voli g&eacute;pet, amelynek a leveleket
	c&iacute;mezt&eacute;k.  Ez a folyamat szint&eacute;n
	v&eacute;gbemegy, amikor egy t&aacute;voli g&eacute;pr&#245;l
	levelet k&uuml;ldenek a mi szerver&uuml;nkre.</para>

      <indexterm><primary>MX rekord</primary></indexterm>

      <para>A <acronym>DNS</acronym> val&oacute;s&iacute;tja meg a
	h&aacute;l&oacute;zati nevek &eacute;s az IP-c&iacute;mek
	&ouml;sszerendel&eacute;s&eacute;t valamint ez t&aacute;rolja el
	a lev&eacute;lk&uuml;ld&eacute;sre vonatkoz&oacute;
	inform&aacute;ci&oacute;kat is, amelyeket MX rekordoknak
	h&iacute;vnak.  Az MX (Mail eXchanger,
	<quote>lev&eacute;lv&aacute;lt&oacute;</quote>) rekord adja meg
	azt a g&eacute;pet vagy azokat a g&eacute;peket, amelyek az
	adott n&eacute;vtartom&aacute;nyban fogadj&aacute;k a leveleket.
	Ha a h&aacute;l&oacute;zati nev&uuml;nkh&ouml;z vagy
	tartom&aacute;nyunkhoz nem tartozik MX rekord, akkor a
	lev&eacute;l k&ouml;zvetlen&uuml;l a g&eacute;p&uuml;nkre
	v&aacute;ndorol felt&eacute;ve, hogy rendelkezik olyan A
	rekorddal, amely &ouml;sszerendeli a g&eacute;p&uuml;nk
	nev&eacute;t az IP-c&iacute;m&eacute;vel.</para>

      <para>A &man.host.1; parancs haszn&aacute;lat&aacute;val az
	al&aacute;bbi p&eacute;ld&aacute;hoz hasonl&oacute;an
	tetsz&#245;leges tartom&aacute;ny MX rekordj&aacute;t meg tudjuk
	n&eacute;zni:</para>

      <screen>&prompt.user; <userinput>host -t mx
FreeBSD.org</userinput> FreeBSD.org mail is handled (pri=10) by
mx1.FreeBSD.org</screen>

    </sect2>

    <sect2 id="mail-receive">
      <title>Az elektronikus levelek fogad&aacute;sa</title>

      <indexterm>
	<primary>elektronikus lev&eacute;l</primary>
	<secondary>fogad&aacute;sa</secondary>
      </indexterm>

      <para>A tartom&aacute;nyunkhoz tartoz&oacute; leveleket
	fogad&aacute;s&aacute;t a levelez&#245; szerver v&eacute;gzi.
	&Ouml;sszegy&#251;jti a tartom&aacute;nyunkba k&uuml;ld&ouml;tt
	&ouml;sszes levelet &eacute;s ezeket a
	be&aacute;ll&iacute;t&aacute;sainkt&oacute;l f&uuml;gg&#245;en
	vagy <filename>mbox</filename> (a levelek
	t&aacute;rol&aacute;s&aacute;nak alap&eacute;rtelmezett
	m&oacute;dja) vagy pedig Maildir form&aacute;tumban
	elt&aacute;rolja.  Ahogy elt&aacute;rolt egy levelet, &uacute;gy
	helyben egyb&#245;l el is tudjuk olvasni p&eacute;ld&aacute;ul a
	&man.mail.1; vagy a <application>mutt</application>
	haszn&aacute;lat&aacute;val, illetve t&aacute;volr&oacute;l a
	<acronym>POP</acronym> vagy <acronym>IMAP</acronym> &eacute;s a
	hasonl&oacute; protokollokkal tudjuk el&eacute;rni &eacute;s
	begy&#251;jteni.  Ez&eacute;rt teh&aacute;t ha csak a helyi
	g&eacute;pen k&iacute;v&aacute;njuk olvasni a leveleinket, akkor
	ahhoz egy&aacute;ltal&aacute;n nem kell <acronym>POP</acronym>
	vagy <acronym>IMAP</acronym> szervert
	telep&iacute;ten&uuml;nk.</para>

      <sect3 id="pop-and-imap">
	<title>T&aacute;voli postal&aacute;d&aacute;k
	  el&eacute;r&eacute;se a <acronym>POP</acronym> &eacute;s
	  <acronym>IMAP</acronym> haszn&aacute;lat&aacute;val</title>

	<indexterm><primary>POP</primary></indexterm>
	<indexterm><primary>IMAP</primary></indexterm>

	<para>A t&aacute;voli postal&aacute;d&aacute;k
	  el&eacute;r&eacute;s&eacute;hez tudnunk kell csatlakozni egy
	  <acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	  szerverhez.  Ezeken a protokollokon kereszt&uuml;l
	  tudj&aacute;k a felhaszn&aacute;l&oacute;k minden
	  k&uuml;l&ouml;n&ouml;sebb neh&eacute;zs&eacute;g
	  n&eacute;lk&uuml;l el&eacute;rni t&aacute;volr&oacute;l a
	  helyi postal&aacute;d&aacute;ikat.  Noha a
	  <acronym>POP</acronym> &eacute;s az <acronym>IMAP</acronym>
	  seg&iacute;ts&eacute;g&eacute;vel egyar&aacute;nt el tudjuk
	  &iacute;gy &eacute;rni a postal&aacute;d&aacute;kat, az
	  <acronym>IMAP</acronym> haszn&aacute;lat&aacute;nak
	  m&eacute;gis t&ouml;bb el&#245;nye van, &iacute;me
	  n&eacute;h&aacute;ny k&ouml;z&uuml;l&uuml;k:</para>

	<itemizedlist>
	  <listitem>
	    <para>Az <acronym>IMAP</acronym> a levelek leszed&eacute;se
	      mellett t&aacute;rolni is k&eacute;pes a t&aacute;voli
	      szerveren.</para>
	  </listitem>

	  <listitem>
	    <para>Az <acronym>IMAP</acronym> t&aacute;mogat
	      p&aacute;rhuzamos lek&eacute;r&eacute;seket.</para>
	  </listitem>

	  <listitem>
	    <para>Az <acronym>IMAP</acronym> hihetetlen&uuml;l hasznos
	      tud lenni lassabb &ouml;sszek&ouml;ttet&eacute;sek
	      eset&eacute;ben, mivel lehet&#245;v&eacute; teszi a
	      felhaszn&aacute;l&oacute;k sz&aacute;m&aacute;ra, hogy
	      csak az &uuml;zenetek v&aacute;z&aacute;t
	      t&ouml;lts&eacute;k le &eacute;s ne az eg&eacute;szet.
	      Tov&aacute;bb&aacute; a szerver &eacute;s a kliens
	      k&ouml;zti adatmozg&aacute;s cs&ouml;kkent&eacute;se
	      &eacute;rdek&eacute;ben k&eacute;pes bizonyos feladatokat
	      a szerveren elv&eacute;gezni, p&eacute;ld&aacute;ul
	      keresni.</para>
	  </listitem>
	</itemizedlist>

	<para>Egy <acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	  szerver telep&iacute;t&eacute;s&eacute;hez az al&aacute;bbi
	  l&eacute;p&eacute;sek megt&eacute;tele
	  sz&uuml;ks&eacute;ges:</para>

	<procedure>
	  <step>
	    <para>V&aacute;lasszuk ki az ig&eacute;nyeinket legjobban
	      kiel&eacute;g&iacute;t&#245; <acronym>IMAP</acronym> vagy
	      <acronym>POP</acronym> szervert.  A k&ouml;vetkez&#245;
	      <acronym>POP</acronym> &eacute;s <acronym>IMAP</acronym>
	      szerverek el&eacute;gg&eacute; elterjedtek &eacute;s
	      egyben remek p&eacute;ld&aacute;k:</para>

	      <itemizedlist>
		<listitem>
		  <para><application>qpopper</application></para>
		</listitem>

		<listitem>
		  <para><application>teapop</application></para>
		</listitem>

		<listitem>
		  <para><application>imap-uw</application></para>
		</listitem>

		<listitem>
		  <para><application>courier-imap</application></para>
		</listitem>
	      </itemizedlist>

	  </step>

	  <step>
	    <para>A Portgy&#251;jtem&eacute;nyb&#245;l
	      telep&iacute;ts&uuml;k fel a kiv&aacute;lasztott
	      <acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	      d&eacute;mont.</para>
	  </step>

	  <step>
	    <para>Ha sz&uuml;ks&eacute;ges, akkor a
	      <acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	      szerver bet&ouml;lt&eacute;s&eacute;hez &iacute;rjuk
	      &aacute;t az <filename>/etc/inetd.conf</filename>
	      &aacute;llom&aacute;nyt.</para>
	  </step>
	</procedure>

	<warning>
	  <para>Meg kell eml&iacute;ten&uuml;nk, hogy mind a
	    <acronym>POP</acronym> &eacute;s az <acronym>IMAP</acronym>
	    az &ouml;sszes inform&aacute;ci&oacute;t, teh&aacute;t
	    bel&eacute;rtve a felhaszn&aacute;l&oacute;k neveit
	    &eacute;s jelszavait titkos&iacute;tatlan form&aacute;ban
	    tov&aacute;bb&iacute;tja.  Ez azt jelenti, hogy ha ezeket a
	    protokollokat biztons&aacute;gos m&oacute;don
	    szeretn&eacute;nk el&eacute;rni, akkor az &man.ssh.1;
	    haszn&aacute;lat&aacute;val hozzunk l&eacute;tre
	    hozz&aacute; egy tunnelt &eacute;s azon kereszt&uuml;l
	    haszn&aacute;ljuk.  Err&#245;l r&eacute;szletesebben a <xref
	    linkend="security-ssh-tunneling">ban olvashatunk.</para>
	</warning>

      </sect3>

      <sect3 id="local">
	<title>A helyi postal&aacute;d&aacute;k
	  el&eacute;r&eacute;se</title>

	<para>A helyi postal&aacute;d&aacute;kat a szerveren lev&#245;
	  levelez&#245; kliensek k&ouml;zvetlen
	  haszn&aacute;lat&aacute;val &eacute;rhetj&uuml;k el.  Ilyen
	  alkalmaz&aacute;sok p&eacute;ld&aacute;ul a
	  <application>mutt</application> vagy a &man.mail.1;.</para>

      </sect3>
    </sect2>

    <sect2 id="mail-host">
      <title>A levelez&#245; szerver</title>

      <indexterm><primary>levelez&#245; szerver</primary></indexterm>

      <para>A levelez&#245; szerver az a szerver, amely a
	g&eacute;p&uuml;nk vagy ak&aacute;r az eg&eacute;sz
	h&aacute;l&oacute;zatunk ir&aacute;ny&aacute;ba
	&eacute;rkez&#245; levelek fogad&aacute;s&aacute;&eacute;rt
	&eacute;s elk&uuml;ld&eacute;s&eacute;&eacute;rt
	felel&#245;s.</para>

    </sect2>
  </sect1>

  <sect1 id="sendmail">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Christopher</firstname>
	  <surname>Shumway</surname>
	  <contrib>&Iacute;rta: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A <application>sendmail</application>
      be&aacute;ll&iacute;t&aacute;sa</title>

    <indexterm><primary><application>sendmail</application></primary></indexterm>

    <para>A &man.sendmail.8; a &os; alap&eacute;rtelmezett
      lev&eacute;ltov&aacute;bb&iacute;t&oacute; &uuml;gyn&ouml;ke (Mail
      Transfer Agent, <acronym>MTA</acronym>).  A
      <application>sendmail</application> feladata fogadni a
      levelez&#245; kliensekt&#245;l (Mail User Agent,
      <acronym>MUA</acronym>) &eacute;rkez&#245; leveleket &eacute;s
      k&eacute;zbes&iacute;teni azokat a konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;ny&aacute;ban megadott megfelel&#245;
      levelez&#245;nek.  A <application>sendmail</application>
      h&aacute;l&oacute;zati kapcsolatokat is fogad, k&eacute;pes a
      helyi postal&aacute;d&aacute;kba vagy ak&aacute;r m&aacute;s
      programoknak is leveleket tov&aacute;bb&iacute;tani.</para>

    <para>A <application>sendmail</application> a k&ouml;vetkez&#245;
      &aacute;llom&aacute;nyban t&aacute;rolja
      be&aacute;ll&iacute;t&aacute;sait:</para>

    <indexterm><primary><filename>/etc/mail/access</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/aliases</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/local-host-names</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/mailer.conf</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/mailertable</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/sendmail.cf</filename></primary></indexterm>
    <indexterm><primary><filename>/etc/mail/virtusertable</filename></primary></indexterm>

    <informaltable frame="none" pgwide="1">
      <tgroup cols="2">
	<thead>
	  <row>
	    <entry>&Aacute;llom&aacute;ny</entry>
	    <entry>Szerep</entry>
	  </row>
	</thead>
	<tbody>
	  <row>
	    <entry>
	      <filename>/etc/mail/access</filename>
	    </entry>
	    <entry>A <application>sendmail</application> &aacute;ltal
	      enged&eacute;lyezett hozz&aacute;f&eacute;r&eacute;seket
	      t&aacute;rol&oacute; adatb&aacute;zis</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/aliases</filename>
	    </entry>
	    <entry>A postal&aacute;d&aacute;k &aacute;lnevei</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/local-host-names</filename>
	    </entry>
	    <entry>Azon nevek felsorol&aacute;sa, amelyek
	      sz&aacute;m&aacute;ra a
	      <application>sendmail</application> leveleket
	      fogad</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/mailer.conf</filename>
	    </entry>
	    <entry>A levelez&#245; programok
	      be&aacute;ll&iacute;t&aacute;sai</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/mailertable</filename>
	    </entry>
	    <entry>A levelez&#245; programok
	      k&eacute;zbes&iacute;t&eacute;si
	      t&aacute;bl&aacute;zata</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/sendmail.cf</filename>
	    </entry>
	    <entry>A <application>sendmail</application> k&ouml;zponti
	      be&aacute;ll&iacute;t&aacute;sait t&aacute;rol&oacute;
	      &aacute;llom&aacute;ny</entry>
	  </row>
	  <row>
	    <entry>
	      <filename>/etc/mail/virtusertable</filename>
	    </entry>
	    <entry>Virtu&aacute;lis felhaszn&aacute;l&oacute;k &eacute;s
	      tartom&aacute;nyok t&aacute;bl&aacute;zatai</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2>
      <title><filename>/etc/mail/access</filename></title>

      <para>Az enged&eacute;lyezett hozz&aacute;f&eacute;r&eacute;seket
	t&aacute;rol&oacute; adatb&aacute;zis tartalmazza milyen
	h&aacute;l&oacute;zati neveken vagy IP-c&iacute;meken lehet
	el&eacute;rni a helyi levelez&#245; szervert &eacute;s azok
	milyen t&iacute;pus&uacute; hozz&aacute;f&eacute;r&eacute;st
	kapnak.  A g&eacute;pek az <option>OK</option> (rendben),
	<option>REJECT</option> (visszautas&iacute;t),
	<option>RELAY</option> (tov&aacute;bb&iacute;t&aacute;s)
	be&aacute;ll&iacute;t&aacute;sokat alkalmazhatjuk, vagy
	egyszer&#251;en megh&iacute;vhatjuk hozz&aacute;juk a
	<application>sendmail</application> hibakezel&#245;
	rutinj&aacute;t egy adott k&eacute;zbes&iacute;t&eacute;si
	hib&aacute;val.  Ha egy g&eacute;pet az <option>OK</option>
	be&aacute;ll&iacute;t&aacute;ssal vesz&uuml;k fel a
	list&aacute;ra, ami egy&eacute;bk&eacute;nt
	alap&eacute;rtelmez&eacute;s, akkor ez a g&eacute;p levelet tud
	k&uuml;ldeni eg&eacute;szen addig, am&iacute;g a
	v&eacute;gs&#245; c&eacute;l a helyi g&eacute;p marad.  A
	<option>REJECT</option> be&aacute;ll&iacute;t&aacute;ssal
	felsorolt g&eacute;pek sz&aacute;m&aacute;ra semmif&eacute;le
	levelez&eacute;s nem enged&eacute;lyezett.  Ha pedig egy
	g&eacute;p mellett a <option>RELAY</option>
	be&aacute;ll&iacute;t&aacute;s jelenik meg, akkor a szerveren
	kereszt&uuml;l tetsz&#245;leges c&iacute;mre
	k&uuml;ldhet.</para>

      <example>
	<title>A <application>sendmail</application>
	  el&eacute;r&eacute;s&eacute;t szab&aacute;lyoz&oacute;
	  adatb&aacute;zis be&aacute;ll&iacute;t&aacute;sa</title>

	<programlisting>cyberspammer.com                550 Nem szeretjuk a spammereket
FREE.STEALTH.MAILER@            550 Nem szeretjuk a spammereket
another.source.of.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</programlisting>
      </example>

      <para>Ebben a p&eacute;ld&aacute;ban &ouml;t bejegyz&eacute;st
	l&aacute;thatunk.  A t&aacute;bl&aacute;zat bal fel&eacute;nek
	valamelyik sor&aacute;ra illeszked&#245; k&uuml;ld&#245;kre a
	t&aacute;bl&aacute;zatban a sor jobb fel&eacute;n megjelen&#245;
	cselekv&eacute;s &eacute;rv&eacute;nyes&uuml;l.  Az els&#245;
	k&eacute;t sorban a <application>sendmail</application>
	hibakezel&#245; rutinj&aacute;nak adunk &aacute;t
	hibak&oacute;dokat.  A hozz&aacute; tartoz&oacute; &uuml;zenet
	akkor fog megjelenni a t&aacute;voli g&eacute;pen, amikor a
	t&#245;le &eacute;rkez&#245; lev&eacute;l illeszkedik a bal
	oldali szab&aacute;lyra.  Az ezeket k&ouml;vet&#245;
	bejegyz&eacute;sben visszal&ouml;k&uuml;nk minden olyan levelet,
	amely az internetr&#245;l egy adott
	sz&aacute;m&iacute;t&oacute;g&eacute;pt&#245;l &eacute;rkezik,
	p&eacute;ld&aacute;ul az <hostid>another.source.of.spam</hostid>
	c&iacute;mr&#245;l.  A k&ouml;vetkez&#245; bejegyz&eacute;sben
	az <hostid role="fqdn">okay.cyberspammer.com</hostid>
	c&iacute;mr&#245;l elfogadjuk a kapcsol&oacute;d&aacute;st, ami
	viszont sokkal pontosabb megjel&ouml;l&eacute;s a fentebb
	szerepl&#245; <hostid
	role="domainname">cyberspammer.com</hostid> sorn&aacute;l.  A
	pontosabban kifejtett nevek
	fel&uuml;lb&iacute;r&aacute;lj&aacute;k a kev&eacute;sb&eacute;
	pontosan megnevezetteket.  V&eacute;g&uuml;l az utols&oacute;
	bejegyz&eacute;sben enged&eacute;lyezz&uuml;k a levelek
	tov&aacute;bbk&uuml;ld&eacute;s&eacute;t minden olyan g&eacute;p
	sz&aacute;m&aacute;ra, amelynek c&iacute;me a
	<hostid>128.32</hostid> el&#245;taggal kezd&#245;dik.  Ezek
	teh&aacute;t k&eacute;pesek ezen a levelez&#245; szerveren
	kereszt&uuml;l b&aacute;rhova leveleket k&uuml;ldeni.</para>

      <para>Az &aacute;llom&aacute;ny m&oacute;dos&iacute;t&aacute;sa
	ut&aacute;n az adatb&aacute;zis
	friss&iacute;t&eacute;s&eacute;hez mindig le kell futtatnunk egy
	<command>make</command> parancsot az
	<filename>/etc/mail/</filename> k&ouml;nyvt&aacute;rban.</para>

    </sect2>

    <sect2>
      <title><filename>/etc/mail/aliases</filename></title>

      <para>Az &aacute;lneveket tartalmaz&oacute; adatb&aacute;zis
	virtu&aacute;lis postal&aacute;d&aacute;kat sorol fel, amelyek
	m&aacute;s felhaszn&aacute;l&oacute;kra,
	&aacute;llom&aacute;nyokra, programokra vagy tov&aacute;bbi
	&aacute;lnevekre vonatkozhatnak.  &Iacute;me
	n&eacute;h&aacute;ny p&eacute;lda az
	<filename>/etc/mail/aliases</filename> &aacute;llom&aacute;nyban
	szerepl&#245; bejegyz&eacute;sekre:</para>

      <example>
	<title>Virtu&aacute;lis postal&aacute;d&aacute;k</title>

	<programlisting>root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: "|/usr/local/bin/procmail"</programlisting>
      </example>

      <para>A formai szab&aacute;lyok egyszer&#251;ek: a kett&#245;spont
	bal oldal&aacute;ra kell &iacute;rni azt a
	postal&aacute;d&aacute;t, amely a jobb oldal&aacute;n lev&#245;
	c&eacute;lokra bomlik.  A p&eacute;lda els&#245; sor&aacute;ban
	egyszer&#251;en megfeleltetj&uuml;k a <username>root</username>
	postal&aacute;d&aacute;j&aacute;t a
	<username>localuser</username>
	postal&aacute;d&aacute;j&aacute;nak, majd ezt a nevet
	keress&uuml;k az &aacute;lnevek adatb&aacute;zis&aacute;ban.  Ha
	nem tal&aacute;lunk m&aacute;r r&aacute; illeszked&eacute;st,
	akkor az &uuml;zenetet a <username>localuser</username>
	nev&#251; helyi felhaszn&aacute;l&oacute;nak
	tov&aacute;bb&iacute;tjuk.  A k&ouml;vetkez&#245; sorban
	c&iacute;mek list&aacute;j&aacute;t l&aacute;thatjuk.  Ennek
	megfelel&#245;en a <username>ftp-bugs</username>
	postal&aacute;da c&iacute;m&eacute;re k&uuml;ld&ouml;tt levelek
	h&aacute;rom tov&aacute;bbi helyi postal&aacute;d&aacute;ra
	mennek tov&aacute;bb: ezek n&eacute;v szerint a
	<username>joe</username>, <username>eric</username> &eacute;s
	<username>paul</username> felhaszn&aacute;l&oacute;k
	postal&aacute;d&aacute;i.  Itt a t&aacute;voli
	postal&aacute;d&aacute;k
	<email>felhaszn&aacute;l&oacute;@p&eacute;lda.hu</email> alakban
	adhat&oacute;ak meg.  A k&ouml;vetkez&#245; sor az
	&aacute;llom&aacute;nyok haszn&aacute;lat&aacute;t
	p&eacute;ld&aacute;zza, ahol konkr&eacute;tan a
	<filename>/dev/null</filename> &aacute;llom&aacute;nyba
	ir&aacute;ny&iacute;tjuk &aacute;t az adott c&iacute;mre
	&eacute;rkez&#245; leveleket.  Az utols&oacute; sorban pedig a
	programok haszn&aacute;lat&aacute;ra l&aacute;thatunk
	p&eacute;ld&aacute;t, ahol ebben az esetben a lev&eacute;l egy
	&unix;-os cs&ouml;v&ouml;n kereszt&uuml;l a
	<filename>/usr/local/bin/procmail</filename> szabv&aacute;nyos
	bemenet&eacute;re ker&uuml;l.</para>

      <para>Ha megv&aacute;ltoztatjuk ezt az &aacute;llom&aacute;nyt,
	akkor ut&aacute;na az adatb&aacute;zis
	friss&iacute;t&eacute;s&eacute;hez ne felejts&uuml;k el
	megh&iacute;vni a <command>make</command> parancsot az
	<filename>/etc/mail/</filename> k&ouml;nyvt&aacute;rban.</para>

    </sect2>

    <sect2>
      <title><filename>/etc/mail/local-host-names</filename></title>

      <para>Ebben az &aacute;llom&aacute;nyban adhatjuk meg, hogy a
	&man.sendmail.8; milyen h&aacute;l&oacute;zati neveket fogadjon
	el helyi h&aacute;l&oacute;zati n&eacute;vk&eacute;nt.  Ide kell
	raknunk azokat a tartom&aacute;nyokat vagy c&iacute;meket,
	amelyekt&#245;l a <application>sendmail</application> leveleket
	fogad el.  P&eacute;ld&aacute;ul, ha a levelez&#245; szerver az
	<hostid role="domainname">minta.com</hostid>
	tartom&aacute;nyb&oacute;l &eacute;s a <hostid
	role="fqdn">level.minta.com</hostid> c&iacute;mr&#245;l fogad el
	leveleket, akkor a <filename>local-host-names</filename>
	valahogy &iacute;gy fog kin&eacute;zni:</para>

      <programlisting>minta.com
level.minta.com</programlisting>

      <para>Az &aacute;llom&aacute;ny m&oacute;dos&iacute;t&aacute;sakor
	a &man.sendmail.8; programot &uacute;jra kell ind&iacute;tani a
	v&aacute;ltoz&aacute;sok
	&eacute;rv&eacute;nyes&iacute;t&eacute;s&eacute;hez.</para>

    </sect2>

    <sect2>
      <title><filename>/etc/mail/sendmail.cf</filename></title>

      <para>Ahogy a <application>sendmail</application> k&ouml;zponti
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nya, a
	<filename>sendmail.cf</filename> ir&aacute;ny&iacute;tja a
	<application>sendmail</application> &aacute;tfog&oacute;
	viselked&eacute;s&eacute;t, bele&eacute;rtve mindent az e-mail
	c&iacute;mek &aacute;t&iacute;r&aacute;s&aacute;t&oacute;l
	kezdve a t&aacute;voli szervereknek k&uuml;ld&ouml;tt
	elutas&iacute;t&oacute; &uuml;zenetek
	k&uuml;ld&eacute;s&eacute;ig.  Mivel ennyire sokfajta szerepet
	t&ouml;lt be egyszerre, ez&eacute;rt ez a
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny
	meglehet&#245;sen &ouml;sszetett &eacute;s a
	r&eacute;szletez&eacute;se meghaladn&aacute; ennek a
	le&iacute;r&aacute;snak a hat&aacute;rait.  Szerencs&eacute;re
	az &aacute;tlagos levelez&#245; szerverek eset&eacute;ben ezt az
	&aacute;llom&aacute;nyt nagyon ritk&aacute;n kell
	m&oacute;dos&iacute;tani.</para>

      <para>A <application>sendmail</application> k&ouml;zponti
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nya a
	<application>sendmail</application> lehet&#245;s&eacute;geit
	&eacute;s viselked&eacute;s&eacute;t meghat&aacute;roz&oacute;
	&man.m4.1; makr&oacute;kb&oacute;l &eacute;p&iacute;thet&#245;
	fel.  A pontosabb r&eacute;szleteket a
	<filename>/usr/src/contrib/sendmail/cf/README</filename>
	&aacute;llom&aacute;nyban tal&aacute;ljuk meg.</para>

      <para>Az &aacute;llom&aacute;ny megv&aacute;ltoztat&aacute;sa
	ut&aacute;n a m&oacute;dos&iacute;t&aacute;sok
	&eacute;rv&eacute;nyes&iacute;t&eacute;s&eacute;hez &uacute;jra
	kell ind&iacute;tani a <application>sendmail</application>
	programot.</para>

    </sect2>

    <sect2>
      <title><filename>/etc/mail/virtusertable</filename></title>

      <para>A <filename>virtusertable</filename> &aacute;llom&aacute;ny
	k&eacute;pezi le a virtu&aacute;lis tartom&aacute;nyokhoz
	tartoz&oacute; c&iacute;meket val&oacute;di
	postal&aacute;d&aacute;k c&iacute;meire.  Ezek a
	postal&aacute;d&aacute;k lehetnek helyiek, t&aacute;voliak, az
	<filename>/etc/mail/aliases</filename> &aacute;llom&aacute;nyban
	megadott &aacute;lnevek vagy &aacute;llom&aacute;nyok.</para>

      <example>
	<title>P&eacute;lda a virtu&aacute;lis tartom&aacute;nyok
	  lek&eacute;pez&eacute;s&eacute;re</title>

	<programlisting>root@minta.com                root
postmaster@minta.com          postmaster@noc.minta.net
@minta.com                    joe</programlisting>
      </example>

      <para>A fenti p&eacute;ld&aacute;ban megadtunk egy
	lek&eacute;pez&eacute;st a <hostid
	role="domainname">minta.com</hostid> tartom&aacute;nyhoz.  Ez az
	&aacute;llom&aacute;ny &uacute;gy dolgoz&oacute;dik fel, hogy
	fentr&#245;l lefel&eacute; illeszt&#245;dnek a c&iacute;mek,
	eg&eacute;szen az els&#245; egyez&eacute;sig.  Az els&#245;
	bejegyz&eacute;s szerint a <email>root@minta.com</email> a helyi
	<username>root</username> felhaszn&aacute;l&oacute;
	postal&aacute;d&aacute;j&aacute;ra k&eacute;pz&#245;dik le.  A
	k&ouml;vetkez&#245; bejegyz&eacute;s szerint a
	<email>postmaster@minta.com</email> a <hostid
	role="fqdn">noc.minta.net</hostid> c&iacute;men
	tal&aacute;lhat&oacute; <username>postmaster</username>
	nev&#251; felhaszn&aacute;l&oacute;
	postal&aacute;d&aacute;j&aacute;ra k&eacute;pz&#245;dik le.
	V&eacute;gezet&uuml;l, ha a <hostid
	role="domainname">minta.com</hostid> c&iacute;mr&#245;l eddig
	m&eacute;g semmi sem illeszkedett volna, akkor az utols&oacute;
	lek&eacute;pez&eacute;s veszi &aacute;t, amely az <hostid
	role="domainname">minta.com</hostid> tartom&aacute;nyon
	bel&uuml;l az &ouml;sszes t&ouml;bbi c&iacute;mre
	k&uuml;ld&ouml;tt levelet a helyi <username>joe</username>
	nev&#251; felhaszn&aacute;l&oacute;
	postal&aacute;d&aacute;j&aacute;ra k&eacute;pezi le.</para>

    </sect2>
  </sect1>

  <sect1 id="mail-changingmta">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Andrew</firstname>
	  <surname>Boothman</surname>
	  <contrib>&Iacute;rta: </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Gregory</firstname>
	  <surname>Neil Shapiro</surname>
	  <contrib>Levelei seg&iacute;ts&eacute;g&uuml;l
	    szolg&aacute;ltak: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A lev&eacute;ltov&aacute;bb&iacute;t&oacute; &uuml;gyn&ouml;k
      megv&aacute;ltoztat&aacute;sa</title>

    <indexterm>
      <primary>e-mail</primary>
      <secondary>a lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	megv&aacute;ltoztat&aacute;sa</secondary>
    </indexterm>

    <para>Ahogy arr&oacute;l m&aacute;r kor&aacute;bban sz&oacute;
      esett, a &os; alapb&oacute;l tartalmazza a
      <application>sendmail</application> programot mint
      lev&eacute;ltov&aacute;bb&iacute;t&oacute; &uuml;gyn&ouml;k&ouml;t
      (MTA, Mail Transfer Agent).  Enn&eacute;lfogva
      alap&eacute;rtelmez&eacute;s szerint ez a felel&#245;s a
      kimen&#245; &eacute;s be&eacute;rkez&#245; levelek
      kezel&eacute;s&eacute;&eacute;rt.</para>

    <para>Sz&aacute;mtalan okb&oacute;l ered&#245;en egyes
      rendszergazd&aacute;k azonban m&eacute;gis szeretn&eacute;k
      lecser&eacute;lni a rendszer&uuml;kh&ouml;z tartoz&oacute;
      lev&eacute;ltov&aacute;bb&iacute;t&oacute;t.  Ennek oka lehet
      egyszer&#251;en csak annyi, hogy ki akarunk pr&oacute;b&aacute;lni
      egy m&aacute;sik programot vagy &eacute;ppen egy olyan
      eszk&ouml;zre van sz&uuml;ks&eacute;g&uuml;nk, amely
      kiz&aacute;r&oacute;lag csak m&aacute;shol tal&aacute;lhat&oacute;
      meg.  Szerencs&eacute;re a &os; megk&ouml;nny&iacute;ti ezt a
      v&aacute;lt&aacute;st.</para>

    <sect2>
      <title>Az &uacute;j lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	telep&iacute;t&eacute;se</title>

      <para>A lev&eacute;ltov&aacute;bb&iacute;t&oacute;k sz&eacute;les
	k&ouml;re el&eacute;rhet&#245;.  A <link linkend="ports">&os;
	Portgy&#251;jtem&eacute;ny&eacute;b&#245;l</link> elindulva sok
	ilyen programot tal&aacute;lhatunk.  Term&eacute;szetesen
	teljesen mindegy, hogy melyik
	lev&eacute;ltov&aacute;bb&iacute;t&oacute;t v&aacute;lasztjuk
	eg&eacute;szen addig, am&iacute;g k&eacute;pesek vagyunk &os;
	alatt rendesen futtatni.</para>

      <para>Kezdj&uuml;k teh&aacute;t az &uacute;j
	lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	telep&iacute;t&eacute;s&eacute;vel.  Miut&aacute;n siker&uuml;lt
	telep&iacute;teni, lehet&#245;s&eacute;g&uuml;nk van
	eld&ouml;nteni, hogy val&oacute;ban eleget tesz-e az
	ig&eacute;nyeinknek, s&#245;t az &uacute;j szoftvert m&eacute;g
	az el&#245;tt be tudjuk &aacute;ll&iacute;tani, hogy
	&aacute;tvenn&eacute; a <application>sendmail</application>
	hely&eacute;t.  Vigy&aacute;zzunk azonban, hogy az &uacute;j
	szoftver telep&iacute;t&eacute;sekor ne &iacute;rjon fel&uuml;l
	olyan rendszerszint&#251; bin&aacute;risokat, mint
	p&eacute;ld&aacute;ul a <filename>/usr/bin/sendmail</filename>.
	M&aacute;sr&eacute;szt az &uacute;j levelez&#245; szoftvert
	szolg&aacute;latba helyez&eacute;se el&#245;tt
	mindenk&eacute;ppen fontos megfelel&#245;en
	be&aacute;ll&iacute;tanunk.</para>

      <para>A kiv&aacute;lasztott
	lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	be&aacute;ll&iacute;t&aacute;s&aacute;val kapcsolatban olvassuk
	el a hozz&aacute; tartoz&oacute;
	dokument&aacute;ci&oacute;t.</para>

    </sect2>

    <sect2 id="mail-disable-sendmail">
      <title>A <application>sendmail</application>
	letilt&aacute;sa</title>

      <warning>
	<para>Amikor letiltjuk a <application>sendmail</application>
	  kimen&#245; lev&eacute;l szolg&aacute;ltat&aacute;s&aacute;t,
	  soha ne felejts&uuml;k el p&oacute;tolni valamilyen m&aacute;s
	  levelez&#245; rendszerrel.  Ha nem &iacute;gy
	  cseleksz&uuml;nk, akkor p&eacute;ld&aacute;ul a
	  &man.periodic.8; &eacute;s a hozz&aacute; hasonl&oacute;
	  programok nem lesznek k&eacute;pesek a t&#245;l&uuml;k
	  megszokott m&oacute;don e-mailben elk&uuml;ldeni a
	  fut&aacute;suk eredm&eacute;ny&eacute;t.  A rendszer bizonyos
	  r&eacute;szei r&aacute;ad&aacute;sul egy
	  m&#251;k&ouml;d&#245;,
	  <application>sendmail</application>-kompatibilis rendszert
	  felt&eacute;teleznek.  Ha letilt&aacute;sa ut&aacute;n az
	  alkalmaz&aacute;sok tov&aacute;bbra is a
	  <application>sendmail</application>
	  seg&iacute;ts&eacute;g&eacute;vel pr&oacute;b&aacute;lnak
	  levelet k&uuml;ldeni, akkor ez a lev&eacute;l a
	  <application>sendmail</application> inakt&iacute;v
	  sor&aacute;ba ker&uuml;lhet, ahonnan soha nem ker&uuml;l
	  k&eacute;zbes&iacute;t&eacute;sre.</para>
      </warning>

	<para>A <application>sendmail</application> teljes
	  le&aacute;ll&iacute;t&aacute;s&aacute;hoz, bele&eacute;rtve a
	  kimen&#245; levelekhez tartoz&oacute;
	  szolg&aacute;ltat&aacute;st is, a k&ouml;vetkez&#245;ket kell
	  megadni az <filename>/etc/rc.conf</filename>
	  &aacute;llom&aacute;nyban:</para>

	<programlisting>sendmail_enable="NO"
sendmail_submit_enable="NO"
sendmail_outbound_enable="NO"
sendmail_msp_queue_enable="NO"</programlisting>

	<para>Ha csak a <application>sendmail</application>
	  be&eacute;rkez&#245; levelekre vonatkoz&oacute;
	  szolg&aacute;ltat&aacute;s&aacute;t akarjuk tiltani, akkor
	  ahhoz az <filename>/etc/rc.conf</filename>
	  &aacute;llom&aacute;nyban a k&ouml;vetkez&#245;t
	  &aacute;ll&iacute;tsuk be:</para>

	<programlisting>sendmail_enable="NO"</programlisting>

	<para>A <application>sendmail</application>
	  ind&iacute;t&aacute;s&aacute;val kapcsolatos tov&aacute;bbi
	  be&aacute;ll&iacute;t&aacute;sokat az &man.rc.sendmail.8; man
	  oldalon tal&aacute;ljuk.</para>

    </sect2>

    <sect2>
      <title>Az &uacute;j lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	elind&iacute;t&aacute;sa a rendszerrel egy&uuml;tt</title>

	<para>Az &uacute;j lev&eacute;ltov&aacute;bb&iacute;t&oacute;t
	  &uacute;gy tudjuk elind&iacute;tani a rendszerrel egy&uuml;tt,
	  ha az <filename>/etc/rc.conf</filename>
	  &aacute;llom&aacute;nyba felvessz&uuml;k a k&ouml;vetkez&#245;
	  sort, p&eacute;ld&aacute;ul a
	  <application>postfix</application> eset&eacute;ben:</para>

	<screen>&prompt.root; echo '<replaceable>postfix</replaceable>_enable="YES"' &gt;&gt; /etc/rc.conf</screen>

	<para>Az &uacute;j lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	  &iacute;gy most m&aacute;r mag&aacute;t&oacute;l el fog indulni
	  a rendszer ind&iacute;t&aacute;sakor.</para>

    </sect2>

    <sect2>
      <title>A <application>sendmail</application> mint a rendszer
	alap&eacute;rtelmezett levelez&#245; eszk&ouml;z&eacute;nek
	lecser&eacute;l&eacute;se</title>

      <para>A <application>sendmail</application> annyira elterjedt
	szabv&aacute;nyos szoftver a &unix; rendszereken, hogy egyes
	szoftverek egyszer&#251;en felt&eacute;telezik a
	jelenl&eacute;t&eacute;t.  Emiatt sok
	lev&eacute;ltov&aacute;bb&iacute;t&oacute;hoz tartozik egy
	<application>sendmail</application> kompatibilis parancssoros
	fel&uuml;let is, amellyel igyekeznek megk&ouml;nny&iacute;teni a
	<application>sendmail</application> <quote>gyors</quote>
	lecser&eacute;l&eacute;s&eacute;t.</para>

      <para>Ennek k&ouml;vetkezt&eacute;ben teh&aacute;t, ha egy
	m&aacute;sik levelez&#245; eszk&ouml;zt haszn&aacute;lunk, akkor
	valamilyen m&oacute;don meg kell bizonyosodnunk r&oacute;la,
	hogy a szabv&aacute;nyos <application>sendmail</application>
	bin&aacute;risok, mint p&eacute;ld&aacute;ul a
	<filename>/usr/bin/sendmail</filename>, val&oacute;ban a
	kiv&aacute;lasztott lev&eacute;ltov&aacute;bb&iacute;tot
	fogj&aacute;k aktiv&aacute;lni.  Szerencs&eacute;re a &os;
	pontosan emiatt tartalmaz egy &man.mailwrapper.8; nev&#251;
	rendszert.</para>

      <para>Amikor a <application>sendmail</application>
	telep&iacute;t&eacute;se szerint m&#251;k&ouml;dik, valami
	hasonl&oacute;t fogunk tal&aacute;lni az
	<filename>/etc/mail/mailer.conf</filename>
	&aacute;llom&aacute;nyban:</para>

<programlisting>sendmail	/usr/libexec/sendmail/sendmail
send-mail	/usr/libexec/sendmail/sendmail
mailq		/usr/libexec/sendmail/sendmail
newaliases	/usr/libexec/sendmail/sendmail
hoststat	/usr/libexec/sendmail/sendmail
purgestat	/usr/libexec/sendmail/sendmail</programlisting>

      <para>Ez azt jelenti, hogy amikor az itt felsorolt
	&aacute;ltal&aacute;nos parancsok k&ouml;z&uuml;l lefuttatjuk
	valamelyiket (p&eacute;ld&aacute;ul mag&aacute;t a
	<filename>sendmail</filename> parancsot), akkor a rendszer
	mag&aacute;t&oacute;l megh&iacute;vja a
	<filename>sendmail</filename> n&eacute;ven szerepl&#245; wrapper
	programot, amely pedig a <filename>mailer.conf</filename>
	alapj&aacute;n kider&iacute;ti, hogy az adott esetben a
	<filename>/usr/libexec/sendmail/sendmail</filename>
	h&iacute;v&aacute;s&aacute;ra van sz&uuml;ks&eacute;g.  Ez a
	rendszer megk&ouml;nny&iacute;ti az alap&eacute;rtelmezett
	<filename>sendmail</filename> funkci&oacute;k hely&eacute;ben
	lefuttatand&oacute; bin&aacute;risok
	&aacute;t&aacute;ll&iacute;t&aacute;s&aacute;t.</para>

      <para>&Iacute;gy teh&aacute;t, ha a
	<filename>/usr/local/supermailer/bin/sendmail-compat</filename>
	&aacute;llom&aacute;nyt akarjuk futtatni a megszokott
	<application>sendmail</application> hely&eacute;ben, akkor az
	<filename>/etc/mail/mailer.conf</filename>
	&aacute;llom&aacute;nyt a k&ouml;vetkez&#245;k&eacute;ppen kell
	m&oacute;dos&iacute;tanunk:</para>

      <programlisting>sendmail	/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/sendmail-compat
send-mail	/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/sendmail-compat
mailq		/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/mailq-compat
newaliases	/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/newaliases-compat
hoststat	/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/hoststat-compat
purgestat	/usr/local/<replaceable>kedvenclevelez&#245;</replaceable>/bin/purgestat-compat</programlisting>

    </sect2>

    <sect2>
      <title>A m&#251;velet befejez&eacute;se</title>

      <para>Ahogy a c&eacute;ljainknak megfelel&#245;en mindent
	be&aacute;ll&iacute;tottunk, akkor vagy egyszer&#251;en
	le&aacute;ll&iacute;tjuk a <application>sendmail</application>
	neve alatt fut&oacute; programokat &eacute;s helyett&uuml;k
	elind&iacute;tjuk az &uacute;j szoftverhez tartoz&oacute;kat,
	vagy csak &uacute;jraind&iacute;tjuk a g&eacute;pet.  Az
	&uacute;jraind&iacute;t&aacute;ssal mellesleg
	ellen&#245;rizhetj&uuml;k azt is, hogy j&oacute;l
	&aacute;ll&iacute;tottuk be a rendszer&uuml;nket &eacute;s az
	&uacute;j lev&eacute;lk&uuml;ld&#245; t&eacute;nyleg elindul a
	rendszer&uuml;nkkel egy&uuml;tt.</para>

    </sect2>
  </sect1>

  <sect1 id="mail-trouble">
    <title>A hib&aacute;k elh&aacute;r&iacute;t&aacute;sa</title>

    <indexterm>
      <primary>e-mail</primary>
      <secondary>hibaelh&aacute;r&iacute;t&aacute;s</secondary>
    </indexterm>

    <qandaset>
      <qandaentry>
	<question>
	  <para>Mi&eacute;rt kell teljes h&aacute;l&oacute;zati neveket
	    megadni a g&eacute;pemen?</para>
	</question>

	<answer>
	  <para>El&#245;fordulhat, hogy a hivatkozni
	    k&iacute;v&aacute;nt g&eacute;p val&oacute;j&aacute;ban egy
	    m&aacute;sik tartom&aacute;nyban szerepel.
	    P&eacute;ld&aacute;ul, ha az <hostid
	    role="fqdn">ize.mize.edu</hostid> g&eacute;pen vagyunk
	    &eacute;s a <hostid>vagyis</hostid> nev&#251; g&eacute;pet
	    akarjunk innen el&eacute;rni a <hostid
	    role="domainname">mize.edu</hostid> tartom&aacute;nyban,
	    akkor a teljes h&aacute;l&oacute;zati nev&eacute;vel, vagyis
	    a <hostid role="fqdn">vagyis.mize.edu</hostid> n&eacute;ven
	    kell r&aacute; hivatkoznunk, nem pedig egyszer&#251;en csak
	    <hostid>vagyis</hostid> n&eacute;ven.</para>

	  <indexterm><primary>BIND</primary></indexterm>

	  <para>R&eacute;gebben egy&eacute;bk&eacute;nt ezt a
	    BSD-t&iacute;pus&uacute; BIND n&eacute;vfelold&oacute;k
	    megengedt&eacute;k.  A &os; jelenlegi v&aacute;ltozatai
	    azonban m&aacute;r olyan <application>BIND</application>
	    verzi&oacute;t tartalmaznak, amelyek
	    alap&eacute;rtelmez&eacute;s szerint m&aacute;r nem engedik
	    a tartom&aacute;nyunkon k&iacute;v&uuml;li relat&iacute;v
	    nevek haszn&aacute;lat&aacute;t.  Teh&aacute;t a
	    <hostid>vagyis</hostid> vagy a <hostid
	    role="fqdn">vagyis.ize.mize.edu</hostid> g&eacute;p lesz,
	    vagy a legfels&#245;, gy&ouml;k&eacute;r tartom&aacute;nyban
	    keresi a rendszer.</para>

	  <para>Ez elt&eacute;r a kor&aacute;bbi
	    viselked&eacute;st&#245;l, ahol a keres&eacute;s
	    folytat&oacute;dott a <hostid
	    role="domainname">vagyis.mize.edu</hostid> &eacute;s <hostid
	    role="domainname">vagyis.edu</hostid> tartom&aacute;nyokban
	    is.  Az RFC&nbsp;1535 elolvas&aacute;s&aacute;b&oacute;l ki
	    fog der&uuml;lni, hogy mi&eacute;rt nem v&aacute;lt be ez a
	    gyakorlat &eacute;s hogy mi&eacute;rt tekinthet&#245;
	    m&eacute;g ak&aacute;r biztons&aacute;gi r&eacute;snek
	    is.</para>

	  <para>Ezt a probl&eacute;m&aacute;t egy&eacute;bk&eacute;nt
	    megoldhatjuk annyival, hogy az
	    <filename>/etc/resolv.conf</filename>
	    &aacute;llom&aacute;nyba a</para>

	  <programlisting>search ize.mize.edu mize.edu</programlisting>

	  <para>sor helyett a</para>

	  <programlisting>domain ize.mize.edu</programlisting>

	  <para>sort &iacute;rjuk be.  Arra viszont &uuml;gyelj&uuml;nk,
	    hogy a keres&eacute;si rend ne l&eacute;pje &aacute;t a
	    <quote>helyi &eacute;s nyilv&aacute;nos
	    adminisztr&aacute;ci&oacute; k&ouml;z&ouml;tt
	    megh&uacute;z&oacute;d&oacute; hat&aacute;rt</quote>, ahogy
	    azt az RFC&nbsp;1535 nevezi.</para>

	</answer>
      </qandaentry>

      <indexterm><primary>MX rekord</primary></indexterm>

      <qandaentry>
	<question>
	  <para>A <application>sendmail</application> szerint <quote>a
	    lev&eacute;l a saj&aacute;t fark&aacute;ba
	    harap</quote></para>
	</question>

	<answer>
	  <para>Ezt a <application>sendmail</application> gyakran
	    ism&eacute;rtelt k&eacute;rd&eacute;sei k&ouml;z&ouml;tt a
	    k&ouml;vetkez&#245;k&eacute;ppen v&aacute;laszolt&aacute;k
	    meg:</para>

	  <programlisting>A k&ouml;vetkez&#245; hiba&uuml;zenetet kapom:

553 MX list for <replaceable>tarom&aacute;ny.net</replaceable> points back to <replaceable>fel&eacute;.tartom&aacute;ny.net</replaceable>
554 <replaceable>felhaszn&aacute;l&oacute;@tartom&aacute;ny.net</replaceable>... Local configuration error

Hogyan oldhat&oacute; meg ez a probl&eacute;ma?

Azt k&eacute;rt&uuml;k, hogy a tartom&aacute;nyba (p&eacute;ld&aacute;ul <replaceable>tartom&aacute;ny.net</replaceable>) k&uuml;ld&ouml;tt lev&eacute;l
az MX rekord felhaszn&aacute;l&aacute;s&aacute;val egy adott g&eacute;pre legyen &aacute;tir&aacute;ny&iacute;tva
(ebben az esetben ez a <replaceable>fel&eacute;.tartom&aacute;ny.net</replaceable>), de a tov&aacute;bb&iacute;t&aacute;st v&eacute;gz&#245; g&eacute;p
nem ismeri fel mag&aacute;t a <replaceable>tartom&aacute;ny.net</replaceable> c&iacute;men. Vegy&uuml;k fel a <replaceable>tartom&aacute;ny.net</replaceable>
tartom&aacute;nyt az /etc/mail/local-host-names &aacute;llom&aacute;nyba [melyet a 8.10 el&#245;tti
verzi&oacute;kban /etc/sendmail.cw &aacute;llom&aacute;nynak h&iacute;vnak] (ha a
FEATURE(use_cw_file) be&aacute;ll&iacute;t&aacute;st haszn&aacute;ljuk) vagy tegy&uuml;k hozz&aacute; a
<quote>Cw <replaceable>tartom&aacute;ny.net</replaceable></quote> sort az /etc/mail/sendmail.cf
&aacute;llom&aacute;nyhoz.</programlisting>

	  <para>A <application>sendmail</application> GYIK a <ulink
	    url="http://www.sendmail.org/faq/"></ulink> c&iacute;men
	    tal&aacute;lhat&oacute; meg (angolul) &eacute;s
	    mindenk&eacute;ppen javasolt elolvasni, ha <quote>fel
	    szeretn&eacute;nk piszk&aacute;lni</quote> a levelez&#245;
	    rendszer&uuml;nk be&aacute;ll&iacute;t&aacute;sait.</para>
	</answer>
      </qandaentry>

      <indexterm><primary>PPP</primary></indexterm>

      <qandaentry>
	<question>
	  <para>Hogyan tudok levelez&#245; szervert futtatni egy
	    bet&aacute;rcs&aacute;z&oacute;s PPP kapcsolat
	    eset&eacute;ben?</para>
	</question>

	<answer>
	  <para>Egy helyi h&aacute;l&oacute;zaton lev&#245; &os;-s
	    g&eacute;pet akarunk teh&aacute;t az internethez kapcsolni.
	    Ez a &os;-s g&eacute;p lesz a helyi h&aacute;l&oacute;zat
	    leveleket tov&aacute;bb&iacute;t&oacute;
	    &aacute;tj&aacute;r&oacute;ja.  A PPP kapcsolat nem
	    dedik&aacute;lt.</para>

	  <indexterm><primary>UUCP</primary></indexterm>
	  <indexterm>
	    <primary>MX record</primary>
	  </indexterm>

	  <para>Legal&aacute;bb k&eacute;t m&oacute;don meg tudjuk
	    oldani.  Az egyik m&oacute;dszer szerint az UUCP
	    haszn&aacute;lat&aacute;ra lesz
	    sz&uuml;ks&eacute;g&uuml;nk.</para>

	  <para>A m&aacute;sik m&oacute;dszer szerint szerezn&uuml;nk
	    kell egy &eacute;jjel-nappal &uuml;zemel&#245; internetes
	    szervert, amely majd szolg&aacute;ltatja a m&aacute;sodlagos
	    MX rekordot a tartom&aacute;nyunkhoz.
	    P&eacute;ld&aacute;ul, ha a c&eacute;g&uuml;nk
	    tartom&aacute;nya a <hostid
	    role="domainname"><replaceable>c&eacute;g.hu</replaceable></hostid>
	    &eacute;s az internet-szolg&aacute;ltat&oacute;nk a <hostid
	    role="domainname"><replaceable>szolg&aacute;ltat&oacute;.net</replaceable></hostid>
	    n&eacute;vre be&aacute;ll&iacute;totta a
	    tartom&aacute;nyunkhoz a m&aacute;sodlagos MX
	    rekordokat:</para>

	  <programlisting><replaceable>c&eacute;g.hu</replaceable>.          MX        10      <replaceable>c&eacute;g.hu</replaceable>.
                 MX        20      <replaceable>szolg&aacute;ltat&oacute;.net</replaceable>.</programlisting>

	  <para>V&eacute;gs&#245; c&iacute;mzettk&eacute;nt csak egy
	    g&eacute;pet kell megadni (az
	    <filename>/etc/mail/sendmail.cf</filename>
	    &aacute;llom&aacute;nyba a <hostid
	    role="domainname"><replaceable>c&eacute;g.hu</replaceable></hostid>
	    c&iacute;mhez tegy&uuml;k hozz&aacute; a <literal>Cw
	    <replaceable>c&eacute;g.hu</replaceable></literal>
	    sort).</para>

	  <para>Amikor a leveleket k&uuml;ldeni akar&oacute;
	    <command>sendmail</command> megpr&oacute;b&aacute;l
	    k&eacute;zbes&iacute;teni, el&#245;sz&ouml;r hozz&aacute;nk
	    (<hostid
	    role="domainname"><replaceable>c&eacute;g.hu</replaceable></hostid>)
	    pr&oacute;b&aacute;l csatlakozni a modemes
	    &ouml;sszek&ouml;ttet&eacute;sen kereszt&uuml;l.  Ez
	    val&oacute;sz&iacute;n&#251;leg
	    id&#245;t&uacute;ll&eacute;p&eacute;ssel befejez&#245;dik,
	    mivel nem vagyunk fenn minden pillanatban a neten.  A
	    <application>sendmail</application> ekkor automatikusan a
	    m&aacute;sodlagos MX rekord &aacute;ltal megadott
	    c&iacute;mre k&uuml;ldi a levelet, teh&aacute;t a
	    szolg&aacute;ltat&oacute;nkhoz (<hostid
	    role="domainname"><replaceable>szolg&aacute;ltat&oacute;.net</replaceable></hostid>).
	    Ez a m&aacute;sodlagos MX c&iacute;m pr&oacute;b&aacute;lja
	    majd id&#245;legesen el&eacute;rni a g&eacute;p&uuml;nket
	    &eacute;s k&eacute;zbes&iacute;teni a leveleket az
	    els&#245;dleges MX rekord &aacute;ltal megadott g&eacute;pre
	    (<hostid
	    role="domainname"><replaceable>c&eacute;g.hu</replaceable></hostid>).</para>

	  <para>A bejelentkez&eacute;skor ez&eacute;rt egy
	    hasonl&oacute; szkriptet kell lefuttatnunk:</para>

	  <programlisting>#!/bin/sh
# Tegy&uuml;k a /usr/local/bin/pppmyisp &aacute;llom&aacute;nyba:
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmyisp</programlisting>

	  <para>Ha k&eacute;sz&iacute;t&uuml;nk egy k&uuml;l&ouml;n
	    bejelentkez&#245; szkriptet a felhaszn&aacute;l&oacute;k
	    sz&aacute;m&aacute;ra, akkor a <command>sendmail
	    -qR<replaceable>c&eacute;g.hu</replaceable></command>
	    parancsot is haszn&aacute;lhatjuk a fenti szkript helyett.
	    Ezzel a <hostid
	    role="domainname"><replaceable>c&eacute;g.hu</replaceable></hostid>
	    sor&aacute;ban tal&aacute;lhat&oacute; &ouml;sszes
	    lev&eacute;l azonnal feldolgoz&aacute;sra ker&uuml;l.</para>

	  <para>A helyzetet &iacute;gy lehetne m&eacute;g jobban
	    pontos&iacute;tani:</para>

	  <para>Az al&aacute;bbi &uuml;zenet a &a.isp;
	    arch&iacute;vum&aacute;b&oacute;l sz&aacute;rmazik.</para>

	  <programlisting>&gt; we provide the secondary MX for a customer. The customer connects to
&gt; our services several times a day automatically to get the mails to
&gt; his primary MX (We do not call his site when a mail for his domains
&gt; arrived). Our sendmail sends the mailqueue every 30 minutes. At the
&gt; moment he has to stay 30 minutes online to be sure that all mail is
&gt; gone to the primary MX.
&gt;
&gt; Is there a command that would initiate sendmail to send all the mails
&gt; now? The user has not root-privileges on our machine of course.

In the <quote>privacy flags</quote> section of sendmail.cf, there is a
definition Opgoaway,restrictqrun

Remove restrictqrun to allow non-root users to start the queue processing.
You might also like to rearrange the MXs. We are the 1st MX for our
customers like this, and we have defined:

# If we are the best MX for a host, try directly instead of generating
# local config error.
OwTrue

That way a remote site will deliver straight to you, without trying
the customer connection.  You then send to your customer.  Only works for
<quote>hosts</quote>, so you need to get your customer to name their mail
machine <quote>customer.com</quote> as well as
<quote>hostname.customer.com</quote> in the DNS.  Just put an A record in
the DNS for <quote>customer.com</quote>.</programlisting>

	  <para>Az id&eacute;zet ford&iacute;t&aacute;sa:</para>

	  <programlisting>&gt; M&aacute;sodlagos MX rekordot biztos&iacute;tunk az &uuml;gyfeleinknek.  Az &uuml;gyfelek ezut&aacute;n automatikusan
&gt; csatlakoznak naponta ak&aacute;r t&ouml;bbsz&ouml;r is a szolg&aacute;ltat&aacute;sunkhoz &eacute;s leszedik az els&#245;dleges MX
&gt; rekordhoz tartoz&oacute; leveleket.  (Nem sz&oacute;lunk neki, amikor a tartom&aacute;ny&aacute;hoz lev&eacute;l
&gt; &eacute;rkezik.) A sendmail programunk minden 30 percben elk&uuml;ldi a sorban felhalmoz&oacute;dott
&gt; leveleket.  Teh&aacute;t jelen pillanatban legal&aacute;bb 30 percig fenn kell lennie az &uuml;gyf&eacute;lnek, hogy
&gt; rendben megkapja az els&#245;dlegesre MX rekordra.
&gt;
&gt; L&eacute;tezik valamilyen parancs a sendmail programhoz, amellyel azonnal lek&eacute;rhetj&uuml;k az &ouml;sszes
&gt; level&uuml;nket?  A felhaszn&aacute;l&oacute;mnak term&eacute;szetesen nincsenek rendszergazdai jogosults&aacute;gai az adott
&gt; g&eacute;pen.

A sendmail.cf <quote>privacy flags</quote> be&aacute;ll&iacute;t&aacute;sai k&ouml;z&ouml;tt van egy defin&iacute;ci&oacute;, az
Opgoaway,restrictqrun.

Vegy&uuml;k ki innen a restrictqrun be&aacute;ll&iacute;t&aacute;st, amivel a nem root felhaszn&aacute;l&oacute;k is megind&iacute;thatj&aacute;k a
sor feldolgoz&aacute;s&aacute;t.  Val&oacute;sz&iacute;n&#251;leg az MX-ek &aacute;trendez&eacute;s&eacute;re is sz&uuml;ks&eacute;g lesz.  Mi vagyunk az els&#245; MX
az ilyen t&iacute;pus&uacute; &uuml;gyfelek sz&aacute;m&aacute;ra, &eacute;s ezt adtuk meg:

# Ha mi vagyunk a legjobb MX a lev&eacute;l sz&aacute;m&aacute;ra, akkor ne gener&aacute;ljunk
# helyi be&aacute;ll&iacute;t&aacute;si hib&aacute;t, hanem pr&oacute;b&aacute;lkozzunk k&ouml;zvetlen&uuml;l.
OwTrue

Ezzel m&aacute;r a t&aacute;voli g&eacute;p k&ouml;zvetlen&uuml;l nek&uuml;nk k&uuml;ld an&eacute;lk&uuml;l, hogy pr&oacute;b&aacute;lkozna az &uuml;gyf&eacute;l kapcsolat&aacute;val.
Ezt majd tov&aacute;bbk&uuml;ldj&uuml;nk az &uuml;gyf&eacute;lnek.  Ez csak h&aacute;l&oacute;zati nevek eset&eacute;ben m&#251;k&ouml;dik, teh&aacute;t az &uuml;gyfel&uuml;nknek
el kell neveznie a leveleket fogad&oacute; g&eacute;p&eacute;t <quote>customer.com</quote>-nak, valamint a fel kell venni a
<quote>hostname.customer.com</quote> c&iacute;met is a DNS-be.  Ehhez egyszer&#251;en csak elegend&#245; egy A rekordot
betenni a <quote>customer.com</quote>-hoz.</programlisting>

	</answer>
      </qandaentry>

      <qandaentry>
	<question>
	  <para>Mi&eacute;rt kapok folyton <errorname>Relaying
	    Denied</errorname> hib&aacute;t, amikor m&aacute;s
	    g&eacute;pekr&#245;l k&uuml;ld&ouml;k levelet?</para>
	</question>

	<answer>
	  <para>A &os; alap&eacute;rtelmezett telep&iacute;t&eacute;se
	    sor&aacute;n a <application>sendmail</application>
	    &uacute;gy &aacute;ll&iacute;t&oacute;dik be, hogy csak
	    arr&oacute;l a g&eacute;pr&#245;l k&uuml;ldhet&uuml;nk vele
	    levelet, ahol fut.  P&eacute;ld&aacute;ul, ha
	    <acronym>POP</acronym> szerver is el&eacute;rhet&#245;,
	    akkor a felhaszn&aacute;l&oacute;k meg tudj&aacute;k
	    n&eacute;zni a leveleiket az iskol&aacute;b&oacute;l,
	    munk&aacute;b&oacute;l vagy b&aacute;rmilyen m&aacute;s
	    t&aacute;voli helyr&#245;l, de leveleket onnan
	    tov&aacute;bbra sem tudnak k&uuml;ldeni.
	    &Aacute;ltal&aacute;ban p&aacute;r pillanattal a
	    pr&oacute;b&aacute;lkoz&aacute;s ut&aacute;n a
	    <application>MAILER-DAEMON</application> k&uuml;ldeni fog
	    egy <errorname>5.7 Relaying Denied</errorname>
	    (<errorname>5.7 A tov&aacute;bb&iacute;t&aacute;s nem
	    enged&eacute;lyezett</errorname>) &uuml;zenetet.</para>

	  <para>T&ouml;bb lehet&#245;s&eacute;g&uuml;nk is van ennek
	    megker&uuml;l&eacute;s&eacute;re.  Az a legegyszer&#251;bb
	    m&oacute;dszer, ha az internet-szolg&aacute;ltat&oacute;nk
	    c&iacute;m&eacute;t felvessz&uuml;k az
	    <filename>/etc/mail/relay-domains</filename>
	    &aacute;llom&aacute;nyba.  P&eacute;ld&aacute;ul
	    &iacute;gy:</para>

	  <screen>&prompt.root; <userinput>echo "<replaceable>az.internet.szolg&aacute;ltat&oacute;.net</replaceable>" &gt; /etc/mail/relay-domains</userinput></screen>

	  <para>Az &aacute;llom&aacute;ny l&eacute;trehoz&aacute;sa vagy
	    m&oacute;dos&iacute;t&aacute;sa ut&aacute;n &uacute;jra kell
	    ind&iacute;tanunk a <application>sendmail</application>
	    programot.  Ez remek&uuml;l m&#251;k&ouml;dik abban az
	    esetben, ha rendszergazd&aacute;k vagyunk &eacute;s nem
	    akarunk a helyi g&eacute;pr&#245;l levelet k&uuml;ldeni,
	    vagy egy m&aacute;sik g&eacute;pen vagy ak&aacute;r
	    m&aacute;sik internet-szolg&aacute;ltat&oacute;val akarunk
	    valamilyen kattingat&oacute;s levelez&#245; programot
	    haszn&aacute;lni.  Olyankor is nagyon hasznos lehet, amikor
	    csak egy vagy k&eacute;t e-mail
	    hozz&aacute;f&eacute;r&eacute;st &aacute;ll&iacute;tottunk
	    be.  Ha egyszerre t&ouml;bb c&iacute;met is fel
	    szeretn&eacute;nk venni, akkor nyissuk meg ezt az
	    &aacute;llom&aacute;nyt a kedvenc
	    sz&ouml;vegszerkeszt&#245;nkkel &eacute;s &iacute;rjuk be a
	    tartom&aacute;nyokat, soronk&eacute;nt egyet:</para>

	  <programlisting>saj&aacute;t.internet.szolg&aacute;ltat&oacute;.net
m&aacute;sik.internet.szolg&aacute;ltat&oacute;.com
felhaszn&aacute;l&oacute;k-internet.szolg&aacute;ltat&oacute;.ja
www.minta.org</programlisting>

	  <para>Innent&#245;l kezdve a list&aacute;ban szerepl&#245;
	    b&aacute;rmelyik g&eacute;pr&#245;l tudunk levelet
	    k&uuml;ldeni (felt&eacute;ve, hogy az adott
	    felhaszn&aacute;l&oacute; hozz&aacute;f&eacute;r a
	    g&eacute;p&uuml;nkh&ouml;z).  Ezzel
	    gy&ouml;ny&ouml;r&#251;en megoldhatjuk, hogy a
	    felhaszn&aacute;l&oacute;ink k&eacute;pesek legyenek
	    t&aacute;volr&oacute;l is levelet k&uuml;ldeni a
	    rendszer&uuml;nk&ouml;n kereszt&uuml;l an&eacute;lk&uuml;l,
	    hogy m&aacute;sok pedig szemetet k&uuml;lden&eacute;nek
	    &aacute;t rajtunk.</para>

	</answer>
      </qandaentry>
    </qandaset>
  </sect1>

  <sect1 id="mail-advanced">
    <title>Komolyabb t&eacute;m&aacute;k</title>

    <para>A k&ouml;vetkez&#245; szakaszban sz&oacute;ba ker&uuml;lnek
      olyan komolyabb t&eacute;m&aacute;k, mint p&eacute;ld&aacute;ul a
      levelek konfigur&aacute;ci&oacute;ja &eacute;s a levelez&eacute;s
      be&aacute;ll&iacute;t&aacute;sa az eg&eacute;sz tartom&aacute;ny
      sz&aacute;m&aacute;ra.</para>

    <sect2 id="mail-config">
      <title>Alapvet&#245; be&aacute;ll&iacute;t&aacute;sok</title>

      <indexterm>
	<primary>e-mail</primary>
	<secondary>be&aacute;ll&iacute;t&aacute;s</secondary>
      </indexterm>

      <para>Alapb&oacute;l k&eacute;pesnek kell lenn&uuml;nk leveleket
	k&uuml;ldeni k&uuml;ls&#245; g&eacute;pekre eg&eacute;szen
	addig, am&iacute;g az <filename>/etc/resolv.conf</filename>
	&aacute;llom&aacute;ny a megfelel&#245;
	be&aacute;ll&iacute;t&aacute;sokat tartalmazza vagy egy
	saj&aacute;t n&eacute;vszervert futtatunk.  Ha
	szeretn&eacute;nk, hogy a g&eacute;p&uuml;nkre
	&eacute;rkez&#245; levelek el&eacute;rj&eacute;k a &os;-s
	g&eacute;p&uuml;nk&ouml;n fut&oacute;
	lev&eacute;ltov&aacute;bb&iacute;t&oacute;
	&uuml;gyn&ouml;k&ouml;t (p&eacute;ld&aacute;ul a
	<application>sendmail</application> programot), akkor erre
	k&eacute;t m&oacute;dszer k&iacute;n&aacute;lkozik:</para>

      <itemizedlist>
	<listitem>
	  <para>Futtassunk saj&aacute;t n&eacute;vszervert &eacute;s
	    hozzunk l&eacute;tre magunknak egy tartom&aacute;nyt.
	    P&eacute;ld&aacute;ul <hostid
	    role="domainname">FreeBSD.org</hostid>.</para>
	</listitem>

	<listitem>
	  <para>K&ouml;zvetlen&uuml;l a g&eacute;p&uuml;nkre
	    k&uuml;ldess&uuml;k a leveleket.  Ezt &uacute;gy
	    tehetj&uuml;k meg, ha egyb&#245;l a
	    g&eacute;p&uuml;nkh&ouml;z tartoz&oacute; DNS n&eacute;vre
	    k&uuml;ldetj&uuml;k a leveleket.  P&eacute;ld&aacute;ul az
	    <hostid role="fqdn">enyem.FreeBSD.org</hostid>
	    c&iacute;mre.</para>
	</listitem>
      </itemizedlist>

      <indexterm><primary>SMTP</primary></indexterm>

      <para>F&uuml;ggetlen&uuml;l att&oacute;l, hogy a fentiek
	k&ouml;z&uuml;l melyik megold&aacute;st v&aacute;lasztjuk, a
	levelek csak akkor tudnak eljutni k&ouml;zvetlen&uuml;l a
	g&eacute;p&uuml;nkre, ha &aacute;lland&oacute;, statikus
	IP-c&iacute;mmel rendelkez&uuml;nk (teh&aacute;t nem dinamikus
	c&iacute;mmel, amit &aacute;ltal&aacute;ban a
	bet&aacute;rcs&aacute;z&oacute;s PPP kapcsolatokhoz szoktak
	kiosztani).  Ha t&#251;zfal m&ouml;g&ouml;tt vagyunk, akkor
	valamilyen m&oacute;don fel&eacute;nk kell
	ir&aacute;ny&iacute;tani az SMTP forgalmat is.  Ha
	k&ouml;zvetlen&uuml;l a g&eacute;p&uuml;nk&ouml;n akarjuk
	fogadni a leveleket, akkor a k&ouml;vetkez&#245; kett&#245;
	k&ouml;z&uuml;l az egyik mindenk&eacute;ppen kelleni fog:</para>

      <itemizedlist>
	<indexterm><primary>MX rekord</primary></indexterm>
	<listitem>
	  <para>Gondoskodjunk r&oacute;la, hogy a hozz&aacute;nk
	    tartoz&oacute; DNS-ben (legkisebb sorsz&aacute;m&uacute;) MX
	    rekord a g&eacute;p&uuml;nk IP-c&iacute;m&eacute;re
	    mutat.</para>
	</listitem>

	<listitem>
	  <para>Gondoskodjunk r&oacute;la, hogy a hozz&aacute;nk
	    tartoz&oacute; DNS-ben nincs semmilyen MX rekord a
	    g&eacute;p&uuml;nkh&ouml;z.</para>
	</listitem>
      </itemizedlist>

      <para>A fentiek k&ouml;z&uuml;l b&aacute;rmelyik el&eacute;g
	ahhoz, hogy k&ouml;zvetlen&uuml;l a g&eacute;p&uuml;nkre
	&eacute;rkezzen meg a lev&eacute;l.</para>

      <para>Pr&oacute;b&aacute;ljuk ki:</para>

      <screen>&prompt.root; <userinput>hostname</userinput>
enyem.FreeBSD.org
&prompt.root; <userinput>host enyem.FreeBSD.org</userinput>
enyem.FreeBSD.org has address 204.216.27.XX</screen>

      <para>Ha ezt l&aacute;tjuk, akkor minden gond n&eacute;lk&uuml;l
	lehet k&uuml;ldeni levelet a <email
	role="nolink">nevem@enyem.FreeBSD.org</email> a c&iacute;mre
	(felt&eacute;telezve, hogy a <application>sendmail</application>
	megfelel&#245;en m&#251;k&ouml;dik az <hostid
	role="fqdn">enyem.FreeBSD.org</hostid> c&iacute;men).</para>

      <para>Ha viszont ehhez hasonl&oacute;t tapasztalunk:</para>

      <screen>&prompt.root; <userinput>host enyem.FreeBSD.org</userinput>
enyem.FreeBSD.org has address 204.216.27.XX
enyem.FreeBSD.org mail is handled (pri=10) by kozpont.FreeBSD.org</screen>

      <para>A g&eacute;p&uuml;nkre (<hostid
	role="fqdn">enyem.FreeBSD.org</hostid>) k&uuml;ld&ouml;tt
	&ouml;sszes levelet a <hostid>kozpont</hostid> szedi &ouml;ssze
	ugyanazon felhaszn&aacute;l&oacute;i n&eacute;vvel ahelyett,
	hogy k&ouml;zvetlen&uuml;l a g&eacute;p&uuml;nkre k&uuml;ldeni
	ezeket.</para>

      <para>Az im&eacute;nti adatokat a DNS szerver hat&aacute;rozza
	meg.  A levelek tov&aacute;bb&iacute;t&aacute;s&aacute;val
	kapcsolatos inform&aacute;ci&oacute;kat az
	<emphasis>MX</emphasis> mint <emphasis>M</emphasis>ail
	e<emphasis>X</emphasis>change DNS-rekord t&aacute;rolja.  Ha
	nincs ilyen MX rekord, akkor az IP-c&iacute;m alapj&aacute;n
	k&ouml;zvetlen&uuml;l az adott g&eacute;phez ker&uuml;l a
	lev&eacute;l.</para>

      <para>P&eacute;ld&aacute;ul a <hostid
	role="fqdn">freefall.FreeBSD.org</hostid> MX rekordja
	hajdan&aacute;n &iacute;gy n&eacute;zett ki:</para>

      <programlisting>freefall		MX	30	mail.crl.net
freefall		MX	40	agora.rdrop.com
freefall		MX	10	freefall.FreeBSD.org
freefall		MX	20	who.cdrom.com</programlisting>

      <para>L&aacute;thatjuk, hogy a <hostid>freefall</hostid>
	eset&eacute;ben t&ouml;bb MX bejegyz&eacute;s is szerepel.  A
	legalacsonyabb MX-sz&aacute;m&uacute; g&eacute;p fogja kapni az
	erre a c&iacute;mre be&eacute;rkez&#245; leveleket, amennyiben
	el&eacute;rhet&#245;.  Ha valamilyen okb&oacute;l nem
	&eacute;rhet&#245; el, akkor helyette ideiglenesen a
	t&ouml;bbiek (melyeket n&eacute;ha csak <quote>tartal&eacute;k
	MX-eknek</quote> neveznek) veszik &aacute;t a levelet &eacute;s
	&aacute;tadj&aacute;k a legalacsonyabb sz&aacute;m&uacute;nak,
	amint az &uacute;jra el&eacute;rhet&#245;v&eacute;
	v&aacute;lik.</para>

      <para>A tartal&eacute;k jelleggel megadott MX g&eacute;pek akkor
	&eacute;rnek t&eacute;nylegesen valamit, ha teljesen
	m&aacute;shonnan csatlakoznak az internethez.  Az internet
	szolg&aacute;ltat&oacute; vagy egy ismer&#245;s&uuml;nk
	g&eacute;pe val&oacute;sz&iacute;n&#251;leg minden
	tov&aacute;bbi n&eacute;lk&uuml;l seg&iacute;t ennek
	megold&aacute;s&aacute;ban.</para>

    </sect2>

    <sect2 id="mail-domain">
      <title>Egy eg&eacute;sz tartom&aacute;ny leveleinek
	kezel&eacute;se</title>

      <para>Egy levelez&#245; szerver
	be&aacute;ll&iacute;t&aacute;s&aacute;hoz valahogy meg kell
	tudnunk oldalni, hogy a k&uuml;l&ouml;nb&ouml;z&#245;
	munka&aacute;llom&aacute;sokra k&uuml;ld&ouml;tt levelek
	k&ouml;zvetlen&uuml;l hozz&aacute; fussanak be.  Alapvet&#245;en
	teh&aacute;t arr&oacute;l lenne sz&oacute;, hogy a
	tartom&aacute;nyunkon (ez ebben az esetben a <hostid
	role="fqdn">*.FreeBSD.org</hostid>) bel&uuml;li g&eacute;pekre
	c&iacute;mzett levelekre ez a g&eacute;p <quote>tart
	ig&eacute;nyt</quote> &eacute;s &iacute;gy ezek ide
	ir&aacute;ny&iacute;t&oacute;dnak &aacute;t, majd a
	felhaszn&aacute;l&oacute;k err&#245;l a k&ouml;zponti
	levelez&#245; szerverr&#245;l kapj&aacute;k meg a
	leveleiket.</para>

      <indexterm><primary>DNS</primary></indexterm>

      <para>Az &eacute;let&uuml;nk
	megk&ouml;nny&iacute;t&eacute;s&eacute;hez minden
	felhaszn&aacute;l&oacute;nak l&eacute;trehozzuk a saj&aacute;t
	<emphasis>felhaszn&aacute;l&oacute;i nev&eacute;t</emphasis> a
	levelez&#245; szerveren is.  Ezt az &man.adduser.8; paranccsal
	gyorsan el is v&eacute;gezhetj&uuml;k.</para>

      <para>A levelez&#245; szerver lesz a h&aacute;l&oacute;zat
	&ouml;sszes munka&aacute;llom&aacute;s&aacute;hoz kirendelt
	lev&eacute;lv&aacute;lt&oacute;.  Ezt a DNS
	be&aacute;ll&iacute;t&aacute;sai k&ouml;z&ouml;tt &iacute;gy
	adhatjuk meg:</para>

      <programlisting>enyem.FreeBSD.org	A	204.216.27.XX		; Munka&aacute;llom&aacute;s
			MX	10 kozpont.FreeBSD.org	; Levelez&#245; szerver</programlisting>

      <para>Ezzel l&eacute;nyeg&eacute;ben az A rekord figyelmen
	k&iacute;v&uuml;l hagy&aacute;s&aacute;val
	&aacute;tir&aacute;ny&iacute;tjuk a munka&aacute;llom&aacute;sok
	sz&aacute;m&aacute;ra &eacute;rkez&#245; &ouml;sszes levelet a
	levelez&#245; szerverre.  A levelek teh&aacute;t az MX rekord
	&aacute;ltal mutatott c&iacute;mre mennek ki.</para>

      <para>Ezt &ouml;n&aacute;ll&oacute;an nem tudjuk elv&eacute;gezni,
	hacsak nem futattunk egy saj&aacute;t DNS szervert.  Ha nincsen
	vagy nem is tudunk DNS szervert futtatni, akkor ebben a
	k&eacute;rd&eacute;sben egyeztess&uuml;nk az
	internet-szolg&aacute;ltat&oacute;nkkal vagy b&aacute;rkivel,
	aki a DNS be&aacute;ll&iacute;t&aacute;sai&eacute;rt
	felel&#245;s.</para>

      <para>Ha virtu&aacute;lis e-mail c&iacute;mket is kezel&uuml;nk,
	akkor a most k&ouml;vetkez&#245; inform&aacute;ci&oacute;
	m&eacute;g a hasznunkra lehet.  A p&eacute;lda
	kedv&eacute;&eacute;rt most feltessz&uuml;k, hogy a
	tartom&aacute;nyunkban van egy &uuml;gyfel&uuml;nk, jelen
	esetben az <hostid role="domainname">ugyfel1.org</hostid>,
	&eacute;s azt akarjuk, hogy az <hostid
	role="fqdn">ugyfel1.org</hostid> c&iacute;m&eacute;re
	k&uuml;ld&ouml;tt levelek a saj&aacute;t levelez&#245;
	szerver&uuml;nkre ker&uuml;ljenek &aacute;t, a <hostid
	role="fqdn">level.sajat.com</hostid> c&iacute;mre.  A DNS-t
	ehhez &iacute;gy kell be&aacute;ll&iacute;tani:</para>

      <programlisting>ugyfel1.org		MX	10	level.sajat.com</programlisting>

      <para>Ha csak az <hostid role="domainname">ugyfel1.org</hostid>
	levelez&eacute;s&eacute;t akarjuk kezelni, akkor ahhoz
	<emphasis>nem</emphasis> kell k&uuml;l&ouml;n A rekord.</para>

      <note>
	<para>Vigy&aacute;zzunk, mert az <hostid
	  role="domainname">ugyfel1.org</hostid> csak akkor
	  pingelhet&#245;, ha l&eacute;tezik hozz&aacute; A
	  rekord.</para>
      </note>

      <para>Befejez&eacute;s&uuml;l a levelez&#245;
	szerver&uuml;nk&ouml;n fut&oacute;
	<application>sendmail</application> sz&aacute;m&aacute;ra is fel
	kell t&aacute;rnunk, hogy milyen tartom&aacute;nyokhoz
	&eacute;s/vagy h&aacute;l&oacute;zati nevekhez fogadjon
	leveleket.  Ezt t&ouml;bb m&oacute;don is
	elv&eacute;gezhetj&uuml;k.  A k&ouml;vetkez&#245;k
	b&aacute;rmelyik megfelel erre a c&eacute;lra:</para>

      <itemizedlist>
	<listitem>
	  <para>A <literal>FEATURE(use_cw_file)</literal>
	    haszn&aacute;lata eset&eacute;n vegy&uuml;k fel a
	    c&iacute;meket az
	    <filename>/etc/mail/local-host-names</filename>
	    &aacute;llom&aacute;nyba.  Ha a
	    <application>sendmail</application> 8.10 el&#245;tti
	    v&aacute;ltozatai eset&eacute;ben ehhez az
	    <filename>/etc/sendmail.cw</filename>
	    &aacute;llom&aacute;nyra lesz
	    sz&uuml;ks&eacute;g&uuml;nk.</para>
	</listitem>

	<listitem>
	  <para>Tegy&uuml;k be a <literal>Cwsajat.cimunk.com</literal>
	    sort az <filename>/etc/sendmail.cf</filename> vagy a
	    <application>sendmail</application> 8.10 &eacute;s
	    k&eacute;s&#245;bbi v&aacute;ltozatai eset&eacute;n az
	    <filename>/etc/mail/sendmail.cf</filename>
	    &aacute;llom&aacute;nyba.</para>
	</listitem>
      </itemizedlist>

    </sect2>
  </sect1>

  <sect1 id="SMTP-UUCP">
    <title>SMTP &eacute;s az UUCP</title>

    <para>A &os;-hez tartoz&oacute; <application>sendmail</application>
      olyan g&eacute;pek sz&aacute;m&aacute;ra lett kialak&iacute;tva,
      amelyek k&ouml;zvetlen&uuml;l az internethez csatlakoznak.  Az
      UUCP haszn&aacute;lat&aacute;val levelez&#245; rendszerek
      sz&aacute;m&aacute;ra egy m&aacute;sik konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyt kell telep&iacute;teni a
      <application>sendmail</application> sz&aacute;m&aacute;ra.</para>

    <para>Az <filename>/etc/mail/sendmail.cf</filename>
      &aacute;ll&iacute;t&aacute;sa k&eacute;zzel
      egy&aacute;ltal&aacute;n nem k&ouml;nny&#251;.  A
      <application>sendmail</application> 8.  v&aacute;ltozata
      r&aacute;ad&aacute;sul a konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyokat az &man.m4.1; el&#245;feldolgoz&oacute;
      seg&iacute;ts&eacute;g&eacute;vel gy&aacute;rtja le, ahol a
      t&eacute;nyleges be&aacute;ll&iacute;t&aacute;sok egy magasabb
      absztrakci&oacute;s szinten jelennek meg.  Az &man.m4.1;
      t&iacute;pus&uacute; konfigur&aacute;ci&oacute;s
      &aacute;llom&aacute;nyok a
      <filename>/usr/share/sendmail/cf</filename>
      k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute;ak.  A
      <filename>cf</filename> alk&ouml;nyvt&aacute;rban lev&#245;
      <filename>README</filename> &aacute;llom&aacute;ny igyekszik a
      felhaszn&aacute;l&oacute;t bevezetni az &man.m4.1; alap&uacute;
      be&aacute;ll&iacute;t&aacute;sok vil&aacute;g&aacute;ba.</para>

    <para>A <literal>mailertable</literal> nev&#251;
      lehet&#245;s&eacute;g haszn&aacute;lat&aacute;val tudjuk a
      legjobban t&aacute;mogatni az UUCP protokollon kereszt&uuml;li
      k&eacute;zbes&iacute;t&eacute;st.  Ezzel fel&eacute;p&uuml;l egy
      olyan adatb&aacute;zis, amelyet a
      <application>sendmail</application> fel tud haszn&aacute;lni a
      tov&aacute;bb&iacute;t&aacute;st &eacute;rint&#245;
      d&ouml;nt&eacute;sekben.</para>

    <para>Ehhez els&#245;k&eacute;nt hozzuk is l&eacute;tre a
      saj&aacute;t <filename>.mc</filename> &aacute;llom&aacute;nyunkat.
      Ehhez a <filename>/usr/share/sendmail/cf/cf</filename>
      k&ouml;nyvt&aacute;r tartalmaz n&eacute;h&aacute;ny
      p&eacute;ld&aacute;t.  H&iacute;vjuk most ezt az
      &aacute;llomnyunkat <filename>ize.mc</filename> n&eacute;ven.  A
      k&ouml;vetkez&#245; m&oacute;dszerrel tudjuk egy val&oacute;s
      <filename>sendmail.cf</filename> &aacute;llom&aacute;nny&aacute;
      alak&iacute;tani:</para>

    <screen>&prompt.root; <userinput>cd /etc/mail</userinput>
&prompt.root; <userinput>make ize.cf</userinput>
&prompt.root; <userinput>cp ize.cf /etc/mail/sendmail.cf</userinput></screen>

    <para>Egy &aacute;tlagos <filename>.mc</filename>
      &aacute;llom&aacute;ny egy&eacute;bk&eacute;nt valahogy &iacute;gy
      &eacute;p&uuml;l fel:</para>

    <programlisting>VERSIONID(`<replaceable>verzi&oacute;sz&aacute;m</replaceable>') OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable')

define(`UUCP_RELAY', <replaceable>sajat.uucp.relay</replaceable>)
define(`UUCP_MAX_SIZE', 200000)
define(`confDONT_PROBE_INTERFACES')

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    <replaceable>sajat.al.nev</replaceable>
Cw    <replaceable>azuucpgepneve.UUCP</replaceable></programlisting>

    <para>Az <literal>accept_unresolvable_domains</literal>,
      <literal>nocanonify</literal> &eacute;s
      <literal>confDONT_PROBE_INTERFACES</literal>
      lehet&#245;s&eacute;gekre hivatkoz&oacute; sorok
      megakad&aacute;lyozz&aacute;k, hogy a lev&eacute;l
      k&eacute;zbes&iacute;t&eacute;s&eacute;ben a DNS is szerepet
      j&aacute;tsszon.  Az <literal>UUCP_RELAY</literal> az UUCP
      alap&uacute; k&eacute;zbes&iacute;t&eacute;s
      t&aacute;mogat&aacute;s&aacute;t enged&eacute;lyezi.
      Egyszer&#251;en csak &iacute;rjunk ide egy internetes
      h&aacute;l&oacute;zati nevet, amely k&eacute;pes feldolgozni az
      .UUCP &aacute;ltartom&aacute;ny c&iacute;meit.  Az esetek
      t&ouml;bbs&eacute;g&eacute;ben ide az
      internet-szolg&aacute;ltat&oacute;nk levelek
      tov&aacute;bbk&uuml;ld&eacute;s&eacute;&eacute;rt felel&#245;s
      g&eacute;pe ker&uuml;l.</para>

    <para>Miut&aacute;n ezzel v&eacute;gezt&uuml;nk,
      sz&uuml;ks&eacute;g&uuml;nk lesz m&eacute;g az
      <filename>/etc/mail/mailertable</filename>
      &aacute;llom&aacute;nyra is.  Ha a k&uuml;lvil&aacute;g
      fel&eacute; csak egyetlen &ouml;sszek&ouml;ttet&eacute;st
      haszn&aacute;lunk a levelekhez, akkor az al&aacute;bbi pontosan
      megfelel:</para>

    <programlisting>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.                             uucp-dom:<replaceable>sajat.uucp.relay</replaceable></programlisting>

    <para>Egy bonyolultabb p&eacute;lda pedig &iacute;gy n&eacute;z
      ki:</para>

    <programlisting>#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</programlisting>

    <para>Az els&#245; h&aacute;rom sor azokat a speci&aacute;lis
      eseteket kezeli, ahol a tartom&aacute;ny fel&eacute;
      k&uuml;ld&ouml;tt levelek nem az alap&eacute;rtelmezett
      &uacute;ton vissz&uuml;k tov&aacute;bb, hanem valamelyik UUCP
      szomsz&eacute;d fel&eacute; &eacute;s &iacute;gy <quote>le tudjuk
      r&ouml;vid&iacute;teni</quote> a k&eacute;zbes&iacute;t&eacute;s
      &uacute;tvonal&aacute;t.  Az ezeket k&ouml;vet&#245; sor dolgozza
      fel a helyi Ethernet tartom&aacute;ny fel&eacute; STMP protokollal
      tov&aacute;bb&iacute;that&oacute; leveleket.  V&eacute;g&uuml;l az
      UUCP szomsz&eacute;dokat is felsoroljuk az .UUCP
      &aacute;ltartom&aacute;ny jel&ouml;l&eacute;se szerint, &iacute;gy
      megengedj&uuml;k, hogy a
      <literal><replaceable>uucp-szomsz&eacute;d</replaceable>!
      <replaceable>c&iacute;mzett</replaceable></literal>
      fel&uuml;lb&iacute;r&aacute;lja az alap&eacute;rtelmezett
      szab&aacute;lyokat.  Az utols&oacute; sorban mindig egyetlen pont
      szerepel, ami minden m&aacute;sra illeszkedik, &iacute;gy az UUCP
      k&eacute;zbes&iacute;t&eacute;s egy olyan UUCP szomsz&eacute;d
      fel&eacute; halad, amely a vil&aacute;g fel&eacute; egy
      univerz&aacute;lis levelez&#245; &aacute;tj&aacute;r&oacute;nak
      tekinthet&#245;.  A <literal>uucp-dom:</literal> kulcssz&oacute;
      m&ouml;g&ouml;tt szerepl&#245; &ouml;sszes csom&oacute;pont
      nev&eacute;nek &eacute;rv&eacute;nyes UUCP szomsz&eacute;dra kell
      utalnia, amelyet a <command>uuname</command> paranccsal le is
      tudunk ellen&#245;rizni.</para>

    <para>A feladatb&oacute;l m&aacute;r csak annyi maradt h&aacute;tra,
      hogy haszn&aacute;lat el&#245;tt ezt az &aacute;llom&aacute;nyt
      &aacute;t kell alak&iacute;tani DBM adatb&aacute;zis
      form&aacute;tumba.  Az ehhez sz&uuml;ks&eacute;ges parancsot
      &eacute;rdemes <filename>mailertable</filename>
      &aacute;llom&aacute;ny elej&eacute;re bejegyz&eacute;sben
      fel&iacute;rni.  A <filename>mailertable</filename>
      megv&aacute;ltoztat&aacute;sakor mindig le kell futtatni ezt a
      parancsot.</para>

    <para>Utols&oacute; j&oacute;tan&aacute;cs: ha nem lenn&eacute;nk
      biztosak valamelyik k&eacute;zbes&iacute;t&eacute;si
      &uacute;tvonal m&#251;k&ouml;d&eacute;s&eacute;ben, ne
      felejts&uuml;k el a <application>sendmail</application>
      <option>-bt</option> be&aacute;ll&iacute;t&aacute;s&aacute;t.
      Ezzel a <application>sendmail</application> az &uacute;n.
      <emphasis>c&iacute;mtesztel&#245; m&oacute;dban</emphasis>
      (address test mode) indul el.  G&eacute;pelj&uuml;k be, hogy
      <literal>3,0</literal>, majd &iacute;rjuk be a tesztelni
      k&iacute;v&aacute;nt c&iacute;met.  Az utols&oacute; sorban
      l&aacute;thatjuk a felhaszn&aacute;lt bels&#245;
      lev&eacute;ltov&aacute;bb&iacute;t&oacute;
      &uuml;gyn&ouml;k&ouml;t, a c&eacute;lg&eacute;pet, amellyel ezt
      megh&iacute;vjuk, &eacute;s a (val&oacute;sz&iacute;n&#251;leg az
      &aacute;tford&iacute;tott) c&iacute;met.  Innen a <keycombo
      action="simul"><keycap>Ctrl</keycap><keycap>D</keycap></keycombo>
      billenty&#251;kombin&aacute;ci&oacute;val l&eacute;phet&uuml;nk
      ki.</para>

    <screen>&prompt.user; <userinput>sendmail -bt</userinput>
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &lt;ruleset&gt; &lt;address&gt;
<prompt>&gt;</prompt> <userinput>3,0 ize@pelda.com</userinput>
canonify           input: ize @ pelda . com
...
parse            returns: $# uucp-dom $@ <replaceable>sajat.uucp.relay</replaceable> $: ize &lt; @ pelda . com . &gt;
<prompt>&gt;</prompt> <userinput>^D</userinput></screen>

  </sect1>

  <sect1 id="outgoing-only">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Bill</firstname>
	  <surname>Moran</surname>
	  <contrib>K&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>Csak k&uuml;ld&eacute;s
      be&aacute;ll&iacute;t&aacute;sa</title>

    <para>Gyakran el&#245;fordulhat, hogy csak leveleket akarunk
      tov&aacute;bbk&uuml;ldeni.  Mint p&eacute;ld&aacute;ul:</para>

    <itemizedlist>
      <listitem>
	<para>Asztali sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
	  van, de haszn&aacute;lni akarunk olyan programokat, mint
	  p&eacute;ld&aacute;ul a &man.send-pr.1;.  Ehhez az
	  internet-szolg&aacute;ltat&oacute;n kereszt&uuml;l kell
	  tov&aacute;bbk&uuml;ldeni a levelet.</para>
      </listitem>

      <listitem>
	<para>A sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk egy olyan
	  szerver, amely nem helyben kezeli a leveleket, ez&eacute;rt az
	  &ouml;sszeset &aacute;tk&uuml;ldi feldolgoz&aacute;sra.</para>
      </listitem>
    </itemizedlist>

    <para>Szinte b&aacute;rmelyik lev&eacute;lk&uuml;ld&#245;
      &uuml;gyn&ouml;k k&eacute;pes bet&ouml;lteni ezt az &#251;rt.
      Sajnos el&eacute;gg&eacute; bonyolult helyesen
      be&aacute;ll&iacute;tani &uacute;gy egy b&aacute;rmire
      k&eacute;pes lev&eacute;lk&uuml;ld&#245;t, hogy egyszer&#251;en
      csak szabaduljon meg a levelekt&#245;l.  Ilyenkor a
      <application>sendmail</application> vagy a
      <application>postfix</application> haszn&aacute;lat&aacute;val
      tulajdonk&eacute;ppen &aacute;gy&uacute;val l&ouml;v&uuml;nk
      ver&eacute;bre.</para>

    <para>Tov&aacute;bb&aacute;, ha egy &aacute;tlagos
      internet-hozz&aacute;f&eacute;r&eacute;ssel rendelkez&uuml;nk,
      ad&oacute;dhat, hogy a szerz&#245;d&eacute;s egyszer&#251;en
      tiltja a <quote>levelez&#245; szerver</quote>
      futtat&aacute;s&aacute;t.</para>

    <para>Legegyszer&#251;bben &uacute;gy tudjuk
      kiel&eacute;g&iacute;teni az ilyen jelleg&#251; ig&eacute;nyeket,
      ha feltelep&iacute;tj&uuml;k a <filename
      role="package">mail/ssmtp</filename> portot.  A
      <username>root</username> felhaszn&aacute;l&oacute;val adjuk ki a
      k&ouml;vetkez&#245; parancsokat:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/mail/ssmtp</userinput>
&prompt.root; <userinput>make install replace clean</userinput></screen>

    <para>Telep&iacute;t&eacute;se ut&aacute;n a <filename
      role="package">mail/ssmtp</filename> portot a mind&ouml;ssze
      n&eacute;gysoros
      <filename>/usr/local/etc/ssmtp/ssmtp.conf</filename>
      &aacute;llom&aacute;nnyal &aacute;ll&iacute;thatjuk be:</para>

    <programlisting>root=valodiemail@minta.com
mailhub=level.minta.com
rewriteDomain=minta.com
hostname=_GEPNEV_</programlisting>

    <para>A <username>root</username> felhaszn&aacute;l&oacute;
      sz&aacute;m&aacute;ra felt&eacute;tlen&uuml;l egy val&oacute;di
      e-mail c&iacute;met adjuk meg.  A <hostid
      role="fqdn">level.minta.com</hostid> hely&eacute;re az
      internet-szolg&aacute;ltat&oacute;nk kimen&#245; leveleket
      tov&aacute;bb&iacute;t&oacute; szerver&eacute;t adjuk meg
      (bizonyos szolg&aacute;ltat&oacute;k ezt <quote>kimen&#245;
      levelez&#245; szervernek</quote> vagy <quote>SMTP
      szervernek</quote> nevezik).</para>

    <para>Ne felejts&uuml;k el <application>sendmail</application>
      d&eacute;mont sem letiltani, bele&eacute;rtve a kimen&#245;
      levelek kezel&eacute;s&eacute;t.  Ennek r&eacute;szleteit
      l&aacute;sd a <xref linkend="mail-disable-sendmail">ban.</para>

    <para>A <filename role="package">mail/ssmtp</filename>
      haszn&aacute;lat&aacute;n&aacute;l m&eacute;g adhatunk meg
      tov&aacute;bbi be&aacute;ll&iacute;t&aacute;sokat is.  A
      <filename>/usr/local/etc/ssmtp</filename>
      &aacute;llom&aacute;nyban vagy az <application>ssmtp</application>
      man oldal&aacute;n tal&aacute;lhatunk p&eacute;ld&aacute;kat
      &eacute;s olvashatunk b&#245;vebben a
      t&eacute;m&aacute;r&oacute;l.</para>

    <para>Az <application>ssmtp</application> ilyen fajta
      be&aacute;ll&iacute;t&aacute;s&aacute;val a
      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk&ouml;n lev&#245;
      szoftverek is helyesen fognak m&#251;k&ouml;dni, mik&ouml;zben nem
      s&eacute;rtj&uuml;k meg az internet-szolg&aacute;ltat&oacute;
      el&#245;&iacute;r&aacute;sait &eacute;s nem tessz&uuml;k
      lehet&#245;v&eacute;, hogy a
      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nkr&#245;l
      lev&eacute;lszemetet k&uuml;ldhessenek.</para>

  </sect1>

  <sect1 id="SMTP-dialup">
    <title>Levelez&eacute;s bet&aacute;rcs&aacute;z&oacute;s
      kapcsolattal</title>

    <para>Ha statikus IP-c&iacute;m&uuml;nk van, akkor az
      alap&eacute;rtelmezett be&aacute;ll&iacute;t&aacute;sok
      t&ouml;k&eacute;letesen megfelel&#245;ek sz&aacute;munkra.
      Csup&aacute;n a g&eacute;p&uuml;nkh&ouml;z tartoz&oacute;
      internetes c&iacute;met kell megadnunk a g&eacute;p&uuml;nk
      nev&eacute;nek &eacute;s a <application>sendmail</application>
      elv&eacute;gzi a t&ouml;bbit.</para>

    <para>Ha viszont dinamikusan kiosztott IP-c&iacute;mmel
      rendelkez&uuml;nk &eacute;s bet&aacute;rcs&aacute;z&oacute;s
      <acronym>PPP</acronym> kapcsolaton kereszt&uuml;l csatlakozunk az
      internethez, akkor val&oacute;sz&iacute;n&#251;leg az
      internet-szolg&aacute;ltat&oacute; levelez&#245; szerver&eacute;n
      van egy postal&aacute;d&aacute;nk.  Most tegy&uuml;k fel, hogy a
      internet-szolg&aacute;ltat&oacute; tartom&aacute;nya a <hostid
      role="domainname">szolgaltato.net</hostid> &eacute;s a
      felhaszn&aacute;l&oacute;i n&eacute;v a
      <username>felhasznalo</username>, a g&eacute;p&uuml;nk neve pedig
      <hostid role="fqdn">otthoni.bsdm</hostid>, valamint az
      internet-szolg&aacute;ltat&oacute; r&eacute;sz&eacute;r&#245;l
      levelez&eacute;sre a <hostid role="fqdn">
      relay.szolgaltato.net</hostid> g&eacute;pet
      haszn&aacute;lhatjuk.</para>

    <para>A postal&aacute;d&aacute;nkb&oacute;l &uacute;gy tudjuk
      let&ouml;lteni a leveleket, ha telep&iacute;t&uuml;nk hozz&aacute;
      egy programot.  Erre a feladatra a
      <application>fetchmail</application> hib&aacute;tlanul alkalmas,
      mivel t&ouml;bb k&uuml;l&ouml;nb&ouml;z&#245; protokollt ismer.
      Ez a program csomagk&eacute;nt vagy a
      Portgy&#251;jtem&eacute;nyb&#245;l (<filename
      role="package">mail/fetchmail</filename>) is el&eacute;rhet&#245;.
      Az internet-szolg&aacute;ltat&oacute;k erre
      &aacute;ltal&aacute;ban a <acronym>POP</acronym> protokollt
      aj&aacute;nlj&aacute;k fel.  Ha a felhaszn&aacute;l&oacute;i
      <acronym>PPP</acronym> alkalmaz&aacute;st haszn&aacute;ljuk,
      &aacute;ll&iacute;tsuk be az
      <filename>/etc/ppp/ppp.linkup</filename> &aacute;llom&aacute;nyt a
      k&ouml;vetkez&#245; m&oacute;don &eacute;s &iacute;gy a
      csatlakoz&aacute;skor magukt&oacute;l let&ouml;lt&#245;dnek a
      leveleink:</para>

    <programlisting>MYADDR:
  !bg su felhasznalo -c fetchmail</programlisting>

    <para>Ha a <application>sendmail</application>
      seg&iacute;ts&eacute;g&eacute;vel k&uuml;ldj&uuml;k tov&aacute;bb
      a leveleket a nem helyi hozz&aacute;f&eacute;r&eacute;sek
      fel&eacute; (ahogy azt lentebb is l&aacute;thatjuk), akkor minden
      bizonnyal a csatlakoz&aacute;skor arra is
      sz&uuml;ks&eacute;g&uuml;nk lesz, hogy a leveleket
      t&aacute;rol&oacute; sor is feldolgoz&oacute;djon.  Ezt &uacute;gy
      oldhatjuk meg, ha az <filename>/etc/ppp/ppp.linkup</filename>
      &aacute;llom&aacute;nyba a <command>fetchmail</command> parancs
      ut&aacute;n a k&ouml;vetkez&#245;t tessz&uuml;k:</para>

    <programlisting>  !bg su felhasznalo -c "sendmail -q"</programlisting>

    <para>Ez a p&eacute;lda felt&eacute;telezi, hogy az <hostid
      role="fqdn">otthoni.bsdm</hostid> g&eacute;pen van egy
      <username>felhasznalo</username> nev&#251;
      felhaszn&aacute;l&oacute;nk.  Az <hostid
      role="fqdn">otthoni.bsdm</hostid> g&eacute;pen a
      <username>felhasznalo</username> felhaszn&aacute;l&oacute;i
      k&ouml;nyvt&aacute;r&aacute;ban hozzunk l&eacute;tre egy
      <filename>.fetchmailrc</filename> &aacute;llom&aacute;nyt:</para>

    <programlisting>poll szolgaltato.net protocol pop3 fetchall pass TitkosJelszo</programlisting>

    <para>Ezt az &aacute;llom&aacute;nyt csak &eacute;s
      kiz&aacute;r&oacute;lag a <username>felhasznalo</username>
      olvashatja, mivel szerepel benne a hozz&aacute; tartoz&oacute;
      <literal>TitkosJelszo</literal>.</para>

    <para>&Uacute;gy tudunk a megfelel&#245; <literal>from:</literal>
      fejl&eacute;ccel k&uuml;ldeni, ha felvil&aacute;gos&iacute;tjuk a
      <application>sendmail</application> programot, hogy ne az
      <email>felhasznalo@otthoni.bsdm</email> c&iacute;met, hanem a
      <email>felhasznalo@szolgaltato.net</email> c&iacute;met
      haszn&aacute;lja.  S&#245;t, a gyors&iacute;t&aacute;s
      kedv&eacute;&eacute;rt a <application>sendmail</application>
      sz&aacute;m&aacute;ra &eacute;rdemes el&aacute;rulni, hogy a
      <hostid role="fqdn">relay.szolgaltato.net</hostid> c&iacute;men
      kereszt&uuml;l k&uuml;ldj&ouml;n.</para>

    <para>A munka elv&eacute;gz&eacute;s&eacute;hez elegend&#245; az
      al&aacute;bbi <filename>.mc</filename>
      &aacute;llom&aacute;ny:</para>

    <programlisting>VERSIONID(`otthoni.bsdm.mc 1.0')
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwotthoni.bsdm
MASQUERADE_AS(`szolgaltato.net')dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(`SMART_HOST', `relay.szolgaltato.net')
Dmotthoni.bsdm
define(`confDOMAIN_NAME',`otthoni.bsdm')dnl
define(`confDELIVERY_MODE',`deferred')dnl</programlisting>

    <para>Az el&#245;z&#245; szakaszban tal&aacute;lhatjuk meg annak a
      m&oacute;dj&aacute;t, hogy mik&eacute;nt var&aacute;zsoljunk
      ebb&#245;l az <filename>.mc</filename>
      &aacute;llom&aacute;nyb&oacute;l egy
      <filename>sendmail.cf</filename> &aacute;llom&aacute;nyt.  A
      <filename>sendmail.cf</filename> friss&iacute;t&eacute;se
      ut&aacute;n pedig ne felejts&uuml;k el a
      <application>sendmail</application>
      &uacute;jraind&iacute;t&aacute;s&aacute;t!</para>

  </sect1>

  <sect1 id="SMTP-Auth">
    <sect1info>
    <authorgroup>
      <author>
	<firstname>James</firstname>
	<surname>Gorham</surname>
	<contrib>&Iacute;rta: </contrib>
      </author>
    </authorgroup>
    </sect1info>

    <title>Az SMTP hiteles&iacute;t&eacute;se</title>

    <para>Levelez&#245; szerver&uuml;nk&ouml;n az
      <acronym>SMTP</acronym> protokoll
      hiteles&iacute;t&eacute;s&eacute;nek (<acronym>SMTP</acronym>
      Authentication) enged&eacute;lyez&eacute;se t&ouml;bb
      szempontb&oacute;l is el&#245;ny&ouml;kkel b&iacute;r.  Az
      <acronym>SMTP</acronym> hiteles&iacute;t&eacute;s&eacute;nek
      bekapcsol&aacute;sa egy &uacute;jabb r&eacute;teget k&eacute;pez a
      <application>sendmail</application> v&eacute;delm&eacute;ben,
      &eacute;s az olyan &aacute;lland&oacute;an mozg&aacute;sban
      lev&#245; felhaszn&aacute;l&oacute;k sz&aacute;m&aacute;ra is
      megold&aacute;st ny&uacute;jt, akik an&eacute;lk&uuml;l
      k&eacute;pesek haszn&aacute;lni ugyanazt a levelez&#245; szervert,
      hogy minden alkalommal &uacute;jrakonfigur&aacute;ln&aacute;k a
      levelez&#245; kliens&uuml;ket.</para>

    <procedure>
      <step>
	<para>Telep&iacute;ts&uuml;k fel a <filename
	  role="package">security/cyrus-sasl2</filename> portot.  A
	  <filename role="package">security/cyrus-sasl2</filename> port
	  t&ouml;bb ford&iacute;t&aacute;si idej&#251;
	  be&aacute;ll&iacute;t&aacute;st t&aacute;mogat.  Itt most az
	  <acronym>SMTP</acronym> hiteles&iacute;t&eacute;s&eacute;t
	  fogjuk haszn&aacute;lni, ez&eacute;rt gondoskodjunk a
	  <option>LOGIN</option> opci&oacute;
	  enged&eacute;lyez&eacute;s&eacute;r&#245;l.</para>
      </step>

      <step>
	<para>A <filename role="package">security/cyrus-sasl2</filename>
	  telep&iacute;t&eacute;s ut&aacute;n nyissuk meg
	  szerkeszt&eacute;sre a
	  <filename>/usr/local/lib/sasl2/Sendmail.conf</filename>
	  &aacute;llom&aacute;nyt (vagy ha m&eacute;g nem
	  l&eacute;tezne, hozzuk l&eacute;tre), &eacute;s benne
	  vegy&uuml;k fel a k&ouml;vetkez&#245; sort:</para>

	<programlisting>pwcheck_method: saslauthd</programlisting>
      </step>

      <step>
	<para>Ezt k&ouml;vet&#245;en telep&iacute;ts&uuml;k a <filename
	  role="package">security/cyrus-sasl2-saslauthd</filename>
	  portot, &eacute;s tegy&uuml;k bele az
	  <filename>/etc/rc.conf</filename> &aacute;llom&aacute;nyba ezt
	  a sort:</para>

	<programlisting>saslauthd_enable="YES"</programlisting>

	<para>V&eacute;gezet&uuml;l ind&iacute;tsuk el a saslauthd
	  d&eacute;mont:</para>

	<screen>&prompt.root; <userinput>/usr/local/etc/rc.d/saslauthd start</userinput></screen>

	<para>Ez a d&eacute;mon fog k&ouml;zvet&iacute;teni a
	  <application>sendmail</application> &eacute;s a &os;
	  <filename>passwd</filename> adatb&aacute;zisa k&ouml;zti
	  hiteles&iacute;t&eacute;sben.  Ezzel elker&uuml;lhetj&uuml;k
	  az &uacute;j felhaszn&aacute;l&oacute;i nevek &eacute;s
	  jelszavak felv&eacute;tel&eacute;t az <acronym>SMTP</acronym>
	  hiteles&iacute;t&eacute;s haszn&aacute;lat&aacute;hoz,
	  &iacute;gy a hozz&aacute;f&eacute;r&eacute;sek &eacute;s a
	  levelez&eacute;s jelszava ugyanaz marad.</para>
      </step>

      <step>
	<para>Most pedig &iacute;rjuk hozz&aacute; az al&aacute;bbi
	  sorokat az <filename>/etc/make.conf</filename>
	  &aacute;llom&aacute;nyhoz:</para>

	<programlisting>SENDMAIL_CFLAGS=-I/usr/local/include/sasl -DSASL
SENDMAIL_LDFLAGS=-L/usr/local/lib
SENDMAIL_LDADD=-lsasl2</programlisting>

	<para>Ezek a sorok &aacute;ll&iacute;tj&aacute;k be a
	  <application>sendmail</application> sz&aacute;m&aacute;ra,
	  hogy ford&iacute;t&aacute;s k&ouml;zben a <filename
	  role="package">cyrus-sasl2</filename> f&uuml;ggv&eacute;nyeit
	  haszn&aacute;lja.  A <application>sendmail</application>
	  &uacute;jraford&iacute;t&aacute;sa el&#245;tt
	  mindenk&eacute;ppen legyen fenn a <filename
	  role="package">cyrus-sasl2</filename> port.</para>
      </step>

      <step>
	<para>A <application>sendmail</application>
	  &uacute;jraford&iacute;t&aacute;s&aacute;t a
	  k&ouml;vetkez&#245; parancsok
	  v&eacute;grehajt&aacute;s&aacute;val int&eacute;zhetj&uuml;k
	  el:</para>

	<screen>&prompt.root; <userinput>cd /usr/src/lib/libsmutil</userinput>
&prompt.root; <userinput>make cleandir && make obj && make</userinput>
&prompt.root; <userinput>cd /usr/src/lib/libsm</userinput>
&prompt.root; <userinput>make cleandir && make obj && make</userinput>
&prompt.root; <userinput>cd /usr/src/usr.sbin/sendmail</userinput>
&prompt.root; <userinput>make cleandir && make obj && make && make install</userinput></screen>

	<para>A <application>sendmail</application>
	  ford&iacute;t&aacute;sa eset&eacute;n semmilyen
	  probl&eacute;m&aacute;nak nem szabadna el&#245;fordulnia,
	  kiv&eacute;ve ha a <filename>/usr/src</filename>
	  k&ouml;nyvt&aacute;rat &eacute;s a sz&uuml;ks&eacute;ges
	  osztott k&ouml;nyvt&aacute;rakat nem v&aacute;ltoztatjuk
	  id&#245;k&ouml;zben t&uacute;ls&aacute;gosan gyakran.</para>
      </step>

      <step>
	<para>A <application>sendmail</application>
	  leford&iacute;t&aacute;sa &eacute;s
	  &uacute;jratelep&iacute;t&eacute;se ut&aacute;n
	  szerkessz&uuml;k &aacute;t az
	  <filename>/etc/mail/freebsd.mc</filename>
	  &aacute;llom&aacute;nyt (vagy azt az <filename>.mc</filename>
	  &aacute;llom&aacute;nyt, amelyet &eacute;ppen
	  haszn&aacute;lunk).  Sok rendszergazda a &man.hostname.1;
	  parancs v&aacute;lasz&aacute;t haszn&aacute;lja fel az
	  <filename>.mc</filename> t&iacute;pus&uacute;
	  &aacute;llom&aacute;nyok egyedi elnevez&eacute;s&eacute;hez).
	  &Iacute;rjuk bele a k&ouml;vetkez&#245; sorokat:</para>

	<programlisting>dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl
define(`confAUTH_MECHANISMS', `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl</programlisting>

	<para>Ezek &aacute;ll&iacute;tj&aacute;k be a
	  <application>sendmail</application> sz&aacute;m&aacute;ra a
	  felhaszn&aacute;l&oacute;k hiteles&iacute;t&eacute;s&eacute;re
	  alkalmas k&uuml;l&ouml;nb&ouml;z&#245; m&oacute;dszereket.  Ha
	  a <application>pwcheck</application> m&oacute;dszer helyett
	  valami m&aacute;st akarunk haszn&aacute;lni, akkor
	  j&aacute;rjunk ut&aacute;na a
	  dokument&aacute;ci&oacute;ban.</para>
      </step>

      <step>
	<para>Z&aacute;r&aacute;sul futassuk le a &man.make.1; parancsot
	  az <filename>/etc/mail</filename> k&ouml;nyvt&aacute;rban.
	  &Iacute;gy lefut az &uacute;j <filename>.mc</filename>
	  &aacute;llom&aacute;nyunk &eacute;s l&eacute;trej&ouml;n egy
	  <filename>freebsd.cf</filename> (vagy amilyen nevet az
	  <filename>.mc</filename> &aacute;llom&aacute;nynak megadtunk)
	  <filename>.cf</filename> &aacute;llom&aacute;ny.
	  Ezut&aacute;n a <command>make install restart</command>
	  parancs kiad&aacute;s&aacute;val m&aacute;soltassuk &aacute;t
	  ezt a <filename>sendmail.cf</filename> hely&eacute;re
	  &eacute;s szab&aacute;lyosan ind&iacute;tassuk &uacute;jra a
	  <application>sendmail</application>
	  szolg&aacute;ltat&aacute;st.  A folyamatr&oacute;l
	  r&eacute;szletesebb t&aacute;j&eacute;koztat&aacute;st az
	  <filename>/etc/mail/Makefile</filename> &aacute;llom&aacute;ny
	  tud ny&uacute;jtani.</para>
      </step>
    </procedure>

    <para>Ha eddig minden a legnagyobb rendben t&ouml;rt&eacute;nt,
      akkor most m&aacute;r k&eacute;pesek vagyunk bejelentkez&eacute;si
      inform&aacute;ci&oacute;t is &aacute;tadni a levelez&#245;
      kliensnek &eacute;s elk&uuml;ldeni egy teszt&uuml;zenetet.  A
      hib&aacute;k kisz&#251;r&eacute;s&eacute;hez
      &aacute;ll&iacute;tsuk a <application>sendmail</application>
      <option>LogLevel</option> opci&oacute;j&aacute;t az 13
      &eacute;rt&eacute;kre &eacute;s figyelj&uuml;k a
      <filename>/var/log/maillog</filename>
      &aacute;llom&aacute;nyt.</para>

    <para>Tov&aacute;bbi felvil&aacute;gos&iacute;t&aacute;s&eacute;rt
      olvassuk el a <application>sendmail</application><ulink
      url="http://www.sendmail.org/~ca/email/auth.html">
      <acronym>SMTP</acronym> hiteles&iacute;t&eacute;ssel</ulink>
      foglalkoz&oacute; oldal&aacute;t (angolul).</para>

  </sect1>

  <sect1 id="mail-agents">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Marc</firstname>
	  <surname>Silver</surname>
	  <contrib>K&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>Levelez&#245; kliensek</title>

    <indexterm><primary>levelez&#245; kliensek</primary></indexterm>

    <para>A levelez&#245; kliens (Mail User Agent,
      <acronym>MUA</acronym>) egy olyan alkalmaz&aacute;s, amelyik
      elektronikus levelek k&uuml;ld&eacute;s&eacute;re &eacute;s
      fogad&aacute;s&aacute;ra haszn&aacute;lhat&oacute;.
      Azonk&iacute;v&uuml;l, ahogy az e-mail
      <quote>fejl&#245;dik</quote> &eacute;s egyre bonyolultabb&aacute;
      v&aacute;lik, a levelez&#245; kliensek is egyre ink&aacute;bb
      er&#245;sebb&eacute; v&aacute;lnak abban a tekintetben, ahogy az
      e-maileket kezelik.  Ezzel egy&uuml;tt a
      felhaszn&aacute;l&oacute;k is egyre t&ouml;bb
      lehet&#245;s&eacute;get &eacute;s rugalmass&aacute;got kapnak.  A
      &os; sz&aacute;mos levelez&#245; klienst t&aacute;mogat,
      mindegyik&uuml;k k&ouml;nnyed&eacute;n telep&iacute;thet&#245; a
      <link linkend="ports">&os; Portgy&#251;jtem&eacute;nye</link>
      seg&iacute;ts&eacute;g&eacute;vel.  A felhaszn&aacute;l&oacute;k
      v&aacute;laszthatnak a grafikus kliensek, mint
      p&eacute;ld&aacute;ul az <application>evolution</application> vagy
      a <application>balsa</application> &eacute;s a konzolos kliensek,
      p&eacute;ld&aacute;ul a <application>mutt</application>,
      <application>pine</application> vagy <command>mail</command>
      k&ouml;z&ouml;tt, esetleg haszn&aacute;lhatj&aacute;k a nagyobb
      szervezetek r&eacute;sz&eacute;r&#245;l felk&iacute;n&aacute;lt
      webes fel&uuml;leteket is.</para>

    <sect2 id="mail-command">
      <title>mail</title>

      <para>A &man.mail.1; a &os; alap&eacute;rtelmezett levelez&#245;
	kliense.  Egy olyan konzolos alkalmaz&aacute;s, amelyben
	el&eacute;rhetj&uuml;k az e-mailek k&uuml;ld&eacute;s&eacute;hez
	&eacute;s fogad&aacute;s&aacute;hoz sz&uuml;ks&eacute;ges
	&ouml;sszes alapvet&#245; funkci&oacute;t, hab&aacute;r a
	csatolm&aacute;nyokat csak korl&aacute;tozottan k&eacute;pes
	kezelni &eacute;s csak a helyi postal&aacute;d&aacute;kat
	kezeli.</para>

      <para>Annak ellen&eacute;re, hogy a <command>mail</command>
	&ouml;nmaga nem k&eacute;pes kommunik&aacute;lni
	<acronym>POP</acronym> vagy <acronym>IMAP</acronym>
	szerverekkel, az ilyen postal&aacute;d&aacute;k tartalm&aacute;t
	egy <application>fetchmail</application>-szer&#251;
	alkalmaz&aacute;ssal (l&aacute;sd <xref
	linkend="mail-fetchmail">) le tudjuk t&ouml;lteni a
	sz&aacute;m&aacute;ra is el&eacute;rhet&#245; helyi
	<filename>mbox</filename> &aacute;llom&aacute;nyba.</para>

      <para>A levelek k&uuml;ld&eacute;s&eacute;hez &eacute;s
	fogad&aacute;s&aacute;hoz egyszer&#251;en h&iacute;vjuk be a
	<command>mail</command> programot a k&ouml;vetkez&#245;
	m&oacute;don:</para>

      <screen>&prompt.user; <userinput>mail</userinput></screen>

      <para>Ezut&aacute;n a <filename
	class="directory">/var/mail</filename> k&ouml;nyvt&aacute;rban
	tal&aacute;lhat&oacute; felhaszn&aacute;l&oacute;i
	postal&aacute;d&aacute;nk tartalm&aacute;t automatikusan
	beolvassa a <command>mail</command> seg&eacute;dprogram.  Ha a
	postal&aacute;da &uuml;res, akkor a program egyb&#245;l befejezi
	fut&aacute;s&aacute;t &eacute;s k&ouml;zli, hogy nem
	tal&aacute;lt levelet.  Amikor viszont tudott beolvasni
	leveleket, megjelenik egy fel&uuml;let, ahol a be&eacute;rkezett
	&uuml;zenetek list&aacute;j&aacute;t l&aacute;thatjuk.  Az
	&uuml;zenetek automatikusan sorsz&aacute;moz&oacute;dnak, ahogy
	ezt az al&aacute;bbi p&eacute;lda is szeml&eacute;lteti:</para>

      <screen>Mail version 8.1 6/6/93.  Type ? for help.
"/var/mail/marcs": 3 messages 3 new
>N  1 root@localhost        Mon Mar  8 14:05  14/510   "proba"
 N  2 root@localhost        Mon Mar  8 14:05  14/509   "felhasznaloi hozzaferes"
 N  3 root@localhost        Mon Mar  8 14:05  14/509   "minta"</screen>

      <para>Az &uuml;zenetek olvas&aacute;s&aacute;nak a
	<keycap>t</keycap> paranccsal kezdhet&uuml;nk neki, amelyet az
	elolvasand&oacute; &uuml;zenet sorsz&aacute;ma k&ouml;vet.
	Ebben a p&eacute;ld&aacute;ban az els&#245; e-mailt nyitjuk
	meg:</para>

      <screen>&amp; <userinput>t 1</userinput>
Message 1:
From root@localhost  Mon Mar  8 14:05:52 2004
X-Original-To: marcs@localhost
Delivered-To: marcs@localhost
To: marcs@localhost
Subject: proba
Date: Mon,  8 Mar 2004 14:05:52 +0200 (SAST)
From: root@localhost (Charlie Root)

Ezt az uzenetet probabol kuldom, valaszolj ra, ha megkaptad.</screen>

      <para>Ahogy az a fenti p&eacute;ld&aacute;b&oacute;l is
	l&aacute;tszik, a <keycap>t</keycap> billenty&#251;
	hat&aacute;s&aacute;ra az &uuml;zenet a teljes
	fejl&eacute;c&eacute;vel egy&uuml;tt jelenik meg.  Az
	&uuml;zenetek list&aacute;j&aacute;t a <keycap>h</keycap>
	billenty&#251;vel hozhatjuk vissza.</para>

      <para>Ha egy lev&eacute;lre v&aacute;laszolni szeretn&eacute;nk,
	akkor ezt a <command>mail</command> paranccsal is
	megtehetj&uuml;k, vagy az <keycap>R</keycap> vagy az
	<keycap>r</keycap> parancsokkal.  Az <keycap>R</keycap> arra
	utas&iacute;tja a <command>mail</command> programot, hogy csak
	az &uuml;zenet k&uuml;ld&#245;j&eacute;nek v&aacute;laszoljon,
	m&iacute;g az <keycap>r</keycap> hat&aacute;s&aacute;ra nem
	csup&aacute;n a k&uuml;ld&#245;, hanem az &uuml;zenet
	&ouml;sszes c&iacute;mzettje megkapja a v&aacute;laszunkat.  A
	parancshoz hozz&aacute;t&#251;zhetj&uuml;k egy lev&eacute;l
	sorsz&aacute;m&aacute;t is, ekkor az adott lev&eacute;lre fogunk
	v&aacute;laszolni.  Miut&aacute;n kiadtuk a parancsot,
	&iacute;rjuk meg a v&aacute;laszunkat &eacute;s &uacute;j sorban
	kezdve z&aacute;rjuk le az &uuml;zenetet egyetlen
	<keycap>.</keycap> be&iacute;r&aacute;s&aacute;val.  Valahogy
	&iacute;gy:</para>

      <screen>&amp; <userinput>R 1</userinput>
To: root@localhost
Subject: Re: proba

<userinput>Koszonom, megkaptam a leveledet.
.</userinput>
EOT</screen>

      <para>&Uacute;j levelet az <keycap>m</keycap>
	seg&iacute;ts&eacute;g&eacute;vel tudunk k&uuml;ldeni, ami
	ut&aacute;n meg kell adnunk a c&iacute;mzettet.  Egyszerre
	t&ouml;bb c&iacute;mzettet is meg tudunk adni, ha a
	c&iacute;mzett hely&eacute;n c&iacute;meiket egy
	<keycap>,</keycap> karakterrel elv&aacute;lasztva soroljuk fel.
	Ezut&aacute;n a lev&eacute;l t&eacute;m&aacute;ja is
	megadhat&oacute;, amit v&eacute;g&uuml;l a lev&eacute;l
	sz&ouml;vege k&ouml;vet.  Az &uuml;zenetet egy &uacute;j sorban
	megadott egyetlen <keycap>.</keycap>
	seg&iacute;ts&eacute;g&eacute;vel z&aacute;rhatjuk le.</para>

      <screen>&amp; <userinput>mail root@localhost</userinput>
Subject: <userinput>Elsajatitottam a mail hasznalatat

Most mar en is tudok levelet irni es fogadni a mail hasznalataval... :)
.</userinput>
EOT</screen>

      <para>Amikor a <command>mail</command> seg&eacute;dprogramban
	vagyunk, a <keycap>?</keycap> haszn&aacute;lat&aacute;val
	b&aacute;rmikor seg&iacute;ts&eacute;get k&eacute;rhet&uuml;nk,
	valamint a <command>mail</command>
	m&#251;k&ouml;d&eacute;s&eacute;vel kapcsolatban a &man.mail.1;
	man oldal&aacute;t &eacute;rdemes felkeresni.</para>

      <note>
	<para>Ahogy azt m&aacute;r kor&aacute;bban is
	  eml&iacute;tett&uuml;k, a &man.mail.1; parancsot eredetileg
	  nem k&eacute;sz&iacute;tett&eacute;k fel az csatolt
	  &aacute;llom&aacute;nyok kezel&eacute;s&eacute;re,
	  ez&eacute;rt igen gyeng&eacute;n b&aacute;nik vel&uuml;k.  Az
	  &uacute;jabb levelez&#245; kliensek, mint
	  p&eacute;ld&aacute;ul a <application>mutt</application>, a
	  csatolt &aacute;llom&aacute;nyokat sokkal intelligensebb
	  m&oacute;don kezelik.  Ha viszont ragaszkodunk a
	  <command>mail</command> haszn&aacute;lat&aacute;hoz, akkor a
	  <filename role="package">converters/mpack</filename> port
	  haszn&aacute;lat&aacute;t &eacute;rdemes megfontolnunk.</para>
      </note>

    </sect2>

    <sect2 id="mutt-command">
      <title>mutt</title>

      <para>A <application>mutt</application> apr&oacute; m&eacute;rete
	ellen&eacute;re egy igen komoly levelez&#245; kliens &eacute;s
	remek lehet&#245;s&eacute;geket aj&aacute;nl fel.  &Iacute;me
	&iacute;zel&iacute;t&eacute;sk&eacute;ppen
	k&ouml;z&uuml;l&uuml;k n&eacute;h&aacute;ny:</para>

      <itemizedlist>
	<listitem>
	  <para>K&eacute;pes az &uuml;zeneteket sz&aacute;lakba
	    rendezni</para>
	</listitem>

	<listitem>
	  <para>Az e-mailek titkos&iacute;t&aacute;s&aacute;ra &eacute;s
	    elektronikus al&aacute;&iacute;r&aacute;s&aacute;ra
	    t&aacute;mogatja a PGP haszn&aacute;lat&aacute;t</para>
	</listitem>

	<listitem>
	  <para>MIME t&aacute;mogat&aacute;s</para>
	</listitem>

	<listitem>
	  <para>Maildir t&aacute;mogat&aacute;s</para>
	</listitem>

	<listitem>
	  <para>Nagyfok&uacute; testreszabhat&oacute;s&aacute;g</para>
	</listitem>
      </itemizedlist>

      <para>Ezen lehet&#245;s&eacute;gei r&eacute;v&eacute;n a
	<application>mutt</application> ez egyik legfejlettebb
	levelez&#245; kliens.  A <application>mutt</application>
	r&eacute;szletesebb bemutat&aacute;s&aacute;t a <ulink
	url="http://www.mutt.org"></ulink> c&iacute;men tal&aacute;ljuk
	(angolul).</para>

      <para>A <application>mutt</application> stabil v&aacute;ltozata a
	<filename role="package">mail/mutt</filename> port
	haszn&aacute;lat&aacute;val telep&iacute;thet&#245; fel,
	mik&ouml;zben a fejleszt&eacute;s alatt lev&#245;
	v&aacute;ltozatot a <filename
	role="package">mail/mutt-devel</filename> port telep&iacute;ti.
	Miut&aacute;n a portot siker&uuml;lt felraknunk, a
	<application>mutt</application> az al&aacute;bbi parancs
	beg&eacute;pel&eacute;s&eacute;vel ind&iacute;that&oacute;
	el:</para>

      <screen>&prompt.user; <userinput>mutt</userinput></screen>

      <para>A <application>mutt</application> indul&aacute;sa
	ut&aacute;n automatikusan beolvassa a <filename
	class="directory">/var/mail</filename> k&ouml;nyvt&aacute;rban
	megtal&aacute;lhat&oacute; felhaszn&aacute;l&oacute;i
	postal&aacute;d&aacute;t &eacute;s ha lehets&eacute;ges, akkor
	megjelen&iacute;ti a tartalm&aacute;t.  Ha nincsen lev&eacute;l
	a felhaszn&aacute;l&oacute; postal&aacute;d&aacute;j&aacute;ban,
	akkor a <application>mutt</application> a
	felhaszn&aacute;l&oacute; parancsaira v&aacute;r.  Ezen a
	k&eacute;pen a <application>mutt</application>
	&uuml;zenetlist&aacute;ja l&aacute;that&oacute;:</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/mutt1" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A levelek elolvas&aacute;s&aacute;hoz egyszer&#251;en csak
	v&aacute;lasszuk ki a kurzorral &eacute;s nyomjuk meg az
	<keycap>Enter</keycap> billenty&#251;t.  Ezut&aacute;n a
	<application>mutt</application> &iacute;gy mutatja a
	levelet:</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/mutt2" format="PNG">
	</imageobject>
      </mediaobject>

      <para>Ahogy azt m&aacute;r a &man.mail.1; parancsn&aacute;l is
	megszokhattuk, a <application>mutt</application> is
	lehet&#245;v&eacute; teszi, hogy vagy csak a k&uuml;ld&#245;nek,
	vagy pedig rajta k&iacute;v&uuml;l m&eacute;g az &ouml;sszes
	c&iacute;mzettnek is v&aacute;laszoljunk.  A lev&eacute;l
	k&uuml;ld&#245;j&eacute;nek az <keycap>r</keycap>
	lenyom&aacute;s&aacute;val tudunk v&aacute;laszolni.  A
	csoportos v&aacute;laszad&aacute;shoz pedig, ahol teh&aacute;t a
	k&uuml;ld&#245;n k&iacute;v&uuml;l a c&iacute;mzettek is
	megkapj&aacute;k a level&uuml;nket, a <keycap>g</keycap>
	billenty&#251;t kell haszn&aacute;lni.</para>

      <note>
	<para>A <application>mutt</application> az e-mailek
	  l&eacute;trehoz&aacute;s&aacute;hoz &eacute;s
	  megv&aacute;laszol&aacute;s&aacute;hoz a &man.vi.1;
	  sz&ouml;vegszerkeszt&#245;t haszn&aacute;lja.  Ezt &uacute;gy
	  tudjuk &aacute;t&aacute;ll&iacute;tani, ha a
	  k&ouml;nyvt&aacute;runkban tal&aacute;lhat&oacute;
	  <filename>.muttrc</filename> &aacute;llom&aacute;nyban
	  &aacute;t&iacute;rjuk az <literal>editor</literal>
	  v&aacute;ltoz&oacute;t, vagy &eacute;rt&eacute;ket adunk az
	  <envar>EDITOR</envar> k&ouml;rnyezeti
	  v&aacute;ltoz&oacute;nak.  A <application>mutt</application>
	  be&aacute;ll&iacute;t&aacute;s&aacute;r&oacute;l t&ouml;bbet a
	  <ulink url="http://www.mutt.org"></ulink> c&iacute;men
	  tudhatunk meg.</para>
      </note>

      <para>Egy &uacute;j lev&eacute;l meg&iacute;r&aacute;s&aacute;hoz
	nyomjuk le az <keycap>m</keycap> gombot.  Miut&aacute;n
	ell&aacute;ttuk &eacute;rv&eacute;nyes t&eacute;m&aacute;val a
	levelet, a <application>mutt</application> elind&iacute;tja a
	&man.vi.1; sz&ouml;vegszerkeszt&#245;t &eacute;s
	nekil&aacute;thatunk a lev&eacute;l sz&ouml;veg&eacute;nek.
	Amint befejezt&uuml;k, ments&uuml;k el &eacute;s
	l&eacute;pj&uuml;nk ki a <command>vi</command>
	szerkeszt&#245;b&#245;l.  Ezut&aacute;n visszakapjuk a
	<application>mutt</application> fel&uuml;let&eacute;t, ahol a
	k&uuml;ldend&#245; e-mail &ouml;sszefoglal&aacute;s&aacute;t
	l&aacute;thatjuk.  A levelet v&eacute;g&uuml;l az
	<keycap>y</keycap> lenyom&aacute;s&aacute;val
	k&uuml;ldhetj&uuml;k el.  Erre a k&ouml;vetkez&#245;
	k&eacute;pen l&aacute;thatunk egy p&eacute;ld&aacute;t:</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/mutt3" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A <application>mutt</application> ezenk&iacute;v&uuml;l
	m&eacute;g rengeteg seg&iacute;ts&eacute;get is tartalmaz,
	amelyet a legt&ouml;bb men&uuml;b&#245;l a <keycap>?</keycap>
	gomb lenyom&aacute;s&aacute;val &eacute;rhet&uuml;nk el.  A
	fels&#245; sorban mindig l&aacute;thatjuk a kiadhat&oacute;
	parancsok r&ouml;vid &ouml;sszefoglal&aacute;s&aacute;t.</para>

    </sect2>

    <sect2 id="pine-command">
      <title>pine</title>

      <para>A <application>pine</application> alapvet&#245;en a
	kezd&#245; felhaszn&aacute;l&oacute;k sz&aacute;m&aacute;ra
	&iacute;r&oacute;dott, de sz&aacute;mos komolyabb
	lehet&#245;s&eacute;get is t&aacute;mogat.</para>

      <warning>
	<para>A <application>pine</application> szoftverrel kapcsolatban
	  a m&uacute;ltban m&aacute;r rengeteg t&aacute;volr&oacute;l
	  kihaszn&aacute;lhat&oacute; sebezhet&#245;s&eacute;g
	  l&aacute;tott napvil&aacute;got, &eacute;s ennek
	  k&ouml;sz&ouml;nhet&#245;en a t&aacute;mad&oacute;k
	  megfelel&#245;en el&#245;k&eacute;sz&iacute;tett e-mailek
	  seg&iacute;ts&eacute;g&eacute;vel tetsz&#245;leges
	  k&oacute;dot tudnak futtatni a rendszeren lev&#245; helyi
	  felhaszn&aacute;l&oacute;kon kereszt&uuml;l.  Noha az
	  &ouml;sszes ilyen <emphasis>ismert</emphasis> hib&aacute;t
	  jav&iacute;tott&aacute;k, de a &os; biztons&aacute;gi tisztje
	  szerint a <application>pine</application> k&oacute;dj&aacute;t
	  biztons&aacute;g szempontj&aacute;b&oacute;l annyira hanyag
	  m&oacute;don &iacute;rt&aacute;k, hogy tov&aacute;bbi, eddig
	  m&eacute;g felfedezetlen sebezhet&#245;s&eacute;geket is
	  mag&aacute;ban rejt.  Ennek megfelel&#245;en teh&aacute;t a
	  <application>pine</application> haszn&aacute;lata mindenkinek
	  csak saj&aacute;t felel&#245;ss&eacute;gre javasolt.</para>
      </warning>

      <para>A <application>pine</application> jelenlegi verzi&oacute;ja
	a <filename role="package">mail/pine4</filename> porton
	kereszt&uuml;l telep&iacute;thet&#245;.  A
	telep&iacute;t&eacute;s lezajl&aacute;sa ut&aacute;n a
	<application>pine</application> a k&ouml;vetkez&#245; paranccsal
	ind&iacute;that&oacute;:</para>

      <screen>&prompt.user; <userinput>pine</userinput></screen>

      <para>A <application>pine</application> els&#245; futtat&aacute;sa
	sor&aacute;n egy &uuml;dv&ouml;zl&#245; &uuml;zenetet &eacute;s
	egy r&ouml;vid bemutatkoz&aacute;st jelen&iacute;t meg, valamint
	a <application>pine</application> fejleszt&#245;i arra
	k&eacute;rik a felhaszn&aacute;l&oacute;kat, hogy k&uuml;ldjenek
	nekik egy n&eacute;vtelen &uuml;zenetet, amib&#245;l le
	tudj&aacute;k sz&#251;rni mennyien haszn&aacute;lj&aacute;k a
	kliens&uuml;ket.  A n&eacute;vtelen &uuml;zenet
	elk&uuml;ld&eacute;s&eacute;hez a <keycap>Enter</keycap>
	lenyom&aacute;s&aacute;val j&aacute;rulhatunk hozz&aacute; vagy
	az <keycap>E</keycap> haszn&aacute;lat&aacute;val
	en&eacute;lk&uuml;l tudunk kil&eacute;pni a
	k&eacute;perny&#245;r&#245;l.  Ezt az &uuml;dv&ouml;zl&#245;
	k&eacute;perny&#245;t itt l&aacute;thatjuk:</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/pine1" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A felhaszn&aacute;l&oacute; ezut&aacute;n a
	f&#245;men&uuml;be ker&uuml;l, ahol a kurzorbillenty&#251;kkel
	minden gond n&eacute;lk&uuml;l tudunk mozogni.  Ebben a
	f&#245;men&uuml;ben a levelek meg&iacute;r&aacute;s&aacute;ra, a
	leveleket t&aacute;rol&oacute; k&ouml;nyvt&aacute;rak
	tall&oacute;z&aacute;s&aacute;ra vagy &eacute;ppen a
	c&iacute;mjegyz&eacute;k karbantart&aacute;s&aacute;ra
	gyorsbillenty&#251;ket is haszn&aacute;lhatuk.  A
	f&#245;men&uuml; alatt szerepel az adott men&uuml;ben
	v&eacute;grehajthat&oacute; feladatokhoz tartoz&oacute;
	gyorsbillenty&#251;k r&ouml;vid felsorol&aacute;sa.</para>

      <para>A <application>pine</application>
	alap&eacute;rtelmez&eacute;s szerint az <filename
	class="directory">inbox</filename> k&ouml;nyvt&aacute;rat nyitja
	meg.  A bennel&eacute;v&#245; &uuml;zenetek
	list&aacute;j&aacute;nak megtekint&eacute;s&eacute;hez nyomjuk a
	<keycap>I</keycap> gombot vagy v&aacute;lasszuk ki a lentihez
	hasonl&oacute; m&oacute;don a <guimenuitem>MESSAGE
	INDEX</guimenuitem> men&uuml;pontot:</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/pine2" format="PNG">
	</imageobject>
      </mediaobject>

      <para>Az &uuml;zenetek list&aacute;j&aacute;ban az adott
	k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute; &uuml;zenetek
	l&aacute;thatjuk, &eacute;s k&ouml;zt&uuml;k a
	kurzorbillenty&#251;kkel mozoghatunk.  A kiemelt &uuml;zenet az
	<keycap>Enter</keycap> lenyom&aacute;s&aacute;val
	olvashat&oacute; el.</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/pine3" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A lenti k&eacute;pen egy ilyen p&eacute;lda &uuml;zenetet
	l&aacute;thatunk a <application>pine</application> programban.
	A rendelkez&eacute;s&uuml;nkre &aacute;ll&oacute;
	gyorsbillenty&#251;k ilyenkor is a k&eacute;perny&#245;
	alj&aacute;n megjelennek referenciak&eacute;nt.  Ilyen
	gyorsbillenty&#251; t&ouml;bbek k&ouml;zt az <keycap>r</keycap>
	gomb, amelynek hat&aacute;s&aacute;ra a klienssel
	megv&aacute;laszolhatjuk a &eacute;ppen l&aacute;that&oacute;
	&uuml;zenetet.</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/pine4" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A <application>pine</application> kliensen bel&uuml;l a
	<application>pico</application> sz&ouml;vegszerkeszt&#245;
	seg&iacute;ts&eacute;g&eacute;vel tudunk megv&aacute;laszolni
	egy e-mailt, amely alapb&oacute;l a
	<application>pine</application> mell&eacute; telep&uuml;l.  A
	<application>pico</application> megk&ouml;nny&iacute;ti a
	navig&aacute;ci&oacute;t az &uuml;zenetekben &eacute;s sokkal
	eln&eacute;z&#245;bb a kezd&#245; felhaszn&aacute;l&oacute;kkal,
	mint p&eacute;ld&aacute;ul a &man.vi.1; vagy a &man.mail.1;.  Ha
	befejezt&uuml;k a v&aacute;laszt, az &uuml;zenetet a <keycombo
	action="simul"><keycap>Ctrl</keycap><keycap>X</keycap></keycombo>
	billenty&#251;kombin&aacute;ci&oacute;val tudjuk elk&uuml;ldeni.
	A <application>pine</application> erre
	meger&#245;s&iacute;t&eacute;st fog k&eacute;rni.</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="mail/pine5" format="PNG">
	</imageobject>
      </mediaobject>

      <para>A <application>pine</application> alkalmaz&aacute;s a
	f&#245;men&uuml;b&#245;l el&eacute;rhet&#245;
	<guimenuitem>SETUP</guimenuitem> men&uuml;pont
	megh&iacute;v&aacute;s&aacute;val szabhat&oacute; testre.  A
	tov&aacute;bbi r&eacute;szleteket a <ulink
	url="http://www.washington.edu/pine"></ulink> oldalon
	tal&aacute;lhatjuk (angolul).</para>

    </sect2>
  </sect1>

  <sect1 id="mail-fetchmail">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Marc</firstname>
	  <surname>Silver</surname>
	  <contrib>&Iacute;rta: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A fetchmail haszn&aacute;lata</title>

    <indexterm><primary>fetchmail</primary></indexterm>

    <para>A <application>fetchmail</application> egy mindentud&oacute;
      <acronym>IMAP</acronym> &eacute;s <acronym>POP</acronym> kliens,
      amely lehet&#245;v&eacute; teszi a felhaszn&aacute;l&oacute;k
      sz&aacute;m&aacute;ra, hogy automatikusan t&ouml;ltsenek le
      leveleket t&aacute;voli <acronym>IMAP</acronym> &eacute;s
      <acronym>POP</acronym> szerverekr&#245;l &eacute;s
      lements&eacute;k azokat a helyi postal&aacute;d&aacute;ikba.
      &Iacute;gy a levelek sokkal k&ouml;nnyebben
      el&eacute;rhet&#245;ek.  A <application>fetchmail</application> a
      <filename role="package"> mail/fetchmail</filename> port
      seg&iacute;ts&eacute;g&eacute;vel telep&iacute;thet&#245;,
      &eacute;s sz&aacute;mos lehet&#245;s&eacute;get aj&aacute;nl fel,
      t&ouml;bbek k&ouml;zt:</para>

    <itemizedlist>
      <listitem>
	<para>A <acronym>POP3</acronym>, <acronym>APOP</acronym>,
	  <acronym>KPOP</acronym>, <acronym>IMAP</acronym>,
	  <acronym>ETRN</acronym> &eacute;s az <acronym>ODMR</acronym>
	  protokollok ismerete.</para>
      </listitem>

      <listitem>
	<para>K&eacute;pes <acronym>SMTP</acronym>
	  haszn&aacute;lat&aacute;val levelet tov&aacute;bb&iacute;tani,
	  &eacute;s ennek r&eacute;v&eacute;n a sz&#251;r&eacute;s,
	  tov&aacute;bbk&uuml;ld&eacute;s &eacute;s az &aacute;lnevek
	  haszn&aacute;lata a megszokott m&oacute;don
	  m&#251;k&ouml;dik.</para>
      </listitem>

      <listitem>
	<para>D&eacute;monk&eacute;nt futtatva k&eacute;pes adott
	  id&#245;k&ouml;z&ouml;nk&eacute;nt ellen&#245;rizni a frissen
	  &eacute;rkez&#245; &uuml;zeneteket.</para>
      </listitem>

      <listitem>
	<para>K&eacute;pes egyszerre t&ouml;bb postal&aacute;d&aacute;t
	  is kezelni, majd ezek tartalm&aacute;t a
	  be&aacute;ll&iacute;t&aacute;sainak megfelel&#245;en
	  tov&aacute;bbk&uuml;ldeni a k&uuml;l&ouml;nb&ouml;z&#245;
	  helyi felhaszn&aacute;l&oacute;knak.</para>
      </listitem>
    </itemizedlist>

    <para>Noha a <application>fetchmail</application> &ouml;sszes
      lehet&#245;s&eacute;g&eacute;nek apr&oacute;l&eacute;kos
      bemutat&aacute;sa meghaladn&aacute; ennek a
      le&iacute;r&aacute;snak a kereteit, az&eacute;rt sz&oacute;t
      ker&iacute;t&uuml;nk n&eacute;h&aacute;ny alapvet&#245;
      funkci&oacute;j&aacute;ra.  A <application>fetchmail</application>
      seg&eacute;dprogramnak a megfelel&#245;
      m&#251;k&ouml;d&eacute;shez egy <filename>.fetchmailrc</filename>
      nev&#251; konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyra van
      sz&uuml;ks&eacute;ge.  Ez az &aacute;llom&aacute;ny t&aacute;rolja
      a szerverekre vonatkoz&oacute;, valamint a bejelentkez&eacute;shez
      sz&uuml;ks&eacute;ges inform&aacute;ci&oacute;kat.  Az
      &aacute;llom&aacute;ny k&eacute;nyes tartalm&aacute;ra tekintettel
      azt javasoljuk, hogy csak a tulajdonos&aacute;nak
      enged&eacute;lyezz&uuml;k az olvas&aacute;s&aacute;t:</para>

    <screen>&prompt.user; <userinput>chmod 600 .fetchmailrc</userinput></screen>

    <para>Az al&aacute;bb ismertet&eacute;sre ker&uuml;l&#245;
      <filename>.fetchmailrc</filename> &aacute;llom&aacute;nyban azt
      l&aacute;thatjuk, ahogy egyetlen felhaszn&aacute;l&oacute;
      postal&aacute;d&aacute;j&aacute;t &eacute;rj&uuml;k el a
      <acronym>POP</acronym> protokoll haszn&aacute;lat&aacute;val.
      Arra utas&iacute;tja a <application>fetchmail</application>
      programot, hogy csatlakozzon a <hostid
      role="fqdn">levelezes.com</hostid> c&iacute;mre a
      <username>joska</username> felhaszn&aacute;l&oacute;val &eacute;s
      az <literal>XXX</literal> jelsz&oacute;val.  Ebben a
      p&eacute;ld&aacute;ban felt&eacute;telezz&uuml;k, hogy a
      <username>joska</username> nev&#251; felhaszn&aacute;l&oacute;
      l&eacute;tezik a rendszer&uuml;nkben is.</para>

    <programlisting>poll levelezes.com protocol pop3 username "joska" password "XXX"</programlisting>

    <para>A k&ouml;vetkez&#245; p&eacute;ld&aacute;ban t&ouml;bb
      <acronym>POP</acronym> &eacute;s <acronym>IMAP</acronym>
      szerverhez csatlakozunk &eacute;s ahol lehet, t&ouml;bb helyi
      felhaszn&aacute;l&oacute;nak ir&aacute;ny&iacute;tjuk &aacute;t a
      leveleket:</para>

    <programlisting>poll levelezes.com proto pop3:
user "joska", with password "XXX", is "jozsi" here;
user "andrea", with password "XXXX";
poll levelezes2.net proto imap:
user "jani", with password "XXXXX", is "hardstuff" here;</programlisting>

    <para>A <application>fetchmail</application> program a
      <option>-d</option> be&aacute;ll&iacute;t&aacute;s
      megad&aacute;s&aacute;val d&eacute;monk&eacute;nt is
      elind&iacute;that&oacute;, amely ut&aacute;n meg kell adni
      (m&aacute;sodpercekben) azt az id&#245;k&ouml;zt, aminek
      eltelt&eacute;vel a <application>fetchmail</application>
      lek&eacute;rdi a <filename>.fetchmailrc</filename>
      &aacute;llom&aacute;nyban felsorolt szervereket.  Az al&aacute;bbi
      p&eacute;ld&aacute;ban a <application>fetchmail</application>
      600&nbsp;m&aacute;sodpercenk&eacute;nt k&eacute;ri el a
      leveleket:</para>

    <screen>&prompt.user; <userinput>fetchmail -d 600</userinput></screen>

    <para>A <application>fetchmail</application> tov&aacute;bbi
      lehet&#245;s&eacute;geir&#245;l &eacute;s
      m&#251;k&ouml;d&eacute;s&eacute;r&#245;l a <ulink
      url="http://fetchmail.berlios.de/"></ulink> oldalon olvashatunk
      (angolul).</para>

  </sect1>

  <sect1 id="mail-procmail">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Marc</firstname>
	  <surname>Silver</surname>
	  <contrib>&Iacute;rta: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A procmail haszn&aacute;lata</title>

    <indexterm><primary>procmail</primary></indexterm>

    <para>A <application>procmail</application> seg&eacute;dprogram egy
      hihetetlen&uuml;l er&#245;s alkalmaz&aacute;s, mellyel a
      be&eacute;rkez&#245; leveleinket tudjuk sz&#251;rni.  A
      felhaszn&aacute;l&oacute;k sz&aacute;m&aacute;ra olyan
      <quote>szab&aacute;lyok</quote> megad&aacute;s&aacute;t teszi
      lehet&#245;v&eacute;, amelyekre azt&aacute;n a rendszer illeszti a
      bej&ouml;v&#245; leveleket, &eacute;s az eredm&eacute;nynek
      megfelel&#245;en elv&eacute;gez bizonyos feladatokat vagy
      &aacute;tir&aacute;ny&iacute;tja a levelet m&aacute;s
      postalad&aacute;kba &eacute;s/vagy e-mail c&iacute;mekre.  A
      <application>procmail</application> a <filename
      role="package">mail/procmail</filename> porttal
      telep&iacute;thet&#245; fel.  Miut&aacute;n ez siker&uuml;lt,
      ak&aacute;r k&ouml;zvetlen&uuml;l be is
      &eacute;p&iacute;thetj&uuml;k a legt&ouml;bb levelez&#245;
      kliensbe.  Err&#245;l az adott levelez&#245; kliens
      dokument&aacute;ci&oacute;j&aacute;ban olvashatunk t&ouml;bbet.  A
      <application>procmail</application> &uacute;gy is
      integr&aacute;lhat&oacute;, ha a felvessz&uuml;k a
      k&ouml;vetkez&#245; sort a <application>procmail</application>
      szolg&aacute;ltat&aacute;ra ig&eacute;nyt tart&oacute;
      felhaszn&aacute;l&oacute; k&ouml;nyvt&aacute;r&aacute;ban
      tal&aacute;lhat&oacute; <filename>.forward</filename>
      &aacute;llom&aacute;nyba:</para>

    <programlisting>"|exec /usr/local/bin/procmail || exit 75"</programlisting>

    <para>A k&ouml;vetkez&#245; szakaszban l&aacute;thatjuk a
      <application>procmail</application> n&eacute;h&aacute;ny
      alapvet&#245; szab&aacute;ly&aacute;t, valamint ezek r&ouml;vid
      le&iacute;r&aacute;s&aacute;t.  Ezeket a szab&aacute;lyokat a
      <filename>.procmailrc</filename> &aacute;llom&aacute;nyba kell
      bele&iacute;rni, amely szint&eacute;n a felhaszn&aacute;l&oacute;
      k&ouml;nyvt&aacute;r&aacute;ban leledzik.</para>

    <para>Ezen szab&aacute;lyok t&ouml;bbs&eacute;ge a
      &man.procmailex.5; man oldalon is olvashat&oacute;.</para>

    <para>A <email>felhasznalo@levelezes.com</email> c&iacute;mr&#245;l
      &eacute;rkez&#245; leveleket ir&aacute;ny&iacute;tsuk &aacute;t a
      <email role="nolink">jocim@levelezes2.com</email> k&uuml;ls&#245;
      c&iacute;mre:</para>

    <programlisting>:0
* ^From.*felhasznalo@levelezes.com
! jocim@levelezes2.com</programlisting>

    <para>Minden 1000 byte-n&aacute;l kisebb levelet k&uuml;ldj&uuml;nk
      &aacute;t a <email role="nolink">jocim@levelezes2.com</email>
      k&uuml;ls&#245; c&iacute;mre:</para>

    <programlisting>:0
* &lt; 1000
! jocim@levelezes2.com</programlisting>

    <para>K&uuml;ldj&uuml;k &aacute;t az &ouml;sszes
      <email>masik@levelezes.com</email> c&iacute;mre k&uuml;ld&ouml;tt
      levelet a <filename>masik</filename>
      postal&aacute;d&aacute;ba:</para>

    <programlisting>:0
* ^TOmasik@levelezes.com
masik</programlisting>

    <para>K&uuml;ldj&uuml;k az &ouml;sszes olyan levelet a
      <filename>/dev/null</filename> eszk&ouml;zre, amelyek a
      t&eacute;m&aacute;j&aacute;ban szerepel a <quote>Spam</quote>
      sz&oacute;:</para>

    <programlisting>:0
^Subject:.*Spam
/dev/null</programlisting>

    <para>Egy hasznos szab&aacute;ly, amellyel el tudjuk kapni a <hostid
      role="domainname">&os;.org</hostid> levelez&eacute;si
      list&aacute;ir&oacute;l &eacute;rkez&#245; leveleket &eacute;s el
      tudjuk rakt&aacute;rozni ezeket a saj&aacute;t
      postal&aacute;d&aacute;jukba:</para>

    <programlisting>:0
* ^Sender:.owner-freebsd-\/[^@]+@FreeBSD.ORG
{
	LISTNAME=${MATCH}
	:0
	* LISTNAME??^\/[^@]+
	FreeBSD-${MATCH}
}</programlisting>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
