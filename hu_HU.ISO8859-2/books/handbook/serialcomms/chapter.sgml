<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->

<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/serialcomms/chapter.sgml
     %SRCID%	1.133
-->

<chapter id="serialcomms">
  <title>Soros vonali kommunik&aacute;ci&oacute;</title>

  <sect1 id="serial-synopsis">
    <title>&Aacute;ttekint&eacute;s</title>

    <indexterm><primary>soros
      kommunik&aacute;ci&oacute;</primary></indexterm>

    <para>A &unix; mindig is t&aacute;mogatta a soros vonali
      kommunik&aacute;ci&oacute;t.  Tulajdonk&eacute;ppen az els&#245;
      &unix;-os g&eacute;pek is soros vonalon kapt&aacute;k a
      felhaszn&aacute;l&oacute;kt&oacute;l a bemenetet &eacute;s
      ugyan&iacute;gy k&uuml;ldt&eacute;k vissza a kimenetet.  Az
      id&#245;k az&oacute;ta m&aacute;r sokat v&aacute;ltoztak, hogy egy
      &aacute;tlagos <quote>termin&aacute;l</quote> mind&ouml;ssze egy
      10 karakter per m&aacute;sodperc sebess&eacute;g&#251; soros
      nyomtat&oacute;b&oacute;l &eacute;s egy billenty&#251;zetb&#245;l
      &aacute;llt.  Ebben a fejezetben ismertet&uuml;nk
      n&eacute;h&aacute;ny olyan megold&aacute;st, amellyel a &os;
      k&eacute;pes soros vonalon kereszt&uuml;l
      kommunik&aacute;lni.</para>

    <para>A fejezet elolvas&aacute;sa sor&aacute;n
      megismerj&uuml;k:</para>

    <itemizedlist>
      <listitem>
	<para>hogyan kapcsoljunk termin&aacute;lokat a &os;
	  rendszer&uuml;nkre;</para>
      </listitem>
      <listitem>
	<para>hogyan t&aacute;rcs&aacute;zzunk modem
	  seg&iacute;ts&eacute;g&eacute;vel t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;peket;</para>
      </listitem>
      <listitem>
	<para>hogyan tegy&uuml;k lehet&#245;v&eacute;
	  g&eacute;p&uuml;nkre a bejelentkez&eacute;st t&aacute;voli
	  felhaszn&aacute;l&oacute;k sz&aacute;m&aacute;ra;</para>
      </listitem>
      <listitem>
	<para>hogyan ind&iacute;tsuk a rendszer&uuml;nket soros
	  konzolr&oacute;l.</para>
      </listitem>
    </itemizedlist>

    <para>A fejezet elolvas&aacute;s&aacute;hoz aj&aacute;nlott:</para>

    <itemizedlist>
      <listitem>
	<para>egy &uacute;j rendszermag
	  be&aacute;ll&iacute;t&aacute;s&aacute;nak &eacute;s
	  telep&iacute;t&eacute;s&eacute;nek ismerete (<xref
	  linkend="kernelconfig">);</para>
      </listitem>
      <listitem>
	<para>a &unix;-os enged&eacute;lyek &eacute;s a &unix; alatt
	  futtatott programok m&#251;k&ouml;dtet&eacute;s&eacute;nek
	  meg&eacute;rt&eacute;se (<xref
	  linkend="basics">);</para></listitem>
      <listitem>
	<para>annak a soros vonali hardvernek (modemnek vagy
	  t&ouml;bbportos k&aacute;rty&aacute;nak a)
	  k&eacute;zik&ouml;nyve, amelyet a &os;-vel haszn&aacute;lni
	  szeretn&eacute;nk</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="serial">
    <title>Bevezet&eacute;s</title>

    <sect2 id="serial-terminology">
      <title>Alapfogalmak</title>

      <variablelist>
	<indexterm><primary>bit per
	  m&aacute;sodperc</primary></indexterm>

	<varlistentry>
	  <term>bps</term>
	  <listitem>
	    <para>Bit per m&aacute;sodperc &mdash; az adat&aacute;tvitel
	      sebess&eacute;ge</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>DTE</term>
	  <indexterm><primary>DTE</primary></indexterm>
	  <listitem>
	    <para>Adattermin&aacute;l eszk&ouml;z (Data Terminal
	      Equipment) &mdash; ez p&eacute;ld&aacute;ul a
	      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>DCE</term>
	  <indexterm><primary>DCE</primary></indexterm>
	  <listitem>
	    <para>Adatkommunik&aacute;ci&oacute;s eszk&ouml;z (Data
	      Communications Equipment) &mdash; ez a modem</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>RS-232</term>
	  <indexterm><primary>RS-232C k&aacute;bel</primary></indexterm>
	  <listitem>
	    <para>a hardveres soros vonali kommunik&aacute;ci&oacute;hoz
	      sz&uuml;ks&eacute;ges EIA szabv&aacute;ny&uacute;
	      k&aacute;bel</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Amikor ebben a fejezetben az adat&aacute;tvitel
	sebess&eacute;g&eacute;r&#245;l besz&eacute;l&uuml;nk, akkor
	sz&aacute;nd&eacute;kosan nem haszn&aacute;ljuk a
	<quote>baud</quote> fogalm&aacute;t.  A baud ugyanis a
	kommunik&aacute;ci&oacute;s eszk&ouml;zben adott id&#245; alatt
	lezajl&oacute; jelv&aacute;lt&aacute;sok
	mennyis&eacute;g&eacute;t jel&ouml;li, mik&ouml;zben itt a
	<quote>bps</quote> (bit per m&aacute;sodperc) kifejez&eacute;s
	haszn&aacute;lata a <emphasis>helyes</emphasis> (vagy
	legal&aacute;bb is a sz&#245;rsz&aacute;lhasogat&oacute;k
	egyel&#245;re megnyugodhatnak).</para>

    </sect2>

    <sect2 id="serial-cables-ports">
      <title>K&aacute;belek &eacute;s portok</title>

      <para>Ha a &os; rendszer&uuml;nkh&ouml;z egy modemet vagy egy
	termin&aacute;lt akarunk csatlakoztatni, akkor ahhoz a
	sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nkben
	sz&uuml;ks&eacute;g lesz egy szabad soros portra &eacute;s egy
	megfelel&#245; t&iacute;pus&uacute; k&aacute;belre.  Ha
	m&aacute;r tiszt&aacute;ban vagyunk a rendelkez&eacute;sre
	&aacute;ll&oacute; hardverrel &eacute;s a
	hozz&aacute; tartoz&oacute; k&aacute;bellel, akkor nyugodtan
	&aacute;tl&eacute;phetj&uuml;k ezt a r&eacute;szt.</para>

      <sect3 id="term-cables">
	<title>A k&aacute;belek fajt&aacute;i</title>

	<para>A soros k&aacute;beleknek t&ouml;bb
	  k&uuml;l&ouml;nb&ouml;z&#245; t&iacute;pusa van.
	  K&ouml;z&uuml;l&uuml;k a c&eacute;ljainknak legink&aacute;bb
	  megfelel&#245; k&eacute;t legismertebb v&aacute;ltozatuk az
	  &uacute;n.  null-modem &eacute;s a szabv&aacute;nyos
	  (<quote>egyenes</quote>) RS-232-es soros k&aacute;belek.  A
	  hardverhez tartoz&oacute; dokument&aacute;ci&oacute;ban
	  megtal&aacute;ljuk, hogy pontosan melyik t&iacute;pus tartozik
	  hozz&aacute;.</para>

	<sect4 id="term-cables-null">
	  <title>A null-modem k&aacute;belek</title>

	  <indexterm><primary>null-modem
	    k&aacute;bel</primary></indexterm>

	  <para>Egy null-modem k&aacute;bel bizonyos jeleket,
	    t&ouml;bbek k&ouml;zt a <quote>f&ouml;ldet</quote> (Signal
	    Ground, SG), egyenesen k&uuml;ldi, m&aacute;sokat viszont
	    felcser&eacute;lten.  P&eacute;ld&aacute;ul az
	    <quote>&aacute;tk&uuml;ld&ouml;tt adat</quote> (Transmitted
	    Data, TD) jelz&eacute;s&#251; t&#251; a k&aacute;bel
	    m&aacute;sik v&eacute;g&eacute;n a <quote>fogadott
	    adat</quote> (Received Data, RD) t&#251;h&ouml;z fut
	    be.</para>

	  <para>A termin&aacute;lokhoz ak&aacute;r saj&aacute;t magunk
	    is le tudunk gy&aacute;rtani egy null-modem k&aacute;belt
	    (p&eacute;ld&aacute;ul ha a boltiakkal nem lenn&eacute;nk
	    megel&eacute;gedve).  A k&ouml;vetkez&#245;
	    t&aacute;bl&aacute;zatban az RS-232C <link
	    linkend="serialcomms-signal-names">jeleit</link> &eacute;s
	    &eacute;rintkez&#245;inek sz&aacute;moz&aacute;s&aacute;t
	    l&aacute;thatjuk egy DB-25-&ouml;s csatlakoz&oacute;
	    eset&eacute;ben.  A szabv&aacute;ny a k&aacute;bel
	    k&eacute;t 1-es t&#251;j&eacute;t &ouml;sszekapcsol&oacute;
	    vonalat <emphasis>v&eacute;d&#245;f&ouml;ldnek</emphasis>
	    (Protective Ground, PD) nevezi, de ezt gyakran el is
	    hagyj&aacute;k.  N&eacute;mely termin&aacute;l remek&uuml;l
	    m&#251;k&ouml;dik mind&ouml;ssze a 2-es, 3-as &eacute;s 7-es
	    t&#251;k haszn&aacute;lat&aacute;val, mik&ouml;zben
	    m&aacute;sok az im&eacute;nti p&eacute;ld&aacute;t&oacute;l
	    elt&eacute;r&#245; kioszt&aacute;st
	    ig&eacute;nyelnek.</para>

	  <table frame="none" pgwide="1">
	    <title>A DB-25 DB-25 k&ouml;zti null-modem
	      k&aacute;bel</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Jel</entry>
		  <entry align="left">T&#251;</entry>
		  <entry></entry>
		  <entry align="left">T&#251;</entry>
		  <entry align="left">Jel</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>SG</entry>
		  <entry>7</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>7</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>2</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>3</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>RD</entry>
		  <entry>3</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>2</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>4</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>5</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>5</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>4</entry>
		  <entry>RTS</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>20</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>20</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>8</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>8</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para>&Iacute;me a mostans&aacute;g elterjedt m&aacute;sik
	    k&eacute;t s&eacute;ma.</para>

	  <table frame="none" pgwide="1">
	    <title>A DB-9 DB-9 k&ouml;zti null-modem
	      k&aacute;bel</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Jel</entry>
		  <entry align="left">T&#251;</entry>
		  <entry></entry>
		  <entry align="left">T&#251;</entry>
		  <entry align="left">Jel</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>RD</entry>
		  <entry>2</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>3</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>3</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>2</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>1</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>SG</entry>
		  <entry>5</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>5</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>4</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>1</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>4</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>7</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>8</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>8</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>7</entry>
		  <entry>RTS</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <table frame="none" pgwide="1"> <title>DB-9 DB-25 k&ouml;zti
	    null-modem k&aacute;bel</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Jel</entry>
		  <entry align="left">T&#251;</entry>
		  <entry></entry>
		  <entry align="left">T&#251;</entry>
		  <entry align="left">Jel</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>RD</entry>
		  <entry>2</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>2</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>3</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>3</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>8</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>SG</entry>
		  <entry>5</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>7</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>1</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>7</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>5</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>8</entry>
		  <entry>p&aacute;rja:</entry>
		  <entry>4</entry>
		  <entry>RTS</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <note>
	    <para>Amikor egy t&#251; az &aacute;tellenes oldalon
	      k&eacute;t m&aacute;sik t&#251;h&ouml;z csatlakozik, akkor
	      azt &aacute;ltal&aacute;ban &uacute;gy
	      val&oacute;s&iacute;tj&aacute;k meg, hogy a k&eacute;t
	      t&#251;t a saj&aacute;t oldalukon &ouml;sszek&ouml;tik,
	      majd ezt kapcsolj&aacute;k hozz&aacute; a harmadik
	      t&#251;h&ouml;z.</para>
	  </note>

	  <para>Ezek a megold&aacute;sok a legn&eacute;pszer&#251;bbek.
	    Term&eacute;szetesen a t&#251;k
	    &ouml;sszek&ouml;t&eacute;s&eacute;nek t&ouml;bb m&aacute;s
	    vari&aacute;ci&oacute;ja is l&eacute;tezik (ezekr&#245;l az
	    <emphasis>RS-232 Made Easy</emphasis> c.  k&ouml;nyvben
	    olvashatunk b&#245;vebben), ahol az SG p&aacute;rja az SG, a
	    TD p&aacute;rja az RD, az RTS &eacute;s a CTS p&aacute;rja
	    az DCD, a DTR p&aacute;rja a DSR &eacute;s ugyanezek
	    ford&iacute;tva.</para>

	</sect4>

	<sect4 id="term-cables-std">
	  <title>Szabv&aacute;nyos RS-232C k&aacute;belek</title>

	  <indexterm><primary>RS-232C k&aacute;bel</primary></indexterm>

	  <para>A szabv&aacute;nyos soros k&aacute;bel az &ouml;sszes
	    RS-232C jelet k&ouml;zvetlen&uuml;l &aacute;tk&uuml;ldi.
	    Vagyis a k&aacute;bel egyik v&eacute;g&eacute;n lev&#245;
	    <quote>&aacute;tk&uuml;ld&ouml;tt adat</quote> t&#251; a
	    m&aacute;sik v&eacute;g&eacute;n is az
	    <quote>&aacute;tk&uuml;ld&ouml;tt adat</quote>
	    t&#251;h&ouml;z csatlakozik.  Az ilyen t&iacute;pus&uacute;
	    k&aacute;beleket t&ouml;bbnyire a
	    sz&aacute;m&iacute;t&oacute;g&eacute;pek &eacute;s a modemek
	    k&ouml;z&ouml;tt alkalmazz&aacute;k, de egyes
	    termin&aacute;lt&iacute;pusok eset&eacute;ben is
	    sz&uuml;ks&eacute;g&uuml;nk lehet r&aacute;.</para>

	</sect4>
      </sect3>

      <sect3 id="term-ports">
	<title>A portok</title>

	<para>A soros port olyan eszk&ouml;z, amelyen kereszt&uuml;l a
	  &os;-s g&eacute;p &eacute;s a termin&aacute;l k&ouml;z&ouml;tt
	  adatokat tudunk k&ouml;zvet&iacute;teni.  Ebben a szakaszban
	  az ilyen portok k&uuml;l&ouml;nf&eacute;le t&iacute;pusait
	  &eacute;s ezek haszn&aacute;lat&aacute;t ismertetj&uuml;k &os;
	  alatt.</para>

	<sect4 id="term-portkinds">
	  <title>A portok t&iacute;pusai</title>

	  <para>A soros portoknak t&ouml;bb t&iacute;pusa
	    l&eacute;tezik.  Miel&#245;tt
	    v&aacute;s&aacute;roln&aacute;nk egy
	    k&eacute;sz&iacute;ten&eacute;nk egy soros k&aacute;belt,
	    mindenk&eacute;ppen gy&#245;z&ouml;dj&uuml;nk meg
	    r&oacute;la, hogy csatlakoztatni tudjuk majd a &os;-s
	    rendszer&uuml;nkh&ouml;z &eacute;s a termin&aacute;lhoz
	    egyar&aacute;nt.</para>

	  <para>A legt&ouml;bb termin&aacute;lon DB-25-&ouml;s portot
	    tal&aacute;lunk.  A szem&eacute;lyi
	    sz&aacute;m&iacute;t&oacute;g&eacute;pek, k&ouml;zt&uuml;k
	    azok, amelyeken &os; fut, DB-25-&ouml;s &eacute;s DB-9es
	    portokkal rendelkeznek.  Ha a g&eacute;p&uuml;nkben egy
	    t&ouml;bbportos soros k&aacute;rtya van, akkor ezeken
	    k&iacute;v&uuml;l m&eacute;g RJ-12-es &eacute;s
	    RJ-45-&ouml;s portjaink is lehetnek.</para>

	  <para>A hardverhez tartoz&oacute;
	    dokument&aacute;ci&oacute;b&oacute;l tudjuk
	    kider&iacute;teni az adott port konkr&eacute;t
	    fajt&aacute;j&aacute;t, de gyakran a port vizu&aacute;lis
	    vizsg&aacute;lata is seg&iacute;thet eld&ouml;nteni a
	    k&eacute;rd&eacute;st.</para>

	</sect4>

	<sect4 id="term-portnames">
	  <title>A portok nevei</title>

	  <para>&os; alatt az egyes soros portokat a
	    <filename>/dev</filename> k&ouml;nyvt&aacute;rban
	    tal&aacute;lhat&oacute; eszk&ouml;zle&iacute;r&oacute;kon
	    kereszt&uuml;l tudjuk el&eacute;rni.  Ezeknek k&eacute;t
	    t&iacute;pusa van:</para>

	  <itemizedlist>
	    <listitem>
	      <para>A beh&iacute;v&aacute;shoz haszn&aacute;lt portok
		nevei
		<filename>/dev/ttyd<replaceable>N</replaceable></filename>
		alak&uacute;ak, ahol az <replaceable>N</replaceable> a
		port sorsz&aacute;ma, ami null&aacute;t&oacute;l indul.
		A beh&iacute;v&oacute; portok alapvet&#245;en a
		termin&aacute;l eset&eacute;ben haszn&aacute;latosak.  A
		beh&iacute;v&oacute; portok haszn&aacute;lat&aacute;hoz
		a soros vonalon az <quote>vonal
		&eacute;szlel&eacute;se</quote> (Data Carrier Detect,
		DCD) jelnek kell megb&iacute;zhat&oacute;an
		m&#251;k&ouml;dnie.</para>
	    </listitem>

	    <listitem>
	      <para>A h&iacute;v&aacute;shoz haszn&aacute;lt portok
		nevei
		<filename>/dev/cuad<replaceable>N</replaceable></filename>
		alak&uacute;ak.  A h&iacute;v&oacute; portokat
		termin&aacute;lok eset&eacute;ben ritk&aacute;n
		alkalmazz&aacute;k, helyett&uuml;k ink&aacute;bb csak
		modemekhez haszn&aacute;lj&aacute;k.  A
		h&iacute;v&oacute; portokat akkor &eacute;rdemes
		haszn&aacute;lni, ha a soros k&aacute;bel vagy a
		termin&aacute;l nem ismeri a DCD jelet.</para>

	    </listitem>
	  </itemizedlist>

	  <para>Ha a termin&aacute;lt az els&#245; soros portra (ami
	    &ms-dos;-ban a <devicename>COM1</devicename>)
	    csatlakoztattuk, akkor a <filename>/dev/ttyd0</filename>
	    seg&iacute;ts&eacute;g&eacute;vel fogunk r&aacute;
	    hivatkozni.  Ha viszont a m&aacute;sodik soros porton
	    (m&aacute;s n&eacute;ven <devicename>COM2</devicename>)
	    tal&aacute;lhat&oacute;, akkor a
	    <filename>/dev/ttyd1</filename> eszk&ouml;zt
	    haszn&aacute;ljuk, &eacute;s &iacute;gy
	    tov&aacute;bb.</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2>
      <title>A rendszermag be&aacute;ll&iacute;t&aacute;sa</title>

      <para>A &os; alapb&oacute;l n&eacute;gy soros portot
	t&aacute;mogat.  Az &ms-dos; vil&aacute;gban ezeket rendre
	<devicename>COM1</devicename>, <devicename>COM2</devicename>,
	<devicename>COM3</devicename> &eacute;s
	<devicename>COM4</devicename> portoknak nevezik.  A &os; jelen
	pillanatban ismeri m&eacute;g a <quote>but&aacute;bb</quote>
	t&ouml;bbportos soros csatol&oacute;k&aacute;rty&aacute;kat is,
	p&eacute;ld&aacute;ul a BocaBoard 1008 &eacute;s 2016
	t&iacute;pusokat, valamint t&ouml;bb intelligensebb
	t&ouml;bbportos k&aacute;rty&aacute;t, p&eacute;ld&aacute;ul a
	Digiboard &eacute;s a Stallion Technologies
	gy&aacute;rtm&aacute;nyait.  Az alap rendszermag azonban csak a
	szabv&aacute;nyos COM portokat keresi.</para>

      <para>Ha ellen&#245;rizni akarjuk, hogy a rendszermag rendben
	megtal&aacute;lta a soros portokat, akkor figyelmesen olvassuk
	el a rendszerind&iacute;t&aacute;s sor&aacute;n megjelen&#245;
	&uuml;zeneteket, vagy az <command>/sbin/dmesg</command> parancs
	kiad&aacute;s&aacute;val k&eacute;rdezz&uuml;k vissza a
	rendszermag &uuml;zeneteit.  K&uuml;l&ouml;n&ouml;sen a
	<literal>sio</literal> kezdet&#251; sorokra kell
	figyeln&uuml;nk.</para>

      <tip>
	<para>Az al&aacute;bbi paranccsal tudjuk lesz&#251;rni a
	  <literal>sio</literal> sz&ouml;vegr&eacute;szt
	  tartalmaz&oacute; sorokat:</para>

	<screen>&prompt.root; <userinput>/sbin/dmesg | grep 'sio'</userinput></screen>
      </tip>

      <para>P&eacute;ld&aacute;ul, ha n&eacute;gy soros port
	tal&aacute;lhat&oacute; a rendszer&uuml;nkben, akkor a
	r&aacute;juk vonatkoz&oacute; rendszer&uuml;zenetek a
	k&ouml;vetkez&#245;k lesznek:</para>

      <screen>sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: type 16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: type 16550A
sio2 at 0x3e8-0x3ef irq 5 on isa
sio2: type 16550A
sio3 at 0x2e8-0x2ef irq 9 on isa
sio3: type 16550A</screen>

      <para>Ha a rendszermagunk nem ismerte volna fel az &ouml;sszes
	soros portot, akkor val&oacute;sz&iacute;n&#251;leg a
	<filename>/boot/device.hints</filename> &aacute;llom&aacute;nyt
	kell m&oacute;dos&iacute;tanunk.  Tegy&uuml;k
	megjegyz&eacute;sbe vagy ak&aacute;r teljesen
	t&aacute;vol&iacute;tsuk is el azokat az eszk&ouml;z&ouml;ket,
	amelyekkel nem rendelkez&uuml;nk.</para>

      <para>A soros portok &eacute;s a t&ouml;bbportos
	k&aacute;rty&aacute;k be&aacute;ll&iacute;t&aacute;s&aacute;val
	kapcsolatban a &man.sio.4; man oldal&aacute;t olvassuk el.
	&Oacute;vatosan b&aacute;njunk a &os; megel&#245;z&#245;
	v&aacute;ltozataib&oacute;l sz&aacute;rmaz&oacute;
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyokkal, mert az
	eszk&ouml;z&ouml;k vonatkoz&oacute;
	be&aacute;ll&iacute;t&aacute;sokat &eacute;s azok
	form&aacute;tuma megv&aacute;ltozhatott az&oacute;ta.</para>

      <note>
	<para>Az <literal>port IO_COM1</literal> a <literal>port
	  0x3f8</literal>, az <literal>IO_COM2</literal> a
	  <literal>0x2f8</literal>, az <literal>IO_COM3</literal> a
	  <literal>0x3e8</literal> &eacute;s az
	  <literal>IO_COM4</literal> a <literal>0x2e8</literal>
	  be&aacute;ll&iacute;t&aacute;st helyettes&iacute;ti.  Ezek az
	  adott porthoz tartoz&oacute; gyakori c&iacute;meket
	  k&eacute;pviselik.  A 4-es, 3-as, 5-&ouml;s &eacute;s 9
	  megszak&iacute;t&aacute;sok is igen &aacute;ltal&aacute;nosak
	  ezekn&eacute;l.  A hagyom&aacute;nyos soros portok viszont az
	  ISA buszos PC-k eset&eacute;ben <emphasis>nem
	  k&eacute;pesek</emphasis> a megszak&iacute;t&aacute;sokon
	  osztozni.  (A t&ouml;bbportos k&aacute;rty&aacute;k azonban
	  lehet&#245;v&eacute; teszik az 16550A sz&aacute;m&aacute;ra,
	  hogy mind&ouml;ssze egy vagy k&eacute;t
	  megszak&iacute;t&aacute;st haszn&aacute;ljon.)</para>
      </note>

    </sect2>

    <sect2>
      <title>Speci&aacute;lis
	eszk&ouml;z&aacute;llom&aacute;nyok</title>

      <para>A rendszermagban tal&aacute;lhat&oacute; legt&ouml;bb
	eszk&ouml;z az &uacute;n.  <quote>speci&aacute;lis
	eszk&ouml;z&aacute;llom&aacute;nyokon</quote> kereszt&uuml;l
	&eacute;rhet&#245; el, melyek a <filename>/dev</filename>
	k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute;ak.  A
	<devicename>sio</devicename> eszk&ouml;z&ouml;k a
	<filename>/dev/ttyd<replaceable>N</replaceable></filename>
	(beh&iacute;v&oacute; portok) &eacute;s
	<filename>/dev/cuad<replaceable>N</replaceable></filename>
	(h&iacute;v&oacute; portok) &aacute;llom&aacute;nyok
	haszn&aacute;lat&aacute;val &eacute;rhet&#245;ek el.  A &os;
	ezenk&iacute;v&uuml;l m&eacute;g k&uuml;l&ouml;n
	eszk&ouml;z&aacute;llom&aacute;nyokat biztos&iacute;t az
	inicializ&aacute;ci&oacute;hoz
	(<filename>/dev/cuad<replaceable>N</replaceable>.init</filename>)
	&eacute;s a z&aacute;rol&aacute;shoz
	(<filename>/dev/cuad<replaceable>N</replaceable>.lock</filename>).
	Az inicializ&aacute;ci&oacute;s &aacute;llom&aacute;nyok a port
	megnyit&aacute;sakor haszn&aacute;lhat&oacute;ak a
	hozz&aacute; tartoz&oacute; param&eacute;terek
	be&aacute;ll&iacute;t&aacute;s&aacute;ra, p&eacute;ld&aacute;ul
	&iacute;gy tudjuk elk&uuml;ldeni a <literal>crtscts</literal>
	utas&iacute;t&aacute;st az olyan modemeknek, amelyek a forgalom
	ir&aacute;ny&iacute;t&aacute;s&aacute;t
	<literal>RTS/CTS</literal> jelz&eacute;seken kereszt&uuml;l
	val&oacute;s&iacute;tj&aacute;k meg.  A z&aacute;rol&oacute;
	&aacute;llom&aacute;nyokkal a portokra vonatkoz&oacute;
	z&aacute;rol&aacute;sokat &aacute;ll&iacute;thatjuk be,
	&iacute;gy a felhaszn&aacute;l&oacute;k vagy a programok nem
	lesznek k&eacute;pesek bizonyos param&eacute;tereket
	megv&aacute;ltoztatni.  A &man.termios.4;, &man.sio.4; &eacute;s
	&man.stty.1; man oldalakon olvashatunk r&eacute;szletesebben a
	termin&aacute;lok be&aacute;ll&iacute;t&aacute;sair&oacute;l,
	valamint az eszk&ouml;z&ouml;k
	z&aacute;rol&aacute;s&aacute;r&oacute;l &eacute;s
	inicializ&aacute;l&aacute;s&aacute;r&oacute;l.</para>

    </sect2>

    <sect2 id="serial-hw-config">
      <title>A soros port be&aacute;ll&iacute;t&aacute;sa</title>

      <indexterm><primary><devicename>ttyd</devicename></primary></indexterm>
      <indexterm><primary><devicename>cuad</devicename></primary></indexterm>

      <para>A <devicename>ttyd<replaceable>N</replaceable></devicename>
	(vagy <devicename>cuad<replaceable>N</replaceable></devicename>)
	lesz az az eszk&ouml;z, amit majd az
	alkalmaz&aacute;sainkb&oacute;l el akarunk &eacute;rni.  Amikor
	egy fut&oacute; program megnyit egy ilyen eszk&ouml;zt, mindig
	tartoznak hozz&aacute; alap&eacute;rtelmezett termin&aacute;l
	I/O be&aacute;ll&iacute;t&aacute;sok.  Ezeket a
	k&ouml;vetkez&#245; paranccsal tudjuk lek&eacute;rdezni:</para>

      <screen>&prompt.root; <userinput>stty -a -f /dev/ttyd1</userinput></screen>

      <para>Ha megv&aacute;ltoztatjuk az eszk&ouml;z
	be&aacute;ll&iacute;t&aacute;sait, akkor azok eg&eacute;szen
	addig &eacute;rv&eacute;nyben is maradnak, am&iacute;g le nem
	z&aacute;rjuk.  Ha teh&aacute;t ezut&aacute;n &uacute;jra
	megnyitjuk, akkor minden vissza&aacute;ll az
	alap&eacute;rtelmezett &aacute;llapotra.  Az
	alap&eacute;rtelmezett be&aacute;ll&iacute;t&aacute;sok
	megv&aacute;ltoztat&aacute;s&aacute;hoz a <quote>kezdeti
	&aacute;llapotot</quote> szimboliz&aacute;l&oacute; eszk&ouml;zt
	kell megnyitnunk &eacute;s &aacute;t&aacute;ll&iacute;tanunk.
	P&eacute;ld&aacute;ul, ha alapb&oacute;l enged&eacute;lyezni
	akarjuk a <option>CLOCAL</option> m&oacute;dot, a 8&nbsp;bites
	kommunik&aacute;ci&oacute;t &eacute;s a
	<option>XON/XOFF</option> t&iacute;pus&uacute;
	forgalomir&aacute;ny&iacute;t&aacute;st a
	<devicename>ttyd5</devicename> eszk&ouml;z&ouml;n, akkor a
	k&ouml;vetkez&#245;t g&eacute;pelj&uuml;k be:</para>

      <screen>&prompt.root; <userinput>stty -f /dev/ttyd5.init clocal cs8 ixon ixoff</userinput></screen>

      <indexterm>
	<primary>rc &aacute;llom&aacute;nyok</primary>
	<secondary><filename>rc.serial</filename></secondary>
      </indexterm>

      <para>A soros eszk&ouml;z&ouml;k rendszerszint&#251;
	inicializ&aacute;l&aacute;s&aacute;t az
	<filename>/etc/rc.d/serial</filename> &aacute;llom&aacute;ny
	vez&eacute;rli.  L&eacute;nyeg&eacute;ben ez hat&aacute;rozza
	meg az &ouml;sszes soros eszk&ouml;z alap&eacute;rtelmezett
	be&aacute;ll&iacute;t&aacute;s&aacute;t.</para>

      <para>Ha bizonyos be&aacute;ll&iacute;t&aacute;sok
	megv&aacute;ltoztat&aacute;s&aacute;t tiltani szeretn&eacute;nk
	az alkalmaz&aacute;sok fel&eacute;, akkor azt a
	<quote>z&aacute;rolt &aacute;llapotot</quote> tartalmaz&oacute;
	eszk&ouml;zben kell r&ouml;gz&iacute;ten&uuml;nk.
	P&eacute;ld&aacute;ul, ha a <devicename>ttyd5</devicename>
	eszk&ouml;z sebess&eacute;g&eacute;t fixen 57600&nbsp;bps-ra
	akarjuk be&aacute;ll&iacute;tani, akkor &iacute;rjuk be
	ezt:</para>

      <screen>&prompt.root; <userinput>stty -f /dev/ttyd5.lock 57600</userinput></screen>

      <para>Ezut&aacute;n ha egy alkalmaz&aacute;s megnyitja a
	<devicename>ttyd5</devicename> eszk&ouml;zt &eacute;s
	megpr&oacute;b&aacute;lja a port sebess&eacute;g&eacute;t
	&aacute;t&aacute;ll&iacute;tani, akkor az tov&aacute;bbra is
	57600&nbsp;bps marad.</para>

      <para>A kezdeti &eacute;s a z&aacute;rolt &aacute;llapotot
	k&eacute;pez&#245; eszk&ouml;z&ouml;ket &aacute;ltal&aacute;ban
	csak a <username>root</username> felhaszn&aacute;l&oacute;
	sz&aacute;m&aacute;ra szabad &iacute;rhat&oacute;v&aacute;
	tenni.</para>

    </sect2>
  </sect1>

  <sect1 id="term">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Sean</firstname>
	  <surname>Kelly</surname>
	  <contrib>K&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>Termin&aacute;lok</title>

    <indexterm><primary>termin&aacute;lok</primary></indexterm>

    <para>A termin&aacute;lok olyankor k&iacute;n&aacute;lnak
      k&eacute;nyelmes &eacute;s k&ouml;lts&eacute;ghat&eacute;kony
      hozz&aacute;f&eacute;r&eacute;st a &os; rendszer&uuml;nkh&ouml;z,
      amikor sem a g&eacute;p konzolj&aacute;t, sem pedig a
      hozz&aacute; tartoz&oacute; h&aacute;l&oacute;zatot nem
      &eacute;rj&uuml;k el.  Ebben a szakaszban olvashatjuk,
      mik&eacute;nt kell termin&aacute;lokat haszn&aacute;lni &os;
      alatt.</para>

    <sect2 id="term-uses">
      <title>A termin&aacute;lok alkalmaz&aacute;sai &eacute;s
	t&iacute;pusai</title>

      <para>Az eredeti &unix; rendszereknek nem voltak konzoljaik.
	Ehelyett az emberek a soros portokra csatlakoztatott
	termin&aacute;lokon kereszt&uuml;l jelentkeztek be &eacute;s
	&iacute;gy futtattak rajtuk programokat.  Ez nagyon
	hasonl&iacute;t ahhoz, mint amikor egy modem &eacute;s egy
	termin&aacute;lprogram felhaszn&aacute;l&aacute;s&aacute;val
	bet&aacute;rcs&aacute;zunk egy t&aacute;voli g&eacute;pre
	&eacute;s vele sz&ouml;veges m&oacute;dban dolgozunk.</para>

      <para>Napjaink szem&eacute;lyi
	sz&aacute;m&iacute;t&oacute;g&eacute;pein azonban
	tal&aacute;lhatunk m&aacute;r ak&aacute;r nagy
	felbont&aacute;s&uacute; megjelen&iacute;t&eacute;ssel
	meg&aacute;ldott konzolokat is, hab&aacute;r a soros porton
	kereszt&uuml;li bejelentkez&eacute;s lehet&#245;s&eacute;ge
	m&eacute;g mind a mai napig el&eacute;rhet&#245; a legt&ouml;bb
	&unix;-alap&uacute; rendszerben.  Ez al&oacute;l a &os; sem
	kiv&eacute;tel.  Ha r&aacute;k&ouml;t&uuml;nk egy
	termin&aacute;lt a g&eacute;p&uuml;nk egyik &uuml;res soros
	portj&aacute;ra, akkor a megszokott m&oacute;don k&eacute;pesek
	vagyunk bejelentkezni a rendszerbe &eacute;s futtatni
	b&aacute;rmilyen sz&ouml;veges programot, hasonl&oacute;an
	ahhoz, ahogy azt a konzolban vagy az X Window Systemben egy
	<command>xterm</command> ablakban megtehetj&uuml;k.</para>

      <para>Ha egy irod&aacute;ban vagyunk, akkor egy &os; rendszerre
	t&ouml;bb termin&aacute;lt is kapcsolhatunk, melyek az
	alkalmazottak asztalain foglalnak helyet.  Otthoni
	haszn&aacute;lat eset&eacute;n egy ki&ouml;regedett
	sz&aacute;m&iacute;t&oacute;g&eacute;p, p&eacute;ld&aacute;ul
	egy r&eacute;gi IBM PC vagy egy &macintosh; is
	r&aacute;k&ouml;thet&#245; egy gyorsabb &os; rendszerre.  Ennek
	seg&iacute;ts&eacute;g&eacute;vel az egy&eacute;bk&eacute;nt
	egyfelhaszn&aacute;l&oacute;s
	sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nket egy
	val&oacute;di t&ouml;bbfelhaszn&aacute;l&oacute;s
	rendszerr&eacute; alak&iacute;thatjuk.</para>

      <para>A &os; eset&eacute;n h&aacute;romf&eacute;le
	termin&aacute;lr&oacute;l besz&eacute;lhet&uuml;nk:</para>

      <itemizedlist>
	<listitem>
	  <para><link linkend="term-dumb">A buta (dumb)
	    termin&aacute;lok</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="term-pcs">A termin&aacute;lk&eacute;nt
	    funkcion&aacute;l&oacute; szem&eacute;lyi
	    sz&aacute;m&iacute;t&oacute;g&eacute;pek</link></para>
	</listitem>

	<listitem>
	  <para><link linkend="term-x">Az X
	    termin&aacute;lok</link></para>
	</listitem>
      </itemizedlist>

      <para>A most k&ouml;vetkez&#245; alszakaszokban ezeket
	fejtj&uuml;k ki r&eacute;szletesebben.</para>

      <sect3 id="term-dumb">
	<title>A buta termin&aacute;lok</title>

	<para>A buta termin&aacute;l alatt olyan
	  speci&aacute;liz&aacute;lt eszk&ouml;zt &eacute;rt&uuml;nk,
	  amellyel soros vonalon kereszt&uuml;l csatlakozunk
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekhez.  Az&eacute;rt
	  nevezik ezeket <quote>but&aacute;nak</quote>, mert
	  csup&aacute;n annyi sz&aacute;m&iacute;t&aacute;si
	  teljes&iacute;tm&eacute;nyt zs&uacute;foltak
	  bel&eacute;j&uuml;k, hogy sz&ouml;veget legyenek
	  k&eacute;pesek k&uuml;ldeni, fogadni &eacute;s
	  megjelen&iacute;teni.  Semmilyen program nem k&eacute;pes
	  rajtuk futni.  Helyette az a
	  sz&aacute;m&iacute;t&oacute;g&eacute;p fogja a
	  sz&ouml;vegszerkeszt&#245;t, ford&iacute;t&oacute;programot,
	  levelez&#245; klienst, j&aacute;t&eacute;kot &eacute;s a
	  t&ouml;bbit futtatni, amelyre vele
	  kapcsol&oacute;dtunk.</para>

	<para>A buta termin&aacute;loknak t&ouml;bbsz&aacute;z,
	  k&uuml;l&ouml;nb&ouml;z&#245; gy&aacute;rtm&aacute;ny&uacute;
	  fajt&aacute;ja l&eacute;tezik.  Ilyenek p&eacute;ld&aacute;ul
	  a Digital Equipment VT-100 vagy a Wyse WY-75
	  t&iacute;pus&uacute; termin&aacute;ljai.  A &os; szinte
	  mindegyik&uuml;ket ismeri.  Egyes dr&aacute;g&aacute;bb
	  termin&aacute;lok m&eacute;g grafikus
	  megjelen&iacute;t&eacute;sre is k&eacute;pesek, de ezeket a
	  lehet&#245;s&eacute;geket csak bizonyos szoftverek
	  tudj&aacute;k t&eacute;nylegesen kihaszn&aacute;lni.</para>

	<para>A buta termin&aacute;lok legink&aacute;bb olyan
	  munkahelyeken terjedtek el, ahol az alkalmazottaknak nincs
	  sz&uuml;ks&eacute;g&uuml;k grafikus alkalmaz&aacute;sok,
	  teh&aacute;t p&eacute;ld&aacute;ul az X Window System
	  haszn&aacute;lat&aacute;ra.</para>

      </sect3>

      <sect3 id="term-pcs">
	<title>Szem&eacute;lyi sz&aacute;m&iacute;t&oacute;g&eacute;pek
	  mint termin&aacute;lok</title>

	<para>Ha egy <link linkend="term-dumb">buta
	  termin&aacute;l</link> csup&aacute;n sz&ouml;veg
	  k&uuml;ld&eacute;s&eacute;re, fogad&aacute;s&aacute;ra
	  &eacute;s megjelen&iacute;t&eacute;s&eacute;re k&eacute;pes,
	  akkor b&aacute;rmelyik szem&eacute;lyi
	  sz&aacute;m&iacute;t&oacute;g&eacute;p ut&aacute;na tudja
	  mindezt csin&aacute;lni.  Ehhez mind&ouml;ssze egy
	  megfelel&#245; k&aacute;belre &eacute;s az adott g&eacute;pen
	  fut&oacute; <emphasis>termin&aacute;l
	  emul&aacute;ci&oacute;s</emphasis> szoftverre van
	  sz&uuml;ks&eacute;g&uuml;nk.</para>

	<para>Az ilyen fajta megold&aacute;s nagyon elterjedt az otthoni
	  haszn&aacute;lat eset&eacute;n.  P&eacute;ld&aacute;ul, ha
	  valamelyik csal&aacute;dtagunk &eacute;ppen szorgalmasan
	  dolgozik a &os; rendszerkonzolj&aacute;n, akkor a
	  r&aacute;kapcsolt termin&aacute;lon kereszt&uuml;l m&eacute;g
	  mi magunk is el tudunk v&eacute;gezni valamennyi sz&ouml;veges
	  fel&uuml;letet ig&eacute;nyl&#245; munk&aacute;t.</para>

	<para>Az alap &os; rendszerben legal&aacute;bb k&eacute;t
	  seg&eacute;dprogram haszn&aacute;lhat&oacute; a soros vonali
	  kapcsolaton kereszt&uuml;li munk&aacute;ra: a &man.cu.1;
	  &eacute;s a &man.tip.1;.</para>

	<para>Egy &os; rendszer&#251; kliensr&#245;l &iacute;gy tudunk
	  csatlakozni egy m&aacute;sik rendszerre:</para>

	<screen>&prompt.root; <userinput>cu -l <replaceable>soros-vonali-eszk&ouml;z</replaceable></userinput></screen>

	<para>Ahol a <quote>soros-vonali-eszk&ouml;z</quote> a
	  rendszer&uuml;nkben a soros portot jel&ouml;l&#245;
	  speci&aacute;lis eszk&ouml;z neve.  Az ilyen
	  eszk&ouml;z&ouml;k neve
	  <devicename>/dev/cuad<replaceable>N</replaceable></devicename>.</para>

	<para>Az eszk&ouml;z nev&eacute;ben az <quote>N</quote>-es
	  r&eacute;sz a soros port sorsz&aacute;m&aacute;t adja
	  meg.</para>

	<note>
	  <para>A &os;-ben az eszk&ouml;z&ouml;k
	    sorsz&aacute;moz&aacute;sa null&aacute;t&oacute;l
	    kezd&#245;dik, nem pedig egyt&#245;l (ellent&eacute;tben
	    teh&aacute;t azzal, ahogy azt az &ms-dos; rendszerekben
	    &eacute;s lesz&aacute;rmazottaikban m&aacute;r
	    megszokhattuk).  Ez azt jelenti, hogy amit az &ms-dos;
	    alap&uacute; rendszerekben <devicename>COM1</devicename>-nek
	    h&iacute;vnak, az a &os;-ben &aacute;ltal&aacute;ban a
	    <filename>/dev/cuad0</filename>.</para>
	</note>

	<note>
	  <para>Egyes emberek m&aacute;s, t&ouml;bbnyire a
	    Portgy&#251;jtem&eacute;nyb&#245;l is el&eacute;rhet&#245;
	    programokat szeretnek ink&aacute;bb haszn&aacute;lni.  A
	    portok k&ouml;z&ouml;tt tal&aacute;lhatunk el&eacute;g sok
	    olyan szoftvert, amely a &man.cu.1; &eacute;s a &man.tip.1;
	    programokhoz hasonl&oacute;an m&#251;k&ouml;dik.  Ilyen
	    p&eacute;ld&aacute;ul a <filename
	    role="package">comms/minicom</filename>.</para>
	</note>

      </sect3>

      <sect3 id="term-x">
	<title>Az X termin&aacute;lok</title>

	<para>Az X termin&aacute;lok a termin&aacute;lok k&ouml;z&uuml;l
	  a legfejlettebbek.  &Aacute;ltal&aacute;ban nem is soros
	  porton, hanem h&aacute;l&oacute;zaton, p&eacute;ld&aacute;ul
	  Etherneten kereszt&uuml;l csatlakoznak.  Term&eacute;szetesen
	  nem csak sz&ouml;veges alkalmaz&aacute;sokat, hanem
	  l&eacute;nyeg&eacute;ben b&aacute;rmilyen X alkalmaz&aacute;st
	  k&eacute;pesek megjelen&iacute;teni.</para>

	<para>Az X termin&aacute;lokr&oacute;l itt most csak a
	  teljess&eacute;g kedv&eacute;&eacute;rt sz&oacute;lunk, de
	  ebben a fejezetben <emphasis>nem</emphasis>
	  sz&aacute;nd&eacute;kozunk t&aacute;rgyalni az X
	  termin&aacute;lok csatlakoztat&aacute;s&aacute;t,
	  be&aacute;ll&iacute;t&aacute;s&aacute;t &eacute;s
	  haszn&aacute;lat&aacute;t.</para>

      </sect3>
    </sect2>

    <sect2 id="term-config">
      <title>Be&aacute;ll&iacute;t&aacute;s</title>

      <para>Ebben a fejezetben ismertetj&uuml;k mindazt, ami ahhoz kell,
	hogy a &os; rendszer&uuml;nk&ouml;n enged&eacute;lyezni tudjuk a
	termin&aacute;lon kereszt&uuml;li bejelentkez&eacute;seket.
	Felt&eacute;telezz&uuml;k, hogy a rendszermagunk
	t&aacute;mogatja a termin&aacute;lok &aacute;ltal
	haszn&aacute;lt soros portokat, illetve, hogy ezeket m&aacute;r
	csatlakoztattuk is.</para>

      <para>Ha visszagondolunk a <xref linkend="boot">re, akkor
	esz&uuml;nkbe juthat, hogy a rendszer ind&iacute;t&aacute;sakor
	az <command>init</command> nev&#251; program felel&#245;s az
	&ouml;sszes fut&oacute; program
	ir&aacute;ny&iacute;t&aacute;s&aacute;&eacute;rt &eacute;s
	inicializ&aacute;l&oacute;d&aacute;s&aacute;&eacute;rt.  Az
	<command>init</command> egyik feladata, hogy beolvassa az
	<filename>/etc/ttys</filename> &aacute;llom&aacute;nyt &eacute;s
	neki megfelel&#245;en az el&eacute;rhet&#245;
	termin&aacute;lokon elind&iacute;tsa a <command>getty</command>
	programot.  A <command>getty</command> felel&#245;s a
	bejelentkez&eacute;shez sz&uuml;ks&eacute;ges
	azonos&iacute;t&oacute; beolvas&aacute;s&aacute;&eacute;rt
	&eacute;s a <command>login</command> program
	elind&iacute;t&aacute;s&aacute;&eacute;rt.</para>

      <para>Ennek megfelel&#245;en teh&aacute;t, ha a &os;
	rendszer&uuml;nk&ouml;n termin&aacute;lokat akarunk
	be&aacute;ll&iacute;tani, akkor ehhez a k&ouml;vetkez&#245;
	l&eacute;p&eacute;seket kell megtenn&uuml;nk
	<username>root</username>
	felhaszn&aacute;l&oacute;k&eacute;nt:</para>

      <procedure>
	<step>
	  <para>Az <filename>/etc/ttys</filename>
	    &aacute;llom&aacute;nyba vegy&uuml;nk fel egy
	    bejegyz&eacute;st a soros porthoz tartoz&oacute;
	    <filename>/dev</filename> k&ouml;nyvt&aacute;rbeli
	    eszk&ouml;zh&ouml;z, ha m&eacute;g nem szerepelne
	    benne.</para>
	</step>

	<step>
	  <para>A porthoz adjuk meg a
	    <command>/usr/libexec/getty</command> programot, majd
	    hozz&aacute; az <filename>/etc/gettytab</filename>
	    &aacute;llom&aacute;nyb&oacute;l v&aacute;lasszuk ki a
	    megfelel&#245; <replaceable>getty</replaceable>
	    t&iacute;pust.</para>
	</step>

	<step>
	  <para>Adjuk meg a termin&aacute;l alap&eacute;rtelmezett
	    t&iacute;pus&aacute;t.</para>
	</step>

	<step>
	  <para>&Aacute;ll&iacute;tsuk a portot <quote>on</quote>
	    (bekapcsolt) &aacute;llapot&uacute;ra.</para>
	</step>

	<step>
	  <para>Adjuk meg, hogy a port <quote>secure</quote>
	    (biztons&aacute;gos) legyen-e.</para>
	</step>

	<step>
	  <para>Mondjuk meg az <command>init</command> programnak, hogy
	    olvassa &uacute;jra az <filename>/etc/ttys</filename>
	    &aacute;llom&aacute;nyt.</para>
	</step>
      </procedure>

      <para>A m&aacute;sik l&eacute;p&eacute;s
	kieg&eacute;sz&iacute;t&#245; l&eacute;p&eacute;sek&eacute;nt az
	<filename>/etc/gettytab</filename> &aacute;llom&aacute;nyban mi
	magunk is l&eacute;trehozhatunk egy saj&aacute;t
	<replaceable>getty</replaceable> t&iacute;pust.  A fejezetben
	ehhez ugyan nem adunk seg&iacute;ts&eacute;get, de ha
	&eacute;rdekel minket a t&eacute;ma, akkor ezzel kapcsolatban a
	&man.gettytab.5; &eacute;s &man.getty.8; man oldalakat
	&eacute;rdemes elolvasni.</para>

      <sect3 id="term-etcttys">
	<title>Egy bejegyz&eacute;s felv&eacute;tele az
	  <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyba</title>

	<para>Az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyban tal&aacute;lhatjuk meg az
	  &ouml;sszes portot, ahonnan a &os; rendszer&uuml;nk
	  enged&eacute;lyezi a bejelentkez&eacute;st.
	  P&eacute;ld&aacute;ul a <filename>ttyv0</filename>, az
	  els&#245; virtu&aacute;lis konzol is szerepel benne.  Ezen a
	  bejegyz&eacute;sen kereszt&uuml;l tudunk bejelentkezni a
	  konzolra.  Ebben az &aacute;llom&aacute;nyban tal&aacute;ljuk
	  meg m&eacute;g a t&ouml;bbi virtu&aacute;lis konzol, soros
	  port &eacute;s pszeudotermin&aacute;l bejegyz&eacute;seit is.
	  A r&ouml;gz&iacute;tett termin&aacute;lok eset&eacute;n
	  egyszer&#251;en csak adjuk meg a soros porthoz tartoz&oacute;
	  <filename>/dev</filename> k&ouml;nyvt&aacute;rbeli
	  eszk&ouml;zt a <filename>/dev</filename> el&#245;tag
	  n&eacute;lk&uuml;l (&iacute;gy p&eacute;ld&aacute;ul a
	  <filename>/dev/ttyv0</filename> <devicename>ttyv0</devicename>
	  n&eacute;ven fog megjelenni).</para>

	<para>Az alap &os; telep&iacute;t&eacute;sben egy olyan
	  <filename>/etc/ttys</filename> &aacute;llom&aacute;ny
	  tal&aacute;lhat&oacute;, amely tartalmazza az els&#245;
	  n&eacute;gy soros portot, a <devicename>ttyd0</devicename>
	  eszk&ouml;zt&#245;l kezdve a <devicename>ttyd3</devicename>
	  eszk&ouml;zig.  Ha teh&aacute;t ezekre a portokra
	  csatlakoztatnunk egy termin&aacute;lt, akkor m&aacute;r nem
	  kell egy &uacute;jabb bejegyz&eacute;st felvenn&uuml;nk
	  hozz&aacute;juk.</para>

	<example id="ex-etc-ttys">
	  <title>Termin&aacute;lok felv&eacute;tele az
	    <filename>/etc/ttys</filename>
	    &aacute;llom&aacute;nyba</title>

	  <para>Tegy&uuml;k fel, hogy k&eacute;t eszk&ouml;zt
	    szeretn&eacute;nk a rendszer&uuml;nkh&ouml;z csatlakoztatni:
	    egy Wyse-50-es termin&aacute;lt &eacute;s egy r&eacute;gi
	    286-os IBM PC-t, amelyen a
	    <application>Procomm</application>
	    termin&aacute;lszoftverrel emul&aacute;lunk egy VT-100-as
	    termin&aacute;lt.  A Wyse termin&aacute;lt a m&aacute;sodik
	    soros portunkra k&ouml;tj&uuml;k, m&iacute;g a 286-ost a
	    hatodik soros portra (p&eacute;ld&aacute;ul egy
	    t&ouml;bbportos soros vonali k&aacute;rty&aacute;n).  A
	    nekik megfelel&#245; <filename>/etc/ttys</filename>
	    &aacute;llom&aacute;nybeli bejegyz&eacute;sek &iacute;gy
	    fognak kin&eacute;zni:</para>

	  <programlisting>ttyd1<co
	      id="co-ttys-line1col1">  "/usr/libexec/getty std.38400"<co
	      id="co-ttys-line1col2">  wy50<co
	      id="co-ttys-line1col3">  on<co
	      id="co-ttys-line1col4">  insecure<co
	      id="co-ttys-line1col5">
ttyd5   "/usr/libexec/getty std.19200"  vt100  on  insecure
	  </programlisting>

	  <calloutlist>
	    <callout arearefs="co-ttys-line1col1">
	      <para>Az els&#245; mez&#245;ben &aacute;ltal&aacute;ban a
		termin&aacute;lhoz tartoz&oacute; eszk&ouml;zt
		nevezz&uuml;k meg, amely a <filename>/dev</filename>
		k&ouml;nyvt&aacute;rban tal&aacute;lhat&oacute;.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col2">
	      <para>A m&aacute;sodik mez&#245; a vonalhoz tartoz&oacute;
		v&eacute;grehajtand&oacute; parancs, ami
		&aacute;ltal&aacute;ban a &man.getty.8;.  A
		<command>getty</command> m&#251;k&ouml;d&eacute;sbe
		helyezi &eacute;s megnyitja a vonalat,
		be&aacute;ll&iacute;tja a sebess&eacute;g&eacute;t,
		bek&eacute;ri a felhaszn&aacute;l&oacute; nev&eacute;t,
		majd elind&iacute;tja a &man.login.1; programot.</para>

	      <para>A <command>getty</command> program egy
		(opcion&aacute;lis) param&eacute;tert fogad el a
		parancssor&aacute;ban, ami a
		<replaceable>getty</replaceable> t&iacute;pusa.  Egy
		ilyen <replaceable>getty</replaceable> t&iacute;pus
		szabja meg a termin&aacute;lhoz tartoz&oacute; vonal
		jellemz&#245;it, p&eacute;ld&aacute;ul az
		adat&aacute;tviteli sebess&eacute;get &eacute;s a
		parit&aacute;st.  A <command>getty</command> ezeket a
		jellemz&#245;ket az <filename>/etc/gettytab</filename>
		&aacute;llom&aacute;nyb&oacute;l olvassa be.</para>

	      <para>A <filename>/etc/gettytab</filename> egyar&aacute;nt
		tartalmaz bejegyz&eacute;seket a r&eacute;gi &eacute;s
		&uacute;j t&iacute;pus&uacute; termin&aacute;lokhoz.  Az
		<literal>std</literal> sz&ouml;veggel kezd&#245;d&#245;
		bejegyz&eacute;sek szinte majdnem minden esetben
		m&#251;k&ouml;dnek a hardveres termin&aacute;lokkal.  Az
		ilyen bejegyz&eacute;sek figyelmen k&iacute;v&uuml;l
		hagyj&aacute;k a parit&aacute;st.  110 &eacute;s
		115&nbsp;200&nbsp;bps k&ouml;z&ouml;tt minden
		adat&aacute;tviteli sebess&eacute;ghez tartozik egy-egy
		<literal>std</literal> bejegyz&eacute;s.
		Term&eacute;szetesen ebbe az &aacute;llom&aacute;nyba
		ak&aacute;r a saj&aacute;t bejegyz&eacute;seinket is
		elk&eacute;sz&iacute;thetj&uuml;k.  A &man.gettytab.5;
		man oldal ny&uacute;jt ehhez &aacute;tfog&oacute;
		seg&iacute;ts&eacute;get.</para>

	      <para>Amikor az<filename>/etc/ttys</filename>
		&aacute;llom&aacute;nyban megadjuk a
		<replaceable>getty</replaceable> t&iacute;pus&aacute;t,
		akkor ellen&#245;rizz&uuml;k, hogy a
		be&aacute;ll&iacute;t&aacute;sai megfelelnek a
		termin&aacute;l&eacute;nak.</para>

	      <para>A p&eacute;ld&aacute;nkn&aacute;l maradva: a Wyse-50
		nem haszn&aacute;l parit&aacute;st &eacute;s
		38&nbsp;400&nbsp;bps-en &uuml;zemel.  A 286-os
		g&eacute;p szint&eacute;n nem dolgozik parit&aacute;ssal
		&eacute;s 19200&nbsp;bps-sel kapcsol&oacute;dik.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col3">
	      <para>A harmadik mez&#245;ben adjuk meg
		&aacute;ltal&aacute;ban a vonalra csatlakoz&oacute;
		termin&aacute;l t&iacute;pus&aacute;t.  Ez a
		bet&aacute;rcs&aacute;z&oacute;s portok eset&eacute;ben
		t&ouml;bbnyire az <literal>unknown</literal> vagy a
		<literal>dialup</literal>, mivel ezeken kereszt&uuml;l a
		felhaszn&aacute;l&oacute;k gyakorlatilag szinte
		b&aacute;rmilyen t&iacute;pus&uacute; termin&aacute;llal
		vagy szoftverrel be tudnak jelentkezni.  A hardveres
		termin&aacute;lokn&aacute;l a termin&aacute;l
		t&iacute;pusa azonban nem v&aacute;ltozik, ez&eacute;rt
		a &man.termcap.5; adatb&aacute;zisban keress&uuml;k ki a
		nekik megfelel&#245;t &eacute;s adjuk meg ebben a
		mez&#245;ben.</para>

	      <para>A p&eacute;ld&aacute;nkban a Wyse-50 egy
		val&oacute;s termin&aacute;lt&iacute;pust
		haszn&aacute;l, mik&ouml;zben a 286-oson fut&oacute;
		<application>Procomm</application> egy VT-100-as
		t&iacute;pus&uacute; termin&aacute;lt
		emul&aacute;l.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col4">
	      <para>A negyedik mez&#245; azt mondja meg, hogy a port
		enged&eacute;lyezett-e vagy sem.  Ha itt a
		<literal>on</literal> &eacute;rt&eacute;ket adjuk meg,
		akkor az <command>init</command> elind&iacute;tja a
		m&aacute;sodik mez&#245;ben szerepl&#245;
		<command>getty</command> programot.  Ha viszont itt az
		<literal>off</literal> szerepel, akkor a
		<command>getty</command> nem fog elindulni, &iacute;gy
		ezen a porton be sem fogunk tudni jelentkezni.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col5">
	      <para>Az utols&oacute; mez&#245;ben a port
		megb&iacute;zhat&oacute;s&aacute;g&aacute;t kell
		megjel&ouml;ln&uuml;nk.  Ha biztons&aacute;gosnak
		(<literal>secure</literal>) &aacute;ll&iacute;tjuk be a
		portot, akkor rajta kereszt&uuml;l a
		<username>root</username> (vagy b&aacute;rmelyik
		null&aacute;s felhaszn&aacute;l&oacute;i
		azonos&iacute;t&oacute;val rendelkez&#245;)
		felhaszn&aacute;l&oacute; be tud jelentkezni.  Amikor
		viszont nem biztons&aacute;gos
		(<literal>insecure</literal>), akkor el&#245;sz&ouml;r
		egy norm&aacute;l felhaszn&aacute;l&oacute;val kell
		bejelentkezn&uuml;nk, majd a &man.su.1; programmal vagy
		egy hozz&aacute; hasonl&oacute; megold&aacute;ssal kell
		rendszeradminisztr&aacute;torr&aacute;
		v&aacute;lnunk.</para>

	      <para>Legink&aacute;bb az <literal>insecure</literal>
		be&aacute;ll&iacute;t&aacute;st javasoljuk, m&eacute;g
		h&eacute;t lakat alatt &#245;rz&ouml;tt
		termin&aacute;lok eset&eacute;ben is.
		Val&oacute;j&aacute;ban sokkal egyszer&#251;bb
		bejelentkezni, majd kiadni egy <command>su</command>
		parancsot, ha netal&aacute;n
		rendszeradminisztr&aacute;tori jogosults&aacute;gokra
		lenne sz&uuml;ks&eacute;g&uuml;nk.</para>
	    </callout>
	  </calloutlist>
	</example>

      </sect3>

      <sect3 id="term-hup">
	<title>A <command>init</command> utas&iacute;t&aacute;sa az
	  <filename>/etc/ttys</filename>
	  &uacute;jraolvas&aacute;s&aacute;ra</title>

	<para>Miut&aacute;n az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyban elv&eacute;gezt&uuml;k a
	  megfelel&#245; m&oacute;dos&iacute;t&aacute;sokat, a
	  konfigur&aacute;ci&oacute;s &aacute;llom&aacute;ny
	  &uacute;jraolvas&aacute;s&aacute;hoz k&uuml;ldj&uuml;nk egy
	  SIGHUP (bont&aacute;s) jelz&eacute;st az
	  <command>init</command> programnak.  Mint
	  p&eacute;ld&aacute;ul:</para>

	<screen>&prompt.root; <userinput>kill -HUP 1</userinput></screen>

	<note>
	  <para>Mivel mindig az <command>init</command> indul el
	    els&#245;k&eacute;nt a rendszerben, ez&eacute;rt a
	    hozz&aacute; tartoz&oacute; azonos&iacute;t&oacute; az 1
	    lesz.</para>
	</note>

	<para>Ha mindent j&oacute;l &aacute;ll&iacute;tottunk be, a
	  k&aacute;belek is a hely&uuml;k&ouml;n vannak &eacute;s a
	  termin&aacute;lokat is bekapcsoltuk, akkor minden
	  termin&aacute;lhoz elindul egy <command>getty</command>
	  program, &eacute;s mindegyik&#245;j&uuml;k&ouml;n megjelenik a
	  bejelentkez&#245; k&eacute;perny&#245;.</para>

      </sect3>
    </sect2>

    <sect2 id="term-debug">
      <title>A termin&aacute;lokkal kapcsolatos
	hibajelens&eacute;gek</title>

      <para>Olykor hi&aacute;ba igyeksz&uuml;nk a lehet&#245;
	legapr&oacute;l&eacute;kosabban &uuml;gyelni minden apr&oacute;
	r&eacute;szletre, k&ouml;nnyen el&#245;fordulhat, hogy
	valami&eacute;rt a termin&aacute;l m&eacute;gsem
	m&#251;k&ouml;dik rendesen.  K&ouml;vetkezzen most egy lista
	n&eacute;h&aacute;ny ismert t&uuml;netr&#245;l &eacute;s azok
	javasolt gy&oacute;gym&oacute;djair&oacute;l.</para>

      <sect3>
	<title>Nem jelenik meg a bejelentkez&#245;
	  k&eacute;perny&#245;</title>

	<para>Ellen&#245;rizz&uuml;k, hogy a termin&aacute;lt rendesen
	  csatlakoztattuk &eacute;s &aacute;ram al&aacute;
	  helyezt&uuml;k.  Amikor egy szem&eacute;lyi
	  sz&aacute;m&iacute;t&oacute;g&eacute;pet haszn&aacute;lunk
	  termin&aacute;lnak, akkor n&eacute;zz&uuml;k meg, hogy a
	  termin&aacute;l emul&aacute;ci&oacute;s program a
	  megfelel&#245; soros porton fut.</para>

	<para>Vizsg&aacute;ljuk meg, hogy a k&aacute;bel mind a
	  k&eacute;t v&eacute;ge pontosan illeszkedik a portokba.
	  Gy&#245;z&#245;dj&uuml;nk meg r&oacute;la, hogy val&oacute;ban
	  a megfelel&#245; t&iacute;pus&uacute; k&aacute;belt
	  haszn&aacute;ljuk.</para>

	<para>N&eacute;zz&uuml;k meg, hogy a termin&aacute;l &eacute;s a
	  &os; is ugyanazon az adat&aacute;tviteli sebess&eacute;gen
	  &eacute;s parit&aacute;si be&aacute;ll&iacute;t&aacute;ssal
	  megy.  Ha k&eacute;perny&#245;vel rendelkez&#245;
	  termin&aacute;lunk van, akkor a kontrasztot &eacute;s
	  f&eacute;nyer&#245;ss&eacute;get is ellen&#245;rizz&uuml;k.
	  Ha nyomtat&oacute;s termin&aacute;lunk van, akkor
	  vizsg&aacute;ljuk meg a pap&iacute;r &eacute;s a tinta
	  &aacute;llapot&aacute;t.</para>

	<para>Gy&#245;z&#245;dj&uuml;nk meg r&oacute;la, hogy a
	  <command>getty</command> val&oacute;ban fut &eacute;s rendesen
	  kiszolg&aacute;lja a termin&aacute;lt.  P&eacute;ld&aacute;ul
	  a <command>ps</command> paranccsal list&aacute;zzuk ki az
	  &ouml;sszes jelenleg fut&oacute; programot &eacute;s
	  keress&uuml;k meg k&ouml;zt&uuml;k a <command>getty</command>
	  programot:</para>

	<screen>&prompt.root; <userinput>ps -axww|grep getty</userinput></screen>

	<para>Ekkor l&aacute;tnunk kell a termin&aacute;lhoz
	  tartoz&oacute; bejegyz&eacute;st.  P&eacute;ld&aacute;ul, ha a
	  <command>getty</command> m&aacute;sodik soros portot
	  jelk&eacute;pez&#245; <devicename>ttyd1</devicename>
	  eszk&ouml;z&ouml;n fut, &eacute;s az
	  <filename>/etc/gettytab</filename>
	  &aacute;llom&aacute;nyb&oacute;l az
	  <literal>std.38400</literal> nev&#251; bejegyz&eacute;st
	  haszn&aacute;lja, akkor ez jelenik meg:</para>

	<screen>22189  d1  Is+    0:00.03 /usr/libexec/getty std.38400 ttyd1</screen>

	<para>Amennyiben semmilyen <command>getty</command> nem fut,
	  akkor ellen&#245;rizz&uuml;k, hogy val&oacute;ban
	  enged&eacute;lyezt&uuml;k-e a portot az
	  <filename>/etc/ttys</filename> &aacute;llom&aacute;nyban.  A
	  <filename>ttys</filename> &aacute;llom&aacute;ny
	  &aacute;t&iacute;r&aacute;sa ut&aacute;n ne felejts&uuml;k el
	  kiadni a <command>kill -HUP 1</command> parancsot sem.</para>

	<para>Ha a <command>getty</command> fut, de a termin&aacute;lon
	  tov&aacute;bbra sem l&aacute;tjuk a bejelentkez&#245;
	  k&eacute;perny&#245;t, vagy megjelenik, de nem tudunk
	  g&eacute;pelni, akkor el&#245;fordulhat, hogy a
	  termin&aacute;l vagy k&aacute;bel nem t&aacute;mogatja a
	  hardveres k&eacute;zfog&aacute;st (handshaking).
	  Pr&oacute;b&aacute;ljuk meg az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyban lev&#245;
	  <literal>std.38400</literal> bejegyz&eacute;st az
	  <literal>3wire.38400</literal> bejegyz&eacute;sre
	  kicser&eacute;lni (de ut&aacute;na ne felejts&uuml;k el kiadni
	  a <command>kill -HUP 1</command> parancsot).  A
	  <literal>3wire</literal> nagyon hasonl&iacute;t az
	  <literal>std</literal> bejegyz&eacute;shez, de elhagyja a
	  hardveres k&eacute;zfog&aacute;st.  A <literal>3wire</literal>
	  alkalmaz&aacute;sakor viszont a puffer
	  tel&iacute;t&#245;d&eacute;s&eacute;nek megel&#245;z&eacute;se
	  &eacute;rdek&eacute;ben pr&oacute;b&aacute;lkozzunk az
	  adat&aacute;tviteli sebess&eacute;g
	  cs&ouml;kkent&eacute;s&eacute;vel vagy
	  enged&eacute;lyezz&uuml;k a szoftveres
	  forgalomir&aacute;ny&iacute;t&aacute;st.</para>

      </sect3>

      <sect3>
	<title>Amikor mindenf&eacute;le szem&eacute;t jelenik meg a
	  k&eacute;perny&#245;n</title>

	<para>Ellen&#245;rizz&uuml;k, hogy a &os; &eacute;s a
	  termin&aacute;l ugyanazt az adat&aacute;tviteli
	  sebess&eacute;get &eacute;s parit&aacute;si
	  be&aacute;ll&iacute;t&aacute;st haszn&aacute;lja.
	  N&eacute;zz&uuml;k meg a fut&oacute; <command>getty</command>
	  programokat, &eacute;s hogy a megfelel&#245;
	  <replaceable>getty</replaceable> t&iacute;pussal mennek-e.  Ha
	  nem, m&oacute;dos&iacute;tsuk az
	  <filename>/etc/ttys</filename> &aacute;llom&aacute;nyt
	  &eacute;s adjuk ki a <command>kill -HUP 1</command>
	  parancsot.</para>

      </sect3>

      <sect3>
	<title>A karakterek dupl&aacute;n jelennek meg, a jelsz&oacute;
	  beg&eacute;pel&eacute;sekor l&aacute;that&oacute;</title>

	<para>&Aacute;ll&iacute;tsuk &aacute;t a termin&aacute;lt (vagy
	  a termin&aacute;l emul&aacute;ci&oacute;s szofvert)
	  <quote>half duplex</quote> vagy <quote>local echo</quote>
	  m&oacute;dr&oacute;l <quote>full duplex</quote>
	  m&oacute;dra.</para>

      </sect3>
    </sect2>
  </sect1>

  <sect1 id="dialup">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Guy</firstname>
	  <surname>Helmer</surname>
	  <contrib>K&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Sean</firstname>
	  <surname>Kelly</surname>
	  <contrib>Kieg&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>Bet&aacute;rcs&aacute;z&oacute;s
      szolg&aacute;ltat&aacute;sok</title>

    <indexterm><primary>bet&aacute;rcs&aacute;z&oacute;s
      szolg&aacute;ltat&aacute;s</primary></indexterm>

    <para>Amikor egy &os; rendszert akarunk
      bet&aacute;rcs&aacute;z&oacute;s szolg&aacute;ltat&aacute;sokhoz
      be&aacute;ll&iacute;tani, akkor az nagyon hasonl&iacute;t a
      termin&aacute;lok csatlakoztat&aacute;s&aacute;hoz, azzal a
      elt&eacute;r&eacute;ssel, hogy ilyenkor a termin&aacute;lok
      helyett modemekkel kell dolgoznunk.</para>

      <sect2>
	<title>K&uuml;ls&#245; kontra bels&#245; modemek</title>

	<para>A k&uuml;ls&#245; modemek sokkal k&eacute;nyelmesebbnek
	  t&#251;nnek bet&aacute;rcs&aacute;z&aacute;s
	  szempontj&aacute;b&oacute;l, mivel az ilyenek gyakran a
	  statikus mem&oacute;ri&aacute;jukban t&aacute;rolt
	  param&eacute;terek r&eacute;v&eacute;n tulajdonk&eacute;ppen
	  f&eacute;lig el&#245;re be vannak &aacute;ll&iacute;tva
	  &eacute;s sok esetben a fontosabb RS-232 jeleket
	  k&uuml;l&ouml;n l&aacute;mp&aacute;csk&aacute;kkal
	  mutatj&aacute;k.  A villog&oacute; l&aacute;mp&aacute;k
	  k&ouml;nnyen elk&aacute;pr&aacute;ztatj&aacute;k a laikusokat,
	  de emellett igen fontosak a modem
	  m&#251;k&ouml;d&#245;k&eacute;pess&eacute;g&eacute;nek
	  meg&aacute;llap&iacute;t&aacute;s&aacute;ban is.</para>

	<para>Ezzel szemben a bels&#245; modemeken nem
	  tal&aacute;lhat&oacute; statikus mem&oacute;ria, ez&eacute;rt
	  a param&eacute;tereik csak DIP kapcsol&oacute;kkal
	  m&oacute;dos&iacute;that&oacute;ak.  M&eacute;g ha egy
	  bels&#245; modemem l&aacute;tunk is l&aacute;mp&aacute;kat,
	  akkor sem k&ouml;nny&#251; figyelni r&aacute;juk, mert a
	  g&eacute;p&uuml;nk burkolata &uacute;gyis eltakarja
	  ezeket.</para>

      <sect3>
	<title>Modemek &eacute;s k&aacute;belek</title>

	<indexterm><primary>modem</primary></indexterm>

	<para>Ha k&uuml;ls&#245; modemet haszn&aacute;lunk, akkor
	  mindenk&eacute;ppen sz&uuml;ks&eacute;g&uuml;nk lesz
	  hozz&aacute; m&eacute;g egy megfelel&#245; k&aacute;belre is.
	  Egy szabv&aacute;nyos RS-232-es soros k&aacute;bel erre
	  t&ouml;k&eacute;letesen megfelel eg&eacute;szen addig,
	  am&iacute;g a norm&aacute;l jeleket &iacute;gy
	  k&ouml;t&ouml;tt&eacute;k be rajta:</para>

	  <table frame="none" pgwide="1" id="serialcomms-signal-names">
	    <title>A jelek neve</title>

	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry align="left">R&ouml;vid&iacute;t&eacute;s</entry>
		  <entry align="left">Elnevez&eacute;s</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry><acronym>RD</acronym></entry>
		  <entry>Received Data (fogadott adat)</entry>
		</row>

		<row>
		  <entry><acronym>TD</acronym></entry>
		  <entry>Transmitted Data (k&uuml;ld&ouml;tt
		    adat)</entry>
		</row>

		<row>
		  <entry><acronym>DTR</acronym></entry>
		  <entry>Data Terminal Ready (adattermin&aacute;l
		    k&eacute;sz)</entry>
		</row>

		<row>
		  <entry><acronym>DSR</acronym></entry>
		  <entry>Data Set Ready
		    (adatbe&aacute;ll&iacute;t&aacute;s
		    k&eacute;sz)</entry>
		</row>

		<row>
		  <entry><acronym>DCD</acronym></entry>
		  <entry>Data Carrier Detect (vonal
		    &eacute;szl&eacute;se &mdash; az RS-232
		    fogad&aacute;st &eacute;rz&eacute;kel&#245;
		    vonala)</entry>
		</row>

		<row>
		  <entry><acronym>SG</acronym></entry>
		  <entry>Signal Ground (f&ouml;ld)</entry>
		</row>

		<row>
		  <entry><acronym>RTS</acronym></entry>
		  <entry>Request to Send (k&uuml;ld&eacute;s
		    k&eacute;r&eacute;se)</entry>
		</row>

		<row>
		  <entry><acronym>CTS</acronym></entry>
		  <entry>Clear to Send (k&uuml;ld&eacute;s
		    enged&eacute;lyez&eacute;se)</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	<para>A &os;-nek 2400&nbsp;bps felett a forgalom
	  ir&aacute;ny&iacute;t&aacute;s&aacute;hoz az
	  <acronym>RTS</acronym> &eacute;s <acronym>CTS</acronym>
	  jelekre van sz&uuml;ks&eacute;ge.  A <acronym>CD</acronym>
	  jellel &aacute;llap&iacute;tja meg, hogy a h&iacute;v&aacute;s
	  l&eacute;trej&ouml;tt vagy a bontott&aacute;k a vonalat,
	  &eacute;s a <acronym>DTR</acronym> jel hozza
	  alap&aacute;llapotba a modemet a munkamenet befejez&eacute;se
	  ut&aacute;n.  Egyes k&aacute;belekben nem mindegyik jelet
	  vezett&eacute;k &aacute;t, &iacute;gy ha p&eacute;ld&aacute;ul
	  gondjaink akadnak a bejelentkez&#245; k&eacute;perny&#245;vel
	  amikor a vonalat bontjuk, akkor &eacute;rdemes
	  &aacute;tn&eacute;zn&uuml;nk a k&aacute;belt.</para>

	<para>A t&ouml;bbi &unix;-szer&#251; oper&aacute;ci&oacute;s
	  rendszerhez hasonl&oacute;an a &os; is hardveres jelek
	  seg&iacute;ts&eacute;g&eacute;vel igyekszik kider&iacute;teni,
	  hogy a h&iacute;v&aacute;s megval&oacute;sult vagy
	  bontott&aacute;k a vonalat, valamint a h&iacute;v&aacute;s
	  befejez&eacute;se ut&aacute;n &iacute;gy bontja a vonalat
	  &eacute;s &aacute;ll&iacute;tja vissza a modemet.  A &os;
	  igyekszik elker&uuml;lni a parancsok
	  k&uuml;ld&eacute;s&eacute;t a modem fel&eacute;, vagy a modem
	  &aacute;llapot&aacute;nak folyamatos
	  ellen&#245;rz&eacute;s&eacute;t.  Ha m&aacute;r van
	  n&eacute;mi tapasztalatunk a PC-alap&uacute; BBS-ek modemes
	  el&eacute;r&eacute;s&eacute;t illet&#245;en, akkor
	  val&oacute;sz&iacute;n&#251;leg &eacute;rtj&uuml;k ezek
	  okait.</para>

      </sect3>
    </sect2>

    <sect2>
      <title>A soros vonali fel&uuml;lettel kapcsolatos
	megfontol&aacute;sok</title>

      <para>A &os; ismeri az NS8250-, NS16450-, NS16550- &eacute;s
	NS16550A alap&uacute; EIA&nbsp;RS-232C (CCITT&nbsp;V.24)
	szabv&aacute;ny&uacute; kommunik&aacute;ci&oacute;s
	fel&uuml;leteket.  A 8250-es &eacute;s a 16450-es
	eszk&ouml;z&ouml;k egykarakteres pufferrel rendelkeznek.  A
	16550-es eszk&ouml;z&ouml;k 16 karakteres puffert tartalmaznak,
	amellyel jobb teljes&iacute;tm&eacute;ny &eacute;rhet&#245; el.
	(A sima 16550-esben lev&#245; hib&aacute;k miatt azonban ez a 16
	karakteres puffer nem haszn&aacute;lhat&oacute; ki rendesen,
	ez&eacute;rt lehet&#245;leg a 16550A verzi&oacute;t
	haszn&aacute;ljuk).  Mivel az oper&aacute;ci&oacute;s rendszer
	r&eacute;sz&eacute;r&#245;l az egykarakteres eszk&ouml;z&ouml;k
	j&oacute;val t&ouml;bb t&ouml;r&#245;d&eacute;st
	ig&eacute;nyelnek, mint a 16 karakteres eszk&ouml;z&ouml;k,
	ez&eacute;rt ink&aacute;bb a 16550A alap&uacute; soros
	fel&uuml;leti k&aacute;rty&aacute;kat aj&aacute;nljuk.  Amikor a
	rendszer egyszerre t&ouml;bb soros portot is kezel, vagy
	er&#245;s terhel&eacute;s alatt &aacute;ll, akkor a 16550A
	alap&uacute; k&aacute;rty&aacute;kr&oacute;l
	&aacute;ltal&aacute;ban az is elmondhat&oacute;, hogy kisebb
	hib&aacute;val dolgoznak.</para>

      </sect2>

    <sect2>
      <title>Egy gyors &aacute;ttekint&eacute;s</title>

      <indexterm><primary>getty</primary></indexterm>

      <para>Ahogy arr&oacute;l m&aacute;r a termin&aacute;lok
	eset&eacute;ben sz&oacute; esett, az <command>init</command> az
	&ouml;sszes bet&aacute;rcs&aacute;z&oacute;s kapcsolathoz
	tartoz&oacute; soros porthoz elind&iacute;t egy
	<command>getty</command> programot.  P&eacute;ld&aacute;ul, ha a
	modemet a <filename>/dev/ttyd0</filename> eszk&ouml;zre
	kapcsoltuk, akkor a <command>ps ax</command> parancs
	kimenet&eacute;ben ezt l&aacute;thatjuk:</para>

      <screen> 4850 ??  I      0:00.09 /usr/libexec/getty V19200 ttyd0</screen>

      <para>Amikor egy felhaszn&aacute;l&oacute; felh&iacute;vja a
	modemet &eacute;s az kapcsol&oacute;dik, akkor a modem egy
	<acronym>CD</acronym> (Carrier Detect) jelet k&uuml;ld.  A
	rendszermag ekkor tudom&aacute;sul veszi a vonal
	&eacute;szlel&eacute;s&eacute;t &eacute;s a
	<command>getty</command> seg&iacute;ts&eacute;g&eacute;vel
	megind&iacute;tja a kommunik&aacute;ci&oacute;t.  A
	<command>getty</command> egy <prompt>login:</prompt>
	sz&ouml;veget k&uuml;ld &aacute;t a vonalhoz megadott
	sebess&eacute;ggel.  A <command>getty</command> elkezdi
	figyelni, hogy a &eacute;rtelmes karakterek &eacute;rkeznek-e
	vissza, &eacute;s egy &aacute;tlagos
	konfigur&aacute;ci&oacute;ban, ha ezt szem&eacute;tnek
	tal&aacute;lja (mert p&eacute;ld&aacute;ul a modem nem a
	<command>getty</command> sz&aacute;m&aacute;ra
	be&aacute;ll&iacute;tott sebess&eacute;ggel csatlakozott), akkor
	megpr&oacute;b&aacute;lja eg&eacute;szen addig hangolni a vonal
	sebess&eacute;g&eacute;t, am&iacute;g feldolgoz&aacute;sra
	alkalmas karaktereket nem kap.</para>

      <indexterm><primary><command>/usr/bin/login</command></primary></indexterm>

      <para>Miut&aacute;n a felhaszn&aacute;l&oacute; megadta a
	felhaszn&aacute;l&oacute;i nev&eacute;t, a
	<command>getty</command> elind&iacute;tja a
	<filename>/usr/bin/login</filename> programot, amely befejezi a
	bel&eacute;ptet&eacute;st a felhaszn&aacute;l&oacute;
	jelszav&aacute;nak bek&eacute;r&eacute;s&eacute;vel &eacute;s
	annak elfogad&aacute;sa eset&eacute;n a
	hozz&aacute; tartoz&oacute; parancs&eacute;rtelmez&#245;
	elind&iacute;t&aacute;s&aacute;val.</para>

    </sect2>

    <sect2>
      <title>A konfigur&aacute;ci&oacute;s
	&aacute;llom&aacute;nyok</title>

      <para>&os; rendszer&uuml;nkben a bet&aacute;rcs&aacute;z&oacute;s
	kapcsolatok enged&eacute;lyez&eacute;s&eacute;hez az
	<filename>/etc</filename> k&ouml;nyvt&aacute;rban h&aacute;rom
	&aacute;llom&aacute;ny m&oacute;dos&iacute;t&aacute;s&aacute;ra
	lesz sz&uuml;ks&eacute;g&uuml;nk.  K&ouml;z&uuml;l&uuml;k az
	els&#245;, az <filename>/etc/gettytab</filename> a
	<filename>/usr/libexec/getty</filename> d&eacute;mon
	be&aacute;ll&iacute;t&aacute;sait tartalmazza.  A
	m&aacute;sodik, az <filename>/etc/ttys</filename> az
	<filename>/sbin/init</filename> sz&aacute;m&aacute;ra mondja
	meg, hogy melyik <filename>tty</filename>
	eszk&ouml;z&ouml;kh&ouml;z tartozik <command>getty</command>.
	V&eacute;gezet&uuml;l a portok
	inicializ&aacute;l&aacute;s&aacute;hoz k&ouml;t&#245;d&#245;
	be&aacute;ll&iacute;t&aacute;sokat az
	<filename>/etc/rc.d/serial</filename> szkriptben kell
	megadnunk.</para>

      <para>K&eacute;t <quote>iskola</quote> j&ouml;tt l&eacute;tre
	aszerint, hogy &unix; alatt hogyan haszn&aacute;lj&aacute;k a
	bet&aacute;rcs&aacute;z&oacute;s modemeket.  Az egyik csoport
	&uacute;gy szereti be&aacute;ll&iacute;tani a modemeit &eacute;s
	rendszerit, hogy a t&aacute;voli felhaszn&aacute;l&oacute;
	&aacute;ltal v&aacute;lasztott sebess&eacute;gt&#245;l
	f&uuml;ggetlen&uuml;l a sz&aacute;m&iacute;t&oacute;g&eacute;p
	&eacute;s a modem k&ouml;zti RS-232 fel&uuml;let egy fix
	sebess&eacute;gen fut.  Ennek a
	be&aacute;ll&iacute;t&aacute;snak megvan az az el&#245;nye, hogy
	a t&aacute;voli felhaszn&aacute;l&oacute; ilyenkor szinte
	azonnal megkapja a bejelentkez&#245; k&eacute;perny&#245;t.  A
	h&aacute;tr&aacute;nya viszont, hogy ebben az esetben a rendszer
	nem ismeri a felhaszn&aacute;l&oacute; val&oacute;di
	adat&aacute;tviteli sebess&eacute;g&eacute;t, ez&eacute;rt az
	olyan teljes k&eacute;perny&#245;s alkalmaz&aacute;sok, mint
	p&eacute;ld&aacute;ul az <application>Emacs</application>, nem
	lesznek k&eacute;pesek a lassabb kapcsolatokhoz szabni a
	megjelen&iacute;t&eacute;s&uuml;ket.</para>

      <para>A m&aacute;sik csoport a modemek RS-232-es
	fel&uuml;let&eacute;t a t&aacute;voli felhaszn&aacute;l&oacute;
	kapcsol&oacute;d&aacute;si sebess&eacute;ge szerint
	&aacute;ll&iacute;tja be.  &Iacute;gy p&eacute;ld&aacute;ul egy
	V.32bis (14,4&nbsp;Kbps) kapcsolat eset&eacute;n a modemhez
	tartoz&oacute; RS-232 fel&uuml;let 19,2&nbsp;Kbps-on fog menni,
	mik&ouml;zben a 2400&nbsp;bps sebess&eacute;g&#251;
	kapcsolatokhoz egy vele azonos sebess&eacute;g&#251; RS-232-es
	fel&uuml;let fog tartozni.  Mivel a <command>getty</command> nem
	k&eacute;pes kommunik&aacute;lni a modemek &aacute;ltal
	lejelentett csatlakoz&aacute;si sebess&eacute;gen, ez&eacute;rt
	&uacute;gy pr&oacute;b&aacute;lja azt
	meg&aacute;llap&iacute;tani, hogy elk&uuml;ldi a
	<prompt>login:</prompt> sz&ouml;veget az alap
	sebess&eacute;ggel, majd figyeli a v&aacute;laszul
	&eacute;rkez&#245; karaktereket.  Ha a felhaszn&aacute;l&oacute;
	ilyenkor szemetet l&aacute;t, akkor felt&eacute;telezik, hogy
	addig fogja nyomkodni az <keycap>Enter</keycap> billenty&#251;t,
	am&iacute;g valami &eacute;rtelmes sz&ouml;veget meg nem
	l&aacute;t.  Amikor az adat&aacute;tviteli sebess&eacute;g
	elt&eacute;r, akkor a <command>getty</command> ebb&#245;l
	csup&aacute;n csak annyit vesz &eacute;szre, hogy a
	felhaszn&aacute;l&oacute; <quote>szemetet</quote> k&uuml;ld,
	ez&eacute;rt egy &uacute;jabb sebess&eacute;ggel
	megpr&oacute;b&aacute;lja megint elk&uuml;ldeni a
	<prompt>login:</prompt> sz&ouml;veget.  Hivatalosan ez a
	folyamat ism&eacute;tl&#245;dik orrv&eacute;rz&eacute;sig, de
	&aacute;ltal&aacute;ban csak egy-k&eacute;t billenty&#251;t kell
	le&uuml;tni a megfelel&#245;
	be&aacute;ll&iacute;t&aacute;sokhoz.  Nyilv&aacute;nval&oacute;,
	hogy ilyenkor a bejelentkez&eacute;s messze nem olyan
	zavartalan, mint a <quote>r&ouml;gz&iacute;tett
	sebess&eacute;g&#251;</quote> esetben, de &iacute;gy a lassabb
	kapcsolattal rendelkez&#245; felhaszn&aacute;l&oacute;k is jobb
	haszn&aacute;lat&oacute;s&aacute;got kapnak a teljes
	k&eacute;perny&#245;s programokkal.</para>

      <para>Ebben a szakaszban egy valamennyire kiegyens&uacute;lyozott
	be&aacute;ll&iacute;t&aacute;st igyeksz&uuml;nk bemutatni, de
	r&eacute;szben elfogunk hajlani abban az ir&aacute;nyba, amikor
	a modem a kapcsolat sebess&eacute;g&eacute;t k&ouml;veti.</para>

      <sect3>
	<title><filename>/etc/gettytab</filename></title>

	<indexterm><primary><filename>/etc/gettytab</filename></primary></indexterm>

	<para>A <filename>/etc/gettytab</filename> egy
	  &man.termcap.5;-szer&#251; &aacute;llom&aacute;ny, amely a
	  &man.getty.8; be&aacute;ll&iacute;t&aacute;sait tartalmazza.
	  A &man.gettytab.5; man oldalon olvashatunk az
	  &aacute;llom&aacute;ny pontos
	  fel&eacute;p&iacute;t&eacute;s&eacute;r&#245;l &eacute;s benne
	  felsorolt be&aacute;ll&iacute;t&aacute;sokr&oacute;l.</para>

	<sect4>
	  <title>A r&ouml;gz&iacute;tett sebess&eacute;g&#251;
	    be&aacute;ll&iacute;t&aacute;s</title>

	  <para>Ha a modem kommunik&aacute;ci&oacute;s
	    sebess&eacute;g&eacute;t r&ouml;gz&iacute;teni akarjuk,
	    akkor ehhez t&ouml;bbnyire semmit sem kell
	    megv&aacute;ltoztatnunk az
	    <filename>/etc/gettytab</filename>
	    &aacute;llom&aacute;nyban.</para>

	</sect4>

	<sect4>
	  <title>Az alkalmazkod&oacute; sebess&eacute;g&#251;
	    be&aacute;ll&iacute;t&aacute;s</title>

	  <para>Az <filename>/etc/gettytab</filename>
	    &aacute;llom&aacute;nyban l&eacute;tre kell hoznunk egy
	    olyan bejegyz&eacute;st, amelyen kereszt&uuml;l a
	    <command>getty</command> tudni fogja, hogy milyen
	    sebess&eacute;geken akarjuk haszn&aacute;lni a modemet.  Ha
	    egy 2400&nbsp;bps sebess&eacute;g&#251; modem&uuml;nk van,
	    akkor hozz&aacute; a m&aacute;r meglev&#245;
	    <literal>D2400</literal>-as bejegyz&eacute;st kell
	    haszn&aacute;lnunk.</para>

	  <programlisting>#
# A gyors bet&aacute;rcs&aacute;z&oacute;s termin&aacute;lokhoz &iacute;me egy 2400/1200/300-as v&aacute;lt&aacute;s
# (b&aacute;rhonnan kezd&#245;dhet):
#
D2400|d2400|Fast-Dial-2400:\
        :nx=D1200:tc=2400-baud:
3|D1200|Fast-Dial-1200:\
        :nx=D300:tc=1200-baud:
5|D300|Fast-Dial-300:\
        :nx=D2400:tc=300-baud:</programlisting>

	  <para>Ha enn&eacute;l gyorsabb modem&uuml;nk van, akkor
	    m&aacute;r mindenk&eacute;ppen fel kell venn&uuml;nk
	    hozz&aacute; egy &uacute;j bejegyz&eacute;st az
	    <filename>/etc/gettytab</filename> &aacute;llom&aacute;nyba.
	    Ezzel a be&aacute;ll&iacute;t&aacute;ssal egy 14,4&nbsp;Kbps
	    sebess&eacute;g&#251; modemet tudunk legfeljebb
	    19,2&nbsp;Kbps-en haszn&aacute;lni:</para>

	  <programlisting>#
# Kieg&eacute;sz&iacute;t&eacute;sek egy V.32bis modemhez:
#
um|V300|High Speed Modem at 300,8-bit:\
        :nx=V19200:tc=std.300:
un|V1200|High Speed Modem at 1200,8-bit:\
        :nx=V300:tc=std.1200:
uo|V2400|High Speed Modem at 2400,8-bit:\
        :nx=V1200:tc=std.2400:
up|V9600|High Speed Modem at 9600,8-bit:\
        :nx=V2400:tc=std.9600:
uq|V19200|High Speed Modem at 19200,8-bit:\
        :nx=V9600:tc=std.19200:</programlisting>

	  <para>Ennek eredm&eacute;nye egy 8&nbsp;bites,
	    parit&aacute;smentes kapcsolat lesz.</para>

	  <para>A fenti p&eacute;ld&aacute;ban a
	    kommunik&aacute;ci&oacute;t 19,2&nbsp;Kbps-en (V.32bis
	    kapcsolaton) kezdj&uuml;k, majd ut&aacute;na haladunk
	    v&eacute;gig a 9600&nbsp;bps (V.32), 2400&nbsp;,
	    1200&nbsp;bps &eacute;s 300&nbsp;bps sebess&eacute;g&#251;
	    kapcsolatokon, majd vissza ism&eacute;t a 19,2&nbsp;Kbps-re.
	    Az adat&aacute;tviteli sebess&eacute;g ilyen
	    t&iacute;pus&uacute; v&aacute;ltogat&aacute;s&aacute;t az
	    <literal>nx=</literal> (<quote>next table</quote>, azaz
	    <quote>k&ouml;vetkez&#245; t&aacute;bl&aacute;zat</quote>)
	    tulajdons&aacute;g seg&iacute;ts&eacute;g&eacute;vel
	    val&oacute;s&iacute;tj&aacute;k meg.  Minden sorban
	    l&aacute;that&oacute; m&eacute;g egy <literal>tc=</literal>
	    (<quote>table continuation</quote>, vagyis <quote>a
	    t&aacute;bl&aacute;zat folytat&aacute;sa</quote>)
	    bejegyz&eacute;s is, amivel az adott adat&aacute;tviteli
	    sebess&eacute;g <quote>szabv&aacute;nyos</quote>
	    be&aacute;ll&iacute;t&aacute;sait adjuk meg.</para>

	  <para>Ha egy 28,8&nbsp;Kbps sebess&eacute;g&#251;
	    modem&uuml;nk van &eacute;s/vagy egy 14,4&nbsp;Kbps
	    sebess&eacute;g&#251; modemen akarunk
	    t&ouml;m&ouml;r&iacute;t&eacute;st haszn&aacute;lni, akkor a
	    19,2&nbsp;Kbps-n&eacute;l nagyobb
	    kommunik&aacute;ci&oacute;s sebess&eacute;get kell
	    haszn&aacute;lnunk.  &Iacute;me egy olyan
	    <filename>gettytab</filename>.  ami 57,6&nbsp;Kbps-r&#245;l
	    ind&iacute;t:</para>

	  <programlisting>#
# A V.32bis vagy V.34 modemekhez kieg&eacute;sz&iacute;t&eacute;s,
# 57,6 Kbps-r&#245;l indulunk:
#
vm|VH300|Very High Speed Modem at 300,8-bit:\
        :nx=VH57600:tc=std.300:
vn|VH1200|Very High Speed Modem at 1200,8-bit:\
        :nx=VH300:tc=std.1200:
vo|VH2400|Very High Speed Modem at 2400,8-bit:\
        :nx=VH1200:tc=std.2400:
vp|VH9600|Very High Speed Modem at 9600,8-bit:\
        :nx=VH2400:tc=std.9600:
vq|VH57600|Very High Speed Modem at 57600,8-bit:\
        :nx=VH9600:tc=std.57600:</programlisting>

	  <para>Ha lass&uacute; a processzorunk, vagy a rendszer&uuml;nk
	    t&uacute;ls&aacute;gosan terhelt &eacute;s nincs 16550A
	    t&iacute;pus&uacute; soros portunk, akkor 57,6&nbsp;Kbps-en
	    <errorname>sio</errorname> <quote>silo</quote> hib&aacute;k
	    keletkezhetnek.</para>

	</sect4>
      </sect3>

      <sect3 id="dialup-ttys">
	<title><filename>/etc/ttys</filename></title>

	<indexterm><primary><filename>/etc/ttys</filename></primary></indexterm>

	<para>Az <filename>/etc/ttys</filename> &aacute;llom&aacute;ny
	  be&aacute;ll&iacute;t&aacute;s&aacute;r&oacute;l m&aacute;r a
	  <xref linkend="ex-etc-ttys"> adott k&eacute;pet.  Ez a modemek
	  eset&eacute;ben sem t&eacute;r el k&uuml;l&ouml;n&ouml;sebben,
	  hab&aacute;r a <command>getty</command> programnak m&aacute;s
	  termin&aacute;lt&iacute;pust &eacute;s
	  -be&aacute;ll&iacute;t&aacute;sokat kell &aacute;tadnunk.
	  Ak&aacute;r r&ouml;gz&iacute;tett, ak&aacute;r
	  alkalmazkod&oacute; sebess&eacute;get akarunk
	  be&aacute;ll&iacute;tani, ennek &aacute;ltal&aacute;nos alakja
	  az al&aacute;bbi:</para>

	<programlisting>ttyd0   "/usr/libexec/getty <replaceable>xxx</replaceable>"   dialup on</programlisting>

	<para>A sorban l&aacute;that&oacute; els&#245; elem a
	  megfelel&#245; speci&aacute;lis eszk&ouml;z neve &mdash; jelen
	  esetben ez a <devicename>ttyd0</devicename>, amely a
	  <filename>/dev/ttyd0</filename> eszk&ouml;zre vonatkozik
	  &eacute;s ezt fogja a <command>getty</command> figyelni.  A
	  m&aacute;sodik elem, vagyis a <literal>"/usr/libexec/getty
	  <replaceable>xxx</replaceable>"</literal> (ahol a
	  <replaceable>xxx</replaceable> hely&eacute;re kell
	  be&iacute;rni a megfelel&#245; <filename>gettytab</filename>
	  &aacute;llom&aacute;nybeli bejegyz&eacute;st nev&eacute;t)
	  lesz az a parancs, amelyet az <command>init</command>
	  megh&iacute;v.  A harmadik elem, a <literal>dialup</literal> a
	  termin&aacute;lok alap&eacute;rtelmezett t&iacute;pusa.  A
	  negyedik param&eacute;ter, az <literal>on</literal> jelzi az
	  <command>init</command> programnak, hogy aktiv&aacute;lja a
	  vonalat.  A sorban megjelenhetne tov&aacute;bb&aacute;
	  m&eacute;g egy &ouml;t&ouml;dik param&eacute;ter is, a
	  <literal>secure</literal>, de ezt csak olyan termin&aacute;lok
	  eset&eacute;ben &eacute;rdemes megadni, amelyek fizikailag
	  megb&iacute;zhat&oacute;ak (p&eacute;ld&aacute;ul a
	  rendszerkonzol).</para>

	<para>Az alap&eacute;rtelmezett termin&aacute;lt&iacute;pus
	  (vagyis a fenti p&eacute;ld&aacute;ban a
	  <literal>dialup</literal>) a helyi
	  be&aacute;ll&iacute;t&aacute;sokt&oacute;l f&uuml;gg.  A
	  bet&aacute;rcs&aacute;z&oacute;s vonalak eset&eacute;ben
	  hagyom&aacute;nyosan a <literal>dialup</literal> a
	  termin&aacute;l alap&eacute;rtelmezett t&iacute;pusa, amit
	  azt&aacute;n a felhaszn&aacute;l&oacute;k a
	  bejelentkez&eacute;skor lefut&oacute; szkriptjeiken
	  kereszt&uuml;l a automatikusan &aacute;t tudnak
	  &aacute;ll&iacute;tani a nekik megfelel&#245;
	  termin&aacute;lra.  A szerz&#245; saj&aacute;t
	  rendszer&eacute;ben azonban ink&aacute;bb a
	  <literal>vt102</literal> termin&aacute;lt&iacute;pust volt
	  &eacute;rdemes megadni alap&eacute;rtelmezettk&eacute;nt,
	  mivel ott a felhaszn&aacute;l&oacute;k csak ilyen
	  t&iacute;pus&uacute; termin&aacute;lokat
	  haszn&aacute;lnak.</para>

	<para>Miut&aacute;n az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyban elv&eacute;gezt&uuml;k a
	  sz&uuml;ks&eacute;ges m&oacute;dos&iacute;t&aacute;sokat, egy
	  <acronym>HUP</acronym> jelz&eacute;ssel figyelmeztess&uuml;k
	  az <command>init</command> programot az &uacute;jb&oacute;li
	  beolvas&aacute;s&aacute;ra.  Ehhez a k&ouml;vetkez&#245;
	  parancs aj&aacute;nlott:</para>

	<screen>&prompt.root; <userinput>kill -HUP 1</userinput></screen>

	<para>Ha m&eacute;g csak &aacute;ll&iacute;tjuk be
	  el&#245;sz&ouml;r a rendszer&uuml;nket, akkor az
	  <command>init</command> figyelmeztet&eacute;se el&#245;tt
	  legy&uuml;nk t&uuml;relmesek, &eacute;s v&aacute;rjuk meg,
	  am&iacute;g a modemek befejezik az
	  inicializ&aacute;l&aacute;st &eacute;s kapcsol&oacute;dnak a
	  vonalakra.</para>

	<sect4>
	  <title>A r&ouml;gz&iacute;tett sebess&eacute;g&#251;
	    be&aacute;ll&iacute;t&aacute;s</title>

	  <para>A r&ouml;gz&iacute;tett sebess&eacute;g
	    be&aacute;ll&iacute;t&aacute;s&aacute;n&aacute;l a
	    <filename>ttys</filename> &aacute;llom&aacute;nyban a
	    <command>getty</command> param&eacute;terek&eacute;nt egy
	    szint&eacute;n r&ouml;gz&iacute;tett sebess&eacute;g&#251;
	    bejegyz&eacute;st kell megadnunk.  P&eacute;ld&aacute;ul az
	    olyan modemekn&eacute;l, ahol a sebess&eacute;get
	    19,2&nbsp;Kbps-re r&ouml;gz&iacute;tj&uuml;k, a
	    <filename>ttys</filename> &iacute;gy fog
	    kin&eacute;zni:</para>

	  <programlisting>ttyd0   "/usr/libexec/getty std.19200"   dialup on</programlisting>

	  <para>Amennyiben a modem&uuml;nk nem ezen a sebess&eacute;gen
	    &uuml;zemelne, akkor az
	    <literal>std.<replaceable>sebess&eacute;g</replaceable></literal>
	    param&eacute;tert haszn&aacute;ljuk az
	    <literal>std.19200</literal> helyett.  El&#245;tte azonban
	    ne felejts&uuml;k el ellen&#245;rizni, hogy a megadott
	    t&iacute;pus szerepel-e az
	    <filename>/etc/gettytab</filename>
	    &aacute;llom&aacute;nyban.</para>

	</sect4>

	<sect4>
	  <title>Az alkalmazkod&oacute; sebess&eacute;g&#251;
	    be&aacute;ll&iacute;t&aacute;s</title>

	  <para>Az alkalmazkod&oacute; sebess&eacute;g&#251;
	    be&aacute;ll&iacute;t&aacute;sn&aacute;l a
	    <filename>ttys</filename> &aacute;llom&aacute;nyban az
	    <filename>/etc/gettytab</filename>
	    &aacute;llom&aacute;nyb&oacute;l a megfelel&#245;
	    <quote>auto-baud</quote> (sic) kell megadnunk.
	    P&eacute;ld&aacute;ul, ha modem&uuml;nk
	    kezd&#245;sebess&eacute;ge 19,2&nbsp;Kbps (&eacute;s a
	    <filename>gettytab</filename> ehhez tartalmaz egy
	    <literal>V19200</literal> nev&#251; bejegyz&eacute;st),
	    akkor a <filename>ttys</filename> &iacute;gy fog
	    kin&eacute;zni:</para>

	  <programlisting>ttyd0   "/usr/libexec/getty V19200"   dialup on</programlisting>

	</sect4>
      </sect3>

      <sect3>
	<title><filename>/etc/rc.d/serial</filename></title>

	<indexterm>
	  <primary>rc &aacute;llom&aacute;nyok</primary>
	  <secondary><filename>rc.serial</filename></secondary>
	</indexterm>

	<para>A gyorsabb, mint p&eacute;ld&aacute;ul a V.32, V.32bis
	  &eacute;s V.34 modemekn&eacute;l meg kell adnunk a hardveres
	  forgalomir&aacute;ny&iacute;t&aacute;s
	  (<literal>RTS/CTS</literal>) haszn&aacute;lat&aacute;t is.  Az
	  <filename>/etc/rc.d/serial</filename>
	  &aacute;llom&aacute;nyban tudjuk megadni a &os; rendszermagban
	  a vonal haszn&aacute;lat&aacute;hoz sz&uuml;ks&eacute;ges
	  vez&eacute;rl&eacute;si be&aacute;ll&iacute;t&aacute;sokra
	  vonatkoz&oacute; <command>stty</command> parancsokat.</para>

	<para>P&eacute;ld&aacute;ul &aacute;ll&iacute;tsuk be az 1-es
	  sorsz&aacute;m&uacute; (vagyis a
	  <devicename>COM2</devicename>) soros porton a
	  <varname>crtscts</varname> <literal>termios</literal>
	  be&aacute;ll&iacute;t&aacute;st a beh&iacute;v&aacute;shoz
	  &eacute;s a h&iacute;v&aacute;shoz haszn&aacute;lt
	  eszk&ouml;z&ouml;k inicializ&aacute;l&aacute;sakor.  Ehhez a
	  k&ouml;vetkez&#245; sorokat kell felvenn&uuml;nk az
	  <filename>/etc/rc.d/serial</filename>
	  &aacute;llom&aacute;nyba:</para>

	<programlisting># A soros portok kezdeti be&aacute;ll&iacute;t&aacute;sai:
stty -f /dev/ttyd1.init crtscts
stty -f /dev/cuad1.init crtscts</programlisting>

      </sect3>
    </sect2>

    <sect2>
      <title>A modemek be&aacute;ll&iacute;t&aacute;sai</title>

      <para>Ha olyan modemeink vannak, amelyek param&eacute;tereit egy
	statikus mem&oacute;ri&aacute;ban t&aacute;rolt&aacute;k le,
	akkor ezek be&aacute;ll&iacute;t&aacute;s&aacute;hoz egy
	termin&aacute;lprogramot kell haszn&aacute;lnunk (amilyen
	p&eacute;ld&aacute;ul &ms-dos; alatt a
	<application>Telix</application> vagy &os; alatt a
	<command>tip</command>).  A modemet a <command>getty</command>
	programnak megadott kezdeti sebess&eacute;gen csatlakoztassuk
	&eacute;s az al&aacute;bbi elv&aacute;r&aacute;sok
	alapj&aacute;n &aacute;ll&iacute;tsuk be a
	param&eacute;tereit:</para>

      <itemizedlist>
	<listitem>
	  <para>Kapcsol&oacute;d&aacute;skor <acronym>CD</acronym>
	    jelz&eacute;se.</para>
	</listitem>

	<listitem>
	  <para>M&#251;k&ouml;d&eacute;skor <acronym>DTR</acronym>
	    jelz&eacute;se.  A DTR k&uuml;ld&eacute;sekor bontsa a
	    vonalat &eacute;s hozza alap&aacute;llapotba a
	    modemet.</para>
	</listitem>

	<listitem>
	  <para><acronym>CTS</acronym> vez&eacute;rl&eacute;s&#251;
	    kimen&#245; adatforgalom.</para>
	</listitem>

	<listitem>
	  <para>A <acronym>XON/XOFF</acronym>
	    forgalomvez&eacute;rl&eacute;s tilt&aacute;sa.</para>
	</listitem>

	<listitem>
	  <para><acronym>RTS</acronym> vez&eacute;rl&eacute;s&#251;
	    bej&ouml;v&#245; adatforgalom.</para>
	</listitem>

	<listitem>
	  <para>Csendes m&oacute;d (ne adjon
	    &eacute;rtes&iacute;t&eacute;st az
	    eredm&eacute;nyekr&#245;l).</para>
	</listitem>

	<listitem>
	  <para>A parancsokat ne &iacute;rja vissza.</para>
	</listitem>
      </itemizedlist>

      <para>A modemhez tartoz&oacute; dokument&aacute;ci&oacute;ban kell
	ut&aacute;naj&aacute;rnunk, hogy milyen parancsok &eacute;s/vagy
	DIP kapcsol&oacute;k
	&aacute;t&aacute;ll&iacute;t&aacute;s&aacute;val lehet
	mindezeket el&eacute;rni.</para>

      <para>P&eacute;ld&aacute;ul, ha a fenti param&eacute;tereket egy
	&usrobotics; &sportster; 14400-as k&uuml;ls&#245; modem
	eset&eacute;ben a k&ouml;vetkez&#245; neki kik&uuml;ld&ouml;tt
	paranccsal lehet be&aacute;ll&iacute;tani:</para>

      <programlisting>ATZ
AT&amp;C1&amp;D2&amp;H1&amp;I0&amp;R2&amp;W</programlisting>

      <para>Ilyenkor m&eacute;g ak&aacute;r m&aacute;s egy&eacute;b
	param&eacute;tereket is be&aacute;ll&iacute;thatunk,
	p&eacute;ld&aacute;ul a V.42bis &eacute;s/vagy az MNP5
	t&ouml;m&ouml;r&iacute;t&eacute;st.</para>

      <para>Az &usrobotics; &sportster; 14400 k&uuml;ls&#245; modemen
	ezenk&iacute;v&uuml;l m&eacute;g tal&aacute;lunk
	n&eacute;h&aacute;ny DIP kapcsol&oacute;t is.  Az ilyen modemek
	eset&eacute;ben p&eacute;ld&aacute;ul ezeket a
	be&aacute;ll&iacute;t&aacute;sokat tudjuk
	haszn&aacute;lni:</para>

      <itemizedlist>
	<listitem>
	  <para>1.  kapcsol&oacute;: FEL &mdash; norm&aacute;lis
	    DTR</para>
	</listitem>

	<listitem>
	  <para>2.  kapcsol&oacute;: N/A (verb&aacute;lis/numerikus
	    eredm&eacute;nyjelz&#245; k&oacute;dok)</para>
	</listitem>

	<listitem>
	  <para>3.  kapcsol&oacute;: FEL &mdash; az
	    eredm&eacute;nyjelz&#245; k&oacute;dok
	    k&uuml;ld&eacute;s&eacute;nek tilt&aacute;sa</para>
	</listitem>

	<listitem>
	  <para>4.  kapcsol&oacute;: LE &mdash; nem k&uuml;ldi vissza a
	    parancsokat</para>
	</listitem>

	<listitem>
	  <para>5.  kapcsol&oacute;: FEL &mdash; automatikus
	    v&aacute;lasz</para>
	</listitem>

	<listitem>
	  <para>6.  kapcsol&oacute;: FEL &mdash; norm&aacute;lis Carrier
	    Detect</para>
	</listitem>

	<listitem>
	  <para>7.  kapcsol&oacute;: FEL &mdash; a
	    mem&oacute;ri&aacute;ban t&aacute;rolt
	    alap&eacute;rtelmez&eacute;sek bet&ouml;lt&eacute;se</para>
	</listitem>

	<listitem>
	  <para>8.  kapcsol&oacute;: N/A (intelligens/buta
	    m&oacute;d)</para>
	</listitem>
      </itemizedlist>

      <para>A modemekn&eacute;l az eredm&eacute;nyjelz&#245;
	k&oacute;dok kikapcsol&aacute;sa/letilt&aacute;sa ez&eacute;rt
	fontos, mert &iacute;gy el tudunk ker&uuml;lni az olyan
	probl&eacute;m&aacute;kat, hogy a <command>getty</command>
	t&eacute;vesen egy <prompt>login:</prompt> promptot k&uuml;ld a
	parancs m&oacute;dban lev&#245; modemnek, amikor az
	visszak&uuml;ldi a parancsot &eacute;s az eredm&eacute;ny
	k&oacute;dj&aacute;t.  Ennek eredm&eacute;nye egy
	hossz&uacute;ra ny&uacute;l&oacute;, zavaros
	t&aacute;rsalg&aacute;s lesz a <command>getty</command>
	&eacute;s a modem k&ouml;z&ouml;tt.</para>

      <sect3>
	<title>A r&ouml;gz&iacute;tett sebess&eacute;g&#251;
	  be&aacute;ll&iacute;t&aacute;s</title>

	<para>A r&ouml;gz&iacute;tett sebess&eacute;g&#251;
	  konfigur&aacute;ci&oacute; haszn&aacute;lata eset&eacute;n
	  &uacute;gy kell be&aacute;ll&iacute;tanunk a modemet, hogy a
	  konkr&eacute;t adat&aacute;tviteli sebss&eacute;gt&#245;l
	  f&uuml;ggetlen&uuml;l is egy &aacute;lland&oacute;
	  sebess&eacute;g&#251; kapcsolat &aacute;lljon fenn a
	  sz&aacute;m&iacute;t&oacute;g&eacute;p &eacute;s a modem
	  k&ouml;z&ouml;tt.  A &usrobotics; &sportster; 14400-as
	  k&uuml;ls&#245; modem eset&eacute;ben a most
	  k&ouml;vetkez&#245; parancsokkal tudjuk r&ouml;gz&iacute;teni
	  a kapcsolat sebess&eacute;g&eacute;t:</para>

	<programlisting>ATZ
AT&amp;B1&amp;W</programlisting>

      </sect3>

      <sect3>
	<title>Az alkalmazkod&oacute; sebess&eacute;g&#251;
	  be&aacute;ll&iacute;t&aacute;s</title>

	<para>Amikor v&aacute;ltoz&oacute; sebess&eacute;g&#251;
	  konfigur&aacute;ci&oacute;val dolgozunk, akkor a modemet
	  &uacute;gy kell be&aacute;ll&iacute;tani, hogy a
	  bej&ouml;v&#245; h&iacute;v&aacute;snak megfelel&#245;
	  adat&aacute;tviteli sebess&eacute;gre v&aacute;ltson a soros
	  portj&aacute;n.  A &usrobotics; &sportster; 14400-as
	  k&uuml;ls&#245; modem eset&eacute;ben az al&aacute;bbi
	  parancsokkal r&ouml;gz&iacute;tj&uuml;k a modemnek
	  k&uuml;ld&ouml;tt hibamentes&iacute;tett parancsok
	  sebess&eacute;g&eacute;t, mik&ouml;zben
	  enged&eacute;lyezz&uuml;k, hogy a soros port sebess&eacute;ge
	  v&aacute;ltozhasson a nem hibamentes&iacute;tett
	  kapcsolatokn&aacute;l:</para>

	<programlisting>ATZ
AT&amp;B2&amp;W</programlisting>

      </sect3>

      <sect3>
	<title>A modem be&aacute;ll&iacute;t&aacute;sainak
	  ellen&#245;rz&eacute;se</title>

	<para>A legt&ouml;bb nagysebess&eacute;g&#251; modem
	  biztos&iacute;t valamilyen lehet&#245;s&eacute;get arra, hogy
	  emberi form&aacute;ban is le tudjuk k&eacute;rdezni a
	  bels&#245; m&#251;k&ouml;d&eacute;s&eacute;nek
	  param&eacute;tereit.  A &usrobotics; &sportster; 14400-as
	  k&uuml;ls&#245; modem eset&eacute;ben az
	  <command>ATI5</command> parancs a statikus
	  mem&oacute;ri&aacute;ban t&aacute;rolt
	  be&aacute;ll&iacute;t&aacute;sokat mutatja meg.  A modem
	  val&oacute;s m&#251;k&ouml;d&eacute;si param&eacute;tereit
	  (amit ugyeb&aacute;r befoly&aacute;solnak a DIP
	  kapcsol&oacute;k &aacute;ll&aacute;sai is) viszont az
	  <command>ATZ</command> majd <command>ATI4</command> parancsok
	  k&uuml;ld&eacute;s&eacute;vel tudjuk lek&eacute;rni.</para>

	<para>Ha azonban m&aacute;smilyen m&aacute;rk&aacute;j&uacute;
	  modem&uuml;nk lenne, akkor a modem
	  le&iacute;r&aacute;s&aacute;ban pr&oacute;b&aacute;ljunk
	  t&aacute;j&eacute;koz&oacute;dni arr&oacute;l, mik&eacute;nt
	  tudjuk a modem be&aacute;ll&iacute;t&aacute;sait
	  ellen&#245;rizni.</para>

      </sect3>
    </sect2>

    <sect2>
      <title>Hibaelh&aacute;r&iacute;t&aacute;s</title>

      <para>Ebben a szakaszban bemutatunk n&eacute;h&aacute;ny
	l&eacute;p&eacute;st, amelyeken kereszt&uuml;l
	ellen&#245;rizhetj&uuml;k a rendszer&uuml;nkh&ouml;z
	csatlakoztatott modemet.</para>

      <sect3>
	<title>A &os; rendszer ellen&#245;rz&eacute;se</title>

	<para>Csatlakoztassuk a modemet a &os; rendszerre,
	  ind&iacute;tsuk be a g&eacute;pet, majd ezut&aacute;n
	  figyelj&uuml;k a modem&uuml;nk &aacute;llapot&aacute;t
	  jelz&#245; l&aacute;mp&aacute;kat, hogy k&ouml;z&uuml;l&uuml;k
	  a <acronym>DTR</acronym> vil&aacute;g&iacute;t-e, amikor a
	  <prompt>login:</prompt> felirat megjelenik a rendszerkonzolon.
	  Amennyiben erre a v&aacute;lasz igen, akkor az arra utal, hogy
	  a &os; a hozz&aacute; tartoz&oacute;
	  kommunik&aacute;ci&oacute;s porton elind&iacute;totta a
	  megfelel&#245; <command>getty</command> programot &eacute;s a
	  modem v&aacute;rja a h&iacute;v&aacute;sokat.</para>

	<para>Amikor viszont a <acronym>DTR</acronym> l&aacute;mpa nem
	  vil&aacute;g&iacute;t, a konzolon kereszt&uuml;l
	  jelentkezz&uuml;nk be a &os; rendszerbe &eacute;s adjuk ki egy
	  <command>ps ax</command> parancsot, amivel &iacute;gy
	  ellen&#245;rizni tudjuk, hogy a porthoz tartoz&oacute;
	  <command>getty</command> elindult.  A fut&oacute; programok
	  k&ouml;z&ouml;tt teh&aacute;t valami ilyesmit kell majd
	  l&aacute;tnunk:</para>

	<screen>  114 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd0
  115 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd1</screen>

	<para>Ha viszont p&eacute;ld&aacute;ul ezt l&aacute;tjuk:</para>

	<screen>  114 d0  I      0:00.10 /usr/libexec/getty V19200 ttyd0</screen>

	<para>&eacute;s modem m&eacute;g nem fogadott
	  h&iacute;v&aacute;st, akkor ez azt jelenit, hogy a
	  <command>getty</command> megnyitotta a
	  kommunik&aacute;ci&oacute;s csatorn&aacute;t.  Ez utalhat
	  egyar&aacute;nt egy hib&aacute;s k&aacute;belre vagy a modem
	  helytelen be&aacute;ll&iacute;t&aacute;s&aacute;ra, mivel a
	  <command>getty</command> eg&eacute;szen addig nem lesz
	  k&eacute;pes megnyitni az adott portot, am&iacute;g a modem
	  vissza nem k&uuml;ld neki egy <acronym>CD</acronym> (Carrier
	  Detect) jelet.</para>

	<para>Ha a list&aacute;ban az adott
	  <filename>ttyd<replaceable>N</replaceable></filename>
	  eszk&ouml;zh&ouml;z semmilyen <command>getty</command>
	  programot nem tal&aacute;lunk, akkor &uacute;jra
	  n&eacute;zz&uuml;k &aacute;t az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyban szerepl&#245; bejegyz&eacute;seket,
	  mert el&#245;fordulhat, hogy azokban v&eacute;tett&uuml;nk
	  valamilyen hib&aacute;t.  Emellett m&eacute;g a
	  <filename>/var/log/messages</filename> napl&oacute;ban is
	  &eacute;rdemes ut&aacute;nan&eacute;zni, h&aacute;tha az
	  <command>init</command> vagy a <command>getty</command>
	  k&uuml;ld&ouml;tt valamilyen hib&aacute;r&oacute;l
	  &eacute;rtes&iacute;t&eacute;st.  Ha m&eacute;g ezek
	  ut&aacute;n sem tal&aacute;lunk semmit, akkor megint
	  kezdj&uuml;k el keresni hib&aacute;kat, hi&aacute;nyz&oacute;
	  bejegyz&eacute;seket vagy eszk&ouml;z&ouml;ket az
	  <filename>/etc/ttys</filename>,
	  <filename>/etc/gettytab</filename> &eacute;s a megfelel&#245;
	  <filename>/dev/ttydN</filename>
	  &aacute;llom&aacute;nyokban.</para>

      </sect3>

      <sect3>
	<title>A bet&aacute;rcs&aacute;z&aacute;s
	  kipr&oacute;b&aacute;l&aacute;sa</title>

	<para>Pr&oacute;b&aacute;ljunk meg bejutni a rendszer&uuml;nkbe.
	  Ehhez a t&aacute;voli rendszeren ne felejts&uuml;k el
	  be&aacute;ll&iacute;tani a 8&nbsp;bites adat&aacute;tvitelt
	  &eacute;s az 1 stopbitet, illetve a parit&aacute;st
	  kikapcsolni.  Ha erre k&ouml;zvetlen&uuml;l nem kapunk egy
	  bejelentkez&eacute;si k&eacute;perny&#245;t vagy csak
	  szem&eacute;t jelenik meg, akkor kb.
	  m&aacute;sodpercenk&eacute;nt egyszer nyomjuk le az
	  <keycap>Enter</keycap> billenty&#251;t.  Ha m&eacute;g
	  ezut&aacute;n sem l&aacute;tjuk a bejelentkez&eacute;si
	  k&eacute;perny&#245;t felbukkani, akkor
	  pr&oacute;b&aacute;ljunk kik&uuml;ldeni egy
	  <command>BREAK</command> parancsot.  Ha a
	  h&iacute;v&aacute;shoz nagysebess&eacute;g&#251; modemet
	  haszn&aacute;lunk, akkor pr&oacute;b&aacute;ljuk meg a modem
	  sebess&eacute;g&eacute;t r&ouml;gz&iacute;teni &eacute;s
	  &uacute;gy t&aacute;rcs&aacute;zni (ezt p&eacute;ld&aacute;ul
	  a &usrobotics; &sportster; modemn&eacute;l az
	  <command>AT&amp;B1</command> paranccsal tudjuk
	  el&eacute;rni):</para>

	<para>Ha viszont m&eacute;g ezek ut&aacute;n sem kapjuk meg a
	  bejelentkez&#245; k&eacute;perny&#245;t, akkor a
	  <filename>/etc/gettytab</filename> &aacute;llom&aacute;nyban
	  megint n&eacute;zz&uuml;k &aacute;t az &ouml;sszes
	  be&aacute;ll&iacute;t&aacute;st:</para>

	<itemizedlist>
	  <listitem>
	    <para>Az <filename>/etc/ttys</filename>
	      &aacute;llom&aacute;nyban megadott alaptulajdons&aacute;g
	      neve egyezik az <filename>/etc/gettytab</filename>
	      &aacute;llom&aacute;nyban
	      tal&aacute;lhat&oacute;val.</para>
	  </listitem>

	  <listitem>
	    <para>Mindegyik <literal>nx=</literal> bejegyz&eacute;s
	      ut&aacute;n egy m&aacute;sik <filename>gettytab</filename>
	      tulajdons&aacute;g neve j&ouml;n.</para>
	  </listitem>

	  <listitem>
	    <para>Mindegyik <literal>tc=</literal> bejegyz&eacute;s
	      ut&aacute;n egy m&aacute;sik <filename>gettytab</filename>
	      tulajdons&aacute;g neve k&ouml;vetkezik.</para>
	  </listitem>
	</itemizedlist>

	<para>Ha h&iacute;vunk, de a &os; rendszer&uuml;nkre kapcsolt
	  modem tov&aacute;bbra sem veszi fel, akkor a modem
	  be&aacute;ll&iacute;t&aacute;sai k&ouml;z&ouml;tt
	  ellen&#245;rizz&uuml;k, hogy a <acronym>DTR</acronym> jel
	  k&uuml;ld&eacute;sekor a modem fogadja-e a
	  h&iacute;v&aacute;st.  Ha &uacute;gy t&#251;nik, hogy a modem
	  minden ezzel kapcsolatos be&aacute;ll&iacute;t&aacute;sa
	  stimmel, akkor n&eacute;zz&uuml;k meg, hogy a modem
	  l&aacute;mp&aacute;i k&ouml;z&uuml;l a DTR
	  vil&aacute;g&iacute;t-e (m&aacute;r ha van ilyen).</para>

	<para>Ha mindent t&ouml;bbsz&ouml;r is
	  v&eacute;gign&eacute;zt&uuml;nk &eacute;s m&eacute;g mindig
	  nem lelj&uuml;k a megold&aacute;st, akkor tartsunk egy kis
	  sz&uuml;netet &eacute;s t&eacute;rj&uuml;nk vissza a
	  probl&eacute;m&aacute;hoz k&eacute;s&#245;bb.  Ha m&eacute;g
	  ezut&aacute;n sem tudjuk m&#251;k&ouml;d&eacute;sre
	  b&iacute;rni, akkor k&uuml;ldj&uuml;nk egy levelet a
	  &a.questions; c&iacute;m&eacute;re, amelyben le&iacute;rjuk a
	  modem&uuml;nket &eacute;s a vele kapcsolatos
	  probl&eacute;m&aacute;t, &eacute;s a lista tagjai majd
	  megpr&oacute;b&aacute;lnak nek&uuml;nk seg&iacute;teni.</para>

      </sect3>
    </sect2>

  </sect1>

  <sect1 id="dialout">
    <title>A bet&aacute;rcs&aacute;z&oacute;s
      szolg&aacute;ltat&aacute;sok haszn&aacute;lata</title>

    <indexterm><primary>bet&aacute;rcs&aacute;z&oacute;s
      szolg&aacute;ltat&aacute;sok
      haszn&aacute;lata</primary></indexterm>

    <para>A k&ouml;vetkez&#245;kben arra vonatkoz&oacute;an
      igyeksz&uuml;nk tan&aacute;csokat adni, amikor mi magunk akarunk
      modemmel csatlakozni valamilyen
      sz&aacute;m&iacute;t&oacute;g&eacute;phez.  Ezek teh&aacute;t
      olyan esetekben hasznosak, amikor egy t&aacute;voli g&eacute;ppel
      akarunk termin&aacute;lkapcsolatot
      l&eacute;tes&iacute;teni.</para>

    <para>A BBS-ek haszn&aacute;lat&aacute;ra is
      &eacute;rv&eacute;nyes.</para>

    <para>Ez ilyen t&iacute;pus&uacute; kapcsolatok kifejezetten
      hasznosak tudnak lenni olyan esetekben, amikor az interneten el
      akarunk &eacute;rni egy &aacute;llom&aacute;nyt, de gondjaink
      akadtak a PPP haszn&aacute;lat&aacute;val.  Ha
      p&eacute;ld&aacute;ul egy &aacute;llom&aacute;nyt akarunk
      let&ouml;lteni, de a PPP valami&eacute;rt nem m&#251;k&ouml;dik,
      akkor ezt a termin&aacute;l alap&uacute; kapcsolaton
      kereszt&uuml;l is meg tudjuk tenni.  Ilyenkor egy zmodem
      seg&iacute;ts&eacute;g&eacute;vel tudjuk &aacute;tt&ouml;lteni a
      sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nkre.</para>

    <sect2 id="hayes-unsupported">
      <title>A gy&aacute;ri Hayes-modem erre nem alkalmas, mihez tudunk
	vele kezdeni?</title>

      <para>A <command>tip</command> man oldala val&oacute;j&aacute;ban
	m&aacute;r nem is teljesen aktu&aacute;lis, ugyanis tartalmaz
	egy be&eacute;p&iacute;tett
	Hayes-t&aacute;rcs&aacute;z&oacute;t.  &Uacute;gy tudjuk
	enged&eacute;lyezni, ha az <filename>/etc/remote</filename>
	&aacute;llom&aacute;nyban megadjuk az
	<literal>at=hayes</literal>
	be&aacute;ll&iacute;t&aacute;st.</para>

      <para>A Hayes-eszk&ouml;z&ouml;k meghajt&oacute;ja nem el&eacute;g
	&uuml;gyes ahhoz, hogy felismerje az &uacute;jabb modemek
	&aacute;ltal felk&iacute;n&aacute;lt fejlettebb
	lehet&#245;s&eacute;geket &mdash; p&eacute;ld&aacute;ul a
	<literal>BUSY</literal>, <literal>NO DIALTONE</literal> vagy a
	<literal>CONNECT 115200</literal> &uuml;zenetek csak
	megzavarj&aacute;k.  Ez&eacute;rt a <command>tip</command>
	haszn&aacute;lata sor&aacute;n kapcsoljuk ki ezeket az
	&uuml;zeneteket (az <command>ATXO&amp;W</command>
	paranccsal).</para>

      <para>Emellett m&eacute;g &eacute;rdemes tudni, hogy a
	<command>tip</command> a h&iacute;v&aacute;skor 60
	m&aacute;sodpercig v&aacute;r.  A modem&uuml;nk&ouml;n
	enn&eacute;l kisebb id&#245;t kell be&aacute;ll&iacute;tanunk,
	m&aacute;sk&uuml;l&ouml;nben a <command>tip</command> azt hiszi,
	hogy valamilyen kommunik&aacute;ci&oacute;s probl&eacute;ma
	mer&uuml;lt fel.  Ehhez pr&oacute;b&aacute;lkozzunk az
	<command>ATS7=45&amp;W</command> paranccsal.</para>
    </sect2>

    <sect2 id="direct-at">
      <title>Hogyan adjuk meg ezeket az AT parancsokat?</title>

      <indexterm><primary><filename>/etc/remote</filename></primary></indexterm>

      <para>Az <filename>/etc/remote</filename>
	&aacute;llom&aacute;nyban hozzunk l&eacute;tre egy
	<quote>direct</quote> bejegyz&eacute;st.  P&eacute;ld&aacute;ul,
	ha a modem&uuml;nk az els&#245; soros porton, vagyis a
	<filename>/dev/cuad0</filename> eszk&ouml;z&ouml;n
	tany&aacute;zik, akkor a k&ouml;vetkez&#245; sort kell
	bele&iacute;rnunk:</para>

      <programlisting>cuad0:dv=/dev/cuad0:br#19200:pa=none</programlisting>

      <para>A <literal>br</literal> tulajdons&aacute;gn&aacute;l a modem
	&aacute;ltal ismert legnagyobb adat&aacute;tviteli
	sebess&eacute;get adjuk meg.  Ezut&aacute;n g&eacute;pelj&uuml;k
	be a <command>tip cuad0</command> parancsot &eacute;s m&aacute;r
	kapcsol&oacute;dunk is a modemhez.</para>

      <para>Vagy <username>root</username>
	felhaszn&aacute;l&oacute;k&eacute;nt a <command>cu</command>
	parancsot is haszn&aacute;lhatjuk:</para>

      <screen>&prompt.root; <userinput>cu -l<replaceable>vonal</replaceable> -s<replaceable>sebess&eacute;g</replaceable></userinput></screen>

      <para>Itt a <replaceable>vonal</replaceable> a soros port
	(p&eacute;ld&aacute;ul <filename>/dev/cuad0</filename>)
	&eacute;s a <replaceable>sebess&eacute;g</replaceable> annak
	sebess&eacute;ge (p&eacute;ld&aacute;ul
	<literal>57600</literal>) lesz.  Miut&aacute;n befejezt&uuml;k
	az AT parancsok kiad&aacute;s&aacute;t, az <command>~.</command>
	beg&eacute;pel&eacute;s&eacute;vel tudunk kil&eacute;pni.</para>

    </sect2>

    <sect2 id="gt-failure">
      <title>A pn tulajdons&aacute;gn&aacute;l a <literal>@</literal>
	jel nem haszn&aacute;lhat&oacute;!</title>

      <para>A pn (<quote>phone number</quote>) tulajdons&aacute;g
	&eacute;rt&eacute;k&eacute;ben szerepl&#245;
	<literal>@</literal> jel seg&iacute;ts&eacute;g&eacute;vel az
	<filename>/etc/phones</filename> &aacute;llom&aacute;nyban
	tudunk hivatkozni egy telefonsz&aacute;mra.  A
	<literal>@</literal> a tulajdons&aacute;gokat
	t&aacute;rol&oacute; &aacute;llom&aacute;nyok azonban,
	&iacute;gy p&eacute;ld&aacute;ul az
	<filename>/etc/remote</filename> &aacute;llom&aacute;ny
	eset&eacute;n is megk&uuml;l&ouml;nb&ouml;ztetett
	jelent&eacute;ssel b&iacute;rnak.  Ez&eacute;rt itt csak egy
	visszaper jellel tudjuk be&iacute;rni:</para>

      <programlisting>pn=\@</programlisting>

    </sect2>

    <sect2 id="dial-command-line">
      <title>Hogyan h&iacute;vjunk fel egy sz&aacute;mot
	parancssorb&oacute;l?</title>

      <para>Tegy&uuml;nk egy <quote>&aacute;ltal&aacute;nos</quote>
	bejegyz&eacute;st az <filename>/etc/remote</filename>
	&aacute;llom&aacute;nyunkba.  P&eacute;ld&aacute;ul egy
	ilyet:</para>

      <programlisting>tip115200|Dial any phone number at 115200 bps:\
        :dv=/dev/cuad0:br#115200:at=hayes:pa=none:du:
tip57600|Dial any phone number at 57600 bps:\
        :dv=/dev/cuad0:br#57600:at=hayes:pa=none:du:</programlisting>

      <para>Ezut&aacute;n m&aacute;r ilyet is tudni fogunk:</para>

      <screen>&prompt.root; <userinput>tip -115200 5551234</userinput></screen>

      <para>Ha viszont a <command>tip</command> helyett ink&aacute;bb a
	<command>cu</command> programot haszn&aacute;ln&aacute;nk
	sz&iacute;vesen, akkor ehhez k&eacute;sz&iacute;ts&uuml;nk egy
	&aacute;ltal&aacute;nos bejegyz&eacute;st:</para>

      <programlisting>cu115200|Use cu to dial any number at 115200bps:\
        :dv=/dev/cuad1:br#57600:at=hayes:pa=none:du:</programlisting>

      <para>Majd g&eacute;pelj&uuml;k be ezt:</para>

      <screen>&prompt.root; <userinput>cu 5551234 -s 115200</userinput></screen>

    </sect2>

    <sect2 id="set-bps">
      <title>Ehhez minden adand&oacute; alkalommal meg kell adnom a
	sebess&eacute;get is?</title>

      <para>Hozzunk l&eacute;tre egy <literal>tip1200</literal> vagy
	<literal>cu1200</literal> nev&#251; bejegyz&eacute;st, de a
	<literal>br</literal> tulajdons&aacute;gn&aacute;l adjuk meg a
	haszn&aacute;lni k&iacute;v&aacute;nt sebess&eacute;get.  Mivel
	a <command>tip</command> szerint az 1200&nbsp;bps egy
	megfelel&#245; alap&eacute;rtelmez&eacute;s, ez&eacute;rt
	alapb&oacute;l a <literal>tip1200</literal> bejegyz&eacute;st
	fogja keresni.  Ez term&eacute;szetesen nem jelenti azt, hogy
	ilyen sebss&eacute;ggel is akarunk dolgozni.</para>

    </sect2>

    <sect2 id="terminal-server">
      <title>A termin&aacute;lszerveren kereszt&uuml;l t&ouml;bb
	m&aacute;s g&eacute;pet is el&eacute;rek</title>

      <para>Ahelyett, hogy minden alkalommal megv&aacute;rn&aacute;nk a
	kapcsol&oacute;d&aacute;s befejez&eacute;st &eacute;s
	beg&eacute;peln&eacute;nk a <command>CONNECT
	<replaceable>g&eacute;p</replaceable></command> parancsot,
	haszn&aacute;ljuk a <literal>cm</literal>
	tulajdons&aacute;g&aacute;t.  P&eacute;ld&aacute;ul
	n&eacute;zz&uuml;k meg ilyen bejegyz&eacute;st az
	<filename>/etc/remote</filename>
	&aacute;llom&aacute;nyban:</para>

      <programlisting>pain|pain.deep13.com|Forrester's machine:\
        :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank's machine:\
        :cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
        :dv=/dev/cuad2:br#38400:at=hayes:du:pa=none:pn=5551234:</programlisting>

      <para>Ennek hat&aacute;s&aacute;ra el&eacute;g csak annyit
	megadnunk, hogy <command>tip pain</command> vagy <command>tip
	muffin</command>, &eacute;s m&aacute;r kapcsol&oacute;dunk is a
	<hostid>pain</hostid> vagy <hostid>muffin</hostid>
	g&eacute;pekhez.  A <command>tip deep13</command> paranccsal
	pedig egyenesen a termin&aacute;lszerverhez jutunk el.</para>

    </sect2>

    <sect2 id="tip-multiline">
      <title>T&ouml;bb vonalon is lehet egy g&eacute;phez
	csatlakozni?</title>

      <para>Ez gyakran okoz gondot olyan esetekben, amikor egy
	egyetemnek t&ouml;bb bet&aacute;rcs&aacute;z&oacute; vonala van,
	&eacute;s azokon kereszt&uuml;l t&ouml;bbezer hallgat&oacute;
	pr&oacute;b&aacute;l meg dolgozni.</para>

      <para>Vegy&uuml;k fel az egyetemet az
	<filename>/etc/remote</filename> &aacute;llom&aacute;nyba
	&eacute;s haszn&aacute;ljuk a <literal>pn</literal>
	tulajdons&aacute;g megad&aacute;s&aacute;n&aacute;l a
	<literal>@</literal> jelet:</para>

      <programlisting>nagy-egyetem:\
        :pn=\@:tc=dialout
dialout:\
        :dv=/dev/cuad3:br#9600:at=courier:du:pa=none:</programlisting>

      <para>Ezut&aacute;n adjuk hozz&aacute; az
	<filename>/etc/phones</filename> &aacute;llom&aacute;nyhoz az
	egyetem telefonsz&aacute;mait:</para>

      <programlisting>nagy-egyetem 5551111
nagy-egyetem 5551112
nagy-egyetem 5551113
nagy-egyetem 5551114</programlisting>

      <para>A <command>tip</command> mindegyik telefonsz&aacute;mot az
	adott sorrendben pr&oacute;b&aacute;lja t&aacute;rcs&aacute;zni
	&eacute;s v&eacute;g&eacute;n feladja a
	pr&oacute;b&aacute;lkoz&aacute;st.  Ha folyamatosan akarjuk
	ezeket a sz&aacute;mokat h&iacute;vni, akkor
	<command>tip</command> parancsot tegy&uuml;k egy
	ciklusba.</para>

    </sect2>

    <sect2 id="multi-controlp">
      <title>Mi&eacute;rt kell k&eacute;tszer lenyomni a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>P</keycap>
	</keycombo>
	gombokat, hogy egyszer elk&uuml;ldje a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>P</keycap>
	</keycombo>
	kombin&aacute;ci&oacute;t?</title>

      <para>A <keycombo
	action="simul"><keycap>Ctrl</keycap><keycap>P</keycap></keycombo>
	billenty&#251;kombin&aacute;ci&oacute;
	alap&eacute;rtelmez&eacute;s szerint a
	<quote>kik&eacute;nyszer&iacute;t&eacute;st</quote> jelenti,
	amivel a <command>tip</command> programnak tudunk sz&oacute;lni,
	hogy a k&ouml;vetkez&#245; adat sz&oacute; szerint
	&eacute;rtend&#245;.  A <command>~s</command>
	szekvenci&aacute;val b&aacute;rmelyik m&aacute;sik karakternek
	&aacute;t tudjuk adni ezt a szerepet, ami egy
	v&aacute;ltoz&oacute; be&aacute;ll&iacute;t&aacute;s&aacute;t
	jelenti (<quote>set a variable</quote>).</para>

      <para>G&eacute;pelj&uuml;k be, hogy
      <command>~sforce=<replaceable>egyetlen-karakter</replaceable></command>
	&eacute;s z&aacute;rjuk le egy &uacute;jsorral.  Az
	<replaceable>egyetlen-karakter</replaceable> hely&eacute;re
	tetsz&#245;leges, egykarakteres szimb&oacute;lumot megadhatunk.
	Ha itt nem adunk meg semmit, akkor a
	kik&eacute;nyszer&iacute;t&#245; karakter a
	<literal>nul</literal> lesz, amit a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>2</keycap>
	</keycombo>
	vagy a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>Sz&oacute;k&ouml;z</keycap>
	</keycombo>
	lenyom&aacute;s&aacute;val tudunk el&#245;hozni.  Az
	<replaceable>egyetlen-karakter</replaceable> szerep&eacute;re
	p&eacute;ld&aacute;ul t&ouml;k&eacute;letes a
	<keycombo action="simul">
	  <keycap>Shift</keycap>
	  <keycap>Ctrl</keycap>
	  <keycap>6</keycap>
	</keycombo>, amit csak nagyon kev&eacute;s
	termin&aacute;lszerver alkalmaz.</para>

      <para>A kik&eacute;nyszer&iacute;t&eacute;st v&eacute;gz&#245;
	karaktert az <filename>&#36;HOME/.tiprc</filename>
	&aacute;llom&aacute;nyban tetsz&#245;leges karakterre &aacute;t
	tudjuk &aacute;ll&iacute;tani:</para>

      <programlisting>force=<replaceable>egyetlen-karakter</replaceable></programlisting>

    </sect2>

    <sect2 id="uppercase">
      <title>Mi&eacute;rt lett hirtelen minden beg&eacute;pelt bet&#251;
	nagybet&#251;s??</title>

      <para>Val&oacute;sz&iacute;n&#251;leg siker&uuml;lt lenyomnunk a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>A</keycap>
	</keycombo> gombkombin&aacute;ci&oacute;t, ami a
	<command>tip</command> <quote>bet&#251;m&oacute;d
	v&aacute;lt&aacute;s</quote> funkci&oacute;j&aacute;nak felel
	meg.  Ezt olyanok sz&aacute;m&aacute;ra dolgozt&aacute;k ki,
	akikn&eacute;l nem m&#251;k&ouml;dik a <keycap>Caps
	Lock</keycap> billenty&#251;.  Az el&#245;bb bemutatott
	<command>~s</command> haszn&aacute;lat&aacute;val
	&aacute;ll&iacute;tsuk &aacute;t a <literal>raisechar</literal>
	v&aacute;ltoz&oacute;t valami m&aacute;sra.
	Tulajdonk&eacute;ppen ak&aacute;r ugyanarra is
	&aacute;ll&iacute;thatjuk, mint a
	kik&eacute;nyszer&iacute;t&#245; karaktert, ha nem &aacute;ll
	sz&aacute;nd&eacute;kunkban haszn&aacute;lni.</para>

      <para>Ebben a p&eacute;ld&aacute;ban egy olyan
	<filename>.tiprc</filename> &aacute;llom&aacute;ny szerepel, amely
	t&ouml;k&eacute;letesen megfelel azon
	<application>Emacs</application> felhaszn&aacute;l&oacute;k
	sz&aacute;m&aacute;ra, akik sokat haszn&aacute;lj&aacute;k a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>2</keycap>
	</keycombo>
	&eacute;s
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>A</keycap>
	</keycombo>
	kombin&aacute;ci&oacute;kat:</para>

      <programlisting>force=^^
raisechar=^^</programlisting>

      <para>A <literal>^^</literal> a
	<keycombo action="simul">
	  <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>6</keycap>
	</keycombo>
	billenty&#251;kombin&aacute;ci&oacute;t jelenti.</para>

    </sect2>

    <sect2 id="tip-filetransfer">
      <title>Hogyan mozgassunk &aacute;llom&aacute;nyokat a
	<command>tip</command> haszn&aacute;lat&aacute;val?</title>

      <para>Amikor m&aacute;s &unix; rendszerekkel vessz&uuml;k fel a
	kapcsolatot, akkor &aacute;llom&aacute;nyokat a
	<command>~p</command> (mint put, vagyis adni) &eacute;s
	<command>~t</command> (mint take, vagyis venni)
	haszn&aacute;lat&aacute;val tudunk mozgatni.  Ezek a parancsok a
	t&aacute;voli rendszeren a <command>cat</command> &eacute;s az
	<command>echo</command> felhaszn&aacute;l&aacute;s&aacute;val
	fogadnak &eacute;s k&uuml;ldenek &aacute;llom&aacute;nyokat.
	Alakjuk a k&ouml;vetkez&#245;:</para>

      <cmdsynopsis>
	<command>~p</command>
	<arg choice="plain">helyi-&aacute;llom&aacute;ny</arg>
	<arg choice="opt">t&aacute;voli-&aacute;llom&aacute;ny</arg>
      </cmdsynopsis>

      <cmdsynopsis>
	<command>~t</command>
	<arg choice="plain">t&aacute;voli-&aacute;llom&aacute;ny</arg>
	<arg choice="opt">helyi-&aacute;llom&aacute;ny</arg>
      </cmdsynopsis>

      <para>Ilyenkor nincs hibaellen&#245;rz&eacute;s, ez&eacute;rt
	ink&aacute;bb egy m&aacute;sik protokollt, p&eacute;ld&aacute;ul
	zmodemet &eacute;rdemes haszn&aacute;lnunk.</para>

    </sect2>

    <sect2 id="zmodem-tip">
      <title>Hogyan lehet zmodemet haszn&aacute;lni a
	<command>tip</command> programban?</title>

      <para>&Aacute;llom&aacute;nyokat &uacute;gy tudunk fogadni, ha
	el&#245;tte a kapcsolat t&aacute;volabbi v&eacute;g&eacute;n
	elind&iacute;tjuk a k&uuml;ld&eacute;st v&eacute;gz&#245;
	programot.  Ezut&aacute;n a <command>~C rz</command> parancs
	kiad&aacute;s&aacute;val kezdhetj&uuml;k meg helyben a
	fogad&aacute;s&aacute;t.</para>

      <para>&Aacute;llom&aacute;nyokat &uacute;gy tudunk k&uuml;ldeni,
	ha el&#245;tte a kapcsolat m&aacute;sik v&eacute;g&eacute;n
	elind&iacute;tjuk a fogad&oacute; programot.  Ezut&aacute;n a
	<command>~C sz
	<replaceable>&aacute;llom&aacute;nyok</replaceable></command>
	parancs kiad&aacute;s&aacute;val tudjuk megkezdeni a
	k&uuml;ld&eacute;st.</para>

    </sect2>
  </sect1>

  <sect1 id="serialconsole-setup">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Kazutaka</firstname>
	  <surname>YOKOTA</surname>
	  <contrib>K&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Bill</firstname>
	  <surname>Paul</surname>
	  <contrib>Az alapj&aacute;n szolg&aacute;l&oacute;
	    &iacute;r&aacute;st k&eacute;sz&iacute;tette: </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>A soros vonali konzol be&aacute;ll&iacute;t&aacute;sa</title>

    <indexterm><primary>soros konzol</primary></indexterm>

    <sect2 id="serialconsole-intro">
      <title>Bevezet&eacute;s</title>

      <para>A &os; k&eacute;pes &uacute;gy is elindulni, ha
	konzolk&eacute;nt mind&ouml;ssze egy buta termin&aacute;lt
	kapcsolunk r&aacute; soros porton kereszt&uuml;l.  Az ilyen
	t&iacute;pus&uacute; konfigur&aacute;ci&oacute;s alapvet&#245;en
	k&eacute;t t&iacute;pus sz&aacute;m&aacute;ra bizonyul
	hasznosnak: azon rendszergazd&aacute;k sz&aacute;m&aacute;ra,
	akik billenty&#251;zettel &eacute;s monitorral nem
	rendelkez&#245; g&eacute;pekre akarnak &os;-t telep&iacute;teni,
	&eacute;s olyan fejleszt&#245;k sz&aacute;m&aacute;ra, akik a
	rendszermag vagy k&uuml;l&ouml;nb&ouml;z&#245;
	eszk&ouml;zmeghajt&oacute;k m&#251;k&ouml;d&eacute;s&eacute;t
	akarj&aacute;k nyomon k&ouml;vetni.</para>

      <para>Ahogy arr&oacute;l m&aacute;r a <xref linkend="boot">ben is
	sz&oacute; esett, a &os; h&aacute;rom ind&iacute;t&aacute;si
	fokozattal rendelkezik.  Az els&#245; k&eacute;t fokozat a
	rendszerind&iacute;t&oacute; blokk k&oacute;dj&aacute;ban foglal
	helyet, amely pedig a lemezen tal&aacute;lhat&oacute; &os; slice
	elej&eacute;n.  A rendszer indul&aacute;sakor ez a blokk
	bet&ouml;lt&#245;dik &eacute;s lefuttatja a harmadik fokozatot
	k&eacute;pvisel&#245; rendszert&ouml;lt&#245;t (a
	<filename>/boot/loader</filename>
	&aacute;llom&aacute;nyt).</para>

      <para>Ha soros vonali konzol
	be&aacute;ll&iacute;t&aacute;s&aacute;hoz teh&aacute;t be kell
	&aacute;ll&iacute;tanunk a rendszerind&iacute;t&oacute; blokkot,
	a rendszert&ouml;lt&#245;t &eacute;s a rendszermagot.</para>

    </sect2>

    <sect2 id="serialconsole-howto-fast">
      <title>A soros konzol be&aacute;ll&iacute;t&aacute;sa,
	r&ouml;vid&iacute;tett v&aacute;ltozat</title>

      <para>Ebben a szakaszban azt felt&eacute;telezz&uuml;k, hogy az
	alap be&aacute;ll&iacute;t&aacute;sokkal dolgozunk &eacute;s
	csup&aacute;n egy gyors &aacute;ttekint&eacute;sre van
	sz&uuml;ks&eacute;g&uuml;nk a soros vonali
	konzolr&oacute;l.</para>

      <procedure>
	<step>
	  <para>Csatlakoztassunk egy soros k&aacute;belt a
	    <devicename>COM1</devicename> portra &eacute;s a
	    termin&aacute;lra.</para>
	</step>

	<step>
	  <para>Rendszeradminisztr&aacute;tork&eacute;nt a
	    k&ouml;vetkez&#245; parancs kell kiadnunk ahhoz, hogy a
	    soros konzolon l&aacute;thassuk az &ouml;sszes
	    rendszerind&iacute;t&aacute;shoz tartoz&oacute;
	    &uuml;zenetet:</para>

	  <screen>&prompt.root; echo 'console="comconsole"' &gt;&gt; /boot/loader.conf</screen>
	</step>

	<step>
	  <para>Nyissuk meg az <filename>/etc/ttys</filename>
	    &aacute;llom&aacute;nyt, &eacute;s a
	    <devicename>ttyd0</devicename> eszk&ouml;zh&ouml;z
	    tartoz&oacute; sorban &iacute;rjuk &aacute;t az
	    <literal>off</literal> param&eacute;tert az
	    <literal>on</literal> &eacute;rt&eacute;kre &eacute;s a
	    <literal>dialup</literal> param&eacute;tert a
	    <literal>vt100</literal> &eacute;rt&eacute;kre.  Ha nem
	    ezeket &aacute;ll&iacute;tjuk be, akkor a soros konzol
	    kereszt&uuml;l jelsz&oacute; megad&aacute;sa
	    n&eacute;lk&uuml;l is be tudunk jelentkezni, ami viszont egy
	    biztons&aacute;gi r&eacute;s vesz&eacute;ly&eacute;vel
	    fenyeget.</para>
	</step>

	<step>
	  <para>A v&aacute;ltoztat&aacute;sok
	    &eacute;rv&eacute;nyes&iacute;t&eacute;s&eacute;hez
	    ind&iacute;tsuk &uacute;jra a rendszer&uuml;nket.</para>
	</step>
      </procedure>

      <para>Ha ett&#245;l elt&eacute;r&#245;
	be&aacute;ll&iacute;t&aacute;sokra lenne
	sz&uuml;ks&eacute;g&uuml;nk, akkor a folyamat egyes
	l&eacute;p&eacute;seibe a <xref
	linkend="serialconsole-howto">ban kaphatunk m&eacute;lyebb
	betekint&eacute;st.</para>

    </sect2>

    <sect2 id="serialconsole-howto">
      <title>A soros vonali konzol
	be&aacute;ll&iacute;t&aacute;sa</title>

      <procedure>
	<step>
	  <para>K&eacute;sz&iacute;ts&uuml;k el&#245; a soros
	    k&aacute;belt.</para>

	  <indexterm><primary>null-modem
	    k&aacute;bel</primary></indexterm>

	  <para>Vagy a null-modem k&aacute;belre vagy pedig egy
	    szabv&aacute;nyos soros k&aacute;belre &eacute;s egy
	    null-modem &aacute;talak&iacute;t&oacute;ra lesz
	    sz&uuml;ks&eacute;g&uuml;nk.  A soros k&aacute;belekkel
	    kapcsolatosan a <xref linkend="serial-cables-ports">t
	    &eacute;rdemes elolvasni.</para>
	</step>

	<step>
	  <para>H&uacute;zzuk ki a billenty&#251;zetet.</para>

	  <para>A legt&ouml;bb szem&eacute;lyi
	    sz&aacute;m&iacute;t&oacute;g&eacute;p az
	    ind&iacute;t&aacute;sa (vagyis a Power-On Self-Test, POST)
	    sor&aacute;n hib&aacute;t jelez, ha nem
	    &eacute;rz&eacute;kel billenty&#251;zetet.  Egyes
	    g&eacute;pek hangosan panaszolj&aacute;k a billenty&#251;zet
	    hi&aacute;ny&aacute;t, &eacute;s nem is hajland&oacute;ak
	    eg&eacute;szen addig elindulni, am&iacute;g nem
	    csatlakoztatunk egyet.</para>

	  <para>Ha a sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
	    hib&aacute;t k&uuml;ld, de ennek ellen&eacute;re
	    m&eacute;gis elindul, akkor semmit nem kell
	    csin&aacute;lnunk.  (N&eacute;melyik Phonix BIOS-os
	    g&eacute;pen ilyenkor megjelenik a <errorname>Keyboard
	    failed</errorname> hiba&uuml;zenet, de ett&#245;l m&eacute;g
	    rendesen elindul a g&eacute;p.)</para>

	  <para>Amennyiben a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk nem
	    hajland&oacute; billenty&#251;zet n&eacute;lk&uuml;l
	    elindulni, &aacute;ll&iacute;tsuk be a BIOS-ban a
	    <quote>hiba</quote> figyelmen k&iacute;v&uuml;l
	    hagy&aacute;s&aacute;t (m&aacute;r ha ez lehets&eacute;ges).
	    Az alaplap le&iacute;r&aacute;s&aacute;ban
	    tal&aacute;lhatjuk meg ennek pontos r&eacute;szleit.</para>

	  <tip>
	    <para>A BIOS param&eacute;terei k&ouml;z&ouml;tt a
	      billenty&#251;zetet &aacute;ll&iacute;tsuk <quote>Not
	      installed</quote> &aacute;llapot&uacute;ra.  Ilyenkor
	      m&eacute;g tov&aacute;bbra is haszn&aacute;lhat&oacute; a
	      billenty&#251;zet, ezzel mind&ouml;ssze csak a BIOS
	      sz&aacute;m&aacute;ra tiltjuk le az
	      ind&iacute;t&aacute;skori ellen&#245;rz&eacute;st,
	      ez&eacute;rt nem fog panaszkodni a hi&aacute;nya miatt.
	      Teh&aacute;t a billenty&#251;zetet m&eacute;g a <quote>Not
	      installed</quote> be&aacute;ll&iacute;t&aacute;sa
	      eset&eacute;n is nyugodtan csatlakoztatjuk, mert
	      m&#251;k&ouml;dni fog.</para>
	  </tip>

	  <note>
	    <para>Ha a rendszer&uuml;nk&ouml;n &ps2;-es eg&eacute;r is
	      tal&aacute;lhat&oacute;, akkor j&oacute; es&eacute;llyel a
	      billenty&#251;zettel egy&uuml;tt az egeret is ki tudjuk
	      h&uacute;zni.  Mivel a &ps2;-es eg&eacute;r osztozik a
	      billenty&#251;zettel bizonyos hardvereken, ez&eacute;rt ha
	      nem h&uacute;zzuk ki az egeret is, akkor az alaplap
	      m&eacute;g tov&aacute;bbra is k&eacute;pes azt gondolni,
	      hogy a billenty&#251;zet ott van.  P&eacute;ld&aacute;ul
	      az AMI BIOS-os Gateway 2000-as 90&nbsp;MHz-es Pentium
	      rendszer pontosan &iacute;gy m&#251;k&ouml;dik.
	      &Aacute;ltal&aacute;ban v&eacute;ve azonban ez nem szokott
	      gondot okozni, mivel az eg&eacute;r billenty&#251;zet
	      n&eacute;lk&uuml;l &uacute;gy sem &eacute;r
	      t&uacute;ls&aacute;gosan sokat.</para>
	  </note>
	</step>

	<step>
	  <para>Csatlakoztassunk egy buta termin&aacute;lt a
	    <devicename>COM1</devicename>
	    (<devicename>sio0</devicename>) portra.</para>

	  <para>Ha nem rendelkez&uuml;nk buta termin&aacute;llal, akkor
	    erre c&eacute;lra ugyan&uacute;gy alkalmas egy r&eacute;gi
	    XT-s PC valamilyen modemprogrammal vagy egy soros porton
	    csatlakoz&oacute; m&aacute;sik &unix;-os g&eacute;p.  Ha
	    nincs <devicename>COM1</devicename>
	    (<devicename>sio0</devicename>) portunk, akkor
	    szerezz&uuml;nk egyet.  Jelen pillanatban a
	    rendszerind&iacute;t&oacute; blokk
	    &uacute;jraford&iacute;t&aacute;sa n&eacute;lk&uuml;l a
	    <devicename>COM1</devicename> porton k&iacute;v&uuml;l nem
	    tudunk m&aacute;sikat v&aacute;lasztani.  Ha a
	    <devicename>COM1</devicename> portra m&aacute;r raktunk
	    valamilyen m&aacute;sik eszk&ouml;zt, akkor azt ideiglenesen
	    h&uacute;zzuk le, majd a &os; telep&iacute;t&eacute;se
	    &eacute;s elind&iacute;t&aacute;sa ut&aacute;n tegy&uuml;nk
	    fel egy m&aacute;sik rendszerind&iacute;t&oacute; blokkot.
	    (Egy&eacute;bk&eacute;nt felt&eacute;telezz&uuml;k, hogy a
	    <devicename>COM1</devicename> el&eacute;rhet&#245; egy
	    &aacute;llom&aacute;ny/sz&aacute;m&iacute;t&oacute;/termin&aacute;lszerveren
	    &mdash; ha val&oacute;ban valamilyen m&aacute;sik
	    c&eacute;lra sz&uuml;ks&eacute;g&uuml;nk lenne a
	    <devicename>COM1</devicename> portra (&eacute;s
	    semmik&eacute;ppen sem tudjuk &aacute;trakni a
	    <devicename>COM2</devicename>
	    (<devicename>sio1</devicename>) portra), akkor
	    val&oacute;sz&iacute;n&#251;leg nem is ezzel kellene
	    els&#245;k&eacute;nt foglalkoznunk.)</para>
	</step>

	<step>
	  <para>Gondoskodjunk r&oacute;la, hogy a rendszermag
	    be&aacute;ll&iacute;t&aacute;sait tartalmaz&oacute;
	    &aacute;llom&aacute;nyban a <devicename>COM1</devicename>
	    (<devicename>sio0</devicename>) eszk&ouml;zh&ouml;z megadtuk
	    a megfelel&#245; param&eacute;tereket.</para>

	  <para>Ezek az al&aacute;bbiak:</para>

	  <variablelist>
	    <varlistentry>
	      <term><literal>0x10</literal></term>

	      <listitem>
		<para>A konzolos m&#251;k&ouml;d&eacute;si m&oacute;d
		  enged&eacute;lyez&eacute;se az adott egys&eacute;ghez.
		  Ha megadjuk ezt a param&eacute;tert, akkor a
		  t&ouml;bbit a rendszer figyelmen k&iacute;v&uuml;l
		  hagyja.  Pillanatnyilag legfeljebb egy egys&eacute;g
		  birtokolhatja ezt a be&aacute;ll&iacute;t&aacute;st.
		  Ha t&ouml;bb ilyet adtunk volna meg, akkor (a
		  fel&iacute;r&aacute;s sorrendje szerint) az els&#245;
		  kap ilyen szerepet.  Ez a
		  be&aacute;ll&iacute;t&aacute;s &ouml;nmag&aacute;ban
		  m&eacute;g nem teszi a soros portot konzoll&aacute;.
		  Ehhez m&eacute;g sz&uuml;ks&eacute;g&uuml;nk van a
		  k&ouml;vetkez&#245; be&aacute;ll&iacute;t&aacute;sra,
		  vagy a <option>-h</option> megad&aacute;s&aacute;ra
		  is.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>0x20</literal></term>

	      <listitem>
		<para>Az egys&eacute;g konzoll&aacute;
		  nyilv&aacute;n&iacute;t&aacute;sa (hacsak nincs egy
		  t&#245;le nagyobb priorit&aacute;s&uacute; konzol),
		  f&uuml;ggetlen&uuml;l a lentebb ismertetend&#245;
		  <option>-h</option> opci&oacute;t&oacute;l.  A
		  <literal>0x20</literal> &eacute;rt&eacute;ket a
		  <option>0x10</option> &eacute;rt&eacute;kkel
		  egy&uuml;tt kell megadni.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>0x40</literal></term>

	      <listitem>
		<para>(A <literal>0x10</literal> &eacute;rt&eacute;kkel
		  egy&uuml;tt) az egys&eacute;get kivonja a
		  norm&aacute;lis el&eacute;r&eacute;s al&oacute;l.  Ezt
		  a be&aacute;ll&iacute;t&aacute;st ne
		  haszn&aacute;ljuk, ha soros vonali konzolt akarunk
		  &uuml;zemeltetni az adott porton.  Ezzel az
		  egys&eacute;get csak a rendszermag t&aacute;voli
		  nyomk&ouml;vet&eacute;s&eacute;hez tudjuk
		  haszn&aacute;lni.  A t&aacute;voli
		  nyomk&ouml;vet&eacute;sr&#245;l a <ulink
		  url="&url.books.developers-handbook.en;/index.html">
		  fejleszt&#245;k
		  k&eacute;zik&ouml;nyv&eacute;ben</ulink> olvastunk
		  b&#245;vebben.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>P&eacute;lda:</para>

	  <programlisting>device sio0 at isa? port IO_COM1 flags 0x10 irq 4</programlisting>

	  <para>A tov&aacute;bbi r&eacute;szletekr&#245;l a &man.sio.4;
	    man oldal tud felvil&aacute;gos&iacute;t&aacute;st
	    ny&uacute;jtani.</para>

	  <para>Ha nem &aacute;ll&iacute;tottuk be a megfelel&#245;
	    param&eacute;tereket, akkor (egy m&aacute;sik konzolon)
	    futtassuk a UserConfig programot vagy ford&iacute;tsuk
	    &uacute;jra a rendszermagot.</para>
	</step>

	<step>
	  <para>Hozzunk l&eacute;tre egy
	    <filename>boot.config</filename> &aacute;llom&aacute;nyt a
	    rendszer ind&iacute;t&aacute;s&aacute;hoz haszn&aacute;lt
	    meghajt&oacute; <literal>a</literal>
	    part&iacute;ci&oacute;j&aacute;nak
	    gy&ouml;ker&eacute;ben.</para>

	  <para>Ez az &aacute;llom&aacute;ny mondja meg a
	    rendszerind&iacute;t&oacute; blokkban
	    tal&aacute;lhat&oacute; k&oacute;dnak, hogy mik&eacute;nt
	    akarjuk ind&iacute;tani a rendszer&uuml;nket.  A soros
	    vonali konzol &eacute;letrekelt&eacute;s&eacute;hez a most
	    k&ouml;vetkez&#245; opci&oacute;k k&ouml;z&uuml;l kell
	    megadnunk egyet vagy t&ouml;bbet &mdash; amennyiben
	    t&ouml;bbet akarunk megadni, akkor mindegyiket egyetlen
	    sorban szerepeltess&uuml;k:</para>

	  <variablelist>
	    <varlistentry>
	      <term><option>-h</option></term>

	      <listitem>
		<para>A bels&#245; &eacute;s a soros vonali konzolok
		  k&ouml;zti &aacute;tkapcsol&aacute;s.  Ezzel tudunk a
		  konzolos eszk&ouml;z&ouml;k k&ouml;z&ouml;tt
		  v&aacute;ltani.  P&eacute;ld&aacute;ul, ha egy
		  bels&#245; (video) konzolr&oacute;l ind&iacute;tjuk a
		  rendszert, akkor a rendszert&ouml;lt&#245;nek
		  &eacute;s a rendszermagnak &aacute;tadott
		  <option>-h</option> param&eacute;terrel arra tudjuk
		  ezeket utas&iacute;tani, hogy konzolk&eacute;nt a
		  soros portot haszn&aacute;lj&aacute;k.  Vagy ha soros
		  porton kereszt&uuml;l ind&iacute;tjuk a rendszert,
		  akkor <option>-h</option> megad&aacute;s&aacute;val
		  megk&eacute;rhetj&uuml;k a rendszert&ouml;lt&#245;t
		  &eacute;s a rendszermagot, hogy ezut&aacute;n
		  m&aacute;r a videok&aacute;rty&aacute;t
		  haszn&aacute;lja konzolk&eacute;nt.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><option>-D</option></term>

	      <listitem>
		<para>Az egy- &eacute;s k&eacute;tkonzolos
		  be&aacute;ll&iacute;t&aacute;sok k&ouml;zti
		  v&aacute;lt&aacute;s.  Az egykonzolos
		  konfigur&aacute;ci&oacute;ban a konzol lehet
		  bels&#245; (video) vagy soros vonali, att&oacute;l
		  f&uuml;gg&#245;en, hogy mik&eacute;nt
		  haszn&aacute;ltuk a fenti <option>-h</option>
		  opci&oacute;t.  A k&eacute;tkonzolos
		  konfigur&aacute;ci&oacute;ban azonban a
		  videok&aacute;rty&aacute;n &eacute;s a soros vonalon
		  kereszt&uuml;l is egyszerre megjelenik a konzol,
		  f&uuml;ggetlen&uuml;l a <option>-h</option>
		  hat&aacute;s&aacute;t&oacute;l.  Ilyenkor viszont
		  vegy&uuml;k figyelembe, hogy ez a k&eacute;tkonzolos
		  konfigur&aacute;ci&oacute; csak a
		  rendszerind&iacute;t&oacute; blokk fut&aacute;sa alatt
		  &eacute;l.  Amint a rendszerind&iacute;t&oacute;
		  megkapja a vez&eacute;rl&eacute;st, a
		  <option>-h</option> &aacute;ltal megadott konzol
		  v&aacute;lik az egyed&uuml;liv&eacute;.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><option>-P</option></term>

	      <listitem>
		<para>A rendszerind&iacute;t&oacute; blokk
		  megpr&oacute;b&aacute;lja megkeresni a
		  billenty&#251;zetet.  Ha nem tal&aacute;lja, akkor
		  mag&aacute;t&oacute;l be&aacute;ll&iacute;tja a
		  <option>-D</option> &eacute;s <option>-h</option>
		  opci&oacute;kat.</para>

		<note>
		  <para>T&aacute;rbeli korl&aacute;toz&aacute;sok miatt
		    a rendszerind&iacute;t&oacute; blokk jelenlegi
		    v&aacute;ltozata a <option>-P</option>
		    param&eacute;terrel csak a kiterjesztett
		    billenty&#251;zeteket k&eacute;pes kezelni.  A 101
		    gombn&aacute;l kevesebbel (teh&aacute;t F11
		    &eacute;s F12 gombokkal nem) rendelkez&#245;
		    billenty&#251;zeteket ez&eacute;rt nem
		    felt&eacute;tlen&uuml;l fogja &eacute;szlelni.
		    Ugyanezen korl&aacute;toz&aacute;s miatt egyes
		    laptopokon sem minden esetben siker&uuml;l
		    &eacute;rz&eacute;kelni a billenty&#251;zetet.  Ha
		    ez a rendszer&uuml;nk&ouml;n
		    probl&eacute;m&aacute;hoz vezetne, akkor
		    egyszer&#251;bb lesz elhagyni a <option>-P</option>
		    haszn&aacute;lat&aacute;t.  Sajnos, jelenleg
		    semmilyen megold&aacute;s nincs erre.</para>
		</note>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Vagy a <option>-P</option> opci&oacute;val
	    &aacute;ll&iacute;tassuk be automatikusan a konzolt, vagy
	    pedig a <option>-h</option> opci&oacute;val
	    enged&eacute;lyezz&uuml;k a soros vonali konzolt.</para>

	  <para>Term&eacute;szetesen itt a &man.boot.8; man oldalon
	    szerepl&#245; &ouml;sszes t&ouml;bbi param&eacute;tert is
	    megadhatjuk.</para>

	  <para>A <option>-P</option> kiv&eacute;tel&eacute;vel az
	    &ouml;sszes opci&oacute; a rendszert&ouml;lt&#245;nek
	    (<filename>/boot/loader</filename>) ker&uuml;l
	    &aacute;tad&aacute;sra.  A rendszert&ouml;lt&#245;
	    egyed&uuml;l a <option>-h</option>
	    &aacute;llapot&aacute;b&oacute;l d&ouml;nti el, hogy mely
	    bels&#245; videoeszk&ouml;z&ouml;n vagy soros porton legyen
	    a konzol.  Ez azt jelenti, hogy a
	    <filename>/boot.config</filename> &aacute;llom&aacute;nyban
	    ha megadjuk a <option>-D</option> opci&oacute;t, de mellette
	    nem szerepel a <option>-h</option>, akkor a soros vonali
	    konzolt csak a rendszerind&iacute;t&oacute; blokk
	    fut&aacute;sa alatt tudjuk el&eacute;rni &mdash; a
	    rendszert&ouml;lt&#245; ugyanis alapb&oacute;l a
	    videok&aacute;rty&aacute;t haszn&aacute;lja
	    konzolk&eacute;nt.</para>
	</step>

	<step>
	  <para>Kapcsoljuk be a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nket.</para>

	  <para>Amikor elind&iacute;tjuk a &os;-s g&eacute;p&uuml;nket,
	    a rendszerind&iacute;t&oacute; blokk ki&iacute;rja a
	    <filename>/boot.config</filename> tartalm&aacute;t a
	    konzolra.  P&eacute;ld&aacute;ul &iacute;gy:</para>

	  <screen>/boot.config: -P
Keyboard: no</screen>

	  <para>A m&aacute;sodik sor csak olyankor jelenik meg, ha a
	    <filename>/boot.config</filename> &aacute;llom&aacute;nyban
	    a <option>-P</option> be&aacute;ll&iacute;t&aacute;s is
	    szerepel, &eacute;s a billenty&#251;zet
	    jelenl&eacute;t&eacute;t (yes) vagy hi&aacute;ny&aacute;t
	    (no) jelzi.  A <filename>/boot.config</filename>
	    tartalm&aacute;t&oacute;l f&uuml;gg&#245;en ezek az
	    &uuml;zenetek vagy a soros vonali vagy a bels&#245; konzolon
	    jelennek meg, esetleg mind a kett&#245;n.</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry
		    align="left">Be&aacute;ll&iacute;t&aacute;s</entry>
		  <entry align="left">Ahol megjelenik</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>nincs</entry>
		  <entry>bels&#245; konzol</entry>
		</row>

		<row>
		  <entry><option>-h</option></entry>
		  <entry>soros vonali konzol</entry>
		</row>

		<row>
		  <entry><option>-D</option></entry>
		  <entry>soros vonali &eacute;s bels&#245;
		    konzol</entry>
		</row>

		<row>
		  <entry><option>-Dh</option></entry>
		  <entry>soros vonali &eacute;s bels&#245;
		    konzol</entry>
		</row>

		<row>
		  <entry><option>-P</option>, van
		    billenty&#251;zet</entry>
		  <entry>bels&#245; konzol</entry>
		</row>

		<row>
		  <entry><option>-P</option>, nincs
		    billenty&#251;zet</entry>
		  <entry>soros vonali konzol</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para>Az im&eacute;nti &uuml;zenetek felbukkan&aacute;sa
	    ut&aacute;n a tov&aacute;bbi konzolos &uuml;zenetek
	    k&uuml;ld&eacute;s&eacute;ben egy r&ouml;vid sz&uuml;net
	    k&ouml;vetkezik, am&iacute;g a rendszerind&iacute;t&oacute;
	    blokk a rendszert&ouml;lt&#245;
	    bet&ouml;lt&eacute;s&eacute;vel folytatja a rendszer
	    ind&iacute;t&aacute;s&aacute;t.  Norm&aacute;lis
	    k&ouml;r&uuml;lm&eacute;nyek k&ouml;z&ouml;tt ezt a
	    folyamatot nem kell megszak&iacute;tanunk, de esetleg
	    olyankor m&eacute;gis &eacute;rdemes lehet, ha le akarjuk
	    ellen&#245;rizni a
	    be&aacute;ll&iacute;t&aacute;sainkat.</para>

	  <para>A rendszerind&iacute;t&aacute;si folyamat
	    f&eacute;lbeszak&iacute;t&aacute;s&aacute;hoz az
	    <keycap>Enter</keycap> billenty&#251;n k&iacute;v&uuml;l
	    nyomjuk le valamelyik m&aacute;sikat.  Ekkor a
	    rendszerind&iacute;t&oacute; blokk meg&aacute;ll &eacute;s
	    v&aacute;rja a tov&aacute;bbi parancsokat.  Ekkor valami
	    ilyesmit l&aacute;thatunk:</para>

	  <screen>&gt;&gt; FreeBSD/i386 BOOT
Default: 0:ad(0,a)/boot/loader
boot:</screen>

	  <para>N&eacute;zz&uuml;k meg, hogy
	    <filename>/boot.config</filename>
	    be&aacute;ll&iacute;t&aacute;sainak megfelel&#245;en a fenti
	    &uuml;zenet a soros vonali konzolon vagy a bels&#245;
	    konzolon, illetve mind a kett&#245;n megjelenik-e.  Ha az
	    &uuml;zenet a megfelel&#245; konzolon megjelenik, akkor az
	    <keycap>Enter</keycap> lenyom&aacute;s&aacute;val
	    folytathatjuk a rendszer
	    ind&iacute;t&aacute;s&aacute;t.</para>

	  <para>Ha nek&uuml;nk a soros vonali konzolra lenne
	    sz&uuml;ks&eacute;g&uuml;nk, de semmi nem jelenik meg a
	    soros termin&aacute;lon, akkor valamit
	    val&oacute;sz&iacute;n&#251;leg nem j&oacute;l
	    &aacute;ll&iacute;tottunk be.  A
	    rendszerind&iacute;t&oacute; blokkt&oacute;l kapott
	    parancssorban a <option>-h</option>
	    beg&eacute;pel&eacute;s&eacute;vel &eacute;s az
	    <keycap>Enter</keycap> vagy <keycap>Return</keycap>
	    lenyom&aacute;s&aacute;val (ha lehets&eacute;ges)
	    jelezz&uuml;k neki (&eacute;s &iacute;gy a
	    rendszert&ouml;lt&#245;nek &eacute;s a rendszermagnak is) a
	    soros vonali konzol kiv&aacute;laszt&aacute;s&aacute;t.
	    Miut&aacute;n befejez&#245;d&ouml;tt a rendszer
	    ind&iacute;t&aacute;sa, menj&uuml;nk vissza &eacute;s
	    ellen&#245;rizz&uuml;k a megfelel&#245;
	    param&eacute;tereket.</para>
	</step>
      </procedure>

      <para>Ahogy siker&uuml;lt elind&iacute;tani a
	rendszert&ouml;lt&#245;t &eacute;s a
	rendszerind&iacute;t&aacute;s harmadik fokozat&aacute;ba
	l&eacute;pt&uuml;nk, a rendszert&ouml;lt&#245; megfelel&#245;
	k&ouml;rnyezeti v&aacute;ltoz&oacute;in kereszt&uuml;l
	m&eacute;g mindig van lehet&#245;s&eacute;g&uuml;nk
	v&aacute;ltani a soros vonali &eacute;s a bels&#245; konzol
	k&ouml;z&ouml;tt, l&aacute;sd <xref
	linkend="serialconsole-loader">.</para>

    </sect2>

    <sect2 id="serialconsole-summary">
      <title>&Ouml;sszefoglal&aacute;s</title>

      <para>Itt most r&ouml;viden &ouml;sszefoglaljuk az eddig
	t&aacute;rgyalt k&uuml;l&ouml;nb&ouml;z&#245;
	be&aacute;ll&iacute;t&aacute;sokat &eacute;s t&eacute;nylegesen
	kiv&aacute;lasztott konzolt.</para>

      <sect3>
	<title>1.  eset: a <devicename>sio0</devicename>
	  eszk&ouml;zn&eacute;l a 0x10 be&aacute;ll&iacute;t&aacute;st
	  adjuk meg</title>

	<programlisting>device sio0 at isa? port IO_COM1 flags 0x10 irq 4</programlisting>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry align="left">A /boot.config
		  be&aacute;ll&iacute;t&aacute;sai</entry>
		<entry align="left">Konzol a
		  rendszerind&iacute;t&oacute; blokk alatt</entry>
		<entry align="left">Konzol a rendszert&ouml;lt&#245;
		  alatt</entry>
		<entry align="left">Konzol a rendszermagban</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>nincsenek</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
	      </row>

	      <row>
		<entry><option>-h</option></entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-D</option></entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
	      </row>

	      <row>
		<entry><option>-Dh</option></entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, van
		  billenty&#251;zet</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, nincs
		  billenty&#251;zet</entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>

      <sect3>
	<title>2.  eset: a <devicename>sio0</devicename>
	  eszk&ouml;zn&eacute;l 0x30
	  be&aacute;ll&iacute;t&aacute;sa</title>

	<programlisting>device sio0 at isa? port IO_COM1 flags 0x30 irq 4</programlisting>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry align="left">A /boot.config
		  be&aacute;ll&iacute;t&aacute;sai</entry>
		<entry align="left">Konzol a
		  rendszerind&iacute;t&oacute; blokk alatt</entry>
		<entry align="left">Konzol a rendszert&ouml;lt&#245;
		  alatt</entry>
		<entry align="left">Konzol a rendszermagban</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>nincsenek</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-h</option></entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-D</option></entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-Dh</option></entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, van
		  billenty&#251;zet</entry>
		<entry>bels&#245;</entry>
		<entry>bels&#245;</entry>
		<entry>soros vonali</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, nincs
		  billenty&#251;zet</entry>
		<entry>soros vonali &eacute;s bels&#245;</entry>
		<entry>soros vonali</entry>
		<entry>soros vonali</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

      </sect3>
    </sect2>

    <sect2 id="serialconsole-tips">
      <title>Tan&aacute;csok a soros vonali konzol
	haszn&aacute;lat&aacute;hoz</title>

      <sect3>
	<title>Nagyobb soros vonali sebess&eacute;g
	  be&aacute;ll&iacute;t&aacute;sa</title>

	<para>A soros port alap&eacute;rtelmez&eacute;sei a
	  k&ouml;vetkez&#245;k: 9600&nbsp;baud, 8&nbsp;bites
	  &aacute;tvitel, parit&aacute;s nincs &eacute;s 1 stopbit.  Ha
	  a konzol alapsebess&eacute;g&eacute;t meg akarjuk
	  v&aacute;ltoztatni, akkor ahhoz a k&ouml;vetkez&#245;ket kell
	  tenn&uuml;nk:</para>

	<itemizedlist>
	  <listitem>
	    <para>Ford&iacute;tsuk &uacute;jra a
	      rendszerind&iacute;t&oacute; blokkokat &uacute;gy, hogy a
	      <makevar>BOOT_COMCONSOLE_SPEED</makevar>
	      v&aacute;ltoz&oacute;ban a konzolnak egy m&aacute;sik
	      sebess&eacute;get adunk meg.  Az &uacute;j
	      rendszerind&iacute;t&oacute; blokkok
	      ford&iacute;t&aacute;s&aacute;r&oacute;l &eacute;s
	      telep&iacute;t&eacute;s&eacute;r&#245;l a <xref
	      linkend="serialconsole-com2">ban kapunk r&eacute;szletes
	      le&iacute;r&aacute;st.</para>

	    <para>Ha a soros vonali konzolt nem a <option>-h</option>
	      opci&oacute;val &aacute;ll&iacute;tottuk be, vagy ha a
	      rendszermag a rendszerind&iacute;t&oacute;
	      blokkokt&oacute;l elt&eacute;r&#245; m&oacute;don
	      &eacute;ri el a soros vonali konzolt, akkor a rendszermag
	      be&aacute;ll&iacute;t&aacute;sai k&ouml;z&eacute;
	      m&eacute;g az al&aacute;bbit is fel kell venn&uuml;nk,
	      majd &uacute;jra kell ford&iacute;tanunk:</para>

	    <programlisting>options CONSPEED=19200</programlisting>
	  </listitem>

	  <listitem>
	    <para>A rendszermagnak adjuk &aacute;t a <option>-S</option>
	      rendszerind&iacute;t&aacute;si param&eacute;tert.  A
	      <option>-S</option> parancssori opci&oacute; a
	      <filename>/boot.config</filename>
	      &aacute;llom&aacute;nyban is megadhat&oacute;.  A
	      &man.boot.8; man oldalon tudhatjuk meg, hogy a
	      <filename>/boot.config</filename>
	      be&aacute;ll&iacute;t&aacute;sai k&ouml;z&eacute; hogyan
	      tudjuk felvenni &eacute;s ott milyen tov&aacute;bbi
	      lehet&#245;s&eacute;geink vannak m&eacute;g.</para>
	  </listitem>

	  <listitem>
	    <para>A <filename>/boot/loader.conf</filename>
	      &aacute;llom&aacute;nyban enged&eacute;lyezz&uuml;k a
	      <varname>comconsole_speed</varname>
	      be&aacute;ll&iacute;t&aacute;st.</para>

	    <para>Ez a be&aacute;ll&iacute;t&aacute;s a szint&eacute;n a
	      <filename>/boot/loader.conf</filename>
	      &aacute;llom&aacute;nyban megadhat&oacute;
	      <varname>console</varname>, <varname>boot_serial</varname>
	      &eacute;s <varname>boot_multicons</varname>
	      v&aacute;ltoz&oacute;kt&oacute;l f&uuml;gg.  A soros
	      vonali konzol sebess&eacute;g&eacute;t teh&aacute;t
	      p&eacute;ld&aacute;ul &iacute;gy tudjuk
	      megv&aacute;ltoztatni a
	      <varname>comconsole_speed</varname>
	      megad&aacute;s&aacute;val:</para>

	    <programlisting>boot_multicons="YES"
boot_serial="YES"
comconsole_speed="115200"
console="comconsole,vidconsole"</programlisting>
	  </listitem>
	</itemizedlist>

      </sect3>

      <sect3 id="serialconsole-com2">
	<title>Soros vonali konzol a <devicename>sio0</devicename>
	  porton k&iacute;v&uuml;l m&aacute;shol</title>

	<para>Ha valamilyen okb&oacute;l kifoly&oacute;lag nem a
	  <devicename>sio0</devicename> porton kereszt&uuml;l akarjuk
	  haszn&aacute;lni a konzolt, akkor ahhoz a
	  rendszerind&iacute;t&oacute; blokkok, a
	  rendszert&ouml;lt&#245; &eacute;s a rendszermag
	  forr&aacute;sait &uacute;jra kell ford&iacute;tanunk az
	  al&aacute;bbiak szerint:</para>

	<procedure>
	  <step>
	    <para>Szerezz&uuml;k be a rendszermag
	      forr&aacute;s&aacute;t.  (L&aacute;sd <xref
	      linkend="updating-upgrading">)</para>
	  </step>

	  <step>
	    <para>&Iacute;rjuk &aacute;t a
	      <filename>/etc/make.conf</filename>
	      &aacute;llom&aacute;nyban a
	      <literal>BOOT_COMCONSOLE_PORT</literal>
	      c&iacute;m&eacute;t az &aacute;ltalunk haszn&aacute;lt
	      porthoz tartoz&oacute;&eacute;ra (0x3F8, 0x2F8, 0x3E8 vagy
	      0x2E8).  Itt csak a <devicename>sio0</devicename>
	      &eacute;s <devicename>sio3</devicename>
	      (<devicename>COM1</devicename> &eacute;s
	      <devicename>COM4</devicename>) k&ouml;zti portok
	      haszn&aacute;lhat&oacute;ak &mdash; a t&ouml;bportos soros
	      k&aacute;rty&aacute;k c&iacute;mei nem adhat&oacute;ak
	      meg.  A megszak&iacute;t&aacute;sokat nem kell
	      be&aacute;ll&iacute;tanunk.</para>
	  </step>

	  <step>
	    <para>K&eacute;sz&iacute;ts&uuml;nk egy saj&aacute;t
	      rendszermag be&aacute;ll&iacute;t&aacute;sait
	      tartalmaz&oacute; &aacute;llom&aacute;nyt, &eacute;s
	      vegy&uuml;k fel bele a haszn&aacute;lni
	      k&iacute;v&aacute;nt soros port megfelel&#245;
	      param&eacute;tereit.  P&eacute;ld&aacute;ul, ha a
	      <devicename>sio1</devicename>
	      (<devicename>COM2</devicename>) eszk&ouml;zt akarjuk
	      konzolk&eacute;nt haszn&aacute;lni:</para>

	    <programlisting>device sio1 at isa? port IO_COM2 flags 0x10 irq 3</programlisting>

	    <para>vagy</para>

	    <programlisting>device sio1 at isa? port IO_COM2 flags 0x30 irq 3</programlisting>

	    <para>A konzolra vonatkoz&oacute;
	      be&aacute;ll&iacute;t&aacute;sokat a t&ouml;bbi soros
	      portn&aacute;l ne adjuk meg.</para>
	  </step>

	  <step>
	    <para>Ford&iacute;tsuk &uacute;jra &eacute;s
	      telep&iacute;ts&uuml;k a rendszerind&iacute;t&oacute;
	      blokkot &eacute;s a rendszert&ouml;lt&#245;t:</para>

	    <screen>&prompt.root; <userinput>cd /sys/boot</userinput>
&prompt.root; <userinput>make clean</userinput>
&prompt.root; <userinput>make</userinput>
&prompt.root; <userinput>make install</userinput></screen>
	  </step>

	  <step>
	    <para>Ford&iacute;tsuk &eacute;s telep&iacute;ts&uuml;k
	      &uacute;jra a rendszermagot.</para>
	  </step>

	  <step>
	    <para>A &man.bsdlabel.8; seg&iacute;ts&eacute;g&eacute;vel
	      m&aacute;soljuk az &uacute;j rendszerind&iacute;t&oacute;
	      blokkot a rendszer ind&iacute;t&aacute;s&aacute;t
	      v&eacute;gz&#245; lemezre &eacute;s t&ouml;lts&uuml;k be
	      az &uacute;j rendszermagot.</para>
	  </step>
	</procedure>
      </sect3>

      <sect3 id="serialconsole-ddb">
	<title>A DDB el&eacute;r&eacute;se a soros
	  vonalr&oacute;l</title>

	<para>Ha a soros vonali konzolr&oacute;l akarjuk
	  haszn&aacute;lni a rendszermagba &eacute;p&iacute;tett
	  nyomk&ouml;vet&#245;t (ami hasznos lehet t&aacute;voli
	  vizsg&aacute;l&oacute;d&aacute;skor, de egyben
	  vesz&eacute;lyes is, ha a soros porton t&eacute;vesen
	  kik&uuml;ld&uuml;nk egy BREAK jelz&eacute;st!), akkor a
	  rendszermagot a k&ouml;vetkez&#245;
	  be&aacute;ll&iacute;t&aacute;sokkal kell
	  ford&iacute;tanunk:</para>

	<programlisting>options BREAK_TO_DEBUGGER
options DDB</programlisting>

      </sect3>

      <sect3>
	<title>A bejelentkez&#245; k&eacute;perny&#245;
	  el&eacute;r&eacute;se a soros vonali konzolr&oacute;l</title>

	<para>Hab&aacute;r erre nincs felt&eacute;tlen&uuml;l
	  sz&uuml;ks&eacute;g&uuml;nk, a rendszer &uuml;zeneteinek
	  &eacute;s a rendszermag nyomk&ouml;vet&#245;j&eacute;nek
	  el&eacute;r&eacute;se ut&aacute;n ak&aacute;r <emphasis>be is
	  tudunk jelentkezni</emphasis> a soros vonalon kereszt&uuml;l.
	  &Iacute;me!</para>

	<para>Nyissuk meg az <filename>/etc/ttys</filename>
	  &aacute;llom&aacute;nyt a kedvenc
	  sz&ouml;vegszerkeszt&#245;nkkel &eacute;s keress&uuml;k meg a
	  k&ouml;vetkez&#245; sorokat:</para>

      <programlisting>ttyd0 "/usr/libexec/getty std.9600" unknown off secure
ttyd1 "/usr/libexec/getty std.9600" unknown off secure
ttyd2 "/usr/libexec/getty std.9600" unknown off secure
ttyd3 "/usr/libexec/getty std.9600" unknown off secure</programlisting>

	<para>A <devicename>ttyd0</devicename> &eacute;s
	  <devicename>ttyd3</devicename> k&ouml;zti sorok pontosan a
	  <devicename>COM1</devicename> &eacute;s
	  <devicename>COM4</devicename> k&ouml;zti portoknak felelnek
	  meg.  A haszn&aacute;lni k&iacute;v&aacute;nt port
	  sor&aacute;ban szerepl&#245; <literal>off</literal>
	  param&eacute;tert &iacute;rjuk &aacute;t az
	  <literal>on</literal> &eacute;rt&eacute;kre.  Ha a soros port
	  sebess&eacute;g&eacute;t is megv&aacute;ltoztattuk, minden
	  bizonnyal a <literal>std.9600</literal> helyett is az adott
	  sebess&eacute;ghez illeszked&#245; param&eacute;tert kell
	  megadnunk, p&eacute;ld&aacute;ul az
	  <literal>std.19200</literal> &eacute;rt&eacute;kkel.</para>

	<para>&Eacute;rdemes tov&aacute;bb&aacute; m&eacute;g az
	  <literal>unknown</literal> helyett megadni az adott
	  termin&aacute;l t&iacute;pus&aacute;t.</para>

	<para>Az &aacute;llom&aacute;ny
	  m&oacute;dos&iacute;t&aacute;s&aacute;t k&ouml;vet&#245;en a
	  v&aacute;ltozat&aacute;sok
	  &eacute;rv&eacute;nyes&iacute;t&eacute;s&eacute;hez ki kell
	  adnunk a <command>kill -HUP 1</command> parancsot is.</para>

      </sect3>
    </sect2>

    <sect2 id="serialconsole-loader">
      <title>A konzol megv&aacute;ltoztat&aacute;sa a
	rendszert&ouml;lt&#245;b&#245;l</title>

      <para>A kor&aacute;bbi szakaszokban arr&oacute;l
	besz&eacute;lt&uuml;nk, hogy mik&eacute;nt
	&aacute;ll&iacute;tsuk be a soros vonali konzolt a
	rendszerind&iacute;t&oacute; blokk
	megpiszk&aacute;l&aacute;s&aacute;val.  Ebben a szakaszban
	viszont azt mutatjuk meg, hogy k&uuml;l&ouml;nb&ouml;z&#245;
	parancsokon &eacute;s k&ouml;rnyezeti v&aacute;ltoz&oacute;kon
	kereszt&uuml;l mik&eacute;nt tudjuk megadni a konzolt a
	rendszert&ouml;lt&#245;ben.  Mivel a rendszert&ouml;lt&#245;re a
	rendszerind&iacute;t&aacute;s harmadik fokozat&aacute;ban
	ker&uuml;l sor, az ott megadott &eacute;rt&eacute;kekkel
	fel&uuml;l tudjuk b&iacute;r&aacute;lni a
	rendszerind&iacute;t&oacute; blokk
	be&aacute;ll&iacute;t&aacute;sait.</para>

      <sect3>
	<title>A soros vonali konzol
	  be&aacute;ll&iacute;t&aacute;sa</title>

	<para>A rendszert&ouml;lt&#245; &eacute;s a rendszermag az
	  <filename>/boot/loader.conf</filename>
	  &aacute;llom&aacute;nyon kereszt&uuml;l el&eacute;g
	  k&ouml;nnyen r&aacute;vehet&#245; a soros vonali konzol
	  haszn&aacute;lat&aacute;ra:</para>

	<programlisting>set console="comconsole"</programlisting>

	<para>Ez a rendszerind&iacute;t&oacute; blokk el&#245;z&#245;
	  szakaszban t&aacute;rgyalt
	  be&aacute;ll&iacute;t&aacute;sait&oacute;l
	  f&uuml;ggetlen&uuml;l &eacute;rv&eacute;nyes&uuml;l.</para>

	<para>A fenti sort a <filename>/boot/loader.conf</filename>
	  &aacute;llom&aacute;ny elej&eacute;re &eacute;rdemes
	  tenn&uuml;nk, &iacute;gy a soros vonali konzolon m&aacute;r a
	  lehet&#245; leghamarabb megjelennek a rendszer
	  &uuml;zenetei.</para>

	<para>Ehhez hasonl&oacute; m&oacute;don a bels&#245; konzolt is
	  megadhatjuk:</para>

	<programlisting>set console="vidconsole"</programlisting>

	<para>Ha a rendszert&ouml;lt&#245;ben nem adjuk meg a
	  <envar>console</envar> k&ouml;rnyezeti v&aacute;ltoz&oacute;
	  &eacute;rt&eacute;k&eacute;t, akkor a rendszert&ouml;lt&#245;,
	  &eacute;s &iacute;gy a rendszermag is, a
	  rendszerind&iacute;t&oacute; blokkban a <option>-h</option>
	  opci&oacute; &aacute;ltal meghat&aacute;rozott konzolt fogja
	  haszn&aacute;lni.</para>

	<para>A konzol a <filename>/boot/loader.conf.local</filename>
	  vagy a <filename>/boot/loader.conf</filename>
	  &aacute;llom&aacute;nyokban adhat&oacute; meg.</para>

	<para>A r&eacute;szletekkel kapcsolatban l&aacute;sd a
	  &man.loader.conf.5; man oldalt.</para>

	<note>
	  <para>Jelen pillanatban a rendszert&ouml;lt&#245;nek nincs a
	    <option>-P</option> param&eacute;terrel ekvivalens
	    &eacute;rt&eacute;k&#251; be&aacute;ll&iacute;t&aacute;sa,
	    ez&eacute;rt a billenty&#251;zet jelenl&eacute;te
	    alapj&aacute;n nem k&eacute;pes mag&aacute;t&oacute;l
	    v&aacute;lasztani a bels&#245; &eacute;s a soros vonali
	    konzol k&ouml;z&ouml;tt.</para>
	</note>

      </sect3>

      <sect3>
	<title>Soros vonali konzol a <devicename>sio0</devicename>
	  porton k&iacute;v&uuml;l m&aacute;shol</title>

	<para>A rendszert&ouml;lt&#245;t ne a
	  <devicename>sio0</devicename> eszk&ouml;zzel ford&iacute;tsuk
	  &uacute;jra a soros vonali konzolhoz.  Ehhez
	  k&ouml;vess&uuml;k a <xref linkend="serialconsole-com2">ban
	  le&iacute;rt elj&aacute;r&aacute;s
	  l&eacute;p&eacute;seit.</para>

      </sect3>
    </sect2>

    <sect2 id="serialconsole-caveats">
      <title>Figyelmeztet&eacute;sek</title>

      <para>A szakaszban szerepl&#245; &ouml;tletek alapj&aacute;n sokan
	&iacute;gy most m&aacute;r k&ouml;nnyen be tudnak
	&aacute;ll&iacute;tani egy billenty&#251;zet &eacute;s grafikus
	hardver n&eacute;lk&uuml;li dedik&aacute;lt szervert.  Sajnos
	azonban a legt&ouml;bb rendszer nem engedi a billenty&#251;zet
	n&eacute;lk&uuml;li ind&iacute;t&aacute;st, &eacute;s akad
	n&eacute;h&aacute;ny olyan is, amely pedig a grafikus
	k&aacute;rtya hi&aacute;ny&aacute;ban nem is indul el.  Az AMI
	BIOS-os g&eacute;pekn&eacute;l a grafikus k&aacute;rtya
	n&eacute;lk&uuml;li ind&iacute;t&aacute;shoz elegend&#245;
	csup&aacute;n a be&aacute;ll&iacute;t&aacute;sok
	k&ouml;z&ouml;tt a grafikus k&aacute;rty&aacute;t
	(<quote>graphics adapter</quote>) <quote>Not installed</quote>
	(nem telep&iacute;tett) &aacute;llapot&uacute;ra
	&aacute;ll&iacute;tani.  Ha ilyen opci&oacute; nem
	tal&aacute;lhat&oacute; a BIOS-ban, akkor helyette keress&uuml;k
	a <quote>Halt on Error</quote> (le&aacute;ll&aacute;s hiba
	eset&eacute;n) v&aacute;ltozatot.  Ha ezt a <quote>All but
	Keyboard</quote> (a billenty&#251;zet kiv&eacute;tel&eacute;vel
	minden) vagy ak&aacute;r a <quote>No Error</quote> (soha)
	&eacute;rt&eacute;kre &aacute;ll&iacute;tjuk, az el&#245;bbi
	eredm&eacute;nyt kapjuk.</para>

      <para>Ennek ellen&eacute;re el&#245;fordulhat azonban, hogy egyes
	g&eacute;peken egy&aacute;ltal&aacute;n nem tal&aacute;lunk
	ilyen lehet&#245;s&eacute;get &eacute;s videok&aacute;rtya
	n&eacute;lk&uuml;l nem indulnak el.  Ezekben az esetekben
	tegy&uuml;nk a g&eacute;pbe valamilyen k&aacute;rty&aacute;t
	(ehhez el&eacute;g egy egyszer&#251; t&iacute;pus is), de
	monitort m&aacute;r ne k&ouml;ss&uuml;nk r&aacute;.  Esetleg
	megpr&oacute;b&aacute;lkozhatunk m&eacute;g AMI BIOS
	telep&iacute;t&eacute;s&eacute;vel is.</para>

    </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->

