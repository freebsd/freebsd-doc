<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->
<!--
     The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/virtualization/chapter.sgml
     %SRCID%	1.25
-->

<chapter id="virtualization" lang="hu">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Murray</firstname>
	<surname>Stokely</surname>
	<contrib>&Iacute;rta: </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Virtualiz&aacute;ci&oacute;</title>

  <sect1 id="virtualization-synopsis">
    <title>&Aacute;ttekint&eacute;s</title>

    <para>A virtualiz&aacute;ci&oacute;s szoftverek lehet&#245;v&eacute;
      teszik, hogy ugyanazon a sz&aacute;m&iacute;t&oacute;g&eacute;pen
      egyszerre t&ouml;bb oper&aacute;ci&oacute;s rendszert is
      futassunk.  Ezeknek a programcsomagoknak gyakorta
      r&eacute;sz&uuml;k egy gazda oper&aacute;ci&oacute;s rendszer is,
      amely a virtualiz&aacute;ci&oacute;s szoftvert futattja &eacute;s
      ismer bizonyos vend&eacute;g oper&aacute;ci&oacute;s rendszereket.

    <para>A fejezet elolvas&aacute;sa sor&aacute;n
      megismerj&uuml;k:</para>

    <itemizedlist>
      <listitem>
	<para>a gazda- &eacute;s a vend&eacute;g oper&aacute;ci&oacute;s
	  rendszerek k&ouml;zti k&uuml;l&ouml;nbs&eacute;geket;</para>
      </listitem>

      <listitem>
	<para>hogyan telep&iacute;ts&uuml;nk &os;-t egy
	  &intel;-alap&uacute; &apple; &macintosh;
	  sz&aacute;m&iacute;t&oacute;g&eacute;pre;</para>
      </listitem>

<!--
      <listitem>
	<para>hogyan telep&iacute;ts&uuml;nk a
	  <application>&xen;</application> haszn&aacute;lat&aacute;val
	  &os;-t &linux;-ra;</para>
      </listitem>
-->

      <listitem>
	<para>hogyan telep&iacute;ts&uuml;nk a <application>Virtual
	  PC</application> haszn&aacute;lat&aacute;val &os;-t
	  &microsoft.windows;-ra;</para>
      </listitem>

      <listitem>
	<para>hogyan hozzuk ki a legt&ouml;bbet &os;
	  rendszer&uuml;nkb&#245;l virtualiz&aacute;ci&oacute;
	  alatt.</para>
      </listitem>

    </itemizedlist>

    <para>A fejezet elolvas&aacute;s&aacute;hoz aj&aacute;nlott:</para>

    <itemizedlist>
      <listitem>
	<para>alapvet&#245; &unix;-os &eacute;s &os;-s ismeretek (<xref
	  linkend="basics">);</para>
      </listitem>

      <listitem>
	<para>a &os; telep&iacute;t&eacute;s&eacute;nek ismerete (<xref
	  linkend="install">);</para>
      </listitem>

      <listitem>
	<para>a h&aacute;l&oacute;zati kapcsolatok
	  be&aacute;ll&iacute;t&aacute;s&aacute;nak ismerete (<xref
	  linkend="advanced-networking">);</para>
      </listitem>

      <listitem>
	<para>k&uuml;ls&#245;s alkalmaz&aacute;sok
	  telep&iacute;t&eacute;s&eacute;nek ismerete (<xref
	  linkend="ports">).</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="virtualization-guest">
    <title>A &os; mint vend&eacute;g</title>

    <sect2 id="virtualization-guest-parallels">
      <title>Parallelsszel &macos;-en</title>

      <para>A <application>Parallels Desktop</application> a
	&macos;&nbsp;10.4.6, vagy afeletti verzi&oacute;j&aacute;t
	futatt&oacute;, &intel;-alap&uacute; &apple; &mac;
	szem&eacute;lyi sz&aacute;m&iacute;t&oacute;g&eacute;pekre
	fejlesztett kereskedelmi alkalmaz&aacute;s.  A &os;-t teljes
	m&eacute;rt&eacute;kben t&aacute;mogatja
	vend&eacute;gk&eacute;nt.  Miut&aacute;n
	telep&iacute;tett&uuml;k a
	<application>Parallels</application>-t a &macos;&nbsp;X-re, be
	kell &aacute;ll&iacute;tanunk egy virtu&aacute;lis g&eacute;pet,
	majd erre felraknunk a k&iacute;v&aacute;nt vend&eacute;g
	oper&aacute;ci&oacute;s rendszert.</para>

	<sect3 id="virtualization-guest-parallels-install">
	  <title>A &os; telep&iacute;t&eacute;se
	    &macos;&nbsp;X/Parallelsre</title>

	  <para>A &os;
	    &macos;&nbsp;X/<application>Parallels</application>
	    p&aacute;rosra telep&iacute;t&eacute;s&eacute;hez els&#245;
	    l&eacute;p&eacute;sk&eacute;nt
	    k&eacute;sz&iacute;ten&uuml;nk kell egy &uacute;j
	    virtu&aacute;lis sz&aacute;m&iacute;t&oacute;g&eacute;pet.
	    A l&eacute;trehoz&aacute;s sor&aacute;n v&aacute;lasszuk a
	    <guimenu>Guest OS Type</guimenu>-nak (a vend&eacute;g
	    oper&aacute;ci&oacute;s rendszer t&iacute;pus&aacute;nak) a
	    <guimenuitem>&os;</guimenuitem>-t:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd1">
	    </imageobject>
	  </mediaobject>

	  <para>Ezut&aacute;n adjunk meg egy nagyj&aacute;b&oacute;l
	    elfogadhat&oacute; m&eacute;retet a virtu&aacute;lis
	    merevlemez&uuml;nknek, valamint annyi
	    mem&oacute;ri&aacute;t, amennyire
	    sz&uuml;ks&eacute;g&uuml;nk lehet a virtu&aacute;lis &os;-nk
	    haszn&aacute;lata sor&aacute;n.  Egy 4&nbsp;GB-os lemez
	    &eacute;s 512&nbsp;MB rendszermem&oacute;ria a legt&ouml;bb
	    esetben j&oacute; v&aacute;laszt&aacute;snak bizonyulhat a
	    &os; <application>Parallels</application> alatti
	    haszn&aacute;lata sor&aacute;n:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd2">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd3">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd4">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd5">
	    </imageobject>
	  </mediaobject>

	  <para>V&aacute;lasszuk ki a
	    h&aacute;l&oacute;zatkezel&eacute;s t&iacute;pus&aacute;t
	    &eacute;s a h&aacute;l&oacute;zati csatol&oacute;t.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd6">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd7">
	    </imageobject>
	  </mediaobject>

	  <para>Ments&uuml;k el &eacute;s fejezz&uuml;k be a
	    konfigur&aacute;l&aacute;st.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd8">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd9">
	    </imageobject>
	  </mediaobject>

	  <para>Miut&aacute;n a &os;-s virtu&aacute;lis
	    g&eacute;p&uuml;nk elk&eacute;sz&uuml;lt,
	    telep&iacute;ten&uuml;nk kell r&aacute; mag&aacute;t az
	    oper&aacute;ci&oacute;s rendszert is.  Ezt a
	    legegyszer&#251;bben a hivatalosan &os; telep&iacute;t&#245;
	    CD-r&#245;l, vagy a hivatalos FTP oldalr&oacute;l
	    let&ouml;lthet&#245; CD-k&eacute;ppel tehetj&uuml;k meg.  Ha
	    lem&aacute;soltuk a megfelel&#245; CD-k&eacute;pet a &mac;
	    helyi &aacute;llom&aacute;nyrendszer&eacute;re, vagy
	    behelyezt&uuml;k a telep&iacute;t&#245; CD-t a
	    CD-meghajt&oacute;ba, kattintsunk a &os;-s
	    <application>Parallels</application> ablakunk jobb
	    als&oacute; sark&aacute;ban tal&aacute;lhat&oacute; lemez
	    ikonj&aacute;ra.  Ekkor felj&ouml;n egy
	    p&aacute;rbesz&eacute;dablak, ahol
	    &ouml;sszerendelhetj&uuml;k a virtu&aacute;lis
	    g&eacute;p&uuml;nk CD-meghajt&oacute;j&aacute;t egy lemezen
	    tal&aacute;lhat&oacute; k&eacute;ppel, vagy &eacute;ppen a
	    val&oacute;di CD-meghajt&oacute;nkkal.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd11">
	    </imageobject>
	  </mediaobject>

	  <para>Ahogy megtett&uuml;k az im&eacute;nt eml&iacute;tett
	    &ouml;sszerendel&eacute;st, ind&iacute;tsuk is &uacute;jra a
	    &os;-s virtu&aacute;lis g&eacute;p&uuml;nket a megszokott
	    m&oacute;don, az &uacute;jraind&iacute;t&aacute;s
	    ikonj&aacute;ra kattintva.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd10">
	    </imageobject>
	  </mediaobject>

	  <para>Ekkor a rendszer megtal&aacute;lja a &os;
	    telep&iacute;t&#245;lemezt &eacute;s a
	    <application>sysinstall</application>
	    seg&iacute;ts&eacute;g&eacute;vel megkezdi a
	    telep&iacute;t&eacute;st a <xref linkend="install">ben
	    le&iacute;rtak szerint.  Ha sz&uuml;ks&eacute;g&uuml;nk van
	    r&aacute;, telep&iacute;thetj&uuml;k az X11-et is, de
	    egyel&#245;re m&eacute;g ne pr&oacute;b&aacute;ljuk
	    be&aacute;ll&iacute;tani.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd12">
	    </imageobject>
	  </mediaobject>

	  <para>A telep&iacute;t&eacute;s befejez&eacute;s&eacute;t
	    k&ouml;vet&#245;en ind&iacute;tsuk &uacute;jra a frissen
	    telep&iacute;tett &os;-s virtu&aacute;lis
	    g&eacute;p&uuml;nket.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd13">
	    </imageobject>
	  </mediaobject>
	</sect3>

	<sect3 id="virtualization-guest-parallels-configure">
	  <title>A &os; be&aacute;ll&iacute;t&aacute;sa
	    &macos;&nbsp;X/Parallelsen</title>

	  <para>Miut&aacute;n telep&iacute;tett&uuml;k a &os;-t
	    &macos;&nbsp;X/Parallels-re, m&eacute;g v&aacute;r
	    r&aacute;nk n&eacute;h&aacute;ny konfigur&aacute;ci&oacute;s
	    l&eacute;p&eacute;s a rendszer virtu&aacute;liz&aacute;lt
	    m&#251;k&ouml;d&eacute;s&eacute;nek
	    optimaliz&aacute;l&aacute;sa &eacute;rdek&eacute;ben.</para>

	  <procedure>
	    <step>
	      <title>A rendszerbet&ouml;lt&#245;
		v&aacute;ltoz&oacute;inak
		be&aacute;ll&iacute;t&aacute;sa</title>

	      <para>A legfontosabb l&eacute;p&eacute;s a
		<option>kern.hz</option> v&aacute;ltoz&oacute;
		&eacute;rt&eacute;k&eacute;nek cs&ouml;kkent&eacute;se,
		amivel &iacute;gy a &os;
		processzor-kihaszn&aacute;lts&aacute;g&aacute;t is
		cs&ouml;kkentj&uuml;k a
		<application>Parallels</application> alatt.  Ezt a
		k&ouml;vetkez&#245; sor hozzad&aacute;s&aacute;val
		tehetj&uuml;k meg a
		<filename>/boot/loader.conf</filename>
		&aacute;llom&aacute;nyban:</para>

		  <programlisting>kern.hz=100</programlisting>

	      <para>En&eacute;lk&uuml;l egy &uuml;resj&aacute;ratban
		lev&#245; &os;
		<application>Parallels</application>-vend&eacute;g az
		&imac; egy processzor&aacute;nak durv&aacute;n
		15%-&aacute;t foglalja le.  A v&aacute;ltoztat&aacute;s
		&eacute;letbe l&eacute;ptet&eacute;se ut&aacute;n
		azonban ez megk&ouml;zel&iacute;t&#245;en 5%-ra
		reduk&aacute;lhat&oacute;.</para>
	    </step>

	    <step>
	      <title>Egy &uacute;j konfigur&aacute;ci&oacute;s
		&aacute;llom&aacute;ny l&eacute;trehoz&aacute;sa a
		rendszermaghoz</title>

	      <para>Nyugodtan elt&aacute;vol&iacute;thatjuk az
		&ouml;sszes SCSI, FireWire &eacute;s USB
		eszk&ouml;zmeghajt&oacute;t.  A
		<application>Parallels</application> &aacute;ltal
		felk&iacute;n&aacute;lt virtu&aacute;lis
		h&aacute;l&oacute;zati csatol&oacute;t az &man.ed.4;
		meghajt&oacute;n kereszt&uuml;l tudjuk el&eacute;rni,
		ez&eacute;rt az &man.ed.4; &eacute;s &man.miibus.4;
		meghajt&oacute;kon k&iacute;v&uuml;l az &ouml;sszes
		t&ouml;bbi elhagyhat&oacute;.</para>

    </step>

	    <step>
	      <title>A h&aacute;l&oacute;zati kapcsolat
		be&aacute;ll&iacute;t&aacute;sa</title>

	      <para>Az alapvet&#245; h&aacute;l&oacute;zati
		be&aacute;ll&iacute;t&aacute;s a virtu&aacute;lis
		g&eacute;p&uuml;nk&ouml;n a DHCP
		aktiv&aacute;l&aacute;sa, aminek
		seg&iacute;ts&eacute;g&eacute;vel csatlakozni tudunk
		arra a helyi h&aacute;l&oacute;zatra, amelyen maga a
		gazda &mac; is megtal&aacute;lhat&oacute;.  Ezt az
		al&aacute;bbi sor felv&eacute;tel&eacute;vel tudjuk
		megoldani az <filename>/etc/rc.conf</filename>
		&aacute;llom&aacute;nyba:
		<literal>ifconfig_ed0="DHCP"</literal>.  B&#245;vebb
		inform&aacute;ci&oacute;k&eacute;rt j&aacute;ruljunk a
		<xref linkend="advanced-networking"> fejezethez.</para>
	    </step>
          </procedure>

      </sect3>
    </sect2>

<!--
    <sect2 id="virtualization-guest-xen">
      <sect2info>
	<authorgroup>
	  <author>
	    <firstname>Fukang</firstname>
	    <surname>Chen (Loader)</surname>
	    <contrib>&Iacute;rta: </contrib>
	  </author>
	</authorgroup>
      </sect2info>

      <title>&xen;nel &linux;-on</title>

      <para>A <application>&xen;</application> hipervisor egy
	ny&iacute;lt forr&aacute;sk&oacute;d&uacute;,
	paravirtualiz&aacute;ci&oacute;t ny&uacute;jt&oacute;
	term&eacute;k, amely m&ouml;g&ouml;tt mostanra m&aacute;r a
	XenSource kereskedelmi c&eacute;g &aacute;ll.  Itt a
	vend&eacute;g oper&aacute;ci&oacute;s rendszereket a domU
	tartom&aacute;nyk&eacute;nt azonos&iacute;tj&aacute;k,
	m&iacute;g a gazda oper&aacute;ci&oacute;s rendszer a dom0.  A
	&os; &linux; alatti virtu&aacute;lis futatt&aacute;s&aacute;hoz
	els&#245;k&eacute;nt telep&iacute;ten&uuml;nk kell a
	<application>&xen;</application>-t egy dom0-&aacute;s
	Linuxra.  A le&iacute;r&aacute;sban a gazda
	oper&aacute;ci&oacute;s rendszer a Slackware &linux;
	disztrib&uacute;ci&oacute; lesz.</para>

	<sect3 id="xen-slackware-dom0">
	  <title>A &xen; 3 be&aacute;ll&iacute;t&aacute;sa egy &linux;
	    dom0-&aacute;n</title>

	  <procedure>
	    <step>
	      <title>T&ouml;lts&uuml;k le a &xen; 3.0-&aacute;t a
		XenSource-t&oacute;l</title>

	      <para>T&ouml;lts&uuml;k le a <ulink
		url="http://bits.xensource.com/oss-xen/release/3.0.4-1/src.tgz/xen-3.0.4_1-src.tgz">xen-3.0.4_1-src.tgz</ulink>
		&aacute;llom&aacute;nyt a <ulink
		url="http://www.xensource.com/">XenSource
		oldal&aacute;r&oacute;l</ulink>.</para>

	    </step>

	    <step>
	      <title>Bontsuk ki a csomagot</title>

	      <screen>&prompt.root; <userinput>cd xen-3.0.4_1-src</userinput>
&prompt.root; <userinput>KERNELS="linux-2.6-xen0 linux-2.6-xenU" make world</userinput>
&prompt.root; <userinput>make install</userinput></screen>

	      <note>
		<para>A rendszermagot &iacute;gy tudjuk dom0
		  m&oacute;dban &uacute;jraford&iacute;tani:</para>

		<screen>&prompt.root; <userinput>cd xen-3.0.4_1-src/linux-2.6.16.33-xen0</userinput>
&prompt.root; <userinput>make menuconfig</userinput>
&prompt.root; <userinput>make</userinput>
&prompt.root; <userinput>make install</userinput></screen>

		<para>A <application>&xen;</application> r&eacute;gebbi
		  verzi&oacute;in&aacute;l elk&eacute;pzelhet&#245;,
		  hogy &iacute;gy kell megadni: <command>make ARCH=xen
		  menuconfig</command>.</para>
	      </note>
	    </step>

	    <step>
	      <title>Vegy&uuml;k fel a megfelel&#245; pontot a GRUB
		men&uuml;j&eacute;be</title>

	      <para>Nyissuk meg a
		<filename>/boot/grub/menu.lst</filename>
		&aacute;llom&aacute;nyt &eacute;s &iacute;rjuk be a
		k&ouml;vetkez&#245; sort:</para>

	      <programlisting>title Xen-3.0.4
root (hd0,0)
kernel /boot/xen-3.0.4-1.gz dom0_mem=262144
module /boot/vmlinuz-2.6.16.33-xen0 root=/dev/hda1 ro</programlisting>
	    </step>

	    <step>
	      <title>Ind&iacute;tsuk &uacute;jra a g&eacute;pet
		&eacute;s aktiv&aacute;ljuk a &xen;t</title>

	      <para>El&#245;sz&ouml;r nyissuk meg az
		<filename>/etc/xen/xend-config.sxp</filename>
		&aacute;llom&aacute;nyt, majd adjuk hozz&aacute; a
		k&ouml;vetkez&#245; sort:</para>

	      <programlisting>(network-script 'network-bridge netdev=eth0')</programlisting>

	      <para>Ezut&aacute;n el is ind&iacute;thatjuk a
		<application>&xen;</application>t:</para>

	      <screen>&prompt.root; <userinput>/etc/init.d/xend start</userinput>
&prompt.root; <userinput>/etc/init.d/xendomains start</userinput></screen>

	      <para>L&aacute;thatjuk, hogy a dom0 tartom&aacute;ny most
		m&aacute;r akt&iacute;v:</para>

	      <screen>&prompt.root; <userinput>xm list</userinput>
Name                                      ID   Mem VCPUs      State   Time(s)
Domain-0                                   0   256     1     r&ndash;&ndash;&ndash;&ndash;&ndash;  54452.9</screen>
	    </step>
	  </procedure>
	</sect3>

	<sect3>
	  <title>A &os;&nbsp;7-CURRENT mint domU</title>

	  <para>T&ouml;lts&uuml;k le a &os;
	  <application>&xen;&nbsp;3.0</application>-&aacute;s domU
	    rendszermagj&aacute;t &eacute;s a hozz&aacute; tartoz&oacute;
	    lemezk&eacute;pet a <ulink
	    url="http://www.fsmware.com/">http://www.fsmware.com/</ulink>
	    c&iacute;mr&#245;l:</para>

      <itemizedlist>
	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/kernel-current">kernel-current</ulink></para>
	</listitem>

	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/mdroot-7.0.bz2">mdroot-7.0.bz2</ulink></para>
	</listitem>

	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/config/xmexample1.bsd">xmexample1.bsd</ulink></para>
	</listitem>
      </itemizedlist>

      <para>Tegy&uuml;k a <filename>xmexample1.bsd</filename>
	konfigur&aacute;ci&oacute;s &aacute;llom&aacute;nyt a
	<filename>/etc/xen/</filename> k&ouml;nyvt&aacute;rba &eacute;s
	&iacute;rjuk &aacute;t a relev&aacute;ns bejegyz&eacute;seket a
	rendszermag &eacute;s a lemezk&eacute;p el&eacute;r&eacute;si
	&uacute;tj&aacute;nak megfelel&#245;en.  Valahogy &iacute;gy
	kellene kin&eacute;zni az eredm&eacute;nynek:</para>

      <programlisting>kernel = "/opt/kernel-current"
memory = 256
name = "freebsd"
vif = [ '' ]
disk = [ 'file:/opt/mdroot-7.0,hda1,w' ]
#on_crash    = 'preserve'
extra = "boot_verbose"
extra += ",boot_single"
extra += ",kern.hz=100"
extra += ",vfs.root.mountfrom=ufs:/dev/xbd769a"</programlisting>

      <para>Az <filename>mdroot-7.0.bz2</filename>
	&aacute;llom&aacute;nyt ki kell
	t&ouml;m&ouml;r&iacute;teni!</para>

      <para>Ezut&aacute;n a <filename>kernel-current</filename>
	&aacute;llom&aacute;nyban tal&aacute;lhat&oacute; __xen_guest
	r&eacute;szt &aacute;t kell &iacute;rni &uacute;gy, hogy
	hozz&aacute;adjuk a <application>&xen; 3.0.3</application>
	sz&aacute;m&aacute;ra fontos VIRT_BASE
	&eacute;rt&eacute;ket:</para>

      <screen>&prompt.root; <userinput>objcopy kernel-current -R __xen_guest</userinput>
&prompt.root; <userinput>perl -e 'print "LOADER=generic,GUEST_OS=freebsd,GUEST_VER=7.0,XEN_VER=xen-3.0,BSD_SYMTAB,VIRT_BASE=0xC0000000\x00"' &gt; tmp</userinput>
&prompt.root; <userinput>objcopy kernel-current &ndash;&ndash;add-section __xen_guest=tmp</userinput></screen>

      <screen>&prompt.root; <userinput>objdump -j __xen_guest -s kernel-current</userinput>

kernel-current:     file format elf32-i386

Contents of section __xen_guest:
 0000 4c4f4144 45523d67 656e6572 69632c47  LOADER=generic,G
 0010 55455354 5f4f533d 66726565 6273642c  UEST_OS=freebsd,
 0020 47554553 545f5645 523d372e 302c5845  GUEST_VER=7.0,XE
 0030 4e5f5645 523d7865 6e2d332e 302c4253  N_VER=xen-3.0,BS
 0040 445f5359 4d544142 2c564952 545f4241  D_SYMTAB,VIRT_BA
 0050 53453d30 78433030 30303030 3000      SE=0xC0000000. </screen>

      <para>Most m&aacute;r k&eacute;szen &aacute;llunk a domU
	l&eacute;trehoz&aacute;s&aacute;ra &eacute;s
	beind&iacute;t&aacute;s&aacute;ra:</para>

      <screen>&prompt.root; <userinput>xm create /etc/xen/xmexample1.bsd -c</userinput>
Using config file "/etc/xen/xmexample1.bsd".
Started domain freebsd
WARNING: loader(8) metadata is missing!
Copyright (c) 1992-2006 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
The Regents of the University of California. All rights reserved.
FreeBSD 7.0-CURRENT #113: Wed Jan  4 06:25:43 UTC 2006
    kmacy@freebsd7.gateway.2wire.net:/usr/home/kmacy/p4/freebsd7_xen3/src/sys/i386-xen/compile/XENCONF
WARNING: DIAGNOSTIC option enabled, expect reduced performance.
Xen reported: 1796.927 MHz processor.
Timecounter "ixen" frequency 1796927000 Hz quality 0
CPU: Intel(R) Pentium(R) 4 CPU 1.80GHz (1796.93-MHz 686-class CPU)
  Origin = "GenuineIntel"  Id = 0xf29  Stepping = 9
  Features=0xbfebfbff&lt;FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CLFLUSH,
  DTS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE&gt;
  Features2=0x4400&lt;CNTX-ID,&lt;b14&gt;&gt;
real memory  = 265244672 (252 MB)
avail memory = 255963136 (244 MB)
xc0: &lt;Xen Console&gt; on motherboard
cpu0 on motherboard
Timecounters tick every 10.000 msec
[XEN] Initialising virtual ethernet driver.
xn0: Ethernet address: 00:16:3e:6b:de:3a
[XEN] 
Trying to mount root from ufs:/dev/xbd769a
WARNING: / was not properly dismounted
Loading configuration files.
No suitable dump device was found.
Entropy harvesting: interrupts ethernet point_to_point kickstart.
Starting file system checks:
/dev/xbd769a: 18859 files, 140370 used, 113473 free (10769 frags, 12838 blocks, 4.2% fragmentation)
Setting hostname: demo.freebsd.org.
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
	  inet6 ::1 prefixlen 128 
	  inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2 
	  inet 127.0.0.1 netmask 0xff000000 
Additional routing options:.
Mounting NFS file systems:.
Starting syslogd.
/etc/rc: WARNING: Dump device does not exist.  Savecore not run.
ELF ldconfig path: /lib /usr/lib /usr/lib/compat /usr/X11R6/lib /usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
Starting usbd.
usb: Kernel module not available: No such file or directory
Starting local daemons:.
Updating motd.
Starting sshd.
Initial i386 initialization:.
Additional ABI support: linux.
Starting cron.
Local package initialization:.
Additional TCP options:.
Starting background file system checks in 60 seconds.

Sun Apr  1 02:11:43 UTC 2007

FreeBSD/i386 (demo.freebsd.org) (xc0)

login: </screen>

      <para>A domU-ban a &os;&nbsp;7.0-CURRENT rendszermagnak kell
	futnia:</para>

      <screen>&prompt.root; <userinput>uname -a</userinput>
FreeBSD demo.freebsd.org 7.0-CURRENT FreeBSD 7.0-CURRENT #113: Wed Jan  4 06:25:43 UTC 2006     
kmacy@freebsd7.gateway.2wire.net:/usr/home/kmacy/p4/freebsd7_xen3/src/sys/i386-xen/compile/XENCONF  i386</screen>

      <para>Miut&aacute;n err&#245;l megbizonyosodtunk, be tudjuk
	&aacute;ll&iacute;tani a h&aacute;l&oacute;zatot is domU-ban.  A
	domU &os; egy <devicename>xn0</devicename> nev&#251;
	speci&aacute;lis eszk&ouml;zt haszn&aacute;l erre a
	c&eacute;lra:</para>

      <screen>&prompt.root; <userinput>ifconfig xn0 10.10.10.200 netmask 255.0.0.0</userinput>
&prompt.root; <userinput>ifconfig</userinput>
xn0: flags=843&lt;UP,BROADCAST,RUNNING,SIMPLEX&gt; mtu 1500
    inet 10.10.10.200 netmask 0xff000000 broadcast 10.255.255.255
    ether 00:16:3e:6b:de:3a
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
      inet6 ::1 prefixlen 128 
      inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2 
      inet 127.0.0.1 netmask 0xff000000 </screen>

      <para>Ek&ouml;zben a dom0 Slackware-en n&eacute;h&aacute;ny
	<application>&xen;</application>-f&uuml;gg&#245;
	h&aacute;l&oacute;zati csatol&oacute;nak is meg kell
	jelennie:</para>

      <screen>&prompt.root; <userinput>ifconfig</userinput>
eth0      Link encap:Ethernet  HWaddr 00:07:E9:A0:02:C2  
          inet addr:10.10.10.130  Bcast:0.0.0.0  Mask:255.0.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:815 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1400 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:204857 (200.0 KiB)  TX bytes:129915 (126.8 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:99 errors:0 dropped:0 overruns:0 frame:0
          TX packets:99 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:9744 (9.5 KiB)  TX bytes:9744 (9.5 KiB)

peth0     Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF  
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:1853349 errors:0 dropped:0 overruns:0 frame:0
          TX packets:952923 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2432115831 (2.2 GiB)  TX bytes:86528526 (82.5 MiB)
          Base address:0xc000 Memory:ef020000-ef040000 

vif0.1    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF  
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:1400 errors:0 dropped:0 overruns:0 frame:0
          TX packets:815 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:129915 (126.8 KiB)  TX bytes:204857 (200.0 KiB)

vif1.0    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF  
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:3 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2 errors:0 dropped:157 overruns:0 carrier:0
          collisions:0 txqueuelen:1 
          RX bytes:140 (140.0 b)  TX bytes:158 (158.0 b)

xenbr1    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF  
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:4 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:112 (112.0 b)  TX bytes:0 (0.0 b)</screen>

      <screen>&prompt.root; <userinput>brctl show</userinput>
bridge name     bridge id           STP enabled         interfaces
xenbr1          8000.feffffffffff   no                  vif0.1
                                                        peth0
                                                        vif1.0</screen>
      </sect3>
    </sect2>
-->

    <sect2 id="virtualization-guest-virtualpc">
      <title>Virtual PC-vel &windows;-on</title>

      <para>A &windows;-ra fejlesztett <application>Virtual
	PC</application> a &microsoft; egyik szabadon
	let&ouml;lthet&#245; szoftverterm&eacute;ke.  A
	rendszerk&ouml;vetelm&eacute;nyeit b&#245;vebben l&aacute;sd a
	<ulink
	url="http://www.microsoft.com/windows/downloads/virtualpc/sysreq.mspx"></ulink>
	linken.  Miut&aacute;n telep&iacute;tett&uuml;k a
	&microsoft.windows;-ra a <application>Virtual PC</application>
	alkalmaz&aacute;st, be kell &aacute;ll&iacute;tanunk egy
	virtu&aacute;lis g&eacute;pet, majd telep&iacute;ten&uuml;nk
	kell r&aacute; a k&iacute;v&aacute;nt vend&eacute;g
	oper&aacute;ci&oacute;s rendszert.</para>

	<sect3 id="virtualization-guest-virtualpc-install">
	  <title>A &os; telep&iacute;t&eacute;se Virtual
	    PC/&microsoft.windows;-ra</title>

	  <para>Amikor a &os;-t a &microsoft.windows; &eacute;s
	    <application>Virtual PC</application> p&aacute;rosra akarjuk
	    telep&iacute;teni, akkor kezdj&uuml;nk egy egy &uacute;j
	    virtu&aacute;lis g&eacute;p
	    l&eacute;trehoz&aacute;s&aacute;val.  Ehhez v&aacute;lasszuk
	    ki a men&uuml;b&#245;l a <guimenuitem>Create a virtual
	    machine</guimenuitem> (Virtu&aacute;lis g&eacute;p
	    l&eacute;trehoz&aacute;sa) pontot.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd1">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd2">
	    </imageobject>
	  </mediaobject>

	  <para>Majd v&aacute;lasszuk az <guimenuitem>Operating
	    system</guimenuitem> (Oper&aacute;ci&oacute;s rendszer)
	    be&aacute;ll&iacute;t&aacute;s&aacute;n&aacute;l az
	    <guimenuitem>Other</guimenuitem> (Egy&eacute;b)
	    opci&oacute;t.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd3">
	    </imageobject>
	  </mediaobject>

	  <para>Ezut&aacute;n v&aacute;lasszuk ki a
	    sz&aacute;nd&eacute;kainknak megfelel&#245;en a
	    telep&iacute;tend&#245; &os; p&eacute;ld&aacute;nyhoz
	    m&eacute;rt mem&oacute;ria &eacute;s lemezter&uuml;let
	    mennyis&eacute;g&eacute;t.  Ahhoz, hogy a &os; fusson
	    <application>Virtual PC</application> alatt, 4&nbsp;GB-nyi
	    lemezter&uuml;let &eacute;s 512&nbsp;MB RAM
	    be&aacute;ll&iacute;t&aacute;sa a legt&ouml;bb esetben
	    kiv&aacute;l&oacute;an megfelel&#245;.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd4">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd5">
	    </imageobject>
	  </mediaobject>

	  <para>Ments&uuml;k el &eacute;s fejezz&uuml;k be a
	    konfigur&aacute;ci&oacute;t.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd6">
	    </imageobject>
	  </mediaobject>

	  <para>V&aacute;lasszuk ki a &os;-s virtu&aacute;lis
	    g&eacute;p&uuml;nket, majd kattintsunk a
	    <guimenu>Settings</guimenu>
	    (Be&aacute;ll&iacute;t&aacute;sok) men&uuml;re &eacute;s
	    &aacute;ll&iacute;tsuk be h&aacute;l&oacute;zati
	    csatol&oacute; &eacute;s h&aacute;l&oacute;zatkezel&eacute;s
	    t&iacute;pus&aacute;t.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd7">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd8">
	    </imageobject>
	  </mediaobject>

	  <para>A &os;-nek otthont ad&oacute; virtu&aacute;lis
	    g&eacute;p&uuml;nk l&eacute;trehoz&aacute;sa ut&aacute;n
	    telep&iacute;ten&uuml;nk is kell r&aacute; a rendszert.  Ez
	    legegyszer&#251;bben a hivatalos &os; telep&iacute;t&#245;
	    CD-vel vagy a hivatalos FTP oldalr&oacute;l
	    let&ouml;lthet&#245; CD-k&eacute;ppel tehetj&uuml;k meg.
	    Amikor let&ouml;lt&ouml;tt&uuml;k a megfelel&#245;
	    CD-k&eacute;pet a helyi &windows;-os
	    &aacute;llom&aacute;nyrendszer&uuml;nkre vagy
	    behelyezt&uuml;k a telep&iacute;t&eacute;shez
	    haszn&aacute;lhat&oacute; CD-t a CD-meghajt&oacute;nkba, a
	    &os;-s virtu&aacute;lis g&eacute;p&uuml;nk
	    elind&iacute;t&aacute;s&aacute;hoz kattintsunk r&aacute;
	    dupl&aacute;n.  Ezt k&ouml;vet&#245;en a
	    <application>Virtual PC</application> ablak&aacute;ban
	    kattintsunk a <guimenu>CD</guimenu> men&uuml;re &eacute;s
	    v&aacute;lasszuk ki bel&#245;le a <guimenu>Capture ISO
	    Image...</guimenu> (Lemezk&eacute;p haszn&aacute;lata...)
	    pontot.  Ennek hat&aacute;s&aacute;ra megjelenik egy ablak,
	    amiben a virtu&aacute;lis g&eacute;p&uuml;nk
	    CD-meghajt&oacute;ihoz tudunk csatlakoztatni
	    lemezk&eacute;peket vagy ak&aacute;r l&eacute;tez&#245;
	    CD-meghajt&oacute;kat.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd9">
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd10">
	    </imageobject>
	  </mediaobject>

	  <para>Miut&aacute;n sikeresen be&aacute;ll&iacute;tottuk a
	    telep&iacute;t&#245; CD forr&aacute;s&aacute;t,
	    ind&iacute;tsuk &uacute;jra a virtu&aacute;lis g&eacute;pet
	    az <guimenu>Action</guimenu> (M&#251;velet) men&uuml;n
	    bel&uuml;l a <guimenu>Reset</guimenu>
	    (&Uacute;jraind&iacute;t&aacute;s) pont
	    kiv&aacute;laszt&aacute;s&aacute;val.  &Iacute;gy a
	    <application>Virtual PC</application>
	    &uacute;jraind&iacute;tja a virtu&aacute;lis rendszert egy
	    olyan speci&aacute;lis BIOS haszn&aacute;lat&aacute;val,
	    amely a norm&aacute;lis BIOS-hoz hasonl&oacute;an
	    el&#245;sz&ouml;r megkeresi az el&eacute;rhet&#245;
	    CD-meghajt&oacute;kat.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd11">
	    </imageobject>
	  </mediaobject>

	  <para>Ebben az esetben a &os;
	    telep&iacute;t&#245;eszk&ouml;z&eacute;t fogja
	    megtal&aacute;lni &eacute;s megkezdi a <xref
	    linkend="install">ben ismertetett szok&aacute;sos,
	    <application>sysinstall</application> programra
	    alapul&oacute; telep&iacute;t&eacute;si
	    elj&aacute;r&aacute;st.  Ennek sor&aacute;n az X11-et is
	    feltelep&iacute;thetj&uuml;k, hab&aacute;r egyel&#245;re
	    m&eacute;g ne &aacute;ll&iacute;tsuk be.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd12">
	    </imageobject>
	  </mediaobject>

	  <para>Ne felejts&uuml;k el kivenni a meghajt&oacute;b&oacute;l
	    a telep&iacute;t&eacute;shez haszn&aacute;lt CD-t vagy
	    elengedni a megfelel&#245; lemezk&eacute;pet, amikor
	    befejez&#245;d&#245;tt a telep&iacute;t&eacute;s.
	    V&eacute;gezet&uuml;l ind&iacute;tsuk ism&eacute;t
	    &uacute;jra a frissen telep&iacute;tett &os;-s
	    virtu&aacute;lis g&eacute;p&uuml;nket.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd13">
	    </imageobject>
	  </mediaobject>
	</sect3>

	<sect3 id="virtualization-guest-virtualpc-configure">
	  <title>A &os; be&aacute;ll&iacute;t&aacute;sa a
	    &microsoft.windows;/Virtual PC-n</title>

	  <para>Miut&aacute;n a &os;-t minden gond n&eacute;lk&uuml;l
	    telep&iacute;tett&uuml;k a &microsoft.windows;-on
	    fut&oacute; <application>Virtual PC</application>-re,
	    m&eacute;g tov&aacute;bbi be&aacute;ll&iacute;t&aacute;si
	    l&eacute;p&eacute;seket is meg kell tenn&uuml;nk a rendszer
	    virtualiz&aacute;lt m&#251;k&ouml;d&eacute;s&eacute;nek
	    finomhangol&aacute;s&aacute;hoz.</para>

	  <procedure>
	    <step>
	      <title>A rendszert&ouml;lt&#245; v&aacute;ltoz&oacute;inak
		be&aacute;ll&iacute;t&aacute;sa</title>

	      <para>A legfontosabb teend&#245;nk cs&ouml;kkenteni a
		<option>kern.hz</option> konfigur&aacute;ci&oacute;s
		be&aacute;ll&iacute;t&aacute;s &eacute;rt&eacute;ket,
		aminek k&ouml;sz&ouml;nhet&#245;en vissza tudjuk fogni a
		<application>Virtual PC</application> alatt fut&oacute;
		&os; processzorhaszn&aacute;lat&aacute;t.  Ezt
		&uacute;gy tudjuk megtenni, ha a
		<filename>/boot/loader.conf</filename>
		&aacute;llom&aacute;nyba felvessz&uuml;k a
		k&ouml;vetkez&#245; sort:</para>

		<programlisting>kern.hz=100</programlisting>

	      <para>En&eacute;lk&uuml;l a <application>Virtual
		PC</application> alatt &uuml;resj&aacute;ratban
		fut&oacute; &os; vend&eacute;g oper&aacute;ci&oacute;s
		rendszer egy egyprocesszoros
		sz&aacute;m&iacute;t&oacute;g&eacute;p idej&eacute;nek
		durv&aacute;n 40%-&aacute;t foglalja le.  A
		v&aacute;ltoztat&aacute;s ut&aacute;n azonban ez az
		&eacute;rt&eacute;k puszt&aacute;n k&ouml;zel 3%-ra
		cs&ouml;kken le.</para>
	    </step>

	    <step>
	      <title>&Uacute;j konfigur&aacute;ci&oacute;s
		&aacute;llom&aacute;ny l&eacute;trehoz&aacute;sa a
		rendszermaghoz</title>

	      <para>Nyugodtan elt&aacute;vol&iacute;thatjuk a SCSI,
		FireWire &eacute;s USB eszk&ouml;zmeghajt&oacute;kat.  A
		<application>Virtual PC</application> &aacute;ltal
		felaj&aacute;nlott virtu&aacute;lis
		h&aacute;l&oacute;zati csatol&oacute;t a &man.de.4;
		meghajt&oacute;n kereszt&uuml;l tudjuk haszn&aacute;lni,
		ez&eacute;rt a &man.de.4; &eacute;s &man.miibus.4;
		eszk&ouml;z&ouml;n k&iacute;v&uuml;l az &ouml;sszes
		t&ouml;bbi h&aacute;l&oacute;zati eszk&ouml;z
		t&aacute;mogat&aacute;sa kiszedhet&#245; a
		rendszermagb&oacute;l.</para>
	    </step>

	    <step>
	      <title>A h&aacute;l&oacute;zati kapcsolat
		be&aacute;ll&iacute;t&aacute;sa</title>

	      <para>A legalapvet&#245;bb h&aacute;l&oacute;zati
		be&aacute;ll&iacute;t&aacute;s csup&aacute;n
		annyib&oacute;l &aacute;ll, hogy DHCP-n kereszt&uuml;l
		csatlakoztatjuk a virtu&aacute;lis g&eacute;p&uuml;nket
		ugyanahhoz a helyi h&aacute;l&oacute;zathoz, amiben a
		gazda &microsoft.windows;-os g&eacute;p&uuml;nk is
		megtal&aacute;lhat&oacute;.  Ezt &uacute;gy tudjuk
		el&eacute;rni, ha a <filename>/etc/rc.conf</filename>
		&aacute;llom&aacute;nyba megadjuk a
		<literal>ifconfig_de0="DHCP"</literal> sort.  A
		komolyabb h&aacute;l&oacute;zati
		be&aacute;ll&iacute;t&aacute;sokat a <xref
		linkend="advanced-networking">ben
		tal&aacute;lhatjuk.</para>
	    </step>
	  </procedure>

      </sect3>
    </sect2>

    <sect2 id="virtualization-guest-vmware">
      <title>VMWare-rel MacOS-en</title>

      <para>A &mac;-ek sz&aacute;m&aacute;ra fejlesztett
	<application>VMWare Fusion</application> egy olyan kereskedelmi
	term&eacute;k, amit az &intel; alap&uacute; &apple; &mac;
	g&eacute;pekre tudunk telep&iacute;teni a &macos;&nbsp;10.4.9
	&eacute;s k&eacute;s&#245;bbi v&aacute;ltozatain.  A &os; itt
	egy teljesen t&aacute;mogatott vend&eacute;g
	oper&aacute;ci&oacute;s rendszer.  Miut&aacute;n a
	<application>VMWare Fusion</application> felker&uuml;lt a
	&macos;&nbsp;X rendszer&uuml;nkre, be kell
	&aacute;ll&iacute;tanunk a virtu&aacute;lis g&eacute;pet
	&eacute;s telep&iacute;ten&uuml;nk r&aacute; a vend&eacute;g
	oper&aacute;ci&oacute;s rendszert.</para>

      <sect3 id="virtualization-guest-vmware-install">
	<title>A &os; telep&iacute;t&eacute;se a
	  &macos;&nbsp;X/VMWare-re</title>

	<para>El&#245;sz&ouml;r ind&iacute;tsuk el a VMWare Fusion-t,
	  aminek eredm&eacute;nyek&eacute;ppen bet&ouml;lt&#245;dik a
	  Virtual Machine Library.  Egy &uacute;j virtu&aacute;lis
	  g&eacute;pre l&eacute;trehoz&aacute;s&aacute;hoz kattintsunk a
	  "New" gombra:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd01">
	  </imageobject>
	</mediaobject>

	<para>Ekkor bej&ouml;n az &uacute;j g&eacute;p
	  &ouml;ssze&aacute;ll&iacute;t&aacute;s&aacute;t
	  seg&iacute;t&#245; New Virtual Machine Assistant, ahol a
	  tov&aacute;bbl&eacute;p&eacute;shez kattintsunk a Continue
	  gombra:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd02">
	  </imageobject>
	</mediaobject>

	<para>Az oper&aacute;ci&oacute;s rendszerek
	  (<guimenuitem>Operating System</guimenuitem>) k&ouml;z&uuml;l
	  v&aacute;lasszuk az <quote>egy&eacute;b</quote>
	  (<guimenuitem>Other</guimenuitem>) kateg&oacute;ri&aacute;t,
	  majd a <guimenuitem>Version</guimenuitem> f&uuml;l&ouml;n a
	  <guimenuitem>FreeBSD</guimenuitem> vagy a <guimenuitem>FreeBSD
	  64-bit</guimenuitem> v&aacute;ltozatot att&oacute;l
	  f&uuml;gg&#245;en, hogy 32&nbsp;bites vagy 64&nbsp;bites
	  t&aacute;mogat&aacute;sra van
	  sz&uuml;ks&eacute;g&uuml;nk:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd03">
	  </imageobject>
	</mediaobject>

	<para>Adjuk meg a virtu&aacute;lis g&eacute;p
	  k&eacute;p&eacute;nek nev&eacute;t &eacute;s a
	  k&ouml;nyvt&aacute;rat, ahova el akarjuk menteni:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd04">
	  </imageobject>
	</mediaobject>

	<para>V&aacute;lasszuk meg a virtu&aacute;lis g&eacute;phez
	  tartoz&oacute; virtu&aacute;lis merevlemez
	  m&eacute;ret&eacute;t is:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd05">
	  </imageobject>
	</mediaobject>

	<para>Mondjuk meg, hogy milyen m&oacute;don szeretn&eacute;nk
	  telep&iacute;teni a virtu&aacute;lis g&eacute;pre, ISO
	  form&aacute;tum&uacute; lemezk&eacute;pr&#245;l vagy
	  CD-r&#245;l:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd06">
	  </imageobject>
	</mediaobject>

	<para>Ahogy a Finish felirat&uacute; gombra kattintunk, a
	  virtu&aacute;lis g&eacute;p m&aacute;ris elindul:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd07">
	  </imageobject>
	</mediaobject>

	<para>Telep&iacute;ts&uuml;k fel a &os;-t a megszokott
	  m&oacute;don vagy a <xref linkend="install">
	  utas&iacute;t&aacute;sai ment&eacute;n:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd08">
	  </imageobject>
	</mediaobject>

	<para>Miut&aacute;n befejez&#245;d&ouml;tt a
	  telep&iacute;t&eacute;s, m&oacute;dos&iacute;tsuk a
	  virtu&aacute;lis g&eacute;p be&aacute;ll&iacute;t&aacute;sait,
	  p&eacute;ld&aacute;ul a mem&oacute;ria
	  mennyis&eacute;g&eacute;t:</para>

	<note>
	  <para>A virtu&aacute;lis g&eacute;p hardveres
	    be&aacute;ll&iacute;t&aacute;sai a fut&aacute;sa alatt nem
	    v&aacute;ltoztathat&oacute;ak meg.</para>
	</note>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd09">
	  </imageobject>
	</mediaobject>

	<para>A virtu&aacute;lis g&eacute;p &aacute;ltal
	  haszn&aacute;lhat&oacute; processzorok
	  sz&aacute;m&aacute;t:</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd10">
	  </imageobject>
	</mediaobject>

	<para>A CD-meghajt&oacute; &aacute;llapot&aacute;t.
	  &Aacute;ltal&aacute;ban lehet&#245;s&eacute;g&uuml;nk van a
	  virtu&aacute;lis g&eacute;pet lev&aacute;lasztani a
	  CD-meghajt&oacute;r&oacute;l vagy ISO lemezk&eacute;pr&#245;l,
	  ha m&aacute;r nem haszn&aacute;ljuk.</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd11">
	  </imageobject>
	</mediaobject>

	<para>A h&aacute;l&oacute;zati csatlakoz&aacute;s a
	  virtu&aacute;lis g&eacute;ppel kapcsolatban
	  utols&oacute;k&eacute;nt be&aacute;ll&iacute;tand&oacute;
	  t&eacute;nyez&#245;.  Ha a befogad&oacute; g&eacute;pen
	  k&iacute;v&uuml;l m&eacute;g m&aacute;s g&eacute;peket is el
	  akarunk &eacute;rni a virtu&aacute;lis g&eacute;pr&#245;l,
	  akkor ehhez mindenk&eacute;ppen a <guimenuitem>Connect
	  directly to the physical network (Bridged)</guimenuitem>
	  opci&oacute;t v&aacute;lasszuk.  Minden m&aacute;s esetben a
	  <guimenuitem>Share the host's internet connection
	  (NAT)</guimenuitem> az aj&aacute;nlott, mivel &iacute;gy a
	  virtu&aacute;lis g&eacute;p el&eacute;ri az internetet, de a
	  h&aacute;l&oacute;zatr&oacute;l nem lehet azt
	  el&eacute;rni.</para>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="virtualization/vmware-freebsd12">
	  </imageobject>
	</mediaobject>

	<para>Miut&aacute;n befejezt&uuml;k a
	  be&aacute;ll&iacute;t&aacute;sok
	  finomhangol&aacute;s&aacute;t, ind&iacute;tsuk is el a frissen
	  telep&iacute;tett &os;-s virtu&aacute;lis
	  g&eacute;p&uuml;nket.</para>

      </sect3>

      <sect3 id="virtualization-guest-vmware-configure">
	<title>A &os; be&aacute;ll&iacute;t&aacute;sa a
	  &macos;&nbsp;X/VMWare-en</title>

	<para>Ahogy a &os;-t sikeresen telep&iacute;tett&uuml;k a
	  &macos;&nbsp;X alatt fut&oacute;
	  <application>VMWare</application>-re, n&eacute;h&aacute;ny
	  konfigur&aacute;ci&oacute;s l&eacute;p&eacute;st m&eacute;g
	  meg kell tenn&uuml;nk a virtualiz&aacute;lt rendszer
	  teljes&iacute;tm&eacute;nyek optimaliz&aacute;l&aacute;sa
	  &eacute;rdek&eacute;ben.</para>

	<procedure>
	  <step>
	    <title>A rendszert&ouml;lt&#245; v&aacute;ltoz&oacute;inak
	      be&aacute;ll&iacute;t&aacute;sa</title>

	    <para>A legfontosabb l&eacute;p&eacute;s tal&aacute;n a
	      <option>kern.hz</option> v&aacute;ltoz&oacute;
	      &eacute;rt&eacute;k&eacute;nek cs&ouml;kkent&eacute;se,
	      amivel a <application>VMWare</application> alatt
	      fut&oacute; &os; processzorhaszn&aacute;lat&aacute;t
	      szor&iacute;thatjuk vissza.  Ezt a k&ouml;vetkez&#245; sor
	      hozz&aacute;ad&aacute;s&aacute;val &eacute;rhetj&uuml;k el
	      a <filename>/boot/loader.conf</filename>
	      &aacute;llom&aacute;nyban:</para>

	    <programlisting>kern.hz=100</programlisting>

	    <para>En&eacute;lk&uuml;l az &uuml;resj&aacute;ratban
	      zakatol&oacute; &os;-s <application>VMWare</application>
	      vend&eacute;g nagyj&aacute;b&oacute;l az &imac; egyik
	      processzor&aacute;nak 15%-&aacute;t em&eacute;szti fel.
	      Ezzel a m&oacute;dos&iacute;t&aacute;ssal azonban ez
	      lenyomhat&oacute; k&ouml;zel 5%-ra.</para>
	  </step>

	  <step>
	    <title>&Uacute;j konfigur&aacute;ci&oacute;s
	      &aacute;llom&aacute;ny l&eacute;trehoz&aacute;sa a
	      rendszermaghoz</title>

	    <para>Nyugodtan t&ouml;r&ouml;lhetj&uuml;k az &ouml;sszes
	      FireWire &eacute;s USB eszk&ouml;z
	      meghajt&oacute;j&aacute;t.  A
	      <application>VMWare</application> egy &man.em.4;
	      meghajt&oacute;n kereszt&uuml;l el&eacute;rhet&#245;
	      virtu&aacute;lis h&aacute;l&oacute;zati
	      k&aacute;rty&aacute;t biztos&iacute;t, &iacute;gy az
	      &man.em.4; kiv&eacute;tel&eacute;vel az &ouml;sszes
	      h&aacute;l&oacute;zati eszk&ouml;z
	      meghajt&oacute;j&aacute;t kivehetj&uuml;k a
	      rendszermagb&oacute;l.</para>
	  </step>

	  <step>
	    <title>A h&aacute;l&oacute;zat
	      be&aacute;ll&iacute;t&aacute;sa</title>

	    <para>A legegyszer&#251;bb h&aacute;l&oacute;zati
	      be&aacute;ll&iacute;t&aacute;s mind&ouml;sszesen a DHCP
	      haszn&aacute;lat&aacute;t ig&eacute;nyli, aminek
	      r&eacute;v&eacute;n a virtu&aacute;lis g&eacute;p&uuml;nk
	      a befogad&oacute; &mac;-kel egy helyi
	      h&aacute;l&oacute;zatra ker&uuml;l.  Ezt &uacute;gy tudjuk
	      enged&eacute;lyezni, ha az
	      <filename>/etc/rc.conf</filename> &aacute;llom&aacute;nyba
	      felvessz&uuml;k az <literal>ifconfig_em0="DHCP"</literal>
	      sort.  Ha enn&eacute;l komolyabb h&aacute;l&oacute;zati
	      be&aacute;ll&iacute;t&aacute;sok is &eacute;rdekelnek
	      minket, akkor olvassuk el a <xref
	      linkend="advanced-networking">et.</para>
	  </step>
	</procedure>

      </sect3>
    </sect2>
  </sect1>

  <sect1 id="virtualization-host">
    <title>A &os; mint gazda</title>

    <para>Gazda oper&aacute;ci&oacute;s rendszerk&eacute;nt a &os;
      &eacute;vekig nem kapott hivatalosan t&aacute;mogat&aacute;st
      egyetlen elterjedtebb virtualiz&aacute;ci&oacute;s megold&aacute;s
      r&eacute;sz&eacute;r&#245;l sem.  Sokan erre a c&eacute;lra eddig
      a <application>VMWare</application> kor&aacute;bbi &eacute;s
      ink&aacute;bb m&aacute;r elavult, a &linux; kompatibilit&aacute;si
      r&eacute;tegre &eacute;p&uuml;l&#245; v&aacute;ltozatait (mint
      p&eacute;ld&aacute;ul <filename
	role="package">emulators/vmware3</filename>)
      haszn&aacute;lt&aacute;k.  Nem sokkal azonban a &os;&nbsp;7.2
      megjelen&eacute;se ut&aacute;n a Sun
      <application>&virtualbox;</application> <acronym>OSE</acronym> (Open
      Source Edition) nat&iacute;v &os; alkalmaz&aacute;sk&eacute;nt
      bukkant fel a Portgy&#251;jtem&eacute;nyben.</para>

    <para>A <application>&virtualbox;</application> egy folyamatos
      fejleszt&eacute;s alatt &aacute;ll&oacute;, komplett
      virtualiz&aacute;ci&oacute;s csomag, amely imm&aacute;ron
      el&eacute;rhet&#245; a legt&ouml;bb n&eacute;pszer&#251;
      oper&aacute;ci&oacute;s rendszerre, mint a &windows;, &macos;,
      &linux; &eacute;s a &os;.  Egyar&aacute;nt k&eacute;pes &windows;
      &eacute;s &unix; fajt&aacute;j&uacute; vend&eacute;grendszerek
      futatt&aacute;s&aacute;ra.  Ny&iacute;lt- &eacute;s z&aacute;rt
      forr&aacute;sk&oacute;d&uacute; v&aacute;ltozatban is
      el&eacute;rhet&#245;.  A felhaszn&aacute;l&oacute;k
      szempontj&aacute;b&oacute;l a kett&#245; k&ouml;zti tal&aacute;n
      legfontosabb elt&eacute;r&eacute;s, hogy a ny&iacute;lt
      forr&aacute;sk&oacute;d&uacute; v&aacute;ltozat nem tartalmaz USB
      t&aacute;mogat&aacute;st.  A k&uuml;l&ouml;nbs&eacute;gek teljes
      list&aacute;ja megtal&aacute;lhat&oacute; a
      <application>&virtualbox;</application> wiki <quote>Editions</quote>
      oldal&aacute;n, a <ulink
      url="http://www.virtualbox.org/wiki/Editions"></ulink>
      c&iacute;men.  &os; alatt jelenleg csak a ny&iacute;lt
      forr&aacute;sk&oacute;d&uacute; v&aacute;ltozat &eacute;rhet&#245;
      el.</para>

    <sect2 id="virtualization-virtualbox-install">
      <title>A <application>&virtualbox;</application>
	telep&iacute;t&eacute;se</title>

      <para>A <application>&virtualbox;</application> a <filename
	  role="package">emulators/virtualbox-ose</filename>
	k&ouml;nyvt&aacute;rb&oacute;l &eacute;rhet&#245; el
	portk&eacute;nt, &eacute;s onnan a k&ouml;vetkez&#245;
	parancsokkal telep&iacute;thet&#245;:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/emulators/virtualbox-ose</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>A be&aacute;ll&iacute;t&aacute;sok k&ouml;zt az egyik
	leghasznosabb a <literal>GuestAdditions</literal> nev&#251;
	programcsomag telep&iacute;t&eacute;se.  A benne
	tal&aacute;lhat&oacute; programokon kereszt&uuml;l a
	vend&eacute;gk&eacute;nt fut&oacute; oper&aacute;ci&oacute;s
	rendszer sz&aacute;mos hasznos
	szolg&aacute;ltat&aacute;s&aacute;t el tudjuk &eacute;rni,
	&uacute;gy mint az eg&eacute;rmutat&oacute;
	integr&aacute;ci&oacute;j&aacute;t (ekkor az eg&eacute;rkurzor
	z&ouml;kken&#245;mentesen haszn&aacute;lhat&oacute; a gazda
	&eacute;s a vend&eacute;g rendszerben is) vagy a
	videomem&oacute;ria gyorsabb el&eacute;r&eacute;s&eacute;t
	(k&uuml;l&ouml;n&ouml;sen &windows; eset&eacute;ben).  A
	vend&eacute;gekhez telep&iacute;thet&#245; ilyen jelleg&#251;
	kieg&eacute;sz&iacute;t&eacute;sek az adott rendszer
	telep&iacute;t&eacute;se ut&aacute;n a
	<guimenu>Devices</guimenu> men&uuml;b&#245;l
	&eacute;rhet&#245;ek el.</para>

      <para>A <application>&virtualbox;</application> els&#245;
	ind&iacute;t&aacute;sa el&#245;tt el kell m&eacute;g
	v&eacute;gezn&uuml;nk n&eacute;h&aacute;ny tov&aacute;bbi
	be&aacute;ll&iacute;t&aacute;st.  Fontos tudnunk, hogy a port a
	telep&iacute;t&eacute;s sor&aacute;n a <filename
	  class="directory">/boot/modules</filename>
	k&ouml;nyvt&aacute;rba tesz m&eacute;g egy rendszermagmodult
	is, amelyet m&eacute;g k&uuml;l&ouml;n be kell
	t&ouml;lten&uuml;nk:</para>

      <screen>&prompt.root; <userinput>kldload vboxdrv</userinput></screen>

      <para>Ehhez m&eacute;g vegy&uuml;k fel a k&ouml;vetkez&#245; sort
	a <filename>/boot/loader.conf</filename> &aacute;llom&aacute;nyba,
	&iacute;gy a modul a rendszer minden egyes
	ind&iacute;t&aacute;sakor mag&aacute;t&oacute;l
	bet&ouml;lt&#245;dik:</para>

      <programlisting>vboxdrv_load="YES"</programlisting>

      <para>A <application>&virtualbox;</application> 3.1.2 el&#245;tti
	v&aacute;ltozatai ezenk&iacute;v&uuml;l m&eacute;g
	ig&eacute;nylik a <filename class="directory">proc</filename>
	&aacute;llom&aacute;nyrendszer csatlakoztat&aacute;s&aacute;t
	is.  Az &uacute;jabb v&aacute;ltozatokban erre m&aacute;r nincs
	sz&uuml;ks&eacute;g, mivel ezekben helyette m&aacute;r a
	&man.sysctl.3; k&ouml;nyvt&aacute;r f&uuml;ggv&eacute;nyeit
	haszn&aacute;lj&aacute;k.</para>

      <para>Ha viszont a port valamelyik kor&aacute;bbi
	v&aacute;ltozat&aacute;t haszn&aacute;ljuk, akkor
	k&ouml;vess&uuml;k a lentebb szerepl&#245;
	utas&iacute;t&aacute;sokat &eacute;s csatlakoztassuk a <filename
	  class="directory">proc</filename>
	&aacute;llom&aacute;nyrendszert:</para>

      <screen>&prompt.root; <userinput>mount -t procfs proc /proc</userinput></screen>

      <para>Ha hozz&aacute;adjuk az al&aacute;bbi sort a
	<filename>/etc/fstab</filename> &aacute;llom&aacute;nyhoz, akkor
	ez a be&aacute;ll&iacute;t&aacute;s is megmarad a rendszer
	&uacute;jraind&iacute;t&aacute;sa ut&aacute;n:</para>

      <programlisting>proc     /proc   procfs  rw        0       0</programlisting>

      <note>
	<para>Nagyon val&oacute;sz&iacute;n&#251;, hogy <filename
	    class="directory">proc</filename>
	  &aacute;llom&aacute;nyrendszerrel van gondunk, amikor a
	  k&ouml;vetkez&#245; hiba&uuml;zenetet kapjuk a
	  <application>&virtualbox;</application>
	  ind&iacute;t&aacute;sakor:</para>

	<screen>VirtualBox: supR3HardenedExecDir: couldn't read "", errno=2 cchLink=-1</screen>

	<para>Ilyenkor a <command>mount</command> parancs
	  kiad&aacute;s&aacute;val ellen&#245;rizz&uuml;k az
	  &aacute;llom&aacute;nyrendszer sikeres
	  csatlakoztat&aacute;s&aacute;t.</para>
      </note>

      <para>A <application>&virtualbox;</application>
	telep&iacute;t&eacute;se sor&aacute;n keletkezik m&eacute;g egy
	<groupname>vboxusers</groupname> nev&#251; csoport.  Ide azokat
	a felhaszn&aacute;l&oacute;kat vegy&uuml;k fel, akik
	r&eacute;sz&eacute;re szeretn&eacute;nk enged&eacute;lyezni a
	<application>&virtualbox;</application> haszn&aacute;lat&aacute;t.
	A csoportba &uacute;j tagokat p&eacute;ld&aacute;ul a
	<command>pw</command> paranccsal tudunk felvenni:</para>

      <screen>&prompt.root; <userinput>pw groupmod vboxusers -m <replaceable>felhaszn&aacute;l&oacute;n&eacute;v</replaceable></userinput></screen>

      <para>Ezek ut&aacute;n a <application>&virtualbox;</application>
	ind&iacute;t&aacute;s&aacute;hoz v&aacute;lasszuk a grafikus
	k&ouml;rnyezet&uuml;nk men&uuml;j&eacute;ben
	tal&aacute;lhat&oacute; <guimenuitem>Sun
	  VirtualBox</guimenuitem> men&uuml;pontot, vagy egy
	termin&aacute;lban g&eacute;pelj&uuml;k be ezt a
	parancsot:</para>

      <screen>&prompt.user; <userinput>VirtualBox</userinput></screen>

      <para>A <application>&virtualbox;</application>
	be&aacute;ll&iacute;t&aacute;s&aacute;nak tov&aacute;bbi
	lehet&#245;s&eacute;geir&#245;l a <ulink
	  url="http://www.virtualbox.org/"></ulink> c&iacute;men
	el&eacute;rhet&#245; hivatalos holnapon olvashatunk.
	Tekintettel arra, hogy a &os; port m&eacute;g viszonylag friss
	&eacute;s folyamatos fejleszt&eacute;s alatt &aacute;ll, ehhez
	m&eacute;g &eacute;rdemes &aacute;tolvasnunk a &os; wikiben
	szerepl&#245; <ulink
	  url="http://wiki.FreeBSD.org/VirtualBox/"></ulink> oldalt is,
	ahol a vele kapcsolatos legfrissebb inform&aacute;ci&oacute;kat
	&eacute;s egy&eacute;b tudnival&oacute;kat
	tal&aacute;lhatjuk.</para>
    </sect2>

<!--
    <sect2 id="virtualization-other">
      <title>Egy&eacute;b virtualiz&aacute;ci&oacute;s
	lehet&#245;s&eacute;gek</title>

      <para>A &os; <application>&xen;</application>
	gazdarendszerk&eacute;nt is hamarosan el&eacute;rhet&#245; lesz.</para>
    </sect2>
-->
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
