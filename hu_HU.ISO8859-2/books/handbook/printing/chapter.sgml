<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->

<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/printing/chapter.sgml
     %SRCID%	1.121
-->

<chapter id="printing" lang="hu">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Sean</firstname>
	<surname>Kelly</surname>
	<contrib>&Iacute;rta: </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>&Aacute;tdolgozta &eacute;s friss&iacute;tette:
	  </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Nyomtat&aacute;s</title>

  <sect1 id="printing-synopsis">
    <title>&Aacute;ttekint&eacute;s</title>

    <indexterm><primary>LPD nyomtat&aacute;si
      rendszer</primary></indexterm>
    <indexterm><primary>nyomtat&aacute;s</primary></indexterm>

    <para>A &os; k&eacute;pes rengeteg f&eacute;le &eacute;s fajta
      nyomtat&oacute;val egy&uuml;ttm&#251;k&ouml;dni, a
      legr&eacute;gebbi vegyszeres nyomtat&oacute;t&oacute;l kezdve
      eg&eacute;szen napjaink l&eacute;zernyomtat&oacute;j&aacute;ig,
      aminek k&ouml;sz&ouml;nhet&#245;en alkalmaz&aacute;saikkal nagyon
      j&oacute; min&#245;s&eacute;g&#251; nyomtat&aacute;sokat tudunk
      k&eacute;sz&iacute;teni.</para>

    <para>A &os; a helyi h&aacute;l&oacute;zaton
      nyomtat&oacute;szervernek is be&aacute;ll&iacute;that&oacute;.
      Ekkor a vele k&ouml;z&ouml;s h&aacute;l&oacute;zatra
      csatlakoz&oacute; t&ouml;bbi, &os;, &windows; vagy &macos;
      rendszer&#251; sz&aacute;m&iacute;t&oacute;g&eacute;pt&#245;l
      k&eacute;pes nyomtat&aacute;si k&eacute;r&eacute;seket elfogadni.
      A &os; gondoskodik r&oacute;la, hogy egyszerre csak egy
      nyomtat&aacute;s k&eacute;sz&uuml;lj&ouml;n el, sz&aacute;mon
      tartja, hogy mely felhaszn&aacute;l&oacute;k &eacute;s
      sz&aacute;m&iacute;t&oacute;g&eacute;pek nyomtatnak a
      legt&ouml;bbet, &eacute;s minden feladathoz
      <quote>munkalapot</quote> (banner page) k&eacute;sz&iacute;t,
      amiben t&ouml;bbek k&ouml;zt megtal&aacute;lhatjuk, hogy kihez
      tartozik.</para>

    <para>A fejezet elolvas&aacute;sa sor&aacute;n
      megismerj&uuml;k:</para>

    <itemizedlist>
      <listitem>
	<para>hogyan &aacute;ll&iacute;tsuk be a &os; nyomtat&aacute;si
	  sor&aacute;t;</para>
      </listitem>

      <listitem>
	<para>hogyan telep&iacute;ts&uuml;nk nyomtat&aacute;si
	  sz&#251;r&#245;ket, hogyan kezelj&uuml;nk
	  k&uuml;l&ouml;nb&ouml;z&#245; speci&aacute;lis
	  nyomtat&aacute;si feladatokat, teh&aacute;t
	  p&eacute;ld&aacute;ul mik&eacute;nt alak&iacute;tsuk &aacute;t
	  a be&eacute;rkez&#245; dokumentumokat olyan nyomtat&aacute;si
	  form&aacute;tumra, amelyet a nyomtat&oacute;nk is
	  meg&eacute;rt;</para>
      </listitem>

      <listitem>
	<para>hogyan enged&eacute;lyezz&uuml;k a fejl&eacute;c- vagy
	  munkainform&aacute;ci&oacute;k
	  kinyomtat&aacute;s&aacute;t;</para>
      </listitem>

      <listitem>
	<para>hogyan nyomtassunk m&aacute;s
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekhez csatlakoztatott
	  nyomtat&oacute;kkal;</para>
      </listitem>

      <listitem>
	<para>hogyan nyomtassunk a h&aacute;l&oacute;zatra
	  k&ouml;zvetlen&uuml;l kapcsolt nyomtat&oacute;kkal;</para>
      </listitem>

      <listitem>
	<para>hogyan &aacute;ll&iacute;tsuk be a nyomtat&oacute;
	  korl&aacute;tait, p&eacute;ld&aacute;ul a nyomtat&aacute;si
	  munk&aacute;k m&eacute;ret&eacute;t, amivel egyes
	  felhaszn&aacute;l&oacute;k nyomtat&aacute;s&aacute;t
	  visszafoghatjuk;</para>
      </listitem>

      <listitem>
	<para>hogyan k&eacute;sz&iacute;ts&uuml;nk nyomtat&aacute;si
	  kimutat&aacute;sokat &eacute;s nyilv&aacute;ntart&aacute;st a
	  nyomtat&oacute; haszn&aacute;lat&aacute;r&oacute;l;</para>
      </listitem>

      <listitem>
	<para>hogyan keress&uuml;k meg a nyomtat&aacute;s sor&aacute;n
	  felmer&uuml;l probl&eacute;m&aacute;k okait.</para>
      </listitem>
    </itemizedlist>

    <para>A fejezet elolvas&aacute;s&aacute;hoz aj&aacute;nlott:</para>

    <itemizedlist>
      <listitem>
	<para>egy &uacute;j rendszermag
	  be&aacute;ll&iacute;t&aacute;s&aacute;nak &eacute;s
	  telep&iacute;t&eacute;s&eacute;nek ismerete (<xref
	  linkend="kernelconfig">).</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="printing-intro-spooler">
    <title>Bevezet&eacute;s</title>

    <para>A &os;-ben a nyomtat&oacute;k
      m&#251;k&ouml;d&eacute;s&eacute;hez be kell &aacute;ll&iacute;tani
      az <application>LPD</application> nyomtat&aacute;si rendszert.  Ez
      a Berkeley sornyomtat&aacute;si rendszere, amelyet ezent&uacute;l
      r&ouml;viden csak <application>LPD</application>-nek fogunk
      h&iacute;vni.  Ez a &os; alap&eacute;rtelmezett szabv&aacute;nyos
      nyomtat&aacute;svez&eacute;rl&#245; rendszere.  Ebben a fejezetben
      az <application>LPD</application> &eacute;s annak
      konfigur&aacute;ci&oacute;ja ker&uuml;l bemutat&aacute;sra.</para>

    <para>Ha m&aacute;r tal&aacute;lkoztunk az
      <application>LPD</application>-vel vagy hozz&aacute;
      hasonl&oacute; rendszerekkel, akkor innen nyugodtan ugorhatunk az
      <link linkend="printing-intro-setup">Kezdeti
      be&aacute;ll&iacute;t&aacute;sok</link> c&iacute;m&#251;
      szakaszra.</para>

    <para>Az <application>LPD</application> vez&eacute;rli a
      sz&aacute;m&iacute;t&oacute;g&eacute;phez csatlakoztatott
      nyomtat&oacute; &ouml;sszes funkci&oacute;j&aacute;t.
      Sz&aacute;mos feladata van:</para>

    <itemizedlist>
      <listitem>
	<para>Fel&uuml;gyeli a lok&aacute;lisan &eacute;s
	  h&aacute;l&oacute;zaton kereszt&uuml;l csatlakoztatott
	  nyomtat&oacute;k hozz&aacute;f&eacute;r&eacute;seit.</para>
      </listitem>

      <indexterm><primary>nyomtat&aacute;si
	munk&aacute;k</primary></indexterm>

      <listitem>
	<para>Lehet&#245;v&eacute; teszi az &aacute;tk&uuml;ld&ouml;tt
	  &aacute;llom&aacute;nyok kinyomtat&aacute;s&aacute;t,
	  amelyeket <emphasis>munk&aacute;knak</emphasis>
	  nevez&uuml;nk.</para>
      </listitem>

      <listitem>
	<para>Minden nyomtat&oacute;hoz fenntart egy nyomtat&aacute;si
	  <emphasis>sort</emphasis>, amivel meg tudja
	  akad&aacute;lyozni, hogy egyszerre t&ouml;bb
	  felhaszn&aacute;l&oacute; is hozz&aacute; tudjon f&eacute;rni
	  az egyes nyomtat&oacute;khoz.</para>
      </listitem>

      <listitem>
	<para>A <emphasis>fejl&eacute;ceket</emphasis> (vagy m&aacute;s
	  n&eacute;ven <emphasis>munka-</emphasis> vagy
	  <emphasis>elv&aacute;laszt&oacute; lapokat</emphasis>)
	  nyomtat, &iacute;gy a felhaszn&aacute;l&oacute;k k&ouml;nnyen
	  megtal&aacute;lj&aacute;k a saj&aacute;t nyomtat&aacute;saikat
	  a t&ouml;bbi k&ouml;zt.</para>
      </listitem>

      <listitem>
	<para>Fel&uuml;gyeli a soros portokon csatlakoz&oacute;
	  nyomtat&oacute;k kommunik&aacute;ci&oacute;s
	  be&aacute;ll&iacute;t&aacute;sait.</para>
      </listitem>

      <listitem>
	<para>A h&aacute;l&oacute;zaton kereszt&uuml;l
	  &aacute;tk&uuml;li a munk&aacute;kat egy m&aacute;sik
	  sz&aacute;m&iacute;t&oacute;g&eacute;p
	  <application>LPD</application> sor&aacute;ba.</para>
      </listitem>

      <listitem>
	<para>A nyomtatand&oacute; munk&aacute;k
	  form&aacute;z&aacute;s&aacute;hoz lefuttatja az adott
	  nyomtat&oacute; nyelv&eacute;hez &eacute;s
	  k&eacute;pess&eacute;geihez illeszked&#245; speci&aacute;lis
	  sz&#251;r&#245;ket.</para>
      </listitem>

      <listitem>
	<para>Nyilv&aacute;ntartja a nyomtat&oacute;
	  kihaszn&aacute;lts&aacute;g&aacute;t.</para>
      </listitem>
    </itemizedlist>

    <para>A be&aacute;ll&iacute;t&aacute;sait tartalmaz&oacute;
      &aacute;llom&aacute;ny (<filename>/etc/printcap</filename>)
      &eacute;s a speci&aacute;lis sz&#251;r&#245;programok
      seg&iacute;ts&eacute;g&eacute;vel az
      <application>LPD</application> sokf&eacute;le nyomtat&oacute;n
      k&eacute;pes az &ouml;sszes eml&iacute;tett feladatot vagy annak
      egy r&eacute;sz&eacute;t megval&oacute;s&iacute;tani.</para>

    <sect2 id="printing-intro-why">
      <title>Ami&eacute;rt nyomtat&aacute;si sort &eacute;rdemes
	haszn&aacute;lni</title>

      <para>Amikor csak egyed&uuml;l vagyunk a rendszerben,
	felmer&uuml;lhet benn&uuml;nk a k&eacute;rd&eacute;s, hogy minek
	is kellene nek&uuml;nk vesz&#245;dni a nyomtat&aacute;si sor
	be&aacute;ll&iacute;t&aacute;s&aacute;val, hiszen nincs
	sz&uuml;ks&eacute;g&uuml;nk sem a
	hozz&aacute;f&eacute;r&eacute;sek
	vez&eacute;rl&eacute;s&eacute;re, sem fejl&eacute;cekre, sem
	pedig nyilv&aacute;ntart&aacute;sra.  Noha ak&aacute;r
	k&ouml;zvetlen&uuml;l is el tudjuk &eacute;rni a
	nyomtat&oacute;t, n&eacute;h&aacute;ny okb&oacute;l az&eacute;rt
	m&eacute;gis &eacute;rdemes nyomtat&aacute;si sort
	haszn&aacute;lni:</para>

      <itemizedlist>
	<listitem>
	  <para>Az <application>LPD</application> a
	    h&aacute;tt&eacute;rben nyomtat, ez&eacute;rt ilyenkor nem
	    kell megv&aacute;rni, amikor az adat
	    &aacute;tm&aacute;sol&oacute;dik a nyomtat&oacute;ra.</para>
	</listitem>

	<indexterm><primary>&tex;</primary></indexterm>

	<listitem>
	  <para>Az <application>LPD</application> tetsz&#245;legesen
	    tudja alak&iacute;tani a nyomtat&aacute;si munk&aacute;kat:
	    hozz&aacute;juk tud tenni k&uuml;l&ouml;nb&ouml;z&#245;
	    adatokat (d&aacute;tum &eacute;s id&#245;), vagy a
	    speci&aacute;lis &aacute;llom&aacute;nyokat
	    (p&eacute;ld&aacute;ul a &tex; DVI form&aacute;tum&aacute;t)
	    k&eacute;pes meg&eacute;rtetni a nyomtat&oacute;val,
	    &eacute;s nem nek&uuml;nk kell mindezeket a
	    l&eacute;p&eacute;seket elv&eacute;gezn&uuml;nk.</para>
	</listitem>

	<listitem>
	  <para>Sz&aacute;mos nyomtat&aacute;si lehet&#245;s&eacute;ggel
	    rendelkez&#245; szabad &eacute;s kereskedelmi program arra
	    sz&aacute;m&iacute;t, hogy a rendszer&uuml;nkben
	    nyomtat&aacute;si sor tal&aacute;lhat&oacute;, ez&eacute;rt
	    egy ilyen be&aacute;ll&iacute;t&aacute;s&aacute;val sokkal
	    k&ouml;nnyebb haszn&aacute;lni ezeket a szoftvereket.</para>
	</listitem>
      </itemizedlist>

    </sect2>
  </sect1>

  <sect1 id="printing-intro-setup">
    <title>Kezdeti be&aacute;ll&iacute;t&aacute;sok</title>

    <para>&Uacute;gy tudjuk haszn&aacute;lni a nyomtat&oacute;kat az
      <application>LPD</application> nyomtat&aacute;si
      rendszer&eacute;vel, ha egyar&aacute;nt be&aacute;ll&iacute;tjuk a
      nyomtat&oacute;t &eacute;s mag&aacute;t az
      <application>LPD</application>-t is.  Itt a
      be&aacute;ll&iacute;t&aacute;s k&eacute;t szintj&eacute;t
      t&aacute;rgyaljuk:</para>

    <itemizedlist>
      <listitem>
	<para>Az <link linkend="printing-simple">Alacsonyszint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</link>
	  c&iacute;m&#251; szakaszb&oacute;l megtudhatjuk, hogyan tudunk
	  csatlakoztatni egy nyomtat&oacute;t, hogyan adjuk meg az
	  <application>LPD</application>-nek, mik&eacute;nt
	  kommunik&aacute;ljon vele, hogyan nyomtassunk ki egyszer&#251;
	  sz&ouml;veges &aacute;llom&aacute;nyokat a
	  nyomtat&oacute;n.</para>
      </listitem>

      <listitem>
	<para>A <link linkend="printing-advanced">Magasszint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</link>
	  szakaszban bemutatjuk, hogyan nyomtassunk ki
	  k&uuml;l&ouml;nf&eacute;le speci&aacute;lis
	  &aacute;llom&aacute;nyokat, hogyan
	  k&eacute;sz&iacute;tess&uuml;nk fejl&eacute;ceket, hogyan
	  nyomtassuk h&aacute;l&oacute;zaton kereszt&uuml;l, hogyan
	  vez&eacute;relj&uuml;k a nyomtat&oacute;k
	  hozz&aacute;f&eacute;r&eacute;s&eacute;t &eacute;s hogyan
	  tartsuk nyilv&aacute;n a nyomtat&oacute;
	  haszn&aacute;lat&aacute;t.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="printing-simple">
      <title>Alacsonyszint&#251;
	nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</title>

      <para>Ebben a szakaszban l&aacute;thatjuk, mik&eacute;ppen kell
	be&aacute;ll&iacute;tani a nyomtat&oacute;nkat &eacute;s az
	<application>LPD</application> hogyan lesz k&eacute;pes azt
	haszn&aacute;latba venni.  Az alapokt&oacute;l
	kezd&uuml;nk:</para>

      <itemizedlist>
	<listitem>
	  <para>A <link linkend="printing-hardware">Hardveres
	    be&aacute;ll&iacute;t&aacute;s</link> c&iacute;m&#251;
	    szakaszban abban kapunk seg&iacute;ts&eacute;get, hogyan
	    kell a nyomtat&oacute;t a
	    sz&aacute;m&iacute;t&oacute;g&eacute;phez
	    csatlakoztatni.</para>
	</listitem>

	<listitem>
	  <para>A <link linkend="printing-software"> Szoftveres
	    be&aacute;ll&iacute;t&aacute;s</link> c&iacute;m&#251;
	    szakaszban az <application>LPD</application>
	    nyomtat&aacute;si rendszer
	    be&aacute;ll&iacute;t&aacute;s&aacute;t tartalmaz&oacute;
	    &aacute;llom&aacute;nyt (<filename>/etc/printcap</filename>)
	    vessz&uuml;k sorra.</para>
	</listitem>
      </itemizedlist>

      <para>Amennyiben olyan nyomtat&oacute;t akarunk
	be&aacute;ll&iacute;tani, amely nem helyileg, hanem valamilyen
	h&aacute;l&oacute;zati protokollon kereszt&uuml;l csatlakozik,
	n&eacute;zz&uuml;k meg a <link
	linkend="printing-advanced-network-net-if"> Nyomtat&oacute;k
	h&aacute;l&oacute;zati adatcsatlakoz&aacute;ssal</link>
	c&iacute;m&#251; szakaszt.</para>

      <para>Hab&aacute;r ez a szakasz nev&eacute;ben csup&aacute;n
	<quote>Alacsonyszint&#251;
	nyomtat&oacute;be&aacute;ll&iacute;t&aacute;sr&oacute;l</quote>
	sz&oacute;l, meglehet&#245;sen szerte&aacute;gaz&oacute; tud
	lenni.  A nyomtat&oacute; hardveres &eacute;s szoftveres
	&eacute;letre kelt&eacute;se az egyik legnehezesebb feladat.  Ha
	van egy m&#251;k&ouml;d&#245; nyomtat&oacute;nk, a
	fejl&eacute;cek &eacute;s a nyilv&aacute;ntart&aacute;s
	be&aacute;ll&iacute;t&aacute;sa tulajdonk&eacute;ppen m&aacute;r
	gyerekj&aacute;t&eacute;k.</para>

      <sect3 id="printing-hardware">
	<title>Hardveres be&aacute;ll&iacute;t&aacute;s</title>

	<para>Ebben a szakaszban a nyomtat&oacute;k
	  csatlakoztat&aacute;s&aacute;nak lehets&eacute;ges
	  m&oacute;dozatair&oacute;l esik sz&oacute;.  Besz&eacute;lni
	  fogunk mindenf&eacute;le portokr&oacute;l &eacute;s
	  k&aacute;belekr&#245;l, &eacute;s a &os;
	  rendszermagj&aacute;nak az egyes nyomtat&oacute;k
	  haszn&aacute;lat&aacute;hoz sz&uuml;ks&eacute;ges
	  be&aacute;ll&iacute;t&aacute;sair&oacute;l is.</para>

	<para>Ha kor&aacute;bban tudtuk csatlakoztatni a
	  nyomtat&oacute;nkat, &eacute;s m&aacute;s
	  oper&aacute;ci&oacute;s rendszerekkel m&aacute;r sikeresen is
	  nyomtattunk vele, akkor r&ouml;gt&ouml;n ugorhatunk is a <link
	  linkend="printing-software">Szoftveres
	  be&aacute;ll&iacute;t&aacute;s</link>okat tartalmaz&oacute;
	  szakaszra.</para>

	<sect4 id="printing-ports">
	  <title>Portok &eacute;s k&aacute;belek</title>

	  <para>A szem&eacute;lyi
	    sz&aacute;m&iacute;t&oacute;g&eacute;pekhez kaphat&oacute;
	    nyomtat&oacute;k &aacute;ltal&aacute;ban a
	    k&ouml;vetkez&#245; h&aacute;rom csatol&oacute;fel&uuml;let
	    egyik&eacute;vel rendelkeznek:</para>

	  <itemizedlist>

	    <indexterm>
	      <primary>nyomtat&oacute;</primary>
	      <secondary>soros</secondary>
	    </indexterm>

	    <listitem>
	      <para>A <emphasis>soros</emphasis>, m&aacute;s
		n&eacute;ven RS-232-es vagy COM porton kereszt&uuml;l
		kommunik&aacute;l&oacute; fel&uuml;letek a
		sz&aacute;m&iacute;t&oacute;g&eacute;p soros
		portj&aacute;n k&uuml;ldenek adatot a
		nyomtat&oacute;nak.  A soros
		csatol&oacute;fel&uuml;letek igen elterjedtek a
		sz&aacute;m&iacute;t&oacute;g&eacute;piparban,
		k&ouml;nnyen tudunk ilyen k&aacute;belt szerezni,
		gyorsan is gy&aacute;rthat&oacute;.  El&#245;fordulhat,
		hogy a soros csatol&oacute;fel&uuml;letek
		haszn&aacute;lat&aacute;hoz valamilyen
		k&uuml;l&ouml;nleges k&aacute;belre, valamint bonyolult
		kommunik&aacute;ci&oacute;s
		be&aacute;ll&iacute;t&aacute;sok
		megad&aacute;s&aacute;ra van sz&uuml;ks&eacute;g.  A
		legt&ouml;bb soros port &aacute;ltal
		el&eacute;rhet&#245; legnagyobb adat&aacute;tviteli
		sebess&eacute;g m&aacute;sodpercenk&eacute;nt
		115&nbsp;200 bit, ami miatt azonban a komolyabb grafikai
		tartalmak nyomtat&aacute;sa szinte lehetetlen.</para>
	    </listitem>

	    <indexterm>
	      <primary>nyomtat&oacute;</primary>
	      <secondary>p&aacute;rhuzamos</secondary>
	    </indexterm>

	    <listitem>
	      <para>A <emphasis>p&aacute;rhuzamos</emphasis>
		csatol&oacute;fel&uuml;letek a
		sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
		p&aacute;rhuzamos portj&aacute;val k&uuml;ldenek
		adatokat a nyomtat&oacute;nak.  A p&aacute;rhuzamos
		fel&uuml;letek gyorsabbak az RS-232 soros
		fel&uuml;letn&eacute;l, &eacute;s a
		sz&aacute;m&iacute;t&oacute;g&eacute;ppiacon is gyakran
		megtal&aacute;lhat&oacute;ak.  K&ouml;nnyen tudunk ilyen
		k&aacute;belt szerezni, azonban k&eacute;zileg nehezebb
		elk&eacute;sz&iacute;teni.  A p&aacute;rhuzamos
		csatol&oacute;fel&uuml;letekhez &aacute;ltal&aacute;ban
		nem tartoznak kommunik&aacute;ci&oacute;s
		be&aacute;ll&iacute;t&aacute;sok, ez&eacute;rt
		rendk&iacute;v&uuml;l egyszer&#251;en el lehet
		boldogulni vel&uuml;k.</para>

	      <indexterm>
		<primary>centronics</primary>
		<see>p&aacute;rhuzamos nyomtat&oacute;</see>
	      </indexterm>

	      <para>A p&aacute;rhuzamos fel&uuml;letekre olykor
		<quote>Centronics</quote>
		csatol&oacute;fel&uuml;letk&eacute;nt is hivatkoznak,
		amelyet egy nyomtat&oacute;t&iacute;pus ut&aacute;n
		neveztek el.</para>
	    </listitem>

	    <indexterm>
	      <primary>nyomtat&oacute;</primary>
	      <secondary>USB</secondary>
	    </indexterm>

	    <listitem>
	      <para>A Universal Serial Bus (Univerz&aacute;lis soros
		busz) r&ouml;vid&iacute;t&eacute;sek&eacute;nt
		haszn&aacute;lt USB elnevez&eacute;s&#251;
		csatol&oacute;fel&uuml;let a p&aacute;rhuzamos &eacute;s
		a soros fel&uuml;letekn&eacute;l j&oacute;val nagyobb
		sebess&eacute;gre k&eacute;pes.  A
		hozz&aacute;tartoz&oacute; k&aacute;belek
		fel&eacute;p&iacute;t&eacute;se egyszer&#251; &eacute;s
		az &aacute;ruk olcs&oacute;.  Hab&aacute;r a
		nyomtat&aacute;s ter&eacute;n az USB hivatott
		lev&aacute;ltani az RS-232-es soros &eacute;s a
		p&aacute;rhuzamos fel&uuml;leteket, nem mindegyik &unix;
		rendszer t&aacute;mogatja kell&#245;k&eacute;ppen.  Ezt
		a probl&eacute;m&aacute;t p&eacute;ld&aacute;ul
		&uacute;gy ker&uuml;lhetj&uuml;k el, ha olyan
		nyomtat&oacute;t v&aacute;s&aacute;rolunk, amelyen a
		legt&ouml;bbh&ouml;z hasonl&oacute;an a
		p&aacute;rhuzamos &eacute;s az USB csatlakoz&aacute;s is
		megtal&aacute;lhat&oacute;.</para>
	    </listitem>
	  </itemizedlist>

	  <para>A p&aacute;rhuzamos fel&uuml;leteken
	    &aacute;ltal&aacute;ban csak egy ir&aacute;nyban tudunk
	    &uuml;zeneteket k&uuml;ldeni (a
	    sz&aacute;m&iacute;t&oacute;g&eacute;pt&#245;l a
	    nyomtat&oacute;hoz), mik&ouml;zben az USB &eacute;s a soros
	    fel&uuml;let haszn&aacute;lat&aacute;val mind a k&eacute;t
	    ir&aacute;nyban is.  &os; alatt viszont m&aacute;r az
	    &uacute;jabb (EPP &eacute;s ECP) p&aacute;rhuzamos portok
	    egy IEEE&nbsp;1284 szabv&aacute;ny&uacute; k&aacute;bellel
	    k&eacute;pesek oda-vissza kommunik&aacute;lni.</para>

	  <indexterm><primary>PostScript</primary></indexterm>

	  <para>A p&aacute;rhuzamos nyomtat&oacute;k
	    k&eacute;tir&aacute;ny&uacute;
	    kommunik&aacute;ci&oacute;j&aacute;t &aacute;ltal&aacute;ban
	    k&eacute;t m&oacute;d k&ouml;z&uuml;l az egyiken
	    szokt&aacute;k megval&oacute;s&iacute;tani.  Az els&#245;
	    esetben a &os; a nyomtat&oacute;hoz egy speci&aacute;lis
	    meghajt&oacute;t haszn&aacute;l, amely ismeri az
	    &aacute;ltala besz&eacute;lt nyelvet.  Ilyenek a
	    tintasugaras nyomtat&oacute;k, amelyek m&aacute;s
	    egy&eacute;b &aacute;llapotinform&aacute;ci&oacute;k mellett
	    ezen kereszt&uuml;l k&eacute;pesek jelezni a tinapatronokban
	    lev&#245; tinta mennyis&eacute;g&eacute;t.  A m&aacute;sodik
	    esetben a nyomtat&oacute; ismeri a &postscript;
	    nyelvet.</para>

	  <para>A &postscript; nyelv&#251; munk&aacute;k
	    val&oacute;j&aacute;ban a nyomtat&oacute;nak
	    k&uuml;ld&ouml;tt programok.  Haszn&aacute;latukhoz
	    m&eacute;g pap&iacute;rra sincs felt&eacute;tlen&uuml;l
	    sz&uuml;ks&eacute;g, &eacute;s ad&oacute;dhat, hogy
	    k&ouml;zvetlen&uuml;l a
	    sz&aacute;m&iacute;t&oacute;g&eacute;pnek
	    v&aacute;laszolnak.  A &postscript; is
	    k&eacute;tir&aacute;ny&uacute; kommunik&aacute;ci&oacute;n
	    kereszt&uuml;l &eacute;rtes&iacute;ti a
	    sz&aacute;m&iacute;t&oacute;g&eacute;pet az olyan
	    gondokr&oacute;l, mint p&eacute;ld&aacute;ul a &postscript;
	    programokban lev&#245; hib&aacute;k vagy a pap&iacute;r
	    beakad&aacute;sa, amely inform&aacute;ci&oacute;nak a
	    felhaszn&aacute;l&oacute;k szoktak &ouml;r&uuml;lni.
	    Hovatov&aacute;bb ez a k&eacute;tir&aacute;ny&uacute;
	    kommunik&aacute;ci&oacute; a kulcsa a &postscript;
	    nyomtat&oacute;k hat&eacute;kony
	    nyilv&aacute;ntart&aacute;s&aacute;nak is: egyszer&#251;en
	    lek&eacute;rdezz&uuml;k a nyomtat&oacute;t&oacute;l a
	    lapsz&aacute;ml&aacute;l&oacute;t (ami megadja, hogy a
	    nyomtat&oacute; eddig mennyi lapot nyomtatott ki),
	    kik&uuml;ldj&uuml;k a felhaszn&aacute;l&oacute;hoz
	    tartoz&oacute; feladatot &eacute;s ism&eacute;t
	    lek&eacute;rdezz&uuml;k a lapsz&aacute;ml&aacute;l&oacute;t.
	    A k&eacute;t &eacute;rt&eacute;k
	    kivon&aacute;s&aacute;b&oacute;l
	    t&aacute;j&eacute;koz&oacute;dhatunk a
	    felhaszn&aacute;l&oacute; &aacute;ltal ig&eacute;nyelt lapok
	    mennyis&eacute;g&eacute;r&#245;l.</para>

	</sect4>

	<sect4 id="printing-parallel">
	  <title>P&aacute;rhuzamos portok</title>

	  <para>A p&aacute;rhuzamos csatol&oacute;fel&uuml;leten
	    &eacute;rintkez&#245; nyomtat&oacute;
	    haszn&aacute;lat&aacute;hoz kapcsoljunk &ouml;ssze
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nket &eacute;s
	    nyomtat&oacute;nkat egy p&aacute;rhuzamos k&aacute;bellel.
	    Az erre vonatkoz&oacute; konkr&eacute;t
	    utas&iacute;t&aacute;sok a nyomtat&oacute; &eacute;s/vagy a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p
	    k&eacute;zik&ouml;nyv&eacute;ben olvashat&oacute;ak.</para>

	  <para>Jegyezz&uuml;k meg, hogy a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p melyik
	    p&aacute;rhuzamos portj&aacute;ra csatlakoztattuk a
	    k&aacute;belt.  &os; alatt az els&#245; ilyen port a
	    <filename class="devicefile">ppc0</filename> eszk&ouml;z, a
	    m&aacute;sodik pedig a <filename
	    class="devicefile">ppc1</filename> eszk&ouml;z lesz
	    &eacute;s &iacute;gy tov&aacute;bb.  A
	    nyomtat&oacute;eszk&ouml;z elnevez&eacute;se ugyanezt a
	    s&eacute;m&aacute;t k&ouml;veti: a <filename
	      class="devicefile">/dev/lpt0</filename> lesz az els&#245;
	    p&aacute;rhuzamos porton lev&#245; nyomtat&oacute;
	    stb.</para>

	</sect4>

	<sect4 id="printing-serial">
	  <title>Soros portok</title>

	  <para>A soros csatol&oacute;fel&uuml;letet
	    haszn&aacute;l&oacute; nyomtat&oacute;k
	    be&uuml;zemel&eacute;s&eacute;hez el&#245;sz&ouml;r egy
	    soros k&aacute;bel seg&iacute;ts&eacute;g&eacute;vel
	    kapcsoljuk &ouml;ssze a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nkkel.  Ennek
	    pontos r&eacute;szleteit a nyomtat&oacute; &eacute;s/vagy a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
	    k&eacute;zik&ouml;nyv&eacute;ben tal&aacute;lhatjuk
	    meg.</para>

	  <para>Ha nem vagyunk benne biztosak, hogy milyen a
	    <quote>megfelel&#245; soros k&aacute;bel</quote>,
	    pr&oacute;b&aacute;ljunk az al&aacute;bbiak alapj&aacute;n
	    d&ouml;nteni:</para>

	  <itemizedlist>
	    <listitem>
	      <para>A <emphasis>modem</emphasis> k&aacute;bele a
		k&eacute;t oldal&aacute;n lev&#245; az egym&aacute;snak
		megfelel&#245; t&uuml;sk&eacute;ket
		k&ouml;zvetlen&uuml;l &ouml;sszek&ouml;ti.  Ezt a
		t&iacute;pust nevezik <quote>DTE-DCE</quote>
		k&aacute;belnek.</para>
	    </listitem>

	    <indexterm><primary>null-modem k&aacute;bel</primary></indexterm>

	    <listitem>
	      <para>A <emphasis>null-modem</emphasis> k&aacute;bel
		bizonyos &eacute;rintkez&#245;ket rendesen,
		m&aacute;sokat pedig ford&iacute;tva k&ouml;t &ouml;ssze
		(p&eacute;ld&aacute;ul a k&uuml;ld&#245;t a
		fogad&oacute;val), illetve n&eacute;melyeket
		r&ouml;vidre z&aacute;r k&ouml;zvetlen&uuml;l a
		csatlakoz&oacute;n bel&uuml;l.  Ez a t&iacute;pus a
		<quote>DTE-DTE</quote> k&aacute;bel.</para>
	    </listitem>

	    <listitem>
	      <para>N&eacute;h&aacute;ny speci&aacute;lis
		nyomtat&oacute; eset&eacute;n el&#245;fordul m&eacute;g
		a <emphasis>soros
		nyomtat&oacute;</emphasis>k&aacute;bel, amelyek
		legink&aacute;bb a null-modem k&aacute;belekez
		hasonl&iacute;tanak, azonban az ott r&ouml;vidre
		z&aacute;rt csatorn&aacute;k itt a nekik megfelel&#245;
		&eacute;rintkez&#245;knek tov&aacute;bb&iacute;tanak
		jeleket.</para>
	    </listitem>
	  </itemizedlist>

	  <indexterm><primary>jelv&aacute;lt&aacute;si
	    sebess&eacute;g</primary></indexterm>
	  <indexterm><primary>parit&aacute;s</primary></indexterm>
	  <indexterm><primary>forgalomir&aacute;ny&iacute;t&aacute;si
	    protokoll</primary></indexterm>

	  <para>Emellett m&eacute;g a nyomtat&oacute;
	    el&#245;lapj&aacute;n vagy az alj&aacute;n
	    tal&aacute;lhat&oacute; kapcsol&oacute;k
	    seg&iacute;ts&eacute;g&eacute;vel be kell
	    &aacute;ll&iacute;tanunk a nyomtat&oacute;hoz tartoz&oacute;
	    kommunik&aacute;ci&oacute;s param&eacute;tereket is.  Itt
	    v&aacute;lasszuk azt a <literal>bps</literal> (a bitek
	    sz&aacute;ma m&aacute;sodpercenk&eacute;nt)
	    &eacute;rt&eacute;ket, amelyet m&eacute;g a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk &eacute;s a
	    nyomtat&oacute;nk is egyar&aacute;nt k&eacute;pes
	    t&aacute;mogatni.  V&aacute;lasszunk 7 vagy 8 adatbitet,
	    p&aacute;ros, p&aacute;ratlan vagy kikapcsolt
	    parit&aacute;sbitet &eacute;s 1 vagy 2 stopbitet.  Ekkor
	    tudjuk megadni a forgalomir&aacute;ny&iacute;t&aacute;si
	    protokollt is: lehet kikapcsolt, XON/XOFF (ez az &uacute;n.
	    <quote>s&aacute;von bel&uuml;li</quote> vagy
	    <quote>szoftveres</quote>)
	    forgalomir&aacute;ny&iacute;t&aacute;s.  Ne felejts&uuml;k
	    el ezeket a be&aacute;ll&iacute;t&aacute;sokat a most
	    k&ouml;vetkez&#245; szoftveres
	    be&aacute;ll&iacute;t&aacute;sok elv&eacute;gz&eacute;se
	    sor&aacute;n sem.</para>

	</sect4>
      </sect3>

      <sect3 id="printing-software">
	<title>Szoftveres be&aacute;ll&iacute;t&aacute;s</title>

	<para>Ebben a fejezetben t&aacute;rgyaljuk a &os;-ben
	  tal&aacute;lhat&oacute; <application>LPD</application>
	  nyomtat&aacute;si rendszer m&#251;k&ouml;d&eacute;s&eacute;hez
	  &eacute;s a nyomtat&aacute;shoz sz&uuml;ks&eacute;ges
	  szoftveres be&aacute;ll&iacute;t&aacute;sokat.</para>

	<para>&Iacute;me az elv&eacute;gzend&#245; l&eacute;p&eacute;sek
	  r&ouml;vid v&aacute;zlata:</para>

	<procedure>
	  <step>
	    <para>Amennyiben sz&uuml;ks&eacute;ges,
	      &aacute;ll&iacute;tsuk be a rendszermagunkat
	      nyomtat&oacute; &aacute;ltal haszn&aacute;lt portra.
	      Ehhez <link linkend="printing-kernel">A rendszermag
	      be&aacute;ll&iacute;t&aacute;sa</link> szakaszban
	      olvashatjuk mit is kell pontosan tenni.</para>
	  </step>

	  <step>
	    <para>Ha p&aacute;rhuzamos portot haszn&aacute;lunk, akkor
	      &aacute;ll&iacute;tsuk be, hogy a p&aacute;rhuzamos port
	      mik&eacute;nt fog kommunik&aacute;lni.  <link
	      linkend="printing-parallel-port-mode">A p&aacute;rhuzamos
	      port kommunik&aacute;ci&oacute;s m&oacute;dj&aacute;nak
	      be&aacute;ll&iacute;t&aacute;sa</link> c&iacute;m&#251;
	      szakasz t&aacute;rja fel ennek r&eacute;szleteit.</para>
	  </step>

	  <step>
	    <para>Pr&oacute;b&aacute;ljuk ki, hogy ezek ut&aacute;n az
	      oper&aacute;ci&oacute;s rendszer k&eacute;pes-e adatot
	      k&uuml;ldeni a nyomtat&oacute;nak.  <link
	      linkend="printing-testing">A nyomtat&oacute;
	      kommunik&aacute;ci&oacute;j&aacute;nak
	      ellen&#245;rz&eacute;se</link> szakaszban kapunk erre
	      p&aacute;r javaslatot.</para>
	  </step>

	  <step>
	    <para>Az <filename>/etc/printcap</filename>
	      &aacute;llom&aacute;ny
	      felhaszn&aacute;l&aacute;s&aacute;val
	      &aacute;ll&iacute;tsuk be a nyomtat&oacute;nkhoz a
	      <application>LPD</application>-t.  Err&#245;l a fejezet
	      tov&aacute;bbi r&eacute;szei adnak majd
	      felvil&aacute;gos&iacute;t&aacute;st.</para>
	  </step>
	</procedure>

	<sect4 id="printing-kernel">
	  <title>A rendszermag be&aacute;ll&iacute;t&aacute;sa</title>

	  <para>Az oper&aacute;ci&oacute;s rendszer magja
	    eszk&ouml;z&ouml;k egy adott csoportj&aacute;val
	    k&eacute;pes egy&uuml;ttm&#251;k&ouml;dni, amiben a soros
	    &eacute;s p&aacute;rhuzamos fel&uuml;leten csatlakoz&oacute;
	    nyomtat&oacute;k is megtal&aacute;lhat&oacute;ak.  Azonban
	    ha a rendszermag nem ismeri fel m&eacute;g valamelyiket,
	    akkor a soros vagy p&aacute;rhuzamos portok
	    haszn&aacute;lat&aacute;hoz k&uuml;l&ouml;n
	    t&aacute;mogat&aacute;sra van sz&uuml;ks&eacute;g.</para>

	  <para>&Iacute;gy tudjuk megn&eacute;zni, hogy a jelenleg
	    haszn&aacute;lt rendszermag t&aacute;mogatja-e a soros
	    csatol&oacute;fel&uuml;letet:</para>

	  <screen>&prompt.root; <userinput><command>grep sio<replaceable>N</replaceable> <filename>/var/run/dmesg.boot</filename></command></userinput></screen>

	  <para>Itt az <replaceable>N</replaceable>
	    null&aacute;t&oacute;l kezd&#245;d&#245;en adja meg a soros
	    port sorsz&aacute;m&aacute;t.  Amennyiben l&aacute;tunk
	    valami ilyesmit:</para>

	  <screen>sio2 at port 0x3e8-0x3ef irq 5 on isa
sio2: type 16550A</screen>

	  <para>Ez azt jelenti, hogy a rendszermag sikeresen
	    &eacute;szlelte a portot.</para>

	  <para>A p&aacute;rhuzamos csatol&oacute;fel&uuml;let
	    t&aacute;mogat&aacute;s&aacute;r&oacute;l &iacute;gy
	    gy&#245;z&#245;dhet&uuml;nk meg:</para>

	  <screen>&prompt.root; <userinput><command>grep ppc<replaceable>N</replaceable> /var/run/dmesg.boot</command></userinput></screen>

	  <para>Itt az <replaceable>N</replaceable>
	    null&aacute;t&oacute;l kezd&#245;d&#245;en
	    sorsz&aacute;mozza a p&aacute;rhuzamos portot.  Ha
	    eredm&eacute;ny&uuml;l valami hasonl&oacute;t kapunk:</para>

	  <screen>ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/8 bytes threshold</screen>

	  <para>Ez arra utal, hogy a rendszermagunk tud a
	    portr&oacute;l.</para>

	  <para>El&#245;fordulhat azonban, hogy az
	    oper&aacute;ci&oacute;s rendszer csak akkor fogja
	    &eacute;szrevenni a nyomtat&aacute;sra haszn&aacute;lt soros
	    vagy p&aacute;rhuzamos portot, ha
	    &aacute;t&aacute;ll&iacute;tjuk a rendszermagunkat.</para>

	  <para>A soros port t&aacute;mogat&aacute;s&aacute;nak
	    be&aacute;ll&iacute;t&aacute;s&aacute;hoz olvassuk el a
	    rendszermag be&aacute;ll&iacute;t&aacute;s&aacute;r&oacute;l
	    sz&oacute;l&oacute; szakaszt.  A p&aacute;rhuzamos port
	    t&aacute;mogat&aacute;s&aacute;hoz szint&eacute;n olvassuk
	    el ugyanazt a szakaszt <emphasis>&eacute;s</emphasis> a most
	    a k&ouml;vetkez&#245;t.</para>

	</sect4>
      </sect3>

      <sect3 id="printing-parallel-port-mode">
	<title>A p&aacute;rhuzamos port kommunik&aacute;ci&oacute;s
	  m&oacute;dj&aacute;nak be&aacute;ll&iacute;t&aacute;sa</title>

	<para>A p&aacute;rhuzamos csatol&oacute;fel&uuml;let
	  haszn&aacute;lata eset&eacute;n v&aacute;laszthatunk, hogy a
	  &os; milyen m&oacute;don tartsa a kapcsolatot a
	  nyomtat&oacute;val: megszak&iacute;t&aacute;sokkal
	  vez&eacute;relje (interrupt-driven) vagy esetleg folyamatosan
	  k&eacute;rdezgesse (polled).  A &os; &aacute;ltal&aacute;nos
	  meghajt&oacute;ja (&man.lpt.4;) a &man.ppbus.4; alrendszert
	  haszn&aacute;lja, ami a portot a &man.ppc.4; meghajt&oacute;n
	  kereszt&uuml;l vez&eacute;rli.</para>

	<itemizedlist>
	  <listitem>
	    <para>A <emphasis>megszak&iacute;t&aacute;s
	      alap&uacute;</emphasis> m&oacute;dszer a GENERIC
	      rendszermagban alap&eacute;rtelmez&eacute;s.  Ilyenkor az
	      oper&aacute;ci&oacute;s rendszer egy
	      megszak&iacute;t&aacute;sk&eacute;r&eacute;s
	      felhaszn&aacute;l&aacute;s&aacute;val &eacute;rtes&uuml;l
	      arr&oacute;l, hogy a nyomtat&oacute; mikor &aacute;ll
	      k&eacute;szen adatok fogad&aacute;s&aacute;ra.</para>
	  </listitem>

	  <listitem>
	    <para>A <emphasis>lek&eacute;rdez&eacute;ses</emphasis>
	      m&oacute;dszer haszn&aacute;lata sor&aacute;n az
	      oper&aacute;ci&oacute;s rendszer folyamatosan
	      &eacute;rdekl&#245;dik a nyomtat&oacute;
	      rendelkez&eacute;sre
	      &aacute;ll&aacute;s&aacute;r&oacute;l.  Amikor erre
	      pozit&iacute;v meger&#245;s&iacute;t&eacute;st kap, akkor
	      a rendszermag &uacute;jabb adatokat k&uuml;ld.</para>
	  </listitem>
	</itemizedlist>

	<para>A megszak&iacute;t&aacute;sos m&oacute;dszer valamivel
	  gyorsabb, azonban cser&eacute;be lefoglal egy
	  &eacute;rt&eacute;kes IRQ vonalat.  A HP &uacute;jabb
	  nyomtat&oacute;i &aacute;ll&iacute;t&oacute;lag nem
	  m&#251;k&ouml;dnek megfelel&#245;en ilyen m&oacute;dban,
	  valamilyen (pillanatnyilag m&eacute;g nem teljesen
	  tiszt&aacute;zott) id&#245;z&iacute;t&eacute;si
	  probl&eacute;ma miatt.  Ez&eacute;rt az ilyen
	  nyomtat&oacute;knak is val&oacute;sz&iacute;n&#251;leg a
	  lek&eacute;rdez&eacute;ses m&oacute;dszer kell
	  haszn&aacute;lniuk.  M&aacute;s nyomtat&oacute;k pedig
	  hab&aacute;r m&#251;k&ouml;dnek mind a k&eacute;t
	  m&oacute;dszerrel, hihetetlen&uuml;l lass&uacute;ak a
	  megszak&iacute;t&aacute;sokkal.</para>

	<para>K&eacute;tf&eacute;lek&eacute;ppen
	  &aacute;ll&iacute;thatjuk be a kommunik&aacute;ci&oacute;s
	  m&oacute;dot: a rendszermagon kereszt&uuml;l, vagy az
	  &man.lptcontrol.8; seg&eacute;dprogrammal.</para>

	<para><emphasis>A rendszermagban &iacute;gy
	  &aacute;ll&iacute;thatjuk be a
	  kommunik&aacute;ci&oacute;t:</emphasis></para>

	<procedure>
	  <step>
	    <para>&Iacute;rjuk &aacute;t a rendszermag
	      be&aacute;ll&iacute;t&aacute;sait tartalmaz&oacute;
	      &aacute;llom&aacute;nyt.  Keress&uuml;k meg benne a
	      haszn&aacute;lt p&aacute;rhuzamos portnak megfelel&#245;en
	      a <literal>ppc0</literal>, <literal>ppc1</literal>
	      (m&aacute;sodik p&aacute;rhuzamos port) vagy
	      <literal>ppc2</literal> (harmadik p&aacute;rhuzamos port)
	      bejegyz&eacute;st, &eacute;s
	      enged&eacute;lyezz&uuml;k.</para>

	    <itemizedlist>
	      <listitem>
		<para>A megszak&iacute;t&aacute;sos m&oacute;d
		  haszn&aacute;lat&aacute;hoz nyissuk meg a
		  <filename>/boot/device.hints</filename>
		  &aacute;llom&aacute;nyt, &eacute;s az
		  <replaceable>N</replaceable> hely&eacute;re
		  &iacute;rjuk be a</para>

		<programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		<para>sorba a megfelel&#245; IRQ sz&aacute;m&aacute;t.
		  A rendszermag be&aacute;ll&iacute;t&aacute;sait
		  tartalmaz&oacute; &aacute;llom&aacute;nynak
		  tartalmaznia kell a &man.ppc.4; meghajt&oacute;t
		  is:</para>

		 <screen>device ppc</screen>

	      </listitem>

	      <listitem>
		<para>A lek&eacute;rdez&eacute;ses m&oacute;d
		  haszn&aacute;lat&aacute;hoz a
		  <filename>/boot/device.hints</filename>
		  &aacute;llom&aacute;nyb&oacute;l
		  t&aacute;vol&iacute;tsuk el a k&ouml;vetkez&#245;
		  sort:</para>

		<programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		<para>N&eacute;mely esetben azonban ennyi m&eacute;g nem
		  lesz el&eacute;g a port lek&eacute;rdez&eacute;ses
		  be&aacute;ll&iacute;t&aacute;s&aacute;hoz.  Ugyanis ha
		  a hozz&aacute;tartoz&oacute; meghajt&oacute; az
		  &man.acpi.4;, akkor ez fogja felismerni, kezelni
		  &eacute;s a nyomtat&oacute;hoz tartoz&oacute; portok
		  hozz&aacute;f&eacute;r&eacute;si m&oacute;dj&aacute;t
		  vez&eacute;relni.  A probl&eacute;m&aacute;t
		  ez&eacute;rt gyakran &eacute;rdemes a &man.acpi.4;
		  be&aacute;ll&iacute;t&aacute;sai k&ouml;z&ouml;tt is
		  keresni.</para>
	      </listitem>
	    </itemizedlist>
	  </step>

	  <step>
	    <para>Ments&uuml;k el az &aacute;llom&aacute;nyt.
	      Konfigur&aacute;ljuk be, ford&iacute;tsuk le &eacute;s
	      telep&iacute;ts&uuml;k az &uacute;j rendszermagot.  Ennek
	      pontos r&eacute;szleteit <link linkend="kernelconfig">a
	      rendszermag
	      be&aacute;ll&iacute;t&aacute;s&aacute;r&oacute;l</link>
	      sz&oacute;l&oacute; fejezetben olvashatjuk.</para>
	  </step>
	</procedure>

	<para><emphasis>A kommunik&aacute;ci&oacute;
	  m&oacute;dj&aacute;nak
	  be&aacute;ll&iacute;t&aacute;sa</emphasis> az
	  &man.lptcontrol.8; programmal:</para>

	<procedure>
	  <step>
	    <para>A megszak&iacute;t&aacute;sos m&oacute;d
	      be&aacute;ll&iacute;t&aacute;s&aacute;hoz &iacute;rjuk
	      be:</para>

	    <screen>&prompt.root; <userinput><command>lptcontrol <option>-i</option> <option>-d</option> <filename class="devicefile">/dev/lpt<replaceable>N</replaceable></filename></command></userinput></screen>

	    <para>ahol az
	      <literal>lpt<replaceable>N</replaceable></literal> a
	      nyomtat&oacute;hoz tartoz&oacute; eszk&ouml;z neve.</para>
	  </step>

	  <step>
	    <para>A lek&eacute;rdez&eacute;ses m&oacute;d
	      be&aacute;ll&iacute;t&aacute;s&aacute;hoz &iacute;rjuk
	      be:</para>

	    <screen>&prompt.root; <userinput><command>lptcontrol <option>-p</option> <option>-d</option> <filename class="devicefile">/dev/lpt<replaceable>N</replaceable></filename></command></userinput></screen>

	    <para>ahol az
	      <literal>lpt<replaceable>N</replaceable></literal> a
	      nyomtat&oacute;hoz tartoz&oacute; eszk&ouml;z neve.</para>
	  </step>
	</procedure>

	<para>Ha ezeket a parancsokat berakjuk az
	  <filename>/etc/rc.local</filename>
	  &aacute;llom&aacute;nyunkba, akkor azzal a rendszer minden
	  egyes ind&iacute;t&aacute;sa sor&aacute;n
	  be&aacute;ll&iacute;tjuk a sz&aacute;munkra megfelel&#245;
	  m&oacute;dot.  Err&#245;l t&ouml;bbet az &man.lptcontrol.8;
	  man oldal&aacute;r&oacute;l tudhatunk meg.</para>
      </sect3>

      <sect3 id="printing-testing">
	<title>A kommunik&aacute;ci&oacute;
	  ellen&#245;rz&eacute;se</title>

	<para>M&eacute;g miel&#245;tt nekil&aacute;tn&aacute;nk a
	  nyomtat&aacute;si rendszer
	  be&aacute;ll&iacute;t&aacute;s&aacute;nak, bizonyosodjuk meg
	  r&oacute;la, hogy az oper&aacute;ci&oacute;s rendszer
	  k&eacute;pes adatokat tov&aacute;bb&iacute;tani a
	  nyomtat&oacute;nak.  Sokkal k&ouml;nnyebb
	  egym&aacute;st&oacute;l f&uuml;ggetlen&uuml;l
	  megvizsg&aacute;lni a kommunik&aacute;ci&oacute; &eacute;s
	  nyomtat&aacute;si rendszer
	  m&#251;k&ouml;d&eacute;s&eacute;t.</para>

	<para>A nyomtat&oacute;t &uacute;gy tudjuk
	  kipr&oacute;b&aacute;lni, ha k&uuml;ld&uuml;nk neki valamilyen
	  sz&ouml;veget.  Az &man.lptest.1; t&ouml;k&eacute;letesen
	  megfelel&#245; akkor, ha olyan nyomtat&oacute;nk van, amely
	  azonnal kinyomtatja a kapott sz&ouml;veget.  Ez a program 96
	  sorban l&eacute;trehozza mind az &ouml;sszes 96
	  kinyomtathat&oacute; ASCII karaktert.</para>

	<indexterm><primary>PostScript</primary></indexterm>

	<para>A &postscript; (vagy m&aacute;s egy&eacute;b nyelvet
	  ismer&#245;) nyomtat&oacute;knak azonban enn&eacute;l
	  kifinomultabb pr&oacute;b&aacute;ra van sz&uuml;ks&eacute;ge.
	  Erre a c&eacute;lra t&ouml;k&eacute;letesen megfelel egy olyan
	  kisebb &postscript; programocska, mint p&eacute;ld&aacute;ul
	  ez:</para>

	<programlisting>%!PS
100 100 moveto 300 300 lineto stroke
310 310 moveto /Helvetica findfont 12 scalefont setfont
(Remek! Ez mukodik!) show
showpage</programlisting>

	<para>Ezt a &postscript; k&oacute;dot nyugodtan
	  elmenthetj&uuml;k egy &aacute;llom&aacute;nyba, amelyet
	  azt&aacute;n a k&eacute;s&#245;bbi szakaszokban megjelen&#245;
	  p&eacute;ld&aacute;k szerint haszn&aacute;lni is tudunk
	  majd.</para>

	<indexterm><primary>PCL</primary></indexterm>

	<note>
	  <para>A k&eacute;zik&ouml;nyvben a nyomtat&oacute; nyelve
	    alatt legink&aacute;bb egy &postscript;-szer&#251; nyelvet
	    &eacute;rt&uuml;nk, nem pedig a Hewlett Packard PCL
	    t&iacute;pus&uacute; nyelv&eacute;t.  Hab&aacute;r a PCL
	    nagyon sokra k&eacute;pes, hiszen keverhetj&uuml;k
	    m&eacute;g benne ak&aacute;r a programokat &eacute;s a nyers
	    sz&ouml;vegeket is.  Ezzel szemben a &postscript; nem
	    k&eacute;pes nyers sz&ouml;veget kinyomtatni, ez&eacute;rt
	    az ilyen t&iacute;pus&uacute; nyomtat&oacute;k
	    m&#251;k&ouml;dtet&eacute;s&eacute;hez k&uuml;l&ouml;n
	    t&aacute;mogat&aacute;sra van
	    sz&uuml;ks&eacute;g&uuml;nk.</para>
	</note>

	<sect4 id="printing-checking-parallel">
	  <title>A p&aacute;rhuzamos nyomtat&oacute;
	    ellen&#245;rz&eacute;se</title>

	  <indexterm>
	    <primary>nyomtat&oacute;</primary>
	    <secondary>p&aacute;rhuzamos</secondary>
	  </indexterm>

	  <para>Ebben a szakaszban megtudhatjuk, hogy &os; alatt
	    mik&eacute;nt ellen&#245;rizz&uuml;k a p&aacute;rhuzamos
	    portra csatlakoz&oacute; nyomtat&oacute;k
	    m&#251;k&ouml;d&eacute;s&eacute;t.</para>

	  <para><emphasis>A p&aacute;rhuzamos porton lev&#245;
	    nyomtat&oacute;
	    kipr&oacute;b&aacute;l&aacute;s&aacute;hoz:</emphasis></para>

	  <procedure>
	    <step>
	      <para>A &man.su.1; seg&iacute;ts&eacute;g&eacute;vel
		v&aacute;ljunk <username>root</username>
		felhaszn&aacute;l&oacute;v&aacute;.</para>
	    </step>

	    <step>
	      <para>K&uuml;ldj&uuml;nk a nyomtat&oacute;nak valamilyen
		adatot.</para>

	      <itemizedlist>
		<listitem>
		  <para>Ha a nyomtat&oacute; k&eacute;pes nyers
		    sz&ouml;veget fogadni, akkor haszn&aacute;ljuk az
		    &man.lptest.1; programot.  Ehhez
		    g&eacute;pelj&uuml;k be:</para>

		  <screen>&prompt.root; <userinput><command>lptest &gt; <filename class="devicefile">/dev/lpt<replaceable>N</replaceable></filename></command></userinput></screen>

		  <para>ahol az <replaceable>N</replaceable>
		    null&aacute;t&oacute;l kezd&#245;d&#245;en a
		    p&aacute;rhuzamos port sorsz&aacute;ma.</para>
		</listitem>

		<listitem>
		  <para>Ha a nyomtat&oacute; &postscript; vagy
		    m&aacute;s nyomtat&aacute;si nyelvet ismer, akkor
		    egy apr&oacute; programot kell k&uuml;lden&uuml;nk
		    neki.  Ehhez &iacute;rjuk be:</para>

		  <screen>&prompt.root; <userinput><command>cat &gt; <filename class="devicefile">/dev/lpt<replaceable>N</replaceable></filename></command></userinput></screen>

		  <para>Ezut&aacute;n soronk&eacute;nt &iacute;rjuk be a
		    programot, de
		    <emphasis>vigy&aacute;zzunk</emphasis>, mert az
		    <keycap>Enter</keycap> vagy a
		    <keycap>Return</keycap> lenyom&aacute;sa ut&aacute;n
		    m&aacute;r nem tudjuk kijav&iacute;tani!  A program
		    beg&eacute;pel&eacute;se ut&aacute;n nyomjuk meg a
		    <keycombo action="simul">
		    <keycap>Ctrl</keycap><keycap>D</keycap> </keycombo>
		    vagy b&aacute;rmely m&aacute;s olyan
		    billenty&#251;kombin&aacute;ci&oacute;t, amivel ki
		    tudunk l&eacute;pni.</para>

		  <para>Ezt a programot belerakhatjuk egy
		    &aacute;llom&aacute;nyba is, amire azt&aacute;n
		    adjuk ki az al&aacute;bbi parancsot:</para>

		  <screen>&prompt.root; <userinput><command>cat <filename><replaceable>&aacute;llom&aacute;ny</replaceable></filename> &gt; <filename class="devicefile">/dev/lpt<replaceable>N</replaceable></filename></command></userinput></screen>

		  <para>ahol az
		    <replaceable>&aacute;llom&aacute;ny</replaceable> a
		    nyomtat&oacute;ra k&uuml;ldend&#245; program neve
		    lesz.</para>
		</listitem>
	      </itemizedlist>
	    </step>
	  </procedure>

	  <para>Ezut&aacute;n a nyomtat&oacute; megkezdi a
	    nyomtat&aacute;st.  Ne agg&oacute;djunk, ha netal&aacute;n
	    valami furcs&aacute;n n&eacute;zne ki, mert a
	    k&eacute;s&#245;bbiekben ezt m&eacute;g &uacute;gyis
	    rendbetessz&uuml;k.</para>

	</sect4>

	<sect4 id="printing-checking-serial">
	  <title>A soros nyomtat&oacute; ellen&#245;rz&eacute;se</title>

	  <indexterm>
	    <primary>nyomtat&oacute;</primary>
	    <secondary>soros</secondary>
	  </indexterm>

	  <para>Ebben a szakaszban megtudhatjuk, hogyan
	    ellen&#245;rizz&uuml;k a &os; &eacute;s soros portra
	    k&ouml;t&ouml;tt nyomtat&oacute;
	    kapcsol&oacute;d&aacute;s&aacute;t.</para>

	  <para><emphasis>&Iacute;gy tudjuk kipr&oacute;b&aacute;lni a
	    soros porton csatlakoz&oacute;
	    nyomtat&oacute;nkat:</emphasis></para>

	  <procedure>
	    <step>
	      <para>A &man.su.1; paranccsal v&aacute;ljunk
		<username>root</username>
		felhaszn&aacute;l&oacute;v&aacute;.</para>
	    </step>

	    <step>
	      <para>Nyissuk meg az <filename>/etc/remote</filename>
		&aacute;llom&aacute;nyt.  Tegy&uuml;k hozz&aacute; a
		k&ouml;vetkez&#245; sort:</para>

	      <programlisting>printer:dv=<filename class="devicefile">/dev/<replaceable>port</replaceable></filename>:br#<replaceable>bps</replaceable>:pa=<replaceable>parit&aacute;s</replaceable></programlisting>

	      <indexterm><primary>bit-per-m&aacute;sodperc</primary></indexterm>
	      <indexterm><primary>soros port</primary></indexterm>
	      <indexterm><primary>parit&aacute;s</primary></indexterm>

	      <para>ahol a <replaceable>port</replaceable> a soros porthoz
		tartoz&oacute; eszk&ouml;zle&iacute;r&oacute; neve
		(<literal>ttyd0</literal>, <literal>ttyd1</literal>,
		stb.), a <replaceable>bps</replaceable> a
		nyomtat&oacute; &aacute;ltal haszn&aacute;lt
		adat&aacute;tviteli sebess&eacute;g, v&eacute;g&uuml;l a
		<replaceable>parit&aacute;s</replaceable> a
		nyomtat&oacute;hoz haszn&aacute;lt parit&aacute;s (ami
		lehet <literal>even</literal> (p&aacute;ros),
		<literal>odd</literal> (p&aacute;ratlan),
		<literal>none</literal> (nincs), vagy
		<literal>zero</literal> (nulla)).</para>

	      <para>&Iacute;me egy olyan soros nyomtat&oacute;
		be&aacute;ll&iacute;t&aacute;sa
		(<literal>printer</literal> n&eacute;ven), amely
		sebess&eacute;ge 19&nbsp;200&nbsp;bps, a harmadik portra
		csatlakozik &eacute;s nem haszn&aacute;l
		parit&aacute;st:</para>

	      <programlisting>printer:dv=<filename class="devicefile">/dev/ttyd2</filename>:br#19200:pa=none</programlisting>
	    </step>

	    <step>
	      <para>Kapcsol&oacute;djunk a nyomtat&oacute;hoz a
		&man.tip.1; seg&iacute;ts&eacute;g&eacute;vel.  Ennek
		parancsa:</para>

	      <screen>&prompt.root; <userinput><command>tip</command> printer</userinput></screen>

	      <para>Ha az im&eacute;nti l&eacute;p&eacute;s nem
		m&#251;k&ouml;dne, pr&oacute;b&aacute;lkozzunk az
		<filename>/etc/remote</filename> &aacute;llom&aacute;ny
		&uacute;jb&oacute;li
		m&oacute;dos&iacute;t&aacute;s&aacute;val, &eacute;s a
		<filename
		  class="devicefile">/dev/cuaa<replaceable>N</replaceable></filename>
		eszk&ouml;z helyett haszn&aacute;ljuk a <filename
		  class="devicefile">/dev/ttyd<replaceable>N</replaceable></filename>
		eszk&ouml;zt!</para>
	    </step>

	    <step>
	      <para>K&uuml;ldj&uuml;nk adatot a
		nyomtat&oacute;nak.</para>

	      <itemizedlist>
		<listitem>
		  <para>Ha a nyomtat&oacute; k&eacute;pes nyers
		    sz&ouml;veget nyomtatni, akkor haszn&aacute;ljuk az
		    &man.lptest.1; seg&eacute;dprogramot.
		    G&eacute;pelj&uuml;k be:</para>

		  <screen>&prompt.user; <userinput>$lptest</userinput></screen>
		</listitem>

		<listitem>
		  <para>Ha a nyomtat&oacute; a &postscript; vagy egy
		    hozz&aacute; hasonl&oacute; nyomtat&aacute;si
		    nyelven kommunik&aacute;l, akkor a
		    nyomtat&oacute;nak egy r&ouml;vid programot kell
		    k&uuml;lden&uuml;nk.  Soronk&eacute;nt
		    g&eacute;pelj&uuml;k be a programot, azonban
		    <emphasis>vigy&aacute;zzunk</emphasis> arra, hogy a
		    t&ouml;rl&eacute;s &eacute;s minden m&aacute;s
		    szerkeszt&eacute;sre haszn&aacute;lt billenty&#251;
		    a nyomtat&oacute; sz&aacute;m&aacute;ra is
		    &eacute;rtelmes lehet.  Az is el&#245;fordulhat,
		    hogy a program k&uuml;ld&eacute;s&eacute;t egy
		    speci&aacute;lis jelsorozattal tudjuk csak
		    lez&aacute;rni.  A &postscript; nyomtat&oacute;k
		    eset&eacute;n ilyenkor elegend&#245; a <keycombo
		    action="simul"><keycap>Ctrl</keycap>
		    <keycap>D</keycap></keycombo> billenty&#251;k
		    egy&uuml;ttes lenyom&aacute;sa.</para>

		  <para>Vagy tehetj&uuml;k az eg&eacute;sz programot egy
		    &aacute;llom&aacute;nyba, amihez azt&aacute;n
		    &iacute;rjuk be ezt:</para>

		  <screen>&prompt.user; <userinput>&gt;<replaceable>&aacute;llom&aacute;ny</replaceable></userinput></screen>

		  <para>ahol az
		    <replaceable>&aacute;llom&aacute;ny</replaceable> a
		    programot tartalmaz&oacute; &aacute;llom&aacute;ny
		    neve.  Miut&aacute;n a &man.tip.1; elk&uuml;ldte az
		    &aacute;llom&aacute;nyt, nyomjuk le a
		    lez&aacute;r&aacute;shoz sz&uuml;ks&eacute;ges
		    billenty&#251;kombin&aacute;ci&oacute;t.</para>
		</listitem>
	      </itemizedlist>
	    </step>
	  </procedure>

	  <para>Most m&aacute;r meg kellene jelennie valaminek a
	    nyomtat&oacute;n.  Az m&eacute;g nem sz&aacute;m&iacute;t,
	    pontosan mi is lesz az &mdash; k&eacute;s&#245;bb m&eacute;g
	    majd &uacute;gyis be&aacute;ll&iacute;tjuk.</para>

	</sect4>
      </sect3>

      <sect3 id="printing-printcap">
	<title>A nyomtat&aacute;si rendszer aktiv&aacute;l&aacute;sa: a
	  <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;ny</title>

	<para>Csatlakoztattuk a nyomtat&oacute;nkat, a
	  m&#251;k&ouml;dtet&eacute;s&eacute;hez
	  be&aacute;ll&iacute;tottuk a rendszermagot (amennyiben erre
	  sz&uuml;ks&eacute;g&uuml;nk volt), &eacute;s tudtunk neki
	  adatokat k&uuml;ldeni.  Most m&aacute;r k&eacute;szen
	  &aacute;llunk arra, hogy <application>LDP</application>
	  alkalmaz&aacute;son kereszt&uuml;l be&aacute;ll&iacute;tsuk a
	  nyomtat&oacute; hozz&aacute;f&eacute;r&eacute;s&eacute;nek
	  vez&eacute;rl&eacute;s&eacute;t.</para>

	<para>Az <application>LPD</application>
	  be&aacute;ll&iacute;t&aacute;sait az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	  tal&aacute;ljuk.  Az <application>LPD</application>
	  nyomtat&aacute;si rendszer minden egyes m&#251;velet
	  el&#245;tt beolvassa ezt az &aacute;llom&aacute;nyt,
	  ez&eacute;rt a benne v&eacute;gzett
	  m&oacute;dos&iacute;t&aacute;sok szinte azonnal &eacute;letbe
	  is l&eacute;pnek.</para>

	<indexterm>
	  <primary>nyomtat&oacute;</primary>
	  <secondary>tulajdons&aacute;gai</secondary>
  </indexterm>

	<para>A &man.printcap.5; tartalma k&ouml;nnyen
	  &eacute;rthet&#245;, a <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyt egyszer&#251;en
	  m&oacute;dos&iacute;thatjuk a kedvenc
	  sz&ouml;vegszerkeszt&#245;nkkel.  A
	  fel&eacute;p&iacute;t&eacute;se teljesen megegyezik a
	  t&ouml;bbi hozz&aacute; hasonl&oacute;
	  &aacute;llom&aacute;ny&eacute;val: ilyenek
	  p&eacute;ld&aacute;ul a
	  <filename>/usr/share/misc/termcap</filename> &eacute;s a
	  <filename>/etc/remote</filename>.  Az itt alkalmazott
	  form&aacute;tum teljes le&iacute;r&aacute;s&aacute;t a
	  &man.cgetent.3; man oldalon tal&aacute;ljuk.</para>

	<para>A nyomtat&aacute;si rendszer egyszer&#251;
	  be&aacute;ll&iacute;t&aacute;sa az al&aacute;bbi
	  l&eacute;p&eacute;sekb&#245;l &aacute;ll:</para>

	<procedure>
	  <step>
	    <para>Adjunk nevet (&eacute;s m&eacute;g
	      n&eacute;h&aacute;ny &aacute;lnevet) a nyomtat&oacute;nak,
	      &iacute;rjuk ezeket az <filename>/etc/printcap</filename>
	      &aacute;llom&aacute;nyba.  A nevekr&#245;l <link
	      linkend="printing-naming">A nyomtat&oacute;
	      elnevez&eacute;se</link> c&iacute;m&#251; szakaszban
	      kapunk felvil&aacute;gos&iacute;t&aacute;st.</para>
	  </step>

	  <indexterm><primary>fejl&eacute;clapok</primary></indexterm>

	  <step>
	    <para>A(z alapb&oacute;l bekapcsolt) fejl&eacute;clapokat az
	      <literal>sh</literal> tulajdons&aacute;g
	      megad&aacute;s&aacute;val kapcsolhatjuk ki.  A
	      r&eacute;szleteket <link
	      linkend="printing-no-header-pages"> A fejl&eacute;clapok
	      letilt&aacute;sa</link> c&iacute;m&#251; szakaszban
	      tal&aacute;ljuk.</para>
	  </step>

	  <step>
	    <para>Hozzunk l&eacute;tre egy nyomtat&aacute;si
	      k&ouml;nyvt&aacute;rat, &eacute;s adjuk meg a
	      hely&eacute;t az <literal>sd</literal> tulajdons&aacute;g
	      be&aacute;ll&iacute;t&aacute;s&aacute;val.  <link
	      linkend="printing-spooldir">A nyomtat&aacute;si
	      k&ouml;nyvt&aacute;r l&eacute;trehoz&aacute;sa</link>
	      c&iacute;m&#251; szakaszban fogunk err&#245;l t&ouml;bbet
	      mondani.</para>
	  </step>

	  <step>
	    <para>&Aacute;ll&iacute;tsunk be egy nyomtat&oacute;
	      &aacute;ltal haszn&aacute;lt <filename
	      class="directory">/dev</filename> k&ouml;nyvt&aacute;rbeli
	      le&iacute;r&oacute;t, &eacute;s az <literal>lp</literal>
	      tulajdons&aacute;ggal adjuk meg az
	      <filename>/etc/printcap</filename>
	      &aacute;llom&aacute;nyban.  Err&#245;l
	      r&eacute;szletesebben <link linkend="printing-device">A
	      nyomtat&oacute;eszk&ouml;z
	      azonos&iacute;t&aacute;sa</link> c&iacute;m&#251;
	      szakaszban olvashatunk.  Ha a nyomtat&oacute; soros porton
	      kereszt&uuml;l csatlakozik, az <literal>ms#</literal>
	      tulajdons&aacute;ggal m&eacute;g meg kell adnunk <link
	      linkend="printing-commparam">A nyomtat&aacute;si rendszer
	      kommunik&aacute;ci&oacute;s param&eacute;terei</link>
	      szakaszban t&aacute;rgyaltakat is.</para>
	  </step>

	  <step>
	    <para>Helyezz&uuml;nk el egy sz&#251;r&#245;t a
	      be&eacute;rkez&#245; nyers sz&ouml;vegek
	      sz&aacute;m&aacute;ra.  Err&#245;l <link
	      linkend="printing-textfilter">A sz&ouml;vegsz&#251;r&#245;
	      telep&iacute;t&eacute;se</link> c&iacute;m&#251; szakasz
	      &eacute;rtekezik.</para>
	  </step>

	  <step>
	    <para>Az &man.lpr.1; parancs
	      seg&iacute;ts&eacute;g&eacute;vel pr&oacute;b&aacute;ljuk
	      ki a nyomtat&aacute;st.  Ennek pontos r&eacute;szleteit a
	      <link linkend="printing-trying">Pr&oacute;b&aacute;ljuk
	      ki!</link> &eacute;s a <link
	      linkend="printing-troubleshooting">Hibakeres&eacute;s</link>
	      c&iacute;m&#251; fejezetekben tal&aacute;lhatjuk
	      meg.</para>
	  </step>
	</procedure>

	<note>
	  <para>A magasabb szint&#251; nyomtat&oacute;k, mint
	    p&eacute;ld&aacute;ul a &postscript; nyomtat&oacute;k nem
	    k&eacute;pesek k&ouml;zvetlen&uuml;l nyers sz&ouml;veget
	    nyomtatni.  Az im&eacute;nt felv&aacute;zolt egyszer&#251;
	    be&aacute;ll&iacute;t&aacute;si s&eacute;ma
	    felt&eacute;telezi, hogy csak olyan
	    &aacute;llom&aacute;nyokat fogunk nyomtatni a
	    nyomtat&oacute;n, amelyeket meg is &eacute;rt.</para>
	</note>

	<para>A felhaszn&aacute;l&oacute;k gyakran arra
	  sz&aacute;m&iacute;tanak, hogy b&aacute;rmelyik &aacute;ltaluk
	  el&eacute;rhet&#245; nyomtat&oacute;n k&eacute;pesek nyers
	  sz&ouml;veget kinyomtatni.  Az <application>LPD</application>
	  alkalmaz&aacute;ssal kapcsolatban &aacute;ll&oacute; programok
	  is &aacute;ltal&aacute;ban ugyanezt az elgondol&aacute;st
	  k&ouml;vetik.  Ha egy saj&aacute;t nyelvvel rendelkez&#245;
	  nyomtat&oacute;t akarunk telep&iacute;teni, de a
	  nyomtat&oacute; saj&aacute;t nyelv&eacute;n
	  <emphasis>&eacute;s</emphasis> a nyers sz&ouml;veg
	  form&aacute;j&aacute;ban &eacute;rkez&#245; munk&aacute;kat is
	  rendesen ki akarjuk nyomtatni, akkor mindenk&eacute;ppen
	  javasoljuk, hogy illesz&uuml;nk m&eacute;g egy tov&aacute;bbi
	  l&eacute;p&eacute;st is ebbe a sorba: illessz&uuml;nk a
	  rendszerbe egy nyers sz&ouml;vegr&#245;l automatikusan
	  &postscript; (vagy m&aacute;s egy&eacute;b) nyelvre
	  tolm&aacute;csol&oacute; programot.  Err&#245; a <link
	  linkend="printing-advanced-if-conversion">Sz&ouml;veges
	  nyomtat&aacute;si feladatok &postscript;
	  nyomtat&oacute;kon</link> c&iacute;m&#251; fejezetben
	  olvashatunk.</para>

	<sect4 id="printing-naming">
	  <title>A nyomtat&oacute; elnevez&eacute;se</title>

	  <para>Az els&#245; (egyszer&#251;) l&eacute;p&eacute;s a
	    nyomtat&oacute;nk nev&eacute;nek kiv&aacute;laszt&aacute;sa.
	    Igaz&aacute;b&oacute;l nem sz&aacute;m&iacute;t, mennyire
	    kifejez&#245; vagy &eacute;ppen h&oacute;bortos nevet adunk
	    neki, hiszen emellett m&eacute;g sz&aacute;mos
	    &aacute;ln&eacute;vvel is illethetj&uuml;k.</para>

	  <para>Az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyban megtal&aacute;lhat&oacute;
	    nyomtat&oacute;k egyik&eacute;nek legal&aacute;bb az
	    <literal>lp</literal> &aacute;ln&eacute;vvel rendelkeznie
	    kell, mivel ez lesz az alap&eacute;rtelmezett
	    nyomtat&oacute; neve.  Teh&aacute;t ha a
	    felhaszn&aacute;l&oacute; nem adja meg sem a
	    <envar>PRINTER</envar> k&ouml;rnyezeti
	    v&aacute;ltoz&oacute;t, sem pedig az
	    <application>LPD</application>-vel kapcsolatban
	    &aacute;ll&oacute; aktu&aacute;lis parancsban a
	    haszn&aacute;lni k&iacute;v&aacute;nt nyomtat&oacute;
	    nev&eacute;t, akkor a rendszer az <literal>lp</literal>
	    nev&#251;t fogja keresni.</para>

	  <para>Ezenk&iacute;v&uuml;l &aacute;ltal&aacute;ban m&eacute;g
	    gyakran adnak egy olyan &aacute;lnevet is a
	    nyomtat&oacute;nak, ahol annak teljes le&iacute;r&aacute;sa,
	    t&ouml;bbek k&ouml;zt a gy&aacute;rtm&aacute;nya &eacute;s a
	    t&iacute;pusa szerepel.</para>

	  <para>Ahogy siker&uuml;lt nevet &eacute;s &aacute;lneveket
	    adni a nyomtat&oacute;nak, &iacute;rjuk is be ezeket az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyba.
	    Itt a nyomtat&oacute; neveit balr&oacute;l el kezdj&uuml;k
	    felsorolni, mindegyik &aacute;lnevet egy
	    f&uuml;gg&#245;leges vonallal v&aacute;lasszunk el,
	    &eacute;s az utols&oacute; ut&aacute;n pedig tegy&uuml;nk
	    pontosvessz&#245;t.</para>

	  <para>A most k&ouml;vetkez&#245; p&eacute;ld&aacute;ban egy
	    olyan v&aacute;zt mutatunk be az
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyhoz, amiben k&eacute;t
	    nyomtat&oacute;t (egy Diablo 630
	    m&aacute;rk&aacute;j&uacute; sornyomtat&oacute;t &eacute;s
	    egy Panasonic KX-P4455 t&iacute;pus&uacute; &postscript;
	    l&eacute;zernyomtat&oacute;t) adunk meg:</para>

	  <programlisting>#
#  /etc/printcap (rose)
#
rattan|line|diablo|lp|Diablo 630 Line Printer:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:</programlisting>

	  <para>Ebben a p&eacute;ld&aacute;ban az els&#245;
	    nyomtat&oacute; neve <literal>rattan</literal>, &eacute;s
	    ehhez tartozik m&eacute;g a <literal>line</literal>,
	    <literal>diablo</literal>, <literal>lp</literal>, &eacute;s
	    <literal>Diablo 630 Line Printer</literal>
	    &aacute;ln&eacute;v.  Mivel itt soroltuk fel az
	    <literal>lp</literal> &aacute;lnevet is, ez&eacute;rt a
	    rendszerben ez lesz az alap&eacute;rtelmezett
	    nyomtat&oacute;.  A m&aacute;sodik nyomtat&oacute; neve
	    <literal>bamboo</literal>, &eacute;s &aacute;lnevei
	    t&ouml;bbek k&ouml;zt a <literal>ps</literal>,
	    <literal>PS</literal>, <literal>S</literal>,
	    <literal>panasonic</literal>, valamint a <literal>Panasonic
	    KX-P4455 PostScript v51.4</literal>.</para>
	</sect4>

	<sect4 id="printing-no-header-pages">
	  <title>A fejl&eacute;clapok letilt&aacute;sa</title>

	  <indexterm>
	    <primary>nyomtat&aacute;s</primary>
	    <secondary>fejl&eacute;clapok</secondary>
	  </indexterm>

	  <para>Az <application>LPD</application> nyomtat&aacute;si
	    rendszer alap&eacute;rtelmez&eacute;s szerint minden egyes
	    feladathoz <emphasis>fejl&eacute;clapot</emphasis>
	    k&eacute;sz&iacute;t.  Ez a lap sz&eacute;p nagy
	    bet&#251;kkel tartalmazza a munk&aacute;t kiad&oacute;
	    felhaszn&aacute;l&oacute; nev&eacute;t, a g&eacute;pet,
	    amir&#245;l k&uuml;ldt&eacute;k, &eacute;s a feladat
	    nev&eacute;t.  Sajn&aacute;latos m&oacute;don ez azonban
	    ink&aacute;bb akad&aacute;lyozza a hibakeres&eacute;st a
	    nyomtat&oacute; be&aacute;ll&iacute;t&aacute;s&aacute;ban,
	    ez&eacute;rt most ink&aacute;bb kapcsoljuk ki ezeket.</para>

	  <para>Ha le akarjuk tiltani a fejl&eacute;clapokat, az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    adjuk meg az <literal>sh</literal> (&uacute;gy mint
	    <quote>suppress header pages</quote>) tulajdons&aacute;got.
	    &Iacute;me egy p&eacute;lda az <literal>sh</literal>
	    tulajdons&aacute;ggal b&#245;v&iacute;tett
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyra:</para>

	  <programlisting>#
#  /etc/printcap (rose) - sehol sem lesznek fejl&eacute;clapok
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:</programlisting>

	  <para>Ebben a p&eacute;ld&aacute;ban megfigyelhetj&uuml;k a
	    helyes fel&iacute;r&aacute;si m&oacute;dot: az els&#245; sor a
	    legbaloldalibb oszlopban kezd&#245;dik, &eacute;s az azt
	    k&ouml;vet&#245; sorok pedig bentebb.  Minden
	    bejegyz&eacute;sben az utols&oacute;
	    kiv&eacute;tel&eacute;vel mindegyik sor egy visszaper
	    (backslash) karakterrel z&aacute;rul.</para>

	</sect4>

	<sect4 id="printing-spooldir">
	  <title>A nyomtat&aacute;si k&ouml;nyvt&aacute;r
	    l&eacute;trehoz&aacute;sa</title>

	  <indexterm><primary>nyomtat&aacute;si
	    rendszer</primary></indexterm>
	  <indexterm><primary>nyomtat&aacute;si
	    munk&aacute;k</primary></indexterm>

	  <para>A nyomtat&aacute;si rendszer&uuml;nk
	    be&aacute;ll&iacute;t&aacute;s&aacute;nak
	    k&ouml;vetkez&#245; l&eacute;p&eacute;se a
	    <emphasis>nyomtat&aacute;si k&ouml;nyvt&aacute;r</emphasis>
	    l&eacute;trehoz&aacute;sa.  Ez egy olyan
	    k&ouml;nyvt&aacute;r, ahov&aacute; a
	    k&uuml;l&ouml;nb&ouml;z&#245; nyomtat&aacute;si feladatok
	    ker&uuml;lnek a feldolgoz&aacute;suk el&#245;tt, valamint
	    ahol a nyomtat&aacute;si rendszer t&ouml;bbi
	    &aacute;llom&aacute;nya lakozik.</para>

	  <para>A nyomtat&aacute;si rendszer adatait
	    t&aacute;rol&oacute; k&ouml;nyvt&aacute;rakat tartalmuk
	    gyakori v&aacute;ltoz&aacute;sa miatt
	    &aacute;ltal&aacute;ban a <filename
	    class="directory">/var/spool</filename>
	    k&ouml;nyvt&aacute;rba szok&aacute;s tenni.  Ezen
	    k&ouml;nyvt&aacute;rak tartalm&aacute;t nem
	    sz&uuml;ks&eacute;ges menteni sem.  Az &man.mkdir.1; parancs
	    futtat&aacute;s&aacute;val egyszer&#251;en &uacute;jra
	    l&eacute;tre tudjuk hozni.</para>

	  <para>&Aacute;ltal&aacute;ban minden nyomtat&oacute;hoz
	    k&uuml;l&ouml;n l&eacute;tre szoktak hozni egy
	    k&ouml;nyvt&aacute;rat az adott nyomtat&oacute;
	    nev&eacute;n.  Erre p&eacute;lda:</para>

	  <screen>&prompt.root; <userinput><command>mkdir <filename class="directory">/var/spool/<replaceable>nyomtat&oacute;n&eacute;v</replaceable></filename></command></userinput></screen>

	  <para>Azonban ha a h&aacute;l&oacute;zatunkon rengeteg
	    nyomtat&oacute; tal&aacute;lhat&oacute;, akkor
	    &eacute;rdemes ink&aacute;bb egyetlen k&ouml;nyvt&aacute;rat
	    haszn&aacute;lni, amelyet az <application>LPD</application>
	    sz&aacute;m&aacute;ra tartunk fenn.</para>

	  <screen>&prompt.root; <userinput><command>mkdir <filename class="directory">/var/spool/lpd</filename></command></userinput>
&prompt.root; <userinput><command>mkdir <filename class="directory">/var/spool/lpd/rattan</filename></command></userinput>
&prompt.root; <userinput><command>mkdir <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput></screen>

	  <note>
	    <para>Amennyiben fontos nek&uuml;nk a
	      felhaszn&aacute;l&oacute;i nyomtat&aacute;sok
	      titkoss&aacute;g&aacute;nak meg&oacute;v&aacute;sa,
	      &eacute;rdemes lev&eacute;den&uuml;nk a nyomtat&aacute;si
	      k&ouml;nyvt&aacute;rat, &iacute;gy az nem lesz mindenki
	      &aacute;ltal el&eacute;rhet&#245;.  A nyomtat&aacute;si
	      k&ouml;nyvt&aacute;rak tulajdonosa egyed&uuml;l &eacute;s
	      kiz&aacute;r&oacute;lag a <username>daemon</username>
	      felhaszn&aacute;l&oacute; &eacute;s a
	      <groupname>daemon</groupname> csoport legyen, &eacute;s
	      hozz&aacute; olvas&aacute;si, &iacute;r&aacute;si
	      &eacute;s keres&eacute;si enged&eacute;lyekkel
	      rendelkezzen.  Ezt fogjuk most be&aacute;ll&iacute;tani a
	      p&eacute;ld&aacute;inkban szerepl&#245;
	      nyomtat&oacute;inkhoz is:</para>

	    <screen>&prompt.root; <userinput><command>chown daemon:daemon <filename class="directory">/var/spool/lpd/rattan</filename></command></userinput>
&prompt.root; <userinput><command>chown daemon:daemon <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput>
&prompt.root; <userinput><command>chmod 770 <filename class="directory">/var/spool/lpd/rattan</filename></command></userinput>
&prompt.root; <userinput><command>chmod 770 <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput></screen>
	  </note>

	  <para>V&eacute;gezet&uuml;l az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    ezeket a k&ouml;nyvt&aacute;rakat se felejts&uuml;k el
	    megadni az <application>LPD</application>-nek.  Itt a
	    nyomtat&aacute;si k&ouml;nyvt&aacute;r nev&eacute;t az
	    <literal>sd</literal> tulajdons&aacute;ggal &iacute;rjuk
	    le:</para>

	  <programlisting>#
#  /etc/printcap (rose) - a nyomtat&aacute;si k&ouml;nyvt&aacute;rak hozz&aacute;ad&aacute;sa
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:</programlisting>

	  <para>Vegy&uuml;k &eacute;szre, hogy a nyomtat&oacute; neve
	    ugyan a sor elej&eacute;n kezd&#245;dik, azonban a
	    hozz&aacute;tartoz&oacute; &ouml;sszes t&ouml;bbi sor mind
	    bentebb kezd&#245;dik &eacute;s egy visszaper (backslash)
	    karakterrel v&aacute;lasztjuk le.</para>

	  <para>Ha az <literal>sd</literal> tulajdons&aacute;ggal nem
	    adunk meg semmilyen nyomtat&aacute;si
	    k&ouml;nyvt&aacute;rat, akkor ennek az &eacute;rt&eacute;ke
	    alap&eacute;rtelmez&eacute;s szerint a <filename
	      class="directory">/var/spool/lpd</filename> lesz.</para>

	</sect4>

	<sect4 id="printing-device">
	  <title>A nyomtat&oacute;eszk&ouml;z
	    azonos&iacute;t&aacute;sa</title>

	  <para>A <link
	      linkend="printing-hardware">Hardveres be&aacute;ll&iacute;t&aacute;s</link>
	    c&iacute;m&#251; szakaszban m&aacute;r
	    beazonos&iacute;tottuk, hogy a &os; a <filename
	      class="directory">/dev</filename> k&ouml;nyvt&aacute;rban
	    melyik eszk&ouml;zle&iacute;r&oacute;n kereszt&uuml;l fogja
	    megsz&oacute;l&iacute;tani a nyomtat&oacute;t.  Most ideje
	    ugyanezt tudatni az <application>LPD</application>
	    d&eacute;monnal is.  &Iacute;gy amikor a nyomtat&aacute;si
	    rendszer ki szeretne nyomtatni egy munk&aacute;t, a
	    sz&#251;r&#245;program nev&eacute;ben ezt az eszk&ouml;zt
	    nyitja meg (ahol a sz&#251;r&#245;n kereszt&uuml;l
	    tov&aacute;bb&iacute;tjuk az adatokat a nyomtat&oacute;
	    fel&eacute;).</para>

	  <para>Az <literal>lp</literal> tulajdons&aacute;g
	    seg&iacute;ts&eacute;g&eacute;vel a
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    soroljuk fel a nyomtat&oacute;k <filename
	      class="directory">/dev</filename> k&ouml;nyvt&aacute;rban
	    tal&aacute;lhat&oacute; le&iacute;r&oacute;it.</para>

	  <para>Az eddig haszn&aacute;lt p&eacute;ld&aacute;nkban most
	    t&eacute;telezz&uuml;k fel, hogy a <literal>rattan</literal>
	    nev&#251; nyomtat&oacute; az els&#245; p&aacute;rhuzamos
	    porton tal&aacute;lhat&oacute;, m&iacute;g a
	    <literal>bamboo</literal> nev&#251; a hatodik soros porton.
	    Ebben a helyzetben &iacute;gy kellene
	    kieg&eacute;sz&iacute;ten&uuml;nk az
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyunkat:</para>

	  <programlisting>#
#  /etc/printcap (rose) - a haszn&aacute;lni k&iacute;v&aacute;nt eszk&ouml;z&ouml;k
#  beazonos&iacute;t&aacute;sa
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:</programlisting>

	  <para>Az <application>LPD</application>
	    alap&eacute;rtelmez&eacute;s szerint a <filename
	      class="devicefile">/dev/lp</filename> eszk&ouml;z fogja
	    haszn&aacute;lni, ha nem adjuk meg az <literal>lp</literal>
	    tulajdons&aacute;got az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyban.  Az <filename
	      class="devicefile">/dev/lp</filename> azonban a &os;-ben
	    jelenleg nem l&eacute;tezik.</para>

	  <para>Ha a telep&iacute;tend&#245; nyomtat&oacute;nk
	    valamelyik p&aacute;rhuzamos portra csatlakozik, akkor innen
	    ak&aacute;r tov&aacute;bb is l&eacute;phet&uuml;nk <link
	    linkend="printing-textfilter">A sz&ouml;vegsz&#251;r&#245;
	    telep&iacute;t&eacute;se</link> c&iacute;m&#251; szakaszra.
	    Ha viszont nem, k&ouml;vess&uuml;k a most
	    k&ouml;vetkez&#245; szakaszban szerepl&#245;
	    utas&iacute;t&aacute;sokat.</para>

	</sect4>

	<sect4 id="printing-commparam">
	  <title>A nyomtat&aacute;si rendszer
	    kommunik&aacute;ci&oacute;s param&eacute;terei</title>

	  <indexterm>
	    <primary>nyomtat&oacute;</primary>
	    <secondary>soros</secondary>
	  </indexterm>

	  <para>A soros portra csatlakoz&oacute;
	    nyomtat&oacute;kn&aacute;l az <application>LPD</application>
	    k&eacute;pes be&aacute;ll&iacute;tani az adat&aacute;tviteli
	    sebess&eacute;get, a parit&aacute;st, valamint m&aacute;s
	    egy&eacute;b olyan kommunik&aacute;ci&oacute;s
	    param&eacute;tereket, amelyekkel a sz&#251;r&#245;program
	    adatokat tud tov&aacute;bb&iacute;tani a nyomtat&oacute;
	    fel&eacute;.  Ez t&ouml;bb szempontb&oacute;l is
	    el&#245;ny&ouml;s, mivel:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Egyszer&#251;en az
		<filename>/etc/printcap</filename>
		&aacute;llom&aacute;ny
		&aacute;t&iacute;r&aacute;s&aacute;val ki tudunk
		pr&oacute;b&aacute;lni t&ouml;bb
		kommunik&aacute;ci&oacute;s
		be&aacute;ll&iacute;t&aacute;st, nem kell mag&aacute;t a
		sz&#251;r&#245;programot
		&uacute;jraford&iacute;tanunk.</para>
	    </listitem>

	    <listitem>
	      <para>A nyomtat&aacute;si rendszer k&eacute;pes ugyanazt a
		sz&#251;r&#245;t t&ouml;bb,
		k&uuml;l&ouml;nb&ouml;z&#245;
		kommunik&aacute;ci&oacute;s
		be&aacute;ll&iacute;t&aacute;st alkalmaz&oacute;
		nyomtat&oacute;hoz is haszn&aacute;lni.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyban az <literal>lp</literal>
	    tulajdons&aacute;ggal megadott eszk&ouml;z&ouml;k soros
	    kommunik&aacute;ci&oacute;j&aacute;nak
	    be&aacute;ll&iacute;t&aacute;sait az al&aacute;bbi
	    tulajdons&aacute;gok hat&aacute;rozz&aacute;k meg:</para>

	  <variablelist>
	    <varlistentry>
	      <term><literal>br#<replaceable>sebess&eacute;g</replaceable></literal></term>
	      <listitem>
		<para>Be&aacute;ll&iacute;tja az eszk&ouml;z
		  adat&aacute;tviteli sebess&eacute;g&eacute;t a
		  <replaceable>sebess&eacute;g</replaceable>
		  &eacute;rt&eacute;kre, ahol a
		  <replaceable>sebess&eacute;g</replaceable> lehet 50,
		  75, 110, 134, 150, 200, 300, 600, 1200, 1800, 2400,
		  4800, 9600, 19&nbsp;200, 38&nbsp;400, 57&nbsp;600 vagy
		  115&nbsp;200 bit m&aacute;sodpercenk&eacute;nt
		  (bps).</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>ms#<replaceable>stty-m&oacute;d</replaceable></literal></term>
	      <listitem>
		<para>Be&aacute;ll&iacute;tja az eszk&ouml;z
		  megnyit&aacute;sa ut&aacute;n haszn&aacute;lt
		  termin&aacute;leszk&ouml;z
		  m&#251;k&ouml;d&eacute;s&eacute;nek
		  param&eacute;tereit.  Az &man.stty.1; man oldalon
		  t&ouml;bbet is megtudhatunk r&oacute;luk.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Miut&aacute;n az <application>LPD</application>
	    megnyitja az <literal>lp</literal> tulajdons&aacute;ggal
	    megadott eszk&ouml;zt, be&aacute;ll&iacute;tja az
	    <literal>ms#</literal> tulajdons&aacute;g
	    &eacute;rt&eacute;ke szerint annak jellemz&#245;it.  Itt a
	    <literal>parenb</literal>, <literal>parodd</literal>,
	    <literal>cs5</literal>, <literal>cs6</literal>,
	    <literal>cs7</literal>, <literal>cs8</literal>,
	    <literal>cstopb</literal>, <literal>crtscts</literal>,
	    &eacute;s <literal>ixon</literal> m&oacute;dok lehetnek
	    l&eacute;nyegesek, melyekr&#245;l az &man.stty.1; man
	    oldalon t&ouml;bbet is megtudhatunk.</para>

	  <para>&Aacute;ll&iacute;tsunk most akkor be az egyik
	    k&eacute;pzeletbeli nyomtat&oacute;nkat a hatodik soros
	    portra.  Az adat&aacute;tviteli sebess&eacute;ge 38&nbsp;400
	    bps lesz.  A kommunik&aacute;ci&oacute;
	    m&oacute;dj&aacute;n&aacute;l kapcsoljuk ki a
	    parit&aacute;st (<literal>-parenb</literal>), 8&nbsp;bites
	    karakterek legyenek (<literal>cs8</literal>), ne legyen
	    modemes vez&eacute;rl&eacute;s (<literal>clocal</literal>)
	    &eacute;s a hardveres forgalomir&aacute;ny&iacute;t&aacute;s
	    legyen <literal>crtscts</literal>:</para>

	  <programlisting>bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:</programlisting>

	</sect4>

	<sect4 id="printing-textfilter">
	  <title>A sz&ouml;vegsz&#251;r&#245;
	    telep&iacute;t&eacute;se</title>

	  <indexterm>
	    <primary>nyomtat&aacute;s</primary>
	    <secondary>sz&#251;r&#245;k</secondary>
	  </indexterm>

	  <para>Most m&aacute;r utas&iacute;thatjuk az
	    <application>LPD</application>-t, hogy milyen
	    sz&ouml;vegsz&#251;r&#245;t haszn&aacute;ljon a
	    munk&aacute;k nyomtat&oacute;ra
	    k&uuml;ld&eacute;s&eacute;hez.  A
	    <emphasis>sz&ouml;vegsz&#251;r&#245;</emphasis> (text
	    filter), vagy m&aacute;s n&eacute;ven <emphasis>bemeneti
	    sz&#251;r&#245;</emphasis> (input filter) egy olyan program,
	    amelyet az <application>LPD</application> egy
	    nyomtat&aacute;si feladat elv&eacute;gz&eacute;sekor
	    lefuttat.  Amikor az <application>LPD</application>
	    lefuttatja a nyomtat&oacute;hoz tartoz&oacute;
	    sz&ouml;vegsz&#251;r&#245;t, a sz&#251;r&#245;
	    szabv&aacute;nyos bemenet&eacute;re elk&uuml;ldi a
	    kinyomtatand&oacute; munk&aacute;t, &eacute;s a
	    szabv&aacute;nyos kimenet&eacute;t pedig
	    &aacute;tir&aacute;ny&iacute;tja az <literal>lp</literal>
	    tulajdons&aacute;g &aacute;ltal megadott
	    nyomtat&oacute;eszk&ouml;zre.  Ennek megfelel&#245;en a
	    sz&#251;r&#245;nek a szabv&aacute;nyos bemenetr&#245;l kell
	    olvasnia az elv&eacute;gzend&#245; feladatot, a
	    szabv&aacute;nyos kimenetre pedig a t&eacute;nylegesen
	    nyomtatand&oacute;t kell ki&iacute;rnia.  A
	    sz&ouml;vegsz&#251;r&#245;k r&eacute;szleteir&#245;l a <link
	    linkend="printing-advanced-filters">Hogyan
	    m&#251;k&ouml;dnek a sz&#251;r&#245;k?</link> szakasz
	    sz&oacute;l.</para>

	  <para>A mi eset&uuml;nkben most sz&ouml;vegsz&#251;r&#245;nek
	    t&ouml;k&eacute;letesen megfelel egy olyan r&ouml;vid
	    szkript, ami a nyomtat&oacute;ra a munk&aacute;t a
	    <command>/bin/cat</command> paranccsal k&uuml;ldi ki.  A
	    &os;-ben m&eacute;g tal&aacute;lhatunk egy m&aacute;sik
	    sz&#251;r&#245;t is, amelynek a neve
	    <filename>lpf</filename>.  Ez k&eacute;pes a
	    t&ouml;rl&eacute;st &eacute;s al&aacute;h&uacute;z&aacute;st
	    jelz&#245; karaktereket &eacute;rthet&#245;v&eacute; tenni
	    bizonyos nyomtat&oacute;k sz&aacute;m&aacute;ra.
	    Term&eacute;szetesen itt haszn&aacute;lhatunk kedv&uuml;nk
	    szerinti sz&#251;r&#245;t is.  Az <command>lpf</command>
	    sz&#251;r&#245; m&#251;k&ouml;d&eacute;s&eacute;nek
	    r&eacute;szleteit <link linkend="printing-advanced-lpf">Az
	    lpf sz&ouml;vegsz&#251;r&#245;</link> c&iacute;m&#251;
	    szakaszban fejtj&uuml;k ki b&#245;vebben.</para>

	  <para>El&#245;sz&ouml;r is k&eacute;sz&iacute;ts&uuml;nk egy
	    <filename>/usr/local/libexec/if-simple</filename> nev&#251;
	    egyszer&#251; sz&ouml;vegsz&#251;r&#245; szkriptet.  A
	    kedvenc sz&ouml;vegszerkeszt&#245;nkkel &iacute;rjuk bele a
	    k&ouml;vetkez&#245; sorokat:</para>

	  <programlisting>#!/bin/sh
#
# if-simple - egyszer&#251; sz&ouml;vegsz&#251;r&#245; szkript az lpd-hez
# Helye: /usr/local/libexec/if-simple
#
# Egyszer&#251;en &aacute;tm&aacute;solja a kimenet&eacute;re a bemenet&eacute;r&#245;l &eacute;rkez&#245; adatokat; nem
# fogad el semmilyen param&eacute;tert.

/bin/cat &amp;&amp; exit 0
exit 2</programlisting>

	  <para>Tegy&uuml;k ind&iacute;that&oacute;v&aacute;:</para>

	  <screen>&prompt.root; <userinput><command>chmod 555 <filename>/usr/local/libexec/if-simple</filename></command></userinput></screen>

	  <para>Ezut&aacute;n t&aacute;j&eacute;koztassuk r&oacute;la az
	    <application>LPD</application>-t az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    tal&aacute;lhat&oacute; <literal>if</literal>
	    tulajdons&aacute;g megad&aacute;s&aacute;val.  Itt most a
	    p&eacute;ld&aacute;nkban szerepl&#245; mind a k&eacute;t
	    nyomtat&oacute;hoz beillesztj&uuml;k:</para>

	  <programlisting>#
#  /etc/printcap (rose) - a sz&ouml;vegsz&#251;r&#245; hozz&aacute;ad&aacute;sa
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:</programlisting>

	  <note>
	    <para>Az <filename>if-simple</filename> szkript
	      megtal&aacute;lhat&oacute; a <filename
	      class="directory">/usr/share/examples/printing</filename>
	      k&ouml;nyvt&aacute;rban.</para>
	  </note>

	</sect4>

	<sect4>
	  <title>Az <application>LPD</application>
	    elind&iacute;t&aacute;sa</title>

	  <para>Az &man.lpd.8; az <filename>/etc/rc</filename>
	    szkriptb&#245;l, az <literal>lpd_enable</literal>
	    v&aacute;ltoz&oacute; &eacute;rt&eacute;k&eacute;nek
	    megfelel&#245;en indul el.  Ennek &eacute;rt&eacute;ke
	    alapb&oacute;l <literal>NO</literal>, vagyis nem.  Ha eddig
	    m&eacute;g nem tett&uuml;k volna meg, akkor az
	    <filename>/etc/rc.conf</filename> &aacute;llom&aacute;nyba
	    most vegy&uuml;k fel a k&ouml;vetkez&#245; sort:</para>

	  <programlisting>lpd_enable="YES"</programlisting>

	  <para>Ezut&aacute;n vagy ind&iacute;tsuk &uacute;jra a
	    sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nket, vagy pedig
	    adjuk ki az &man.lpd.8; parancsot:</para>

	  <screen>&prompt.root; <userinput><command>lpd</command></userinput></screen>

	</sect4>

	<sect4 id="printing-trying">
	  <title>Pr&oacute;b&aacute;ljuk ki!</title>

	  <para>El&eacute;rkezt&uuml;nk az
	    <application>LPD</application> egyszer&#251;
	    be&aacute;ll&iacute;t&aacute;s&aacute;nak utols&oacute;
	    l&eacute;p&eacute;s&eacute;hez.  Sajnos azonban m&eacute;g
	    nem gratul&aacute;lhatunk, hiszen h&aacute;tra van
	    m&eacute;g a nyomtat&oacute;
	    kipr&oacute;b&aacute;l&aacute;sa &eacute;s az esetlegesen
	    el&#245;fordul&oacute; hib&aacute;k
	    kijav&iacute;t&aacute;sa.  A be&aacute;ll&iacute;t&aacute;st
	    &uacute;gy tudjuk a legegyszer&#251;bben letesztelni, ha
	    megpr&oacute;b&aacute;lunk valamit kinyomtatni.  Az
	    <application>LPD</application> rendszerben az &man.lpr.1;
	    parancs haszn&aacute;lat&aacute;val tudunk nyomtat&aacute;si
	    feladatokat kiadni.</para>

	  <para><link linkend="printing-testing">A
	    kommunik&aacute;ci&oacute; ellen&#245;rz&eacute;se</link>
	    c&iacute;m&#251; szakaszban megtal&aacute;lhatjuk, hogy
	    hozzunk l&eacute;tre tesztel&eacute;sre alkalmas
	    sz&ouml;vegeket az &man.lpr.1; &eacute;s az &man.lptest.1;
	    programok seg&iacute;ts&eacute;g&eacute;vel.</para>

	  <para><emphasis>Az <application>LPD</application>
	    be&aacute;ll&iacute;t&aacute;sainak egyszer&#251;
	    tesztel&eacute;se:</emphasis></para>

	  <para>&Iacute;rjuk be:</para>

	  <screen>&prompt.root; <userinput><command>lptest 20 5 | lpr <option>-P</option><replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></userinput></screen>

	  <para>ahol a
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable> az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    megadott egyik nyomtat&oacute; neve (vagy &aacute;lneve)
	    lehet.  Az alap&eacute;rtelmezett nyomtat&oacute;
	    kipr&oacute;b&aacute;l&aacute;s&aacute;hoz ne adjunk meg az
	    &man.lpr.1; parancsnak semmilyen <option>-P</option>
	    param&eacute;tert.  M&eacute;g egyszer
	    megeml&iacute;ten&eacute;nk, hogy amennyiben &postscript;
	    nyomtat&oacute;t tesztel&uuml;nk, az el&#245;bbi helyett az
	    &man.lptest.1; paranccsal k&uuml;ldj&uuml;nk ki egy
	    &postscript; programot.  Ehhez tegy&uuml;k a tesztel&#245;
	    programunkat egy &aacute;llom&aacute;nyba, majd &iacute;rjuk
	    be az <command>lpr
	    <replaceable>&aacute;llom&aacute;nyn&eacute;v</replaceable></command>
	    parancsot.</para>

	  <para>A &postscript; nyomtat&oacute; eset&eacute;n a
	    kik&uuml;ld&ouml;tt program eredm&eacute;ny&eacute;t kell
	    l&aacute;tnunk.  Amennyiben az &man.lptest.1; parancsot
	    haszn&aacute;ljuk, valami ilyesmire kell
	    sz&aacute;m&iacute;tanunk:</para>

	  <screen>!"#$%&amp;'()*+,-./01234
"#$%&amp;'()*+,-./012345
#$%&amp;'()*+,-./0123456
$%&amp;'()*+,-./01234567
%&amp;'()*+,-./012345678</screen>

	  <para>A nyomtat&oacute; kimer&iacute;t&#245;bb
	    tesztel&eacute;s&eacute;hez pr&oacute;b&aacute;ljunk meg
	    nagyobb programokat ker&iacute;teni valahonnan (ha a
	    nyomtat&oacute;nk valamilyen nyelven kommunik&aacute;l) vagy
	    adjunk meg az &man.lptest.1; parancsnak m&aacute;s
	    param&eacute;tereket.  P&eacute;ld&aacute;ul az
	    <command>lptest 80 60</command> soronk&eacute;nt 80
	    karaktert &iacute;rat ki 60 sorban.</para>

	  <para>Amennyiben a nyomtat&oacute; nem m&#251;k&ouml;dne,
	    n&eacute;zz&uuml;k meg a <link
	    linkend="printing-troubleshooting">Hibakeres&eacute;s</link>hez
	    tartoz&oacute; szakaszt.</para>

	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="printing-advanced">
    <title>Magasszint&#251;
      nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</title>

    <para>Ebben a szakaszban olyan sz&#251;r&#245;ket mutatunk be,
      amelyek speci&aacute;lisan form&aacute;zott
      &aacute;llom&aacute;nyok, fejl&eacute;clapok,
      h&aacute;l&oacute;zati nyomtat&aacute;s, nyomtat&aacute;si
      nyilv&aacute;ntart&aacute;s vagy szab&aacute;lyoz&aacute;s
      eset&eacute;n haszn&aacute;lhat&oacute;ak.</para>

    <sect2 id="printing-advanced-filter-intro">
      <title>Sz&#251;r&#245;k</title>

      <indexterm>
	<primary>nyomtat&aacute;s</primary>
	<secondary>sz&#251;r&#245;k</secondary>
      </indexterm>

      <para>Noha az <application>LPD</application> k&eacute;pes
	h&aacute;l&oacute;zati protokollokat, nyomtat&aacute;si sorokat,
	hozz&aacute;f&eacute;r&eacute;st &eacute;s sok minden m&aacute;s
	nyomtat&aacute;si feladatot kezelni, a
	<emphasis>t&eacute;nyleges</emphasis> munka legnagyobb
	r&eacute;sze a <emphasis>sz&#251;r&#245;kben</emphasis> (filter)
	t&ouml;rt&eacute;nik.  A sz&#251;r&#245;k olyan programok,
	amelyek tartj&aacute;k a kapcsolatot a nyomtat&oacute;val
	&eacute;s megb&iacute;rk&oacute;znak annak
	eszk&ouml;zf&uuml;gg&#245;s&eacute;geivel &eacute;s
	k&uuml;l&ouml;nleges ig&eacute;nyeivel.  Az egyszer&#251;
	be&aacute;ll&iacute;t&aacute;s sor&aacute;n egy primit&iacute;v
	sz&ouml;vegsz&#251;r&#245;t &aacute;ll&iacute;tottunk be
	(l&aacute;sd <link linkend="printing-textfilter">A
	sz&ouml;vegsz&#251;r&#245; telep&iacute;t&eacute;se</link>)
	&mdash; ami annyira egyszer&#251;, hogy szinte minden
	nyomtat&oacute;n m&#251;k&ouml;dnie kell.</para>

      <para>Azonban mindahhoz, hogy ki tudjuk haszn&aacute;lni a
	k&uuml;l&ouml;nb&ouml;z&#245; &aacute;talak&iacute;t&aacute;si,
	nyilv&aacute;ntart&aacute;si lehet&#245;s&eacute;geket, valamint
	a nyomtat&oacute;k k&uuml;l&ouml;nlegess&eacute;geit &eacute;s
	egyebeit, meg kell &eacute;rten&uuml;nk a sz&#251;r&#245;k
	pontos m&#251;k&ouml;d&eacute;s&eacute;t.  Az el&#245;bb
	eml&iacute;tett feladatok ugyanis teljesen a sz&#251;r&#245;
	kez&eacute;ben vannak.  Ezzel kapcsolatban azonban rossz
	h&iacute;r, hogy ezeket a sz&#251;r&#245;ket
	<emphasis>nek&uuml;nk</emphasis> kell meg&iacute;rnunk.  A
	j&oacute; h&iacute;r ellenben az, hogy k&ouml;nnyen
	tal&aacute;lunk ilyen sz&#251;r&#245;ket, vagy ha &eacute;ppen
	nem leln&eacute;nk valamelyiket, akkor is gyorsan meg tudjuk
	ezeket &iacute;rni.</para>

      <para>S&#245;t, a &os; alapb&oacute;l tartalmaz is egyet, amit a
	<filename>/usr/libexec/lpr/lpf</filename> helyen tal&aacute;lunk
	meg, &eacute;s sok olyan nyomtat&oacute;val k&eacute;pes
	egy&uuml;ttm&#251;k&ouml;dni, amelyek nyers sz&ouml;veget tudnak
	nyomtatni.  (Kezeli az &aacute;llom&aacute;nyokban
	felbukkan&oacute; t&ouml;rl&eacute;seket &eacute;s
	tabulal&aacute;sokat, valamint k&eacute;pes
	nyilv&aacute;ntart&aacute;st vezetni, de semmi t&ouml;bbet.)
	Rajta k&iacute;v&uuml;l m&eacute;g sz&aacute;mos
	sz&#251;r&#245;t &eacute;s sz&#251;r&#245;elemet is
	tal&aacute;lhatunk a &os;
	Portgy&#251;jtem&eacute;ny&eacute;ben.</para>

      <para>L&aacute;ssuk, mit tartogat sz&aacute;munkra ez a
	r&eacute;sz:</para>

      <itemizedlist>
	<listitem>
	  <para>A <link linkend="printing-advanced-filters">Hogyan
	    m&#251;k&ouml;dnek a sz&#251;r&#245;k?</link>
	    c&iacute;m&#251; szakaszban megpr&oacute;b&aacute;lunk
	    egyfajta &aacute;ttekint&eacute;st adni a sz&#251;r&#245;k
	    nyomtat&aacute;si folyamatban bet&ouml;lt&ouml;tt
	    szerep&eacute;r&#245;l.  Mindenk&eacute;ppen &eacute;rdemes
	    elolvasnunk ezt a szakaszt, mivel ebben der&uuml;l ki, hogy
	    val&oacute;j&aacute;ban mi is t&ouml;rt&eacute;nik a
	    <quote>f&uuml;gg&ouml;ny m&ouml;g&ouml;tt</quote>, vagyis
	    amikor az <application>LPD</application> haszn&aacute;lja
	    ezeket a sz&#251;r&#245;ket.  Ezzel a tud&aacute;ssal el
	    tudjuk ker&uuml;lni vagy &eacute;ppen nyakon tudjuk
	    cs&iacute;pni azokat a probl&eacute;m&aacute;kat, amelyek a
	    nyomtat&oacute;inkhoz telep&iacute;tett sz&#251;r&#245;k
	    hozz&aacute;ad&aacute;sa sor&aacute;n
	    ad&oacute;dhatnak.</para>
	</listitem>

	<listitem>
	  <para>Az <application>LPD</application> alapb&oacute;l arra
	    sz&aacute;m&iacute;t, hogy minden nyomtat&oacute;
	    k&eacute;pes nyers sz&ouml;veget nyomtatni.  Ez gondot okoz
	    a &postscript; (&eacute;s minden m&aacute;s nyelv
	    alap&uacute;) nyomtat&oacute;k eset&eacute;n, mivel azok nem
	    k&eacute;pesek nyers sz&ouml;veget nyomtatni.  <link
	    linkend="printing-advanced-if-conversion"> Sz&ouml;veges
	    nyomtat&aacute;si feladatok &postscript;
	    nyomtat&oacute;kon</link> c&iacute;m&#251; szakaszban
	    viszont f&eacute;ny der&uuml;l r&aacute;, hogyan
	    kerekedj&uuml;nk fel&uuml;l ezen.  Felt&eacute;tlen&uuml;l
	    olvassuk el, ha &postscript; nyomtat&oacute;nk van.</para>
	</listitem>

	<listitem>
	  <para>A &postscript; sz&aacute;mos program k&ouml;zkedvelt
	    kimeneti form&aacute;tuma, s&#245;t gyakran maguk a
	    felhaszn&aacute;l&oacute;k is szeretnek ilyen programokat
	    &iacute;rni.  Sajnos azonban a &postscript; nyomtat&oacute;k
	    egy&aacute;ltal&aacute;n nem olcs&oacute;k.  A <link
	    linkend="printing-advanced-ps">&postscript;
	    szimul&aacute;ci&oacute;ja nem &postscript;
	    nyomtat&oacute;kon</link> c&iacute;m&#251; szakaszban
	    megtudhatjuk, mik&eacute;pp tudjuk &uacute;gy
	    m&oacute;dos&iacute;tani a sz&#251;r&#245;t, hogy
	    <emphasis>nem &postscript;</emphasis> nyomtat&oacute;kon is
	    tudjunk &postscript; programokkal nyomtatni.  Ezt a szakaszt
	    akkor &eacute;rdemes elolvasni, ha nincs &postscript;
	    nyomtat&oacute;nk.</para>
	</listitem>

	<listitem>
	  <para>A <link
	      linkend="printing-advanced-convfilters">Konverzi&oacute;s sz&#251;r&#245;k</link>
	    c&iacute;m&#251; szakaszban el&aacute;ruljuk, mik&eacute;nt
	    lehets&eacute;ges automatiz&aacute;lni a
	    k&uuml;l&ouml;nb&ouml;z&#245;
	    &aacute;llom&aacute;nyform&aacute;tumok &eacute;s a
	    nyomtat&oacute;k &aacute;ltal &eacute;rthet&#245;
	    form&aacute;tumok k&ouml;zti konverzi&oacute;kat, legyen az
	    grafikus vagy bet&#251;szed&eacute;sre vonatkoz&oacute;
	    adat.  A szakasz elolvas&aacute;sa sor&aacute;n
	    megismerj&uuml;k, hogyan tudjuk a nyomtat&oacute;nkat
	    k&eacute;pess&eacute; tenni az
	    <command>lpr <option>-t</option></command> paranccsal troff
	    adatok, vagy a <command>lpr <option>-d</option></command>
	    paranccsal a &tex; DVI &aacute;llom&aacute;nyainak, esetleg
	    az <command>lpr <option>-v</option></command> paranccsal
	    raszteres k&eacute;pek nyomtat&aacute;s&aacute;ra &eacute;s
	    &iacute;gy tov&aacute;bb.  Csak aj&aacute;nlani tudjuk ennek
	    elolvas&aacute;s&aacute;t.</para>
	</listitem>

	<listitem>
	  <para>A <link linkend="printing-advanced-of">Kimeneti
	    sz&#251;r&#245;k</link> c&iacute;m&#251; szakaszban
	    kives&eacute;zz&uuml;k az <application>LPD</application>
	    egyik kev&eacute;sb&eacute; haszn&aacute;lt
	    lehet&#245;s&eacute;g&eacute;t is, a kimeneti
	    sz&#251;r&#245;ket.  Hacsak nem fejl&eacute;clapokat akarunk
	    k&eacute;sz&iacute;teni (l&aacute;sd <link
	    linkend="printing-advanced-header-pages">Fejl&eacute;clapok</link>),
	    akkor ezt a szakaszt nyugodtan kihagyhatjuk.</para>
	</listitem>

	<listitem>
	  <para><link linkend="printing-advanced-lpf">Az lpf
	    sz&ouml;vegsz&#251;r&#245;</link> szakaszban
	    bemutat&aacute;sra ker&uuml;l a &os;-ben alapb&oacute;l
	    megtal&aacute;lhat&oacute; <command>lpf</command>
	    sz&#251;r&#245;, amely egy sornyomtat&oacute;nkn&aacute;l
	    (vagy az &iacute;gy viselked&#245;
	    l&eacute;zernyomtat&oacute;kn&aacute;l)
	    haszn&aacute;lhat&oacute; egyszer&#251;
	    sz&ouml;vegsz&#251;r&#245;.  Ha nyers sz&ouml;vegek
	    nyomtat&aacute;s&aacute;n&aacute;l meg akarjuk oldani a
	    nyomtat&aacute;si munk&aacute;k
	    nyilv&aacute;ntart&aacute;s&aacute;t, vagy a
	    t&ouml;rl&eacute;s karakter l&aacute;tt&aacute;n a
	    nyomtat&oacute;nk f&uuml;st&ouml;lni kezdene, akkor
	    mindenk&eacute;ppen &eacute;rdemes belemer&uuml;ln&uuml;nk
	    az <command>lpf</command> titkaiba.</para>
	</listitem>
      </itemizedlist>

      <note>
	<para>A most k&ouml;vetkez&#245; szkriptek mindegyike
	  megtal&aacute;lhat&oacute; a <filename
	  class="directory">/usr/share/examples/printing</filename>
	  k&ouml;nyvt&aacute;rban.</para>
      </note>

      <sect3 id="printing-advanced-filters">
	<title>Hogyan m&#251;k&ouml;dnek a sz&#251;r&#245;k?</title>

	<para>Ahogy m&aacute;r kor&aacute;bban is jelezt&uuml;k, a
	  sz&#251;r&#245; egy olyan v&eacute;grehajthat&oacute; program,
	  amelyet az <application>LPD</application> ind&iacute;t el,
	  amikor a nyomtat&oacute;val eszk&ouml;zf&uuml;ggetlen
	  m&oacute;don kommunik&aacute;l.</para>

	<para>Amikor az <application>LPD</application> egy feladat
	  elv&eacute;gz&eacute;se sor&aacute;n ki akar nyomtatni egy
	  &aacute;llom&aacute;nyt, akkor elind&iacute;t egy ilyen
	  sz&#251;r&#245;programot.  A sz&#251;r&#245; szabv&aacute;nyos
	  bemenet&eacute;re elk&uuml;ldi a kinyomtatand&oacute;
	  &aacute;llom&aacute;nyt, a szabv&aacute;nyos kimenet&eacute;t
	  a nyomtat&oacute;ra, a szabv&aacute;nyos hibajelz&eacute;seit
	  pedig egy napl&oacute;&aacute;llom&aacute;nyba
	  ir&aacute;ny&iacute;tja (ez ut&oacute;bbit az
	  <filename>/etc/printcap</filename>) &aacute;llom&aacute;nyban
	  az <literal>lf</literal> tulajdons&aacute;ggal adhatjuk meg,
	  vagy alap&eacute;rtelmez&eacute;s szerinti a
	  <filename class="devicefile">/dev/console</filename> &aacute;llom&aacute;nyba
	  ker&uuml;l).</para>

	<indexterm><primary><command>troff</command></primary></indexterm>

	<para>Az <application>LPD</application> a haszn&aacute;lni
	  k&iacute;v&aacute;nt sz&#251;r&#245;t &eacute;s annak
	  param&eacute;tereit az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban felsoroltak vagy az &man.lpr.1;
	  parancssor&aacute;ban megadottak szerint v&aacute;lasztja ki.
	  P&eacute;ld&aacute;ul, ha a felhaszn&aacute;l&oacute; a
	  <command>lpr <option>-t</option></command> parancsot adja ki,
	  akkor az <application>LPD</application> a
	  c&eacute;lk&eacute;nt megadott nyomtat&oacute;n&aacute;l
	  szerepl&#245; <literal>tf</literal> tulajdons&aacute;g
	  &aacute;ltal megadott troff sz&#251;r&#245;t kezdi el
	  haszn&aacute;lni.  Amennyiben a felhaszn&aacute;l&oacute;
	  egyszer&#251;en csak nyers sz&ouml;veget akar nyomtatni, akkor
	  az <literal>if</literal> sz&#251;r&#245;nek kellene elindulnia
	  (ez viszont csak r&eacute;szben igaz: l&aacute;sd <link
	    linkend="printing-advanced-of">Kimeneti sz&#251;r&#245;k</link>).
	  </para>

	<para>H&aacute;romfajta sz&#251;r&#245; jelenhet meg az
	  <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban:</para>

	<itemizedlist>
	  <listitem>
	    <para>A <emphasis>sz&ouml;vegsz&#251;r&#245;</emphasis>
	      (text filter), ami a hagyom&aacute;nyos sz&ouml;veges
	      nyomtat&aacute;s&eacute;rt felel&#245;s, &eacute;s amit az
	      <application>LPD</application>
	      dokument&aacute;ci&oacute;j&aacute;ban &eacute;rdekes
	      m&oacute;don <emphasis>bemeneti
	      sz&#251;r&#245;nek</emphasis> (input filter)
	      h&iacute;vnak.  Mivel az <application>LPD</application>
	      arra sz&aacute;m&iacute;t, hogy minden nyomtat&oacute;
	      alapb&oacute;l k&eacute;pes kinyomtatni b&aacute;rmilyen
	      nyers sz&ouml;veget, ez&eacute;rt a
	      sz&ouml;vegsz&#251;r&#245; feladata, hogy a
	      nyomtat&oacute; sz&aacute;m&aacute;ra gondoskodjon a
	      tabul&aacute;torok, t&ouml;rl&eacute;sek &eacute;s
	      m&aacute;s egy&eacute;b speci&aacute;lis karakterek
	      megfelel&#245; kezel&eacute;s&eacute;r&#245;l.  Emellett
	      ha olyan helyen vagyunk, ahol sz&uuml;ks&eacute;g van a
	      nyomtat&aacute;si munk&aacute;k
	      nyilv&aacute;ntart&aacute;s&aacute;ra is, a
	      sz&ouml;vegsz&#251;r&#245; ennek megold&aacute;s&aacute;ra
	      is k&eacute;pes, m&eacute;ghozz&aacute; &uacute;gy, hogy
	      &ouml;sszesz&aacute;molja a kinyomtatott sorokat &eacute;s
	      elosztja ezeket a nyomtat&oacute; &aacute;ltal
	      oldalank&eacute;nt nyomtatott sorok
	      sz&aacute;m&aacute;val.  Egy sz&ouml;vegsz&#251;r&#245; a
	      k&ouml;vetkez&#245; param&eacute;terekkel indulhat:</para>

	    <cmdsynopsis>
	      <command>sz&#251;r&#245;n&eacute;v</command>
	      <arg>-c</arg>
	      <arg choice="plain">-w
	      <replaceable>sz&eacute;less&eacute;g</replaceable></arg>
	      <arg choice="plain">-l
	      <replaceable>hossz</replaceable></arg>
	      <arg choice="plain">-i
	      <replaceable>beh&uacute;z&aacute;s</replaceable></arg>
	      <arg choice="plain">-n
	      <replaceable>hozz&aacute;f&eacute;r&eacute;s</replaceable></arg>
	      <arg choice="plain">-h
	      <replaceable>g&eacute;pn&eacute;v</replaceable></arg>
	      <arg
		choice="plain"><replaceable>nyilv&aacute;ntart&aacute;s</replaceable></arg>
	    </cmdsynopsis>

	    <para>ahol a</para>

	    <variablelist>
	      <varlistentry>
		<term><option>-c</option></term>
		  <listitem>
		    <para>akkor jelenik meg, ha egy munk&aacute;t az
		      <command>lpr <option>-l</option></command>
		      paranccsal adunk &aacute;t</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>sz&eacute;less&eacute;g</replaceable></term>
		  <listitem>
		    <para>az <filename>/etc/printcap</filename>
		      &aacute;llom&aacute;nyban defini&aacute;lt
		      <literal>pw</literal> (page width, avagy
		      oldalsz&eacute;less&eacute;g) tulajdons&aacute;g
		      &eacute;rt&eacute;ke, ami
		      alapbe&aacute;ll&iacute;t&aacute;s szerint
		      132</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>hossz</replaceable></term>
		  <listitem>
		    <para>a <literal>pl</literal> (page length, avagy
		      oldalhossz) tulajdons&aacute;g
		      &eacute;rt&eacute;ke, amely az
		      alapbe&aacute;ll&iacute;t&aacute;s szerint
		      66</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>beh&uacute;z&aacute;s</replaceable></term>
		  <listitem>
		    <para>az <command>lpr <option>-i</option></command>
		      parancs megad&aacute;sa sor&aacute;n haszn&aacute;lt
		      beh&uacute;z&aacute;s m&eacute;rt&eacute;ke, ami
		      alapb&oacute;l 0</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>hozz&aacute;f&eacute;r&eacute;s</replaceable></term>
		  <listitem>
		    <para>a nyomtat&aacute;st v&eacute;gz&#245;
		      felhaszn&aacute;l&oacute;
		      hozz&aacute;f&eacute;r&eacute;s&eacute;nek
		      megnevez&eacute;se</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>g&eacute;pn&eacute;v</replaceable></term>
		  <listitem>
		    <para>a g&eacute;p neve, amir&#245;l a
		      nyomtat&aacute;si munka &eacute;rkezett</para>
		  </listitem>
		</varlistentry>

		<varlistentry>
		  <term><replaceable>nyilv&aacute;ntart&aacute;s</replaceable></term>
		  <listitem>
		    <para>ez a nyilv&aacute;ntart&aacute;st
		      t&aacute;rol&oacute; &aacute;llom&aacute;ny
		      <literal>af</literal> tulajdons&aacute;ggal
		      defini&aacute;lt neve</para>
		  </listitem>
		</varlistentry>
	    </variablelist>
	  </listitem>

	  <indexterm>
	    <primary>nyomtat&aacute;s</primary>
	    <secondary>sz&#251;r&#245;k</secondary>
	  </indexterm>

	  <listitem>
	    <para>A <emphasis>konverzi&oacute;s
	      sz&#251;r&#245;k</emphasis> (conversion filter) egy adott
	      &aacute;llom&aacute;nyform&aacute;tumot hoznak a
	      nyomtat&oacute; sz&aacute;m&aacute;ra &eacute;rtelmes
	      form&aacute;ra.  P&eacute;ld&aacute;ul ditroff adatok
	      k&ouml;zvetlen&uuml;l ugyan nem nyomtathat&oacute;ak,
	      azonban a ditroff &aacute;llom&aacute;nyokhoz tudunk
	      telep&iacute;teni egy olyan sz&#251;r&#245;t, amely a
	      ditroff adatokat a nyomtat&oacute; sz&aacute;m&aacute;ra
	      is em&eacute;szthet&#245; &eacute;s nyomtathat&oacute;
	      form&aacute;j&uacute;v&aacute; teszi.  A <link
	      linkend="printing-advanced-convfilters">Konverzi&oacute;s
	      sz&#251;r&#245;k</link> c&iacute;m&#251; szakasz tud
	      ezekr&#245;l t&ouml;bbet mondani.  Ilyen esetekben
	      k&eacute;rhet&uuml;nk nyilv&aacute;ntart&aacute;st.  A
	      konverzi&oacute;s sz&#251;r&#245;k az al&aacute;bbi
	      param&eacute;terekkel indulhatnak:</para>

	    <cmdsynopsis>
	      <command>sz&#251;r&#245;n&eacute;v</command>
	      <arg choice="plain">-x
	      <replaceable>pixelsz&eacute;less&eacute;g</replaceable></arg>
	      <arg choice="plain">-y
	      <replaceable>pixelmagass&aacute;g</replaceable></arg>
	      <arg choice="plain">-n
	      <replaceable>hozz&aacute;f&eacute;r&eacute;s</replaceable></arg>
	      <arg choice="plain">-h
	      <replaceable>g&eacute;pn&eacute;v</replaceable></arg>
	      <arg
		choice="plain"><replaceable>nyilv&aacute;ntart&aacute;s</replaceable></arg>
	    </cmdsynopsis>

	    <para>ahol a
	      <replaceable>pixelsz&eacute;less&eacute;g</replaceable> a
	      <literal>px</literal> tulajdons&aacute;g
	      &eacute;rt&eacute;k&eacute;b&#245;l (ami alapb&oacute;l
	      0), a <replaceable>pixelmagass&aacute;g</replaceable> a
	      <literal>py</literal> tulajdons&aacute;g
	      &eacute;rt&eacute;k&eacute;b&#245;l (ami alapb&oacute;l
	      szint&eacute;n 0) sz&aacute;rmazik.</para>
	  </listitem>

	  <listitem>
	    <para>A <emphasis>kimeneti sz&#251;r&#245;</emphasis>
	      (output filter), ami csak akkor akt&iacute;v, ha a
	      sz&ouml;vegsz&#251;r&#245; nem, vagy ha
	      enged&eacute;lyezt&uuml;k fejl&eacute;clapok
	      nyomtat&aacute;s&aacute;t.  Tapasztalatom szerint az ilyen
	      sz&#251;r&#245;ket ritk&aacute;n haszn&aacute;lj&aacute;k.
	      A <link linkend="printing-advanced-of">Kimeneti
	      sz&#251;r&#245;k</link> c&iacute;m&#251; szakasz mutatja
	      be a m&#251;k&ouml;d&eacute;s&uuml;ket.  Ekkor
	      csup&aacute;n k&eacute;t param&eacute;ter&uuml;nk
	      van:</para>

	    <cmdsynopsis>
	      <command>sz&#251;r&#245;n&eacute;v</command>
	      <arg choice="plain">-w
	      <replaceable>sz&eacute;less&eacute;g</replaceable></arg>
	      <arg choice="plain">-l
	      <replaceable>hossz&uacute;s&aacute;g</replaceable></arg>
	    </cmdsynopsis>

	    <para>amik rendre megegyeznek a sz&ouml;vegsz&#251;r&#245;k
	      <option>-w</option> &eacute;s <option>-l</option>
	      param&eacute;tereivel.</para>
	  </listitem>
	</itemizedlist>

	<para>A sz&#251;r&#245;k <emphasis>ki is tudnak
	  l&eacute;pni</emphasis> a k&ouml;vetkez&#245; k&oacute;dokkal
	  (exit status):</para>

	<variablelist>
	  <varlistentry>
	    <term>0</term>
	    <listitem>
	      <para>A sz&#251;r&#245; sikeresen kinyomtatta az
		&aacute;llom&aacute;nyt.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>1</term>
	    <listitem>
	      <para>A sz&#251;r&#245;nek nem siker&uuml;lt kinyomtatnia
		az &aacute;llom&aacute;nyt, azonban szeretn&eacute;, ha
		az <application>LPD</application> &uacute;jb&oacute;l
		megpr&oacute;b&aacute;lkozna vele.  Az
		<application>LPD</application> teh&aacute;t ebben
		 az esetben &uacute;jraind&iacute;tja a
		sz&#251;r&#245;t.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>2</term>
	    <listitem>
	      <para>A sz&#251;r&#245;nek nem siker&uuml;lt kinyomtatnia
		az &aacute;llom&aacute;nyt, &eacute;s nem is
		k&iacute;v&aacute;nja &uacute;jra
		megpr&oacute;b&aacute;lni.  Ekkor az
		<application>LPD</application> eldobja az
		&aacute;llom&aacute;nyt.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>A &os; kiad&aacute;sokban megtal&aacute;lhat&oacute;
	  <filename>/usr/libexec/lpr/lpf</filename>
	  sz&ouml;vegsz&#251;r&#245; k&eacute;pes a kapott
	  sz&eacute;less&eacute;g &eacute;s hossz param&eacute;terekkel
	  meg&aacute;llap&iacute;tani az oldalt&ouml;r&eacute;seket
	  &eacute;s a nyomtat&oacute; haszn&aacute;lat&aacute;t
	  nyilv&aacute;ntartani, amihez a
	  hozz&aacute;f&eacute;r&eacute;s, g&eacute;pn&eacute;v
	  &eacute;s nyilv&aacute;ntart&aacute;s adatait haszn&aacute;lja
	  fel.</para>

	<para>Amikor majd igyeksz&uuml;nk mell&eacute; &uacute;jabb
	  sz&#251;r&#245;ket beszerezni, ne felejts&uuml;k el
	  ellen&#245;rizni, hogy egy&uuml;tt tudnak-e m&#251;k&ouml;dni
	  az <application>LPD</application>-vel.  Ha a v&aacute;lasz
	  igen, akkor a fentebb eml&iacute;tett param&eacute;terek
	  mindegyik&eacute;t ismerni&uuml;k kell.  Az
	  &aacute;ltal&aacute;nos haszn&aacute;latra k&eacute;sz&uuml;lt
	  sz&#251;r&#245;k k&eacute;sz&iacute;t&eacute;se sor&aacute;n
	  mi magunknak is be kell tartanunk ezeket az
	  elv&aacute;r&aacute;sokat.</para>

      </sect3>

      <sect3 id="printing-advanced-if-conversion">
	<title>Sz&ouml;veges nyomtat&aacute;si feladatok &postscript;
	  nyomtat&oacute;kon</title>

	<indexterm><primary>nyomtats&aacute;i
	  munk&aacute;k</primary></indexterm>

	<para>Ha csak egyed&uuml;l dolgozunk a
	  sz&aacute;m&iacute;t&oacute;g&eacute;pen &eacute;s
	  &postscript; (vagy b&aacute;rmilyen m&aacute;s nyelvet
	  ismer&#245;) nyomtat&oacute;nk van, valamint
	  meg&iacute;g&eacute;rj&uuml;k, hogy soha nem k&uuml;ld&uuml;nk
	  sem mi, sem pedig nem k&uuml;ldet&uuml;nk semmilyen m&aacute;s
	  programmal nyers sz&ouml;veget a nyomtat&oacute;ra, akkor
	  &aacute;tl&eacute;phetj&uuml;k ezt a szakaszt.</para>

	<para>Ha viszont egyar&aacute;nt akarunk k&uuml;ldeni
	  &postscript; programot &eacute;s nyers sz&ouml;veget
	  tartalmaz&oacute; munk&aacute;kat a nyomtat&oacute;nak, akkor
	  ehhez k&eacute;nytelenek vagyunk a rendszer&uuml;nket
	  be&aacute;ll&iacute;tani.  El&#245;sz&ouml;r is
	  sz&uuml;ks&eacute;g&uuml;nk van sz&ouml;vegsz&#251;r&#245;re,
	  ami meg&aacute;llap&iacute;tja, hogy a frissen &eacute;rkezett
	  munka nyers sz&ouml;veget vagy &postscript; programot
	  tartalmaz-e.  Minden &postscript;-alap&uacute; feladat a
	  <literal>%!</literal> karaktersorozattal kezd&#245;dik (a
	  t&ouml;bbi esetben olvassuk a nyomtat&oacute;
	  le&iacute;r&aacute;s&aacute;t).  Sz&oacute;val, ha a
	  nyomtatand&oacute; &aacute;llom&aacute;ny els&#245; k&eacute;t
	  karaktere ilyen, akkor egy &postscript; programmal van dolgunk
	  &eacute;s k&ouml;zvetlen&uuml;l
	  tov&aacute;bbk&uuml;ldhetj&uuml;k a munk&aacute;t a
	  nyomtat&oacute;nak.  Minden m&aacute;s esetben a
	  sz&#251;r&#245;nek el&#245;bb &aacute;t kell alak&iacute;tania
	  a sz&ouml;veget &postscript; nyelvre.</para>

	<para>Hogyan &eacute;rhetj&uuml;k el mindezt?</para>

	<indexterm>
	  <primary>nyomtat&oacute;</primary>
	  <secondary>soros</secondary>
	</indexterm>

	<para>Ha soros nyomtat&oacute;nk van, akkor erre a feladatra az
	  <command>lprps</command> parancs t&ouml;k&eacute;letes.  Az
	  <command>lprps</command> egy olyan &postscript;
	  sz&#251;r&#245;, amely mind a k&eacute;t ir&aacute;nyban
	  k&eacute;pes k&ouml;zvet&iacute;teni.  Folyamatosan
	  r&ouml;gz&iacute;ti egy &aacute;llom&aacute;nyba a
	  nyomtat&oacute; &aacute;llapot&aacute;t, &iacute;gy a
	  felhaszn&aacute;l&oacute;k &eacute;s rendszergazd&aacute;k
	  pontosan l&aacute;tj&aacute;k a nyomtat&oacute; jelenlegi
	  &aacute;llapot&aacute;t (p&eacute;ld&aacute;ul
	  <errorname>toner low</errorname> (a toner hamarosan kifogy)
	  vagy <errorname>paper jam</errorname> (a pap&iacute;r
	  beragadt)).  Ami viszont sokkal l&eacute;nyegesebb, hogy a
	  <command>psif</command> nev&#251; program k&eacute;pes
	  megmondani az &eacute;rkez&#245; munka val&oacute;di
	  t&iacute;pus&aacute;t, &eacute;s ennek megfelel&#245;en meg
	  tudja h&iacute;vni nyers sz&ouml;veg
	  &aacute;talak&iacute;t&aacute;s&aacute;ra a
	  <command>textps</command> (egy m&aacute;sik program, amit a
	  <command>lprps</command> mell&eacute; kapunk) parancsot.
	  Ezut&aacute;n az <command>lprps</command> elk&uuml;ldi a
	  feladatot a nyomtat&oacute;nak.</para>

	<para>Az <command>lprps</command> a &os;
	  Portgy&#251;jtem&eacute;ny&eacute;nek r&eacute;sze
	  (l&aacute;sd <link linkend="ports">A
	  Portgy&#251;jtem&eacute;ny</link>), ez&eacute;rt a
	  haszn&aacute;lni k&iacute;v&aacute;nt pap&iacute;r
	  m&eacute;ret&eacute;t&#245;l f&uuml;gg&#245;en pillanatok
	  alatt magunk is let&ouml;lhetj&uuml;k, ford&iacute;thatjuk
	  &eacute;s telep&iacute;thetj&uuml;k a <filename
	  role="package">print/lprps-a4</filename> &eacute;s <filename
	  role="package">print/lprps-letter</filename> csomagok
	  valamelyik&eacute;t.  Az <command>lprps</command>
	  telep&iacute;t&eacute;se ut&aacute;n egyszer&#251;en csak
	  adjuk meg a <command>psif</command> el&eacute;r&eacute;si
	  &uacute;tvonal&aacute;t.  Ha teh&aacute;t
	  telep&iacute;tett&uuml;k a Portgy&#251;jtem&eacute;nyb&#245;l
	  az <command>lprps</command> csomagot, akkor egy soros portra
	  csatlakoz&oacute; &postscript; nyomtat&oacute; eset&eacute;n
	  ezt kell be&iacute;rnunk az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyba:</para>

	<programlisting>:if=<filename>/usr/local/libexec/psif</filename>:</programlisting>

	<para>Ezenk&iacute;v&uuml;l m&eacute;g az <literal>rw</literal>
	  tulajdons&aacute;ggal meg kell mondanunk az
	  <application>LPD</application>-nek, hogy a nyomtat&oacute;t
	  &iacute;r&aacute;sra &eacute;s olvas&aacute;sra nyissa
	  meg.</para>

	<para>Amennyiben a &postscript; nyomtat&oacute;nk a
	  p&aacute;rhuzamos porton csatlakozik (&eacute;s ami&eacute;rt
	  a nyomtat&oacute;nk nem k&eacute;pes az
	  <command>lprps</command> &aacute;ltal ig&eacute;nyelt
	  k&eacute;tir&aacute;ny&uacute; kommunik&aacute;ci&oacute;ra),
	  sz&ouml;vegsz&#251;r&#245;k&eacute;nt a k&ouml;vetkez&#245;
	  szkriptet fogjuk haszn&aacute;lni:</para>

	<programlisting>#!/bin/sh
#
#  psif - PostScript vagy nyers sz&ouml;veg nyomtat&aacute;sa PostScript nyomtat&oacute;n
#  Ez a szkriptes v&aacute;ltozat, NEM pedig az lprps-hez mell&eacute;kelt sz&#251;r&#245;
#  (a /usr/local/libexec/psif &aacute;llom&aacute;ny)!
#

IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  PostScript: nyomtassuk ki.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
else
    #
    #  Nyers sz&ouml;veg: alak&iacute;tsuk &aacute;t, majd nyomtassuk ki.
    #
    ( echo "$first_line"; cat ) | /usr/local/bin/textps &amp;&amp; printf "\004" &amp;&amp; exit 0
    exit 2
fi</programlisting>

	<para>A fentebb szerepl&#245; szkriptben a
	  <command>textps</command> programot haszn&aacute;ljuk a nyers
	  sz&ouml;vegek &postscript; programokra
	  alak&iacute;t&aacute;s&aacute;hoz, de helyette
	  b&aacute;rmilyen m&aacute;s konvert&aacute;l&oacute; programot
	  is ig&eacute;nybe vehet&uuml;nk.  A &os;
	  Portgy&#251;jtem&eacute;ny&eacute;ben (l&aacute;sd <link
	  linkend="ports"> A Portgy&#251;jtem&eacute;ny</link>)
	  tal&aacute;lhatunk erre a c&eacute;lra egy
	  <literal>a2ps</literal> nev&#251; programot is, amit esetleg
	  &eacute;rdemes lehet k&ouml;zelebbr&#245;l
	  megn&eacute;zn&uuml;nk.</para>

      </sect3>

      <sect3 id="printing-advanced-ps">
	<title>&postscript; szimul&aacute;ci&oacute;ja nem &postscript;
	  nyomtat&oacute;kon</title>

	<indexterm>
	  <primary>PostScript</primary>
	  <secondary>emul&aacute;ci&oacute;</secondary>
	</indexterm>
	<indexterm><primary>Ghostscript</primary></indexterm>

	<para>A &postscript; a magas sz&iacute;nvonal&uacute;
	  bet&#251;szed&eacute;s &eacute;s nyomtat&aacute;s <emphasis>de
	  facto</emphasis> szabv&aacute;nya.  Emellett azonban a
	  &postscript; egy <emphasis>k&ouml;lts&eacute;ges</emphasis>
	  szabv&aacute;ny is.  Az Aladdin Enterprises-nak h&aacute;la
	  azonban l&eacute;tezik egy hozz&aacute; hasonl&oacute; szabad
	  szoftver, a <application>Ghostscript</application>, amely
	  k&eacute;pes &os;-n is futni.  A
	  <application>Ghostscript</application> k&eacute;pes a
	  legt&ouml;bb &postscript; &aacute;llom&aacute;ny
	  olvas&aacute;s&aacute;ra, megjelen&iacute;t&eacute;s&eacute;re
	  mindenf&eacute;le eszk&ouml;z&ouml;k&ouml;n, bele&eacute;rtve
	  a &postscript;et nem ismer&#245; nyomtat&oacute;kat is.  A
	  <application>Ghostscript</application> &eacute;s egy
	  speci&aacute;lis sz&ouml;vegsz&#251;r&#245;
	  telep&iacute;t&eacute;s&eacute;vel el tudjuk &eacute;rni, hogy
	  egy nem &postscript; nyomtat&oacute; val&oacute;di
	  &postscript; nyomtat&oacute;k&eacute;nt viselkedjen.</para>

	<para>Ha telep&iacute;teni szeretn&eacute;nk, a
	  <application>Ghostscript</application>
	  megtal&aacute;lhat&oacute; a &os;
	  Portgy&#251;jtem&eacute;ny&eacute;ben.  Innen teh&aacute;t
	  magunk is k&ouml;nnyed&eacute;n le tudjuk t&ouml;lteni,
	  ford&iacute;tani &eacute;s telep&iacute;teni.</para>

	<para>A &postscript; nyomtat&aacute;s
	  szimul&aacute;ci&oacute;j&aacute;hoz el&#245;sz&ouml;r egy
	  sz&#251;r&#245; seg&iacute;ts&eacute;g&eacute;vel &eacute;szre
	  kell venn&uuml;nk, hogy egy &postscript;
	  form&aacute;tum&uacute; &aacute;llom&aacute;nyt
	  k&eacute;sz&uuml;l&uuml;nk kinyomtatni.  Ha nem ilyen a
	  nyomtatand&oacute; munka, akkor egyenesen a nyomtat&oacute;ra
	  k&uuml;ldj&uuml;k, azonban minden m&aacute;s esetben
	  el&#245;sz&ouml;r a <application>Ghostscript</application>
	  seg&iacute;ts&eacute;g&eacute;vel &aacute;talak&iacute;tjuk
	  egy olyan form&aacute;tumba, amit a nyomtat&oacute; is
	  k&eacute;pes feldolgozni.</para>

	<para>N&eacute;zz&uuml;nk erre egy p&eacute;ld&aacute;t: a most
	  k&ouml;vetkez&#245; sz&ouml;vegsz&#251;r&#245; a Hewlett
	  Packard DeskJet 500-as nyomtat&oacute;ihoz
	  haszn&aacute;lhat&oacute;.  M&aacute;s nyomtat&oacute;
	  eset&eacute;n cser&eacute;lj&uuml;k ki a <command>gs</command>
	  (<application>Ghostscript</application>) parancs
	  <option>-sDEVICE</option> param&eacute;ter&eacute;t a neki
	  megfelel&#245;re.  (A telep&iacute;tett
	  <application>Ghostscript</application> &aacute;ltal ismert
	  nyomtat&oacute;k list&aacute;j&aacute;t a
	  <command>gs <option>-h</option></command> paranccsal
	  k&eacute;rdezhetj&uuml;k le.)</para>

	<programlisting>#!/bin/sh
#
#  ifhp - Ghostscripttel szimul&aacute;lt Postscript nyomtat&aacute;s DeskJet 500-on
#  Helye: /usr/local/libexec/ifhp

#
#  LF karaktereket CR+LF-k&eacute;nt kezelj&uuml;k (elker&uuml;lve ezzel a HP/PCL
#  nyomtat&oacute;kon a "l&eacute;pcs&#245;z&eacute;st"):
#
printf "\033&amp;k2G" || exit 2

#
#  Az &aacute;llom&aacute;ny els&#245; k&eacute;t karakter&eacute;nek beolvas&aacute;sa
#
IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  Ez PostScript: k&uuml;ldj&uuml;k &aacute;t a Ghostscripten &eacute;s nyomtassuk ki.
    #
    /usr/local/bin/gs -dSAFER -dNOPAUSE -q -sDEVICE=djet500 \
      -sOutputFile=- - &amp;&amp; exit 0
else
    #
    #  Nyers sz&ouml;veg vagy HP/PCL, ez&eacute;rt k&uuml;ldj&uuml;k &aacute;t k&ouml;zvetlen&uuml;l. Az utols&oacute;
    #  lap kidob&aacute;s&aacute;hoz k&uuml;ld&uuml;nk m&eacute;g egy lapdob&aacute;st is.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp; 
exit 0
fi

exit 2</programlisting>

	<para>Befejez&eacute;s&uuml;l az <literal>if</literal>
	  tulajdons&aacute;gon kereszt&uuml;l
	  &eacute;rtes&iacute;ten&uuml;nk kell err&#245;l a
	  sz&#251;r&#245;r&#245;l az <application>LPD</application>-t
	  is:</para>

	<programlisting>:if=<filename>/usr/local/libexec/ifhp</filename>:</programlisting>

	<para>K&eacute;szen is vagyunk!  Most m&aacute;r nyugodtan
	  be&iacute;rhatjuk, hogy
	  <command>lpr <filename><replaceable>sima.sz&ouml;veg</replaceable></filename></command>
	  vagy
	  <command>lpr <filename><replaceable>ak&aacute;rmi.ps</replaceable></filename></command>,
	  mind a kett&#245;nek ki kell tudnia
	  nyomtat&oacute;dnia.</para>

      </sect3>

      <sect3 id="printing-advanced-convfilters">
	<title>Konverzi&oacute;s sz&#251;r&#245;k</title>

	<para>Miut&aacute;n elv&eacute;gezt&uuml;k az <link
	  linkend="printing-simple">Alacsonyszint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</link>
	  c&iacute;m&#251; szakaszban le&iacute;rt
	  be&aacute;ll&iacute;t&aacute;sokat, a (nyers ASCII sz&ouml;veg
	  mellett) kedvenc &aacute;llom&aacute;nyform&aacute;tumainkhoz
	  is minden bizonnyal szeretn&eacute;nk telep&iacute;teni
	  n&eacute;h&aacute;ny konverzi&oacute;s
	  sz&#251;r&#245;t.</para>

	<sect4>
	  <title>Mi&eacute;rt haszn&aacute;ljunk konverzi&oacute;s
	    sz&#251;r&#245;ket?</title>

	  <indexterm>
	    <primary>&tex;</primary>
	    <secondary>DVI &aacute;llom&aacute;nyok
	      nyomtat&aacute;sa</secondary>
	  </indexterm>

	  <para>A konverzi&oacute;s sz&#251;r&#245;k
	    seg&iacute;ts&eacute;g&eacute;vel &aacute;llom&aacute;nyok
	    mindenf&eacute;le form&aacute;tumait k&ouml;nnyen ki tudjuk
	    nyomtatni.  P&eacute;ld&aacute;ul tegy&uuml;k fel, hogy a
	    sokat dolgozunk a &tex; bet&#251;szed&#245; rendszerrel
	    &eacute;s egy &postscript; nyomtat&oacute;nk van.  Minden
	    alkalommal, amikor egy DVI &aacute;llom&aacute;nyt hozunk
	    l&eacute;tre a &tex; forr&aacute;sb&oacute;l, azt
	    k&ouml;zvetlen&uuml;l m&eacute;g nem tudjuk a
	    nyomtat&oacute;ra k&uuml;ldeni.  Ehhez a k&ouml;vetkez&#245;
	    parancsokat kell kiadnunk:</para>

	  <screen>&prompt.user; <userinput><command>dvips <filename><replaceable>h&iacute;n&aacute;r-elemz&eacute;s.dvi</replaceable></filename></command></userinput>
&prompt.user; <userinput><command>lpr <filename><replaceable>h&iacute;n&aacute;r-elemz&eacute;s.ps</replaceable></filename></command></userinput></screen>

	  <para>Ha telep&iacute;t&uuml;nk egy konverzi&oacute;s
	    sz&#251;r&#245;t a DVI &aacute;llom&aacute;nyokhoz, meg
	    tudjuk sp&oacute;rolni ezt a manu&aacute;lis
	    &aacute;talak&iacute;t&aacute;si l&eacute;p&eacute;st azzal,
	    hogy &aacute;tadjuk ezt a feladatot az
	    <application>LPD</application>-nek.  &Iacute;gy
	    ezut&aacute;n mindig, amikor egy DVI &aacute;llom&aacute;nyt
	    akarunk kinyomtatni, csup&aacute;n egyetlen
	    l&eacute;p&eacute;sre lesz
	    sz&uuml;ks&eacute;g&uuml;nk:</para>

	  <screen>&prompt.user; <userinput><command>lpr <option>-d</option> <filename><replaceable>h&iacute;n&aacute;r-elemz&eacute;s.dvi</replaceable></filename></command></userinput></screen>

	  <para>Az <application>LPD</application>-nek a
	    <option>-d</option> param&eacute;terrel adjuk meg, hogy a
	    nyomtat&aacute;s el&#245;tt hajtsa v&eacute;gre a DVI
	    &aacute;talak&iacute;t&aacute;s&aacute;t.  A <link
	    linkend="printing-lpr-options-format">Form&aacute;z&aacute;si
	    &eacute;s konverzi&oacute;s
	    be&aacute;ll&iacute;t&aacute;sok</link> c&iacute;m&#251;
	    szakaszban tal&aacute;ljuk meg a t&ouml;bbi
	    konverzi&oacute;s opci&oacute;t.</para>

	  <para>Minden olyan konverzi&oacute;s
	    be&aacute;ll&iacute;t&aacute;shoz, amit haszn&aacute;lni
	    szeretn&eacute;nk a nyomtat&oacute;val,
	    telep&iacute;ten&uuml;nk kell egy
	    <emphasis>konverzi&oacute;s sz&#251;r&#245;t</emphasis>
	    (conversion filter) &eacute;s meg kell adnunk a nev&eacute;t
	    az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyban.  A konverzi&oacute;s
	    sz&#251;r&#245;k az egyszer&#251;
	    nyomtat&oacute;be&aacute;ll&iacute;t&aacute;sn&aacute;l
	    szerepl&#245; sz&ouml;vegsz&#251;r&#245;kh&ouml;z
	    hasonl&iacute;tanak (l&aacute;sd <link
	    linkend="printing-textfilter">A sz&ouml;vegsz&#251;r&#245;
	    telep&iacute;t&eacute;se</link> szakasz) azzal a
	    kiv&eacute;tellel, hogy a nyers sz&ouml;vegek
	    kinyomtat&aacute;sa helyett ezek a sz&#251;r&#245;k a
	    nyomtat&oacute; sz&aacute;m&aacute;ra &eacute;rtelmes
	    form&aacute;tumra alak&iacute;tj&aacute;k az
	    &aacute;llom&aacute;nyokat.</para>

	</sect4>

	<sect4>
	  <title>Milyen konverzi&oacute;s sz&#251;r&#245;ket
	    &eacute;rdemes telep&iacute;teni?</title>

	  <para>Olyan konverzi&oacute;s sz&#251;r&#245;ket
	    telep&iacute;ts&uuml;nk, amelyekre gyakran
	    sz&uuml;ks&eacute;g&uuml;nk lehet.  Ha p&eacute;ld&aacute;ul
	    sok DVI adatot szeretn&eacute;nk nyomtatni a
	    j&ouml;v&#245;ben, akkor haszn&aacute;ljunk DVI
	    konverzi&oacute;s sz&#251;r&#245;t, vagy ha sok troff
	    form&aacute;tum&uacute; adatot nyomtatunk, akkor minden
	    bizonnyal j&oacute;l fog j&ouml;nni egy troff
	    sz&#251;r&#245;.</para>

	  <para>A k&ouml;vetkez&#245; t&aacute;bl&aacute;zat foglalja
	    &ouml;ssze azokat a sz&#251;r&#245;ket, amelyekkel az
	    <application>LPD</application> k&eacute;pes
	    egy&uuml;ttm&#251;k&ouml;dni.  Megtudhatjuk, hogy az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    melyik tulajdons&aacute;g tartozik hozz&aacute;juk &eacute;s
	    hogyan h&iacute;vjuk meg ezeket az <command>lpr</command>
	    paranccsal:</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="3">
	      <thead>
		<row>
		  <entry>&Aacute;llom&aacute;nyt&iacute;pus</entry>
		  <entry>Tulajdons&aacute;g az
		    <filename>/etc/printcap</filename>
		    &aacute;llom&aacute;nyban</entry>
		  <entry>Az <command>lpr</command>
		    kapcsol&oacute;ja</entry>
		</row>
	      </thead>
	      <tbody>
		<row>
		  <entry>cifplot</entry>
		  <entry><literal>cf</literal></entry>
		  <entry><option>-c</option></entry>
		</row>
		<row>
		  <entry>DVI</entry>
		  <entry><literal>df</literal></entry>
		  <entry><option>-d</option></entry>
		</row>
		<row>
		  <entry>plot</entry>
		  <entry><literal>gf</literal></entry>
		  <entry><option>-g</option></entry>
		</row>
		<row>
		  <entry>ditroff</entry>
		  <entry><literal>nf</literal></entry>
		  <entry><option>-n</option></entry>
		</row>
		<row>
		  <entry>FORTRAN forr&aacute;s</entry>
		  <entry><literal>rf</literal></entry>
		  <entry><option>-f</option></entry>
		</row>
		<row>
		  <entry>troff</entry>
		  <entry><literal>tf</literal></entry>
		  <entry><option>-f</option></entry>
		</row>
		<row>
		  <entry>raster</entry>
		  <entry><literal>vf</literal></entry>
		  <entry><option>-v</option></entry>
		</row>
		<row>
		  <entry>nyers sz&ouml;veg</entry>
		  <entry><literal>if</literal></entry>
		  <entry>nincs, <option>-p</option>, vagy
		    <option>-l</option></entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para>A p&eacute;ld&aacute;nkban teh&aacute;t a
	    <command>lpr <option>-d</option></command> parancs
	    haszn&aacute;lata arra utal, hogy a nyomtat&oacute;nak az
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyb&oacute;l a <literal>df</literal>
	    tulajdons&aacute;g&aacute;ra van
	    sz&uuml;ks&eacute;ge.</para>

	  <indexterm><primary>FORTRAN</primary></indexterm>

	  <para>Minden hadakoz&aacute;s ellen&eacute;re
	    &aacute;ll&iacute;thatjuk, hogy a FORTRAN forr&aacute;sok
	    &eacute;s a plot &aacute;ltal haszn&aacute;lt sz&ouml;vegek
	    form&aacute;tuma napjainkra m&aacute;r elavultnak
	    tekinthet&#245;.  Ez&eacute;rt ezekhez az opci&oacute;khoz a
	    saj&aacute;t sz&#251;r&#245;inkkel tetsz&#245;leges
	    form&aacute;z&aacute;si lehet&#245;s&eacute;geket
	    rendelhet&uuml;nk.  P&eacute;ld&aacute;ul, ha Printerleaf
	    (az Interleaf asztali kiadv&aacute;nyszerkeszt&#245;
	    form&aacute;tuma) &aacute;llom&aacute;nyokat
	    szeretn&eacute;nk k&ouml;zvetlen&uuml;l nyomtatni, akkor
	    val&oacute;sz&iacute;n&#251;leg nem lesz
	    sz&uuml;ks&eacute;g&uuml;nk plot &aacute;llom&aacute;nyokra.
	    Ez&eacute;rt a <literal>gf</literal> tulajdons&aacute;gnak
	    megadhatunk egy Printerleaf konverzi&oacute;s
	    sz&#251;r&#245;t, amelyen kereszt&uuml;l azt&aacute;n a
	    felhaszn&aacute;l&oacute;k az
	    <command>lpr <option>-g</option></command> paranccsal
	    Printerleaf &aacute;llom&aacute;nyokat tudnak
	    nyomtatni.</para>

	</sect4>

	<sect4>
	  <title>Konverzi&oacute;s sz&#251;r&#245;k
	    telep&iacute;t&eacute;se</title>

	  <para>Mivel a konverzi&oacute;s sz&#251;r&#245;k az alap &os;
	    rendszeren k&iacute;v&uuml;lre ker&uuml;lnek, ez&eacute;rt
	    ezeket minden val&oacute;sz&iacute;n&#251;s&eacute;g szerint
	    valahol a <filename class="directory">/usr/local</filename>
	    k&ouml;nyvt&aacute;rban tal&aacute;ljuk meg.  Ezen
	    bel&uuml;l is &aacute;ltal&aacute;ban a
	    <filename class="directory">/usr/local/libexec</filename>
	    k&ouml;nyvt&aacute;rban fordulnak el&#245;, mivel ezeket
	    csak az <application>LPD</application> futtatja, senki
	    m&aacute;snak nincs r&aacute;juk
	    sz&uuml;ks&eacute;ge.</para>

	  <para>A konverzi&oacute;s sz&#251;r&#245;k
	    aktiv&aacute;l&aacute;s&aacute;hoz az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    egyszer&#251;en adjuk meg az alkalmas
	    tulajdons&aacute;goknak megfelel&#245; sz&#251;r&#245;k
	    el&eacute;r&eacute;si &uacute;tvonalait.</para>

	  <para>A p&eacute;ld&aacute;nkban most felvesz&uuml;nk egy DVI
	    konverzi&oacute;s sz&#251;r&#245;t a
	    <literal>bamboo</literal> nev&#251; nyomtat&oacute;hoz.  Itt
	    ism&eacute;t l&aacute;thatjuk a kor&aacute;bban
	    haszn&aacute;lt <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyt, ahol most azonban a
	    <literal>bamboo</literal> nev&#251;
	    nyomtat&oacute;n&aacute;l hozz&aacute;adtunk egy
	    <literal>df</literal> tulajdons&aacute;got:</para>

	  <programlisting>#
#  /etc/printcap (rose) -  egy df sz&#251;r&#245; hozz&aacute;ad&aacute;sa a bamboo
#  nev&#251; nyomtat&oacute;hoz
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

	  <para>A DVI sz&#251;r&#245; ebben az esetben a
	    <filename>/usr/local/libexec/psdf</filename> n&eacute;ven
	    el&eacute;rhet&#245; apr&oacute;cska szkript.  Ezt
	    tal&aacute;lhatjuk benne:</para>

	  <programlisting>#!/bin/sh
#
#  psdf - DVI sz&#251;r&#245; PostScript nyomtat&oacute;hoz
#  Helye: /usr/local/libexec/psdf
#
# Az lpr -d parancs hat&aacute;s&aacute;ra h&iacute;v&oacute;dik meg
#
exec /usr/local/bin/dvips -f | /usr/local/libexec/lprps "$@"</programlisting>

	  <para>A szkript a <command>dvips</command> parancsot
	    sz&#251;r&#245;k&eacute;nt futtatja (az <option>-f</option>
	    param&eacute;terrel) a szabv&aacute;nyos bemenetr&#245;l,
	    ahova a nyomtat&aacute;si munk&aacute;t is kapja.
	    Ezut&aacute;n elind&iacute;tja az <command>lprps</command>
	    &postscript; sz&#251;r&#245;t (l&aacute;sd a <link
	    linkend="printing-advanced-if-conversion">Sz&ouml;veges
	    nyomtat&aacute;si feladatok &postscript;
	    nyomtat&oacute;kon</link> c&iacute;m&#251; szakaszt) az
	    <application>LPD</application> &aacute;ltal &aacute;tadott
	    param&eacute;terekkel.  Az <command>lprps</command> parancs
	    ezekkel a param&eacute;terekkel tartja nyilv&aacute;n az
	    &iacute;gy kinyomtatott lapokat.</para>

	</sect4>

	<sect4>
	  <title>Tov&aacute;bbi p&eacute;ld&aacute;k konverzi&oacute;s
	    sz&#251;r&#245;kre</title>

	  <para>A konverzi&oacute;s sz&#251;r&#245;k
	    telep&iacute;t&eacute;s&eacute;nek nincs bev&aacute;lt
	    receptje, ez&eacute;rt ebben a szakaszban bemutatunk
	    r&aacute;juk n&eacute;h&aacute;ny m&#251;k&ouml;d&#245;
	    illusztr&aacute;ci&oacute;t.  Ezeket tudjuk
	    felhaszn&aacute;lni saj&aacute;t sz&#251;r&#245;k
	    elk&eacute;sz&iacute;t&eacute;s&eacute;re.  Vagy ha
	    megtehetj&uuml;k, haszn&aacute;ljuk k&ouml;zvetlen&uuml;l
	    ezeket.</para>

	  <para>Ebben a p&eacute;lda szkriptben Hewlett Packard LaserJet
	    III-Si nyomtat&oacute;khoz hozunk l&eacute;tre raszteres
	    (pontosabban GIF form&aacute;tum&uacute;) konverzi&oacute;s
	    sz&#251;r&#245;t:</para>

	  <programlisting>#!/bin/sh
#
#  hpvf - GIF &aacute;llom&aacute;nyokat konvert&aacute;l &aacute;t HP/PCL-be, majd kinyomtatja
#  Helye: /usr/local/libexec/hpvf
                  
PATH=/usr/X11R6/bin:$PATH; export PATH
giftopnm | ppmtopgm | pgmtopbm | pbmtolj -resolution 300 \
    &amp;&amp; exit 0 \
    || exit 2</programlisting>

	  <para>&Uacute;gy m&#251;k&ouml;dik, hogy a GIF
	    &aacute;llom&aacute;nyt el&#245;sz&ouml;r PNM (portable
	    anymap), ut&aacute;na PGM (portable graymap), majd PBM
	    (portable bitmap) form&aacute;tum&uacute;ra alak&iacute;tja,
	    amib&#245;l v&eacute;g&uuml;l LaserJet/PCL-kompatibilis adat
	    lesz.</para>

	  <para>Ez lesz a hozz&aacute;tartoz&oacute;
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;ny:</para>

	  <programlisting>#
#  /etc/printcap (orchid)
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:sh:sd=<filename class="directory">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:\
        :vf=<filename>/usr/local/libexec/hpvf</filename>:</programlisting>

	  <para>A most k&ouml;vetkez&#245; szkript a groff
	    bet&#251;szed&#251; rendszerb&#245;l &eacute;rkez&#245;
	    troff adatokat alak&iacute;tja &aacute;t a
	    <literal>bamboo</literal> nev&#251; &postscript;
	    nyomtat&oacute; sz&aacute;m&aacute;ra:</para>

	  <programlisting>#!/bin/sh
#
#  pstf - a groff troff adait alak&iacute;tja PS-re, majd kinyomtatja
#  Helye: /usr/local/libexec/pstf
#
exec grops | /usr/local/libexec/lprps "$@"</programlisting>

	  <para>A szkript az <command>lprps</command> parancs
	    seg&iacute;ts&eacute;g&eacute;vel kommunik&aacute;l a
	    nyomtat&oacute;val.  Ha a nyomtat&oacute;nk
	    p&aacute;rhuzamos porton csatlakozik, akkor helyette ezt a
	    szkriptet haszn&aacute;ljuk:</para>

	  <programlisting>#!/bin/sh
#
#  pstf - a groff troff adatait alak&iacute;tja PS-re, majd kinyomtatja
#  Helye: /usr/local/libexec/pstf
#
exec grops</programlisting>

	  <para>K&eacute;sz is!  A sz&#251;r&#245;
	    &eacute;ltrekelt&eacute;s&eacute;hez mind&ouml;ssze ennyit
	    kell beilleszten&uuml;nk az
	    <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyba:</para>

	  <programlisting>:tf=<filename>/usr/local/libexec/pstf</filename>:</programlisting>

	  <para>Most pedig j&ouml;jj&ouml;n a FORTRAN szerelmeseinek
	    sz&iacute;v&eacute;t megmelenget&#245; szkript.  Ez egy
	    olyan sz&ouml;vegsz&#251;r&#245;, amely b&aacute;rmelyik
	    nyers sz&ouml;veget k&ouml;zvetlen&uuml;l kezelni
	    tud&oacute; nyomtat&oacute; eset&eacute;n m&#251;k&ouml;dik.
	    A <literal>teak</literal> nev&#251; nyomtat&oacute;hoz
	    helyezz&uuml;k be:</para>

	  <programlisting>#!/bin/sh
#
# hprf - FORTRAN sz&ouml;vegsz&#251;r&#245; LaserJet 3si-hez
# Helye: /usr/local/libexec/hprf
#

printf "\033&amp;k2G" &amp;&amp; fpr &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
 exit 0
exit 2</programlisting>

	  <para>Az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyban a <literal>teak</literal>
	    nyomtat&oacute;hoz a k&ouml;vetkez&#245; sor
	    be&iacute;r&aacute;s&aacute;val tudjuk enged&eacute;lyezni
	    ezt a sz&#251;r&#245;t:</para>

	  <programlisting>:rf=<filename>/usr/local/libexec/hprf</filename>:</programlisting>

	  <para>Most pedig k&ouml;vetkezzen egy utols&oacute;, de az
	    eddigiekn&eacute;l valamivel &ouml;sszetettebb p&eacute;lda.
	    Ebben a kor&aacute;bban bemutatott <literal>teak</literal>
	    nev&#251; LaserJet nyomtat&oacute;hoz fogunk
	    hozz&aacute;adni egy DVI sz&#251;r&#245;t.
	    El&#245;sz&ouml;r is k&ouml;vetkezzen a m&#251;velet
	    egyszer&#251;bb r&eacute;sze: b&#245;v&iacute;ts&uuml;k ki
	    az <filename>/etc/printcap</filename>
	    &aacute;llom&aacute;nyt a DVI sz&#251;r&#245;
	    hely&eacute;nek megad&aacute;s&aacute;val:</para>

	  <programlisting>:df=<filename>/usr/local/libexec/hpdf</filename>:</programlisting>

	  <para>Ezut&aacute;n k&ouml;vetkezz&eacute;k a nehezebb
	    r&eacute;sz: a sz&#251;r&#245;
	    elk&eacute;sz&iacute;t&eacute;se.  Ehhez
	    sz&uuml;ks&eacute;g&uuml;nk lesz egy DVI-r&#245;l
	    LaserJet/PCL-re alak&iacute;t&oacute; programra.  A &os;
	    Portgy&#251;jtem&eacute;ny&eacute;ben (l&aacute;sd <link
	    linkend="ports">A Portgy&#251;jtem&eacute;ny</link>)
	    tal&aacute;lunk is egyet: a csomag neve <filename
	    role="package">print/dvi2xx</filename>.  A csomag
	    telep&iacute;t&eacute;s&eacute;vel megkapjunk a nek&uuml;nk
	    kell&#245; <command>dvilj2p</command> programot, ami
	    k&eacute;pes DVI-t LaserJet IIp, LaserJet III &eacute;s a
	    LaserJet 2000 t&iacute;pusok &aacute;ltal ismert
	    k&oacute;dokra ford&iacute;tani.</para>

	  <para>A <command>dvilj2p</command>
	    felhaszn&aacute;l&aacute;s&aacute;t&oacute;l
	    f&uuml;ggetlen&uuml;l a <command>hpdf</command> n&eacute;ven
	    l&eacute;trehozni k&iacute;v&aacute;nt sz&#251;r&#245;nk
	    m&eacute;g &iacute;gy is bonyolult lesz, hiszen a
	    <command>dvilj2p</command> nem tud olvasni a
	    szabv&aacute;nyos bemenetr&#245;l, hanem minden &aacute;ron
	    egy &aacute;llom&aacute;nnyal akar dolgozni.  S&#245;t,
	    olyan &aacute;llom&aacute;nnyal, amelynek
	    <filename>.dvi</filename> kiterjeszt&eacute;se van,
	    ez&eacute;rt m&eacute;g a <filename
	      class="devicefile">/dev/fd/0</filename> (vagyis a
	    szabv&aacute;nyos bemenethez tartoz&oacute;
	    eszk&ouml;zle&iacute;r&oacute;) haszn&aacute;lata is
	    akad&aacute;lyokba &uuml;tk&ouml;zik.</para>

	  <para>&Uuml;r&ouml;m m&eacute;g az &ouml;r&ouml;m&uuml;nkben,
	    hogy a <filename class="directory">/tmp</filename>
	    k&ouml;nyvt&aacute;rat sem tudjuk felhaszn&aacute;lni
	    ideiglenes link l&eacute;trehoz&aacute;s&aacute;ra: a
	    szimbolikus linkeket a <username>bin</username>
	    felhaszn&aacute;l&oacute; &eacute;s csoport birtokolja, a
	    sz&#251;r&#245;t pedig a <username>daemon</username>
	    felhaszn&aacute;l&oacute; futtatja.  A <filename
	      class="directory">/tmp</filename> k&ouml;nyvt&aacute;rban
	    r&aacute;&aacute;ad&aacute;sul csak a tulajdonosaik
	    k&eacute;pesek &aacute;llom&aacute;nyokat &aacute;tnevezni
	    vagy t&ouml;r&ouml;lni (sticky bit).  Ez&eacute;rt a
	    sz&#251;r&#245; ugyan l&eacute;tre tudna hozni egy linket,
	    azonban ezt a munk&aacute;ja v&eacute;gezt&eacute;vel nem
	    lesz majd k&eacute;pes t&ouml;r&ouml;lni, mivel a link egy
	    m&aacute;sik felhaszn&aacute;l&oacute;hoz tartozik.</para>

	  <para>Ez&eacute;rt a sz&#251;r&#245; az aktu&aacute;lis
	    k&ouml;nyvt&aacute;rban fogja l&eacute;trehozni ezt a
	    szimbolikus linket, ami jelen eset&uuml;nkben a
	    nyomtat&aacute;si rendszer &aacute;ltal haszn&aacute;lt
	    k&ouml;nyvt&aacute;r lesz (ezt az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;ny
	    <literal>sd</literal> tulajdons&aacute;g&aacute;val adjuk
	    meg).  Itt remek&uuml;l el tudj&aacute;k v&eacute;gezni a
	    feladataikat a sz&#251;r&#245;k, k&uuml;l&ouml;n&ouml;sen
	    mivel (n&eacute;ha) t&ouml;bb hely van itt, mint a <filename
	      class="directory">/tmp</filename>
	    k&ouml;nyvt&aacute;rban.</para>

	  <para>V&eacute;g&uuml;l l&aacute;ssuk mag&aacute;t a
	    sz&#251;r&#245;t:</para>

	  <programlisting>#!/bin/sh
#
#  hpdf - DVI adat nyomtat&aacute;sa HP/PCL nyomtat&oacute;n
#  Helye: /usr/local/libexec/hpdf

PATH=/usr/local/bin:$PATH; export PATH

#
#  L&eacute;trehozunk egy f&uuml;ggv&eacute;nyt az &aacute;tmeneti &aacute;llom&aacute;nyok t&ouml;rl&eacute;s&eacute;re. Ezek
#  az aktu&aacute;lis k&ouml;nyvt&aacute;rban j&ouml;nnek l&eacute;tre, ami pedig a nyomtat&aacute;si
#  rendszer adott nyomtat&oacute;hoz tartoz&oacute; k&ouml;nyvt&aacute;ra lesz.
#
cleanup() {
   rm -f hpdf$$.dvi
}

#
#  L&eacute;trehozunk egy f&uuml;ggv&eacute;nyt a s&uacute;lyos hib&aacute;k kezel&eacute;s&eacute;re: &iacute;rassunk ki
#  egy adott &uuml;zenetet &eacute;s l&eacute;pj&uuml;nk ki a 2-es hibak&oacute;ddal.  Ezzel &uuml;zen&uuml;nk
#  az LPD-nek, hogy ne nyomtatassa &uacute;jra a munk&aacute;t.
#
fatal() {
    echo "$@" 1&gt;&amp;2
    cleanup
    exit 2
}

#
#  Ha a felhaszn&aacute;l&oacute; elt&aacute;vol&iacute;tja a munk&aacute;t a sorb&oacute;l, akkor az LPD egy SIGINT
#  jelz&eacute;st fog k&uuml;ldeni, ez&eacute;rt pr&oacute;b&aacute;ljuk meg azt elkapni (n&eacute;h&aacute;ny m&aacute;s egy&eacute;b
#  jelz&eacute;ssel egy&uuml;tt), &iacute;gy m&eacute;g tudjuk t&ouml;r&ouml;lni az ideiglenesen
#  l&eacute;trehozott &aacute;llom&aacute;nyokat. 
#
trap cleanup 1 2 15 

#
#  Gondoskodjunk r&oacute;la, hogy a feladat megkezd&eacute;sekor m&eacute;g egyetlen
#  haszn&aacute;lt &aacute;llom&aacute;ny sem l&eacute;tezik.
#
cleanup

#
#  K&ouml;ss&uuml;k &ouml;ssze a szabv&aacute;nyos bemenetet egy DVI &aacute;llom&aacute;nnyal (amit
#  majd nyomtatni akarunk).
#
ln -s /dev/fd/0 hpdf$$.dvi || fatal "Cannot symlink /dev/fd/0"

#
#  LF = CR+LF
#
printf "\033&amp;k2G" || fatal "Cannot initialize printer"

#
#  Alak&iacute;tsuk &aacute;t az adatot &eacute;s nyomtassunk. A dvilj2p &aacute;ltal visszaadott &eacute;rt&eacute;k
#  nem t&uacute;ls&aacute;gosan megb&iacute;zhat&oacute;, ez&eacute;rt ne is foglalkozzunk vele.
#
dvilj2p -M1 -q -e- dfhp$$.dvi

#
#  Takar&iacute;tsunk el magunk ut&aacute;n &eacute;s l&eacute;pj&uuml;nk ki szab&aacute;lyosan
#
cleanup
exit 0</programlisting>

	</sect4>

	<sect4 id="printing-advanced-autoconv">
	  <title>Automatikus konverzi&oacute;k: a konverzi&oacute;s
	    sz&#251;r&#245;k helyett</title>

	  <para>A konverzi&oacute;s sz&#251;r&#245;k sokat
	    seg&iacute;tenek egy k&eacute;nyelmes nyomtat&aacute;si
	    k&ouml;rnyezet kialak&iacute;t&aacute;s&aacute;ban, azonban
	    a haszn&aacute;latukhoz a felhaszn&aacute;l&oacute;knak (az
	    &man.lpr.1; parancson kereszt&uuml;l) egyenk&eacute;nt
	    hivatkozniuk kell r&aacute;juk.  Ha a rendszer&uuml;nk
	    felhaszn&aacute;l&oacute;i nem el&eacute;gg&eacute;
	    m&#251;veltek sz&aacute;m&iacute;t&aacute;stechnikai
	    t&eacute;ren, akkor m&eacute;g egy sz&#251;r&#245;
	    megad&aacute;sa is zavar&oacute; lehet sz&aacute;mukra.  Ami
	    m&eacute;g enn&eacute;l is rosszabb, hogy egy rosszul
	    megadott sz&#251;r&#245; hat&aacute;s&aacute;ra a
	    nyomtat&oacute; sem fogja j&oacute;l kezelni az adott
	    &aacute;llom&aacute;ny form&aacute;tum&aacute;t &eacute;s
	    erre v&aacute;laszul ak&aacute;r t&ouml;bbsz&aacute;z lapot
	    is pillanatok alatt kik&ouml;phet
	    mag&aacute;b&oacute;l.</para>

	  <para>A konverzi&oacute;s sz&#251;r&#245;k
	    telep&iacute;t&eacute;se helyett gyakran csak egy
	    (alap&eacute;rtelmezett) sz&ouml;vegsz&#251;r&#245;re van
	    sz&uuml;ks&eacute;g&uuml;nk, amely kider&iacute;ti a
	    nyomtatand&oacute; &aacute;llom&aacute;ny pontos
	    form&aacute;tum&aacute;t &eacute;s mag&aacute;t&oacute;l
	    elind&iacute;tja a neki megfelel&#245; konverzi&oacute;s
	    sz&#251;r&#245;t.  Ilyen esetekben p&eacute;ld&aacute;ul a
	    <command>file</command> parancs pont a hasznunkra
	    v&aacute;lhat.  Persze <emphasis>bizonyos</emphasis>
	    &aacute;llom&aacute;nyt&iacute;pusok k&ouml;zt nagyon
	    neh&eacute;z k&uuml;l&ouml;nbs&eacute;get tenni &mdash; de
	    ezekre tov&aacute;bbra is adhatunk m&eacute;g
	    k&uuml;l&ouml;n konverzi&oacute;s sz&#251;r&#245;ket.</para>

	  <indexterm><primary>apsfilter</primary></indexterm>
	  <indexterm>
	    <primary>nyomtat&aacute;s</primary>
	    <secondary>sz&#251;r&#245;k</secondary>
	    <tertiary>apsfilter</tertiary>
	  </indexterm>

	  <para>A &os; Portgy&#251;jtem&eacute;ny&eacute;ben
	    tal&aacute;lhatunk egy <command>apsfilter</command>
	    elnevez&eacute;s&#251; sz&ouml;vegsz&#251;r&#245;t
	    (<filename role="package">print/apsfilter</filename>), ami
	    k&eacute;pes ilyen automatikus konverzi&oacute;ra.
	    K&eacute;pes felismerni a nyers sz&ouml;veget, &postscript;
	    programokat, DVI &eacute;s szinte b&aacute;rmilyen
	    form&aacute;tum&uacute; &aacute;llom&aacute;nyokat,
	    lefuttatni r&aacute;juk a megfelel&#245;
	    &aacute;talak&iacute;t&aacute;stokat, majd kinyomtatni
	    ezeket.</para>

	</sect4>
      </sect3>

      <sect3 id="printing-advanced-of">
	<title>Kimeneti sz&#251;r&#245;k</title>

	<para>Az <application>LPD</application> nyomtat&aacute;si
	  rendszer kezel egy eddig m&eacute;g nem t&aacute;rgyalt
	  sz&#251;r&#245;t&iacute;pust is: ez a kimeneti
	  sz&#251;r&#245;.  A kimeneti sz&#251;r&#245; a
	  sz&ouml;vegsz&#251;r&#245;h&ouml;z hasonl&oacute;an csak nyers
	  sz&ouml;veg nyomtat&aacute;s&aacute;ra haszn&aacute;latos, de
	  tartalmaz n&eacute;h&aacute;ny
	  egyszer&#251;s&iacute;t&eacute;st.  Ha kiz&aacute;r&oacute;lag
	  csak kimeneti sz&#251;r&#245;ket alkalmazunk, akkor:</para>

	<itemizedlist>
	  <listitem>
	    <para>Az <application>LPD</application> az eg&eacute;sz
	      nyomtat&aacute;si feladathoz egyetlen kimeneti
	      sz&#251;r&#245;t fog haszn&aacute;lni, nem pedig minden
	      &aacute;llom&aacute;nyhoz k&uuml;l&ouml;n.</para>
	  </listitem>
	  <listitem>
	    <para>Az <application>LPD</application> a kimeneti
	      sz&#251;r&#245; sz&aacute;m&aacute;ra nem ny&uacute;jt
	      semmilyen seg&iacute;ts&eacute;get a munk&aacute;n
	      bel&uuml;l szerepl&#245; &aacute;llom&aacute;nyok
	      kezdet&eacute;nek vagy v&eacute;g&eacute;nek
	      meg&aacute;llap&iacute;t&aacute;s&aacute;ban.</para>
	  </listitem>
	  <listitem>
	    <para>Az <application>LPD</application> a sz&#251;r&#245;nek
	      nem adja &aacute;t sem a felhaszn&aacute;l&oacute;
	      hozz&aacute;f&eacute;r&eacute;s&eacute;t, sem pedig
	      g&eacute;pnev&eacute;t, ez&eacute;rt
	      nyilv&aacute;ntart&aacute;sra nem alkalmas.  Mindent
	      &ouml;sszegezve l&eacute;nyeg&eacute;ben csak k&eacute;t
	      param&eacute;tert kap meg:</para>

	    <cmdsynopsis>
	      <command>sz&#251;r&#245;n&eacute;v</command>
		<arg
		choice="plain">-w<replaceable>sz&eacute;less&eacute;g</replaceable></arg>
		<arg
		choice="plain">-l<replaceable>hossz</replaceable></arg>
	    </cmdsynopsis>

	    <para>ahol a
	      <replaceable>sz&eacute;less&eacute;g</replaceable> a
	      k&eacute;rd&eacute;ses nyomtat&oacute;
	      <literal>pw</literal>
	      tulajdons&aacute;g&aacute;b&oacute;l, a
	      <replaceable>hossz</replaceable> pedig a
	      <literal>pl</literal> tulajdons&aacute;g&aacute;b&oacute;l
	      sz&aacute;rmazik.</para>
	  </listitem>
	</itemizedlist>

	<para>Ne b&#251;v&ouml;lj&ouml;n el minket a sz&#251;r&#245;
	  egyszer&#251;s&eacute;ge!  Ha p&eacute;ld&aacute;ul a
	  munk&aacute;ban minden &aacute;llom&aacute;nyt &uacute;jabb
	  lapon szeretn&eacute;nk kezdeni, akkor azt kimeneti
	  sz&#251;r&#245;vel <emphasis>nem tudjuk megoldani</emphasis>.
	  Erre a c&eacute;lra haszn&aacute;ljunk
	  sz&ouml;vegsz&#251;r&#245;t (m&aacute;sik nev&eacute;n
	  bemeneti sz&#251;r&#245;t), l&aacute;sd <link
	  linkend="printing-textfilter">A sz&ouml;vegsz&#251;r&#245;
	  telep&iacute;t&eacute;se</link> szakaszt.  Hovatov&aacute;bb,
	  a kimeneti sz&#251;r&#245; val&oacute;j&aacute;ban
	  <emphasis>sokkal bonyolultabb</emphasis> abban a tekintetben,
	  hogy a be&eacute;rkez&#245; adatok k&ouml;z&uuml;l neki kell
	  kikeresnie a speci&aacute;lis jelent&eacute;ssel
	  b&iacute;r&oacute; karaktereket ugyan&uacute;gy, ahogy az
	  <application>LPD</application> helyett saj&aacute;t
	  mag&aacute;nak kell k&uuml;ldenie a jelz&eacute;seket.</para>

	<para>Azonban a kimeneti sz&#251;r&#245;k haszn&aacute;lata
	  <emphasis>elker&uuml;lhetetlen</emphasis>, ha
	  p&eacute;ld&aacute;ul fejl&eacute;clapokat akarunk nyomtatni,
	  &eacute;s esetleg m&eacute;g k&uuml;l&ouml;nb&ouml;z&#245;
	  inicializ&aacute;l&aacute;sra haszn&aacute;latos
	  speci&aacute;lis k&oacute;dokat vagy karakterl&aacute;ncokat
	  akarunk ez el&#245;tt kik&uuml;ldeni.  (Ellenben
	  <emphasis>badars&aacute;g</emphasis> a
	  fejl&eacute;clapokt&oacute;l k&ouml;vetelni a
	  felhaszn&aacute;l&oacute; adatait, hiszen az
	  <application>LPD</application> a kimeneti sz&#251;r&#245;nek
	  nem ad semmilyen erre vonatkoz&oacute;
	  inform&aacute;ci&oacute;t.)</para>

	<para>Egyetlen nyomtat&oacute; eset&eacute;n az
	  <application>LPD</application> egyar&aacute;nt
	  lehet&#245;v&eacute; teszi kimeneti, sz&ouml;veg- &eacute;s
	  m&aacute;s egy&eacute;b sz&#251;r&#245;k
	  haszn&aacute;lat&aacute;t.  Ilyenkor az
	  <application>LPD</application> a kimeneti sz&#251;r&#245;n
	  kereszt&uuml;l csak a fejl&eacute;cet tartalmaz&oacute; oldal
	  (l&aacute;sd a <link
	  linkend="printing-advanced-header-pages">Fejl&eacute;clapok</link>
	  szakaszt) nyomtat&aacute;s&aacute;t ind&iacute;tja el.  Ezt
	  k&ouml;vet&#245;en az <application>LPD</application> arra
	  sz&aacute;m&iacute;t, hogy a kimeneti sz&#251;r&#245;
	  k&eacute;t karakter, az ASCII 031 &eacute;s az ezt
	  k&ouml;vet&#245; ASCII 001, hat&aacute;s&aacute;ra
	  <emphasis>le&aacute;ll&iacute;tja mag&aacute;t</emphasis>.
	  Amikor teh&aacute;t a kimeneti sz&#251;r&#245;
	  &eacute;rz&eacute;keli ezt a k&eacute;t karaktert (031, 001),
	  akkor a <literal>SIGSTOP</literal> jelz&eacute;ssel le kell
	  &aacute;llnia.  Miut&aacute;n az
	  <application>LPD</application> lefuttatta a t&ouml;bbi
	  sz&#251;r&#245;t, a <literal>SIGCONT</literal>
	  jelz&eacute;ssel &uacute;jraind&iacute;tja a kimeneti
	  sz&#251;r&#245;t.</para>

	<para>Ha van kimeneti sz&#251;r&#245;nk, de
	  <emphasis>nincs</emphasis> sz&ouml;vegsz&#251;r&#245;nk, akkor
	  az <application>LPD</application> minden tov&aacute;bbi
	  feldolgoz&aacute;s n&eacute;lk&uuml;l tov&aacute;bbadja a
	  munk&aacute;t a kimeneti sz&#251;r&#245;nek.  Ahogy m&aacute;r
	  kor&aacute;bban is eml&iacute;tett&uuml;k, a kimeneti
	  sz&#251;r&#245; a munk&aacute;ban lev&#245; &ouml;sszes
	  &aacute;llom&aacute;nyt egym&aacute;s ut&aacute;n nyomtatja
	  ki, lapdob&aacute;sok vagy b&aacute;rmilyen m&aacute;s
	  pap&iacute;rmozgat&aacute;s n&eacute;lk&uuml;l, ez&eacute;rt
	  val&oacute;sz&iacute;n&#251;leg <emphasis>nem</emphasis> ez
	  kell nek&uuml;nk.  Az esetek t&uacute;lnyom&oacute;
	  r&eacute;sz&eacute;ben ehhez el&eacute;g egy
	  sz&ouml;vegsz&#251;r&#245;.</para>

	<para>A kor&aacute;bban sz&ouml;vegsz&#251;r&#245;k&eacute;nt
	  beharangozott <command>lpf</command> program kimeneti
	  sz&#251;r&#245;k&eacute;nt is k&eacute;pes
	  funkcion&aacute;lni.  Ha sz&uuml;ks&eacute;g&uuml;nk lenne egy
	  gyorsan &ouml;sszecsaphat&oacute; kimeneti sz&#251;r&#245;re,
	  &eacute;s nem akarunk a speci&aacute;lis karakterek valamint a
	  jelz&eacute;sek k&uuml;ld&eacute;s&eacute;vel elid&#245;zni,
	  akkor pr&oacute;b&aacute;lkozzunk az <command>lpf</command>
	  haszn&aacute;lat&aacute;val.  Az <command>lpf</command>
	  parancsot mellesleg becsomagolhatjuk egy olyan szkriptbe is,
	  amely elv&eacute;gzi a nyomtat&oacute; sz&aacute;m&aacute;ra
	  sz&uuml;ks&eacute;ges inicializ&aacute;l&aacute;st.</para>

      </sect3>

      <sect3 id="printing-advanced-lpf">
	<title>Az <command>lpf</command>
	  sz&ouml;vegsz&#251;r&#245;</title>

	<para>A &os; bin&aacute;ris terjeszt&eacute;s&eacute;hez
	  mell&eacute;kelt <filename>/usr/libexec/lpr/lpf</filename>
	  program egy sz&ouml;vegsz&#251;r&#245; (bemeneti
	  sz&#251;r&#245;), amely k&eacute;pes (az
	  <command>lpr <option>-i</option></command> paranccsal
	  hozz&aacute;adott munk&aacute;kat) tabul&aacute;lni, (az
	  <command>lpr <option>-l</option></command> paranccsal felvett
	  munk&aacute;kban) a vez&eacute;rl&#245;karaktereket figyelemen
	  k&iacute;v&uuml;l hagyni, a munk&aacute;ban
	  el&#245;fordul&oacute; t&ouml;rl&eacute;sek &eacute;s
	  beh&uacute;z&aacute;sok nyomtat&aacute;si
	  poz&iacute;ci&oacute;j&aacute;t igaz&iacute;tani &eacute;s
	  nyilv&aacute;ntartani a kinyomtatott lapokat.  Kimeneti
	  sz&#251;r&#245;k&eacute;nt is tud viselkedni.</para>

	<para>Az <command>lpf</command> sz&#251;r&#245; rengeteg
	  nyomtat&aacute;si k&ouml;rnyezetben
	  felhaszn&aacute;lhat&oacute;.  Hab&aacute;r nem k&eacute;pes a
	  nyomtat&oacute;nak inicializ&aacute;l&oacute; jelsorozatokat
	  k&uuml;ldeni, m&eacute;gis k&ouml;nny&#251; olyan szkriptet
	  &iacute;rni, amely elv&eacute;gzi ezeket a
	  hi&aacute;nyz&oacute; kezdeti
	  be&aacute;ll&iacute;t&aacute;sokat, majd lefuttatja az
	  <command>lpf</command> sz&#251;r&#245;t.</para>

	<indexterm><primary>oldalak
	  nyilv&aacute;ntart&aacute;sa</primary></indexterm>
	<indexterm>
	  <primary>nyilv&aacute;ntart&aacute;s</primary>
	  <secondary>nyomtat&oacute;</secondary>
	</indexterm>

	<para>Az <command>lpf</command> akkor lesz k&eacute;pes helyesen
	  sz&aacute;molni a kinyomtatott lapokat, ha ehhez az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	  j&oacute;l t&ouml;ltj&uuml;k ki a <literal>pw</literal>
	  &eacute;s <literal>pl</literal> tulajdons&aacute;gokat.  Ezen
	  &eacute;rt&eacute;kek seg&iacute;ts&eacute;g&eacute;vel
	  hat&aacute;rozhat&oacute; meg ugyanis, hogy mennyi sz&ouml;veg
	  f&eacute;rt r&aacute; egy lapra &eacute;s &iacute;gy mennyi
	  lapot em&eacute;sztett fel az adott felhaszn&aacute;l&oacute;
	  &aacute;ltal k&uuml;ld&ouml;tt munka.  A nyomtat&aacute;s
	  nyilv&aacute;ntart&aacute;s&aacute;val kapcsolatban <link
	  linkend="printing-advanced-acct">A nyomtat&oacute;
	  haszn&aacute;lat&aacute;nak
	  nyilv&aacute;ntart&aacute;sa</link> c&iacute;m&#251; szakaszt
	  &eacute;rdemes elolvasni.</para>

      </sect3>
    </sect2>

    <sect2 id="printing-advanced-header-pages">
      <title>Fejl&eacute;clapok</title>

      <para>Ha <emphasis>nagyon sok</emphasis>
	felhaszn&aacute;l&oacute;nk van, &eacute;s sok
	k&uuml;l&ouml;nb&ouml;z&#245; nyomtat&oacute;t is
	haszn&aacute;lnak, akkor el&#245;bb vagy ut&oacute;bb minden
	bizonnyal elker&uuml;lhetetlenn&eacute; fog v&aacute;lni a
	<emphasis>fejl&eacute;clapok</emphasis>
	haszn&aacute;lata.</para>

      <indexterm>
	<primary>munkalapok</primary>
	<see>fejl&eacute;clapok</see>
      </indexterm>
      <indexterm><primary>fejl&eacute;clapok</primary></indexterm>

      <para>A fejl&eacute;c-, vagy m&aacute;s n&eacute;ven
	<emphasis>munka</emphasis> vagy
	<emphasis>elv&aacute;laszt&oacute; lapok</emphasis>
	seg&iacute;tik el&#245; a kinyomtatott munk&aacute;k
	azonos&iacute;t&aacute;s&aacute;t.  A t&ouml;bbi
	dokumentumt&oacute;l kir&iacute;v&oacute; m&oacute;don,
	&aacute;ltal&aacute;ban dekorat&iacute;v keretben, nagy, vastag
	bet&#251;kkel nyomtat&oacute;dnak ki, hogy a halomnyi
	pap&iacute;r k&ouml;z&ouml;tt a felhaszn&aacute;l&oacute;k
	k&ouml;nnyed&eacute;n megtal&aacute;lhass&aacute;k az
	elk&uuml;ld&ouml;tt munk&aacute;ik eredm&eacute;ny&eacute;t.
	Term&eacute;szetesen a fejl&eacute;clapok
	nyilv&aacute;nval&oacute; h&aacute;tul&uuml;t&#245;je, hogy
	&iacute;gy minden munk&aacute;hoz m&eacute;g egy lappal
	t&ouml;bbet kell elhaszn&aacute;lni &eacute;s mivel
	gyakorlatilag n&eacute;h&aacute;ny percn&eacute;l tov&aacute;bb
	nincs is r&aacute;juk sz&uuml;ks&eacute;g, meglehet&#245;sen
	hamar a kuk&aacute;ba ker&uuml;lnek.  (A fejl&eacute;clapok
	munk&aacute;nk&eacute;nt j&ouml;nnek l&eacute;tre, nem pedig az
	munk&aacute;kban lev&#245; &aacute;llom&aacute;nyokhoz
	egyenk&eacute;nt, ez&eacute;rt nem is akkora pazarl&aacute;s
	ez.)</para>

      <para>Az <application>LPD</application> rendszer k&eacute;pes
	mag&aacute;t&oacute;l fejl&eacute;clapokat
	k&eacute;sz&iacute;teni a nyomtat&aacute;sokhoz,
	<emphasis>amennyiben</emphasis> a nyomtat&oacute;nk k&eacute;pes
	k&ouml;zvetlen&uuml;l nyers sz&ouml;veget nyomtatni.  Ha
	&postscript; nyomtat&oacute;nk van, akkor ennek
	legy&aacute;rt&aacute;s&aacute;hoz egy k&uuml;ls&#245; programra
	van sz&uuml;ks&eacute;g&uuml;nk, l&aacute;sd a <link
	linkend="printing-advanced-header-pages-ps">Fejl&eacute;clapok
	&postscript; nyomtat&oacute;kon</link> szakaszt.</para>

      <sect3 id="printing-advanced-header-pages-enabling">
	<title>A fejl&eacute;clapok enged&eacute;lyez&eacute;se</title>

	<para>Az <link linkend="printing-simple">Alacsonyszint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</link>
	  c&iacute;m&#251; szakaszban az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban a
	  <literal>sh</literal> (&uacute;gy mint <quote>suppress
	  header</quote>) tulajdons&aacute;ggal kikapcsoltuk a
	  fejl&eacute;clapokat.  A fejl&eacute;clapok
	  enged&eacute;lyez&eacute;s&eacute;hez mind&ouml;sszesen el
	  kell t&aacute;vol&iacute;tanunk ezt az <literal>sh</literal>
	  tulajdons&aacute;got.</para>

	<para>Ez t&uacute;l egyszer&#251;, nemde?</para>

	<para>Igen, ez &iacute;gy van.
	  <emphasis>El&#245;fordulhat</emphasis>, hogy
	  sz&uuml;ks&eacute;g&uuml;nk van m&eacute;g egy olyan kimeneti
	  sz&#251;r&#245;re is, amely inicializ&aacute;l&oacute;
	  karaktereket k&uuml;ld a nyomtat&oacute;nak.  &Iacute;me egy
	  p&eacute;lda ehhez a Hewlett Packard PCL-kompatibilis
	  nyomtat&oacute;i eset&eacute;re:</para>

	<programlisting>#!/bin/sh
#
#  hpof - Kimeneti sz&#251;r&#245; Hewlett Packard PCL-kompatibilis nyomtat&oacute;khoz
#  Helye: /usr/local/libexec/hpof

printf "\033&amp;k2G" || exit 2
exec /usr/libexec/lpr/lpf</programlisting>

	<para>Az <literal>of</literal> tulajdons&aacute;ggal adjuk meg a
	  kimeneti sz&#251;r&#245;t.  A <link
	  linkend="printing-advanced-of">Kimeneti
	  sz&#251;r&#245;k</link> szakaszban err&#245;l
	  r&eacute;szletesebben is olvashatunk.</para>

	<para>A kor&aacute;bban ismertetett <literal>teak</literal>
	  nev&#251; nyomtat&oacute;hoz most az al&aacute;bbi minta
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyt
	  mell&eacute;kelj&uuml;k.  Itt enged&eacute;lyezt&uuml;k a
	  fejl&eacute;clapokat &eacute;s hozz&aacute;tett&uuml;k az
	  im&eacute;nti kimeneti sz&#251;r&#245;t:</para>

	<programlisting>#
#  /etc/printcap (orchid)
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:sd=<filename class="directory">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:\
        :vf=<filename>/usr/local/libexec/hpvf</filename>:\
        :of=<filename>/usr/local/libexec/hpof</filename>:</programlisting>

	<para>Mostant&oacute;l kezdve, amikor a
	  felhaszn&aacute;l&oacute;k a <literal>teak</literal>
	  nyomtat&oacute;n akarnak nyomtatni, minden munk&aacute;hoz
	  kapni fognak egy fejl&eacute;clapot.  Amennyiben a kedves
	  felhaszn&aacute;l&oacute;k m&eacute;gis keresgetni
	  akarj&aacute;k a nyomtat&aacute;saikat, az
	  <command>lpr <option>-h</option></command> paranccsal
	  tetsz&#245;leges m&oacute;don letilthatj&aacute;k azokat.  Az
	  &man.lpr.1; t&ouml;bbi hasonl&oacute; opci&oacute;j&aacute;t
	  <link
	    linkend="printing-lpr-options-misc">A fejl&eacute;clapokhoz tartoz&oacute; be&aacute;ll&iacute;t&aacute;sok</link>
	  szakaszban tal&aacute;ljuk.</para>

	<note>
	  <para>Az <application>LPD</application> minden
	    fejl&eacute;clap ut&aacute;n egy lapdob&aacute;st k&uuml;ld.
	    Ha erre a c&eacute;lra a nyomtat&oacute;nk egy
	    elt&eacute;r&#245; karaktert vagy karaktersorozatot
	    haszn&aacute;l, akkor azt az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;ny
	    <literal>ff</literal> tulajdons&aacute;g&aacute;val
	    hat&aacute;rozhatjuk meg.</para>
	</note>

      </sect3>

      <sect3 id="printing-advanced-header-pages-controlling">
	<title>A fejl&eacute;clapok vez&eacute;rl&eacute;se</title>

	<para>A fejl&eacute;clapok enged&eacute;lyez&eacute;s&eacute;vel
	  az <application>LPD</application> egy &uacute;n.
	  <emphasis>hossz&uacute; fejl&eacute;cet</emphasis> fog
	  k&eacute;sz&iacute;teni, vagyis a felhaszn&aacute;l&oacute;t,
	  g&eacute;pet &eacute;s a munk&aacute;t j&oacute;l
	  azonos&iacute;t&oacute;, eg&eacute;sz lapot kit&ouml;lt&#245;
	  &oacute;ri&aacute;si bet&#251;ket.  Erre egy p&eacute;lda
	  (amiben a <hostid>rose</hostid> nev&#251; g&eacute;pr&#245;l
	  <username>kelly</username> nyomtatta ki az
	  <quote>outline</quote> elnevez&eacute;s&#251;
	  munk&aacute;t):</para>

	<screen>      k                   ll       ll
      k                    l        l
      k                    l        l
      k   k     eeee       l        l     y    y
      k  k     e    e      l        l     y    y
      k k      eeeeee      l        l     y    y
      kk k     e           l        l     y    y
      k   k    e    e      l        l     y   yy
      k    k    eeee      lll      lll     yyy y
                                               y
                                          y    y
                                           yyyy


                                   ll
                          t         l        i
                          t         l
       oooo    u    u   ttttt       l       ii     n nnn     eeee
      o    o   u    u     t         l        i     nn   n   e    e
      o    o   u    u     t         l        i     n    n   eeeeee
      o    o   u    u     t         l        i     n    n   e
      o    o   u   uu     t  t      l        i     n    n   e    e
       oooo     uuu u      tt      lll      iii    n    n    eeee









      r rrr     oooo     ssss     eeee
      rr   r   o    o   s    s   e    e
      r        o    o    ss      eeeeee
      r        o    o      ss    e
      r        o    o   s    s   e    e
      r         oooo     ssss     eeee







                                              Job:  outline
                                              Date: Sun Sep 17 11:04:58 1995</screen>

	<para>Ezt k&ouml;vet&#245;en az <application>LPD</application>
	  elk&uuml;ld m&eacute;g egy lapdob&aacute;st is, ez&eacute;rt
	  maga a munka egy &uacute;j oldalon fog kezd&#245;dni
	  (kiv&eacute;ve, ha az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban az adott nyomtat&oacute;hoz
	  tartoz&oacute; bejegyz&eacute;sben megadtuk az
	  <literal>sf</literal> (&uacute;gy mint <quote>suppress form
	  feeds</quote>, vagyis a lapdob&aacute;sok letilt&aacute;sa)
	  tulajdons&aacute;got.</para>

	<para>Ha &uacute;gy jobban tetszik, akkor az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban a
	  <literal>sb</literal> tulajdons&aacute;ggal az
	  <application>LPD</application> utas&iacute;that&oacute;
	  <emphasis>r&ouml;vid fejl&eacute;cek</emphasis>
	  k&eacute;sz&iacute;t&eacute;s&eacute;re is.  Ilyenkor a
	  fejl&eacute;clap tartalma mind&ouml;ssze ennyi lesz:</para>

	<screen>rose:kelly  Job: outline  Date: Sun Sep 17 11:07:51 1995</screen>

	<para>Alap&eacute;rtelmez&eacute;s szerint az
	  <application>LPD</application> el&#245;sz&ouml;r a
	  fejl&eacute;clapot majd a munk&aacute;t nyomtatja ki.  Ezt a
	  sorrendet az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban a <literal>hl</literal> (header
	  last) tulajdons&aacute;ggal meg tudjuk
	  ford&iacute;tani.</para>

      </sect3>

      <sect3 id="printing-advanced-header-pages-accounting">
	<title>A nyomtat&oacute; haszn&aacute;lat&aacute;nak
	  nyilv&aacute;ntart&aacute;sa</title>

	<para>Az <application>LPD</application> &aacute;ltal
	  felk&iacute;n&aacute;lt fejl&eacute;clapok haszn&aacute;lata
	  sor&aacute;n egyetlen ir&aacute;nyelv
	  &eacute;rv&eacute;nyes&uuml;l a
	  nyilv&aacute;ntart&aacute;sukban: a fejl&eacute;clapok
	  <emphasis>k&ouml;lts&eacute;gmentesek</emphasis>.</para>

	<para>De mi&eacute;rt?</para>

	<para>Az&eacute;rt, mert kiz&aacute;r&oacute;lag csak a kimeneti
	  sz&#251;r&#245; k&eacute;pes a fejl&eacute;clapok
	  viselked&eacute;s&eacute;t ir&aacute;ny&iacute;tani, ami
	  viszont nem k&eacute;pes semmif&eacute;le
	  nyilv&aacute;ntart&aacute;sra, hiszen nem kapja meg az ehhez
	  sz&uuml;ks&eacute;ges <emphasis>felhaszn&aacute;l&oacute;i-
	  vagy g&eacute;pn&eacute;v</emphasis>
	  inform&aacute;ci&oacute;kat, illetve
	  nyilv&aacute;ntart&aacute;sokat.  Emiatt fogalma sincs
	  r&oacute;la, hogy kit terhel az adott nyomtat&oacute;
	  haszn&aacute;lata.  &Uacute;gy sem tudjuk megoldani a
	  probl&eacute;m&aacute;t, ha a sz&ouml;veg- vagy
	  konverzi&oacute;s sz&#251;r&#245;kben (ahol m&aacute;r
	  rendelkez&eacute;s&uuml;nkre &aacute;llnak a
	  felhaszn&aacute;l&oacute; &eacute;s a g&eacute;p&eacute;nek
	  adatai) <quote>n&ouml;velj&uuml;k a lapok sz&aacute;m&aacute;t
	  eggyel</quote> a munk&aacute;ban, mivel a
	  felhaszn&aacute;l&oacute;k az
	  <command>lpr <option>-h</option></command> parancs
	  haszn&aacute;lat&aacute;val kedv&uuml;k szerint
	  letilthatj&aacute;k a fejl&eacute;clapokat.  Ezt ugyan
	  alapvet&#245;en a term&eacute;szetet &oacute;vni
	  k&iacute;v&aacute;n&oacute; felhaszn&aacute;l&oacute;k
	  r&eacute;szes&iacute;tik el&#245;nyben, de ett&#245;l
	  f&uuml;ggetlen&uuml;l sem er&#245;szakolhatjuk r&aacute;
	  mindenkire.</para>

	<para><emphasis>Az sem el&eacute;g</emphasis>, ha minden
	  sz&#251;r&#245; l&eacute;trehozza a saj&aacute;t
	  fejl&eacute;c&eacute;t (ami&eacute;rt azt&aacute;n
	  p&eacute;nzt k&eacute;rhetn&eacute;nk).  Mivel ha a
	  felhaszn&aacute;l&oacute;k az
	  <command>lpr <option>-h</option></command>
	  paranccsal le akarj&aacute;k tiltani a fejl&eacute;cek
	  haszn&aacute;lat&aacute;t, att&oacute;l a
	  sz&#251;r&#245;kh&ouml;z m&eacute;g mindig
	  l&eacute;trej&ouml;nnek, hiszen az
	  <application>LPD</application> a <option>-h</option>
	  opci&oacute;r&oacute;l semmilyen
	  &eacute;rtes&iacute;t&eacute;st nem k&uuml;ld &aacute;t a
	  sz&#251;r&#245;knek.</para>

	<para>Nos, ilyenkor mit&eacute;v&#245;k legy&uuml;nk?</para>

	<para>A lehet&#245;s&eacute;geink:</para>

	<itemizedlist>
	  <listitem>
	    <para>Elfogadjuk az <application>LPD</application>
	      elv&eacute;t, &eacute;s nem sz&aacute;m&iacute;tunk fel
	      k&ouml;lts&eacute;get a fejl&eacute;clapokra.</para>
	  </listitem>

	  <listitem>
	    <para>Az <application>LPD</application> helyett egy
	      m&aacute;sik nyomtat&aacute;si rendszert
	      haszn&aacute;lunk, p&eacute;ld&aacute;ul az
	      <application>LPRng</application> rendszert.  A <link
	      linkend="printing-lpd-alternatives">M&aacute;s
	      nyomtat&aacute;si rendszerek</link> c&iacute;m&#251;
	      szakaszban kider&uuml;l, milyen alternat&iacute;v&aacute;k
	      &eacute;rhet&#245;ek el az <application>LPD</application>
	      kiv&aacute;lt&aacute;s&aacute;ra.</para>
	  </listitem>

	  <listitem>
	    <para>&Iacute;rjunk mi magunk egy
	      <emphasis>intelligens</emphasis> kimeneti
	      sz&#251;r&#245;t.  Norm&aacute;lis esetben a kimeneti
	      sz&#251;r&#245;k nem val&oacute;k m&aacute;sra,
	      csup&aacute;n a nyomtat&oacute; alaphelyzetbe
	      hoz&aacute;s&aacute;ra vagy egyszer&#251;bb
	      karakterkonverzi&oacute;k
	      elv&eacute;gz&eacute;s&eacute;re.  Fejl&eacute;clapokhoz
	      &eacute;s nyers sz&ouml;veget tartalmaz&oacute;
	      munk&aacute;khoz remek&uuml;l haszn&aacute;lhat&oacute;
	      (ahol nincs sz&ouml;veg- (avagy bemeneti)
	      sz&#251;r&#245;).  Azonban ha a nyers sz&ouml;vegekhez van
	      sz&ouml;vegsz&#251;r&#245;nk, akkor az
	      <application>LPD</application> a kimeneti sz&#251;r&#245;t
	      csak a fejl&eacute;clapokhoz ind&iacute;tja el.  Emellett
	      a kimeneti sz&#251;r&#245; az
	      <application>LPD</application> &aacute;ltal
	      gener&aacute;lt fejl&eacute;c sz&ouml;veg&eacute;b&#245;l
	      k&eacute;pes megmondani, melyik
	      felhaszn&aacute;l&oacute;hoz &eacute;s g&eacute;phez
	      tartozik a sz&oacute;banforg&oacute; fejl&eacute;c.  A
	      m&oacute;dszer egyetlen b&ouml;kken&#245;je, hogy a
	      nyilv&aacute;ntart&aacute;sokat t&aacute;rol&oacute;
	      &aacute;llom&aacute;nyr&oacute;l viszont m&eacute;g
	      &iacute;gy se tudunk semmilyen inform&aacute;ci&oacute;t
	      szerezni (mivel nem kapjuk meg az <literal>af</literal>
	      tulajdons&aacute;ggal be&aacute;ll&iacute;tott
	      &aacute;llom&aacute;ny nev&eacute;t).  Ha azonban egy
	      rendszerszinten el&eacute;rhet&#245;
	      &aacute;llom&aacute;nyba mentj&uuml;k ezeket az adatokat,
	      akkor ak&aacute;r bele is dr&oacute;tozhatjuk ezt a
	      kimeneti sz&#251;r&#245;be.  A kimeneti sz&#251;r&#245; az
	      adatot megtal&aacute;l&aacute;s&aacute;ban ilyenkor
	      &uacute;gy tudunk seg&iacute;teni, ha az
	      <filename>/etc/printcap</filename>
	      &aacute;llom&aacute;nyban az <literal>sh</literal>
	      (r&ouml;vid fejl&eacute;c) tulajdons&aacute;got
	      &aacute;ll&iacute;tjuk be.  De ez igaz&aacute;b&oacute;l
	      sok h&#251;h&oacute; semmi&eacute;rt, &eacute;s a
	      felhaszn&aacute;l&oacute;k is jobban megbecs&uuml;lik az
	      olyan nagylelk&#251; rendszergazd&aacute;t, aki nem
	      sz&aacute;m&iacute;tja fel nekik a
	      fejl&eacute;clapokat.</para>
	  </listitem>
	</itemizedlist>

      </sect3>

      <sect3 id="printing-advanced-header-pages-ps">
	<title>Fejl&eacute;clapok &postscript;
	  nyomtat&oacute;kon</title>

	<para>Ahogy arr&oacute;l m&aacute;r kor&aacute;bban is
	  sz&oacute; esett, az <application>LPD</application>
	  k&eacute;pes t&ouml;bbf&eacute;le nyomtat&oacute;
	  sz&aacute;m&aacute;ra is megfelel&#245;, nyers
	  sz&ouml;veg&#251; fejl&eacute;clapokat
	  k&eacute;sz&iacute;teni.  Persze a &postscript;
	  k&ouml;zvetlen&uuml;l nem k&eacute;pes nyers sz&ouml;vegek
	  nyomtat&aacute;s&aacute;ra, ez&eacute;rt az
	  <application>LPD</application> ezen lehet&#245;s&eacute;ge
	  l&eacute;nyeg&eacute;ben haszn&aacute;lhatatlan &mdash;
	  t&ouml;bbnyire.</para>

	<para>Ilyen helyzetben a fejl&eacute;clapok
	  haszn&aacute;lat&aacute;nak nyilv&aacute;nval&oacute;
	  m&oacute;dja, hogy minden sz&ouml;vegsz&#251;r&#245;t
	  fejl&eacute;cek gy&aacute;rt&aacute;s&aacute;ra
	  utas&iacute;tunk.  Ezek a sz&#251;r&#245;k a
	  felhaszn&aacute;l&oacute;r&oacute;l &eacute;s a
	  g&eacute;p&eacute;r&#245;l kapott
	  inform&aacute;ci&oacute;kb&oacute;l &ouml;ssze tudj&aacute;k
	  &aacute;ll&iacute;tani a megfelel&#245; fejl&eacute;clapot.  A
	  megold&aacute;s h&aacute;tr&aacute;nya, hogy ez m&eacute;g
	  olyankor is megt&ouml;rt&eacute;nik, amikor a
	  felhaszn&aacute;l&oacute;k az
	  <command>lpr <option>-h</option></command> paranccsal
	  k&uuml;ldik a munk&aacute;jukat.</para>

	<para>K&iacute;s&eacute;rletezz&uuml;nk egy kicsit ezzel a
	  m&oacute;dszerrel!  A most k&ouml;vetkez&#245; szkript
	  h&aacute;rom param&eacute;tert fogad el (a
	  felhaszn&aacute;l&oacute; hozz&aacute;f&eacute;r&eacute;st, a
	  g&eacute;p &eacute;s a munka nev&eacute;t), majd ezekb&#245;l
	  l&eacute;trehoz egy egyszer&#251; &postscript;
	  form&aacute;tum&uacute; fejl&eacute;cet:</para>

	<programlisting>#!/bin/sh
#
#  make-ps-header - PostScript fejl&eacute;c l&eacute;trehoz&aacute;sa a szabv&aacute;ny kimenetre
#  Helye: /usr/local/libexec/make-ps-header
#

#
#  Ezek itt a PostScript &aacute;ltal haszn&aacute;lt egys&eacute;gekben vannak megadva
#  (72/col vagy 28/cm).  &Iacute;rjuk &aacute;t az &aacute;ltalunk haszn&aacute;lt pap&iacute;rm&eacute;retre,
#  A4-re vagy amit &eacute;ppen haszn&aacute;lunk:
#
page_width=612
page_height=792
border=72

#
#  A param&eacute;terek ellen&#245;rz&eacute;se.
#
if [ $# -ne 3 ]; then
    echo "Usage: `basename $0` &lt;user&gt; &lt;host&gt; &lt;job&gt;" 1&gt;&amp;2
    exit 1
fi

#
#  Ments&uuml;k el ezeket, legink&aacute;bb az olvashat&oacute;s&aacute;g miatt.
#
user=$1
host=$2
job=$3
date=`date`

#
#  K&uuml;ldj&uuml;k el a PostScript-k&oacute;dot a szabv&aacute;nyos kimenetre.
#
exec cat &lt;&lt;EOF
%!PS

%
%  Gondoskodjunk r&oacute;la, hogy ne zavarjuk az ut&aacute;nunk k&ouml;vetkez&#245;
%  felhaszn&aacute;l&oacute; munk&aacute;j&aacute;t.
%
save

%
%  Csin&aacute;ljunk egy cs&uacute;f vastag szeg&eacute;lyt, k&ouml;rbe a pap&iacute;ron.
%
$border $border moveto
$page_width $border 2 mul sub 0 rlineto
0 $page_height $border 2 mul sub rlineto
currentscreen 3 -1 roll pop 100 3 1 roll setscreen
$border 2 mul $page_width sub 0 rlineto closepath
0.8 setgray 10 setlinewidth stroke 0 setgray

%
%  Jelen&iacute;ts&uuml;k meg a felhaszn&aacute;l&oacute; azonos&iacute;t&oacute;j&aacute;t sz&eacute;p, felt&#251;n&#245;
%  bet&#251;kkel.
%
/Helvetica-Bold findfont 64 scalefont setfont
$page_width ($user) stringwidth pop sub 2 div $page_height 200 sub moveto
($user) show

%
%  Most pedig mutassuk az unalmas r&eacute;szleteket.
%
/Helvetica findfont 14 scalefont setfont
/y 200 def
[ (Job:) (Host:) (Date:) ] {
200 y moveto show /y y 18 sub def }
forall

/Helvetica-Bold findfont 14 scalefont setfont
/y 200 def
[ ($job) ($host) ($date) ] {
        270 y moveto show /y y 18 sub def
} forall

%
% Ennyi lett volna.
%
restore
showpage
EOF</programlisting>

	<para>Ezzel a szkripttel pedig mindegyik konverzi&oacute;s-
	  &eacute;s sz&ouml;vegsz&#251;r&#245; el&#245;sz&ouml;r
	  l&eacute;trehoz egy fejl&eacute;clapot, majd kinyomtatja a
	  felhaszn&aacute;l&oacute; munk&aacute;j&aacute;t.  &Iacute;me
	  egy kor&aacute;bban m&aacute;r bemutatott DVI sz&#251;r&#245;,
	  amit most kieg&eacute;sz&iacute;t&uuml;nk a fejl&eacute;clapok
	  haszn&aacute;lat&aacute;val:</para>

	<programlisting>#!/bin/sh
#
#  psdf - DVI sz&#251;r&#245; PostScript nyomtat&oacute;hoz
#  Helye: /usr/local/libexec/psdf
#
#  Az lpr -d parancs hat&aacute;s&aacute;ra h&iacute;v&oacute;dik meg.
#

orig_args="$@"

fail() {
    echo "$@" 1&gt;&amp;2
    exit 2
}

while getopts "x:y:n:h:" option; do
    case $option in
        x|y)  ;; # Ignore
        n)    login=$OPTARG ;;
        h)    host=$OPTARG ;;
        *)    echo "LPD started `basename $0` wrong." 1&gt;&amp;2
              exit 2
              ;;
    esac
done

[ "$login" ] || fail "No login name"
[ "$host" ] || fail "No host name"

( /usr/local/libexec/make-ps-header $login $host "DVI File"
  /usr/local/bin/dvips -f ) | eval /usr/local/libexec/lprps $orig_args</programlisting>

	<para>L&aacute;thatjuk, hogy a sz&#251;r&#245;nek a
	  felhaszn&aacute;l&oacute;i- &eacute;s a g&eacute;pn&eacute;v
	  meg&aacute;llap&iacute;t&aacute;s&aacute;hoz v&eacute;gig kell
	  n&eacute;znie a param&eacute;terek list&aacute;j&aacute;t.  Ez
	  l&eacute;nyeg&eacute;ben minden m&aacute;s konverzi&oacute;s
	  sz&#251;r&#245;n&eacute;l ugyan&iacute;gy n&eacute;z ki.  Ez a
	  lista azonban a sz&ouml;vegsz&#251;r&#245;k eset&eacute;n
	  n&eacute;mileg elt&eacute;r (l&aacute;sd a <link
	  linkend="printing-advanced-filters">Hogyan m&#251;k&ouml;dnek
	  a sz&#251;r&#245;k?</link> szakaszt).</para>

	<para>M&aacute;r az el&#245;bbiekben is t&aacute;rgyaltuk, hogy
	  ez a megold&aacute;s, hab&aacute;r el&eacute;gg&eacute;
	  egyszer&#251;, az <command>lpr</command> sz&aacute;m&aacute;ra
	  nem teszi lehet&#245;v&eacute; a fejl&eacute;clapok
	  letilt&aacute;s&aacute;t (a <option>-h</option> opci&oacute;).
	  Ha a felhaszn&aacute;l&oacute;ink k&iacute;m&eacute;lni
	  akarj&aacute;k a f&aacute;kat (vagy meg akarj&aacute;k
	  &uacute;szni a fejl&eacute;clapok &eacute;gbesz&ouml;k&#245;
	  k&ouml;lts&eacute;geit), akkor ezt nem tudj&aacute;k megtenni,
	  hiszen a sz&#251;r&#245;k minden munk&aacute;hoz
	  k&eacute;sz&iacute;teni fognak fejl&eacute;ceket.</para>

	<para>Ezt a korl&aacute;toz&aacute;st csak &uacute;gy tudjuk
	  els&ouml;p&ouml;rni, ha bevetj&uuml;k a <link
	  linkend="printing-advanced-header-pages-accounting">A
	  nyomtat&oacute; haszn&aacute;lat&aacute;nak
	  nyilv&aacute;ntart&aacute;sa</link> szakaszban le&iacute;rt
	  cselt, teh&aacute;t k&eacute;sz&iacute;t&uuml;nk egy olyan
	  kimeneti sz&#251;r&#245;t, amely megkeresi az LPD-vel
	  gener&aacute;lt fejl&eacute;ceket &eacute;s l&eacute;trehozza
	  azok &postscript; v&aacute;ltozat&aacute;t.  Ha valaki az
	  <command>lpr <option>-h</option></command> paranccsal
	  k&uuml;ld nyomtatnival&oacute;t, akkor
	  <application>LPD</application> nem k&eacute;sz&iacute;t
	  hozz&aacute; fejl&eacute;clapot, ahogy a kimeneti
	  sz&#251;r&#245;nk sem.  A kimeneti sz&#251;r&#245; minden
	  m&aacute;s esetben beolvassa az <application>LPD</application>
	  &aacute;ltal k&uuml;ld&ouml;tt sz&ouml;veget &eacute;s
	  &aacute;tk&uuml;ldi a neki megfelel&#245; &postscript;
	  k&oacute;dot a nyomtat&oacute;ra.</para>

	<para>Ha soros &postscript; nyomtat&oacute;nk van, akkor
	  haszn&aacute;lhatjuk a <command>psof</command> kimeneti
	  sz&#251;r&#245;h&ouml;z tartoz&oacute;
	  <command>lprps</command> parancsot is, ami pontosan az
	  el&#245;bbit v&eacute;gzi el.  Hozz&aacute;tenn&eacute;nk
	  azonban, hogy a <command>psof</command> nem sz&aacute;molja a
	  fejl&eacute;clapokat.</para>

      </sect3>
    </sect2>

    <sect2 id="printing-advanced-network-printers">
      <title>H&aacute;l&oacute;zati nyomtat&aacute;s</title>

      <indexterm>
	<primary>nyomtat&oacute;</primary>
	<secondary>h&aacute;l&oacute;zati</secondary>
      </indexterm>
      <indexterm><primary>h&aacute;l&oacute;zati
	nyomtat&aacute;s</primary></indexterm>

      <para>A &os; tud h&aacute;lozaton is nyomtatni, vagyis tud
	t&aacute;voli sz&aacute;m&iacute;t&oacute;g&eacute;peknek is
	nyomtat&aacute;si munk&aacute;t k&uuml;ldeni.  A
	h&aacute;l&oacute;zati nyomtat&aacute;s kifejez&eacute;s
	&aacute;ltal&aacute;noss&aacute;gban v&eacute;ve k&eacute;t
	k&uuml;l&ouml;nb&ouml;z&#245; dolgra utalhat:</para>

      <itemizedlist>
	<listitem>
	  <para>Egy t&aacute;voli
	    sz&aacute;m&iacute;t&oacute;g&eacute;phez kapcsolt
	    nyomtat&oacute; hozz&aacute;f&eacute;r&eacute;s&eacute;t.  A
	    g&eacute;phez a nyomtat&oacute; a hagyom&aacute;nyos soros
	    vagy p&aacute;rhuzamos csatol&oacute;fel&uuml;leten
	    kereszt&uuml;l kapcsol&oacute;dik, amit azt&aacute;n az
	    <application>LPD</application> alkalmas
	    be&aacute;ll&iacute;t&aacute;s&aacute;val a
	    h&aacute;l&oacute;zaton mindenki sz&aacute;m&aacute;ra
	    el&eacute;rhet&#245;v&eacute; tesz&uuml;nk.  A <link
	    linkend="printing-advanced-network-rm">T&aacute;voli
	    sz&aacute;m&iacute;t&oacute;g&eacute;pekre csatlakoztatott
	    nyomtat&oacute;k</link> c&iacute;m&#251; szakasz err&#245;l
	    sz&oacute;l.</para>
	</listitem>

	<listitem>
	  <para>Egy k&ouml;zvetlen&uuml;l a h&aacute;l&oacute;zatra
	    kapcsolt nyomtat&oacute;
	    hozz&aacute;f&eacute;r&eacute;s&eacute;t.  A nyomtat&oacute;
	    teh&aacute;t rendelkezik m&eacute;g egy
	    h&aacute;l&oacute;zati csatlakoz&aacute;ssal is a
	    hagyom&aacute;nyos soros vagy p&aacute;rhuzamos fel&uuml;let
	    mellett (vagy &eacute;ppen helyett).  Egy ilyen
	    nyomtat&oacute; a k&ouml;vetkez&#245;k&eacute;ppen
	    m&#251;k&ouml;dhet:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Elfogadja az <application>LPD</application>
		k&eacute;r&eacute;seit, &eacute;s m&eacute;g
		k&eacute;pes munk&aacute;kat is t&aacute;rolni.  Ebben
		az esetben teljesen egyen&eacute;rt&eacute;k&#251; egy
		<application>LPD</application> alkalmaz&aacute;st
		futtat&oacute;
		sz&aacute;m&iacute;t&oacute;g&eacute;ppel.  Ekkor nincs
		m&aacute;s teend&#245;nk, csak k&ouml;vetn&uuml;nk kell
		a <link linkend="printing-advanced-network-rm">
		T&aacute;voli sz&aacute;m&iacute;t&oacute;g&eacute;peken
		telep&iacute;tett nyomtat&oacute;k</link>
		c&iacute;m&#251; szakasz
		utas&iacute;t&aacute;sait.</para>
	    </listitem>

	    <listitem>
	      <para>H&aacute;l&oacute;zati adatfolyamokkal dolgozik.
		Ebben az esetben a nyomtat&oacute;t <quote>hozz&aacute;
		kell kapcsolnunk</quote> a h&aacute;l&oacute;zaton
		tal&aacute;lhat&oacute; egyik
		sz&aacute;m&iacute;t&oacute;g&eacute;phez, ami majd a
		munk&aacute;k t&aacute;rol&aacute;s&aacute;&eacute;rt
		&eacute;s folyamatos
		k&uuml;ld&eacute;s&eacute;&eacute;rt lesz felel&#245;s.
		A <link
		linkend="printing-advanced-network-net-if">Nyomtat&oacute;k
		h&aacute;l&oacute;zati adatcsatlakoz&aacute;ssal</link>
		szakasz az ilyen fajt&aacute;j&uacute; nyomtat&oacute;k
		telep&iacute;t&eacute;s&eacute;re tesz
		n&eacute;h&aacute;ny javaslatot.</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </itemizedlist>

      <sect3 id="printing-advanced-network-rm">
	<title>T&aacute;voli sz&aacute;m&iacute;t&oacute;g&eacute;pekre
	  csatlakoztatott nyomtat&oacute;k</title>

	<para>Az <application>LPD</application> nyomtat&aacute;si
	  rendszer alapb&oacute;l k&eacute;pes m&aacute;s,
	  szint&eacute;n <application>LPD</application>-t (vagy vele
	  kompatibilis rendszert) futtat&oacute;
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekre munk&aacute;kat
	  k&uuml;ldeni.  Ezzel l&eacute;nyeg&eacute;ben az egyik
	  g&eacute;phez hozz&aacute; tudunk kapcsolni egy
	  nyomtat&oacute;t, amit azt&aacute;n a t&ouml;bbiek
	  sz&aacute;m&aacute;ra el&eacute;rhet&#245;v&eacute;
	  tesz&uuml;nk.  Ez olyan nyomtat&oacute;k eset&eacute;ben is
	  m&#251;k&ouml;dik, amelyek ismerik az
	  <application>LPD</application> &aacute;ltal alkalmazott
	  protokollt.</para>

	<para>A t&aacute;voli nyomtat&aacute;shoz el&#245;sz&ouml;r
	  telep&iacute;ts&uuml;k a nyomtat&oacute;t valamelyik
	  sz&aacute;m&iacute;t&oacute;g&eacute;pre az <link
	  linkend="printing-simple">Alacsonyszint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;s</link>
	  szakaszban le&iacute;rtak szerint, &eacute;s ezzel az lesz a
	  <emphasis>nyomtat&oacute;szerver&uuml;nk</emphasis>.
	  Ezut&aacute;n, amennyiben sz&uuml;ks&eacute;gesnek
	  tal&aacute;ljuk, v&eacute;gezz&uuml;nk <link
	  linkend="printing-advanced">magasabb szint&#251;
	  nyomtat&oacute;be&aacute;ll&iacute;t&aacute;sok</link>at is.
	  Ne felejts&uuml;k el kipr&oacute;b&aacute;lni a
	  nyomtat&oacute;n, hogy rendesen m&#251;k&ouml;dik az
	  <application>LPD</application> mindegyik olyan
	  be&aacute;ll&iacute;t&aacute;s&aacute;val, amit
	  enged&eacute;lyezt&uuml;nk.  Emellett gondoskodjunk minden
	  olyan jogosults&aacute;gr&oacute;l is, amivel a
	  <emphasis>helyi
	  sz&aacute;m&iacute;t&oacute;g&eacute;pr&#245;l</emphasis> el
	  tudjuk &eacute;rni a <emphasis>t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;p</emphasis> &aacute;ltal
	  felk&iacute;n&aacute;lt <application>LPD</application>
	  szolg&aacute;ltat&aacute;st (l&aacute;sd <link
	  linkend="printing-advanced-restricting-remote">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekr&#245;l
	  &eacute;rkez&#245; k&eacute;r&eacute;sek
	  szab&aacute;lyoz&aacute;sa</link>).</para>

	<indexterm>
	  <primary>nyomtat&oacute;</primary>
	  <secondary>h&aacute;l&oacute;zati</secondary>
	</indexterm>
	<indexterm><primary>h&aacute;l&oacute;zati
	  nyomtat&aacute;s</primary></indexterm>

	<para>Ha olyan nyomtat&oacute;t haszn&aacute;lunk, aminek a
	  h&aacute;l&oacute;zati fel&uuml;lete kompatibilis az
	  <application>LPD</application> rendszerrel, akkor az
	  el&#245;bb eml&iacute;tett
	  <emphasis>nyomtat&oacute;szerver</emphasis>
	  l&eacute;nyeg&eacute;ben maga lesz a nyomtat&oacute;, valamint
	  a <emphasis>nyomtat&oacute; neve</emphasis> a rajta
	  be&aacute;ll&iacute;tott n&eacute;v.  Ezzel kapcsolatban
	  olvassuk el a nyomtat&oacute;hoz &eacute;s/vagy a
	  h&aacute;l&oacute;zati csatol&oacute;j&aacute;hoz
	  mell&eacute;kelt dokument&aacute;ci&oacute;t.</para>

	<tip>
	  <para>Amikor a Hewlett Packard Laserjet t&iacute;pus&uacute;
	    nyomtat&oacute;it haszn&aacute;ljuk, a
	    <literal>text</literal> nev&#251; nyomtat&oacute;n&eacute;v
	    mag&aacute;t&oacute;l elv&eacute;gzi a LF &eacute;s CRLF
	    form&aacute;tum&uacute; sort&ouml;r&eacute;sek k&ouml;zti
	    &aacute;talak&iacute;t&aacute;st, ez&eacute;rt ilyenkor
	    nincs sz&uuml;ks&eacute;g&uuml;nk a
	    <filename>hpif</filename> szkriptre.</para>
	</tip>

	<para>Ezut&aacute;n ha szeretn&eacute;nk m&aacute;s g&eacute;pek
	  r&eacute;sz&eacute;re is el&eacute;rhet&#245;v&eacute; tenni a
	  frissen telep&iacute;tett nyomtat&oacute;nkat, adjuk meg
	  mindegyik&uuml;k <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;ny&aacute;ban a
	  k&ouml;vetkez&#245;ket:</para>

	<orderedlist>
	  <listitem>
	    <para>Tetsz&#245;legesen v&aacute;lasztott nevet,
	      &aacute;lneveket.  Az egyszer&#251;s&eacute;g
	      kedv&eacute;&eacute;rt azonban itt &eacute;rdemes
	      ugyanazokat a neveket v&aacute;lasztani, mint amit a
	      nyomtat&oacute;szerveren is haszn&aacute;lunk.</para>
	  </listitem>

	  <listitem>
	    <para>Sz&aacute;nd&eacute;kosan hagyjuk az
	      <literal>lp</literal> tulajdons&aacute;got &uuml;resen
	      (<literal>:lp=:</literal>).</para>
	  </listitem>

	  <listitem>
	    <para>Hozzunk l&eacute;tre egy nyomtat&aacute;si
	      k&ouml;nyvt&aacute;rat, &eacute;s jel&ouml;lj&uuml;k meg a
	      hely&eacute;t az <literal>sd</literal>
	      tulajdons&aacute;ggal.  Az <application>LPD</application>
	      itt fogja &ouml;sszegy&#251;jteni a munk&aacute;kat,
	      miel&#245;tt elk&uuml;lden&eacute; azokat a
	      nyomtat&oacute;szervernek.</para>
	  </listitem>

	  <listitem>
	    <para>Adjuk meg a nyomtat&oacute;szerver nev&eacute;t az
	      <literal>rm</literal> tulajdons&aacute;g
	      seg&iacute;ts&eacute;g&eacute;vel.</para>
	  </listitem>

	  <listitem>
	    <para>Az <literal>rp</literal> tulajdons&aacute;ggal adjuk
	      meg a <emphasis>nyomtat&oacute;szerverre</emphasis>
	      csatlakoztatott nyomtat&oacute; nev&eacute;t.</para>
	  </listitem>
	</orderedlist>

	<para>K&eacute;sz!  Az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban m&aacute;r nem kell megadni
	  konverzi&oacute;s sz&#251;r&#245;ket,
	  oldalbe&aacute;ll&iacute;t&aacute;sokat &eacute;s semmi
	  m&aacute;s egyebet.</para>

	<para>L&aacute;ssunk mindezekre egy p&eacute;ld&aacute;t.  A
	  <hostid>rose</hostid> nev&#251;
	  sz&aacute;m&iacute;t&oacute;g&eacute;phez k&eacute;t
	  nyomtat&oacute; csatlakozik, a <literal>bamboo</literal>
	  &eacute;s a <literal>rattan</literal>.  Most pedig
	  be&aacute;ll&iacute;tjuk, hogy az <hostid>orchid</hostid>
	  nev&#251; g&eacute;p felhaszn&aacute;l&oacute;i k&eacute;pesek
	  legyenek ezekkel a nyomtat&oacute;kkal dolgozni.  Ekkor a most
	  k&ouml;vetkez&#245;k szerint fog kin&eacute;zni az
	  <hostid>orchid</hostid> (a <link
	  linkend="printing-advanced-header-pages-enabling">
	  Fejl&eacute;clapok enged&eacute;lyez&eacute;se</link>
	  szakaszban bemutatott) <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nya.  Tartalmazza a
	  <literal>teak</literal> nev&#251; nyomtat&oacute;
	  be&aacute;ll&iacute;t&aacute;sait is, &eacute;s ehhez fogjuk
	  hozz&aacute;adni a <hostid>rose</hostid> m&aacute;sik
	  k&eacute;t nyomtat&oacute;j&aacute;t:</para>

	<programlisting>#
#  /etc/printcap (orchid) - a rose k&eacute;t (t&aacute;voli) nyomtat&oacute;j&aacute;nak
#  hozz&aacute;ad&aacute;sa
#

#
#  A "teak" egy helyi nyomtat&oacute;, k&ouml;zvetlen&uuml;l az orchidhoz
#  csatlakozik:
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:sd=<filename class="directory">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/ifhp</filename>:\
        :vf=<filename>/usr/local/libexec/vfhp</filename>:\
        :of=<filename>/usr/local/libexec/ofhp</filename>:

#
#  A "rattan" rose-hoz csatlakozik, &iacute;gy k&uuml;ldhet&uuml;nk neki munk&aacute;t:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:

#
#  A "bamboo" is a rose-hoz tartozik:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:</programlisting>

	<para>Ezut&aacute;n m&aacute;s csak l&eacute;tre kell hoznunk a
	  megfelel&#245; nyomtat&aacute;si k&ouml;nyvt&aacute;rakat az
	  <hostid>orchid</hostid> nev&#251; g&eacute;pen:</para>

	<screen>&prompt.root; <userinput><command>mkdir <option>-p</option> <filename class="directory">/var/spool/lpd/rattan</filename> <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput>
&prompt.root; <userinput><command>chmod 770 <filename class="directory">/var/spool/lpd/rattan</filename> <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput>
&prompt.root; <userinput><command>chown daemon:daemon <filename class="directory">/var/spool/lpd/rattan</filename> <filename class="directory">/var/spool/lpd/bamboo</filename></command></userinput></screen>

	<para>Mostant&oacute;l kezdve az <hostid>orchid</hostid>
	  felhaszn&aacute;l&oacute;i k&eacute;pesek lesznek nyomtatni a
	  <literal>rattan</literal> &eacute;s <literal>bamboo</literal>
	  nev&#251; nyomtat&oacute;kon is.  Ez&eacute;rt, ha az
	  <hostid>orchid</hostid> egyik felhaszn&aacute;l&oacute;ja
	  be&iacute;rja, hogy:</para>

	<screen>&prompt.user; <userinput><command>lpr <option>-P</option> bamboo <option>-d</option> <filename><replaceable>sushi-le&iacute;r&aacute;s</replaceable>.dvi</filename></command></userinput></screen>

	<para>Az <hostid>orchid</hostid> g&eacute;pen
	  m&#251;k&ouml;d&#245; <application>LPD</application> rendszer
	  ezt a munk&aacute;t a bem&aacute;solja a
	  <filename class="directory">/var/spool/lpd/bamboo</filename>
	  nev&#251; nyomtat&aacute;si k&ouml;nyvt&aacute;rba &eacute;s
	  feljegyzi r&oacute;la, hogy a nyomtat&aacute;s&aacute;hoz DVI
	  sz&#251;r&#245;re lesz sz&uuml;ks&eacute;g.  Ahogy
	  <hostid>rose</hostid> g&eacute;pen tal&aacute;lhat&oacute;
	  <literal>bamboo</literal> nyomtat&aacute;si
	  k&ouml;nyvt&aacute;r&aacute;ban elegend&#245; hely keletkezik,
	  a k&eacute;t <application>LPD</application>
	  &aacute;tk&uuml;ldi egym&aacute;s k&ouml;zt a
	  <hostid>rose</hostid> nev&#251; g&eacute;pre az
	  &aacute;llom&aacute;nyt.  Ezut&aacute;n az
	  &aacute;llom&aacute;ny eg&eacute;szen addig v&aacute;rakozik a
	  <hostid>rose</hostid> nyomtat&aacute;si sor&aacute;ban,
	  am&iacute;g v&eacute;gezet&uuml;l kinyomtat&aacute;sra nem
	  ker&uuml;l.  A <hostid>rose</hostid> fogja
	  &aacute;talak&iacute;tani DVI-r&#245;l &postscript;
	  form&aacute;tumra &aacute;talak&iacute;tani (mivel a
	  <literal>bamboo</literal> egy &postscript;
	  nyomtat&oacute;).</para>

      </sect3>

      <sect3 id="printing-advanced-network-net-if">
	<title>Nyomtat&oacute;k h&aacute;l&oacute;zati
	  adatcsatlakoz&aacute;ssal</title>

	<para>Amikor h&aacute;l&oacute;zati k&aacute;rty&aacute;t
	  v&aacute;s&aacute;rolunk a nyomtat&oacute;nkhoz,
	  &aacute;ltal&aacute;ban k&eacute;t v&aacute;ltozatukkal
	  tal&aacute;lkozhatunk: az egyik&uuml;k nyomtat&aacute;si
	  rendszerk&eacute;nt m&#251;k&ouml;dik (ez a
	  dr&aacute;g&aacute;bb), a m&aacute;sikuk pedig egyszer&#251;en
	  csak soros vagy p&aacute;rhuzamos csatlakoz&oacute;n
	  tov&aacute;bb&iacute;tand&oacute; adatk&eacute;nt
	  k&ouml;zvet&iacute;ti az adatokat a nyomtat&oacute;
	  fel&eacute; (az olcs&oacute;bb).  A dr&aacute;g&aacute;bbik
	  v&aacute;ltozatot az el&#245;z&#245;, <link
	  linkend="printing-advanced-network-rm">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekre csatlakoztatott
	  nyomtat&oacute;k</link> c&iacute;m&#251; szakaszban
	  le&iacute;rtak szerint tudjuk haszn&aacute;lni.</para>

	<para>Az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban ugyan meg tudjuk adni, hogy a
	  nyomtat&oacute; soros vagy p&aacute;rhuzamos portra
	  csatlakozik, &eacute;s azon kereszt&uuml;l milyen
	  adat&aacute;tviteli sebess&eacute;ggel (amennyiben soros),
	  forgalomir&aacute;ny&iacute;t&aacute;ssal,
	  tabul&aacute;l&aacute;ssal, sort&ouml;r&eacute;si
	  konvenci&oacute; szerint stb.  kommunik&aacute;ljunk vele.
	  Azonban TCP/IP vagy m&aacute;s h&aacute;l&oacute;zati porton
	  &uuml;l&#245; nyomtat&oacute;k adatait itt nem tudjuk
	  kifejteni.</para>

	<para>A h&aacute;l&oacute;zatra k&ouml;t&ouml;tt
	  nyomtat&oacute;k haszn&aacute;lat&aacute;hoz
	  l&eacute;nyeg&eacute;ben egy olyan k&uuml;l&ouml;n
	  kifejlesztett kommunik&aacute;ci&oacute;s programra van
	  sz&uuml;ks&eacute;g&uuml;nk, amely a sz&ouml;veg- vagy
	  konverzi&oacute;s sz&#251;r&#245;kh&ouml;z hasonl&oacute;
	  m&oacute;don h&iacute;vhat&oacute; meg.  Erre r&ouml;gt&ouml;n
	  adunk is egy p&eacute;ld&aacute;t: a
	  <command>netprint</command> szkript a szabv&aacute;nyos
	  bemenetr&#245;l beolvassa az &ouml;sszes kinyomtatand&oacute;
	  adatot &eacute;s &aacute;tk&uuml;ldi azokat a
	  h&aacute;l&oacute;zatra csatlakoztatott nyomtat&oacute;nak.  A
	  szkript els&#245; param&eacute;terek&eacute;nt a
	  nyomtat&oacute; h&aacute;l&oacute;zati nev&eacute;t adjuk meg,
	  m&aacute;sodiknak pedig portot.  Azonban megjegyezz&uuml;nk,
	  hogy ez csak egyir&aacute;ny&uacute;
	  kommunik&aacute;ci&oacute;t tesz lehet&#245;v&eacute; (a
	  &os;-t&#245;l a nyomtat&oacute;ig).  Sok
	  h&aacute;l&oacute;zati nyomtat&oacute; viszont k&eacute;t
	  ir&aacute;nyban is k&eacute;pes kommunik&aacute;lni,
	  ez&eacute;rt &eacute;rdemes lehet ezt kihaszn&aacute;lni (a
	  nyomtat&oacute; &aacute;llapot&aacute;nak
	  lek&eacute;rdez&eacute;s&eacute;re,
	  nyilv&aacute;ntart&aacute;sok
	  k&eacute;sz&iacute;t&eacute;s&eacute;re stb).</para>

	<programlisting>#!/usr/bin/perl
#
#  netprint - A h&aacute;l&oacute;zatra csatlakoztatott nyomtat&oacute; sz&ouml;vegsz&#251;r&#245;je
#  Helye: /usr/local/libexec/netprint
#
$#ARGV eq 1 || die "Usage: $0 &lt;printer-hostname&gt; &lt;port-number&gt;";

$printer_host = $ARGV[0];
$printer_port = $ARGV[1];

require 'sys/socket.ph';

($ignore, $ignore, $protocol) = getprotobyname('tcp');
($ignore, $ignore, $ignore, $ignore, $address)
    = gethostbyname($printer_host);

$sockaddr = pack('S n a4 x8', &amp;AF_INET, $printer_port, $address);

socket(PRINTER, &amp;PF_INET, &amp;SOCK_STREAM, $protocol)
    || die "Can't create TCP/IP stream socket: $!";
connect(PRINTER, $sockaddr) || die "Can't contact $printer_host: $!";
while (&lt;STDIN&gt;) { print PRINTER; }
exit 0;</programlisting>

	<para>Rengeteg sz&#251;r&#245;ben fel tudjuk haszn&aacute;lni
	  ezt a szkriptet.  P&eacute;ld&aacute;ul tegy&uuml;k fel, hogy
	  egy Diablo 750-N t&iacute;pus&uacute; sornyomtat&oacute;t
	  csatlakoztattunk a h&aacute;l&oacute;zatra, amely az 5100-as
	  porton v&aacute;rja a nyomtatand&oacute; adatokat.  A
	  h&aacute;l&oacute;zati neve most <hostid>scrivener</hostid>
	  lesz.  &Iacute;me a hozz&aacute;tartoz&oacute;
	  sz&ouml;vegsz&#251;r&#245;:</para>

	<programlisting>#!/bin/sh
#
#  diablo-if-net - Az 5100-as porton figyel&#245; `scrivener' nev&#251; Diablo
#  nyomtat&oacute; sz&ouml;vegsz&#251;r&#245;je. Helye: /usr/local/libexec/diablo-if-net
#
exec /usr/libexec/lpr/lpf "$@" | /usr/local/libexec/netprint scrivener 5100</programlisting>
      </sect3>
    </sect2>

    <sect2 id="printing-advanced-restricting">
      <title>A nyomtat&oacute; haszn&aacute;lat&aacute;nak
	szab&aacute;lyoz&aacute;sa</title>

      <indexterm>
	<primary>nyomtat&oacute;</primary>
	<secondary>a hozz&aacute;f&eacute;r&eacute;s
	  korl&aacute;toz&aacute;sa</secondary>
      </indexterm>

      <para>Ebben a szakaszban a nyomtat&oacute;
	haszn&aacute;lat&aacute;nak
	korl&aacute;z&aacute;s&aacute;r&oacute;l &iacute;runk.  Az
	<application>LPD</application> rendszeren kereszt&uuml;l
	meghat&aacute;rozhatjuk, hogy ki k&eacute;pes helyben vagy
	t&aacute;volr&oacute;l hozz&aacute;f&eacute;rni a
	nyomtat&oacute;hoz, mennyi m&aacute;solatot nyomtathat, mennyi
	&eacute;s egyenk&eacute;nt mekkora munk&aacute;kat
	k&uuml;ldhet.</para>

      <sect3 id="printing-advanced-restricting-copies">
	<title>A m&aacute;solatok sz&aacute;m&aacute;nak
	  szab&aacute;lyoz&aacute;sa</title>

	<para>Az <application>LPD</application>
	  seg&iacute;ts&eacute;g&eacute;vel a felhaszn&aacute;l&oacute;k
	  egy &aacute;llom&aacute;nyt k&ouml;nnyen ki tudnak nyomtatni
	  ak&aacute;r t&ouml;bbsz&ouml;r is.  Ha (p&eacute;ld&aacute;ul)
	  a felhaszn&aacute;l&oacute; egy munka
	  nyomtat&aacute;s&aacute;hoz az
	  <command>lpr <option>-#5</option></command> parancsot
	  haszn&aacute;lja, akkor a munk&aacute;ban lev&#245;
	  &ouml;sszes &aacute;llom&aacute;nyb&oacute;l &ouml;t
	  p&eacute;ld&aacute;nyt kap.  Ennek
	  l&eacute;tjogosults&aacute;g&aacute;t azonban nek&uuml;nk kell
	  meg&iacute;t&eacute;lni.</para>

	<para>Amennyiben &uacute;gy &eacute;rezz&uuml;k, hogy a
	  tov&aacute;bbi p&eacute;ld&aacute;nyok
	  k&eacute;sz&iacute;t&eacute;se csup&aacute;n felesleges
	  pap&iacute;r- &eacute;s tintapazarl&aacute;s, akkor az
	  <literal>sc</literal> tulajdons&aacute;g
	  megad&aacute;s&aacute;val az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	  kikapcsolhatjuk az &man.lpr.1; <option>-#</option>
	  lehet&#245;s&eacute;g haszn&aacute;lat&aacute;t.  &Iacute;gy
	  amikor a felhaszn&aacute;l&oacute;k a <option>-#</option>
	  kapcsol&oacute;val k&uuml;ldenek el munk&aacute;kat a
	  nyomtat&oacute;ra, a k&ouml;vetkez&#245;t fogj&aacute;k
	  tapasztalni:</para>

	<screen>lpr: multiple copies are not allowed</screen>

	<para>Ford&iacute;t&aacute;sa:</para>

	<screen>lpr: m&aacute;solatok nyomtat&aacute;sa nem enged&eacute;lyezett</screen>

	<para>Vigy&aacute;zzunk arra, hogy ha t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pen zajlik a
	  nyomtat&aacute;s (l&aacute;sd <link
	  linkend="printing-advanced-network-rm">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekre csatlakoztatott
	  nyomtat&oacute;k</link>), akkor az <literal>sc</literal>
	  tulajdons&aacute;got a t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;p
	  <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;ny&aacute;ban is be kell
	  &aacute;ll&iacute;tani, m&aacute;sk&uuml;l&ouml;nben a
	  felhaszn&aacute;l&oacute;k egy m&aacute;sik
	  sz&aacute;m&iacute;t&oacute;g&eacute;pr&#245;l mindig
	  k&eacute;pesek lesznek t&ouml;bb p&eacute;ld&aacute;ny
	  nyomtat&aacute;s&aacute;ra.</para>

	<para>N&eacute;zz&uuml;nk erre egy p&eacute;ld&aacute;t.  Itt
	  most a <hostid>rose</hostid> nev&#251;
	  sz&aacute;m&iacute;t&oacute;g&eacute;p
	  <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;ny&aacute;t vessz&uuml;k szem&uuml;gyre.
	  Ebben a <literal>rattan</literal> egy nagyon
	  sz&iacute;v&eacute;lyes nyomtat&oacute; lesz, ez&eacute;rt
	  enged&eacute;lyezi a m&aacute;solatok
	  nyomtat&aacute;s&aacute;t, azonban a <literal>bamboo</literal>
	  nev&#251; l&eacute;zernyomtat&oacute; n&aacute;la m&aacute;r
	  sokkal v&aacute;logat&oacute;sabb lesz, ez&eacute;rt a
	  be&aacute;ll&iacute;t&aacute;sai k&ouml;zt az
	  <literal>sc</literal> tulajdons&aacute;ggal kikapcsoljuk a
	  m&aacute;sodp&eacute;ld&aacute;nyok
	  nyomtat&aacute;s&aacute;t:</para>

	<programlisting>#
#  /etc/printcap (rose) - A m&aacute;solatok korl&aacute;toz&aacute;sa a "bamboo"
#  nev&#251; nyomtat&oacute;n
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:sc:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

	<para>Az <literal>sc</literal> tulajdons&aacute;got az
	  <hostid>orchid</hostid> <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;ny&aacute;ban is meg kell adni (&eacute;s
	  ha m&aacute;r itt vagyunk, akkor tegy&uuml;k meg ugyanezt a
	  <literal>teak</literal> eset&eacute;ben is):</para>

	<programlisting>#
#  /etc/printcap (orchid) - Nincsenek m&aacute;sodp&eacute;ld&aacute;nyok sem a helyi
#  "teak" nyomtat&oacute;n, sem pedig a t&aacute;voli "bamboo" nyomtat&oacute;n
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:sd=<filename class="directory">/var/spool/lpd/teak</filename>:mx#0:sc:\
        :if=<filename>/usr/local/libexec/ifhp</filename>:\
        :vf=<filename>/usr/local/libexec/vfhp</filename>:\
        :of=<filename>/usr/local/libexec/ofhp</filename>:

rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:sc:</programlisting>

	<para>Az <literal>sc</literal> tulajdons&aacute;g
	  haszn&aacute;lat&aacute;val ugyan megakad&aacute;lyozzuk az
	  <command>lpr <option>-#</option></command> parancs
	  teljes&iacute;t&eacute;s&eacute;t, azonban ez m&eacute;g
	  mindig nem &oacute;v minket att&oacute;l, hogy a
	  felhaszn&aacute;l&oacute;k k&eacute;pesek legyenek
	  t&ouml;bbsz&ouml;r egym&aacute;s ut&aacute;n lefuttatni az
	  &man.lpr.1; parancsot, vagy &eacute;ppen egyetlen
	  munk&aacute;ban t&ouml;bb &aacute;llom&aacute;nyt is
	  elk&uuml;ldeni:</para>

	<screen>&prompt.user; <userinput>lpr <filename><replaceable>forsale.sign forsale.sign forsale.sign forsale.sign forsale.sign</replaceable></filename></userinput></screen>

	<para>Sz&aacute;mos m&oacute;dszer k&iacute;n&aacute;lkozik az
	  effajta vissza&eacute;l&eacute;sek
	  kiv&eacute;d&eacute;s&eacute;re (bele&eacute;rtve a figyelmen
	  k&iacute;v&uuml;l hagy&aacute;st is), lehet vel&uuml;k
	  k&iacute;s&eacute;rletezgetni!</para>
      </sect3>

      <sect3 id="printing-advanced-restricting-access">
	<title>A nyomtat&oacute;k
	  hozz&aacute;f&eacute;r&eacute;s&eacute;nek
	  szab&aacute;lyoz&aacute;sa</title>

	<para>A &unix; csoportkezel&eacute;s&eacute;vel &eacute;s az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	  tal&aacute;lhat&oacute; <literal>rg</literal>
	  tulajdons&aacute;g felhaszn&aacute;l&aacute;s&aacute;val
	  korl&aacute;tozni tudjuk, ki milyen nyomtat&oacute;n
	  dolgozhat.  Ehhez mind&ouml;sszesen annyit kell tenn&uuml;nk,
	  hogy besoroljuk egy csoportba azokat a
	  felhaszn&aacute;l&oacute;kat, amelyek
	  hozz&aacute;f&eacute;rhetnek a nyomtat&oacute;hoz, &eacute;s
	  az <literal>rg</literal> tulajdons&aacute;ggal
	  megnevezz&uuml;k azt.</para>

	<para>A csoporton k&iacute;v&uuml;li
	  felhaszn&aacute;l&oacute;kat (k&ouml;zt&uuml;k mag&aacute;t a
	  <username>root</username> felhaszn&aacute;l&oacute;t is) pedig
	  ezut&aacute;n &iacute;gy &uuml;dv&ouml;zli a rendszer, ha
	  megpr&oacute;b&aacute;lnak valamit kinyomtatni egy
	  korl&aacute;tozott felhaszn&aacute;l&aacute;s&uacute;
	  nyomtat&oacute;n:</para>

	<screen>lpr: Not a member of the restricted group</screen>

	<para>Az &uuml;zenet ford&iacute;t&aacute;sa:</para>

	<screen>lpr: Nem jogosult felhaszn&aacute;l&oacute;</screen>

	<para>Ha erre a t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pek eset&eacute;n
	  sz&uuml;ks&eacute;g&uuml;nk lenne (l&aacute;sd <link
	  linkend="printing-advanced-network-rm">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekre csatlakoztatott
	  nyomtat&oacute;k</link>), akkor tegy&uuml;k ugyanazt, mint
	  amit az <literal>sc</literal> (a
	  m&aacute;sodp&eacute;ld&aacute;nyok letilt&aacute;sa,
	  <quote>suppress multiple copies</quote>) tulajdons&aacute;g
	  eset&eacute;n is, vagyis az <literal>rg</literal>
	  tulajdons&aacute;got adjuk meg azokon a t&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;peken is, amelyek
	  hozz&aacute; tudnak f&eacute;rni a megosztott
	  nyomtat&oacute;hoz.</para>

	<para>P&eacute;ld&aacute;ul megengedj&uuml;k, hogy a
	  <literal>rattan</literal> nev&#251; nyomtat&oacute;t
	  b&aacute;rki haszn&aacute;lhassa, azonban a
	  <literal>bamboo</literal> nyomtat&oacute;n csak az
	  <groupname>artists</groupname> nev&#251; csoport
	  haszn&aacute;lhatja.  K&ouml;vetkezzen h&aacute;t akkor a
	  <hostid>rose</hostid> kor&aacute;bbr&oacute;l m&aacute;r
	  ismert <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nya:</para>

	<programlisting>#
#  /etc/printcap (rose) - A bamboo hozz&aacute;f&eacute;r&eacute;s&eacute;nek korl&aacute;toz&aacute;sa
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:sc:rg=artists:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

	<para>Most ne b&aacute;ntsuk a m&aacute;sik (az
	  <hostid>orchid</hostid> nev&#251; g&eacute;pen lev&#245;)
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;nyt.
	  &Iacute;gy persze az <hostid>orchid</hostid> b&aacute;rmelyik
	  felhaszn&aacute;l&oacute;ja nyomtathat a
	  <literal>bamboo</literal> nyomtat&oacute;n.  De ez most egy
	  olyan eset, ahol egy&eacute;bk&eacute;nt lekorl&aacute;tozzuk
	  a <hostid>orchid</hostid> el&eacute;r&eacute;s&eacute;t is,
	  ez&eacute;rt az ott beengedett felhaszn&aacute;l&oacute;k
	  m&aacute;r ak&aacute;r haszn&aacute;lhatj&aacute;k is a
	  nyomtat&oacute;t.  Vagy sem.</para>

	<note>
	  <para>Minden nyomtat&oacute;hoz csak egy ilyen csoportot
	    adhatunk meg.</para>
	</note>

      </sect3>

      <sect3 id="printing-advanced-restricting-sizes">
	<title>A bek&uuml;ld&ouml;tt munk&aacute;k
	  m&eacute;ret&eacute;nek szab&aacute;lyoz&aacute;sa</title>

	<indexterm><primary>nyomtat&aacute;si
	  munk&aacute;k</primary></indexterm>

	<para>Ha sok felhaszn&aacute;l&oacute; szeretne a
	  nyomtat&oacute;inkhoz hozz&aacute;f&eacute;rni, akkor minden
	  bizonnyal meg akarunk adni egy fels&#245; hat&aacute;rt a
	  felhaszn&aacute;l&oacute;k &aacute;ltal bek&uuml;ldhet&#245;
	  nyomtat&aacute;sok m&eacute;ret&eacute;re vonatkoz&oacute;an.
	  Mivel a nyomtat&aacute;si k&ouml;nyvt&aacute;raknak otthont
	  ad&oacute; &aacute;llom&aacute;nyrendszer is egyszer betelhet,
	  ez&eacute;rt mindenk&eacute;ppen &eacute;rdemes gondoskodni
	  arr&oacute;l, hogy mindenki munk&aacute;j&aacute;t el tudjuk
	  rendesen t&aacute;rolni.</para>

	<indexterm>
	  <primary>nyomtat&aacute;si munk&aacute;k</primary>
	  <secondary>szab&aacute;lyoz&aacute;sa</secondary>
	</indexterm>

	<para>Az <application>LPD</application> az <literal>mx</literal>
	  tulajdons&aacute;ggal lehet&#245;s&eacute;get ad arra, hogy
	  lekorl&aacute;tozzuk a munk&aacute;kban
	  tal&aacute;lhat&oacute; egyes &aacute;llom&aacute;nyok
	  m&eacute;ret&eacute;t.  Ennek
	  m&eacute;rt&eacute;kegys&eacute;ge egy
	  <literal>BUFSIZ</literal> blokk, ami pedig 1024 byte.  Ha
	  &eacute;rt&eacute;k&uuml;l null&aacute;t adunk meg, akkor
	  nincs korl&aacute;toz&aacute;s, viszont ha semmit sem
	  r&ouml;gz&iacute;t&uuml;nk, akkor az <literal>mx</literal>
	  tulajdons&aacute;g alap&eacute;rt&eacute;ke, vagyis 1000 blokk
	  lesz a hat&aacute;r.</para>

	<note>
	  <para>Ez az &eacute;rt&eacute;k a munk&aacute;kban lev&#245;
	    <emphasis>egyes &aacute;llom&aacute;nyok</emphasis>
	    m&eacute;ret&eacute;re vonatkozik, <emphasis>nem</emphasis>
	    pedig a munk&aacute;k teljes m&eacute;ret&eacute;re.</para>
	</note>

	<para>Fontos tudni, hogy az <application>LPD</application> nem
	  dobja vissza a m&eacute;reten fel&uuml;li
	  &aacute;llom&aacute;nyokat.  Ehelyett a m&eacute;ret alatti
	  r&eacute;szt sz&eacute;pen berakja a sorba &eacute;s
	  kinyomtatja, a t&ouml;bbi pedig elhagyja.  Lehetne rajta
	  vit&aacute;zni, hogy ez mennyire helyes cselekedet.</para>

	<para>P&eacute;ldak&eacute;ppen defini&aacute;ljunk a
	  kor&aacute;bban haszn&aacute;lt <literal>rattan</literal>
	  &eacute;s <literal>bamboo</literal> nyomtat&oacute;inkhoz
	  ilyen korl&aacute;tokat.  Mivel az
	  <groupname>artists</groupname> csoport tagjai hajlamosak nagy
	  &postscript; &aacute;llom&aacute;nyokat k&uuml;ldeni,
	  ez&eacute;rt most lekorl&aacute;tozzuk ezt &ouml;t
	  megabyte-ra.  A sz&ouml;veges nyomtat&oacute;nk eset&eacute;n
	  azonban nem lesz semmilyen hat&aacute;r:</para>

	<programlisting>#
#  /etc/printcap (rose)
#

#
#  Itt nincs korl&aacute;t a munk&aacute;kra:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:mx#0:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:

#
#  &Ouml;t megabyte a PostScript:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename class="directory">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

	<para>Ism&eacute;t hozz&aacute;tessz&uuml;k, hogy ezek a
	  korl&aacute;tok csak a helyi felhaszn&aacute;l&oacute;kra
	  vonatkoznak.  Amennyiben t&aacute;volr&oacute;l is el lehet
	  &eacute;rni ezt a nyomtat&oacute;t, a t&aacute;voli
	  felhaszn&aacute;l&oacute;kat nem fog semmilyen
	  korl&aacute;toz&aacute;s &eacute;rinteni.  Azokon a
	  sz&aacute;m&iacute;t&oacute;g&eacute;peken is meg kell adnunk
	  az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban az <literal>mx</literal>
	  tulajdons&aacute;got.  Ehhez a <link
	  linkend="printing-advanced-network-rm">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekre csatlakoztatott
	  nyomtat&oacute;k</link> c&iacute;m&#251; szakaszban
	  tal&aacute;lunk seg&iacute;ts&eacute;get.</para>

	<para>Van m&eacute;g egy speci&aacute;lis m&oacute;dszer, amivel
	  k&eacute;pesek vagyunk szab&aacute;lyozni a
	  t&aacute;volr&oacute;l &eacute;rkez&#245;
	  k&eacute;r&eacute;sek m&eacute;ret&eacute;t.  Err&#245;l a
	  <link
	  linkend="printing-advanced-restricting-remote">T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekr&#245;l
	  &eacute;rkez&#245; k&eacute;r&eacute;sek
	  szab&aacute;lyoz&aacute;sa</link> szakaszban
	  olvashatunk.</para>

      </sect3>

      <sect3 id="printing-advanced-restricting-remote">
	<title>T&aacute;voli
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekr&#245;l
	  &eacute;rkez&#245; k&eacute;r&eacute;sek
	  szab&aacute;lyoz&aacute;sa</title>

	<para>Az <application>LPD</application> nyomtat&aacute;si
	  rendszer t&ouml;bb m&oacute;dot is szolg&aacute;ltat a
	  t&aacute;volr&oacute;l &eacute;rkez&#245; nyomtat&aacute;si
	  munk&aacute;k szab&aacute;lyoz&aacute;s&aacute;ra:</para>

	<variablelist>
	  <varlistentry>
	    <term>Az el&eacute;r&eacute;s
	      szab&aacute;lyoz&aacute;sa</term>

	    <listitem>
	      <para>Az <filename>/etc/hosts.equiv</filename> &eacute;s
		<filename>/etc/hosts.lpd</filename>
		&aacute;llom&aacute;nyok
		seg&iacute;ts&eacute;g&eacute;vel
		be&aacute;ll&iacute;thatjuk, hogy mely t&aacute;voli
		sz&aacute;m&iacute;t&oacute;g&eacute;pekt&#245;l
		fogadjon el k&eacute;r&eacute;seket az
		<application>LPD</application>.  Az
		<application>LPD</application> minden
		k&eacute;r&eacute;s elfogad&aacute;sakor ellen&#245;rzi,
		hogy a k&uuml;ld&#245;
		sz&aacute;m&iacute;t&oacute;g&eacute;p c&iacute;me
		szerepel-e az eml&iacute;tett &aacute;llom&aacute;nyok
		valamelyik&eacute;ben.  Ha nem, akkor az
		<application>LPD</application> visszautas&iacute;tja a
		k&eacute;r&eacute;st.</para>

	      <para>A k&eacute;t &aacute;llom&aacute;ny
		fel&eacute;p&iacute;t&eacute;se egyszer&#251;, mert
		benn&uuml;k minden sorban egy-egy h&aacute;l&oacute;zati
		nevet adunk meg.  Hozz&aacute;tenn&eacute;nk azonban,
		hogy legy&uuml;nk &oacute;vatosak, mivel az
		<filename>/etc/hosts.equiv</filename>
		&aacute;llom&aacute;nyt az &man.ruserok.3; protokoll is
		haszn&aacute;lja, ez&eacute;rt ennek
		m&oacute;dos&iacute;t&aacute;sa hat&aacute;ssal van az
		&man.rsh.1; &eacute;s &man.rcp.1; programok
		m&#251;k&ouml;d&eacute;s&eacute;re.</para>

	      <para>P&eacute;ld&aacute;ul most n&eacute;zz&uuml;k meg a
		<hostid>rose</hostid>
		<filename>/etc/hosts.lpd</filename>
		&aacute;llom&aacute;ny&aacute;t:</para>

	      <programlisting>orchid
violet
madrigal.fishbaum.de</programlisting>

	      <para>Ennek megfelel&#245;en teh&aacute;t a
		<hostid>rose</hostid> elfogadja az
		<hostid>orchid</hostid>, <hostid>violet</hostid>
		&eacute;s <hostid
		role="fqdn">madrigal.fishbaum.de</hostid> nev&#251;
		t&aacute;voli sz&aacute;m&iacute;t&oacute;g&eacute;pek
		k&eacute;r&eacute;seit.  Ha b&aacute;rmilyen m&aacute;s
		g&eacute;p pr&oacute;b&aacute;l hozz&aacute;f&eacute;rni
		a <hostid>rose</hostid> &aacute;ltal
		felk&iacute;n&aacute;lt <application>LPD</application>
		szolg&aacute;ltat&aacute;shoz,
		visszautas&iacute;tja.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>A m&eacute;ret szab&aacute;lyoz&aacute;sa</term>

	    <listitem>
	      <para>Szab&aacute;lyozhatjuk t&ouml;bbek k&ouml;zt azt is,
		hogy mennyi szabad ter&uuml;letnek kell fennmaradnia a
		nyomtat&aacute;si k&ouml;nyvt&aacute;rnak otthont
		ad&oacute; &aacute;llom&aacute;nyrendszeren.  A helyi
		nyomtat&oacute; k&ouml;nyvt&aacute;r&aacute;ban ehhez
		hozzunk l&eacute;tre egy <filename>minfree</filename>
		nev&#251; &aacute;llom&aacute;nyt.  Ide &iacute;rjuk be,
		mennyi szabad lemezblokk (512 byte-os egys&eacute;g a
		lemezen) sz&uuml;ks&eacute;geltetik egy
		t&aacute;volr&oacute;l be&eacute;rkez&#245; munka
		fog&aacute;s&aacute;hoz.</para>

	      <para>&Iacute;gy gondoskodhatunk r&oacute;la, hogy a
		t&aacute;voli felhaszn&aacute;l&oacute;k nem
		fogj&aacute;k elt&ouml;m&iacute;teni az
		&aacute;llom&aacute;nyrendszer&uuml;nket, illetve ezzel
		egy&uacute;ttal adhatunk n&eacute;mi el&#245;nyt a helyi
		felhaszn&aacute;l&oacute;knak is: &#245;k ugyanis
		m&eacute;g azut&aacute;n is k&eacute;pesek lesznek
		munk&aacute;kat k&uuml;ldeni a nyomtat&oacute;nak,
		miut&aacute;n az &aacute;llom&aacute;nyrendszeren
		tal&aacute;lhat&oacute; szabad ter&uuml;let
		mennyis&eacute;ge m&aacute;r r&eacute;g a
		<filename>minfree</filename> &aacute;llom&aacute;nyban
		szerepl&#245; &eacute;rt&eacute;k al&aacute;
		cs&ouml;kkent.</para>

	      <para>P&eacute;ldak&eacute;nt most a
		<literal>bamboo</literal> nev&#251; nyomtat&oacute;nkhoz
		adjunk meg egy ilyen <filename>minfree</filename>
		&aacute;llom&aacute;nyt.  Ehhez az
		<filename>/etc/printcap</filename>
		&aacute;llom&aacute;nyb&oacute;l tudjuk
		kider&iacute;teni a hozz&aacute;tartoz&oacute;
		nyomtat&aacute;si k&ouml;nyvt&aacute;rat.  L&aacute;ssuk
		teh&aacute;t bel&#245;le a <literal>bamboo</literal>
		bejegyz&eacute;s&eacute;t:</para>

	      <programlisting>bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename class="directory">/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename class="devicefile">/dev/ttyd5</filename>:ms#-parenb cs8 clocal crtscts:rw:mx#5000:\
        :if=<filename>/usr/local/libexec/psif</filename>:\
        :df=<filename>/usr/local/libexec/psdf</filename>:</programlisting>

	      <para>A nyomtat&aacute;si k&ouml;nyvt&aacute;rat az
		<literal>sd</literal> tulajdons&aacute;g
		hat&aacute;rozza meg.  &Uacute;gy &aacute;ll&iacute;tjuk
		most be, hogy az <application>LPD</application>
		sz&aacute;m&aacute;ra a t&aacute;voli munk&aacute;k
		fogad&aacute;s&aacute;hoz ebben a
		k&ouml;nyvt&aacute;rban legal&aacute;bb h&aacute;rom
		megabyte (6144 blokk) szabad ter&uuml;letnek mindig
		lennie kell:</para>

	      <screen>&prompt.root; <userinput><command>echo 6144 &gt; <filename>/var/spool/lpd/bamboo/minfree</filename></command></userinput></screen>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>A felhaszn&aacute;l&oacute;k
	      szab&aacute;lyoz&aacute;sa</term>

	    <listitem>
	      <para>Az <filename>/etc/printcap</filename>
		&aacute;llom&aacute;nyban megadhat&oacute;
		<literal>rs</literal> tulajdons&aacute;g
		seg&iacute;ts&eacute;g&eacute;vel korl&aacute;tozhatjuk
		a helyi nyomtat&oacute;khoz hozz&aacute;f&eacute;rni
		k&eacute;pes t&aacute;voli felhaszn&aacute;l&oacute;kat.
		Amikor az <literal>rs</literal> tulajdons&aacute;g
		szerepel egy helyben csatlakoz&oacute; nyomtat&oacute;
		le&iacute;r&aacute;s&aacute;n&aacute;l, akkor az
		<application>LPD</application> csak abban az esetben
		fogad el t&aacute;voli
		felhaszn&aacute;l&oacute;kt&oacute;l munk&aacute;t,
		<emphasis>ha</emphasis> a munk&aacute;t k&uuml;ld&#245;
		felhaszn&aacute;l&oacute;nak ugyanazon a n&eacute;ven
		van a helyi g&eacute;pen is
		hozz&aacute;f&eacute;r&eacute;se.
		M&aacute;sk&uuml;l&ouml;nben az
		<application>LPD</application> vissza fogja
		utas&iacute;tani a k&eacute;r&eacute;st.</para>

	      <para>Ez a tulajdons&aacute;g k&uuml;l&ouml;n&ouml;sen
		fontos olyan k&ouml;rnyezetben, ahol
		(p&eacute;ld&aacute;ul) t&ouml;bb szervezeti
		egys&eacute;g haszn&aacute;l egyetlen k&ouml;z&ouml;s
		h&aacute;l&oacute;zatot &eacute;s bizonyos
		felhaszn&aacute;l&oacute;k k&eacute;pesek
		&aacute;tl&eacute;pni szervezeti egys&eacute;g&uuml;k
		hat&aacute;rait, mivel ha a
		hozz&aacute;f&eacute;r&eacute;st adunk neki a
		rendszereinkhez, akkor k&eacute;pesek a saj&aacute;t
		hely&uuml;kr&#245;l haszn&aacute;lni ezeket.  Ha
		ehelyett <emphasis>csup&aacute;n</emphasis> a
		nyomtat&oacute;inkat &eacute;s a
		sz&aacute;m&iacute;t&oacute;g&eacute;p&uuml;nk
		&ouml;sszes er&#245;forr&aacute;s&aacute;t akarjuk
		megosztani, akkor l&eacute;trehozhatunk a
		sz&aacute;mukra olyan <quote>token</quote>
		hozz&aacute;f&eacute;r&eacute;seket is, amikhez nem
		tartozik sem felhaszn&aacute;l&oacute;i
		k&ouml;nyvt&aacute;r, sem pedig
		parancs&eacute;rtelmez&#245; (pontosabban a
		<filename>/usr/bin/false</filename>).</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

      </sect3>
    </sect2>

    <sect2 id="printing-advanced-acct">
      <title>A nyomtat&oacute; haszn&aacute;lat&aacute;nak
	nyilv&aacute;ntart&aacute;sa</title>

      <indexterm>
	<primary>nyilv&aacute;ntart&aacute;s</primary>
	<secondary>nyomtat&oacute;</secondary>
      </indexterm>

      <para>Teh&aacute;t sz&uuml;ks&eacute;g&uuml;nk lenne a
	nyomtat&aacute;sok k&ouml;lts&eacute;g&eacute;nek
	elsz&aacute;mol&aacute;s&aacute;ra.  Mi&eacute;rt is ne
	tenn&eacute;nk ilyet?  A pap&iacute;r &eacute;s a tinta bizony
	p&eacute;nzbe ker&uuml;l, amihez m&eacute;g
	hozz&aacute;j&aacute;rulnak m&aacute;s egy&eacute;b
	karbantart&aacute;si k&ouml;lts&eacute;gek is &mdash; a
	nyomtat&oacute;k dugig vannak mindenf&eacute;le mozg&oacute;
	alkatr&eacute;sszel, amelyek el&#245;bb-ut&oacute;bbi el is
	romlanak.  Tegy&uuml;k fel, hogy a nyomtat&oacute;ink
	kapacit&aacute;sa, kihaszn&aacute;lts&aacute;ga &eacute;s
	karbantart&aacute;si k&ouml;lts&eacute;ge alapj&aacute;n
	m&aacute;r meg&aacute;llap&iacute;tottunk egy
	elsz&aacute;mol&aacute;si egys&eacute;get (oldalank&eacute;nt,
	m&eacute;terenk&eacute;nt, ak&aacute;rmink&eacute;nt).  De
	hogyan l&aacute;ssunk hozz&aacute; a nyomtat&aacute;sok
	k&ouml;lts&eacute;g&eacute;nek t&eacute;nyleges
	nyilv&aacute;ntart&aacute;s&aacute;hoz?</para>

      <para>Van egy rossz h&iacute;r&uuml;nk: az
	<application>LPD</application> nyomtat&aacute;si rendszer
	&ouml;nmaga nem tud seg&iacute;teni ebben a feladatban.  A
	nyilv&aacute;ntart&aacute;s nagyban f&uuml;gg a haszn&aacute;lt
	nyomtat&oacute;kt&oacute;l, a nyomtatott
	form&aacute;tumokt&oacute;l &eacute;s nyomtat&oacute;
	<emphasis>&aacute;ltalunk</emphasis> kiszabott
	k&ouml;lts&eacute;geit&#245;l.</para>

      <para>A nyilv&aacute;ntart&aacute;s
	l&eacute;trehoz&aacute;s&aacute;hoz &aacute;t kell &iacute;rnunk
	a nyomtat&oacute;hoz tartoz&oacute; sz&#251;r&#245;t (a nyers
	sz&ouml;vegek k&ouml;lts&eacute;g&eacute;nek
	felsz&aacute;m&iacute;t&aacute;s&aacute;hoz) &eacute;s
	konverzi&oacute;s sz&#251;r&#245;ket (a
	k&uuml;l&ouml;nf&eacute;le form&aacute;tumok
	k&ouml;lts&eacute;gei miatt), amikkel azt&aacute;n
	sz&aacute;molhatjuk vagy lek&eacute;rdezhetj&uuml;k a
	kinyomtatott lapokat.  Egyetlen kimeneti sz&#251;r&#245;
	haszn&aacute;lat&aacute;val szinte semmire se megy&uuml;nk,
	mivel az nem k&eacute;pes nyilv&aacute;ntart&aacute;s
	vezet&eacute;s&eacute;re.  Err&#245;l b&#245;vebb
	&uacute;tmutat&aacute;st a <link
	linkend="printing-advanced-filter-intro">Sz&#251;r&#245;k</link>
	szakaszban tal&aacute;lhatunk.</para>

      <para>&Aacute;ltal&aacute;noss&aacute;gban v&eacute;ve k&eacute;t
	m&oacute;don vezethet&uuml;nk
	nyilv&aacute;ntart&aacute;st:</para>

      <itemizedlist>
	<listitem>
	  <para>Az <emphasis>id&#245;szakos
	    elsz&aacute;mol&aacute;s</emphasis> a gyakoribb, mivel ez az
	    egyszer&#251;bb.  Amikor valaki kinyomtat egy munk&aacute;t,
	    a sz&#251;r&#245; a nyilv&aacute;ntart&aacute;st
	    t&aacute;rol&oacute; &aacute;llom&aacute;nyba feljegyzi a
	    felhaszn&aacute;l&oacute; azonos&iacute;t&oacute;j&aacute;t,
	    a g&eacute;p&eacute;nek nev&eacute;t &eacute;s a
	    kinyomtatott oldalakat.  Ezut&aacute;n minden
	    h&oacute;napban, f&eacute;l&eacute;vben, &eacute;vben vagy
	    ak&aacute;r tetsz&#245;leges
	    id&#245;k&ouml;z&ouml;nk&eacute;nt
	    &ouml;sszegy&#251;jtj&uuml;k a nyomtat&oacute;k
	    nyilv&aacute;ntart&aacute;sait &eacute;s k&uuml;l&ouml;n
	    feljegyezz&uuml;k az egyes felhaszn&aacute;l&oacute;k
	    nyomtat&aacute;sait, majd beny&uacute;jtjuk r&oacute;la a
	    sz&aacute;ml&aacute;t.  T&ouml;r&ouml;lj&uuml;k az
	    &ouml;sszes napl&oacute;&aacute;llom&aacute;nyt, &eacute;s
	    tiszta lappal kezdj&uuml;k a k&ouml;vetkez&#245;
	    id&#245;szakot.</para>
	</listitem>

	<listitem>
	  <para>Az <emphasis>azonnali
	    elsz&aacute;mol&aacute;s</emphasis> m&aacute;r nem annyira
	    n&eacute;pszer&#251;, mivel nehezebb
	    megval&oacute;s&iacute;tani.  Ekkor a
	    felhaszn&aacute;l&oacute;k m&aacute;r k&ouml;zvetlen&uuml;l
	    a nyomtat&aacute;s ut&aacute;n megkapj&aacute;k a
	    sz&aacute;ml&aacute;t, hasonl&oacute;an a
	    lemezkv&oacute;t&aacute;khoz.  Meg tudjuk akad&aacute;lyozni
	    ezzel azt is, hogy a felhaszn&aacute;l&oacute;k
	    t&uacute;ll&eacute;phess&eacute;k az el&#245;re kiszabott
	    <quote>nyomtat&aacute;si kv&oacute;t&aacute;jukat</quote>,
	    amit persze menet k&ouml;zben lehet ellen&#245;rizni
	    &eacute;s &aacute;ll&iacute;tgatni.  A
	    felhaszn&aacute;l&oacute;k &eacute;s kv&oacute;t&aacute;juk
	    nyomonk&ouml;vet&eacute;s&eacute;hez viszont
	    sz&uuml;ks&eacute;g&uuml;nk lesz egy kis
	    adatb&aacute;ziskezel&eacute;sre is.</para>
	</listitem>
      </itemizedlist>

      <para>Az <application>LPD</application> nyomtat&aacute;si rendszer
	mind a k&eacute;t m&oacute;dszer kivitelez&eacute;s&eacute;hez
	tud seg&iacute;ts&eacute;get ny&uacute;jtani, hiszen amikor
	sz&#251;r&#245;ket &aacute;ll&iacute;tunk be (vagyis szinte
	mindig), lehet&#245;s&eacute;g&uuml;nk van a
	nyilv&aacute;ntart&aacute;st v&eacute;gz&#245;
	programr&eacute;szleteket is beilleszteni.  &Eacute;s ami
	felt&eacute;tlen&uuml;l el&#245;ny&ouml;s: &oacute;ri&aacute;si
	m&eacute;rt&eacute;k&#251; rugalmass&aacute;got aj&aacute;nl fel
	a nyilv&aacute;ntart&aacute;s
	megval&oacute;s&iacute;t&aacute;s&aacute;hoz.
	P&eacute;ld&aacute;ul magunk v&aacute;laszthatjuk ki, hogy
	id&#245;szakos vagy azonnali elsz&aacute;mol&aacute;st
	alkalmazunk.  Meg tudjuk adni, milyen
	inform&aacute;ci&oacute;kat r&ouml;gz&iacute;ts&uuml;nk:
	felhaszn&aacute;l&oacute;i neveket,
	sz&aacute;m&iacute;t&oacute;g&eacute;pek neveit, a munk&aacute;k
	t&iacute;pus&aacute;t, vagy a kinyomtatott oldalakat, a
	felhaszn&aacute;lt lapok ter&uuml;let&eacute;t, a
	nyomtat&aacute;sok id&#245;beli ig&eacute;nyeit &eacute;s
	&iacute;gy tov&aacute;bb.  Ehhez mind&ouml;ssze csak a
	sz&#251;r&#245;ket kell m&oacute;dos&iacute;tani.</para>

      <sect3>
	<title>Nyilv&aacute;ntart&aacute;s gyorsan &eacute;s
	  egyszer&#251;en</title>

	<para>A &os;-ben egyb&#245;l tal&aacute;lunk is k&eacute;t
	  programot, amivel pillanatok alatt ki tudunk alak&iacute;tani
	  egy egyszer&#251; id&#245;szakos elsz&aacute;mol&aacute;si
	  rendszert.  Ezek <link linkend="printing-advanced-lpf">Az lpf
	  sz&ouml;vegsz&#251;r&#245;</link> c&iacute;m&#251; szakaszban
	  ismertetett <command>lpf</command> &eacute;s a
	  nyomtat&oacute;k nyilv&aacute;ntart&aacute;sait
	  tartalmaz&oacute; &aacute;llom&aacute;nyok adatainak
	  &ouml;sszegy&#251;jt&eacute;s&eacute;t &eacute;s
	  ki&eacute;rt&eacute;kel&eacute;s&eacute;t v&eacute;gz&#245;
	  &man.pac.8;.</para>

	<para>Ahogy kor&aacute;bban m&aacute;r le&iacute;rtuk a
	  sz&#251;r&#245;kr&#245;l sz&oacute;l&oacute; szakaszban (<link
	  linkend="printing-advanced-filters">Sz&#251;r&#245;k</link>),
	  az <application>LPD</application> a sz&ouml;veg- &eacute;s
	  konverzi&oacute;s sz&#251;r&#245;ket parancssorb&oacute;l a
	  nyilv&aacute;ntart&aacute;st t&aacute;rol&oacute;
	  &aacute;llom&aacute;ny nev&eacute;vel ind&iacute;tja el.  Ezt
	  a param&eacute;tert a sz&#251;r&#245;k azt&aacute;n fel
	  tudj&aacute;k haszn&aacute;lni a nyilv&aacute;ntart&aacute;sok
	  feljegyz&eacute;s&eacute;hez.  Az &aacute;llom&aacute;ny
	  nev&eacute;t az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban szerepl&#245; <literal>af</literal>
	  tulajdons&aacute;ggal tudjuk megadni, vagy teljes
	  el&eacute;r&eacute;si &uacute;ttal, vagy pedig a
	  nyomtat&aacute;si k&ouml;nyvt&aacute;rhoz
	  viszony&iacute;tva.</para>

	<para>Az <application>LPD</application> az
	  <command>lpf</command> sz&#251;r&#245;t a lap
	  sz&eacute;less&eacute;g&eacute;nek &eacute;s hossz&aacute;nak
	  megad&aacute;s&aacute;val ind&iacute;tja el (ezeket az
	  &eacute;rt&eacute;keket a <literal>pw</literal> &eacute;s
	  <literal>pl</literal> tulajdons&aacute;gokb&oacute;l
	  sz&aacute;rmaztatja).  Az <command>lpf</command> ezek
	  felhaszn&aacute;l&aacute;s&aacute;val meg tudja mondani,
	  mennyi pap&iacute;rt haszn&aacute;ltunk el.  Miut&aacute;n
	  kik&uuml;ldte az &aacute;llom&aacute;nyt a nyomtat&oacute;ra,
	  nyilv&aacute;ntart&aacute;sba is veszi.  Ezek a
	  t&iacute;pus&uacute; bejegyz&eacute;sek valahogy &iacute;gy
	  n&eacute;znek ki:</para>

	<programlisting>2.00 rose:andy
3.00 rose:kelly
3.00 orchid:mary
5.00 orchid:mary
2.00 orchid:zhang</programlisting>

	<para>Minden nyomtat&oacute;hoz &eacute;rdemes k&uuml;l&ouml;n
	  nyilv&aacute;ntart&aacute;st vezetni, mivel az
	  <command>lpf</command> nem tartalmaz semmilyen
	  be&eacute;p&iacute;tett z&aacute;rol&aacute;si
	  megold&aacute;st, ez&eacute;rt k&eacute;t
	  <command>lpf</command> p&aacute;rhuzamos futtat&aacute;sa
	  k&ouml;nnyen &ouml;sszezagyv&aacute;lhatja a k&ouml;z&ouml;sen
	  haszn&aacute;lt nyilv&aacute;ntart&aacute;sok
	  tartalm&aacute;t.  Az <filename>/etc/printcap</filename>
	  &aacute;llom&aacute;nyban az <literal>af=acct</literal>
	  tulajdons&aacute;g megad&aacute;s&aacute;val k&ouml;nnyen
	  l&eacute;tre tudunk hozni minden nyomtat&oacute;hoz
	  k&uuml;l&ouml;n nyilv&aacute;ntart&aacute;st.  Ilyenkor minden
	  nyomtat&oacute; k&ouml;nyvt&aacute;r&aacute;ban megjelenik egy
	  <filename>acct</filename> nev&#251;
	  &aacute;llom&aacute;ny.</para>

	<para>Amikor el&eacute;rkez&uuml;nk a nyomtat&aacute;sok
	  kisz&aacute;ml&aacute;z&aacute;s&aacute;hoz, futtassuk le a
	  &man.pac.8; programot.  Ehhez mind&ouml;ssze annyit kell
	  tenn&uuml;nk, hogy &aacute;tl&eacute;p&uuml;nk az
	  elsz&aacute;molni k&iacute;v&aacute;nt nyomtat&oacute;
	  k&ouml;nyvt&aacute;r&aacute;ba &eacute;s
	  beg&eacute;pelj&uuml;k a <command>pac</command> parancsot.
	  Ekkor kapunk egy ehhez hasonl&oacute;, doll&aacute;r
	  alap&uacute; kimutat&aacute;st:</para>

	<screen>  Login               pages/feet   runs    price
orchid:kelly                5.00    1   $  0.10
orchid:mary                31.00    3   $  0.62
orchid:zhang                9.00    1   $  0.18
rose:andy                   2.00    1   $  0.04
rose:kelly                177.00  104   $  3.54
rose:mary                  87.00   32   $  1.74
rose:root                  26.00   12   $  0.52

total                     337.00  154   $  6.74</screen>

	<para>A &man.pac.8; a k&ouml;vetkez&#245; param&eacute;tereket
	  v&aacute;rja:</para>

	<variablelist>
	  <varlistentry>
	    <term><option>-P<replaceable>nyomtat&oacute;</replaceable></option></term>
	    <listitem>
	      <para>Az ki&eacute;rt&eacute;kelend&#245;
		<replaceable>nyomtat&oacute;</replaceable> neve.  Ez a
		param&eacute;ter csak akkor haszn&aacute;lhat&oacute;,
		ha az <filename>/etc/printcap</filename>
		&aacute;llom&aacute;nyban az <literal>af</literal>
		tulajdons&aacute;gnak teljes el&eacute;r&eacute;si utat
		adtunk meg.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-c</option></term>
	    <listitem>
	      <para>A felhaszn&aacute;l&oacute;k nevei helyett a
		fizetend&#245; &ouml;sszeg szerint rendezze a
		list&aacute;t.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-m</option></term>
	    <listitem>
	      <para>Hagyja figyelmen k&iacute;v&uuml;l a
		nyilv&aacute;ntart&aacute;sban szerepl&#245;
		g&eacute;pek h&aacute;l&oacute;zati neveit.  Ennek
		hat&aacute;s&aacute;ra az <hostid>alpha</hostid>
		g&eacute;pr&#245;l nyomtat&oacute;
		<username>smith</username> meg fog egyezni a
		<hostid>gamma</hostid> g&eacute;pr&#245;l
		nyomtat&oacute;val.  A be&aacute;ll&iacute;t&aacute;s
		n&eacute;lk&uuml;l ez a k&eacute;t
		felhaszn&aacute;l&oacute; el fog t&eacute;rni.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-p<replaceable>&aacute;r</replaceable></option></term>
	    <listitem>
	      <para>A param&eacute;terk&eacute;nt megadott
		<replaceable>&aacute;r</replaceable> doll&aacute;r
		&eacute;rt&eacute;kkel sz&aacute;mol oldalank&eacute;nt
		vagy l&aacute;bank&eacute;nt az
		<filename>/etc/printcap</filename>
		&aacute;llom&aacute;nyban megadott <literal>pc</literal>
		tulajdons&aacute;g &eacute;rt&eacute;ke helyett (ami
		alapb&oacute;l k&eacute;t cent).  Az
		<replaceable>&aacute;r</replaceable> lebeg&#245;pontos
		(val&oacute;s) sz&aacute;mk&eacute;nt is
		megadhat&oacute;.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-r</option></term>
	    <listitem>
	      <para>A rendez&eacute;si sorrend
		megford&iacute;t&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-s</option></term>
	    <listitem>
	      <para>Hozzon l&eacute;tre egy elsz&aacute;mol&aacute;st,
		majd t&ouml;r&ouml;lje a hozz&aacute;
		kapcsol&oacute;d&oacute; nyilv&aacute;ntart&aacute;si
		adatokat.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><replaceable>n&eacute;v</replaceable>
	      <replaceable>&hellip;</replaceable></term>
	    <listitem>
	      <para>Csak az adott <replaceable>nev&#251;</replaceable>
		felhaszn&aacute;l&oacute;k adatait
		&eacute;rt&eacute;kelje ki.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>A &man.pac.8; &aacute;ltal alap&eacute;rtelmez&eacute;s
	  szerint gener&aacute;lt kimutat&aacute;sban l&aacute;thatjuk
	  az egyes g&eacute;pekr&#245;l sz&aacute;rmaz&oacute; egyes
	  felhaszn&aacute;l&oacute;k kinyomtatott oldalait.  Ha
	  nek&uuml;nk viszont nem sz&aacute;m&iacute;t, hogy honnan
	  k&uuml;ldt&eacute;k a k&eacute;r&eacute;seket (mivel
	  b&aacute;rhonnan lehet k&uuml;ldeni), akkor a
	  <command>pac <option>-m</option></command> paranccsal az
	  al&aacute;bbi t&aacute;bl&aacute;zatot
	  k&eacute;sz&iacute;tetthetj&uuml;k el:</para>

	<screen>  Login               pages/feet   runs    price
andy                        2.00    1   $  0.04
kelly                     182.00  105   $  3.64
mary                      118.00   35   $  2.36
root                       26.00   12   $  0.52
zhang                       9.00    1   $  0.18

total                     337.00  154   $  6.74</screen>

	<para>Itt megtal&aacute;ljuk a t&eacute;nylegesen
	  kifizetend&#245; &ouml;sszegeket is, amik
	  kisz&aacute;m&iacute;t&aacute;s&aacute;hoz a &man.pac.8; az
	  <filename>/etc/printcap</filename> &aacute;llom&aacute;ny
	  <literal>pc</literal> tulajdons&aacute;g&aacute;t
	  haszn&aacute;lja (ez alapb&oacute;l 200, avagy 2 cent
	  oldalank&eacute;nt).  Ezzel a tulajdons&aacute;ggal
	  teh&aacute;t egy cent sz&aacute;zadr&eacute;sz&eacute;ben
	  m&eacute;rve tudjuk megadni az oldalak&eacute;nti vagy
	  l&aacute;bank&eacute;nti &aacute;rakat.  Ezt a
	  be&aacute;ll&iacute;t&aacute;st term&eacute;szetesen a
	  &man.pac.8; <option>-p</option> opci&oacute;j&aacute;val
	  fel&uuml;l tudjuk b&iacute;r&aacute;lni.  Arra azonban
	  vigy&aacute;zzunk, hogy a <option>-p</option> ut&aacute;n
	  doll&aacute;rban kell megadnunk az &aacute;rat.  Emiatt
	  teh&aacute;t a</para>

	<screen>&prompt.root; <userinput><command>pac <option>-p1.50</option></command></userinput></screen>

	<para>parancs szerint minden egyes oldal m&aacute;sf&eacute;l
	  doll&aacute;rba fog ker&uuml;lni.  Ezzel az opci&oacute;val
	  azt&aacute;n alaposan megd&ouml;nthetj&uuml;k az
	  &aacute;rakat.</para>

	<para>V&eacute;gezet&uuml;l megeml&iacute;tj&uuml;k, hogy a
	  <command>pac <option>-s</option></command> parancs az
	  &aacute;ltala l&eacute;trehozott elsz&aacute;mol&aacute;st egy
	  k&uuml;l&ouml;n &aacute;llom&aacute;nyba menti, amelynek a
	  neve nagyj&aacute;b&oacute;l megegyezik a
	  nyilv&aacute;ntart&aacute;st v&eacute;gz&#245;&eacute;vel, de
	  <literal>_sum</literal>-ra (mint <quote>summary</quote>, azaz
	  elsz&aacute;mol&aacute;s) v&eacute;gz&#245;dik.  Ezut&aacute;n
	  null&aacute;zza a nyilv&aacute;ntart&aacute;st.  Amikor a
	  &man.pac.8; programot &uacute;jra lefuttatjuk,
	  &uacute;jb&oacute;l beolvassa a kor&aacute;bban elmentett
	  elsz&aacute;mol&aacute;sokat, majd hozz&aacute;sz&aacute;molja
	  a t&ouml;bbit a hagyom&aacute;nyos
	  nyilv&aacute;ntart&aacute;si adatokb&oacute;l.</para>

      </sect3>

      <sect3>
	<title>Hogyan tudjuk sz&aacute;molni a kinyomtatott
	  lapokat?</title>

	<para>A nyilv&aacute;ntart&aacute;s pontos
	  vezet&eacute;s&eacute;hez m&eacute;g t&aacute;volr&oacute;l is
	  valamilyen m&oacute;don meg kell tudnunk mondani, hogy mennyi
	  lapot haszn&aacute;lt egy nyomtat&aacute;si munka
	  v&eacute;grehajt&aacute;sa.  Ez a nyomtat&aacute;s
	  nyilv&aacute;ntart&aacute;s&aacute;nak egyik alapvet&#245;
	  probl&eacute;m&aacute;ja.</para>

	<para>A nyers sz&ouml;vegek eset&eacute;ben ez nem is annyira
	  bonyolult: egyszer&#251;en sz&aacute;moljuk &ouml;ssze, hogy a
	  munk&aacute;ban mennyi sor kinyomtat&aacute;s&aacute;ra lesz
	  sz&uuml;ks&eacute;g &eacute;s vess&uuml;k &ouml;ssze ezt a
	  nyomtat&oacute; &aacute;ltal lapok&eacute;nt kinyomtatott
	  sorok sz&aacute;m&aacute;lva.  Ne felejts&uuml;k el
	  sz&aacute;m&iacute;t&aacute;sba venni a sz&ouml;vegben
	  felbukkan&oacute; t&ouml;rl&eacute;sek hat&aacute;s&aacute;t,
	  vagy az olyan hossz&uacute; sorokat, amelyek a
	  val&oacute;s&aacute;gban t&ouml;bb sorban fognak
	  megjelenni.</para>

	<para>Viszont (<link linkend="printing-advanced-lpf">Az lpf
	  sz&ouml;vegsz&#251;r&#245;</link> c&iacute;m&#251; szakaszban
	  bemutatott) <command>lpf</command> program ezeket mind
	  lekezeli a nyilv&aacute;ntart&aacute;sok
	  k&eacute;sz&iacute;t&eacute;se sor&aacute;n.  Ez&eacute;rt ha
	  szint&eacute;n egy nyilv&aacute;ntart&aacute;st vezetni
	  k&eacute;pes sz&ouml;vegsz&#251;r&#245;t akarunk &iacute;rni,
	  akkor mindenk&eacute;ppen &eacute;rdemes
	  megn&eacute;zn&uuml;nk az <command>lpf</command>
	  forr&aacute;sk&oacute;dj&aacute;t.</para>

	<para>De hogyan b&aacute;njunk el a t&ouml;bbi
	  form&aacute;tummal?</para>

	<para>Nos, a DVI-Laserjet &eacute;s DVI-&postscript; k&ouml;zti
	  &aacute;talak&iacute;t&aacute;sok eset&eacute;n a kinyomtatott
	  lapok sz&aacute;m&aacute;nak
	  meg&aacute;llap&iacute;t&aacute;s&aacute;hoz meg kell
	  tan&iacute;tanunk a sz&#251;r&#245;nket &eacute;rtelmezni a
	  <command>dvilj</command> vagy <command>dvips</command>
	  parancsok kimenet&eacute;t.  Ugyanezt meg tudjuk tenni
	  m&aacute;s form&aacute;tumok &eacute;s m&aacute;s
	  konverzi&oacute;s programok haszn&aacute;lata sor&aacute;n
	  is.</para>

	<para>Azonban ezek a m&oacute;dszerek nem veszik
	  sz&aacute;m&iacute;t&aacute;sba, hogy a nyomtat&oacute;
	  egy&aacute;ltal&aacute;n ki is nyomtatta-e az &ouml;sszes
	  elk&uuml;ld&ouml;tt oldalt.  Sok minden t&ouml;rt&eacute;nhet
	  m&eacute;g addig, p&eacute;ld&aacute;ul beragadhat a
	  pap&iacute;r, kifogyhat a tinta vagy ak&aacute;r felrobbanhat
	  a nyomtat&oacute; &mdash; a felhaszn&aacute;l&oacute;nak
	  ett&#245;l f&uuml;ggetlen&uuml;l m&eacute;g fizetnie
	  kell.</para>

	<para>Mit lehet ilyenkor tenni?</para>

	<para>A <emphasis>prec&iacute;z</emphasis>
	  nyilv&aacute;ntart&aacute;snak csak egyetlen
	  <emphasis>biztos</emphasis> m&oacute;dja l&eacute;tezik.
	  Olyan nyomtat&oacute;t szerezz&uuml;nk be, amely k&eacute;pes
	  megmondani, mennyi lapot haszn&aacute;lt el a nyomtat&aacute;s
	  sor&aacute;n, majd egy ilyet csatlakoztassunk soros porton
	  vagy h&aacute;l&oacute;zaton kereszt&uuml;l.  Szinte majdnem
	  az &ouml;sszes &postscript; nyomtat&oacute; t&aacute;mogatja
	  ezt a lehet&#245;s&eacute;get, ahogy sok m&aacute;s
	  gy&aacute;rtm&aacute;ny &eacute;s t&iacute;pus is
	  (p&eacute;ld&aacute;ul a h&aacute;l&oacute;zati Imagen
	  l&eacute;zernyomtat&oacute;k).  A nyomtat&oacute;hoz
	  tartoz&oacute; sz&#251;r&#245;t ehhez &uacute;gy kell
	  m&oacute;dos&iacute;tani, hogy lek&eacute;rdezz&uuml;k a
	  kinyomtatott lapok sz&aacute;m&aacute;t a nyomtat&aacute;s
	  ut&aacute;n &eacute;s
	  <emphasis>kiz&aacute;r&oacute;lag</emphasis> erre az
	  &eacute;rt&eacute;kre alapozva k&eacute;sz&iacute;t&uuml;nk
	  nyilv&aacute;ntart&aacute;st.  Itt nincs sz&uuml;ks&eacute;g
	  sem a sorok sz&aacute;mol&aacute;s&aacute;ra, sem pedig az
	  &aacute;llom&aacute;nyok (k&ouml;nnyen
	  elhib&aacute;zhat&oacute;)
	  &aacute;tvizsg&aacute;l&aacute;s&aacute;ra.</para>

	<para>Term&eacute;szetesen lehet&uuml;nk nagylelk&#251;ek
	  &eacute;s ne sz&aacute;m&iacute;tsunk fel semmit a
	  nyomtat&aacute;s&eacute;rt.</para>

      </sect3>
    </sect2>
  </sect1>

  <sect1 id="printing-using">
    <title>A nyomtat&oacute;k haszn&aacute;lata</title>

    <indexterm>
      <primary>nyomtat&oacute;</primary>
      <secondary>haszn&aacute;lat</secondary>
    </indexterm>

    <para>Ebb&#245;l a szakaszb&oacute;l megtudhatjuk, hogyan
      haszn&aacute;ljuk a &os;-n be&aacute;ll&iacute;tott
      nyomtat&oacute;nkat.  R&ouml;viden most itt foglaljuk &ouml;ssze
      az ide tartoz&oacute; felhaszn&aacute;l&oacute;i
      parancsokat:</para>

    <variablelist>
      <varlistentry>
	<term>&man.lpr.1;</term>
	<listitem>
	  <para>Munk&aacute;kat nyomtat ki.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>&man.lpq.1;</term>
	<listitem>
	  <para>Ellen&#245;rzi a nyomtat&aacute;si sorokat.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>&man.lprm.1;</term>
	<listitem>
	  <para>Munk&aacute;kat vesz ki a nyomtat&aacute;si
	    sorokb&oacute;l.</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para>Ezek mellett l&eacute;tezik m&eacute;g a nyomtat&oacute;k
      &eacute;s a hozz&aacute;juk tartoz&oacute; sorok
      ir&aacute;ny&iacute;t&aacute;s&aacute;ra alkalmas parancs is, az
      &man.lpc.8;, amelyre a <link linkend="printing-lpc">A
      nyomtat&oacute;k vez&eacute;rl&eacute;se</link> c&iacute;m&#251;
      szakaszban fogunk r&eacute;szleteiben kit&eacute;rni.</para>

    <para>A nyomtat&oacute;k/sorok <filename>/etc/printcap</filename>
      &aacute;llom&aacute;nyban szerepl&#245; nev&uuml;k szerinti
      megad&aacute;s&aacute;hoz az &man.lpr.1;, &man.lprm.1; &eacute;s
      &man.lpq.1; parancsok k&ouml;z&uuml;l mindegyik elfogadja a
      <option>-P
      <replaceable>nyomtat&oacute;n&eacute;v</replaceable></option>
      param&eacute;tert.  Ennek k&ouml;sz&ouml;nhet&#245;en
      k&eacute;pesek vagyunk munk&aacute;kat k&uuml;ldeni,
      elt&aacute;vol&iacute;tani vagy fel&uuml;gyelni az egyes
      nyomtat&oacute;k soraiban.  Ha nem haszn&aacute;ljuk a
      <option>-P</option> kapcsol&oacute;t, akkor az &eacute;rintett
      nyomtat&oacute; a <envar>PRINTER</envar> k&ouml;rnyezeti
      v&aacute;ltoz&oacute; &aacute;ltal meghat&aacute;rozott lesz.
      V&eacute;g&uuml;l, ha a <envar>PRINTER</envar> nev&#251;
      k&ouml;rnyezeti v&aacute;ltoz&oacute;t sem
      &aacute;ll&iacute;tottuk be, akkor a parancsok
      alap&eacute;rtelmezett m&oacute;don az <command>lp</command>
      nev&#251; nyomtat&oacute;t fogj&aacute;k haszn&aacute;lni.</para>

    <para>A tov&aacute;bbiakban az <emphasis>alap&eacute;rtelmezett
      nyomtat&oacute;</emphasis> kifejez&eacute;s a
      <envar>PRINTER</envar> k&ouml;rnyezeti v&aacute;ltoz&oacute;
      &aacute;ltal megnevezett nyomtat&oacute;ra fog utalni, illetve ha
      ezt nem defini&aacute;ltuk, akkor az <literal>lp</literal>
      nev&#251; nyomtat&oacute;ra.</para>

    <sect2 id="printing-lpr">
      <title>Munk&aacute;k nyomtat&aacute;sa</title>

      <para>Az &aacute;llom&aacute;nyok kinyomtat&aacute;s&aacute;hoz
	&iacute;rjuk be:</para>

      <screen>&prompt.user; <userinput><command>lpr <filename><replaceable>&aacute;llom&aacute;nyn&eacute;v</replaceable></filename> <replaceable>...</replaceable></command></userinput></screen>

      <indexterm><primary>nyomtat&aacute;s</primary></indexterm>

      <para>Ezzel kinyomtatjuk az &ouml;sszes felsorolt
	&aacute;llom&aacute;nyt az alap&eacute;rtelmezett
	nyomtat&oacute;n.  Ha nem adunk meg &aacute;llom&aacute;nyokat,
	akkor az &man.lpr.1; parancs a szabv&aacute;nyos bemenetr&#245;l
	v&aacute;rja a nyomtatand&oacute; adatokat.
	P&eacute;ld&aacute;ul ezzel a paranccsal n&eacute;h&aacute;ny
	igen fontos rendszer&aacute;llom&aacute;nyt tudunk
	kinyomtatni:</para>

      <screen>&prompt.user; <userinput><command>lpr <filename>/etc/host.conf</filename> <filename>/etc/hosts.equiv</filename></command></userinput></screen>

      <para>A nyomtat&oacute; megv&aacute;laszt&aacute;s&aacute;hoz
	&iacute;gy adjuk ki a parancsot:</para>

      <screen>&prompt.user; <userinput><command>lpr <option>-P</option> <replaceable>nyomtat&oacute;n&eacute;v</replaceable> <filename><replaceable>&aacute;llom&aacute;nyn&eacute;v</replaceable></filename> <replaceable>...</replaceable></command></userinput></screen>

      <para>Ez a p&eacute;lda kinyomtatja az aktu&aacute;lis
	k&ouml;nyvt&aacute;r r&eacute;szletes list&aacute;j&aacute;t a
	<literal>rattan</literal> nev&#251; nyomtat&oacute;n:</para>

      <screen>&prompt.user; <userinput><command>ls <option>-l</option> | lpr <option>-P</option> rattan</command></userinput></screen>

      <para>Mivel egyetlen &aacute;llom&aacute;nyt sem adtunk meg az
	&man.lpr.1; programnak, az <command>lpr</command> parancs a
	nyomtatand&oacute; adatokat a szabv&aacute;nyos bemenetr&#245;l
	v&aacute;rja, ami jelen eset&uuml;nkben a
	<command>ls <option>-l</option></command> parancs
	kimenete.</para>

      <para>Az &man.lpr.1; ezeken fel&uuml;l m&eacute;g k&eacute;pes
	&eacute;rtelmezni rengeteg form&aacute;z&aacute;sra,
	konverzi&oacute;ra, m&aacute;solatok
	k&eacute;sz&iacute;t&eacute;s&eacute;re stb.
	utas&iacute;t&oacute; kapcsol&oacute;t is.  Err&#245;l
	b&#245;vebben a <link
	linkend="printing-lpr-options">Nyomtat&aacute;si
	be&aacute;ll&iacute;t&aacute;sok</link> c&iacute;m&#251;
	szakaszban lesz sz&oacute;.</para>

    </sect2>

    <sect2 id="printing-lpq">
      <title>Munk&aacute;k fel&uuml;gyelete</title>

      <indexterm><primary>nyomtat&aacute;si
	munk&aacute;k</primary></indexterm>

      <para>Amikor az &man.lpr.1; programmal nyomtatunk, az &ouml;sszes
	nyomtatand&oacute;nk egy <quote>nyomtat&aacute;si
	munk&aacute;nak</quote> nevezett csomagba ker&uuml;l, ami pedig
	az <application>LPD</application> nyomtat&aacute;si
	rendszer&eacute;be.  Minden nyomtat&oacute;hoz tartozik egy
	nyomtat&aacute;si sor, ahol r&eacute;sz&uuml;nkr&#245;l
	&eacute;s m&aacute;sok &aacute;ltal eddig kiadott
	munk&aacute;kat tal&aacute;lhatjuk.  A nyomtat&oacute;
	ezut&aacute;n ezeket a munk&aacute;kat &eacute;rkez&eacute;si
	sorrend szerint dolgozza fel.</para>

      <para>Az alap&eacute;rtelmezett nyomtat&oacute;hoz tartoz&oacute;
	sor &aacute;llapot&aacute;t az &man.lpq.1; programmal tudjuk
	megn&eacute;zni.  Ha egy adott nyomtat&oacute;ra vagyunk
	k&iacute;v&aacute;ncsiak, akkor haszn&aacute;ljuk a
	<option>-P</option> kapcsol&oacute;t.  P&eacute;ld&aacute;ul a

      <screen>&prompt.user; <userinput><command>lpq <option>-P</option> bamboo</command></userinput></screen>

      <para>parancs a <literal>bamboo</literal> nev&#251;
	nyomtat&oacute; sor&aacute;t fogja megmutatni.
	P&eacute;ldak&eacute;ppen l&aacute;ssuk is ilyen esetben az
	<command>lpq</command> parancs eredm&eacute;ny&eacute;t:</para>

      <screen>bamboo is ready and printing
Rank   Owner    Job  Files                              Total Size
active kelly    9    /etc/host.conf, /etc/hosts.equiv   88 bytes
2nd    kelly    10   (standard input)                   1635 bytes
3rd    mary     11   ...                                78519 bytes</screen>

      <para>Itt h&aacute;rom munk&aacute;t l&aacute;thatunk a
	<literal>bamboo</literal> nyomtat&aacute;si sor&aacute;ban.  Az
	els&#245; munka, amit a <username>kelly</username> nev&#251;
	felhaszn&aacute;l&oacute; k&uuml;ld&ouml;tt, a 9-es
	<quote>munkasz&aacute;mot</quote> kapta.  A nyomtat&oacute;hoz
	tartoz&oacute; &ouml;sszes munka kap egy ilyen egyedi
	sz&aacute;mot.  T&ouml;bbnyire nyugodtan figyelmen
	k&iacute;v&uuml;l hagyhatjuk, azonban
	sz&uuml;ks&eacute;g&uuml;nk lehet r&aacute;, ha &eacute;ppen
	t&ouml;r&ouml;lni k&iacute;v&aacute;njuk a
	hozz&aacute;tartoz&oacute; munk&aacute;t.  Ezzel majd a <link
	linkend="printing-lprm">Munk&aacute;k
	elt&aacute;vol&iacute;t&aacute;sa</link> c&iacute;m&#251;
	szakaszban foglalkozunk.</para>

      <para>A kilences sz&aacute;m&uacute; munka k&eacute;t
	&aacute;llom&aacute;nyt tartalmaz: ha a parancssorban t&ouml;bb
	&aacute;llom&aacute;nyt adunk meg az &man.lpr.1; programnak,
	akkor az egy munk&aacute;nak sz&aacute;m&iacute;t.  Ez egyben a
	pillanatnyilag akt&iacute;v munka (ezt a <quote>Rank</quote>
	oszlopban szerepl&#245; <literal>active</literal>
	&eacute;rt&eacute;k jelzi), teh&aacute;t a nyomtat&oacute;
	&eacute;ppen ezzel foglalatoskodik.  A m&aacute;sodik munka
	k&ouml;zvetlen&uuml;l az &man.lpr.1; szabv&aacute;nyos
	bemenet&eacute;re &eacute;rkezett.  A harmadik a
	<username>mary</username> nev&#251;
	felhaszn&aacute;l&oacute;t&oacute;l j&ouml;tt, &eacute;s ez egy
	nagyobbacska munka.  A nyomtatand&oacute; &aacute;llom&aacute;ny
	el&eacute;r&eacute;si &uacute;tvonala t&uacute;ls&aacute;gosan
	hossz&uacute; ahhoz, hogy ki lehessen &iacute;rni, ez&eacute;rt
	az &man.lpr.1; csak h&aacute;rom pontot jelez ki
	helyette.</para>

      <para>Az &man.lpq.1; kimenet&eacute;nek els&#245; sorai is nagyon
	hasznos inform&aacute;ci&oacute;t tartalmaz: megtudhatjuk, mit
	csin&aacute;l &eacute;ppen (legal&aacute;bb is az
	<application>LPD</application> szerint) a
	nyomtat&oacute;.</para>

      <para>A <option>-l</option> kapcsol&oacute;val az &man.lpq.1;
	parancst&oacute;l k&eacute;rhet&uuml;nk sokkal
	r&eacute;szletesebb list&aacute;z&aacute;st is.
	P&eacute;ld&aacute;ul &iacute;gy n&eacute;zhet ki a
	<command>lpq <option>-l</option></command>
	parancs eredm&eacute;nye:</para>

      <screen>waiting for bamboo to become ready (offline ?)
kelly: 1st				 [job 009rose]
       /etc/host.conf                    73 bytes
       /etc/hosts.equiv                  15 bytes

kelly: 2nd				 [job 010rose]
       (standard input)                  1635 bytes

mary: 3rd                                [job 011rose]
      /home/orchid/mary/research/venus/alpha-regio/mapping 78519 bytes</screen>

    </sect2>

    <sect2 id="printing-lprm">
      <title>Munk&aacute;k elt&aacute;vol&iacute;t&aacute;sa</title>

      <para>Ha meggondoltuk volna magunkat egy munka
	kinyomtat&aacute;s&aacute;r&oacute;l, az &man.lprm.1; paranccsal
	m&eacute;g t&ouml;r&ouml;lni tudjuk a sorb&oacute;l.  Az
	&man.lprm.1; gyakran m&eacute;g a nyomtat&aacute;s alatt
	&aacute;ll&oacute; munk&aacute;t is k&eacute;pes
	elt&aacute;vol&iacute;tani, azonban el&#245;fordulhat, hogy a
	munka egy r&eacute;sze m&aacute;r nyomtat&aacute;sra
	ker&uuml;lt.</para>

      <para>Az alap&eacute;rtelmezett nyomtat&oacute;
	sor&aacute;b&oacute;l csak &uacute;gy tudunk munk&aacute;kat
	t&ouml;r&ouml;lni, ha el&#245;sz&ouml;r az &man.lpq.1;
	seg&iacute;ts&eacute;g&eacute;vel megkeress&uuml;k a
	sz&aacute;mukat.  Ha ez megvan, &iacute;rjuk be:</para>

      <screen>&prompt.user; <userinput><command>lprm <replaceable>munkasz&aacute;m</replaceable></command></userinput></screen>

      <para>Adott nyomtat&oacute;r&oacute;l a <option>-P</option>
	kapcsol&oacute; seg&iacute;ts&eacute;g&eacute;vel tudunk
	munk&aacute;kat t&ouml;r&ouml;lni.  A most k&ouml;vetkez&#245;
	parancs a <literal>bamboo</literal> nev&#251;
	nyomtat&oacute;r&oacute;l t&ouml;rli a 10-es sz&aacute;m&uacute;
	munk&aacute;t:</para>

      <screen>&prompt.user; <userinput><command>lprm <option>-P</option> bamboo 10</command></userinput></screen>

      <para>Az &man.lprm.1; parancs eset&eacute;n m&eacute;g
	haszn&aacute;lhat&oacute;ak az al&aacute;bbi
	r&ouml;vid&iacute;t&eacute;sek is:</para>

      <variablelist>
	<varlistentry>
	  <term>lprm -</term>
	  <listitem>
	    <para>Elt&aacute;vol&iacute;tja a hozz&aacute;nk
	      tartoz&oacute; az &ouml;sszes munk&aacute;t (az
	      alap&eacute;rtelmezett nyomtat&oacute;n).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>lprm <replaceable>felhaszn&aacute;l&oacute;</replaceable></term>
	  <listitem>
	    <para>Elt&aacute;vol&iacute;tja az adott
	      <replaceable>felhaszn&aacute;l&oacute;</replaceable>hoz
	      tartoz&oacute; &ouml;sszes munk&aacute;t (az
	      alap&eacute;rtelmezett nyomtat&oacute;n).
	      Kiz&aacute;r&oacute;lag a rendszergazd&aacute;k
	      k&eacute;pesek erre, a rendes felhaszn&aacute;l&oacute;k
	      csak a saj&aacute;t munk&aacute;ikat
	      t&ouml;r&ouml;lhetik.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>lprm</term>
	  <listitem>
	    <para>A munka sz&aacute;ma, a felhaszn&aacute;l&oacute;i
	      n&eacute;v vagy a <option>-</option>megad&aacute;sa
	      n&eacute;lk&uuml;l az &man.lprm.1; t&ouml;rli az
	      alap&eacute;rtelmezett nyomtat&oacute;n &eacute;ppen
	      akt&iacute;v munk&aacute;t, amennyiben az a mi&eacute;nk.
	      Csak a rendszergazd&aacute;k k&eacute;pesek
	      b&aacute;rmilyen akt&iacute;v munk&aacute;t
	      t&ouml;r&ouml;lni.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Ha kieg&eacute;sz&iacute;tj&uuml;k az im&eacute;nt
	eml&iacute;tett r&ouml;vid&iacute;t&eacute;s&eacute;ket a
	<option>-P</option> param&eacute;ter megad&aacute;s&aacute;val,
	akkor az alap&eacute;rtelmezett nyomtat&oacute; helyett
	b&aacute;rmelyik m&aacute;sikat is haszn&aacute;lhatjuk.
	P&eacute;ld&aacute;ul ez a parancs elt&aacute;vol&iacute;tja az
	aktu&aacute;lis felhaszn&aacute;l&oacute; &ouml;sszes
	munk&aacute;j&aacute;t a <literal>rattan</literal> nev&#251;
	nyomtat&oacute;n:</para>

      <screen>&prompt.user; <userinput><command>lprm <option>-P</option> rattan -</command></userinput></screen>

      <note>
	<para>H&aacute;l&oacute;zati k&ouml;rnyezetben az &man.lprm.1;
	  csak arr&oacute;l a g&eacute;pr&#245;l engedi
	  t&ouml;r&ouml;lni a munk&aacute;kat, amelyr&#245;l
	  k&uuml;ldt&eacute;k ezeket, m&eacute;g abban az esetben is,
	  amikor ugyanaz a nyomtat&oacute; m&aacute;s
	  sz&aacute;m&iacute;t&oacute;g&eacute;pekr&#245;l is
	  el&eacute;rhet&#245;.  A k&ouml;vetkez&#245; parancssorozat
	  ezt igyekszik szeml&eacute;ltetni:</para>

	<screen>&prompt.user; <userinput><command>lpr <option>-P</option> rattan <filename><replaceable>myfile</replaceable></filename></command></userinput>
&prompt.user; <userinput><command>rlogin orchid</command></userinput>
&prompt.user; <userinput><command>lpq <option>-P</option> rattan</command></userinput>
Rank   Owner	  Job  Files                          Total Size
active seeyan	  12	...                           49123 bytes
2nd    kelly      13   myfile                         12 bytes
&prompt.user; <userinput><command>lprm <option>-P</option> rattan 13</command></userinput>
rose: Permission denied
&prompt.user; <userinput><command>logout</command></userinput>
&prompt.user; <userinput><command>lprm <option>-P</option> rattan 13</command></userinput>
dfA013rose dequeued
cfA013rose dequeued
	</screen>
      </note>

    </sect2>

    <sect2 id="printing-lpr-options">
      <title>T&uacute;l a nyers sz&ouml;vegen: nyomtat&aacute;si
	be&aacute;ll&iacute;t&aacute;sok</title>

      <para>Az &man.lpr.1; parancs sz&aacute;mos olyan
	be&aacute;ll&iacute;t&aacute;st enged, amelyekkel a
	sz&ouml;vegek form&aacute;z&aacute;s&aacute;t, grafik&aacute;k
	&aacute;talak&iacute;t&aacute;s&aacute;t illetve m&aacute;s
	&aacute;llom&aacute;nyform&aacute;tumok
	haszn&aacute;lat&aacute;t, m&aacute;solatok
	k&eacute;sz&iacute;t&eacute;s&eacute;t, munk&aacute;k
	ir&aacute;ny&iacute;t&aacute;s&aacute;t &eacute;s m&eacute;g sok
	minden m&aacute;st el tudunk v&eacute;gezni.  Ebben a szakaszban
	pontosan ezekr&#245;l a kapcsol&oacute;kr&oacute;l lesz
	sz&oacute;.</para>

      <sect3 id="printing-lpr-options-format">
	<title>Form&aacute;z&aacute;si &eacute;s konverzi&oacute;s
	  be&aacute;ll&iacute;t&aacute;sok</title>

	<para>Az &man.lpr.1; most k&ouml;vetkez&#245; opci&oacute;i a
	  munk&aacute;kban tal&aacute;lhat&oacute;
	  &aacute;llom&aacute;nyok form&aacute;z&aacute;s&aacute;t
	  vez&eacute;rlik.  Akkor haszn&aacute;ljuk ezeket a
	  be&aacute;ll&iacute;t&aacute;sokat, ha a munka nem tartalmaz
	  nyers sz&ouml;veget, vagy ha nyers sz&ouml;veget akarunk
	  form&aacute;zni az &man.pr.1; seg&eacute;dprogrammal.</para>

	<indexterm><primary>&tex;</primary></indexterm>

	<para>P&eacute;ld&aacute;ul az al&aacute;bbi parancs kinyomtat
	  egy
	  <filename><replaceable>hal&aacute;szati-jelent&eacute;s.dvi</replaceable></filename>
	  nev&#251; (a &tex; bet&#251;szed&#251; rendszerb&#245;l
	  m&aacute;r j&oacute;l ismert) DVI &aacute;llom&aacute;nyt a
	  <literal>bamboo</literal> nev&#251; nyomtat&oacute;n:</para>

	<screen>&prompt.user; <userinput><command>lpr <option>-P</option> bamboo -d <filename><replaceable>hal&aacute;szati-jelent&eacute;s.dvi</replaceable></filename></command></userinput></screen>

	<para>Ezek a be&aacute;ll&iacute;t&aacute;sok a munk&aacute;ban
	  szerepl&#245; minden egyes &aacute;llom&aacute;nyra
	  vonatkoznak, ez&eacute;rt nem keverhetj&uuml;k
	  (p&eacute;ld&aacute;ul) a DVI &eacute;s ditroff
	  form&aacute;tum&uacute; &aacute;llom&aacute;nyokat egy
	  munk&aacute;n bel&uuml;l.  Ehelyett k&uuml;l&ouml;n
	  munk&aacute;kban kell elk&uuml;lden&uuml;nk az
	  elt&eacute;r&#245; form&aacute;tum&uacute;
	  &aacute;llom&aacute;nyokat, &eacute;s mindegyik
	  munk&aacute;hoz k&uuml;l&ouml;n konverzi&oacute;s
	  be&aacute;ll&iacute;t&aacute;sokat kell megadnunk.</para>

	<note>
	  <para>A <option>-p</option> &eacute;s <option>-T</option>
	    kapcsol&oacute;k kiv&eacute;tel&eacute;vel az itt felsorolt
	    &ouml;sszes be&aacute;ll&iacute;t&aacute;snak a
	    kiv&aacute;lasztott nyomtat&oacute;hoz sz&uuml;ks&eacute;ge
	    van a megfelel&#245; konverzi&oacute;s sz&#251;r&#245;re.
	    P&eacute;ld&aacute;ul a <option>-d</option> opci&oacute;
	    haszn&aacute;lat&aacute;hoz kell egy konverzi&oacute;s
	    sz&#251;r&#245; a DVI form&aacute;tumhoz.  A <link
	    linkend="printing-advanced-convfilters">Konverzi&oacute;s
	    sz&#251;r&#245;k</link> c&iacute;m&#251; szakasz err&#245;l
	    ad b&#245;vebb t&aacute;j&eacute;koztat&aacute;st.</para>
	</note>

	<variablelist>
	  <varlistentry>
	    <term><option>-c</option></term>
	    <listitem>
	      <para>Cifplot &aacute;llom&aacute;nyok
		nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-d</option></term>
	    <listitem>
	      <para>DVI &aacute;llom&aacute;nyok
		nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-f</option></term>
	    <listitem>
	      <para>FORTRAN forr&aacute;s nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-g</option></term>
	    <listitem>
	      <para>Plot form&aacute;tum&uacute; adatok
		nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-i <replaceable>sz&aacute;m</replaceable></option></term>
	    <listitem>
	      <para>A kinyomtatott sz&ouml;veg
		beh&uacute;z&aacute;s&aacute;nak n&ouml;vel&eacute;se a
		<replaceable>sz&aacute;m</replaceable>
		&eacute;rt&eacute;k&eacute;vel.  Ha nem adjuk meg a
		<replaceable>sz&aacute;mot</replaceable>, akkor ennek
		&eacute;rt&eacute;ke 8 lesz.  Ez a
		be&aacute;ll&iacute;t&aacute;s csak bizonyos
		konverzi&oacute;s sz&#251;r&#245;kkel
		m&#251;k&ouml;dik.</para>

	      <note>
		<para>Ne hagyjunk helyet az <option>-i</option>
		  &eacute;s a sz&aacute;m k&ouml;z&ouml;tt.</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-l</option></term>
	    <listitem>
	      <para>A sz&ouml;veg form&aacute;z&aacute;s
		n&eacute;lk&uuml;li nyomtat&aacute;sa,
		vez&eacute;rl&#245;karakterekkel egy&uuml;tt.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-n</option></term>
	    <listitem>
	      <para>Ditroff (eszk&ouml;zf&uuml;ggetlen troff) adat
		nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-p</term>
	    <listitem>
	      <para>Nyomtat&aacute;s el&#245;tt a sz&ouml;veg
		form&aacute;z&aacute;sa a &man.pr.1; programmal.
		L&aacute;sd &man.pr.1;.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-T
	      <replaceable>c&iacute;m</replaceable></option></term>
	    <listitem>
	      <para>Az &aacute;llom&aacute;ny neve helyett a
		fejl&eacute;cben a <replaceable>c&iacute;met</replaceable>
		jelen&iacute;ti meg a &man.pr.1;.  Ennek a
		be&aacute;ll&iacute;t&aacute;snak csak a
		<option>-p</option> opci&oacute;val egy&uuml;tt van
		hat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-t</option></term>
	    <listitem>
	      <para>Troff adat nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><option>-v</option></term>
	    <listitem>
	      <para>Raszteres adatok nyomtat&aacute;sa.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>Vegy&uuml;nk az im&eacute;ntiekre egy
	  p&eacute;ld&aacute;t.  A k&ouml;vetkez&#245; parancs az
	  &man.ls.1; sz&eacute;pen megform&aacute;zott man
	  oldal&aacute;t nyomtatja ki az alap&eacute;rtelmezett
	  nyomtat&oacute;n:</para>

	<screen>&prompt.user; <userinput><command>zcat <filename>/usr/share/man/man1/ls.1.gz</filename> | troff <option>-t</option> -man | lpr <option>-t</option></command></userinput></screen>

	<para>A &man.zcat.1; kit&ouml;m&ouml;r&iacute;ti az &man.ls.1;
	  man oldal&aacute;nak forr&aacute;s&aacute;t &eacute;s
	  &aacute;tadja a &man.troff.1; parancsnak, ami ebb&#245;l
	  l&eacute;trehoz a GNU troff form&aacute;tum&aacute;nak
	  megfelel&#245; kimenetet &eacute;s tov&aacute;bbadja az
	  &man.lpr.1; parancsnak, ami v&eacute;g&uuml;l elk&uuml;ldi a
	  munk&aacute;t az <application>LPD</application>
	  nyomtat&aacute;si rendszernek.  Mivel az &man.lpr.1;
	  parancsnak megadtuk az <option>-t</option> kapcsol&oacute;t, a
	  nyomtat&aacute;si rendszer a GNU troff form&aacute;tumban
	  &eacute;rkez&#245; adatokat mag&aacute;t&oacute;l &aacute;t
	  fogja alak&iacute;tani olyan form&aacute;tumra, amit a
	  nyomtat&oacute; is k&eacute;pes lesz meg&eacute;rteni.</para>

      </sect3>

      <sect3 id="printing-lpr-options-job-handling">
	<title>Munk&aacute;k kezel&eacute;se</title>

	<para>Az &man.lpr.1; most felsoroland&oacute;
	  be&aacute;ll&iacute;t&aacute;saival az
	  <application>LPD</application> rendszert arra tudjuk
	  utas&iacute;tani, hogy a munk&aacute;t k&uuml;l&ouml;nleges
	  m&oacute;don kezelje:</para>

	<variablelist>
	  <varlistentry>
	    <term>-#
	      <replaceable>p&eacute;ld&aacute;nysz&aacute;m</replaceable></term>
	    <listitem>
	      <para>Egyetlen p&eacute;ld&aacute;ny helyett hozzon
		l&eacute;tre
		<replaceable>p&eacute;ld&aacute;nysz&aacute;m</replaceable>
		sz&aacute;m&uacute; p&eacute;ld&aacute;nyt a
		munk&aacute;ban tal&aacute;lhat&oacute; &ouml;sszes
		&aacute;llom&aacute;nyb&oacute;l.  A rendszergazda a
		nyomtat&oacute; k&iacute;m&eacute;l&eacute;se
		&eacute;rdek&eacute;ben ezt a lehet&#245;s&eacute;get
		letilthatja, amivel ink&aacute;bb a
		f&eacute;nym&aacute;sol&oacute;
		haszn&aacute;lat&aacute;ra &ouml;szt&ouml;nzi a
		felhaszn&aacute;l&oacute;kat.  L&aacute;sd <link
		linkend="printing-advanced-restricting-copies">A
		m&aacute;solatok sz&aacute;m&aacute;nak
		szab&aacute;lyoz&aacute;sa</link> szakasz.</para>

	      <para>A be&aacute;ll&iacute;t&aacute;s
		illusztr&aacute;l&aacute;sak&eacute;nt most az
		alap&eacute;rtelmezett nyomtat&oacute;n
		el&#245;sz&ouml;r nyomtassuk ki h&aacute;rom
		p&eacute;ld&aacute;nyt a
		<filename><replaceable>parser.c</replaceable></filename>,
		majd ezut&aacute;n a
		<filename><replaceable>parser.h</replaceable></filename>
		&aacute;llom&aacute;nyokb&oacute;l:</para>

	      <screen>&prompt.user; <userinput><command>lpr <option>-#3</option> <filename><replaceable>parser.c parser.h</replaceable></filename></command></userinput></screen>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-m</term>
	    <listitem>
	      <para>A rendszer k&uuml;ldj&ouml;n levelet a munka
		teljes&iacute;t&eacute;se ut&aacute;n.  Ekkor az
		<application>LPD</application> a munka
		elv&eacute;gz&eacute;se ut&aacute;n levelet k&uuml;ld a
		helyi postafi&oacute;kunkba.  A lev&eacute;lben kifejti,
		hogy sikeres volt-e a nyomtat&aacute;s, vagy esetleg
		valamilyen hiba keletkezett, &eacute;s ha hiba
		t&ouml;rt&eacute;nt, akkor pontosan mi is volt
		az.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-s</term>
	    <listitem>
	      <para>Ne m&aacute;solja k&ouml;zvetlen&uuml;l az
		&aacute;llom&aacute;nyokat a nyomtat&aacute;si
		k&ouml;nyvt&aacute;rba, hanem k&eacute;sz&iacute;tsen
		hozz&aacute;juk szimbolikus linkeket.</para>

	      <para>Egy nagyobb munka nyomtat&aacute;sa eset&eacute;n
		javasolt haszn&aacute;lni ezt a kapcsol&oacute;t.  Ezzel
		a megold&aacute;ssal helyet tudunk sp&oacute;rolni a
		nyomtat&aacute;si k&ouml;nyvt&aacute;rban (amikor a
		munk&aacute;nk k&ouml;nnyen megtel&iacute;theti a
		nyomtat&aacute;si k&ouml;nyvt&aacute;rat
		t&aacute;rol&oacute; &aacute;llom&aacute;nyrendszert).
		Emellett id&#245;t is takar&iacute;tunk meg, mivel az
		<application>LPD</application>-nek nem kell a munka
		minden egyes bitj&eacute;t &aacute;tm&aacute;solni a
		nyomtat&aacute;si k&ouml;nyvt&aacute;rba.</para>

	      <para>Van azonban egy h&aacute;tr&aacute;nya: mivel az
		<application>LPD</application> ekkor
		k&ouml;zvetlen&uuml;l az eredeti
		&aacute;llom&aacute;nyra fog hivatkozni, ez&eacute;rt a
		nyomtat&aacute;s befejez&eacute;s&eacute;ig azt nem
		m&oacute;dos&iacute;thatjuk vagy
		t&ouml;r&ouml;lhetj&uuml;k.</para>

	      <note>
		<para>Ha egy t&aacute;voli nyomtat&oacute;nak
		  k&uuml;ldj&uuml;k a munk&aacute;t, akkor az
		  <application>LPD</application> a helyi &eacute;s a
		  t&aacute;voli sz&aacute;m&iacute;t&oacute;g&eacute;p
		  k&ouml;z&ouml;tt m&eacute;gis k&eacute;nytelen lesz
		  &aacute;tm&aacute;solni a munk&aacute;t, &iacute;gy a
		  <option>-s</option> kapcsol&oacute; egyed&uuml;l csak
		  a helyi nyomtat&aacute;si k&ouml;nyvt&aacute;rban fog
		  helyet sp&oacute;rolni.  Ett&#245;l eltekintve
		  m&eacute;g ilyenkor is hasznunkra
		  v&aacute;lhat.</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-r</term>
	    <listitem>
	      <para>T&ouml;r&ouml;lje a munk&aacute;ban szerepl&#245;
		&aacute;llom&aacute;nyokat, miut&aacute;n
		&aacute;tm&aacute;solta ezeket a nyomtat&aacute;si
		k&ouml;nyvt&aacute;rba, vagy miut&aacute;n a
		<option>-s</option> kapcsol&oacute;
		haszn&aacute;lat&aacute;val kinyomtatta ezeket.  Nagy
		k&ouml;r&uuml;ltekint&eacute;ssel
		haszn&aacute;ljuk!</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>

      <sect3 id="printing-lpr-options-misc">
	<title>A fejl&eacute;clapok
	  be&aacute;ll&iacute;t&aacute;sai</title>

	<para>Az &man.lpr.1; most k&ouml;vetkez&#245;
	  be&aacute;ll&iacute;t&aacute;sai a munk&aacute;k
	  fejl&eacute;c&eacute;ben megjelen&#245; sz&ouml;vegekre vannak
	  hat&aacute;ssal.  &Iacute;gy ha letiltottuk a
	  fejl&eacute;clapok haszn&aacute;lat&aacute;t, akkor ezek a
	  kapcsol&oacute;k l&eacute;nyeg&eacute;ben semmit sem
	  &aacute;ll&iacute;tanak.  A <link
	  linkend="printing-advanced-header-pages">Fejl&eacute;clapok</link>
	  c&iacute;m&#251; szakaszb&oacute;l tudhatunk meg t&ouml;bbet
	  ezek be&aacute;ll&iacute;t&aacute;s&aacute;r&oacute;l.</para>

	<variablelist>
	  <varlistentry>
	    <term>-C <replaceable>sz&ouml;veg</replaceable></term>
	    <listitem>
	      <para>A fejl&eacute;clapon megjelen&#245;
		h&aacute;l&oacute;zati n&eacute;v helyett a
		<replaceable>sz&ouml;veg</replaceable> fog szerepelni.
		A h&aacute;l&oacute;zati n&eacute;v
		&aacute;ltal&aacute;ban annak a g&eacute;pnek a neve,
		ahonnan a munk&aacute;t k&uuml;ldt&eacute;k.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-J <replaceable>sz&ouml;veg</replaceable></term>
	    <listitem>
	      <para>A fejl&eacute;clapon megjelen&#245; munka neve
		helyett a <replaceable>sz&ouml;veg</replaceable> fog
		megjelenni.  A munka neve &aacute;ltal&aacute;ban a
		benne szerepl&#245; els&#245; &aacute;llom&aacute;ny
		nev&eacute;vel egyezik meg, ha a szabv&aacute;nyos
		bemenetr&#245;l nyomtatunk, akkor egyszer&#251;en csak
		<filename>stdin</filename>.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>-h</term>
	    <listitem>
	      <para>Ne nyomtasson fejl&eacute;clapot.</para>

	      <note>
		<para>Bizonyos helyeken el&#245;fordulhat, hogy ennek a
		  kapcsol&oacute;nak nincs semmilyen hat&aacute;sa a
		  fejl&eacute;clapok l&eacute;trehoz&aacute;s&aacute;nak
		  m&oacute;dszer&eacute;b&#245;l fakad&oacute;an.  A
		  r&eacute;szleteket l&aacute;sd a <link
		  linkend="printing-advanced-header-pages">
		  Fejl&eacute;clapok</link> szakaszban.</para>
	      </note>
	    </listitem>
	  </varlistentry>
	</variablelist>

      </sect3>
    </sect2>

    <sect2 id="printing-lpc">
      <title>A nyomtat&oacute;k vez&eacute;rl&eacute;se</title>

      <para>A nyomtat&oacute;ink rendszergazd&aacute;jak&eacute;nt
	nek&uuml;nk kell telep&iacute;ten&uuml;k, &uuml;zembe
	helyezn&uuml;nk &eacute;s kipr&oacute;b&aacute;lnunk ezeket.  Az
	&man.lpc.8; parancs haszn&aacute;lat&aacute;val m&eacute;g
	jobban k&eacute;pesek vagyunk kapcsolatba l&eacute;pni
	vel&uuml;k.  Az &man.lpc.8; paranccsal:</para>

      <itemizedlist>
	<listitem>
	  <para>el tudjuk ind&iacute;tani &eacute;s le tudjuk
	    &aacute;ll&iacute;tani a nyomtat&oacute;kat;</para>
	</listitem>

	<listitem>
	  <para>be- &eacute;s ki tudjuk kapcsolni a nyomtat&aacute;si
	    soraikat;</para>
	</listitem>

	<listitem>
	  <para>&aacute;t tudjuk rendezni az egyes sorokban
	    tal&aacute;lhat&oacute; munk&aacute;kat.</para>
	</listitem>
      </itemizedlist>

      <para>El&#245;sz&ouml;r is essen p&aacute;r a fogalmakr&oacute;l:
	ha a nyomtat&oacute; <emphasis>le&aacute;llt</emphasis>, akkor
	semmit sem fog kinyomtatni a sor&aacute;b&oacute;l.  A
	felhaszn&aacute;l&oacute;k tov&aacute;bbra is k&eacute;pesek
	munk&aacute;kat k&uuml;ldeni, amik azonban eg&eacute;szen addig
	fognak v&aacute;rakozni, am&iacute;g a nyomtat&oacute;t
	<emphasis>el nem ind&iacute;tjuk</emphasis> vagy a sor&aacute;t
	ki nem &uuml;r&iacute;tj&uuml;k.</para>

      <para>Ha egy sort <emphasis>kikapcsolunk</emphasis>, akkor (a
	<username>root</username> kiv&eacute;tel&eacute;vel) egyetlen
	felhaszn&aacute;l&oacute; sem k&eacute;pes munk&aacute;kat
	k&uuml;ldeni a nyomtat&oacute;nak.  A
	<emphasis>bekapcsolt</emphasis> sorok k&eacute;pesek csak
	munk&aacute;t fogadni.  A nyomtat&oacute;
	<emphasis>elind&iacute;that&oacute;</emphasis> kikapcsolt sorral
	is, ilyenkor eg&eacute;szen addig folytatja a munk&aacute;k
	kinyomtat&aacute;s&aacute;t, am&iacute;g a sor ki nem
	&uuml;r&uuml;l.</para>

      <para>&Aacute;ltal&aacute;nosan elmondhat&oacute;, hogy az
	&man.lpc.8; parancs haszn&aacute;lat&aacute;hoz a
	<username>root</username> felhaszn&aacute;l&oacute;
	jogosults&aacute;gaira van sz&uuml;ks&eacute;g&uuml;nk.  Az
	&man.lpc.8; parancsot minden m&aacute;s esetben csak a
	nyomtat&oacute; &aacute;llapot&aacute;nak
	ellen&#245;rz&eacute;s&eacute;re vagy a megakadt nyomtat&oacute;
	&uacute;jraind&iacute;t&aacute;s&aacute;ra
	haszn&aacute;lhatjuk.</para>

      <para>Foglaljuk r&ouml;viden &ouml;ssze az &man.lpc.8; parancsait.
	A legt&ouml;bb parancs kiad&aacute;s&aacute;hoz m&eacute;g
	sz&uuml;ks&eacute;ges egy
	<replaceable>nyomtat&oacute;n&eacute;v</replaceable>
	param&eacute;ter megad&aacute;sa is, amivel megnevezz&uuml;k az
	utas&iacute;tani k&iacute;v&aacute;nt nyomtat&oacute;t.
	Helyette haszn&aacute;lhat&oacute; az <literal>all</literal>
	sz&oacute; is, amivel az <filename>/etc/printcap</filename>
	&aacute;llom&aacute;nyban szerepl&#245; &ouml;sszes
	nyomtat&oacute;t egyszerre utas&iacute;thatjuk.</para>

      <variablelist>
	<varlistentry>
	  <term><command>abort
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Az aktu&aacute;lis munka megszak&iacute;t&aacute;sa
	      &eacute;s a nyomtat&oacute;
	      le&aacute;ll&iacute;t&aacute;sa.  Ha a nyomtat&aacute;si
	      sort m&eacute;g nem kapcsoltuk ki, a
	      felhaszn&aacute;l&oacute;k k&uuml;ldhetnek tov&aacute;bbi
	      munk&aacute;kat.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>clean
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>A nyomtat&oacute;
	      k&ouml;nyvt&aacute;r&aacute;b&oacute;l
	      t&ouml;r&ouml;lj&uuml;k a r&eacute;gi
	      &aacute;llom&aacute;nyokat.  Esetenk&eacute;nt
	      ad&oacute;dhat, hogy bizonyos munk&aacute;k
	      &aacute;llom&aacute;nyait nem takar&iacute;totta el az
	      <application>LPD</application>, k&uuml;l&ouml;n&ouml;sen
	      abban az esetben, amikor a nyomtat&aacute;s vagy az
	      adminisztr&aacute;l&aacute;s sor&aacute;n keletkezett
	      valamilyen hiba.  Ez a parancs seg&iacute;t
	      megtal&aacute;lni a nyomtat&aacute;si
	      k&ouml;nyvt&aacute;rb&oacute;l m&aacute;r kikopott
	      &aacute;llom&aacute;nyokat &eacute;s t&ouml;rli
	      ezeket.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>disable
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Az &uacute;jonnan &eacute;rkez&#245; munk&aacute;k
	      besorol&aacute;s&aacute;nak kikapcsol&aacute;sa.  Ha a
	      nyomtat&oacute; m&eacute;g m&#251;k&ouml;dik, akkor
	      folytatni fogja a sorban m&eacute;g bennmaradt
	      munk&aacute;k nyomtat&aacute;s&aacute;t.  A rendszergazda
	      (a <username>root</username>) m&eacute;g a kikapcsolt
	      sorok eset&eacute;n is k&uuml;ldhet
	      munk&aacute;kat.</para>

	    <para>Ez a parancs val&oacute;j&aacute;ban akkor hasznos, ha
	      egy &uacute;j nyomtat&oacute; vagy egy &uacute;j
	      sz&#251;r&#245; m&#251;k&ouml;d&eacute;s&eacute;t
	      pr&oacute;b&aacute;lgatjuk: ilyenkor &eacute;rdemes
	      kikapcsolni a nyomtat&aacute;si sort &eacute;s
	      <username>root</username>
	      felhaszn&aacute;l&oacute;k&eacute;nt munk&aacute;kat
	      k&uuml;ldeni.  A t&ouml;bbi felhaszn&aacute;l&oacute; a
	      tesztel&eacute;s befejez&eacute;s&eacute;ig nem tud majd
	      munk&aacute;kat k&uuml;ldeni, vagyis eg&eacute;szen addig,
	      am&iacute;g a nyomtat&aacute;si sort vissza nem kapcsoljuk
	      az <command>enable</command> paranccsal.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>down
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable>
	    <replaceable>&uuml;zenet</replaceable></command></term>
	  <listitem>
	    <para>A nyomtat&oacute; &uuml;zemen k&iacute;v&uuml;l
	      helyez&eacute;se.  L&eacute;nyeg&eacute;ben megegyezik egy
	      <command>disable</command> &eacute;s ut&aacute;na egy
	      <command>stop</command> parancs kiad&aacute;s&aacute;val.
	      Az <replaceable>&uuml;zenet</replaceable> akkor jelenik
	      meg, amikor a valaki megpr&oacute;b&aacute;lja
	      lek&eacute;rdezni a nyomtat&oacute;
	      &aacute;llapot&aacute;t az <command>lpc status</command>
	      paranccsal, vagy amikor megn&eacute;zi a nyomtat&aacute;si
	      sor&aacute;t az &man.lpq.1; paranccsal.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>enable
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>A nyomtat&oacute;hoz tartoz&oacute; nyomtat&aacute;si
	      sor bekapcsol&aacute;sa.  A felhaszn&aacute;l&oacute;k
	      ezut&aacute;n m&aacute;r k&eacute;pesek lesznek a
	      nyomtat&oacute;nak munk&aacute;kat k&uuml;ldeni, azonban
	      eg&eacute;szen addig nem nyomtat&oacute;dik ki semmi,
	      am&iacute;g a nyomtat&oacute; el nem
	      ind&iacute;tjuk.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>help
	    <replaceable>parancsn&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Megmutatja a
	      <replaceable>parancsn&eacute;v</replaceable> parancshoz
	      tartoz&oacute; s&uacute;g&oacute;t.  A
	      <replaceable>parancsn&eacute;v</replaceable>
	      megad&aacute;sa n&eacute;lk&uuml;l a rendelkez&eacute;sre
	      &aacute;ll&oacute; parancsok list&aacute;j&aacute;t kapjuk
	      meg.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>restart
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Elind&iacute;tja a nyomtat&oacute;t.  A
	      felhaszn&aacute;l&oacute;k ezt a parancsot tudj&aacute;k
	      haszn&aacute;lni abban az esetben, amikor valamilyen
	      megmagyar&aacute;zhatatlan okb&oacute;l az
	      <application>LPD</application> m&#251;k&ouml;d&eacute;se
	      meg&aacute;ll, viszont ezzel nem tudj&aacute;k
	      elind&iacute;tani a <command>stop</command> vagy
	      <command>down</command> parancsokkal
	      le&aacute;ll&iacute;tott nyomtat&oacute;t.  A
	      <command>restart</command> parancs megegyezik az
	      <command>abort</command> &eacute;s a
	      <command>start</command> egym&aacute;s ut&aacute;ni
	      kiad&aacute;s&aacute;val.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>start
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Elind&iacute;tja a nyomtat&oacute;t, &eacute;s a
	      nyomtat&oacute; nekil&aacute;t kinyomtatni a
	      sor&aacute;ban lev&#245; munk&aacute;kat.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>stop
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>Le&aacute;ll&iacute;tja a nyomtat&oacute;t, &eacute;s
	      a nyomtat&oacute; az aktu&aacute;lis munka
	      befejez&eacute;se ut&aacute;n m&aacute;r nem kezd neki
	      &uacute;jabbnak.  Ett&#245;l f&uuml;ggetlen&uuml;l a
	      felhaszn&aacute;l&oacute;k m&eacute;g tov&aacute;bbra is
	      k&eacute;pesek munk&aacute;kat k&uuml;ldeni a
	      nyomtat&aacute;si sor&aacute;ba.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>topq
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable>
	    <replaceable>munka-vagy-felhaszn&aacute;l&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>&Aacute;trendezi a
	      <replaceable>nyomtat&oacute;n&eacute;v</replaceable>
	      nev&#251; nyomtat&oacute; sor&aacute;t &uacute;gy, hogy a
	      megadott azonos&iacute;t&oacute;j&uacute;
	      <replaceable>munk&aacute;t</replaceable> vagy a megadott
	      <replaceable>felhaszn&aacute;l&oacute;n&eacute;vhez</replaceable>
	      tartoz&oacute; munk&aacute;kat a sor elej&eacute;re teszi.
	      Enn&eacute;l a parancsn&aacute;l
	      <replaceable>nyomtat&oacute;n&eacute;vnek</replaceable>
	      nem adhatjuk meg az <literal>all</literal>
	      &eacute;rt&eacute;ket.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><command>up
	    <replaceable>nyomtat&oacute;n&eacute;v</replaceable></command></term>
	  <listitem>
	    <para>&Uuml;zembe helyezi a nyomtat&oacute;t,
	      tulajdonk&eacute;ppen a <command>down</command> parancs
	      ellent&eacute;te.  Megegyezik egy egym&aacute;s
	      ut&aacute;n kiadott <command>start</command> &eacute;s
	      <command>enable</command> paranccsal.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Az &man.lpc.8; a fenti parancsokat a parancssorb&oacute;l
	fogadja el.  Ha itt nem adunk meg neki semmilyen parancsot,
	akkor az &man.lpc.8; interakt&iacute;v m&oacute;dba v&aacute;lt,
	ahol ugyanezeket a parancsokat adhatjuk ki, eg&eacute;szen az
	<command>exit</command>, <command>quit</command> parancsok vagy
	az &aacute;llom&aacute;nyv&eacute;ge jelz&eacute;s
	beg&eacute;pel&eacute;s&eacute;ig.</para>

    </sect2>
  </sect1>

  <sect1 id="printing-lpd-alternatives">
    <title>M&aacute;s nyomtat&aacute;si rendszerek</title>

    <para>Ha derekasan v&eacute;gigolvastuk eddig ezt a fejezetet, akkor
      mostanra m&aacute;r val&oacute;sz&iacute;n&#251;leg mindent tudunk
      a &os;-ben tal&aacute;lhat&oacute; <application>LPD</application>
      nyomtat&aacute;si rendszerr&#245;l.  Ezzel egy&uuml;tt
      tiszt&aacute;ban vagyunk a hi&aacute;nyoss&aacute;gaival is,
      aminek kapcs&aacute;n term&eacute;szetes m&oacute;don
      felmer&uuml;lhet benn&uuml;nk a k&eacute;rd&eacute;s:
      <quote>Milyen m&aacute;s (&os;-vel is m&#251;k&ouml;dni
      k&eacute;pes) nyomtat&aacute;si rendszerek l&eacute;teznek
      m&eacute;g?</quote></para>

    <variablelist>
      <varlistentry>
	<term>LPRng</term>
	<indexterm><primary>LPRng</primary></indexterm>
	<listitem>
	  <para>Az <application>LPRng</application>, aminek
	    jelent&eacute;se <quote>LPR Next Generation</quote> (Az LPR
	    k&ouml;vetkez&#245; gener&aacute;ci&oacute;ja), a PLP
	    teljesen &uacute;jra&iacute;rt v&aacute;ltozata.  Patrick
	    Powell &eacute;s Justin Mason (a PLP eredeti
	    karbantart&oacute;ja) egy&uuml;ttes munk&aacute;j&aacute;nak
	    gy&uuml;m&ouml;lcse az <application>LPRng</application>.  Az
	    <application>LPRng</application> honlapja: <ulink
	    url="http://www.lprng.org/"></ulink>.</para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term>CUPS</term>
	<indexterm><primary>CUPS</primary></indexterm>
	<listitem>
	  <para>A <application>CUPS</application>, vagy m&aacute;s
	    n&eacute;ven a <quote>Common UNIX Printing System</quote>
	    (K&ouml;z&ouml;s &unix;-os nyomtat&aacute;si rendszer), egy
	    hordozhat&oacute; nyomtat&aacute;si r&eacute;teg
	    ny&uacute;jt a &unix;-alap&uacute; oper&aacute;ci&oacute;s
	    rendszerek sz&aacute;m&aacute;ra.  Az Easy Software Products
	    fejleszt&eacute;se &eacute;s szinte az &ouml;sszes &unix;
	    gy&aacute;rt&oacute; &eacute;s felhaszn&aacute;l&oacute;
	    szem&eacute;ben elfogadott szabv&aacute;nyos
	    nyomtat&aacute;si rendszer.</para>

	  <para>A <application>CUPS</application> a nyomtat&aacute;si
	    munk&aacute;k &eacute;s sorok kezel&eacute;s&eacute;t az
	    internetes nyomtat&aacute;si protokollon (Internet Printing
	    Protocol, <acronym>IPP</acronym>)
	    haszn&aacute;lat&aacute;val oldja meg.  Cs&ouml;kkentett
	    k&eacute;pess&eacute;gekkel ugyan, de a sornyomtat&oacute;
	    d&eacute;mon (Line Printer Daemon, <acronym>LPD</acronym>),
	    szerver&uuml;zenet-blokk (Server Message Block,
	    <acronym>SMB</acronym>), &eacute;s AppSocket (m&aacute;s
	    n&eacute;ven JetDirect) protokollokat is ismeri.  A CUPS a
	    komolyabb &unix;-os nyomtat&aacute;si feladatokhoz ezeken
	    fel&uuml;l m&eacute;g a h&aacute;l&oacute;zati
	    nyomtat&oacute;k k&ouml;zti v&aacute;laszt&aacute;st
	    &eacute;s PostScript nyomtat&oacute;k
	    le&iacute;r&aacute;s&aacute;n (PostScript Printer
	    Description, <acronym>PPD</acronym>) alapul&oacute;
	    nyomtat&aacute;si be&aacute;ll&iacute;t&aacute;sokat is
	    t&aacute;mogatja.</para>

	  <para>A <application>CUPS</application> honlapja: <ulink
	    url="http://www.cups.org/"></ulink>.</para>

	</listitem>
      </varlistentry>

      <varlistentry>
	<term>HPLIP</term>

	<indexterm><primary>HPLIP</primary></indexterm>

	<listitem>
	  <para>A <application>HPLIP</application>,
	    m&aacute;sn&eacute;ven HP &linux; Imaging and Printing, egy HP
	    &aacute;ltal kidolgozott programcsal&aacute;d, amely
	    t&aacute;mogatja a HP eszk&ouml;z&ouml;k nyomtat&aacute;si,
	    lapolvas&aacute;si &eacute;s faxol&aacute;si
	    lehet&#245;s&eacute;geit.  A benne tal&aacute;lhat&oacute;
	    programok bizonyos nyomtat&aacute;si feladatokhoz
	    backendk&eacute;nt a <application>CUPS</application>
	    nyomtat&aacute;si rendszert haszn&aacute;lj&aacute;k.</para>

	  <para>A <application>HPLIP</application> honlapja a <ulink
	      url="http://hplipopensource.com/hplip-web/index.html"></ulink>
	    c&iacute;men &eacute;rhet&#245; el.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 id="printing-troubleshooting">
    <title>Hibakeres&eacute;s</title>

    <para>Miut&aacute;n az &man.lptest.1; programmal
      elv&eacute;gezt&uuml;nk n&eacute;h&aacute;ny egyszer&#251;
      pr&oacute;b&aacute;t, a v&aacute;rt helyett a k&ouml;vetkez&#245;k
      egyik&eacute;t kaphatuk eredm&eacute;ny&uuml;l:</para>

    <variablelist>
      <varlistentry>
	<term>Egy kis id&#245; ut&aacute;n minden remek&uuml;l
	  m&#251;k&ouml;d&ouml;tt, vagy nem dobta ki az eg&eacute;sz
	  lapot.</term>
	<listitem>
	  <para>A nyomtat&oacute; nyomtatott egy keveset, azt&aacute;n
	    egy ideig csendben maradt &eacute;s nem csin&aacute;lt
	    semmit.  Ilyenkor a nyomtatnival&oacute;k
	    megjelen&eacute;s&eacute;hez minden bizonnyal meg kell
	    nyomnunk a nyomtat&oacute;n lev&#245; <quote>PRINT
	    REMAINING</quote> vagy <quote>FORM FEED</quote>
	    felirat&uacute; gombokat.</para>

	  <para>Ebben az esetben a nyomtat&oacute;
	    val&oacute;sz&iacute;n&#251;leg m&eacute;g arra v&aacute;rt,
	    hogy m&eacute;g a nyomtat&aacute;s megkezd&eacute;se
	    el&#245;tt &eacute;rkezik valamilyen tov&aacute;bbi adat.
	    Ett&#245;l a gondt&oacute;l &uacute;gy szabadulhatunk meg,
	    ha be&aacute;ll&iacute;tunk egy sz&ouml;vegsz&#251;r&#245;t,
	    amely minden (sz&uuml;ks&eacute;ges) esetben k&uuml;ld egy
	    <quote>FORM FEED</quote> (lapdob&aacute;s) jelz&eacute;st is
	    a nyomtat&oacute;nak.  Ez kell &aacute;ltal&aacute;ban
	    ahhoz, hogy a sz&ouml;veg a nyomtat&oacute; bels&#245;
	    puffer&eacute;ben megmaradt r&eacute;sze azonnal
	    kinyomtat&oacute;djon.  Akkor is a javunkra v&aacute;lhat
	    ez, ha minden egyes munk&aacute;t k&uuml;l&ouml;n lapon
	    akarunk kezdeni, mivel &iacute;gy a k&ouml;vetkez&#245;
	    munka sosem k&ouml;zvetlen&uuml;l ott kezd&#245;dik, ahol az
	    el&#245;z&#245; munka befejezte a nyomtat&aacute;st.</para>

	  <para>A <filename>/usr/local/libexec/if-simple</filename>
	    sz&#251;r&#245; helyett a k&ouml;vetkez&#245; szkript
	    haszn&aacute;lhat&aacute;val tudunk minden munka ut&aacute;n
	    elk&uuml;ldeni egy lapdob&aacute;st:</para>

	  <programlisting>#!/bin/sh
#
# if-simple - Egyszer&#251; lpd sz&ouml;vegsz&#251;r&#245;
# Helye: /usr/local/libexec/if-simple
#
# Egyszer&#251;en &aacute;tm&aacute;solja a szabv&aacute;ny bemenetet a szabv&aacute;ny kimenetre,
# &eacute;s figyelmen k&iacute;v&uuml;l hagyja az &ouml;sszes t&ouml;bbi param&eacute;tert.
# Minden nyomtat&aacute;si munka ut&aacute;n k&uuml;ld egy lapdob&aacute;st (\f).

/bin/cat &amp;&amp; printf "\f" &amp;&amp; exit 0
exit 2</programlisting>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><quote>L&eacute;pcs&#245;sen</quote> jelentek meg a
	  sorok.</term>
	<listitem>
	  <para>Ekkor a k&ouml;vetkez&#245;t l&aacute;tjuk a
	    lapon:</para>

	  <screen>!"#$%&amp;'()*+,-./01234
                "#$%&amp;'()*+,-./012345
                                 #$%&amp;'()*+,-./0123456</screen>

	  <indexterm><primary>MS-DOS</primary></indexterm>
	  <indexterm><primary>OS/2</primary></indexterm>
	  <indexterm><primary>ASCII</primary></indexterm>

	  <para>Az &uacute;n.
	    <emphasis>l&eacute;pcs&#245;hat&aacute;s</emphasis>
	    &aacute;ldozat&aacute;v&aacute; v&aacute;ltunk, amelyet a
	    sort&ouml;r&eacute;st jelz&#245; karakter elt&eacute;r&#245;
	    &eacute;rtelmez&eacute;sei okoznak.  A &unix;
	    st&iacute;lus&uacute; oper&aacute;ci&oacute;s rendszerek
	    erre mind&ouml;ssze egyetlen karaktert haszn&aacute;lnak: ez
	    a 10-es k&oacute;d&uacute; ASCII karakter (sordob&aacute;s,
	    Line Feed, LF).  Az &ms-dos;, &os2; &eacute;s m&aacute;sok
	    pedig k&eacute;t karakterrel oldj&aacute;k meg ezt a
	    feladatot: a 10-es <emphasis>&eacute;s</emphasis> 13-as
	    k&oacute;d&uacute; (kocsivissza, Carriage Return, CR) ASCII
	    karakterekkel.  A sort&ouml;r&eacute;sekn&eacute;l sok
	    nyomtat&oacute; az &ms-dos; szok&aacute;sait
	    k&ouml;veti.</para>

	  <para>Amikor a &os;-vel nyomtatunk, akkor csak egyetlen
	    karaktert haszn&aacute;lunk sort&ouml;r&eacute;sre.  Ennek
	    l&aacute;tt&aacute;n a nyomtat&oacute; l&eacute;pteti a
	    sort, azonban a fej v&iacute;zszintes
	    poz&iacute;ci&oacute;j&aacute;t nem v&aacute;ltoztatja meg a
	    k&ouml;vetkez&#245; sor nyomtat&aacute;s&aacute;nak
	    megkezd&eacute;sekor.  Erre lenne a kocsivissza karakter,
	    vagyis ennek hat&aacute;s&aacute;ra fogja a nyomtat&oacute;
	    a pap&iacute;r bal oldal&aacute;ra
	    vissza&aacute;ll&iacute;tani a k&ouml;vetkez&#245;
	    nyomtatand&oacute; karakter
	    poz&iacute;ci&oacute;j&aacute;t.</para>

	  <para>A &os; &iacute;gy szeretn&eacute; utas&iacute;tani a
	    nyomtat&oacute;t:</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <tbody>
		<row>
		  <entry>A nyomtat&oacute; kocsivissz&aacute;t
		    kap</entry>
		  <entry>A nyomtat&oacute; visszal&eacute;pteti a
		    poz&iacute;ci&oacute;t</entry>
		</row>

		<row>
		  <entry>A nyomtat&oacute; sordob&aacute;st kap</entry>
		  <entry>A nyomtat&oacute; &uacute;j sort kezd</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para>N&eacute;h&aacute;ny m&oacute;dszer ennek
	    kiv&aacute;lt&aacute;s&aacute;ra:</para>

	  <itemizedlist>
	    <listitem>
	      <para>A nyomtat&oacute;n tal&aacute;lhat&oacute;
		kapcsol&oacute;k vagy vez&eacute;rl&#245;panel
		seg&iacute;ts&eacute;g&eacute;vel
		pr&oacute;b&aacute;ljuk meg
		&aacute;t&aacute;ll&iacute;tani a
		vez&eacute;rl&#245;karakterek nyomtat&oacute; szerinti
		&eacute;rtelmez&eacute;s&eacute;t.  Keress&uuml;k meg a
		nyomtat&oacute; k&eacute;zik&ouml;nyv&eacute;ben, hogyan
		tudjuk ezt megcsin&aacute;lni.</para>

	      <note>
		<para>Ha a &os; mellett m&aacute;s
		  oper&aacute;ci&oacute;s rendszerekkel is
		  haszn&aacute;lni akarjuk a nyomtat&oacute;t, akkor
		  azok ind&iacute;t&aacute;sa el&#245;tt mindig
		  <emphasis>&aacute;t kell
		  &aacute;ll&iacute;tani</emphasis> a nyomtat&oacute;t a
		  megfelel&#245; &eacute;rtelmez&eacute;s
		  alkalmaz&aacute;s&aacute;ra.  Ilyenkor
		  val&oacute;sz&iacute;n&#251;leg a lentebb
		  szerepl&#245; megold&aacute;sokat
		  r&eacute;szes&iacute;tj&uuml;k majd ink&aacute;bb
		  el&#245;nyben.</para>
	      </note>
	    </listitem>

	    <listitem>
	      <para>&Aacute;ll&iacute;tsuk be &uacute;gy a &os; soros
		vonali meghajt&oacute;j&aacute;t, hogy
		mag&aacute;t&oacute;l alak&iacute;tsa &aacute;t az LF
		karaktereket CR+LF p&aacute;rokk&aacute;.
		Term&eacute;szetesen ez a megold&aacute;s
		<emphasis>csak</emphasis> a soros portra
		csatlakoz&oacute; nyomtat&oacute;k eset&eacute;ben
		m&#251;k&ouml;dhet.  Ehhez az
		<filename>/etc/printcap</filename>
		&aacute;llom&aacute;nyban a nyomtat&oacute;
		le&iacute;r&aacute;s&aacute;n&aacute;l az
		<literal>ms#</literal> tulajdons&aacute;gn&aacute;l
		adjuk meg az <literal>onlcr</literal>
		m&oacute;dot.</para>
	    </listitem>

	    <listitem>
	      <para>K&uuml;ldj&uuml;nk olyan
		<emphasis>k&oacute;dot</emphasis> a nyomtat&oacute;nak,
		amelynek hat&aacute;s&aacute;ra ideiglenesen
		m&aacute;shogy fogja kezelni az LF karaktereket.
		N&eacute;zz&uuml;k meg a nyomtat&oacute;hoz
		mell&eacute;kelt &uacute;tmutat&oacute;ban, hogy milyen
		k&oacute;dokat tudunk ilyen c&eacute;lra
		haszn&aacute;lni.  Ha tal&aacute;ltunk ilyen
		k&oacute;dot, akkor &iacute;rjuk &aacute;t &uacute;gy a
		hozz&aacute;tartoz&oacute; sz&ouml;vegsz&#251;r&#245;t,
		hogy a munk&aacute;k el&#245;tt mindig
		elk&uuml;ldj&uuml;k azt.</para>

	      <indexterm><primary>PCL</primary></indexterm>

	      <para>Most bemutatjuk egy olyan sz&ouml;vegsz&#251;r&#245;
		k&oacute;dj&aacute;t, amely a Hewlett-Packard PCL
		k&oacute;djait ismer&#245; nyomtat&oacute;khoz
		k&eacute;sz&uuml;lt.  Ebben a sz&#251;r&#245;ben
		el&#245;sz&ouml;r kiadjuk, hogy az LF karaktereket LF
		&eacute;s CR karakterek
		kombin&aacute;ci&oacute;j&aacute;nak tekintse a
		nyomtat&oacute;, majd elk&uuml;ldj&uuml;k mag&aacute;t a
		munk&aacute;t, &eacute;s a munka utols&oacute; lapja
		ut&aacute;n pedig elk&uuml;ld&uuml;nk egy
		lapdob&aacute;st.  Szinte az &ouml;sszes Hewlett Packard
		nyomtat&oacute;val m&#251;k&ouml;dnie kell.</para>

	      <programlisting>#!/bin/sh
#
# hpif - Egyszer&#251; lpd bemeneti sz&#251;r&#245; a HP-PCL alap&uacute; nyomtat&oacute;khoz
# Helye: /usr/local/libexec/hpif
#
# Egyszer&#251;en &aacute;tm&aacute;solja a szabv&aacute;ny kimenetet a szabv&aacute;ny bemenetre, &eacute;s
# figyelmen k&iacute;v&uuml;l hagyja a param&eacute;tereket. Elk&uuml;ldi a nyomtat&oacute;nak, hogy
# az LF karaktereket CR+LF-k&eacute;nt kezelje, majd a feladat befejezt&eacute;vel
# lapot dobat.

printf "\033&amp;k2G" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp; exit 0
exit 2</programlisting>

	      <para>P&eacute;ldak&eacute;nt megadjuk m&eacute;g az
		<hostid>orchid</hostid> nev&#251;
		sz&aacute;m&iacute;t&oacute;g&eacute;p
		<filename>/etc/printcap</filename>
		&aacute;llom&aacute;ny&aacute;t is.  Ebben egyetlen
		nyomtat&oacute; csatlakozik a p&aacute;rhuzamos portra,
		amelynek a t&iacute;pusa LaserJet 3Si &eacute;s a neve
		<literal>teak</literal>.  Az el&#245;bb bemutatott
		sz&ouml;vegsz&#251;r&#245;t haszn&aacute;lja:</para>

	      <programlisting>#
#  /etc/printcap (orchid)
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:sh:sd=<filename class="directory">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename>/usr/local/libexec/hpif</filename>:</programlisting>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Egym&aacute;sra &iacute;rja a sorokat.</term>
	<listitem>
	  <para>A nyomtat&oacute; nem l&eacute;pteti a sorokat,
	    ez&eacute;rt az &ouml;sszes sor egym&aacute;son jelenik
	    meg.</para>

	  <para>Ez pontosan a ritka <quote>ellent&eacute;te</quote> a
	    fentebb le&iacute;rt l&eacute;pcs&#245;hat&aacute;snak.  A
	    &os; &aacute;ltal sort&ouml;r&eacute;sre haszn&aacute;lt LF
	    karakterek valami&eacute;rt CR karakterekk&eacute;nt
	    viselkednek, ez&eacute;rt a nyomtat&oacute; nem sort
	    v&aacute;lt, hanem a lap bal sz&eacute;l&eacute;re
	    &aacute;ll&iacute;tja a fejet.</para>

	  <para>A nyomtat&oacute;n tal&aacute;lhat&oacute;
	    kapcsol&oacute;kkal vagy vez&eacute;rl&#245;panellel
	    &iacute;gy &aacute;ll&iacute;tsuk be az sordob&aacute;s
	    &eacute;s kocsivissza karakterek
	    &eacute;rtelmez&eacute;s&eacute;t:</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry>Amit a nyomtat&oacute; kap</entry>
		  <entry>Arra a nyomtat&oacute; nyomtat</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>CR</entry>
		  <entry>CR</entry>
		</row>

		<row>
		  <entry>LF</entry>
		  <entry>CR + LF</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>A nyomtat&oacute; elhagy karaktereket.</term>
	<listitem>
	  <para>Mik&ouml;zben nyomtatunk, a nyomtat&oacute; bizonyos
	    karaktereket nem hajland&oacute; megjelen&iacute;teni.  A
	    probl&eacute;ma enn&eacute;l nagyobb, ha a nyomtat&oacute;
	    m&#251;k&ouml;d&eacute;se k&ouml;zben egyre t&ouml;bb
	    &eacute;s t&ouml;bb karaktert hagy ki.</para>

	  <para>Itt az a gond, hogy a nyomtat&oacute; nem k&eacute;pes
	    tartani az iramot a sz&aacute;m&iacute;t&oacute;g&eacute;p
	    &aacute;ltal a soros vonalon &aacute;tk&uuml;ld&ouml;tt
	    adatok sebess&eacute;g&eacute;vel (ez a probl&eacute;ma nem
	    jelentkezhet a p&aacute;rhuzamos nyomtat&oacute;k
	    eset&eacute;n).  K&eacute;t m&oacute;don kerekedhet&uuml;nk
	    fel&uuml;l ezen:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Ha a nyomtat&oacute; ismeri a XON/XOFF
		t&iacute;pus&uacute;
		forgalomir&aacute;ny&iacute;t&aacute;st, akkor az
		<literal>ms#</literal> tulajdons&aacute;gn&aacute;l
		adjuk meg a &os; sz&aacute;m&aacute;ra az
		<literal>ixon</literal>
		be&aacute;ll&iacute;t&aacute;st.</para>
	    </listitem>

	    <listitem>
	      <para>Ha a nyomtat&oacute; ismeri a <quote>Request to Send
		/ Clear to Send</quote> alap&uacute; hardveres
		k&eacute;zfog&aacute;st (m&aacute;s n&eacute;ven
		<literal>RTS/CTS</literal>
		forgalomir&aacute;ny&iacute;t&aacute;st), akkor az
		<literal>ms#</literal> tulajdons&aacute;gn&aacute;l a
		<literal>crtscts</literal>
		be&aacute;ll&iacute;t&aacute;st adjuk meg.
		Gondoskodjunk r&oacute;la, hogy a
		sz&aacute;m&iacute;t&oacute;g&eacute;pet &eacute;s a
		nyomtat&oacute; &ouml;sszek&ouml;t&#245; k&aacute;bel
		meg tudjon majd b&iacute;rk&oacute;zni ezzel a
		t&iacute;pus&uacute;
		forgalomir&aacute;ny&iacute;t&aacute;ssal.</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Mindenf&eacute;le szemetet nyomtat.</term>
	<listitem>
	  <para>A nyomtat&oacute; nem a nyomtatni k&iacute;v&aacute;nt
	    sz&ouml;veget hozza l&eacute;tre, hanem &ouml;ssze-vissza
	    nyomtat.</para>

	  <para>Ez a soros nyomtat&oacute;k helytelen
	    kommunik&aacute;ci&oacute;s
	    be&aacute;ll&iacute;t&aacute;s&aacute;nak egy m&aacute;sik
	    jellemz&#245; t&uuml;nete.  Ellen&#245;rizz&uuml;k a
	    <literal>br</literal> tulajdons&aacute;gn&aacute;l megadott
	    adat&aacute;tviteli sebess&eacute;get &eacute;s az
	    <literal>ms#</literal> tulajdons&aacute;gn&aacute;l megadott
	    parit&aacute;si be&aacute;ll&iacute;t&aacute;sokat.
	    Egyeztess&uuml;k a nyomtat&oacute; saj&aacute;t &eacute;s az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyban
	    t&aacute;rolt be&aacute;ll&iacute;t&aacute;sait.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Semmi sem t&ouml;rt&eacute;nik.</term>

	<listitem>
	  <para>Ha semmi sem t&ouml;rt&eacute;nt, akkor a gond
	    mag&aacute;val a &os;-vel lehet, nem pedig a hardverrel.  Az
	    <filename>/etc/printcap</filename> &aacute;llom&aacute;nyba
	    a vizsg&aacute;lni k&iacute;v&aacute;nt nyomtat&oacute;
	    le&iacute;r&aacute;s&aacute;hoz (az <literal>lf</literal>
	    tulajdons&aacute;ggal) illessz&uuml;nk be
	    napl&oacute;z&aacute;st.  P&eacute;ld&aacute;ul &iacute;gy
	    fog kin&eacute;zni a <literal>rattan</literal> nev&#251;
	    nyomtat&oacute; bejegyz&eacute;se az <literal>lf</literal>
	    tulajdons&aacute;g megad&aacute;s&aacute;val
	    kib&#245;v&iacute;tve:</para>

	  <programlisting>rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename class="directory">/var/spool/lpd/rattan</filename>:\
        :lp=<filename class="devicefile">/dev/lpt0</filename>:\
        :if=<filename>/usr/local/libexec/if-simple</filename>:\
        :lf=<filename>/var/log/rattan.log</filename></programlisting>

	  <para>Miut&aacute;n ezt megcsin&aacute;ltuk,
	    pr&oacute;b&aacute;lkozzunk &uacute;jra.  N&eacute;zz&uuml;k
	    meg a napl&oacute;&aacute;llom&aacute;nyban (ami a
	    p&eacute;ld&aacute;nkban a
	    <filename>/var/log/rattan.log</filename> nev&eacute;n
	    &eacute;rhet&#245; el), hogy l&aacute;tunk-e valamilyen
	    hiba&uuml;zenetet.  Az itt tapasztalt hiba&uuml;zenetek
	    nyom&aacute;n elindulva igyekezz&uuml;nk megsz&uuml;ntetni a
	    probl&eacute;ma forr&aacute;s&aacute;t.</para>

	  <para>Ha nem adjuk meg az <literal>lf</literal>
	    tulajdons&aacute;got, akkor az
	    <application>LPD</application> erre a c&eacute;lra
	    alap&eacute;rtelmez&eacute;s szerint a <filename
	    class="devicefile">/dev/console</filename>
	    &aacute;llom&aacute;nyt haszn&aacute;lja.</para>
	</listitem>
      </varlistentry>
    </variablelist>

  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->


