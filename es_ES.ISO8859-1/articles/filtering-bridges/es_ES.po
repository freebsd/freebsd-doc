# Sergio Carlavilla <carlavilla@mailbox.org>, 2019. #zanata
# Sergio Carlavilla <carlavilla@FreeBSD.org>, 2019, 2020.
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2020-03-19 10:02+0100\n"
"PO-Revision-Date: 2020-03-18 16:14+0000\n"
"Last-Translator: Sergio Carlavilla <carlavilla@FreeBSD.org>\n"
"Language-Team: Spanish <https://translate-dev.freebsd.org/projects/freebsd-"
"doc/articles_filtering-bridge/es/>\n"
"Language: es_ES\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n != 1;\n"
"X-Generator: Weblate 3.11.2\n"

#. Put one translator per line, in the form NAME <EMAIL>, YEAR1, YEAR2
msgctxt "_"
msgid "translator-credits"
msgstr "Sergio Carlavilla carlavilla@FreeBSD.org, 2020"

#. (itstool) path: info/title
#: article.translate.xml:4
msgid "Filtering Bridges"
msgstr "Filtering Bridges"

#. (itstool) path: affiliation/address
#: article.translate.xml:9
#, no-wrap
msgid "<email>ale@FreeBSD.org</email>"
msgstr "<email>ale@FreeBSD.org</email>"

#. (itstool) path: authorgroup/author
#: article.translate.xml:8
msgid ""
"<personname><firstname>Alex</firstname><surname>Dupre</surname></"
"personname><affiliation> <_:address-1/> </affiliation>"
msgstr ""
"<personname><firstname>Alex</firstname><surname>Dupre</surname></"
"personname><affiliation> <_:address-1/> </affiliation>"

#. (itstool) path: legalnotice/para
#: article.translate.xml:14
msgid "FreeBSD is a registered trademark of the FreeBSD Foundation."
msgstr "FreeBSD is a registered trademark of the FreeBSD Foundation."

#. (itstool) path: legalnotice/para
#: article.translate.xml:16
msgid "3Com and HomeConnect are registered trademarks of 3Com Corporation."
msgstr "3Com and HomeConnect are registered trademarks of 3Com Corporation."

#. (itstool) path: legalnotice/para
#: article.translate.xml:18
msgid ""
"Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, "
"and Xeon are trademarks or registered trademarks of Intel Corporation or its "
"subsidiaries in the United States and other countries."
msgstr ""
"Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, "
"and Xeon are trademarks or registered trademarks of Intel Corporation or its "
"subsidiaries in the United States and other countries."

#. (itstool) path: legalnotice/para
#: article.translate.xml:22
msgid ""
"Many of the designations used by manufacturers and sellers to distinguish "
"their products are claimed as trademarks. Where those designations appear in "
"this document, and the FreeBSD Project was aware of the trademark claim, the "
"designations have been followed by the <quote>™</quote> or the <quote>®</"
"quote> symbol."
msgstr ""
"Many of the designations used by manufacturers and sellers to distinguish "
"their products are claimed as trademarks. Where those designations appear in "
"this document, and the FreeBSD Project was aware of the trademark claim, the "
"designations have been followed by the <quote>™</quote> or the <quote>®</"
"quote> symbol."

#. (itstool) path: info/pubdate
#. (itstool) path: info/releaseinfo
#: article.translate.xml:30 article.translate.xml:32
msgid ""
"$FreeBSD: head/en_US.ISO8859-1/articles/filtering-bridges/article.xml 53717 "
"2019-12-29 14:13:50Z carlavilla $"
msgstr "$FreeBSD$"

#. (itstool) path: abstract/para
#: article.translate.xml:35
msgid ""
"Often it is useful to divide one physical network (like an Ethernet) into "
"two separate segments without having to create subnets, and use a router to "
"link them together. The device that connects the two networks in this way is "
"called a bridge. A FreeBSD system with two network interfaces is enough in "
"order to act as a bridge."
msgstr ""
"A menudo es útil dividir una red física (por ejemplo una Ethernet) en dos "
"segmentos separados sin tener que crear subredes y usar un router para "
"vincularlas. El dispositivo que conecta las dos redes se llama bridge. Un "
"sistema FreeBSD con dos interfaces de red es suficiente para actuar como "
"bridge."

#. (itstool) path: abstract/para
#: article.translate.xml:41
msgid ""
"A bridge works by scanning the addresses of <acronym>MAC</acronym> level "
"(Ethernet addresses) of the devices connected to each of its network "
"interfaces and then forwarding the traffic between the two networks only if "
"the source and the destination are on different segments. Under many points "
"of view a bridge is similar to an Ethernet switch with only two ports."
msgstr ""
"Un bridge funciona escaneando las direcciones del nivel <acronym>MAC</"
"acronym> (direcciones Ethernet) de los dispositivos conectados a cada una de "
"sus interfaces de red y luego reenvía el tráfico entre las dos redes solo si "
"la fuente y el destino están en diferentes segmentos. En muchos aspectos, un "
"bridge es similar a un switch de Ethernet con solo dos puertos."

#. (itstool) path: sect1/title
#: article.translate.xml:51
msgid "Why use a filtering bridge?"
msgstr "¿Por qué utilizar un bridge que haga filtrado?"

#. (itstool) path: sect1/para
#: article.translate.xml:53
msgid ""
"More and more frequently, thanks to the lowering costs of broad band "
"Internet connections (xDSL) and also because of the reduction of available "
"IPv4 addresses, many companies are connected to the Internet 24 hours on 24 "
"and with few (sometimes not even a power of 2) IP addresses. In these "
"situations it is often desirable to have a firewall that filters incoming "
"and outgoing traffic from and towards Internet, but a packet filtering "
"solution based on router may not be applicable, either due to subnetting "
"issues, the router is owned by the connectivity supplier (<acronym>ISP</"
"acronym>), or because it does not support such functionalities. In these "
"scenarios the use of a filtering bridge is highly advised."
msgstr ""
"Sucede con bastante frecuencia que, gracias a la reducción del coste de las "
"conexiones de banda ancha a Internet (xDSL) y a la reducción de las "
"direcciones IPv4 disponibles, muchas empresas están conectadas a Internet "
"las 24 horas del día y con pocas (a veces ni siquiera dos) direcciones IP. A "
"menudo en estas situaciones es necesario tener un firewall (también conocido "
"como cortafuegos) que filtre el tráfico entrante y saliente desde y hacia "
"Internet, pero una solución de filtrado de paquetes puede que no sea posible "
"posible, ya sea por problemas de subredes, porque el router sea de propiedad "
"del proveedor de servicios de internet (<acronym>ISP</acronym>), o porque no "
"admite tales funcionalidades. En escenarios como estos se recomienda el uso "
"de un brigde que realice el filtrado."

#. (itstool) path: sect1/para
#: article.translate.xml:65
msgid ""
"A bridge-based firewall can be configured and inserted between the xDSL "
"router and your Ethernet hub/switch without any IP numbering issues."
msgstr ""
"Una buena solución sería configurar un firewall basado en un bridge. Lo "
"instalaremos entre el router xDSL y su hub/switch Ethernet, evitando así "
"problemas de numeración IP."

#. (itstool) path: sect1/title
#: article.translate.xml:71
msgid "How to Install"
msgstr "Proceso de instalación"

#. (itstool) path: sect1/para
#: article.translate.xml:73
msgid ""
"Adding bridge functionalities to a FreeBSD system is not difficult. Since "
"4.5 release it is possible to load such functionalities as modules instead "
"of having to rebuild the kernel, simplifying the procedure a great deal. In "
"the following subsections I will explain both installation ways."
msgstr ""
"No es difícil añadir funcionalidades de brigde a un sistema FreeBSD. Desde "
"la versión 4.5 es posible cargar funcionalidades como módulos en lugar de "
"tener que volver a compilar el kernel, lo cual simplifica mucho el "
"procedimiento. En las siguientes subsecciones explicaré ambas formas de "
"instalación."

#. (itstool) path: important/para
#: article.translate.xml:80
msgid ""
"<emphasis>Do not</emphasis> follow both instructions: a procedure "
"<emphasis>excludes</emphasis> the other one. Select the best choice "
"according to your needs and abilities."
msgstr ""
"<emphasis>No</emphasis> siga ambas instrucciones: un procedimiento "
"<emphasis>excluye</emphasis> el otro. Seleccione la mejor opción de acuerdo "
"a sus necesidades y habilidades."

#. (itstool) path: sect1/para
#: article.translate.xml:85
msgid ""
"Before going on, be sure to have at least two Ethernet cards that support "
"the promiscuous mode for both reception and transmission, since they must be "
"able to send Ethernet packets with any address, not just their own. "
"Moreover, to have a good throughput, the cards should be PCI bus mastering "
"cards. The best choices are still the Intel <trademark>EtherExpress</"
"trademark> Pro, followed by the <trademark class=\"registered\">3Com</"
"trademark> 3c9xx series. To simplify the firewall configuration it may be "
"useful to have two cards of different manufacturers (using different "
"drivers) in order to distinguish clearly which interface is connected to the "
"router and which to the inner network."
msgstr ""
"Antes de continuar asegúrese de tener al menos dos tarjetas Ethernet que "
"admitan el modo promiscuo tanto para la recepción como para la transmisión, "
"ya que deben poder enviar paquetes Ethernet con cualquier dirección, no solo "
"la suya. Además, para tener una buena tasa de transferencia, las tarjetas "
"deben ser tarjetas del bus PCI. Las mejores opciones siguen siendo Intel "
"<trademark>EtherExpress</trademark> Pro, seguida de la <trademark class="
"\"registered\">3Com</trademark> 3c9xx series. Para simplificar la "
"configuración del firewall, puede ser útil tener dos tarjetas de diferentes "
"fabricantes (con diferentes controladores) para distinguir claramente qué "
"interfaz está conectada al router y cuál a la red interna."

#. (itstool) path: sect2/title
#: article.translate.xml:97
msgid "Kernel Configuration"
msgstr "Configuración del kernel"

#. (itstool) path: sect2/para
#: article.translate.xml:99
msgid ""
"So you have decided to use the older but well tested installation method. To "
"begin, you have to add the following rows to your kernel configuration file:"
msgstr ""
"Si sigue este método es porque ha decidido utilizar el método de instalación "
"más antiguo y también el que ha sido probado más. Para empezar, debe agregar "
"las siguientes líneas a su archivo de configuración del kernel:"

#. (itstool) path: sect2/programlisting
#: article.translate.xml:103
#, no-wrap
msgid ""
"options BRIDGE\n"
"options IPFIREWALL\n"
"options IPFIREWALL_VERBOSE"
msgstr ""
"options BRIDGE\n"
"options IPFIREWALL\n"
"options IPFIREWALL_VERBOSE"

#. (itstool) path: sect2/para
#: article.translate.xml:107
msgid ""
"The first line is to compile the bridge support, the second one is the "
"firewall and the third one is the logging functions of the firewall."
msgstr ""
"La primera línea añade el soporte para el bridge, la segunda añade la "
"compatibilidad con el firewall y la tercera se refiere a las funciones de "
"logging del firewall."

#. (itstool) path: sect2/para
#: article.translate.xml:111
msgid ""
"Now it is necessary to build and install the new kernel. You may find "
"detailed instructions in the <link xlink:href=\"@@URL_RELPREFIX@@/doc/en_US."
"ISO8859-1/books/handbook/kernelconfig-building.html\">Building and "
"Installing a Custom Kernel</link> section of the FreeBSD Handbook."
msgstr ""
"Ahora es necesario compilar e instalar el nuevo kernel. Puede encontrar "
"instrucciones detalladas en la sección <link xlink:href=\"@@URL_RELPREFIX@@/"
"doc/es_ES.ISO8859-1/books/handbook/kernelconfig-building.html\">compilar e "
"instalar un kernel personalizado</link> del manual de FreeBSD."

#. (itstool) path: sect2/title
#: article.translate.xml:118
msgid "Modules Loading"
msgstr "Carga de módulos"

#. (itstool) path: sect2/para
#: article.translate.xml:120
msgid ""
"If you have chosen to use the new and simpler installation method, the only "
"thing to do now is add the following row to <filename>/boot/loader.conf</"
"filename>:"
msgstr ""
"Si ha elegido usar el nuevo método de instalación (más simple), lo único que "
"debe hacer es añadir la siguiente línea a <filename> /boot/loader.conf </"
"filename>:"

#. (itstool) path: sect2/programlisting
#: article.translate.xml:124
#, no-wrap
msgid "bridge_load=\"YES\""
msgstr "bridge_load=\"YES\""

#. (itstool) path: sect2/para
#: article.translate.xml:126
msgid ""
"In this way, during the system startup, the <filename>bridge.ko</filename> "
"module will be loaded together with the kernel. It is not required to add a "
"similar row for the <filename>ipfw.ko</filename> module, since it will be "
"loaded automatically after the execution of the steps in the following "
"section."
msgstr ""
"Así el módulo <filename>bridge.ko</filename> se cargará junto con el kernel "
"durante el inicio del sistema. No es necesario añadir una línea similar para "
"el módulo <filename>ipfw.ko</filename>, ya que se cargará automáticamente "
"después de la ejecución de los pasos de la siguiente sección."

#. (itstool) path: sect1/title
#: article.translate.xml:136
msgid "Final Preparation"
msgstr "Preparación final"

#. (itstool) path: sect1/para
#: article.translate.xml:138
msgid ""
"Before rebooting in order to load the new kernel or the required modules "
"(according to the previously chosen installation method), you have to make "
"some changes to the <filename>/etc/rc.conf</filename> configuration file. "
"The default rule of the firewall is to reject all IP packets. Initially we "
"will set up an <option>open</option> firewall, in order to verify its "
"operation without any issue related to packet filtering (in case you are "
"going to execute this procedure remotely, such configuration will avoid you "
"to remain isolated from the network). Put these lines in <filename>/etc/rc."
"conf</filename>:"
msgstr ""
"Antes de reiniciar para cargar el nuevo kernel o los módulos requeridos (de "
"acuerdo con el método de instalación elegido anteriormente) debe realizar "
"algunos cambios en el archivo de configuración <filename>/etc/rc.conf</"
"filename>. La regla predeterminada del firewall es rechazar todos los "
"paquetes IP. Inicialmente configuraremos un firewall en modo <option>open</"
"option> para verificar que funciona sin ningún problema en relación con el "
"filtrado de paquetes (en el caso de que vaya a ejecutar este procedimiento "
"de forma remota dicha configuración evitará que permanezca aislado de la "
"red). Coloque estas líneas en el archivo <filename>/etc/rc.conf</filename>:"

#. (itstool) path: sect1/programlisting
#: article.translate.xml:148
#, no-wrap
msgid ""
"firewall_enable=\"YES\"\n"
"firewall_type=\"open\"\n"
"firewall_quiet=\"YES\"\n"
"firewall_logging=\"YES\""
msgstr ""
"firewall_enable=\"YES\"\n"
"firewall_type=\"open\"\n"
"firewall_quiet=\"YES\"\n"
"firewall_logging=\"YES\""

#. (itstool) path: sect1/para
#: article.translate.xml:153
msgid ""
"The first row will enable the firewall (and will load the module "
"<filename>ipfw.ko</filename> if it is not compiled in the kernel), the "
"second one to set up it in <option>open</option> mode (as explained in "
"<filename>/etc/rc.firewall</filename>), the third one to not show rules "
"loading and the fourth one to enable logging support."
msgstr ""
"La primera línea activará el firewall (y cargará el módulo <filename>ipfw."
"ko</filename> si no está compilado en el kernel), la segunda lo configurará "
"en modo <option>open</option> (como se explica en el archivo <filename>/etc/"
"rc.firewall</filename>), la tercera hará que no se muestren la carga de las "
"reglas y la cuarta habilitará el soporte de logging."

#. (itstool) path: sect1/para
#: article.translate.xml:159
msgid ""
"About the configuration of the network interfaces, the most used way is to "
"assign an IP to only one of the network cards, but the bridge will work "
"equally even if both interfaces or none has a configured IP. In the last "
"case (IP-less) the bridge machine will be still more hidden, as inaccessible "
"from the network: to configure it, you have to login from console or through "
"a third network interface separated from the bridge. Sometimes, during the "
"system startup, some programs require network access, say for domain "
"resolution: in this case it is necessary to assign an IP to the external "
"interface (the one connected to Internet, where <acronym>DNS</acronym> "
"server resides), since the bridge will be activated at the end of the "
"startup procedure. It means that the <filename>fxp0</filename> interface (in "
"our case) must be mentioned in the ifconfig section of the <filename>/etc/rc."
"conf</filename> file, while the <filename>xl0</filename> is not. Assigning "
"an IP to both the network cards does not make much sense, unless, during the "
"start procedure, applications should access to services on both Ethernet "
"segments."
msgstr ""
"En cuanto a la configuración de las interfaces de red la forma más utilizada "
"es asignar solo una IP a una de las tarjetas de red; el bridge funcionará "
"igualmente, aunque ambas interfaces tengan una o no tengan ninguna IP "
"configurada. En el último caso (IP-less) la máquina bridge quedará aún más "
"oculta, ya que es inaccesible desde la red. Para configurarla, debe iniciar "
"sesión desde la consola o mediante una tercera interfaz de red separada del "
"bridge. A veces durante el inicio del sistema algunos programas requieren "
"acceso a la red, por ejemplo para la resolución del dominio. En este caso es "
"necesario asignar una IP a la interfaz externa (la que está conectada a "
"Internet, donde se encuentra el servidor <acronym>DNS</acronym>) ya que el "
"bridge se activará al final del procedimiento de arranque. Esto significa "
"que la interfaz <filename>fxp0</filename> (en nuestro caso) debe añadirse en "
"la sección ifconfig del archivo <filename>/etc/rc.conf</filename>, mientras "
"que <filename>xl0</filename> no. Asignar una IP a ambas tarjetas de red no "
"tiene mucho sentido, a menos que durante el procedimiento de inicio las "
"aplicaciones tengan que acceder a servicios en ambos segmentos Ethernet."

#. (itstool) path: sect1/para
#: article.translate.xml:177
msgid ""
"There is another important thing to know. When running IP over Ethernet, "
"there are actually two Ethernet protocols in use: one is IP, the other is "
"<acronym>ARP</acronym>. <acronym>ARP</acronym> does the conversion of the IP "
"address of a host into its Ethernet address (<acronym>MAC</acronym> layer). "
"In order to allow the communication between two hosts separated by the "
"bridge, it is necessary that the bridge will forward <acronym>ARP</acronym> "
"packets. Such protocol is not included in the IP layer, since it exists only "
"with IP over Ethernet. The FreeBSD firewall filters exclusively on the IP "
"layer and therefore all non-IP packets (<acronym>ARP</acronym> included) "
"will be forwarded without being filtered, even if the firewall is configured "
"to not permit anything."
msgstr ""
"Hay otra cosa importante que hay que saber. Cuando se ejecuta IP over "
"Ethernet, en realidad hay dos protocolos Ethernet en uso: uno es IP, el otro "
"es <acronym>ARP</acronym>. <acronym>ARP</acronym> realiza la conversión de "
"la dirección IP de un host a su dirección de Ethernet (capa <acronym>MAC</"
"acronym>). Para permitir la comunicación entre dos hosts separados por el "
"bridge, es necesario que el bridge reenvíe los paquetes <acronym>ARP</"
"acronym>. Dicho protocolo no está incluido en la capa IP, ya que solo existe "
"con IP over Ethernet. El firewall de FreeBSD filtra exclusivamente en la "
"capa IP y, por lo tanto, todos los paquetes no IP (<acronym>ARP</acronym> "
"incluido) se reenvían sin ser filtrados, aunque el firewall esté configurado "
"para no permitir nada."

#. (itstool) path: sect1/para
#: article.translate.xml:190
msgid ""
"Now it is time to reboot the system and use it as before: there will be some "
"new messages about the bridge and the firewall, but the bridge will not be "
"activated and the firewall, being in <option>open</option> mode, will not "
"avoid any operations."
msgstr ""
"Ahora es el momento de reiniciar el sistema y usarlo como antes: habrá "
"algunos mensajes nuevos sobre el bridge y el firewall, pero el bridge no se "
"activará y el firewall, en el modo <option>open</option>, no bloqueará "
"ninguna operación."

#. (itstool) path: sect1/para
#: article.translate.xml:195
msgid ""
"If there are any problems, you should sort them out now before proceeding."
msgstr "Si hay algún problema, debe solucionarlo ahora antes de continuar."

#. (itstool) path: sect1/title
#: article.translate.xml:200
msgid "Enabling the Bridge"
msgstr "Habilitando el bridge"

#. (itstool) path: sect1/para
#: article.translate.xml:202
msgid ""
"At this point, to enable the bridge, you have to execute the following "
"commands (having the shrewdness to replace the names of the two network "
"interfaces <filename>fxp0</filename> and <filename>xl0</filename> with your "
"own ones):"
msgstr ""
"En este momento para habilitar el bridge debe ejecutar los siguientes "
"comandos (no olvide reemplazar los nombres de las dos interfaces de red "
"<filename>fxp0</filename> y <filename>xl0</filename> por las suyas):"

#. (itstool) path: sect1/screen
#: article.translate.xml:207
#, no-wrap
msgid ""
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.config=fxp0:0,xl0:0</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.ipfw=1</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.enable=1</userinput>"
msgstr ""
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.config=fxp0:0,xl0:0</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.ipfw=1</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl net.link.ether.bridge.enable=1</userinput>"

#. (itstool) path: sect1/para
#: article.translate.xml:211
msgid ""
"The first row specifies which interfaces should be activated by the bridge, "
"the second one will enable the firewall on the bridge and finally the third "
"one will enable the bridge."
msgstr ""
"La primera línea especifica qué interfaces deben ser activadas por el "
"bridge, la segunda habilitará el firewall en el bridge y finalmente la "
"tercera habilitará el bridge."

#. (itstool) path: sect1/para
#: article.translate.xml:215
msgid ""
"At this point you should be able to insert the machine between two sets of "
"hosts without compromising any communication abilities between them. If so, "
"the next step is to add the <literal>net.link.ether.bridge."
"<replaceable>[blah]</replaceable>=<replaceable>[blah]</replaceable></"
"literal> portions of these rows to the <filename>/etc/sysctl.conf</filename> "
"file, in order to have them execute at startup."
msgstr ""
"En este momento debería poder insertar la máquina entre dos conjuntos de "
"host sin comprometer ninguna capacidad de comunicación entre ellos. Si ha "
"funcionado, el siguiente paso es añadir lo siguiente <literal>net.link.ether."
"bridge.<replaceable>[blah]</replaceable>=<replaceable>[blah]</replaceable></"
"literal> al archivo <filename>/etc/sysctl.conf</filename>, para que se "
"ejecute al inicio."

#. (itstool) path: sect1/title
#: article.translate.xml:224
msgid "Configuring The Firewall"
msgstr "Configurando el firewall"

#. (itstool) path: sect1/para
#: article.translate.xml:226
msgid ""
"Now it is time to create your own file with custom firewall rules, in order "
"to secure the inside network. There will be some complication in doing this "
"because not all of the firewall functionalities are available on bridged "
"packets. Furthermore, there is a difference between the packets that are in "
"the process of being forwarded and packets that are being received by the "
"local machine. In general, incoming packets are run through the firewall "
"only once, not twice as is normally the case; in fact they are filtered only "
"upon receipt, so rules that use <option>out</option> or <option>xmit</"
"option> will never match. Personally, I use <option>in via</option> which is "
"an older syntax, but one that has a sense when you read it. Another "
"limitation is that you are restricted to use only <option>pass</option> or "
"<option>drop</option> commands for packets filtered by a bridge. "
"Sophisticated things like <option>divert</option>, <option>forward</option> "
"or <option>reject</option> are not available. Such options can still be "
"used, but only on traffic to or from the bridge machine itself (if it has an "
"IP address)."
msgstr ""
"Ahora es el momento de crear su propio archivo de configuración con las "
"reglas personalizadas del firewall para proteger la red interna. Se "
"encontrará con algunas complicaciones porque no todas las funcionalidades "
"del firewall están disponibles en los paquetes bridge. Hay además una "
"diferencia entre los paquetes que están en proceso de reenvío y los paquetes "
"que está recibiendo la máquina local. En general, los paquetes de entrada "
"pasan por el firewall solo una vez, no dos veces, como suele ser el caso; en "
"realidad se filtran solo después de la recepción, por lo que las reglas que "
"usan <option>out</option> o <option>xmit</option> nunca coincidirán. Yo "
"utilizo <option>in via</option>, que es una sintaxis más antigua pero tiene "
"sentido cuando la lees. Otra limitación es que usted solo puede usar solo "
"los comandos <option>pass</option> o <option>reject</option> para los "
"paquetes filtrados por un bridge. Opciones más complejas como "
"<option>divert</option>, <option>forward</option> o <option>reject</option> "
"no están disponibles. Estas opciones pueden seguir utilizándose, pero solo "
"en el tráfico hacia o desde la propia máquina bridge (si tiene una dirección "
"IP)."

#. (itstool) path: sect1/para
#: article.translate.xml:242
msgid ""
"New in FreeBSD 4.0, is the concept of stateful filtering. This is a big "
"improvement for <acronym>UDP</acronym> traffic, which typically is a request "
"going out, followed shortly thereafter by a response with the exact same set "
"of IP addresses and port numbers (but with source and destination reversed, "
"of course). For firewalls that have no statekeeping, there is almost no way "
"to deal with this sort of traffic as a single session. But with a firewall "
"that can <quote>remember</quote> an outgoing <acronym>UDP</acronym> packet "
"and, for the next few minutes, allow a response, handling <acronym>UDP</"
"acronym> services is trivial. The following example shows how to do it. It "
"is possible to do the same thing with <acronym>TCP</acronym> packets. This "
"allows you to avoid some denial of service attacks and other nasty tricks, "
"but it also typically makes your state table grow quickly in size."
msgstr ""
"El concepto de firewall con estado se incluyó por primera vez en FreeBSD "
"4.0. Es una gran mejora para el tráfico <acronym>UDP</acronym>, el cual "
"generalmente es una solicitud de salida seguida poco después por una "
"respuesta con exactamente el mismo conjunto de direcciones IP y números de "
"puerto (pero obviamente con origen y destino invertidos). Con los firewalls "
"que no mantienen el estado no hay forma de lidiar con este tipo de tráfico "
"en una única sesión. Pero con un firewall que puede <quote>recordar</quote> "
"un paquete saliente de <acronym>UDP</acronym> y, durante los próximos "
"minutos, permitir una respuesta el manejo de servicios <acronym>UDP</"
"acronym> es trivial. El siguiente ejemplo muestra cómo hacerlo. Es posible "
"hacer lo mismo con los paquetes <acronym>TCP</acronym>. Esto le permite "
"evitar algunos ataques de denegación de servicio y y otras maldades, pero "
"también hace que su tabla de estado crezca rápidamente de tamaño."

#. (itstool) path: sect1/para
#: article.translate.xml:256
msgid ""
"Let's look at an example setup. Note first that at the top of <filename>/etc/"
"rc.firewall</filename> there are already standard rules for the loopback "
"interface <filename>lo0</filename>, so we should not have to care for them "
"anymore. Custom rules should be put in a separate file (say <filename>/etc/"
"rc.firewall.local</filename>) and loaded at system startup, by modifying the "
"row of <filename>/etc/rc.conf</filename> where we defined the <option>open</"
"option> firewall:"
msgstr ""
"Veamos una configuración de ejemplo. Lo primero, tenga en cuenta que en la "
"parte superior del archivo <filename>/etc/rc.firewall</filename> ya existen "
"reglas predeterminadas para la interfaz de loopback <filename>lo0</"
"filename>, por lo que no es necesario preocuparse de ellas. Las reglas "
"personalizadas deben colocarse en un archivo separado (por ejemplo, "
"<filename>/etc/rc.firewall.local</filename>) y cargarse al inicio del "
"sistema, modificando la línea en el archivo <filename>/etc/rc.conf</"
"filename> donde definimos el firewall en modo <option>open</option>:"

#. (itstool) path: sect1/programlisting
#: article.translate.xml:265
#, no-wrap
msgid "firewall_type=\"/etc/rc.firewall.local\""
msgstr "firewall_type=\"/etc/rc.firewall.local\""

#. (itstool) path: important/para
#: article.translate.xml:268
msgid ""
"You have to specify the <emphasis>full</emphasis> path, otherwise it will "
"not be loaded with the risk to remain isolated from the network."
msgstr ""
"Debe especificar la ruta <emphasis>completa</emphasis>, de lo contrario, no "
"se cargará, con el riesgo de permanecer aislado de la red."

#. (itstool) path: sect1/para
#: article.translate.xml:273
msgid ""
"For our example imagine to have the <filename>fxp0</filename> interface "
"connected towards the outside (Internet) and the <filename>xl0</filename> "
"towards the inside (<acronym>LAN</acronym>). The bridge machine has the IP "
"<systemitem class=\"ipaddress\">1.2.3.4</systemitem> (it is not possible "
"that your <acronym>ISP</acronym> can give you an address quite like this, "
"but for our example it is good)."
msgstr ""
"Para nuestro ejemplo, imagine que tiene la interfaz <filename>fxp0</"
"filename> conectada hacia el exterior (Internet) y la <filename>xl0</"
"filename> hacia el interior (<acronym>LAN</acronym>). La máquina que haga de "
"brigde tiene la IP <systemitem class=\"ipaddress\">1.2.3.4</systemitem> (su "
"<acronym>ISP</acronym> no puede proporcionarle una dirección así, pero para "
"nuestro ejemplo nos sirve)."

#. (itstool) path: sect1/programlisting
#: article.translate.xml:280
#, no-wrap
msgid ""
"# Things that we have kept state on before get to go through in a hurry\n"
"add check-state\n"
"\n"
"# Throw away RFC 1918 networks\n"
"add drop all from 10.0.0.0/8 to any in via fxp0\n"
"add drop all from 172.16.0.0/12 to any in via fxp0\n"
"add drop all from 192.168.0.0/16 to any in via fxp0\n"
"\n"
"# Allow the bridge machine to say anything it wants\n"
"# (if the machine is IP-less do not include these rows)\n"
"add pass tcp from 1.2.3.4 to any setup keep-state\n"
"add pass udp from 1.2.3.4 to any keep-state\n"
"add pass ip from 1.2.3.4 to any\n"
"\n"
"# Allow the inside hosts to say anything they want\n"
"add pass tcp from any to any in via xl0 setup keep-state\n"
"add pass udp from any to any in via xl0 keep-state\n"
"add pass ip from any to any in via xl0\n"
"\n"
"# TCP section\n"
"# Allow SSH\n"
"add pass tcp from any to any 22 in via fxp0 setup keep-state\n"
"# Allow SMTP only towards the mail server\n"
"add pass tcp from any to relay 25 in via fxp0 setup keep-state\n"
"# Allow zone transfers only by the slave name server [dns2.nic.it]\n"
"add pass tcp from 193.205.245.8 to ns 53 in via fxp0 setup keep-state\n"
"# Pass ident probes.  It is better than waiting for them to timeout\n"
"add pass tcp from any to any 113 in via fxp0 setup keep-state\n"
"# Pass the \"quarantine\" range\n"
"add pass tcp from any to any 49152-65535 in via fxp0 setup keep-state\n"
"\n"
"# UDP section\n"
"# Allow DNS only towards the name server\n"
"add pass udp from any to ns 53 in via fxp0 keep-state\n"
"# Pass the \"quarantine\" range\n"
"add pass udp from any to any 49152-65535 in via fxp0 keep-state\n"
"\n"
"# ICMP section\n"
"# Pass 'ping'\n"
"add pass icmp from any to any icmptypes 8 keep-state\n"
"# Pass error messages generated by 'traceroute'\n"
"add pass icmp from any to any icmptypes 3\n"
"add pass icmp from any to any icmptypes 11\n"
"\n"
"# Everything else is suspect\n"
"add drop log all from any to any"
msgstr ""
"# Cosas para las que tenemos que mantener el estado\n"
"add check-state\n"
"\n"
"# Desechar todas las redes RFC 1918\n"
"add drop all from 10.0.0.0/8 to any in via fxp0\n"
"add drop all from 172.16.0.0/12 to any in via fxp0\n"
"add drop all from 192.168.0.0/16 to any in via fxp0\n"
"\n"
"# Permitir que la máquina bridge diga lo que quiera\n"
"# (si la máquina es IP-less no incluya estas líneas)\n"
"add pass tcp from 1.2.3.4 to any setup keep-state\n"
"add pass udp from 1.2.3.4 to any keep-state\n"
"add pass ip from 1.2.3.4 to any\n"
"\n"
"# Permitir que los hosts internos digan lo que quieran\n"
"add pass tcp from any to any in via xl0 setup keep-state\n"
"add pass udp from any to any in via xl0 keep-state\n"
"add pass ip from any to any in via xl0\n"
"\n"
"# Sección TCP\n"
"# Permitir SSH\n"
"add pass tcp from any to any 22 in via fxp0 setup keep-state\n"
"# Permitir SMTP solo hacia el servidor de correo\n"
"add pass tcp from any to relay 25 in via fxp0 setup keep-state\n"
"# Permitir transferencias de zona solo por el servidor de nombres esclavo [dns2.nic.it]\n"
"add pass tcp from 193.205.245.8 to ns 53 in via fxp0 setup keep-state\n"
"# Dejar pasar ident probes. Es mejor que esperar a que se agote el tiempo\n"
"add pass tcp from any to any 113 in via fxp0 setup keep-state\n"
"# Dejar paso al rango \"quarantine\"\n"
"add pass tcp from any to any 49152-65535 in via fxp0 setup keep-state\n"
"\n"
"# Sección UDP\n"
"# Permitir DNS solo hacia el servidor de nombres\n"
"add pass udp from any to ns 53 in via fxp0 keep-state\n"
"# Dejar pasar el rango \"quarantine\"\n"
"add pass udp from any to any 49152-65535 in via fxp0 keep-state\n"
"\n"
"# Sección ICMP\n"
"# Dejar paso a 'ping'\n"
"add pass icmp from any to any icmptypes 8 keep-state\n"
"# Dejar paso a los mensajes de error generados por 'traceroute'\n"
"add pass icmp from any to any icmptypes 3\n"
"add pass icmp from any to any icmptypes 11\n"
"\n"
"# Todo lo demás es sospechoso.\n"
"add drop log all from any to any"

#. (itstool) path: sect1/para
#: article.translate.xml:327
msgid ""
"Those of you who have set up firewalls before may notice some things "
"missing. In particular, there are no anti-spoofing rules, in fact we did "
"<emphasis>not</emphasis> add:"
msgstr ""
"Aquellos de ustedes que hayan instalado firewalls antes notarán que faltan "
"algunas cosas. En particular, no hay reglas contra la suplantación de "
"identidad, de hecho, <emphasis>no</emphasis> las añadimos:"

#. (itstool) path: sect1/programlisting
#: article.translate.xml:331
#, no-wrap
msgid "add deny all from 1.2.3.4/8 to any in via fxp0"
msgstr "add deny all from 1.2.3.4/8 to any in via fxp0"

#. (itstool) path: sect1/para
#: article.translate.xml:333
msgid ""
"That is, drop packets that are coming in from the outside claiming to be "
"from our network. This is something that you would commonly do to be sure "
"that someone does not try to evade the packet filter, by generating "
"nefarious packets that look like they are from the inside. The problem with "
"that is that there is <emphasis>at least</emphasis> one host on the outside "
"interface that you do not want to ignore: the router. But usually, the "
"<acronym>ISP</acronym> anti-spoofs at their router, so we do not need to "
"bother that much."
msgstr ""
"Es decir, descartar los paquetes que vienen del exterior diciendo pertenecer "
"a nuestra red. Esto es algo que normalmente haría para asegurarse de que "
"alguien no trata de evadir el filtrado de paquetes, generando paquetes "
"corruptos que parecen ser de dentro de la red. El problema es que hay "
"<emphasis>al menos</emphasis> un host en la interfaz externa que no desea "
"ignorar: el router. Pero, por lo general, el <acronym>ISP</acronym> tiene "
"reglas contra la suplantación de identidad en su router, por lo que no "
"tenemos que preocuparnos excesivamente."

#. (itstool) path: sect1/para
#: article.translate.xml:342
msgid ""
"The last rule seems to be an exact duplicate of the default rule, that is, "
"do not let anything pass that is not specifically allowed. But there is a "
"difference: all suspected traffic will be logged."
msgstr ""
"La última regla parece ser un duplicado exacto de la regla predeterminada, "
"es decir, no dejar pasar nada que no esté específicamente permitido. Pero "
"hay una diferencia: todo tráfico sospechoso será registrado."

#. (itstool) path: sect1/para
#: article.translate.xml:346
msgid ""
"There are two rules for passing <acronym>SMTP</acronym> and <acronym>DNS</"
"acronym> traffic towards the mail server and the name server, if you have "
"them. Obviously the whole rule set should be flavored to personal taste, "
"this is only a specific example (rule format is described accurately in the "
"<citerefentry><refentrytitle>ipfw</refentrytitle><manvolnum>8</manvolnum></"
"citerefentry> man page). Note that in order for <quote>relay</quote> and "
"<quote>ns</quote> to work, name service lookups must work <emphasis>before</"
"emphasis> the bridge is enabled. This is an example of making sure that you "
"set the IP on the correct network card. Alternatively it is possible to "
"specify the IP address instead of the host name (required if the machine is "
"IP-less)."
msgstr ""
"Hay dos reglas para permitir el tráfico <acronym>SMTP</acronym> y "
"<acronym>DNS</acronym> hacia los servidores de correo y de nombres, si "
"dispone de ellos. Obviamente todo el conjunto de reglas debe ser definido de "
"acuerdo con sus preferencias personales; esto es solo un ejemplo específico "
"(el formato de la regla se describe con precisión en la página del manual de "
"<citerefentry><refentrytitle>ipfw</refentrytitle><manvolnum>8</manvolnum></"
"citerefentry>). Tenga en cuenta que para que el <quote>relay</quote> y el "
"<quote>ns</quote> funcionen las búsquedas del servicio de nombres deben "
"funcionar <emphasis>antes de</emphasis> que el bridge esté activado. Este es "
"un ejemplo de cómo asegurarse de configurar la IP en la tarjeta de red "
"correcta. Otra forma de hacer las cosas sería especificar la dirección IP en "
"lugar del nombre del host (requerido si la máquina no tiene IP)."

#. (itstool) path: sect1/para
#: article.translate.xml:357
msgid ""
"People that are used to setting up firewalls are probably also used to "
"either having a <option>reset</option> or a <option>forward</option> rule "
"for ident packets (<acronym>TCP</acronym> port 113). Unfortunately, this is "
"not an applicable option with the bridge, so the best thing is to simply "
"pass them to their destination. As long as that destination machine is not "
"running an ident daemon, this is relatively harmless. The alternative is "
"dropping connections on port 113, which creates some problems with services "
"like <acronym>IRC</acronym> (the ident probe must timeout)."
msgstr ""
"Quienes estén acostumbrados a configurar firewalls probablemente también "
"suelan usar una regla <option>reset</option> o <option>forward</option> para "
"los paquetes ident (<acronym>TCP</acronym> puerto 113). Por desgracia esta "
"no es una opción válida con el bridge, por lo tanto la mejor opción es "
"simplemente pasarlos a su destino. A menos que la máquina de destino esté "
"ejecutando un dæmon ident es realmente inofensivo. La alternativa es "
"eliminar las conexiones en el puerto 113, lo que creará algunos problemas "
"con servicios como <acronym>IRC</acronym> (el probe del ident dará timeout)."

#. (itstool) path: sect1/para
#: article.translate.xml:367
msgid ""
"The only other thing that is a little weird that you may have noticed is "
"that there is a rule to let the bridge machine speak, and another for "
"internal hosts. Remember that this is because the two sets of traffic will "
"take different paths through the kernel and into the packet filter. The "
"inside net will go through the bridge, while the local machine will use the "
"normal IP stack to speak. Thus the two rules to handle the different cases. "
"The <literal>in via fxp0</literal> rules work for both paths. In general, if "
"you use <option>in via</option> rules throughout the filter, you will need "
"to make an exception for locally generated packets, because they did not "
"come in via any of our interfaces."
msgstr ""
"Lo único raro que puede haber notado es que existe una regla para permitir "
"que la máquina que hace de bridge hable y otra para los hosts internos. "
"Recuerde que esto sucede porque los dos conjuntos de tráfico tendrán "
"diferentes rutas a través del kernel y del filtro de paquetes. La red "
"interna pasará por el bridge, mientras que la máquina local utilizará el "
"stack normal de IP para hablar. Por lo tanto, cada regla se ocupa de una "
"cosa diferente. Las reglas <literal>in via fxp0</literal> funcionan para "
"ambas rutas. En general, si utiliza las reglas <option>in via</option> en "
"todo el filtro, debe añadir una excepción para los paquetes generados "
"localmente, ya que no llegaron a través de ninguna de nuestras interfaces."

#. (itstool) path: sect1/title
#: article.translate.xml:381
msgid "Contributors"
msgstr "Colaboradores"

#. (itstool) path: sect1/para
#: article.translate.xml:383
msgid ""
"Many parts of this article have been taken, updated and adapted from an old "
"text about bridging, edited by Nick Sayer. A pair of inspirations are due to "
"an introduction on bridging by Steve Peterson."
msgstr ""
"Muchas partes de este artículo han sido obtenidas, actualizadas y adaptadas "
"de un texto antiguo sobre el bridging, editado por Nick Sayer. Unas cuantas "
"ideas muy inspiradoras vienen de una introducción sobre el bridging que "
"escribió Steve Peterson."

#. (itstool) path: sect1/para
#: article.translate.xml:387
msgid ""
"A big thanks to Luigi Rizzo for the implementation of the bridge code in "
"FreeBSD and for the time he has dedicated to me answering all of my related "
"questions."
msgstr ""
"Mi más sincero agradecimiento a Luigi Rizzo por la implementación del código "
"de bridge en FreeBSD y por el tiempo que ha dedicado a responder todas mis "
"preguntas."

#. (itstool) path: sect1/para
#: article.translate.xml:391
msgid ""
"A thanks goes out also to Tom Rhodes who looked over my job of translation "
"from Italian (the original language of this article) into English."
msgstr ""
"Un agradecimiento también a Tom Rhodes, quien revisó mi trabajo de "
"traducción del italiano (el idioma original de este artículo) al inglés."
