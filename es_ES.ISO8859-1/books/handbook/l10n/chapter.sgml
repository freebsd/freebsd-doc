<!--
     The FreeBSD Spanish Documentation Project

     $FreeBSD$

     Original revision: 1.115
-->

<chapter id="l10n">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Andrey</firstname>
	<surname>Chernov</surname>
	<contrib>Contribuido por </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Michael C.</firstname>
	<surname>Wu</surname>
	<contrib>Reescrito por </contrib>
      </author>
      <!-- 30 Nv 2000 -->
    </authorgroup>
  </chapterinfo>

  <title>Localizaci&oacute;n - Uso y configuraci&oacute;n de 
    I18N/L10N</title>
  &trans.es.quique;

  <sect1 id="l10n-synopsis">
    <title>Sinopsis</title>

    <para>&os; es un proyecto muy distribuido, que cuenta con 
      usuarios y contribuidores por todo el mundo.  Este 
      cap&iacute;tulo examina las funcionalidades de 
      internacionalizaci&oacute;n y localizaci&oacute;n de &os; 
      que permiten llevar a cabo su trabajo a los usuarios no 
      angloparlantes.  Hay muchos aspectos en la 
      implementaci&oacute;n de la i18n, tanto en los niveles de 
      sistema como de aplicaci&oacute;n, as&iacute; que cuando sea 
      conveniente dirigiremos al lector a fuentes de 
      documentaci&oacute;n m&aacute;s espec&iacute;ficas.</para>

    <para>Tras leer este cap&iacute;tulo, sabr&aacute;:</para>
    <itemizedlist>
      <listitem><para>C&oacute;mo se codifican los distintos idiomas 
        y <quote>locales</quote> en los sistemas operativos modernos.
	</para></listitem>
      <listitem><para>C&oacute;mo configurar las <quote>locales
        </quote> para su int&eacute;rprete de &oacute;rdenes.</para>
	</listitem>
      <listitem><para>C&oacute;mo configurar la consola para idiomas
        distintos al ingl&eacute;s.</para></listitem>
      <listitem><para>C&oacute;mo emplear efizcamente el sistema de
        ventanas X en distintos idiomas.</para></listitem>
      <listitem><para>D&oacute;nde encontrar m&aacute;s 
        informaci&oacute;n sobre como escribir aplicaciones que sigan
	la i18n.</para></listitem>
   </itemizedlist>

    <para>Antes de leer este cap&iacute;tulo, deber&iacute;a:</para>

    <itemizedlist>
      <listitem><para>Saber como instalar aplicaciones adicionales de
        terceras partes (<xref linkend="ports">).</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="l10n-basics">
    <title>Lo b&aacute;sico</title>

    <sect2>
      <title>&iquest;Qu&eacute; es I18N/L10N?</title>
    <indexterm>
      <primary>internacionalizaci&oacute;n</primary>
      <see>localizaci&oacute;n</see>
      </indexterm> 
    <indexterm><primary>localizaci&oacute;n</primary></indexterm>

      <para>Los desarrolladores acortaron la palabra 
        internacionalizaci&oacute;n al t&eacute;rmino I18N, contando
	el n&uacute;mero de letras entre la primera y la 
	&uacute;ltima letra.  L10N sigue el mismo esquema, y procede
	de <quote>localizaci&oacute;n</quote>.  Combinados, los 
	m&eacute;todos, protocolos y aplicaciones de I18N/L10N 
	permiten a los usuarios usar el idioma de su elecci&oacute;n.
	</para>
      
      <para>Las aplicaciones I18N se programan usando herramientas de
        I18N de bibliotecas.  &Eacute;stas permiten a los 
	desarrolladores escribir un fichero sencillo y traducir los
	men&uacute;s y textos contenidos a cada idioma.  Animamos 
	fervientemente a los programadores a que sigan esta 
	convenci&oacute;n.</para>
    </sect2>

    <sect2>
      <title>&iquest;Por qu&eacute; deber&iacute;a usar I18N/L10N?
        </title>

      <para>I18N/L10N se usa siempre que quiera ver, introducir o 
        procesar datos en idiomas distintos al ingl&eacute;s.</para>
    </sect2>

    <sect2>
      <title>&iquest;Qu&eacute; idiomas est&aacute;n soportados en el
        proyecto de I18N?</title>

      <para>La I18N y L10N no son espec&iacute;ficos de &os;.  En la
        actualidad, uno puede elegir entre la mayor&iacute;a de los
	principales idiomas del mundo, incluyendo pero sin limitarse
	a ellos: chino, alem&aacute;n, japon&eacute;s, coreano,
	franc&eacute;s, ruso, vietnamita y otros.</para>
    </sect2>
  </sect1>

  <sect1 id="using-localization">
    <title>Uso de la localizaci&oacute;n</title>

    <para>En todo su esplendor, la I18N no es espec&iacute;fica de
      &os;, y es una convenci&oacute;n.  Le animamos a que ayude a
      &os; siguiendo esta convenci&oacute;n.</para>
    <indexterm><primary>locale</primary></indexterm>

    <para>Las opciones de localizaci&oacute;n se basan en tres 
      t&eacute;rminos principales: c&oacute;digo de idioma, 
      c&oacute;digo de pa&iacute;s y codificaci&oacute;n.  Los
      nombres de las <quote>locales</quote> se construyen a partir de
      estas tres partes como sigue:</para>

    <programlisting><replaceable>C&oacute;digoDelIdioma</replaceable>
      _<replaceable>C&oacute;digoDelPa&iacute;s</replaceable>.
      <replaceable>Codificaci&oacute;n</replaceable></programlisting>

    <sect2>
      <title>C&oacute;digos de idioma y pa&iacute;s</title>
      <indexterm><primary>c&oacute;digos de idioma</primary>
        </indexterm>
      <indexterm><primary>c&oacute;digos de pa&iacute;s</primary>
        </indexterm>

      <para>Para localizar un sistema &os; a un idioma concreto
        (o cualquier otro sistema de tipo &unix; que soporte I18N),
	los usuarios necesitar averiguar los c&oacute;digos del 
	pa&iacute;s e idioma concreto (los c&oacute;digos de 
	pa&iacute;s le dicen a las aplicaciones que variedad del
	idioma dado deben usar).  Adem&aacute;s, los navegadores web,
	servidores SMTP/POP, servidores web, etc toman decisiones 
	bas&aacute;ndose en ellos.  Los siguientes son ejemplos de 
	c&oacute;digos de idioma/pa&iacute;s:</para>

      <informaltable frame="none" pgwide="1">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>C&oacute;digo de idioma/pa&iacute;s</entry>
	      <entry>Descripci&oacute;n</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>en_US</entry>
	      <entry>Ingl&eacute;s - Estados Unidos de Am&eacute;rica
	        </entry>
	    </row>

	    <row>
	      <entry>ru_RU</entry>
	      <entry>Ruso de Rusia</entry>
	    </row>

	    <row>
	      <entry>zh_TW</entry>
	      <entry>Chino tradicional de Taiw&aacute;n</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

    </sect2>

    <sect2>
      <title>Codificaciones</title>
      <indexterm><primary>codificaciones</primary></indexterm>
      <indexterm><primary>ASCII</primary></indexterm>

      <para>Algunos idiomas usan codificaciones distintas al ASCII
        que son de 8 bits, caracteres anchos o multibyte; consulte 
	&man.multibyte.3; para conocer m&aacute;s detalles.  Algunas
	aplicaciones m&aacute;s antiguas no los reconocen y los
	confunden con caracteres de control.  Las aplicaciones 
	modernas normalmente reconocen los caracteres de 8 bits.
	Dependiendo de la implementaci&oacute;n, los usuarios pueden
	necesitar compilar una aplicaci&oacute;n con soporte para
	caracteres anchos o multibyte, o configurarlo correctamente.
	Para poder introducir y procesar caracteres anchos o 
	multibyte, la Colecci&oacute;n de <quote>Ports</quote> de &os;
	proporciona diferentes programas a cada idioma.  
	Dir&iacute;jase a la documentaci&oacute;n de I18N del <quote>
	port</quote> de &os; correspondiente.</para>

      <para>Espec&iacute;ficamente, los usuarios necesitan mirar la
        documentaci&oacute;n de la aplicaci&oacute;n para decidir
	como configurarla correctamente o pasar valores correctos al
	configure/Makefile/compilador.</para>

      <para>Algunas cosas a tener presentes son:</para>

      <itemizedlist>
	<listitem>
	  <para>Los juegos de caracteres de tipo char de C 
	    espec&iacute;ficos para el idioma (consulte 
	    &man.multibyte.3;), v.g. ISO-8859-1, ISO-8859-15, KOI8-R,
	    CP437.</para>
	</listitem>

	<listitem>
	  <para>Las codificaciones anchas o multibyte, v.g. EUC, Big5
	    .</para>
	</listitem>
      </itemizedlist>

      <para>Puede comprobar la lista activa de juegos de caracteres
        en el <ulink
	url="http://www.iana.org/assignments/character-sets">Registro
	  IANA</ulink>.</para>

      <note>
      <para>Las versiones 4.5 y posteriores de &os; usan en su lugar
        codificaciones de la <quote>locale</quote> compatibles con 
	X11.</para>
      </note>

    </sect2>

    <sect2>
      <title>Aplicaciones I18N</title>

      <para>En el sistema de paquetes y ports de &os;, las 
        aplicaciones I18N se han denominado con <literal>I18N
	</literal> en su nombre para una f&aacute;cil 
	identificaci&oacute;n.  Sin embargo, no siempre soportan el
	idioma necesitado.</para>
    </sect2>

    <sect2 id="setting-locale">
      <title>Configuraci&oacute;n de las <quote>locales</quote>
        </title>

      <para>Normalmente basta con exportar el valor del nombre de la
        <quote>locale</quote> como <envar>LANG</envar> en el 
	int&eacute;rprete de &oacute;rdenes de la sesi&oacute;n.  
	Esto se podr&iacute;a hacer en el fichero <filename>
	~/.login_conf</filename> del usuario o en el fichero de
	inicio del int&eacute;rprete de &oacute;rdenes del usuario
	(<filename>~/.profile</filename>, <filename>~/.bashrc
	</filename>, <filename>~/.cshrc</filename>).  No es necesario
	configurar las otras variables de localizaci&oacute;n como
	<envar>LC_CTYPE</envar> o <envar>LC_CTIME</envar>.  
	Dir&iacute;jase a la documentaci&oacute;n de &os; 
	espec&iacute;fica de su idioma para m&aacute;s 
	informaci&oacute;n.</para>

      <para>Deber&iacute;a configurar las siguientes dos variables de
        entorno en sus ficheros de configuraci&oacute;n:</para>

      <itemizedlist>
        <indexterm><primary>POSIX</primary></indexterm>
        <listitem>
	  <para><envar>LANG</envar> para las funciones de la familia
	    &man.setlocale.3; de &posix; </para>
	</listitem>

        <indexterm><primary>MIME</primary></indexterm>
	<listitem>
	  <para><envar>MM_CHARSET</envar> para el juego de caracteres
	    MIME de las aplicaciones</para>
	</listitem>
      </itemizedlist>

      <para>Esto comprende la configuraci&oacute;n del 
        int&eacute;rprete de &oacute;rdenes del usuario, la
	configuraci&oacute;n espec&iacute;fica de la 
	aplicaci&oacute;n y la configuraci&oacute;n de X11.</para>

      <sect3>
	<title>M&eacute;todos de configuraci&oacute;n de las <quote>
	  locales</quote></title>
        <indexterm><primary>locales</primary></indexterm>
        <indexterm><primary>clases de sesi&oacute;n</primary>
	  </indexterm>

	<para>Hay dos m&eacute;todos para configurar las <quote>
	  locales</quote>, que se describen aqu&iacute; abajo.  El 
	  primero (que es el recomendado) es asignar las variables de
	  entorno en una <link linkend="login-class">clase de
	  sesi&oacute;n</link>, y el segundo es a&ntilde;adir las
	  asignaciones de las variables de entorno al <link linkend
	  ="startup-file">fichero de inicio</link> del 
	  int&eacute;rprete de &oacute;rdenes del sistema.</para>

	<sect4 id="login-class">
	  <title>M&eacute;todo de las clases de sesi&oacute;n</title>

	  <para>Este m&eacute;todo permite asignar las variables de
	    entorno necesarias para el nombre de las <quote>locales
	    </quote> y el juego de caracteres MIME de una sola vez
	    para todos los posibles int&eacute;rpretes de
	    &oacute;rdenes, en vez de a&ntilde;adir asignaciones
	    espec&iacute;ficas en los ficheros de inicio de cada uno
	    de los int&eacute;rpretes de &oacute;rdenes.  La <link
	    linkend="usr-setup">configuraci&oacute;n a nivel de 
	    usuario</link> la puede realizar el propio usuario,
	    mientras que la <link linkend="adm-setup">
	    configuraci&oacute;n a nivel de administrador</link>
	    precisa de permisos de superusuario.</para>

	  <sect5 id="usr-setup">
	    <title>Configuraci&oacute;n a nivel de usuario</title>

	    <para>Esto es un ejemplo minimalista de un fichero
	      <filename>.login_conf</filename> de la carpeta de
	      inicio de un usuario, que contiene las dos variables
	      configuradas para la codificaci&oacute;n Latin-1:
	      </para>

	    <programlisting>me:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:</programlisting>

	    <indexterm><primary>Chino tradicional</primary>
	      <secondary>codificaci&oacute;n BIG-5</secondary>
	      </indexterm>
	    <para>Esto es un ejemplo de un <filename>.login_conf
	      </filename> que configura las variables para el chino
	      tradicional en la codificaci&oacute;n BIG-5.  Observe
	      que se configuran muchas m&aacute;s variables porque
	      algunos programas no respetan correctamente las 
	      variables de las <quote>locales</quote> para el chino,
	      el japon&eacute;s y el coreano.</para>

	    <programlisting>#Users who do not wish to use monetary units or time formats
#of Taiwan can manually change each variable
me:\
	:lang=zh_TW.Big5:\
	:lc_all=zh_TW.Big:\
	:lc_collate=zh_TW.Big5:\ 
	:lc_ctype=zh_TW.Big5:\
	:lc_messages=zh_TW.Big5:\
	:lc_monetary=zh_TW.Big5:\
	:lc_numeric=zh_TW.Big5:\
	:lc_time=zh_TW.Big5:\
	:charset=big5:\
	:xmodifiers="@im=xcin": #Setting the XIM Input Server</programlisting> 

	    <para>Consulte la <link linkend="adm-setup">
	      configuraci&oacute;n a nivel de administrador</link> y
	      &man.login.conf.5; para conocer m&aacute;s detalles.
	      </para>
	  </sect5>

	  <sect5 id="adm-setup">
	    <title>Configuraci&oacute;n a nivel de administrador
	      </title>

	    <para>Compruebe que la clase de sesi&oacute;n en
	      <filename>/etc/login.conf</filename> establece el
	      idioma adecuado.  Aseg&uacute;rese de que estas
	      opciones aparecen en <filename>/etc/login.conf
	      </filename>:</para>

	    <programlisting><replaceable>nombre_del_idioma</replaceable>:<replaceable>t&iacute;tulo_cuentas</replaceable>:\
	:charset=<replaceable>juego_de_caracteres_MIME</replaceable>:\
	:lang=<replaceable>nombre de la locale</replaceable>:\
	:tc=default:</programlisting>

	    <para>As&iacute; que, si seguimos con nuestro ejemplo
	      anterior que usaba Latin-1, tendr&iacute;a este
	      aspecto:</para>

	    <programlisting>german:German Users Accounts:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:\
	:tc=default:</programlisting>

	    <bridgehead renderas=sect4>Modificaci&oacute;n de las
	      clases de sesi&oacute;n con &man.vipw.8;</bridgehead>

	    <indexterm>
        <primary><command>vipw</command></primary>
      </indexterm>
	    <para>Utilice <command>vipw</command> para a&ntilde;adir
	      nuevos usuarios, y haga que la entrada tenga este
	      aspecto:</para>

	    <programlisting>usuario:contrase&ntilde;a:1111:11:<replaceable>idioma</replaceable>:0:0:Nombre de usuario:/home/usuario:/bin/sh</programlisting>

	    <bridgehead renderas=sect4>Modificaci&oacute;n de las
	      clases de sesi&oacute;n con with &man.adduser.8;
	      </bridgehead>

	    <indexterm>
        <primary><command>adduser</command></primary>
      </indexterm>
	    <indexterm><primary>clase de sesi&oacute;n</primary>
	      </indexterm>
	    <para>Utilice <command>adduser</command> para
	      a&ntilde;adir nuevos usuarios, y haga lo siguiente:
	      </para>

	    <itemizedlist>
	      <listitem>
		<para>Establezca <literal>defaultclass =
		  <replaceable>idioma</replaceable></literal> en
		  <filename>/etc/adduser.conf</filename>.  Recuerde
		  que en este caso debe introducir una clase
		  <literal>default</literal> (por omisi&oacute;n)
		  para todos los usuarios de otros idiomas.</para>
	      </listitem>

	      <listitem>
		<para>Una variante alternativa es contestar el idioma
		  indicado cada vez que &man.adduser.8; muestre
		  <screen><prompt>Enter login class: default 
		  []: </prompt></screen></para>
	      </listitem>

	      <listitem>
		<para>Otra alternativa es utilizar lo siguiente para
		  cada usuario de un idioma diferente al que desee
		  a&ntilde;adir:</para>

		<screen>&prompt.root; <userinput>adduser -class
		  <replaceable>idioma</replaceable></userinput>
		  </screen>
	      </listitem>
	    </itemizedlist>

	    <bridgehead renderas=sect4>Modificaci&oacute;n de las
	      clases de sesi&oacute;n con &man.pw.8;</bridgehead>
	    <indexterm>
        <primary><command>pw</command></primary>
      </indexterm>
	    <para>Si utiliza &man.pw.8; para a&ntilde;adir nuevos
	      usuarios, ll&aacute;melo de esta manera:</para>

	    <screen>&prompt.root; <userinput>pw useradd
	      <replaceable>nombre_usuario</replaceable> -L
	      <replaceable>idioma</replaceable></userinput></screen>
	  </sect5>
	</sect4>

	<sect4 id="startup-file">
	  <title>M&eacute;todo de los ficheros de inicio de los
	    int&eacute;rpretes de &oacute;rdenes</title>

	  <note>
	    <para>No se recomienda este m&eacute;todo porque precisa
	      de una configuraci&oacute;n diferente para cada
	      int&eacute;rprete de &oacute;rdenes que se pueda
	      elegir.  Utilice en su lugar el <link 
	      linkend="login-class">m&eacute;todo de las clases de
	      sesi&oacute;n</link>.</para>
	  </note>

	  <indexterm><primary>MIME</primary></indexterm>
	  <indexterm><primary>locale</primary></indexterm>
	  <para>Para a&ntilde;adir el nombre de la <quote>locale
            </quote> y el juego de caracteres MIME, simplemente
            establezca las dos variables de entorno mostradas abajo
            en los ficheros de inicio del int&eacute;rprete de
            &oacute;rdenes <filename>/etc/profile</filename> y/o
            <filename>/etc/csh.login</filename>.  Aqu&iacute; abajo
            usaremos el idioma alem&aacute;n como ejemplo:</para>

	  <para>En <filename>/etc/profile</filename>:</para>

	  <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar>
<envar>MM_CHARSET=ISO-8859-1; export MM_CHARSET</envar></programlisting>

	  <para>O en <filename>/etc/csh.login</filename>:</para>

	  <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar>
<envar>setenv MM_CHARSET ISO-8859-1</envar></programlisting>

	  <para>Como alternativa, puede a&ntilde;adir las
            instrucciones anteriores a <filename>/usr/share/skel/
            dot.profile</filename> (similar a lo que se
            utiliz&oacute; antes en <filename>/etc/profile</filename>
            ), o <filename>/usr/share/skel/dot.login</filename>
            (similar a lo que se utiliz&oacute; antes en <filename>
            /etc/csh.login</filename>).</para>

	  <para>Para X11:</para>

	  <para>En <filename>$HOME/.xinitrc</filename>:</para>

	  <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar></programlisting>

	  <para>O:</para>

	  <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar></programlisting>

	  <para>En funci&oacute;n de su int&eacute;rprete de
            &oacute;rdenes (vea m&aacute;s arriba).</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2 id="setting-console">
      <title>Configuraci&oacute;n de la consola</title>

      <para>Para todos los juegos de caracteres representables con el
        tipo char en C, establezca los tipos de letra para la consola
        adecuados para el idioma en cuesti&oacute;n en <filename>
        /etc/rc.conf</filename> con:</para>

      <programlisting>font8x16=<replaceable>nombre_del_tipo_de_letra
        </replaceable>
font8x14=<replaceable>nombre_del_tipo_de_letra</replaceable>
font8x8=<replaceable>nombre_del_tipo_de_letra</replaceable></programlisting>

      <para>Aqu&iacute;, el <replaceable>nombre_del_tipo_de_letra
        </replaceable> se toma del directorio <filename>/usr/share/
        syscons/fonts</filename>, sin el sufijo <filename>.fnt
        </filename>.</para>

      <indexterm>
        <primary><application>sysinstall</application></primary>
      </indexterm>
      <indexterm><primary>mapa de teclado</primary></indexterm>
      <indexterm><primary>mapa de pantalla</primary></indexterm>
      <para>Aseg&uacute;rese tambi&eacute;n de configurar los mapas
        de teclado y pantalla correctos para su juego de
        caracteres C por medio de <command>sysinstall</command>
        (<command>/stand/sysinstall</command> en versiones de &os;
        anteriores a la 5.2).
        Una vez dentro de <application>sysinstall
        </application>, seleccione <guimenuitem>Configure
        </guimenuitem>, y despu&eacute;s <guimenuitem>Console
        </guimenuitem>.  Como alternativa, puede a&ntilde;adir lo
        siguiente en <filename>/etc/rc.conf</filename>:</para>

      <programlisting>scrnmap=<replaceable>nombre_del_mapa_de_pantalla</replaceable>
keymap=<replaceable>nombre_del_mapa_de_teclado</replaceable>
keychange="<replaceable>secuencia n&uacute;mero_tecla_de_funci&oacute;n</replaceable>"</programlisting>
	
      <para>Aqu&iacute;, el <replaceable>nombre_del_mapa_de_pantalla
        </replaceable> se toma del directorio <filename>/usr/share/
        syscons/scrnmaps</filename>, sin el sufijo <filename>.scm
        </filename>.  Normalmente es necesario un mapa de pantalla
        (<quote>screenmap</quote>) con un tipo de letra
        correspondiente para poder extender de 8 a 9 bits la matriz
        de caracteres de una tarjeta VGA en un &aacute;rea
        pseudogr&aacute;fica, es decir, desplazar las letras fuera
        de ese &aacute;rea si el tipo de letra de pantalla usa una
        columna de 8 bits.</para>

      <para>Si tiene habilitado el d&aelig;mon <application>moused
        </application> por configurar esto en su <filename>/etc/
        rc.conf</filename>:</para>

<programlisting>moused_enable="YES"</programlisting>

      <para>entonces estudie la informaci&oacute;n sobre el cursor
        del rat&oacute;n del siguiente p&aacute;rrafo.</para>

      <indexterm>
        <primary><application>moused</application></primary>
      </indexterm>
      <para>Por omisi&oacute;n, el cursor del rat&oacute;n del
        controlador &man.syscons.4; ocupa el intervalo 0xd0-0xd3 del
        juego de caracteres.  Si su idioma usa este intervalo,
        necesita desplazar el intervalo del cursor fuera de
        &eacute;l.  En versiones de &os; anteriores a la 5.0,
        introduzca la siguiente l&iacute;nea en la
        configuraci&oacute;n del n&uacute;cleo:</para>

      <programlisting>options		SC_MOUSE_CHAR=0x03</programlisting>

      <para>En &os; 4.4 y posteriores, introduzca la siguiente
        l&iacute;nea en <filename>/etc/rc.conf</filename>:</para>

      <programlisting>mousechar_start=3</programlisting>

      <para>Aqu&iacute;, el <replaceable>nombre_del_mapa_de_teclado
        </replaceable> se toma del directorio <filename>/usr/share/
        syscons/keymaps</filename>, sin el sufijo <filename>.kbd
        </filename>.  Si no est&aacute; seguro de cual mapa de
        teclado usar, puede usar &man.kbdmap.1; para probar los mapas
        de teclado sin reiniciar.</para>

      <para>Normalmente se necesita el <literal>keychange</literal>
        para programar las teclas de funci&oacute;n para que 
	coincidan con el tipo de terminal seleccionado, porque las
	secuencias de las teclas de funci&oacute;n no se pueden
	definir en el mapa de teclado.</para>

      <para>Aseg&uacute;rese tambi&eacute;n de configurar el tipo de
        terminal consola correcto en <filename>/etc/ttys</filename>
	para todas las entradas <literal>ttyv*</literal>.  Las
	correspondencias predefinidas actualmente son:</para>

      <informaltable frame="none" pgwide="1">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>Juego de caracteres</entry>
	      <entry>Tipo de terminal</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>ISO-8859-1 o ISO-8859-15</entry>
	      <entry><literal>cons25l1</literal></entry>
	    </row>

	    <row>
	      <entry>ISO-8859-2</entry>
	      <entry><literal>cons25l2</literal></entry>
	    </row>

	    <row>
	      <entry>ISO-8859-7</entry>
	      <entry><literal>cons25l7</literal></entry>
	    </row>

	    <row>
	      <entry>KOI8-R</entry>
	      <entry><literal>cons25r</literal></entry>
	    </row>

	    <row>
	      <entry>KOI8-U</entry>
	      <entry><literal>cons25u</literal></entry>
	    </row>

	    <row>
	      <entry>CP437 (predeterminada en VGA)</entry>
	      <entry><literal>cons25</literal></entry>
	    </row>

	    <row>
	      <entry>US-ASCII</entry>
	      <entry><literal>cons25w</literal></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Para los idiomas en caracteres anchos o multibyte,
        utilice el port correcto de &os; en su directorio <filename>
	/usr/ports/<replaceable>idioma</replaceable></filename>.
	Algunos ports aparecen como consola mientras que el sistema
	los ve como una vtty serie, por lo tanto debe reservar
	suficientes vtty tanto para X11 como la consola
	pseudoserie.  Aqu&iacute; tiene una lista parcial de
	aplicaciones para usar otros idiomas en la consola:</para>

      <informaltable frame="none" pgwide="1">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>Idioma</entry>
	      <entry>Ubicaci&oacute;n</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>Chino tradicional (BIG-5)</entry>
	      <entry><filename role="package">chinese/big5con
	        </filename></entry>
	    </row>

	    <row>
	      <entry>Japon&eacute;s</entry>
	      <entry><filename role="package">japanese/kon2-16dot</filename> o
	        <filename role="package">japanese/mule-freewnn</filename></entry>
	    </row>

	    <row>
	      <entry>Coreano</entry>
	      <entry><filename role="package">korean/han</filename></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>Configuraci&oacute;n de X11</title>

      <para>Aunque X11 no es parte del Proyecto &os;, hemos incluido
        aqu&iacute; algo de informaci&oacute;n para usuarios de &os;.
	Para m&aacute;s detalles, acuda al <ulink 
	url="http://www.x.org/">sitio web de &xorg;</ulink>
	o del servidor X11 que utilice.</para>

      <para>En <filename>~/.Xresources</filename>, puede afinar
        m&aacute;s las opciones de I18N espec&iacute;ficas de la
        aplicaci&oacute;n (v.g., tipos de letra, men&uacute;s, etc).
        </para>

      <sect3>
	<title>Visualizaci&oacute;n de los tipos de letra</title>
	<indexterm><primary>Servidor de tipos de letra True Type de
	  X11</primary></indexterm>
	<para>Instale el servidor <application>&xorg;</application>
	  (<filename role="package">x11-servers/xorg-server</filename>
	  o el servidor <application>&xfree86;</application>
	  (<filename role="package">x11-servers/XFree86-4-Server</filename>),
	  y despúes instale los tipos de letra &truetype; del idioma.  La
	  configuraci&oacute;n de la <quote>locale</quote> correcta para el
	  idioma deber&iacute;a permitirle ver el idioma seleccionado en
	  men&uacute;s y similares.</para>
      </sect3>

      <sect3>
	<title>Introducci&oacute;n de caracteres no ingleses</title>
	<indexterm><primary>M&eacute;todo de introducci&oacute;n X11
	  (XIM)</primary></indexterm>
	<para>El protocolo M&eacute;todo de Introducci&oacute;n X11
	  (XIM) es un nuevo est&aacute;ndar para todos los clientes
	  X11.  Todas las aplicaciones X11 deber&iacute;an estar
	  escritas como clientes XIM que reciben entradas de
	  servidores XIM.  Hay varios servidores XIM disponibles
	  para distintos idiomas.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Configuraci&oacute;n de la impresora</title>

      <para>Hay algunos juegos de caracteres de tipo char de C que
        est&aacute;n normalmente codificados por hardware en las
	impresoras.  Los juegos de caracteres anchos o multibyte
	precisan de una configuraci&oacute;n especial y recomendamos
	el uso de <application>apsfilter</application>.
	Tambi&eacute;n puede convertir el documento a los formatos
	&postscript; o PDF usando conversores espec&iacute;ficos del
	idioma.</para>
    </sect2>

    <sect2>
      <title>El n&uacute;cleo y los sistemas de ficheros</title>

      <para>El sistema de ficheros r&aacute;pido (FFS) de &os;
        funciona bien a 8 bits, as&iacute; que se puede usar con
	cualquier juego de caracteres de tipo char de C (vea
	&man.multibyte.3;), pero no hay almacenado ning&uacute;n
	nombre de juego de caracteres en el sistema de ficheros; es
	decir, son 8 bits en bruto y no sabe nada acerca del orden de
	codificaci&oacute;n.  Oficialmente, FFS no soporta
	todav&iacute;a ninguna forma de juegos de caracteres anchos o
	multibyte.  Sin embargo, algunos juegos de caracteres anchos
	o multibyte tienen parches independientes para habilitar
	dicho soporte en FFS.  Son solamente soluciones temporales no
	portables o <quote>hacks</quote>, y hemos decicido no
	incluirlas en el &aacute;rbol de c&oacute;digo fuente.
	Dir&iacute;jase a los sitios web de los respectivos idiomas
	para encontrar m&aacute;s informaci&oacute;n y los parches.</para>

      <indexterm><primary>DOS</primary></indexterm>
      <indexterm><primary>Unicode</primary></indexterm>
      <para>El sistema de ficheros &ms-dos;de &os; tiene la capacidad
        configurable de convertir entre los juegos de caracteres
	&ms-dos;, Unicode y los juegos de caracteres seleccionados del
	sistema de ficheros de &os;.  Vea &man.mount.msdos.8; para
	m&aacute;s detalles.</para>
    </sect2>
  </sect1>

  <sect1 id="l10n-compiling">
    <title>Compilaci&oacute;n de programas con soporte para I18N</title>

    <para>Muchos ports de &os; han sido portados con soporte para
      I18N.  Algunos de ellos est&aacute;n marcados con -I18N en el
      nombre del port.  &Eacute;stos y muchos otros programas tienen
      incorporado soporte para I18N y no necesitan ninguna
      consideraci&oacute;n especial.</para>

    <indexterm>
      <primary><application>MySQL</application></primary>
    </indexterm>
    <para>Sin embargo, algunas aplicaciones como <application>MySQL
      </application> necesitan tener el <filename>Makefile</filename>
      configurado con el juego de caracteres espec&iacute;fico.  Esto
      se hace normalmente en el <filename>Makefile</filename> o
      pasando un valor a <application>configure</application> en el
      c&oacute;digo fuente.</para>
  </sect1>

  <sect1 id="lang-setup">	
    <title>Localizaci&oacute;n de &os; a idiomas espec&iacute;ficos</title>

    <sect2 id="ru-localize">
      <sect2info>
	<authorgroup>
	  <author>
	    <firstname>Andrey</firstname>
	    <surname>Chernov</surname>
	    <contrib>Contribuido originalmente por </contrib>
	  </author>
	</authorgroup>
      </sect2info>
      <title>Idioma ruso (codificaci&oacute;n KOI8-R)</title>
      <indexterm>
	<primary>localizaci&oacute;n</primary>
	<secondary>Ruso</secondary>
      </indexterm>

      <para>Para m&aacute;s informaci&oacute;n sobre la
        codificaci&oacute;n KOI8-R, vea las
	<ulink url="http://koi8.pp.ru/">Referencias KOI8-R (Juego de
	  caracteres rusos para la red)</ulink>.</para>

      <sect3>
	<title>Configuraci&oacute;n de la <quote>locale</quote></title>

	<para>Ponga las siguientes l&iacute;neas en su fichero
	  <filename>~/.login_conf</filename>:</para>

	<programlisting>me:My account:\
	:charset=KOI8-R:\
	:lang=ru_RU.KOI8-R:</programlisting>

	<para>Vea anteriormente en este mismo cap&iacute;tulo
	  ejemplos de configuraci&oacute;n de las <link 
	  linkend="setting-locale">locales</link>.</para>
      </sect3>

      <sect3>
	<title>Configuraci&oacute;n de la consola</title>

	<itemizedlist>
	  <listitem>
	    <para>En versiones de &os; anteriores a la 5.0,
	      a&ntilde;ada la liguiente l&iacute;nea en el fichero de
	      configuraci&oacute;n del n&uacute;cleo:</para>

	    <programlisting>options		SC_MOUSE_CHAR=0x03</programlisting>

	    <para>En &os; 4.4 y posteriores introduzca la siguiente
	      l&iacute;nea en <filename>/etc/rc.conf</filename>:</para>

	    <programlisting>mousechar_start=3</programlisting>
	  </listitem>

	  <listitem>
	    <para>Utilice las siguientes opciones en
	      <filename>/etc/rc.conf</filename>:</para>

	    <programlisting>keymap="ru.koi8-r"
scrnmap="koi8-r2cp866"
font8x16="cp866b-8x16"
font8x14="cp866-8x14"
font8x8="cp866-8x8"</programlisting>

	  </listitem>

	  <listitem>
	    <para>Para cada entrada <literal>ttyv*</literal> en
	      <filename>/etc/ttys</filename>, utilice <literal>
	      cons25r</literal> como el tipo de terminal.</para>
	  </listitem>
	</itemizedlist>

	<para>Vea anteriormente en este mismo cap&iacute;tulo
	  ejemplos de configuraci&oacute;n de la <link
	  linkend="setting-console">consola</link>.</para>
      </sect3>

      <sect3>
	<title>Configuraci&oacute;n de la impresora</title>
	<indexterm><primary>impresoras</primary></indexterm>
	<para>Dado que la mayor&iacute;a de las impresoras con
	  caracteres rusos tienen un c&oacute;digo de p&aacute;gina
	  CP866 en hardware, es necesario un filtro de salida
	  especial para convertir de KOI8-R a CP866.  Tal filtro es
	  instalado por omisi&oacute;n como <filename>
	  /usr/libexec/lpr/ru/koi2alt</filename>.  Una entrada de
	  impresora rusa <filename>/etc/printcap</filename>
	  deber&iacute;a tener este aspecto:</para>

	<programlisting>lp|Russian local line printer:\
	:sh:of=/usr/libexec/lpr/ru/koi2alt:\
	:lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</programlisting>

	<para>Consulte &man.printcap.5; para una explicaci&oacute;n
	  detallada.</para>
      </sect3>

      <sect3>
	<title>Sistema de ficheros &ms-dos; y nombres de ficheros en
	  ruso</title>

	<para>La siguiente entrada &man.fstab.5; de ejemplo habilita
	  el soporte para nombres de fichero en ruso en los sistemas
	  de ficheros &ms-dos; montados:</para>

	<programlisting>/dev/ad0s2      /dos/c  msdos   rw,-Wkoi2dos,-Lru_RU.KOI8-R 0 0</programlisting>

	<para>La opci&oacute;n <option>-L</option> selecciona el
	  nombre de la <quote>locale</quote> usada, y <option>-W
	  </option> establece la tabla de conversi&oacute;n de
	  caracteres.  Para usar la opci&oacute;n <option>-W</option>
	  , aseg&uacute;rese de montar <filename>/usr</filename>
	  antes que la partici&oacute;n &ms-dos;, porque las tablas
	  de conversi&oacute;n se ubican en <filename>
	  /usr/libdata/msdosfs</filename>.  Para m&aacute;s
	  informaci&oacute;n, vea la p&aacute;gina de manual
	  &man.mount.msdos.8;.</para>
      </sect3>

      <sect3>
	<title>Configuraci&oacute;n de X11</title>

	<orderedlist>
	  <listitem>
	    <para>Antes haga la <link linkend="setting-locale">
	      configuraci&oacute;n de las <quote>locales</quote> para
	      la consola</link> como se ha explicado.</para>

	    <note>
	      <para><anchor id="russian-note">La <quote>locale
	        </quote> rusa KOI8-R puede no funcionar con versiones
		antiguas (anteriores a la 3.3) de <application>
		&xfree86;</application>.  <application>&xorg;
		</application> es ahora la versi&oacute;n predefinida
		del sistema de ventanas X en &os;.  Esto no
		deber&iacute;a ser un problema salvo que est&eacute;
		usando una versi&oacute;n antigua de &os;.</para>
	    </note>
	  </listitem>

	  <listitem>
            <para>Si utiliza <application>&xorg;</application>, instale
              el paquete <filename role="package">x11-fonts/xorg-fonts-cyrillic</filename>.</para>
	    
	    <para>Compruebe la secci&oacute;n <literal>"Files"</literal>
	      de su fichero <filename>/etc/X11/xorg.conf</filename>.  Se
	      deben a&ntilde;adir las siguientes l&iacute;neas <emphasis>
	      antes</emphasis> de ninguna otra entrada <literal>FontPath
	      </literal>:</para>

	    <programlisting>FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/misc"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/75dpi"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/100dpi"</programlisting>

	    <para>Si utiliza un modo de v&iacute;deo de alta resoluci&oacute;n,
	      intercambie las l&iacute;neas 75 dpi y 100 dpi.</para>
	  </listitem>

	  <listitem>
	    <para>Para activar un teclado ruso, a&ntilde;ada lo siguiente
	      a la secci&oacute;n <literal>"Keyboard"</literal> de su
	      fichero <filename>XF86Config</filename>.</para>

	    <para>Para <application>&xfree86; 3.X</application>:</para>

	    <programlisting>XkbLayout  "ru"
XkbOptions "grp:caps_toggle"</programlisting>

	    <para>Para <application>&xorg;</application> (o 
              <application>&xfree86; 4.X</application>):</para>

	    <programlisting>Option "XkbLayout"   "us,ru"
Option "XkbOptions"  "grp:toggle"</programlisting>

	    <para>Aseg&uacute;rese tambi&eacute;n de que <literal>XkbDisable
	      </literal> est&eacute; desactivado (comentado) all&iacute;.
	      </para>

	    <para>Para <literal>grp:caps_toggle</literal> la tecla para pasar
	      entre la codificaci&oacute;n
	      rusa y la latina ser&aacute; <keycap>BloqMay&uacute;s
	      </keycap>.  La antigua funci&oacute;n de <keycap>
	      BloqMay&uacute;s</keycap> todav&iacute;a est&aacute;
	      disponible a trav&eacute;s de <keycombo action="simul">
	      <keycap>May</keycap><keycap>BloqMay&uacute;s</keycap>
	      </keycombo> (s&oacute;lamente en modo latino).  Para 
	      <literal>grp:toggle</literal> la tecla para pasar entre la
	      codificaci&oacute;n rusa y la latina ser&aacute; 
	      <keycap>Alt derecha</keycap>.  <literal>grp:caps_toggle</literal>
	      no funciona en <application>&xorg;</application> por alguna
	      raz&oacute;n desconocida.</para>

	    <para>Si en su teclado dispone de teclas <quote>&windows;
	      </quote>, y observa que algunas teclas no 
	      alfanum&eacute;ricas est&aacute;n mapeadas
	      incorrectamente en el modo ruso, a&ntilde;ada la
	      siguiente l&iacute;nea en su fichero <filename>
	      XF86Config</filename>.</para>

	    <para>Para <application>&xfree86; 3.X</application>:
	      </para>

	<programlisting>XkbVariant "winkeys"</programlisting>

	    <para>Para <application>&xorg;</application> (o 
              <application>&xfree86; 4.X</application>):
	      </para>

	<programlisting>Option "XkbVariant" ",winkeys"</programlisting>

	    <note>
	      <para>El teclado XKB ruso puede no funcionar con 
	        versiones antiguas de <application>&xfree86;
		</application>, vea la <link linkend="russian-note">
		nota anterior</link> para m&aacute;s 
		informaci&oacute;n.  El teclado XKB ruso puede no
		funcionar tampoco con aplicaciones no localizadas.</para>
	    </note>
	  </listitem>
	</orderedlist>
	<note>
	  <para>Las aplicaciaones m&iacute;nimamente localizadas 
	    deber&iacute;an llamar una funci&oacute;n
	    <function>XtSetLanguageProc (NULL, NULL, NULL);</function> al
	    principio del programa.</para>

	  <para>Vea <ulink url="http://koi8.pp.ru/xwin.html">KOI8-R para X
	     Window</ulink> para m&aacute;s instrucciones sobre la
	     localizaci&oacute;n de aplicaciones X11.</para>
	</note>
      </sect3>
    </sect2>

    <sect2>
      <title>Localizaci&oacute;n al chino tradicional para 
        Taiw&aacute;n</title>
      <indexterm>
	<primary>localizaci&oacute;n</primary>
	<secondary>Chino tradicional</secondary>
      </indexterm>
      <para>El proyecto &os;-Taiw&aacute;n tiene una Gu&iacute;a de
        chino para &os; en <ulink 
	url="http://netlab.cse.yzu.edu.tw/~statue/freebsd/zh-tut/">
	</ulink> que utiliza muchos ports chinos.  El editor actual
	del <literal>&os; Chinese HOWTO</literal> es Shen Chuan-Hsing
	<email>statue@freebsd.sinica.edu.tw</email>.
      </para>

      <para>Chuan-Hsing Shen <email>statue@freebsd.sinica.edu.tw
        </email> ha creado la
	<ulink url="http://netlab.cse.yzu.edu.tw/~statue/cfc/">
	Colecci&oacute;n de &os; en chino (CFC)</ulink> usando
	<literal>zh-L10N-tut</literal> de &os;-Taiw&aacute;n.  Los
	paquetes y los guiones est&aacute;n disponibles en
	<ulink url="ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/CFC/">
	</ulink>.</para>
    </sect2>

    <sect2>
      <title>Localizaci&oacute;n al idioma alem&aacute;n (para todos
        los idiomas ISO 8859-1)</title>
      <indexterm>
        <primary>localizaci&oacute;n</primary>
        <secondary>Alem&aacute;n</secondary>
      </indexterm>

      <para>Slaven Rezic <email>eserte@cs.tu-berlin.de</email> ha
        escrito un tutorial de como usar las di&eacute;resis en una
	m&aacute;quina &os;.  El tutorial est&aacute; disponible en
	<ulink url="http://www.de.FreeBSD.org/de/umlaute/"></ulink>.
	</para>
    </sect2>

    <sect2>
      <title>Localizaci&oacute;n a los idiomas japon&eacute;s y
        coreano</title>
      <indexterm>
	<primary>localizaci&oacute;n</primary>
	<secondary>Japon&eacute;s</secondary>
      </indexterm>
      <indexterm>
	<primary>localizaci&oacute;n</primary>
	<secondary>Coreano</secondary>
      </indexterm>
      <para>Para el japon&eacute;s, dir&iacute;jase a
        <ulink url="http://www.jp.FreeBSD.org/"></ulink>,
	y para el coreano, acuda a
	<ulink url="http://www.kr.FreeBSD.org/"></ulink>.</para>
    </sect2>

    <sect2>
      <title>Documentaci&oacute;n sobre &os; en otros idiomas aparte
        del ingl&eacute;s</title>

      <para>Algunos contribuidores de &os; han traducido partes de
        &os; a otros idiomas.  Est&aacute;n disponibles a
	trav&eacute;s de enlaces en el <ulink
	url="http://www.freebsd.org/index.html">
	sitio principal</ulink> o en	<filename>/usr/share/doc
	</filename>.</para>
    </sect2>
  </sect1>
</chapter>

<!--
    Local Variables:
    mode: sgml
    sgml-declaration: "../chapter.decl"
    sgml-indent-data: t
    sgml-omittag: nil
    sgml-always-quote-attributes: t
    sgml-parent-document: ("../book.sgml" "part" "chapter")
    End:
 -->

