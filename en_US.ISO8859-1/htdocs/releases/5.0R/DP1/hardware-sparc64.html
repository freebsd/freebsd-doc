<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>FreeBSD/sparc64 5.0-CURRENT Hardware Notes</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.73 ">
    <link rel="STYLESHEET" type="text/css" href="docbook.css">
  </head>

  <body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="ARTICLE">
      <div class="TITLEPAGE">
        <h1 class="TITLE"><a name="AEN2">FreeBSD/sparc64
        5.0-CURRENT Hardware Notes</a></h1>

        <h3 class="CORPAUTHOR">The FreeBSD Documentation
        Project</h3>

        <p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002 by
        The FreeBSD Documentation Project</p>
        <hr>
      </div>

      <div class="TOC">
        <dl>
          <dt><b>Table of Contents</b></dt>

          <dt>1 <a href="#AEN10">Introduction</a></dt>

          <dt>2 <a href="#AEN15">Supported Systems</a></dt>

          <dd>
            <dl>
              <dt>2.1 <a href="#AEN18">Overview</a></dt>

              <dt>2.2 <a href="#AEN29">In general, what do you need
              to run FreeBSD on a sparc64</a></dt>

              <dt>2.3 <a href="#AEN56">System-specific
              information</a></dt>

              <dd>
                <dl>
                  <dt>2.3.1 <a href="#AEN60">Ultra 1</a></dt>

                  <dt>2.3.2 <a href="#AEN64">Ultra 2</a></dt>

                  <dt>2.3.3 <a href="#AEN81">Ultra 5/10</a></dt>

                  <dt>2.3.4 <a href="#AEN109">Ultra 60</a></dt>

                  <dt>2.3.5 <a href="#AEN133">Blade 100</a></dt>
                </dl>
              </dd>

              <dt>2.4 <a href="#AEN172">Supported Hardware
              Overview</a></dt>
            </dl>
          </dd>

          <dt>3 <a href="#AEN195">Supported Devices</a></dt>

          <dd>
            <dl>
              <dt>3.1 <a href="#AEN201">PCI Hardware</a></dt>

              <dt>3.2 <a href="#AEN239">SBus Hardware</a></dt>

              <dt>3.3 <a href="#AEN249">ISA Hardware</a></dt>

              <dt>3.4 <a href="#AEN259">EBus Hardware</a></dt>

              <dt>3.5 <a href="#AEN272">Unsupported
              Hardware</a></dt>
            </dl>
          </dd>

          <dt>4 <a href="#AEN300">Acknowledgments</a></dt>
        </dl>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN10">1 Introduction</a></h1>

        <p>This document contains the hardware compatibility notes
        for FreeBSD 5.0-CURRENT on the UltraSPARC hardware platform
        (also referred to as FreeBSD/sparc64 5.0-CURRENT). It lists
        devices known to work on this platform, as well as some
        notes on boot-time kernel customization that may be useful
        when attempting to configure support for new devices.</p>

        <div class="NOTE">
          <blockquote class="NOTE">
            <p><b>Note:</b> This document includes information
            specific to the UltraSPARC hardware platform. Versions
            of the hardware compatibility notes for other
            architectures will differ in some details.</p>
          </blockquote>
        </div>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN15">2 Supported
        Systems</a></h1>

        <p>Additions, corrections and constructive criticism are
        invited. In particular, information on system quirks is
        more than welcome.</p>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN18">2.1 Overview</a></h2>

          <p>This document tries to provide a starting point for
          those who want to run FreeBSD on an UltraSPARC-based
          machine. It is aimed at providing background information
          on the various hardware designs. It is not a replacement
          for the systems manuals.</p>

          <p>The information is structured as follows:</p>

          <ul>
            <li>
              <p>General hardware requirements to run FreeBSD on
              sparc64.</p>
            </li>

            <li>
              <p>System specific information for each of the
              systems/boards supported by FreeBSD.</p>
            </li>

            <li>
              <p>Information on expansion boards for FreeBSD,
              including things that differ from what is in the
              generic supported hardware list.</p>
            </li>
          </ul>
          <br>
          <br>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN29">2.2 In general, what do
          you need to run FreeBSD on a sparc64</a></h2>

          <p>FreeBSD/sparc64 requires an UltraSPARC system.
          Currently, the newer PCI-based systems are supported
          better than the older SBus based systems. The following
          systems are known to work to varying degrees:</p>

          <ul>
            <li>
              <p>Sun Ultra 1 workstations</p>
            </li>

            <li>
              <p>Sun Ultra 2 workstations</p>
            </li>

            <li>
              <p>Sun Ultra 5 workstations</p>
            </li>

            <li>
              <p>Sun Ultra 10 workstations</p>
            </li>

            <li>
              <p>Sun Ultra 30 workstations</p>
            </li>

            <li>
              <p>Sun Ultra 60 workstations</p>
            </li>

            <li>
              <p>Sun Blade 100 workstations</p>
            </li>

            <li>
              <p>Sun Netra t1 series servers</p>
            </li>

            <li>
              <p>Sun Enterprise 220R servers</p>
            </li>

            <li>
              <p>Sun Enterprise 250 servers</p>
            </li>

            <li>
              <p>Sun Enterprise 420R servers</p>
            </li>
          </ul>

          <p>Ultra 80 and Blade 1000 are expected to work, maybe
          with minor modifications. SMP is supported on Ultra 2 and
          60 workstations and Enterprise 220R, 250 and 420R
          servers.</p>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN56">2.3 System-specific
          information</a></h2>

          <p>Below is an overview of the UltraSPARC hardware that
          FreeBSD runs on. The GENERIC kernel configuration file in
          <tt class="FILENAME">/sys/sparc64/conf/GENERIC</tt> may
          contain additional information about supported
          devices.</p>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN60">2.3.1 Ultra
            1</a></h3>

            <p>UltraSPARC Ultra1-family systems have not been
            thoroughly tested with FreeBSD. These systems are not
            very well supported, but it is possible to install
            FreeBSD onto an Ultra-1e with a <tt class=
            "DEVICENAME">hme</tt> Ethernet interface.</p>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN64">2.3.2 Ultra
            2</a></h3>

            <p>UltraSPARC Ultra2-family systems include the
            following hardware:</p>

            <ul>
              <li>
                <p>1 or 2 UltraSPARC II CPUs</p>
              </li>

              <li>
                <p>Built-in Ethernet (<tt class=
                "DEVICENAME">hme</tt> compatible) interface</p>
              </li>

              <li>
                <p>4 SBus slots</p>
              </li>

              <li>
                <p>1 UPA Slot</p>
              </li>

              <li>
                <p>Serial and Parallel ports</p>
              </li>

              <li>
                <p>16-bit audio</p>
              </li>
            </ul>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN81">2.3.3 Ultra
            5/10</a></h3>

            <p>UltraSPARC Ultra5/10-family systems include the
            following hardware:</p>

            <ul>
              <li>
                <p>UltraSPARC IIi CPU</p>
              </li>

              <li>
                <p>Three PCI busses</p>
              </li>

              <li>
                <p>Built-in Ethernet (<tt class=
                "DEVICENAME">hme</tt> compatible) interface</p>
              </li>

              <li>
                <p>Built-in PCI-IDE controller <span class=
                "emphasis"><i class="EMPHASIS">(not yet committed -
                in Perforce tree)</i></span></p>
              </li>

              <li>
                <p>Two PC-AT style `com' ports for the mouse and
                keyboard</p>
              </li>

              <li>
                <p>Floppy driver controller</p>
              </li>

              <li>
                <p>Siemens SAB82532 dual-channel serial ports for
                ttya and ttyb</p>
              </li>

              <li>
                <p>One CS4231 audio device</p>
              </li>

              <li>
                <p>One PC-AT style parallel port</p>
              </li>

              <li>
                <p>Sun `ffb' frame buffer (Ultra10 only)</p>
              </li>

              <li>
                <p>EBus (Sun proprietary bus for slow devices)</p>
              </li>
            </ul>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN109">2.3.4 Ultra
            60</a></h3>

            <p>Sun Ultra 60 workstations include the following
            hardware:</p>

            <ul>
              <li>
                <p>1 or 2 UltraSPARC II CPUs</p>
              </li>

              <li>
                <p>4 PCI slots</p>
              </li>

              <li>
                <p>2 UPA slots</p>
              </li>

              <li>
                <p><a href=
                "http://www.FreeBSD.org/cgi/man.cgi?query=sym&sektion=4&manpath=FreeBSD+5.0-current">
                <span class="CITEREFENTRY"><span class=
                "REFENTRYTITLE">sym</span>(4)</span></a>-based
                UltraSCSI controller</p>
              </li>

              <li>
                <p>Built-in Ethernet (<tt class=
                "DEVICENAME">hme</tt> compatible) interface</p>
              </li>

              <li>
                <p>Serial and Parallel ports</p>
              </li>

              <li>
                <p>16-bit audio</p>
              </li>

              <li>
                <p>EBus (Sun proprietary bus for slow devices)</p>
              </li>
            </ul>
          </div>

          <div class="SECT3">
            <hr>

            <h3 class="SECT3"><a name="AEN133">2.3.5 Blade
            100</a></h3>

            <p>Sun Blade 100 workstations include the following
            hardware:</p>

            <ul>
              <li>
                <p>UltraSPARC IIe CPU</p>
              </li>

              <li>
                <p>Three PCI busses</p>
              </li>

              <li>
                <p>Built-in Ethernet (<tt class=
                "DEVICENAME">gem</tt> compatible) interface</p>
              </li>

              <li>
                <p>Two USB ports <span class="emphasis"><i class=
                "EMPHASIS">(unsupported)</i></span></p>
              </li>

              <li>
                <p>Two Firewire ports <span class="emphasis"><i
                class="EMPHASIS">(unsupported)</i></span></p>
              </li>

              <li>
                <p>Built-in PCI-IDE controller <span class=
                "emphasis"><i class="EMPHASIS">(not yet committed -
                in Perforce tree)</i></span></p>
              </li>

              <li>
                <p>Two PC-AT style `com' ports for the mouse and
                keyboard</p>
              </li>

              <li>
                <p>Floppy driver controller</p>
              </li>

              <li>
                <p><a href=
                "http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4&manpath=FreeBSD+5.0-current">
                <span class="CITEREFENTRY"><span class=
                "REFENTRYTITLE">sio</span>(4)</span></a> supported
                serial ports for ttya and ttyb</p>
              </li>

              <li>
                <p>One CS4231 audio device</p>
              </li>

              <li>
                <p>One PC-AT style parallel port</p>
              </li>

              <li>
                <p>Built-in PGX64 (ATI) graphics</p>
              </li>

              <li>
                <p>EBus (Sun proprietary bus for slow devices)</p>
              </li>

              <li>
                <p>ISA bus</p>
              </li>
            </ul>
          </div>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN172">2.4 Supported Hardware
          Overview</a></h2>

          <p>A word of caution: the installed base for
          FreeBSD/sparc64 is not nearly as large as for
          FreeBSD/Intel. This means that the enormous variation of
          PCI/ISA expansion cards out there has much less chance of
          having been tested on sparc64 than on Intel. This is not
          to imply they are doomed to fail, just that the chance of
          running into something never tested before is much
          higher. <tt class="FILENAME">GENERIC</tt> contains things
          that are known to work on sparc64 only.</p>

          <p>The PCI bus is fully supported. SBus support is
          limited, but is reported to work well enough to netboot
          an SBus-based Ultra 2 workstation.</p>

          <p>1.44 Mbyte floppy drives are <span class="emphasis"><i
          class="EMPHASIS">not</i></span> yet supported.</p>

          <p>ATA and ATAPI (IDE) devices are supported via the <a
          href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.0-current">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">ata</span>(4)</span></a> driver
          framework. <span class="emphasis"><i class=
          "EMPHASIS">(not yet committed - in Perforce
          tree)</i></span></p>

          <p>There is full SCSI support via the CAM layer. However,
          only NCR/Symbios cards are currently working. Adaptec
          2940x (AIC 7xxx chip-based) and <a href=
          "http://www.FreeBSD.org/cgi/man.cgi?query=isp&sektion=4&manpath=FreeBSD+5.0-current">
          <span class="CITEREFENTRY"><span class=
          "REFENTRYTITLE">isp</span>(4)</span></a> cards should be
          supported soon. Be aware that SCSI cards must contain Sun
          FCODE in order to use them as a boot device from
          OpenBoot.</p>

          <p>If you want to boot your sparc64 over the Ethernet you
          will obviously need an Ethernet card that the OpenBoot
          console recognizes.</p>

          <p><tt class="DEVICENAME">hme</tt>, <tt class=
          "DEVICENAME">gem</tt>, and <tt class=
          "DEVICENAME">eri</tt> based network devices.</p>

          <p>The ``PC standard'' serial ports found on most newer
          Sun workstations are supported.</p>
        </div>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN195">3 Supported
        Devices</a></h1>
        $FreeBSD:
        src/release/doc/en_US.ISO8859-1/hardware/sparc64/dev-sparc64.sgml,v
        1.1 2002/02/25 07:25:38 murray Exp $

        <p>This section describes the devices currently known to be
        supported by with FreeBSD on the UltraSPARC platform. Other
        configurations may also work, but simply have not been
        tested yet. Feedback, updates, and corrections to this list
        are encouraged.</p>

        <p>Where possible, the drivers applicable to each device or
        class of devices is listed. If the driver in question has a
        manual page in the FreeBSD base distribution (most should),
        it is referenced here.</p>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN201">3.1 PCI
          Hardware</a></h2>

          <p>In general, any device for which there is a driver can
          be made to work on sparc64. Some drivers might just work,
          others might require some changes (because this is the
          first big-endian architecture to be supported by
          FreeBSD).</p>

          <p>The following drivers are known to work:</p>

          <ul>
            <li>
              <p><tt class="LITERAL">apb</tt> (Sun PCI-PCI
              bridge)</p>
            </li>

            <li>
              <p>generic PCI-PCI bridges</p>
            </li>

            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=ahc&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">ahc</span>(4)</span></a> (coming real
              soon).</p>
            </li>

            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=ata&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">ata</span>(4)</span></a>, <tt class=
              "DEVICENAME">atadisk</tt>, <tt class=
              "DEVICENAME">atapicd</tt> (but not atapifd,
              atapist)</p>
            </li>

            <li>
              <p><tt class="DEVICENAME">gem</tt> (Sun GEM/ERI
              ethernet, on-board on Blade 100)</p>
            </li>

            <li>
              <p><tt class="LITERAL">hme</tt> (Sun HME ethernet,
              on-board on Ultra 5, 10)</p>
            </li>

            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">sio</span>(4)</span></a></p>
            </li>

            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=sym&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">sym</span>(4)</span></a></p>
            </li>
          </ul>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN239">3.2 SBus
          Hardware</a></h2>

          <p>The following drivers have SBus front ends:</p>

          <ul>
            <li>
              <p><tt class="LITERAL">hme</tt> Ethernet</p>
            </li>

            <li>
              <p><tt class="LITERAL">mk48txx</tt> ('eeprom' device;
              time-of-day clock)</p>
            </li>
          </ul>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN249">3.3 ISA
          Hardware</a></h2>

          <p>The paragraph about PCI drivers apply to ISA drivers
          as well, but with the notable exception that ISA DMA is
          not yet supported. This are generally on-board devices;
          there are no UltraSPARC boxes with ISA slots that the
          authors are aware of.</p>

          <p>The following drivers are known to work:</p>

          <ul>
            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">sio</span>(4)</span></a></p>
            </li>
          </ul>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN259">3.4 EBus
          Hardware</a></h2>

          <p>The EBus is specific to Sun hardware, so drivers need
          to have support added to work with these devices. It is
          quite similar to ISA, so that ISA drivers can usually be
          easily ported, provided that they use the bus space
          interface, and not in[bwl]/out[bwl] and related
          functions. DMA is not yet supported.</p>

          <p>The following drivers are known to work:</p>

          <ul>
            <li>
              <p><a href=
              "http://www.FreeBSD.org/cgi/man.cgi?query=sio&sektion=4&manpath=FreeBSD+5.0-current">
              <span class="CITEREFENTRY"><span class=
              "REFENTRYTITLE">sio</span>(4)</span></a></p>
            </li>

            <li>
              <p><tt class="LITERAL">mk48txx</tt> ('eeprom' device;
              time-of-day clock)</p>
            </li>
          </ul>
        </div>

        <div class="SECT2">
          <hr>

          <h2 class="SECT2"><a name="AEN272">3.5 Unsupported
          Hardware</a></h2>

          <p>The following hardware, which is built-in in Sun
          UltraSPARC boxes, is not currently supported:</p>

          <ul>
            <li>
              <p>graphics/frame buffer devices, keyboards (except
              indirectly in text mode using the <tt class=
              "DEVICENAME">ofw_console</tt> device)</p>
            </li>

            <li>
              <p>Siemens sab82532 serial ports (Ultra 5/10; the
              keyboard/mouse ports are also RS232 ones and
              supported by the sio driver though; a driver, 'se',
              is being worked on).</p>
            </li>

            <li>
              <p>serial keyboards (except indirectly using the <tt
              class="DEVICENAME">ofw_console</tt> device)</p>
            </li>

            <li>
              <p>Zilog z8530 serial ports (keyboard/mouse, ttya and
              ttyb in Ultra 1 and Ultra 2 boxen)</p>
            </li>

            <li>
              <p>fas (Fast SCSI controller builtin in most Ultra 1
              and Ultra 2 boxen)</p>
            </li>

            <li>
              <p>USB ports (have issues, should be easy to get to
              work though)</p>
            </li>

            <li>
              <p>all floppy drives/controllers</p>
            </li>

            <li>
              <p>smart card readers (the Blade 100 has one, don't
              know much about it)</p>
            </li>

            <li>
              <p>FireWire/IEEE1394</p>
            </li>

            <li>
              <p>sound cards</p>
            </li>

            <li>
              <p>parallel ports</p>
            </li>
          </ul>
        </div>
      </div>

      <div class="SECT1">
        <hr>

        <h1 class="SECT1"><a name="AEN300">4
        Acknowledgments</a></h1>

        <p>This document is based in part on the FreeBSD/Alpha and
        NetBSD/sparc64 release documentation. Information about
        specific system models was obtained from <a href=
        "http://www.sun.com" target="_top">Sun</a>.</p>
      </div>
    </div>
    <hr>

    <p align="center"><small>This file, and other release-related
    documents, can be downloaded from <a href=
    "ftp://current.FreeBSD.org/pub/FreeBSD/">ftp://current.FreeBSD.org/pub/FreeBSD/</a>.</small></p>

    <p align="center"><small>For questions about FreeBSD, read the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a>
    before contacting &#60;<a href=
    "mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.</small></p>

    <p align="center"><small><small>All users of FreeBSD 5-CURRENT
    should subscribe to the &#60;<a href=
    "mailto:current@FreeBSD.org">current@FreeBSD.org</a>&#62;
    mailing list.</small></small></p>

    <p align="center">For questions about this documentation,
    e-mail &#60;<a href=
    "mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</p>
    <br>
    <br>
  </body>
</html>

