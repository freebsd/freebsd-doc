<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for
  Status Report//EN"
  "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >

<!-- $FreeBSD$ -->

<report>
  <date>
    <month>October-December</month>

    <year>2014</year>
  </date>

  <section>
    <title>Introduction</title>

<!-- <?ignore -->
    <p><strong>This is a draft of the October&ndash;December 2014 status
	report.	 Please check back after it is finalized, and an
	announcement email is sent to the &os;-Announce mailing
	list.</strong></p>
<!-- ?> -->

    <p>This report covers &os;-related projects between October and
      December 2014.  This is the last of four reports planned for
      2014.</p>

    <p>The fourth quarter of 2014... was a very busy and productive
      time</p>

    <p>Thanks to all the reporters for the excellent work!</p>

    <p>The deadline for submissions covering the period from January
      to March 2015 is April 7th, 2015.</p>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>doc</name>

    <description>Documentation</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='misc'>
    <title>&os; Forum Software Migration</title>

    <contact>
      <person>
	<name>&os; Forums Administration Team</name>
	<email>forum-admins@</email>
      </person>
    </contact>

    <body>
      <p>With funding from the &os; Foundation, the &os; forums
	were migrated to XenForo software.  The new software is far more
	capable and easy to use.  While the entire forum team
	contributed, &a.danger; did a particularly excellent job
	importing existing users and messages and bringing back the
	often-requested "Thanks" feature.  The upgrade was completed in
	time to be ready for the influx of new users from the release of
	&os; 10.1, and we have already seen an increase in usage.</p>

      <p>Developers with an @FreeBSD.org address can contact forum
	administrators to obtain the highly-desired "@"	suffix on their
	forum user name along with a Developer flag.</p>

      <p>We want to thank the Foundation for making this possible, and
	the users for their patience and continued presence on the
	forums!</p>
    </body>

    <sponsor>
      The &os; Foundation
    </sponsor>

    <help>
      <task>
 	<p>Encourage more developers and users to try the new forums.</p>
      </task>

      <task>
	<p>Continue getting feedback from users for tuning and
	  improvements.</p>
      </task>
    </help>
  </project>

  <project cat='kern'>
    <title>Process management</title>

    <contact>
      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>Peter</given>
	  <common>Holm</common>
	</name>
	<email>pho@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>There were several improvements made to the FreeBSD process
	management last quarter.</p>

      <p>Reaper. The facility to allow a process to reliably track the
	running and exiting state of the whole subtree of the processes,
	was added.  It is intended to improve tools like timeout(1) or
	poudriere, by making it impossible for the runaway granchild to
	escape the controlling process.  Feature was designed based on
	similar facility in the DragonFlyBSD and Linux, with some
	references to the Solaris contracts.  Committed to HEAD in
	r275800.</p>

      <p>Total stop.  Right now, the FreeBSD suspension code does not
	ensures that the system, both from software and from hardware
	view, is in the steady and consistent state.  One aspect is the
	usermode process activity which is not stopped, continuing to
	making requests to the hardware.  It is not realistic to expect
	drivers to be able to correctly handle the calls after
	SUSPEND_CHILD.</p>

      <p>Together with Peter Holm, we developed a facility to stop
	usermode threads at the safe points, where they are known to not
	own and to not wait for kernel resources, in particular, not
	waiting for device requests finishing.  It is based on the
	existing single-threading code, but extending it to allow external
	thread to put some process into stopped state.  Also, a facility
	to sync filesystems before suspend was added, to ensure that
	consistent metadata and as much as possilbe of the cached user
	data are on stable storage, to minimize damage of failed
	resume.</p>

      <p>The code stressed some parts of the system and lead to
	discovery of the unusual numbers of bugs in the different parts of
	the system, including process management, buffer cache and syscall
	handlers.  The bugs were fixed, fixes and the features commmitted
	by a series culminating in r275745.</p>

      <p>Process spinlock changes. During the work described above, it
	was noted that process spinlock duties are significantly
	overloaded (the same is true for the process lock).  The spinlock
	was split into per-feature lock, see r275121.  Also, as result, it
	was possible to eliminate recursion on it, r275372.</p>
    </body>

    <sponsor>The FreeBSD Foundation</sponsor>

  </project>

  <project cat='proj'>
    <title>FreeBSD on the Acer C720 Chromebook</title>

    <contact>
      <person>
	<name>
	  <given>Michael</given>
	  <common>Gmelin</common>
	</name>
	<email>freebsd@grem.de</email>
      </person>
    </contact>

    <links>
      <url href="http://blog.grem.de/pages/c720.html" />
    </links>

    <body>
      <p>Most system features work, including keyboard, WiFi, sound,
	VESA graphics, touchpad, USB and decent battery life (5 to 6 hours).</p>
    </body>

    <help>
      <task>
	<p>Streamline patches and merge them into HEAD.</p>
      </task>

      <task>
	<p>Make suspend/resume work (depends on Haswell support).</p>
      </task>
    </help>
  </project>

  <project cat='misc'>
    <title>Creating Vagrant images with Packer</title>

    <contact>
      <person>
	<name>
	  <given>Brad</given>
	  <common>Davis</common>
	</name>
	<email>brd@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://blogs.freebsdish.org/brd/2014/12/22/freebsd-packer-vagrant/">Blog Announcement</url>
      <url href="https://github.com/so14k/packer-freebsd">Git Repo</url>
    </links>

    <body>
      <p>We have developed a recipe to use Packer to create FreeBSD
	Vagrant images to run on VMware and VirtualBox.</p>

      <p><a href="https://www.packer.io/">Packer</a> is a tool for
	creating identical machine images for multiple platforms from a
	single source configuration.</p>

      <p><a href="https://www.vagrantup.com/">Vagrant</a> is a tool to
	create and configure lightweight, reproducible, and portable
	development environments.</p>

      <p>To get started clone the Git repo and follow the directions in
	the README.  More information is available from the Packer and
	Vagrant websites.</p>
    </body>
  </project>

  <project cat="proj">
    <title>pkg(8)</title>

    <contact>
      <person>
	<name>The pkg team</name>

	<email>pkg@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://github.com/freebsd/pkg"/>
    </links>

    <body>
      <p>The package development team has released <tt>pkg(8)</tt> 1.4.
	This release fixes lots of bugs and adds some new features:
	<ul>
	  <li>Stricter checking of the path passed via the plist</li>
	  <li>Change in the ABI to be closer to MACHINE_ARCH</li>
	  <li>Add three-way merge functionnality</li>
	  <li>Add conservative upgrade support for multi repository configurations</li>
	  <li>Multirepository priority</li>
	</ul>
      </p>

      <p>An important part of the development direction for the 1.4
	release has been done on stabilizing the existing features, and
	improving the <tt>pkg(8)</tt> experience on small/embedded
	machines (reduce memory usage, speed up operations).</p>

      <p><tt>pkg(8)</tt> is not only the &os; Package Manager, but the
	Package Manager for DragonflyBSD.  Additionally support has been
	added to build <tt>pkg(8)</tt> on OS X and Linux.  This work
	will allow other Operating Systems the option of adopting
	<tt>pkg(8)</tt> to manage their packages and bring new
	developers into the project.</p>
    </body>

    <help>
      <task>
	<p>Add more regression tests.</p>
      </task>
      <task>
	<p>Package FreeBSD base.</p>
      </task>
      <task>
	<p>Allow using mtree as a plist when creating a package.</p>
      </task>
      <task>
	<p>Implement flexible dependencies.</p>
      </task>
      <task>
	<p>Test the developement branch.</p>
      </task>
      <task>
	<p>More developers are needed, check the Issues on Github.</p>
      </task>
    </help>
  </project>

  <project cat="bin">
    <title>mandoc(1) support</title>

    <contact>
      <person>
	<name>
	  <given>Baptiste</given>
	  <common>Daroussin</common>
	</name>
	<email>bapt@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>Ulrich</given>
	  <common>Spoerlein</common>
	</name>
	<email>uqs@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>The Documentation Team</given>
	</name>
	<email>docs@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://mdocml.bsd.lv" />
    </links>

    <body>
      <p><tt>mandoc(1)</tt> has been made the default manual page
	formatter on HEAD -- man(1) will use <tt>mandoc(1)</tt> to
	format manual pages by default, then fall back to
	<tt>groff(1)</tt> if it fails.</p>
 
      <p>This change also fixes an issue with FreeBSD <tt>man(1)</tt>
	command not able to properly deal with ".so" in gzipped manual
	pages.</p>
 
      <p>The documentation team has spent a lot of time fixing issues
	reported by <tt>mdoc(7)</tt> in the FreeBSD manual pages.  This
	greatly improves the quality of our manual pages.</p>
 
      <p>Most manual pages with remaining issues are from contrib/ for
	which changes should be reported and fixed upstream.</p>
 
      <p>The "manlint" target has also been switch to use <tt>mandoc
	-Tlint</tt> which results in the target being way more useful
	when working on manual pages.</p>
 
      <p>Some <tt>groff(1)</tt> vs <tt>mandoc(1)</tt> formatting
	differencies have been spotted and reported to mandoc's upstream
	developers.</p>
    </body>

    <help>
      <task>
	<p>Switch <tt>makewhatis(1)</tt> to the version shipped with
	  <tt>mandoc(1)</tt>.</p>
      </task>
      <task>
	<p>Figure out a way to detect non <tt>mandoc(1)</tt> friendly
	  manpages from ports and create catpages with <tt>groff(1)</tt>
	  for them.</p>
      </task>
      <task>
	<p>Remove <tt>groff(1)</tt> from base.</p>
      </task>
    </help>
  </project>

  <project cat='proj'>
    <title>External toolchain</title>

    <contact>
      <person>
	<name>
	  <given>Baptiste</given>
	  <common>Daroussin</common>
	</name>
	<email>bapt@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>Warner</given>
	  <common>Losh</common>
	</name>
	<email>imp@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>Brooks</given>
	  <common>Davis</common>
	</name>
	<email>brooks@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/ExternalToolchain" />
    </links>

    <body>
      <p>The main goal of the external toolchain project is to be able
	to build world and kernel with non default toolchain.  It can be
	helpful to:
	<ul>
	  <li>Prepare a migration to a newer version of the components like compilers, binutils, and elftoolchain.</li>
	  <li>Port &os; to newer architecture</li>
	  <li>Upgrade from a &os; that ships with GCC 4.2 to a version that ship with clang 3.5+ (which need a more modern toolchain than GCC 4.2 to bootstrap.</li>
	</ul>
      </p>

      <p>The initial support for external toolchain only supported
	clang.  It has been extended to support recent GCC (4.9.1 has
	been tested) and recent binutils (2.24 and 2.25).</p>

      <p>A large number of fixes have been committed to HEAD to support
	incompatible behaviour changes between <tt>ld(1)</tt> from
	binutils 2.17.50 (the version in base) and binutils 2.24+.</p>

      <p>A large number of warnings have been deactivated when building
	the kernel to make sure it is possible to build the kernel with
	recent GCC (first 4.6 and then 4.9.1)</p>

      <p>The build system has been changed to build libc++ as a C++
	stack when a recent enough GCC (4.6+) is used to build world.
	</p>

      <p>To simplify using an external toolchain, the following
	pre-seeded configurations have been added to the ports tree:
	<ul>
	  <li>amd64-xtoolchain-gcc</li>
	  <li>powerpc64-xtoolchain-gcc</li>
	  <li>sparc64-xtoolchain-gcc</li>
	</ul>
      </p>

      <p>Those packages will depend on special version of GCC
	(minimalistic cross-built ready GCC) and on binutils.  To use
	them run: <tt>make CROSS_TOOLCHAIN=powerpc64-gcc TARGET=powerpc
	TARGET_ARCH=powerpc64</tt></p>

      <p>As a result of this effort, it has been possible to
	successfully build and run a kernel and world built with GCC
	4.9.1 and binutils 2.24 on sparc64, amd64 (with minor tweaks for
	amd64), powerpc and powerpc64.</p>
    </body>

    <help>
      <task>
	<p>Patch and upstream GCC 4.9 to support &os; mips, arm and
	aarch64.</p>
      </task>
      <task>
	<p>Adapt and upstream the aarch64 patches for binutils 2.25.</p>
      </task>
      <task>
	<p>Add more pre seeded configurations.</p>
      </task>
    </help>
  </project>

  <project cat='kern'>
    <title>Timer function support for linuxolator</title>

    <contact>
      <person>
	<name>
	  <given>Bjoern A.</given>
	  <common>Zeeb</common>
	</name>
	<email>bz@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>Since 2006, initial support for Linux timer function
	compatibility support was present but untested.
	This update corrects the initial implementation and makes it
	available to the 32bit linuxolator on amd64, not just on i386.
      </p>

      <p>Starting with &os; 10.1, this enables users to run another
	FPGA high-level synthesis toolchain and emulation platform
	on a FreeBSD system.
      </p>
    </body>

    <sponsor>DARPA</sponsor>
    <sponsor>AFRL</sponsor>

  </project>

  <project cat='ports'>
    <title>GNOME on FreeBSD</title>

    <contact>
      <person>
	<name>FreeBSD GNOME Team</name>
	<email>gnome@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/gnome">FreeBSD GNOME Team website</url>
      <url href="https://github.com/freebsd/freebsd-ports-gnome">FreeBSD Team development repo</url>.
      <url href="https://wiki.gnome.org/Projects/Jhbuild/FreeBSD">GNOME jhbuild buildbot wiki pages.</url>
    </links>

    <body>
      <p>The FreeBSD GNOME Team maintains the GNOME, MATE and CINNAMON desktop
	environments and graphical user interfaces for FreeBSD. GNOME 3 is part
	of the GNU Project. MATE is a fork of the GNOME 2 desktop. CINNAMON
	is desktop environment using GNOME 3 technologies but with a GNOME 2
	look and feel.</p>

      <p>This quarter was exciting time for the GNOME Team. We imported
	GNOME 3.14.0 and CINNAMON 2.2.16 into the ports tree. At the same
	time we removed the old GNOME 2.32 desktop. And two weeks later
	we updated GNOME to 3.14.2 and CINNAMON to 2.4.2 which was collected
	while the preparation for the initial GNOME 3.14.0 import was
	underway.</p>

      <p>We moved our development repo to GitHub. The link is in the links
	section. The <tt>master</tt> branch is vanilla, and we have
	<tt>theme branches</tt> for topic, like the porting of MATE 1.9
	(mate-1.10 branch) and GNOME 3.15 (gnome-3.16 branch). The GNOME
	3.14 branch (gnome-3.14) is not used/updated anymore because the
	content has been committed to ports.</p>
    </body>

    <help>
      <task>
	<p>The GNOME website is stale. Work is starting on updating
	  the development section. We could use some help here.</p>
      </task>

      <task>
	<p>MATE 1.10 porting is underway, the latest 1.9 releases are
	  available in the mate-1.10 branch.</p>
      </task>

      <task>
	<p>GNOME 3.16 porting is underway, and is available in the
	  gnome-3.16 branch.</p>
      </task>
    </help>
  </project>

  <project cat='team'>
    <title>The &os; Core Team</title>

    <contact>
      <person>
	<name>&os; Core Team</name>
	<email>core@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>The &os; Core Team constitutes the project's "Board of
	Directors", responsible for deciding the project's overall goals
	and direction as well as managing specific areas of the &os;
	project landscape.</p>

      <p>During the fourth quarter of 2014, the &os; Core team saw the
	culmination of a long-running project to rebuild the &os;
	Forums.  The chosen solution was to license XenForo; core would
	like to thank the FreeBSD Foundation for paying the licensing
	costs of this software.</p>

      <p>Much discussion ensued concerning the "New Support Model"
	following Core's meeting at EuroBSDCon in September.  It was
	recognised that trying to change the model immediately before
	10.1-RELEASE was far too late, and the change will be targeted
	at 11.0-RELEASE.</p>

      <p>In order to ensure that 10.1-RELEASE shipped with support for
	up-to-date X Windows and KDE4, core approved the switch to 'new
	Xorg' as the default in time for building the packages for that
	release.</p>

      <p>Git was officially promoted from beta to an officially
	supported version control system.  Git is available as a
	read-only resource for downstream consumers and contains an
	exported copy from SVN, the primary and only read-write
	repository.  The &os; git repositories (exported from the
	master SVN version control) will shortly be available at
	https://git.freebsd.org/, and core has been active
	in ensuring that there is a sufficient body of Git
	administrators available with access to appropriate
	documentation in order to maintain a good git service.</p>

      <p>Core mediated in disputes between a number of committers over
	some updates to system sources, and fielded complaints about
	code quality of some other work in critical areas.
	While such disagreements will occasionally occur, core is
	promoting the routine use of the phabricator service in order to
	review work before committal.  Catching problems early is in the
	project's best interests, and discussion of changes in an open
	review context should minimize confrontational demands for
	immediate back-out of changes.</p>

      <p>Core is working on a charter for a proposed new QA team, to
	encompass members of the Release Engineering and Security teams,
	as well as committers with interests in standards compliance.
	It is envisioned that the QA team will take responsibility for
	merging code from HEAD into the STABLE branches, run integration
	testing against those updates and handle merging patches and
	bug-fixes submitted to the &os; project from third parties.</p>

      <p>During this quarter, core issued two new commit bits, and also
	took two commit bits into safe-keeping.</p>
	
    </body>
  </project>

  <project cat='ports'>
    <title>KDE on FreeBSD</title>

    <contact>
      <person>
	<name>
	  <given>KDE on &os; team</given>
	</name>
	<email>kde@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://freebsd.kde.org/" />
      <url href="https://freebsd.kde.org/area51.php" />
      <url href="https://wiki.freebsd.org/KDE" />
      <url href="https://mail.kde.org/mailman/listinfo/kde-freebsd" />
      <url href="http://portscout.freebsd.org/kde@freebsd.org.html" />
    </links>

    <body>
      <p>The KDE on &os; team focuses on packaging and making sure that the
	experience of KDE and Qt on &os; is as good as possible.</p>

      <p>As mentioned last quarter, Alonso Schaich (alonso@) became a
	committer and since then has made good progress helping his mentors
	Raphael Kubo da Costa (rakuco@) and Max Brazhnikov (makc@) maintain all
	Qt and KDE-related ports.</p>

      <p>This quarter, Qt 5.3 was finally committed to the ports tree
	after extensive work that included cleaning up and/or changing a lot of
	the Qt5 ports infrastructure to make it both easier to maintain the Qt
	ports as well as finally make it possible to build newer versions when
	older ones are already installed on the system.</p>

      <p>We have also updated KDE in our experimental area51 repository
	and committed several updates to other ports such as KDevelop and KDE
	Telepathy. Overall, we have worked on the following releases:
	<ul>
	  <li>CMake 3.1.0 (in area51, exp-run in progress for it to be committed to the ports tree)</li>
	  <li>Calligra 2.8.6 (in area51)</li>
	  <li>KDE 4.14.2 (committed to ports), 4.14.3 (in area51)</li>
	  <li>KDE Telepathy 0.8.0 (committed to ports)</li>
	  <li>KDevelop 4.7.0 (committed to ports)</li>
	  <li>Qt 5.3.2 (committed to ports)</li>
	</ul>
      </p>

      <p>Tobias Berner has contributed patches to update QtCreator to 3.3.0 as
	well as KDE Frameworks 5 ports which are under review for inclusion
	in our experimental area51 repository.</p>
    </body>

    <help>
      <task>
	<p>Update Qt5 to 5.4.0.</p>
      </task>

      <task>
	<p>Try to contribute to the work on getting rid of HAL on &os;,
	  which seems to be gaining more traction recently.</p>
      </task>
      <task>
	<p>Add KDE Frameworks 5 ports to our experimental repository.</p>
      </task>
    </help>
  </project>

  <project cat='doc'>
    <title>More Michael Lucas books</title>

    <contact>
      <person>
	<name>
	  <given>Michael</given>
	  <common>Lucas</common>
	</name>
	<email>mwlucas@michaelwlucas.com</email>
      </person>
    </contact>

    <links>
      <url href="https://www.michaelwlucas.com/nonfiction/freebsd-mastery-storage-essentials">FreeBSD Mastery: Storage Essentials page</url>
      <url href="http://blather.michaelwlucas.com">blog</url>
    </links>

    <body>
      <p>The first small &os; Book, "FreeBSD Mastery: Storage
	Essentials" is available.</p>

      <p>Lucas is moving on to &os; books on ZFS, Specialty
	Filesystems, and jails. They will hopefully be available by
	BSDCan 2015.</p>

      <p>Get status updates on his blog, or follow @mwlauthor on Twitter.</p>
    </body>

    <help>
      <task>
	<p>Push BSDCan out to June, so he has more time to write the
	  new books.</p>
      </task>
    </help>
  </project>

  <project cat='doc'>
    <title>New Translators Mailing List</title>

    <contact>
      <person>
	<name>&os; Translators Mailing List</name>
	<email>freebsd-translators@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>A new mailing list has been created for people translating
	&os; documents and programs from English into other languages.
	Discussions can include methods, tools, and techniques.
	Existing translators are encouraged to join so there is a
	single point of contact.  New translators and those who wish
	to help with translation are welcome.</p>

      <p>New members are asked to introduce themselves and mention the
	languages they are interested in translating.</p>
    </body>

    <help>
      <task>
	<p>Encourage existing translators to join.</p>
      </task>

      <task>
	<p>Welcome and educate new volunteers.</p>
      </task>

      <task>
	<p>Work on implementing newer and easier translation
	  systems and tools.</p>
      </task>
    </help>
  </project>

  <project cat='proj'>
    <title>Jenkins Continuous Integration for &os;</title>

    <contact>
      <person>
	<name>
	  <given>Craig</given>
	  <common>Rodrigues</common>
	</name>
	<email>rodrigc@FreeBSD.org</email>
      </person>

      <person>
	<name>Jenkins Administrators</name>
	<email>jenkins-admin@FreeBSD.org</email>
      </person>

      <person>
	<name>&os; Testing</name>
	<email>freebsd-testing@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://jenkins.freebsd.org">Jenkins CI server in &os; cluster</url>
      <url href="http://jenkins-ci.org/content/freebsd-project-use-jenkins-os-testing">FreeBSD and Jenkins OS Testing</url>
      <url href="https://wiki.freebsd.org/201411DevAndVendorSummit?action=AttachFile&amp;do=view&amp;target=kyua_jenkins.pdf">Kyua and Jenkins Testing Framework for BSD </url>
      <url href="https://issues.jenkins-ci.org/browse/JENKINS-21507">PAM authentication problems in FreeBSD</url>
      <url href="https://issues.jenkins-ci.org/browse/JENKINS-24521">Issue to update Jenkins to JNA 4.1.0 for FreeBSD</url>
      <url href="https://github.com/rodrigc/kyua/wiki/Quickstart-Guide">Kyua Quickstart Guide</url>
      <url href="http://www.freshports.org/textproc/igor/">Igor tool for proofreading documentation</url>
      <url href="https://jenkins.freebsd.org/job/FreeBSD_Doc-igor">FreeBSD_Doc-igor Jenkins build</url>
      <url href="https://jenkins.freebsd.org/job/FreeBSD_HEAD_sparc64/">FreeBSD_HEAD_sparc64 Jenkins build</url>
      <url href="https://lists.freebsd.org/pipermail/freebsd-testing/2014-November/000609.html">Susan Stanziano from Xinuous ran kyua tests</url>
      <url href="https://lists.freebsd.org/pipermail/freebsd-testing/2014-December/000697.html">Andy Zhang from Microsoft ran kyua tests</url>
      <url href="https://lists.freebsd.org/pipermail/svn-src-all/2014-October/092212.html">&a.ngie; imported NetBSD tests</url>
      <url href="http://lists.freebsd.org/pipermail/freebsd-testing/2015-January/000713.html">Steve Wills ran tests in Google Compute Engine</url>
      <url href="https://github.com/Homebrew/homebrew/pull/32346">Kyua submitted to Homebrew project</url>
      <url href="https://github.com/freebsd/freebsd-ci/pull/3">Brian Gardner submits jtreg tests</url>
      <url href="https://lists.freebsd.org/pipermail/freebsd-testing/2015-January/000723.html">Ahmed Kamal offers to help with Saltstack</url>
      <url href="https://lists.freebsd.org/pipermail/freebsd-testing/2015-January/000722.html">MIPS builds</url>
    </links>

    <body>
      <p>Since the last status report, many people have contributed
	help in various areas to help with with Continuous Integration
	and Testing in FreeBSD.  Some of the highlights include:</p>

      <ul>
	<li>The Jenkins project mentioned on their blog how FreeBSD is using
	  Jenkins and kyua to run OS-level tests.</li>

	<li>&a.rodrigc; submitted patches to upgrade Jenkins to use JNA 4.1.0.
	  The Jenkins project accepted these patches [JENKINS-24521] in
	  the Jenkins 1.586 release.  This fixed problems with PAM
	  authentication support in Jenkins on FreeBSD [JENKINS-21507].</li>

	<li>&a.rodrigc; gave a presentation Kyua and Jenkins Testing
	  Framework for BSD at the Developer and Vendor summit on
	  November 3, 2014 in San Jose, California.  In the presentation,
	  &a.rodrigc;'s described how for every commit to the FreeBSD source
	  tree, nearly 3000 tests are run using kyua inside a bhyve virtual
	  machine.  The kyua test results are exported to JUnit XML format,
	  which is then used by Jenkins to generate web-based test reports with
	  graphs.</li>

	<li>&a.lwhsu; set up a Jenkins build named FreeBSD_Doc-igor
	  to run the Igor tool written by &a.wblock;.  Igor proofreads
	  FreeBSD documentation and reports various errors.</li>

	<li>&a.rodrigc; set up a Jenkins build named
	  FreeBSD_HEAD_sparc64 to build the FreeBSD HEAD branch for
	  the sparc64 architecture</li>

	<li>&a.ngie; imported more tests from NetBSD.  After this import,
	  there are now over 3000 tests in the /usr/tests
	  directory.</li>

	<li>Susan Stanziano from Xinuous ran kyua tests and provided
	  feedback about test errors, running the tests in a bhyve
	  VM.</li>

	<li>Andy Zhang from Microsoft ran kyua tests and provided
	  feedback about test errors running in a Hyper-V 2012R2
	  VM.</li>

	<li>&a.swills; ran the &os; tests in Google Compute Engine and provided
	  the test results.</li>

	<li>&a.rodrigc; submitted a formula to create a package for
	  kyua in the Homebrew packaging system on OS X.  The Homebrew project
	  accepted this.  Now, kyua can easily be installed on OS X via a
	  Homebrew package.  Hopefully &os; this will make it easier to share
	  more test infrastructure and scripts with OS X.</li>

	<li>&a.rodrigc; submitted to the Debian project a kyua
	  package.  Approval for this is still pending.  A package
	  will make it much easier to install kyua on Linux distributions which
	  use Debian packages such as Debian, Ubuntu and Linux Mint.  Hopefully
	  &os; this will make it easier to share more test infrastructure and
	  scripts with Linux.</li>

	<li>Brian Gardner submitted scripts to run the Regression Test
	  Harness for OpenJDK (jtreg).  The test results are in JUnit XML
	  format, which can be natively imported into Jenkins.</li>

	<li>Ahmed Kamal, an experienced devops expert, and past
	  contributor to the Ubuntu project, offered to help
	  &a.rodrigc; with improving the automation and deployment of
	  Jenkins nodes in the &os; cluster using the Saltstack automation
	  framework.  Ahmed is interested in helping the &os; project.</li>

	<li>&a.rodrigc; worked with &a.adrian; to set up Jenkins
	  builds of MIPS targets.  The next step will be to get kyua
	  tests running inside a QEMU MIPS VM.</li>
      </ul>
    </body>

    <help>
      <task>
	<p>Set up more builds based on different architectures.</p>
      </task>

      <task>
	<p>Improve the maintenance of nodes in the Jenkins cluster
	 using devops frameworks such as Saltstack.</p>
      </task>

      <task>
	<p>Get feedback for improving the Kyua Quickstart Guide.</p>
      </task>

      <task>
	<p>People interested in helping out should join the
	  freebsd-testing@FreeBSD.org list.</p>
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>Xfce</title>

    <contact>
      <person>
	<name>FreeBSD Xfce Team</name>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Xfce" />
    </links>

    <body>
      <p>Xfce is a free software desktop environment for Unix and
	Unix-like platforms, such as FreeBSD. It aims to be fast and
	lightweight, while still being visually appealing and easy to use.</p>

      <p>During this quarter, the team has kept up-to-date the following
	applications:</p>

      <ul>
	<li>misc/xfce4-weather-plugin 0.8.5</li>
	<li>science/xfce4-equake-plugin 1.3.6</li>
	<li>sysutils/xfce4-netload-plugin 1.2.4</li>
	<li>sysutils/xfce4-systemload-plugin 1.1.2</li>
	<li>www/midori 0.5.9</li>
	<li>x11/xfce4-taskmanager 1.1.0</li>
	<li>x11/xfce4-whiskermenu-plugin 1.4.2</li>
	<li>x11-wm/xfce4-desktop 4.10.3</li>
      </ul>

      <p>Two new ports have also been added (taken from our repository):</p>

      <ul>
	<li>deskutils/xfce4-volumed-pulse</li>
	<li>x11/xfce4-dashboard</li>
      </ul>

      <p>Moreover, we are working on the next stable release, below list
	of ports updated:</p>

      <ul>
	<li>sysutils/xfce4-power-manager 1.4.2</li>
	<li>x11/xfce4-dashboard 0.3.4</li>
	<li>x11-wm/xfce4-session 4.11.1</li>
      </ul>

      <p>We sent some patches to upstream.</p>

      <ul>
	<li>bug <a href="https://bugzilla.xfce.org/show_bug.cgi?id=11104">#11104</a>, to keep 'wallpaper settings' in Ristretto with xfdesktop >= 4.11</li>
	<li>bug <a href="https://bugzilla.xfce.org/show_bug.cgi?id=11249">#11249</a>, add 'Hidden' option in desktop item editor (refused)</li>
	<li>bug <a href="https://bugzilla.xfce.org/show_bug.cgi?id=11413">#11413</a>, to use sysctl(3) and acpi_video(4) for backlight support</li>
      </ul>

      <p>A FAQ is being written <a href="https://reviews.freebsd.org/D1305">D1305</a>.</p>
    </body>

    <help>
      <task>
	<p>Find workaround when acpi_video(4) is not functional
	  (panel crashes); OpenBSD seems to have same problem.</p>
      </task>
      <task>
	<p>Cleanup patch in order to add new panel plugin in ports
	  tree.</p>
      </task>
      <task>
	<p>Continue to work on documentation, especially the Porter's
	  handbook.</p>
      </task>
    </help>
  </project>

  <project cat='kern'>
    <title>Updating OpenCrypto</title>

    <contact>
      <person>
	<name>
	  <given>John-Mark</given>
	  <common>Gurney</common>
	</name>
	<email>jmg@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://svnweb.freebsd.org/changeset/base/r275732">r275732 changeset</url>
      <url href="http://freebsdfoundation.blogspot.com/2014/08/freebsd-foundation-announces-ipsec.html">FreeBSD Foundation announces IPsec Enhancement Project</url>
    </links>

    <body>
      <p>The project adds support for AES-GCM and AES-CTR mode to the
	OpenCrypto framework.  Both software and AES-NI accelerated versions
	are functional, working and committed.  Ermal Lu√ßi (eri@) is working
	on adding support for the additional modes to IPsec.</p>
    </body>

    <sponsor>
      The &os; Foundation
    </sponsor>
    <sponsor>
      Netgate
    </sponsor>

    <help>
      <task>
	<p>Commit the port that provides the NIST KAT vectors so that
	  the tests committed can run.</p>
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>The Graphics stack on FreeBSD</title>

    <contact>
      <person>
	<name>FreeBSD Graphics team</name>
	<email>freebsd-x11@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Graphics">Graphics stack roadmap and supported hardware matrix</url>
      <url href="http://blogs.freebsdish.org/graphics/">Graphics stack team blog</url>
      <url href="https://github.com/freebsd/freebsd-ports-graphics">Ports development tree on GitHub</url>
    </links>

    <body>
      <p>Mesa was upgraded to 10.3, then 10.4 for FreeBSD 10.1-RELEASE and
	11-CURRENT.  We test release candidates and therefore this port is
	now usually updated shortly after a new release.  Mesa 10.x brings
	huge improvements in terms of OpenGL standards support, performance
	and stability, especially for Radeon owners.  Mesa 9.1 is kept for
	FreeBSD 9.x, but we have plans to fix this; see below.</p>

      <p><tt>graphics/gbm</tt> and <tt>devel/libclc</tt> are new ports used
	by Mesa to implement OpenCL.  The next step is to finish the port for
	Mesa's libOpenCL.so, named Clover.  This will permit users to run
	OpenCL programs on Radeon GPUs for now.</p>

      <p>xserver was upgraded from 1.12 to 1.14.  This is the last version
	of xserver supporting Mesa 9.1.  Changes are described in an article
	on the blog.  The most noticeable one is probably the switch from
	the input device detection back-end based on HAL to the one based on
	devd. hald(8) is still required by many desktop environments, but
	the X.Org server itself is free from it.</p>

      <p>xserver was the last port supporting the <tt>WITH_NEW_XORG</tt>
	knob.  The knob is now completely removed. This was the occasion to
	add <tt>WITH_NEW_XORG</tt> and <tt>WITH_KMS</tt> to the list of
	deprecated knobs to help people clean up their <tt>make.conf</tt>.
	At the same time, the new-xorg alternate pkg repository was
	deprecated.</p>

      <p>After discussion, two patent-encumbered options were enabled by
	default:</p>
      <ul>
	<li><tt>TEXTURE_FLOAT</tt> in graphics/dri, which allows Mesa to
	  advertise the support for OpenGL 3.0+;</li>
	<li><tt>LCD_FILTERING</tt> in print/freetype2, which enables the
	  subpixel rendering engine, improving font anti-aliasing.</li>
      </ul>
      <p>These two packages now provide a better user experience
	out-of-the-box.  Users who are uncomfortable with the options may
	unset them and rebuild the ports.  There is no need to rebuild
	anything else.</p>

      <p>On the kernel side, Tijl Coosemans added AGP support back to the
	TTM memory manager and therefore to the Radeon driver.  His work was
	merged back to stable/10 and will be available in FreeBSD
	10.2-RELEASE.</p>

      <p>We migrated our Ports development tree to Git and GitHub.  Tracking
	changes in the official Ports tree and preparing patches is way
	easier.  Furthermore, we can accept pull requests. All reasons behind
	this change are detailed on the blog and the workf-low is described
	on the wiki.</p>

      <p>The XDC 2014 (X Developer's Conference) was a great conference.
	Reviving the relationship with the developers of the graphics
	stack was a success! A report is available on the blog.</p>

      <p>Our next items on the roadmap are:</p>
      <ol>
	<li>Provide FreeBSD 10.1-RELEASE's i915 driver to FreeBSD 9.x users
	  through a new port.  This is a work in progress, but it would allow
	  us to remove Mesa 9.1 and make Mesa 10.4 available everywhere.</li>
	<li>Once Mesa 9.1 is gone, we can update xserver to 1.16.</li>
      </ol>
    </body>

    <help>
      <task>
	<p>See the "Graphics" wiki page for up-to-date information.</p>
      </task>
    </help>
  </project>

</report>
