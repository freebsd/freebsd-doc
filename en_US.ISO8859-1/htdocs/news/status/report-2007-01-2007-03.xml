<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for Status
Report//EN"
"http://www.FreeBSD.org/XML/share/xml/statusreport.dtd">
<!-- $FreeBSD$ -->
<report>
  <date>
    <month>January-March</month>

    <year>2007</year>
  </date>

  <section>
    <title>Introduction</title>

    <p>This report covers FreeBSD related projects between January and
    March 2007. This quarter ended with a big bang as a port of Sun's
    critically acclaimed ZFS was added to the tree and thus will be
    available in the upcoming FreeBSD 7.0 release. Earlier this year
    exciting benchmark results showed the fruits of our SMP work. Read
    more on the details in the "SMP Scalability" report.</p>

    <p>During the summer, FreeBSD will once again take part in Google's
    Summer of Code initiative. Student selection is underway and we are
    looking forward to a couple of exciting projects to come.</p>

    <p>
    <a href="http://www.bsdcan.org/">BSDCan</a>

    is approaching rapidly, and will be held May 16-19th in Ottawa.</p>

    <p>Thanks to all the reporters for the excellent work! We hope you
    enjoy reading.</p>
  </section>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>team</name>

    <description>FreeBSD Team Reports</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>net</name>

    <description>Network Infrastructure</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='misc'>
    <title>BSDCan 2007</title>

    <contact>
      <person>
        <name>
          <given>Dan</given>

          <common>Langille</common>
        </name>

        <email>dan@langille.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.bsdcan.org/2007/">BSDCan 2007</url>
    </links>

    <body>
      <p>The
      <a href="http://www.bsdcan.org/2007/schedule/">Schedule</a>

      and the
      <a
      href="http://www.bsdcan.org/2007/schedule/track/Tutorial/index.en.html">
      Tutorials</a>

      have been released. Once again, we have a very strong collection of

      <a href="http://www.bsdcan.org/2007/schedule/speakers.en.html">
      Speakers</a>

      .</p>

      <p>BSDCan: Low Cost. High Value. Something for Everyone.</p>

      <p>Everyone is going to be there. Make your plans now.</p>
    </body>
  </project>

  <project cat='team'>
    <title>Problem Report Database</title>

    <contact>
      <person>
        <name>
          <given>Mark</given>

          <common>Linimon</common>
        </name>

        <email>bugmeister_at_freebsd_dot_org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/support.html#gnats">GNATS</url>
    </links>

    <body>
      <p>We have added Remko Lodder to the bugmeister team. Remko has
      been doing a great deal of work to go through antique PRs,
      especially in the i386 category, and it was time to recognize that
      hard work. As a result of his work the i386 count is at a
      multi-year low.</p>

      <p>Remko has also been instrumental in working with some new
      volunteers who are interested in finding out how they can
      contribute. Our current plans are to ask them to look through the
      PR backlog and, firstly, ask for feedback from the submitters, and
      secondly, identify PRs that need action by committers. We also have
      some committers who have volunteered to review those PRs. If you
      are interested in helping, please subscribe to
      bugbusters@FreeBSD.org. Our thanks to our current helpers,
      including Harrison Grundy.</p>

      <p>The overall PR count has dropped to around 5100, a significant
      reduction.</p>
    </body>
  </project>

  <project cat='misc'>
    <title>EuroBSDCon 2007</title>

    <contact>
      <person>
        <name>
          <given>EuroBSDCon 2007 Organizing Committee</given>
        </name>

        <email>info@EuroBSDCon.dk</email>
      </person>
    </contact>

    <links>
      <url href="http://2007.EuroBSDCon.org/" />
    </links>

    <body>
      <p>The sixth EuroBSDCon will take place at
      <a href="http://uk.symbion.dk/">Symbion</a>

      in Copenhagen, Denmark on Friday the 14th and Saturday 15th of
      September 2007.</p>

      <p>The
      <strong>estimated</strong>

      price for the two day conference is 200EUR, excluding
      <a href="http://www.legoland.dk/">Legoland</a>

      trip and social event. The whole-day trip to Legoland is expected
      to cost around 130EUR including transportation, some food on the
      way, and entry fee. Arrangements have been made with a newly
      renovated
      <a href="http://danhostel.dk/vandrerhjem.asp?lan=uk&amp;id=144">
      Hostel</a>

      which offers beds for 23EUR per night and 10EUR breakfast. A lounge
      with sponsored Internet connection will be available at the Hostel.
      Staying at the hostel is of course entirely optional and several
      Hotels exists in the area. Reservation for the conference and exact
      prices are expected to be ready no later than 1st of May.</p>

      <p>As of this writing 10 presentations have been accepted and more
      are in the process of being evaluated.</p>

      <p>For FreeBSD Developers, a by invitation Developers summit will
      be held in connection with the conference. Exactly when this will
      take place has not yet been decided.</p>

      <p>We are still looking for more sponsors.</p>

      <p>A public IRC channel
      <strong>#eurobsdcon</strong>

      on EFnet has been created for discussion and questions about the
      conference.</p>

      <p>More details will follow on the
      <a href="http://2007.EuroBSDCon.org/">EuroBSDCon 2007 web site</a>

      as they become available.</p>
    </body>
  </project>

  <project cat='net'>
    <title>FAST_IPSEC Upgrade</title>

    <contact>
      <person>
        <name>
          <given>George</given>

          <common>Neville-Neil</common>
        </name>

        <email>gnn@freebsd.org</email>
      </person>

      <person>
        <name>
          <given>Bjoern</given>

          <common>Zeeb</common>
        </name>

        <email>bz@freebsd.org</email>
      </person>
    </contact>

    <links>
      <url href="http://people.freebsd.org/~gnn/fast_ipv6.20070430.diff">
      Latest patch against CURRENT</url>
    </links>

    <body>
      <p>There are currently two p4 branches being used for this work:
      gnn_fast_ipsec: a dual stack branch which contains both Kame and
      FAST_IPSEC with v6 enabled. gnn_radical_ipsec: a single stack
      branch, still in progress, where Kame IPsec has been removed and
      only FAST remains.</p>
    </body>

    <help>
      <task>Test the patch!</task>
    </help>
  </project>

  <project cat="team">
    <title>The FreeBSD Foundation</title>

    <contact>
      <person>
        <name>
          <given>Deb</given>

          <common>Goodkin</common>
        </name>

        <email>deb@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsdfoundation.org">The FreeBSD
      Foundation</url>
    </links>

    <body>
      <p>The FreeBSD Foundation ended Q1 raising over $65,000. We're a
      quarter of the way to our goal of raising $250,000 this year. We
      continued our mission of supporting developer communication by
      helping FreeBSD developers attend AsiaBSDCon. We are a sponsor of
      BSDCan and are currently accepting travel grant applications for
      this conference.</p>

      <p>The foundation provided support that helped the ZFS file system
      development. We continued working to upgrade the project's network
      testbed with 10Gigabit interconnects. We attended SCALE where we
      received an offer from No Starch Press to include a foundation ad
      in their BSD books. Our first ad will appear in the book "Designing
      BSD Rootkits."</p>

      <p>For more information on what we've been up to, check out our
      website at
      <a href="http://www.freebsdfoundation.org">
      http://www.freebsdfoundation.org</a>

      .</p>
    </body>
  </project>

  <project cat='bin'>
    <title>GCC 4.1 integration</title>

    <contact>
      <person>
        <name>
          <given>Alexander</given>

          <common>Kabaev</common>
        </name>

        <email>kan@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Kris</given>

          <common>Kennaway</common>
        </name>

        <email>kris@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>A version of GCC 4.1 is being prepared for inclusion into
      FreeBSD 7.0-CURRENT. Work was started late in 2006 but progress on
      certain technical points (e.g. correctly integrating and
      bootstrapping a shared libgcc_s into the build) was slow due to
      lack of developer time. The remaining outstanding issue is that
      compiling with -O2 is shown to lead to runtime failures of certain
      binaries (e.g. some port builds); it is not currently known whether
      these are due to application errors or GCC miscompilations. It is
      believed that the current snapshot is otherwise ready for
      inclusion, and this will likely happen within a week or two.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>Building Linux Device Drivers on FreeBSD</title>

    <contact>
      <person>
        <name>
          <given>Luigi</given>

          <common>Rizzo</common>
        </name>

        <email>rizzo@icir.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://info.iet.unipi.it/~luigi/FreeBSD/linux_bsd_kld.html" />
    </links>

    <body>
      <p>The above URL documents some work done around January to build
      an emulation layer for the Linux kernel API that would allow Linux
      device driver to be built on FreeBSD with as little as possible
      modifications. Initially the project focused on USB webcams, a
      category of devices for which there was basically no support so
      far. The emulation layer, available as a port (
      <b>devel/linux-kmod-compat</b>

      ) simulates enough of the Linux USB stack to let us build, from
      unmodified Linux sources, two webcam drivers, also available as
      ports (
      <b>multimedia/linux-gspca-kmod</b>

      and
      <b>multimedia/linux-ov511-kmod</b>

      ), with the former supporting over 200 different cameras.</p>

      <p>While some of the functions map one-to-one, for others it was
      necessary to build a full emulation (e.g. collecting input from
      various function calls, and then mapping sets of Linux data
      structures into functionally equivalent sets of FreeBSD data
      structures). But overall, this project shows that the software
      interfaces are reasonably orthogonal to each other so one does not
      need to implement the full Linux kernel API to get something
      working. More work is necessary to cover other aspects of the Linux
      kernel API, e.g. memory mapping, PCI bus access, and the network
      stack API, so we can extend support to other families of
      peripherals.</p>
    </body>

    <help>
      <task>Implement more subsystems (e.g. the network interface API;
      the memory management/pci bus access API).</task>

      <task>Address licensing issues. In the current port, the C code is
      entirely new and under a FreeBSD license. Many of the headers have
      been rewritten (and documented) from scratch (and so under a
      FreeBSD license as well). Some of the other headers are still taken
      from various Linux distributions and need to be rewritten to
      generate BSD-licensed code that can be imported in the kernel
      instead of being made available as a port. While this is not a
      concern with GNU drivers, it may be an important feature for
      drivers that are available under a dual license.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Update of the Linux compatibility environment in the
    kernel</title>

    <contact>
      <person>
        <name>
          <given>Alexander</given>

          <common>Leidinger</common>
        </name>

        <email>netchild@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Roman</given>

          <common>Divacky</common>
        </name>

        <email>rdivacky@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Emulation</given>

          <common>Mailinglist</common>
        </name>

        <email>emulation@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.FreeBSD.org/linux-kernel">Wiki page about
      the linux compatibility environment.</url>

      <url href="http://wiki.FreeBSD.org/linux-kernel/ltp">Wiki page
      about the linux test project testsuite success reports.</url>
    </links>

    <body>
      <p>Since the last status report AMD64 was feature synced with i386.
      Notably TLS and futexes are now available on AMD64. Many thanks to
      Jung-Uk Kim for doing the TLS work.</p>

      <p>Currently the focus is to implement the *at() family of linux
      syscalls and to find and fix the remaining futex problems.</p>

      <p>We need some more testers and bug reporters. So if you have a
      little bit of time and a favorite linux application, please play
      around with it on -CURRENT. If there is a problem, have a look at
      the Wiki if we already know about it and report on emulation@. We
      are specially interested in reports about the 2.6 compatibility
      (sysctl compat.linux.osversion=2.6.16), but only with the most
      recent -current and maybe with some patches we have in the perforce
      repository (available from the wiki).</p>

      <p>We would like to thank all the people which tested the changes /
      submitted patches and thus helped improve the linux compatibility
      environment.</p>
    </body>
  </project>

  <project cat='bin'>
    <title>malloc(3)</title>

    <contact>
      <person>
        <name>
          <given>Jason</given>

          <common>Evans</common>
        </name>

        <email>jasone@freebsd.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://lists.freebsd.org/pipermail/freebsd-current/2007-March/070303.html">
      malloc(3) (hopefully) set for 7.0</url>
    </links>

    <body>
      <p>malloc(3) has recently been enhanced to reduce memory overhead,
      fragmentation, and mapped memory retention. As an added bonus, it
      tends to be a bit faster. See the above URL for my email to the
      -current mailing list for a more detailed description of the
      enhancements.</p>
    </body>
  </project>

  <project cat='net'>
    <title>Multi-link PPP daemon (MPD)</title>

    <contact>
      <person>
        <name>
          <given>Alexander</given>

          <common>Motin</common>
        </name>

        <email>mav@alkar.net</email>
      </person>
    </contact>

    <links>
      <url href="http://sourceforge.net/projects/mpd/">Project home</url>

      <url href="http://mpd.sourceforge.net/doc/mpd5.html">
      ChangeLog</url>
    </links>

    <body>
      <p>Stable release 4.1 of mpd4 branch was released in February
      providing many new features and fixes. Mpd3 branch was declared
      legacy.</p>

      <p>Since the release several new features have been implemented in
      CVS:</p>

      <ul>
        <li>Link repeater functionality (aka L2TP/PPTP Access
        Concentrator),</li>

        <li>Per-interface traffic filtering using ng_bpf,</li>

        <li>Very fast traffic shaping/rate-limiting using ng_car.</li>
      </ul>

      <p>ng_car node has been updated, to support shaping and very fast
      Cisco-like rate-limiting. ng_ppp node has been completely
      re-factored to confirm to the protocol stack model.</p>
    </body>

    <help>
      <task>LAC/PAC testing.</task>

      <task>Traffic filtering/shaping/rate-limiting testing.</task>

      <task>PPTP modification for multiple bindings support.</task>

      <task>Dynamic link/bundle creation.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>Ports Collection</title>

    <contact>
      <person>
        <name>
          <given>Mark</given>

          <common>Linimon</common>
        </name>

        <email>linimon@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/ports/">The FreeBSD Ports
      Collection</url>

      <url
      href="http://www.freebsd.org/doc/en_US.ISO8859-1/articles/contributing-ports/">
      Contributing to the FreeBSD Ports Collection</url>

      <url href="http://people.freebsd.org/~fenner/portsurvey/">FreeBSD
      ports unfetchable distfile survey (Bill Fenner's report)</url>

      <url href="http://portsmon.FreeBSD.org/index.html">FreeBSD ports
      monitoring system</url>

      <url href="http://www.freebsd.org/portmgr/index.html">The FreeBSD
      Ports Management Team</url>

      <url href="http://tinderbox.marcuscom.com">marcuscom
      tinderbox</url>
    </links>

    <body>
      <p>The ports count is nearing 17,000. The PR count has been stable
      at around 700. The 'new port' PR backlog is at a multi-year low. We
      appreciate all the hard work of our ports committers.</p>

      <p>Since the long 6.2 release cycle ended, portmgr has once again
      been able to do experimental ports runs. As a result of six
      run/commit cycles, the portmgr PR count is now the lowest in quite
      some time. Please see the CHANGES and UPDATING files for details.
      Many thanks to Pav among others for keeping the build cluster
      busy.</p>

      <p>We have received new hardware, resulting in a significant
      speedup of our package building capability: the AMD64 package
      builds now use 4 8-core machines (and one lonely UP system), which
      means a full AMD64 build is about 5 times faster than it was. Also,
      the i386 cluster gained an 8-core and roughly doubled its
      performance too. Two of the sparc64 build machines have recently
      brought back online, so package builds there have been restarted
      there after a long period offline.</p>

      <p>linimon continues to work on improvements to portsmon to allow
      graphing of the dependent ports of ignored/failed ports. This work
      will be presented at BSDCan. In addition, pages that show the state
      of port uploads on ftp*.FreeBSD.org have been added, as well as
      ports that have NO_PACKAGE set. Also, the individual port overview
      page now shows the latest package that has been uploaded to the ftp
      servers for each buildenv.</p>

      <p>A number of absent maintainers have been replaced by some new
      volunteers who had been sending PRs to update and/or fix their
      ports. Welcome! This helps to spread the workload.</p>

      <p>Since the last report, support for FreeBSD 4.X has been dropped
      from the Ports Collection. Anyone still using RELENG_4 should have
      stayed with the ports infrastructure as of the RELEASE_4_EOL tag, as
      later commits remove that support. 4.X served us long and well but
      the burden of trying to support 4 major branches finally became too
      much to ask of our volunteers. Use of 4.X, even with the
      RELEASE_4_EOL tag, is no longer recommended; we recommend either
      6.2-RELEASE or RELENG_6, depending on your needs.</p>

      <p>There have been new releases of the ports tinderbox code, the
      portmaster update utility, and portupgrade. A new utility,
      pkgupgrade, has been introduced by Michel Talon, which appears
      interesting.</p>

      <p>KDE was updated to 3.5.6.</p>

      <p>GNOME was updated to 2.18.</p>

      <p>XFree86 version 3 was removed as being years out of date.</p>

      <p>We have added 3 new committers since the last report.</p>
    </body>

    <help>
      <task>Most of the remaining ports PRs are "existing port/PR
      assigned to committer". Although the maintainer-timeout policy is
      helping to keep the backlog down, we are going to need to do more
      to get the ports in the shape they really need to be in.</task>

      <task>Although we have added many maintainers, we still have many
      unmaintained ports. The number of buildable packages on AMD64 lags
      behind a bit; sparc64 requires even more work.</task>
    </help>
  </project>

  <project cat='team'>
    <title>Release Engineering</title>

    <contact>
      <person>
        <name>
          <given>Release Engineering Team</given>
        </name>

        <email>re@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/releng/" />

      <url href="http://www.FreeBSD.org/snapshots/" />
    </links>

    <body>
      <p>During the past quarter, the Release Engineering team has begun
      planning and preparing for FreeBSD 7.0, which is scheduled for
      release later in 2007. The HEAD codeline has been placed in a
      "slush" mode, meaning that large changes should be coordinated with
      the Release Engineering team before being committed.</p>

      <p>The RE team also produced snapshots of FreeBSD 6.2-STABLE and
      7.0-CURRENT for February and March 2007, corresponding roughly to
      the state of those development branches at the start of the
      respective months. While they have not had the benefit of extensive
      testing, and should not be used in production, they can be useful
      for experimenting with or testing new features.</p>
    </body>
  </project>

  <project cat='team'>
    <title>FreeBSD Security Officer and Security Team</title>

    <contact>
      <person>
        <name>
          <given>Security</given>

          <common>Officer</common>
        </name>

        <email>security-officer@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Security</given>

          <common>Team</common>
        </name>

        <email>security-team@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/security/" />

      <url
      href="http://www.freebsd.org/administration.html#t-secteam" />

      <url href="http://vuxml.freebsd.org/" />
    </links>

    <body>
      <p>In the time since the last status report, one security advisory
      has been issued concerning a problem in the base system of FreeBSD;
      this problem was in "contributed" code maintained outside of
      FreeBSD. In addition, several Errata Notices have been issued in
      collaboration with the release engineering team, including one
      concerning FreeBSD Update. The Vulnerabilities and Exposures Markup
      Language (VuXML) document has continued to be updated by the
      Security Team and Ports Committers documenting new vulnerabilities
      in the FreeBSD Ports Collection; since the last status report, 21
      new entries have been added, bringing the total up to 890.</p>

      <p>The following FreeBSD releases are supported by the FreeBSD
      Security Team: FreeBSD 5.5, FreeBSD 6.1, and FreeBSD 6.2. Of
      particular note, FreeBSD 4.11 and FreeBSD 6.0 are no longer
      supported. The respective End of Life dates of supported releases
      are listed on the web site.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>SMP Scalability</title>

    <contact>
      <person>
        <name>
          <given>Kris</given>

          <common>Kennaway</common>
        </name>

        <email>kris@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Jeff</given>

          <common>Roberson</common>
        </name>

        <email>jeff@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Attilio</given>

          <common>Rao</common>
        </name>

        <email>attilio@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Robert</given>

          <common>Watson</common>
        </name>

        <email>rwatson@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://people.freebsd.org/~kris/scaling/mysql.html">
      MySQL scaling</url>

      <url href="http://wiki.freebsd.org/SMPTODO">Remaining Giant-locked
      code</url>
    </links>

    <body>
      <p>Over the past few months there has been a substantially
      increased focus on improving scalability of FreeBSD on large SMP
      hardware. This has been driven in part by the new availability of
      8-core hardware to the project, which allows easy profiling of
      scalability bottlenecks and benchmarking of proposed changes.
      Significant progress has been made on certain application workloads
      such as MySQL and PostgreSQL, with the result that FreeBSD 7 now
      has excellent scaling to at least 8-CPU systems with prospects for
      further improvements. Progress with other application workloads has
      been limited by the need to set up a suitable test case; please
      contact me if you are interested in helping. As part of this
      general effort, work is progressing steadily on removing the last
      remaining Giant-locked code from the kernel. A complete list of
      remaining Giant-locked code is found here:
      <a href="http://wiki.freebsd.org/SMPTODO">
      http://wiki.freebsd.org/SMPTODO</a>

      Many of these sub-tasks have owners, but some do not. The major
      remaining Giant-locked subsystem with no owner is the TTY
      subsystem. In parallel, profiling of contention and bottlenecks in
      other subsystems has lead to a number of experimental changes which
      are being developed. Work is in progress by Jeff Roberson and
      Attilio Rao to break up the global scheduler spinlock in favor of a
      set of per-CPU scheduling locks, which is expected to improve
      performance on systems with many CPUs. Experimental changes by
      Robert Watson to allow for multiple netisr threads show good
      promise for improving loopback IP performance on large SMP systems,
      which can otherwise easily saturate a single netisr thread. A
      variety of other changes are being profiled and evaluated to
      improve SMP performance under various workloads. The majority of
      these changes are collected in the //depot/user/kris/contention/
      Perforce branch.</p>
    </body>
  </project>

  <project cat='net'>
    <title>Importing trunk(4) from OpenBSD</title>

    <contact>
      <person>
        <name>
          <given>Andrew</given>

          <common>Thompson</common>
        </name>

        <email>thompsa@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://people.freebsd.org/~thompsa/if_trunk-20070402.diff" />
    </links>

    <body>
      <p>Work has completed to port over trunk(4) from OpenBSD and this
      also includes merging 802.3ad LACP from agr(4) in NetBSD. This
      driver allows aggregation of multiple network interfaces as one
      virtual interface using a number of different
      protocols/algorithms.</p>

      <ul>
        <li>failover - Sends traffic through the secondary port if the
        master becomes inactive.</li>

        <li>fec - Supports Cisco Fast EtherChannel.</li>

        <li>lacp - Supports the IEEE 802.3ad Link Aggregation Control
        Protocol (LACP) and the Marker Protocol.</li>

        <li>loadbalance - Static loadbalancing using an outgoing
        hash.</li>

        <li>roundrobin - Distributes outgoing traffic using a round-robin
        scheduler through all active ports.</li>
      </ul>

      <p>This will be committed shortly, further testing is welcome.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>USB</title>

    <contact>
      <person>
        <name>
          <given>Hans Petter</given>

          <common>Sirevaag Selasky</common>
        </name>

        <email>hselasky@freebsd.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://perforce.freebsd.org/depotTreeBrowser.cgi?FSPC=//depot/projects/usb/src/sys/dev/usb&amp;HIDEDEL=NO">
      Current USB files</url>

      <url href="http://www.turbocat.net/~hselasky/usb4bsd">My USB
      Homepage</url>

      <url
      href="http://www.turbocat.net/~hselasky/usb4bsd/dev_new_usb.pdf">
      Code reference for the new USB stack and USB device drivers</url>
    </links>

    <body>
      <p>During the last three months not too much has changed. Here is a
      quick list of changes:</p>

      <ol>
        <li>There has been some cleanups in the UCOM layer, generally to
        to create a context for all the callbacks so that they can call
        sleeping functions. This is achieved using the USB config thread
        system. The reason for this is that the code becomes simpler when
        synchronous operation is applied versus asynchronous. But
        asynchronous behavior is the most secure, hence then all USB
        resources are preallocated for each transfer. After the change,
        only data transfers are done asynchronously. All configuration is
        now done synchronously. This makes the USB device drivers look
        more like in the old USB stack.</li>

        <li>moscom.c has been imported from OpenBSD. It is called
        umoscom.c under FreeBSD.</li>

        <li>ugensa.c has been imported from NetBSD.</li>

        <li>f_axe.c has now has support for Ax88178 and Ax88772, which is
        derived from OpenBSD.</li>
      </ol>

      <p>In my last status report I asked for access to Sparc64 boxes
      with FreeBSD installed. Testing is ongoing and some problems remain
      with EHCI PCI Cards. I am not exactly sure where the problem is,
      but it appears that DMA-able memory does not get synced
      properly.</p>

      <p>Markus Brueffer is still working on the USB HID parser and
      support. Nothing has been committed yet.</p>

      <p>Several people have reported success with my new USB stack. Some
      claim 2x improvements, others have seen more. But don't expect too
      much.</p>

      <p>If you want to test the new USB stack, checkout the USB perforce
      tree or download the SVN version of the USB driver from my USB
      homepage. At the moment the tarballs are a little out of date.</p>

      <p>Ideas and comments with regard to the new USB API are welcome at
      freebsd-usb@freebsd.org .</p>
    </body>
  </project>

  <project cat='net'>
    <title>Intel 3945ABG Wireless LAN Driver: wpi</title>

    <contact>
      <person>
        <name>
          <given>Benjamin</given>

          <common>Close</common>
        </name>

        <email>benjsc@freebsd.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://perforce.FreeBSD.org/depotTreeBrowser.cgi?FSPC=//depot/user/benjsc/wpi" />

      <url href="http://www.clearchain.com/wiki/Wpi" />
    </links>

    <body>
      <p>Work is slowly continuing on this driver, focusing mainly on
      dealing with the newly released firmware for the card. The old
      firmware was not redistributable, the new firmware can be
      redistributed but has a completely different API. With the new
      firmware changes almost complete, the driver is approaching a state
      ready for -CURRENT.</p>
    </body>

    <help>
      <task>Fix mbuf leakage (potential fix pending).</task>

      <task>Integrate s/w control of radio transmitter.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>X.Org 7.2 integration</title>

    <contact>
      <person>
        <name>
          <given>Florent</given>

          <common>Thoumie</common>
        </name>

        <email>flz@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Dejan</given>

          <common>Lesjak</common>
        </name>

        <email>lesi@FreeBSD.org</email>
      </person>

      <person>
        <name>
          <given>Kris</given>

          <common>Kennaway</common>
        </name>

        <email>kris@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.freebsd.org/ModularXorg" />
    </links>

    <body>
      <p>X.Org 7.2 is now on final approach for landing into the ports
      tree. Work had proceeded at a slow pace for the first few months of
      the year due to reduced availability of flz@, the single developer
      working on integration. Recently lesi@ was recruited back into the
      task and readiness of the ports collection was pushed to completion
      (i.e. there are no major regressions apparent on package builds).
      The remaining tasks which need to be completed are a review of the
      diff to make sure no unintentional changes or regressions slip in
      to the CVS tree in the big merge, and completion of an upgrade
      script to manage the migration from X.Org 6.9 (X.Org 7.2 is so
      fundamentally different that it cannot be upgraded "automatically"
      using the existing tools like portupgrade). We hope to have these
      finished within a week or two, at which stage the ports collection
      will be frozen for the integration, and we will likely remain in a
      ``mini-freeze'' for a week or two in order to focus committer
      attention on resolving the inevitable undetected problems which
      will emerge from this major change.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>FreeBSD and ZFS</title>

<!-- Required section -->
    <contact>
      <person>
        <name>
          <given>Pawel Jakub</given>

          <common>Dawidek</common>
        </name>

        <email>pjd@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
      href="http://perforce.freebsd.org/depotTreeBrowser.cgi?FSPC=//depot/user/pjd/zfs">
      Source code.</url>

      <url href="http://www.opensolaris.org/os/community/zfs/">
      OpenSolaris ZFS site.</url>

      <url
      href="http://lists.freebsd.org/pipermail/freebsd-current/2007-April/070544.html">
      ZFS commit announce.</url>

      <url
      href="http://lists.freebsd.org/pipermail/freebsd-current/2007-April/070616.html">
      ZFS - Quick Start.</url>
    </links>

    <body>
      <p>The ZFS file system in now part of the FreeBSD operating system.
      ZFS was ported from the OpenSolaris operating system and is under
      CDDL license. As an experimental feature ZFS will be available in
      FreeBSD 7.0-RELEASE.</p>
    </body>
  </project>
</report>

