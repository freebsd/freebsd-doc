<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for
  Status Report//EN"
  "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >

<!-- $FreeBSD$ -->

<report>
  <date>
    <month>July-September</month>

    <year>2015</year>
  </date>

  <section>
    <title>Introduction</title>

    <p><strong>This is a draft of the July&ndash;September 2015
      status report.  Please check back after it is finalized, and
      an announcement email is sent to the &os;-Announce mailing
      list.</strong></p>

    <?ignore
    <p>This report covers &os;-related projects between July and
      September 2015.  This is the third of four reports planned for
      2015.</p>

    <p>The third quarter of 2015 was another productive quarter for
      the &os; project and community. [...]</p>

    <p>Thanks to all the reporters for the excellent work!</p>

    <p>The deadline for submissions covering the period from October
      to December 2015 is January 7, 2016.</p>
     ?>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>doc</name>

    <description>Documentation</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='kern'>
    <title>ioat(4) driver import</title>

    <contact>
      <person>
	<name>
	  <given>Jim</given>
	  <common>Harris</common>
	</name>
	<email>jimharris@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Conrad</given>
	  <common>Meyer</common>
	</name>
	<email>cem@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://en.wikipedia.org/wiki/I/O_Acceleration_Technology">Wikipedia
	article on IOAT</url>
      <url href="https://svnweb.FreeBSD.org/base?view=revision&amp;revision=r287117">Commit
	importing ioat(4)</url>
    </links>

    <body>
      <p>A new driver, ioat(4), was added to the tree.  ioat(4)
	supports Intel's I/O Acceleration Technology devices which are found
	on some Intel server systems.</p>

      <p>These devices are DMA offload engines, which can accelerate
	some I/O-heavy applications by offloading memory copies from the main
	CPU to the I/OAT unit.  This acceleration is not transparent;
	applications must be adapted to take advantage of the hardware.</p>

      <p>Some I/OAT models support more advanced copying modes, like
	XOR; these modes are not yet supported in the ioat(4) driver.</p>
    </body>

    <sponsor>
      Intel Corporation
    </sponsor>

    <sponsor>
      EMC / Isilon Storage Division
    </sponsor>

    <help>
      <task>
	<p>Further testing, especially on a range of device models other
	  than BDXDE (looking for volunteers here).</p>
      </task>

      <task>
	<p>Support for the more advanced copy modes.</p>
      </task>
    </help>
  </project>

  <project cat='kern'>
    <title>IPSEC Upgrades</title>

    <contact>
      <person>
	<name>
	  <given>George</given>
	  <common>Neville-Neil</common>
	</name>
	<email>gnn@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>John-Mark</given>
	  <common>Gurney</common>
	</name>
	<email>jmg@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Ermal</given>
	  <common>Luçi</common>
	</name>
	<email>eri@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>IPSEC is now enabled by default in the GENERIC kernel
	configuration, and work is proceeding to speed things up in various
	ways.  The latest changes are the addition, by &a.jmg;, &a.eri;, and
	&a.gnn;, of AES modes both in hardware and in software.  Part of this
	work also includes more benchmarks undertaken using Conductor in the
	netperf project.  Results have been reported at BSDCan and vBSDCon
	with more to come at EuroBSD and BSDBrasil.
      </p>
    </body>

    <sponsor>
      Netgate
    </sponsor>

    <sponsor>
      FreeBSD Foundation
    </sponsor>

    <help>
      <task>
	<p>Performance improvements and other tweaks are ongoing.</p>
      </task>
    </help>
  </project>

  <project cat='proj'>
    <title>DTrace and TCP</title>

    <contact>
      <person>
	<name>
	  <given>George</given>
	  <common>Neville-Neil</common>
	</name>
	<email>gnn@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>With the advent of DTrace we are able to replace many of
	the internal kernel debugging options, such as TCPDEBUG,
	with statically defined tracepoints (SDTs).  Tracepoints have now
	been added to the system that replicate the functionality of the
	TCPDEBUG kernel option.  No new kernel options need to be added
	&mdash; they are standard with any kernel that has DTrace, which
	is included in the default GENERIC kernels in 10.x and HEAD.
      </p>
    </body>

    <sponsor>
      Limelight Networks
    </sponsor>
  </project>

  <project cat='proj'>
    <title>FreeBSD on the Acer C720 Chromebook</title>

    <contact>
      <person>
	<name>
	  <given>Michael</given>
	  <common>Gmelin</common>
	</name>
	<email>freebsd@grem.de</email>
      </person>
    </contact>

    <links>
      <url href="http://blog.grem.de/pages/c720.html">Blog post on
	how to get things working</url>
      <url href="http://blog.grem.de/sysadmin/FreeBSD-On-AcerC720-Merged-2015-07-25-23-30.html">Blog
	post with links to commits in CURRENT</url>
      <url href="http://blog.grem.de/sysadmin/FreeBSD-10.2-On-AcerC720-2015-09-19-17-00.html">Backported
	patch for 10.2-RELEASE</url>
    </links>

    <body>
      <p>The Acer C720 Chromebook is an affordable (under $200) and
	powerful little laptop, that provides a battery life of up to six
	hours running FreeBSD.  It is a great machine for travelling and
	coding in general.  The machine is fully functional, meaning that
	all essential devices work: Keyboard, trackpad, light sensor,
	backlight control, display in VESA mode (fast), external Display
	on HDMI (only VESA mirror mode), sound, USB ports, SD card slot,
	camera and Atheros Wireless.</p>

      <p>This quarter, this project extended previous work on the
	boot process and keyboard driver as well as the smbus(4) driver.
	It added three new drivers: ig4(4), cyapa(4) and isl(4).</p>

      <p>Much of the development was originally done in late 2014;
	since then, the patches have been massively improved and merged
	into CURRENT, so that all relevant devices work without manual
	patching.</p>

      <p>For those who are unable to run CURRENT, there is a
	backported patch to 10.2-RELEASE.</p>

      <p>Thanks to everyone who helped in the process, I couldn't
	have done it without you (you know who you are).
      </p>

    </body>
  </project>

  <project cat='kern'>
    <title>Cavium LiquidIO Smart NIC driver</title>

    <contact>
      <person>
	<name>
	  <given>Stanislaw</given>
	  <common>Kardach</common>
	</name>
	<email>kda@semihalf.com</email>
      </person>

      <person>
	<name>
	  <given>Zyta</given>
	  <common>Racia</common>
	</name>
	<email>zr@semihalf.com</email>
      </person>
    </contact>

    <links>
      <url href="http://www.cavium.com/LiquidIO_Application_Acceleration_Adapters.html">LiquidIO
	product page</url>
    </links>

    <body>
      <p>This project aims to add support for the LiquidIO family
	of high-performance programmable accellerator 10/40-gigabit
	Ethernet network adapters.  The currently developed kernel driver
	supports CN6640- and CN6880-based PCIe cards, enabling the
	following features:</p>

      <ul>
	<li>A CNNIC API for controlling/interacting with the smart NIC
	  from user and kernel space including:
	  <ul>
	    <li>Handling multiple concurrent applications running on the
	      same device</li>
	    <li>Request/reply mechanism for (a)synchronous
	      ordered/unordered communication</li>
	    <li>Remote memory operations</li>
	    <li>Device shutdown/reset</li>
	  </ul>
	</li>
	<li>A basic NIC module utilizing the CNNIC API and a
	  Cavium-provided NIC firmware.  This module provides:
	  <ul>
	    <li>Single/multi-queue TX</li>
	    <li>Hardware TCP/UDP checksum offloading</li>
	    <li>Large Receive Offload</li>
	    <li>Promiscous mode</li>
	  </ul>
	</li>
	<li>Sysctl-based device statistics and configuration view</li>
	<li>Custom firmware loading via user-built modules and
	  &os;'s firmware(9) mechanism.</li>
      </ul>

      <p>The project is currently being developed in house and is
	currently being prepared for upstream.  We plan on making it
	available in &os; 11.</p>

    </body>

    <sponsor>
      Cavium
    </sponsor>

    <sponsor>
      Semihalf
    </sponsor>

    <help>
      <task>Upstream the code to &os; HEAD.</task>
    </help>
  </project>

  <project cat='team'>
    <title>&os; Release Engineering Team</title>

    <contact>
      <person>
	<name>&os;&nbsp;Release Engineering Team</name>
	<email>re@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
	href="https://www.freebsd.org/releases/10.2R/announcement.html">&os;&nbsp;10.2-RELEASE
	announcement</url>
      <url
	href="http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/">&os; development
	  snapshots</url>
      <url
	href="https://www.freebsd.org/releases/10.3R/schedule.html">&os;&nbsp;10.3-RELEASE
	  schedule</url>
      <url
	href="https://www.freebsd.org/releases/11.0R/schedule.html">&os;&nbsp;11.0-RELEASE
	  schedule</url>
    </links>

    <body>
      <p>The &os; Release Engineering Team is responsible for setting
	and publishing release schedules for official project releases
	of &os;, announcing code freezes, and maintaining the
	respective branches, among other things.</p>

      <p>In mid-August, the &os;&nbsp;Release Engineering Team
	released &os;&nbsp;10.2-RELEASE, two weeks earlier than the
	original schedule anticipated.</p>

      <p>The &os;&nbsp;Release Engineering Team would like to thank
	all that have tested the BETA and RC builds and reported
	issues during the release cycle.</p>

      <p>The &os;&nbsp;Release Engineering Team, with approval from
	the &os;&nbsp;Core Team, appointed &a.marius; as the Deputy
	Lead.</p>
    </body>

    <sponsor>
	The FreeBSD Foundation
    </sponsor>
  </project>

  <project cat='proj'>
    <title>Porting bhyve to ARM-based platforms</title>

    <contact>
      <person>
	<name>
	  <given>Mihai</given>
	  <common>Carabas</common>
	</name>
	<email>mihai@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Peter</given>
	  <common>Grehan</common>
	</name>
	<email>grehan@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/SummerOfCode2015/PortingBhyveToArm">Project
	Wiki page</url>
    </links>

    <body>
      <p>This summer we've started porting bhyve onto ARMv7
	platforms.  We rewrote the low-level routines for ARM processors,
	while trying to preserve the hypervisor API originally created for
	the x86 architectures.  We managed to bring up a &os; guest up to
	the point of initializing interrupts.  There is still work to be
	done in order to virtualize the interrupts and the timer.  As
	short-term plan after finishing the interrupts and the timer is
	porting to a real hardware platform (Cubie2).
      </p>
    </body>

    <help>
      <task>
	<p>Virtualize interrupts and timer</p>
      </task>

      <task>
	<p>Port to a real hardware platform</p>
      </task>

      <task>
	<p>Create SMP support for bhyve-on-arm</p>
      </task>

      <task>
	<p>Port to ARMv8</p>
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>Bringing GitLab into the Ports Collection</title>

    <contact>
      <person>
	<name>
	  <given>Torsten</given>
	  <common>Zühlsdorff</common>
	</name>
	<email>ports@toco-domains.de</email>
      </person>

      <person>
	<name>
	  <given>Michael</given>
	  <common>Fausten</common>
	</name>
	<email>ports@michael-fausten.de</email>
      </person>
    </contact>

    <links>
      <url href="https://bugs.FreeBSD.org/bugzilla/show_bug.cgi?id=202468">PR
	for the new Port</url>
      <url href="https://github.com/t-zuehlsdorff/gitlabhq/blob/master/doc/install/installation-freebsd.md">Installation
	guide</url>
      <url href="https://github.com/gitlabhq/gitlabhq/">GitLab
	Source Tree</url>
    </links>

    <body>
      <p>GitLab is a web-based Git repository manager with many
	features, used by more than 100.000 organizations, including NASA
	and Alibaba.  It also is a very long-standing entry on the
	&quot;Wanted Ports&quot; list on the &os; Wiki.</p>

      <p>In the last month there was steady progress, which finally
	resulted in the PR for adding the new port.  In addition to the
	many dependencies &a.pgollucci; is working on, there was already a
	large amount of work done.  In addition to  many new or updated
	rubygems, Rails 4.1 was resurrected.  Many committers were
	involved in the process and guided us through the various problems
	and pitfalls.</p>

      <p>Because of the number of dependencies &mdash; we nearly hit
	100 &mdash; making progress takes some time.  In the meantime,
	there is already a new major version of GitLab released, which
	requires even more dependencies and updates.  Work on this version
	is already in progress, but the first goal is to get the latest
	stable version from the 7.14 branch into the ports tree.
      </p>
    </body>

    <sponsor>
      anyMOTION GRAPHICS GmbH, Düsseldorf, Germany
    </sponsor>

    <help>
      <task>
	<p>Closing all the PRs of the dependencies</p>
      </task>

      <task>
	<p>Committing the GitLab port itself</p>
      </task>

      <task>
	<p>Update the port to the latest version of the 8.x branch</p>
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>Xfce on &os;</title>

    <contact>
      <person>
	<name>&os; Xfce Team</name>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/Xfce">&os; Xfce Project</url>
      <url href="https://www.assembla.com/spaces/xfce4/subversion/source">&os; Xfce Repository</url>
    </links>

    <body>
      <p>Xfce is a free software desktop environment for Unix and
	Unix-like platforms, such as &os;.  It aims to be fast and
	lightweight, while still being visually appealing and easy to
	use.</p>

      <p>During this quarter, the team has kept these applications
	up-to-date:</p>

      <ul>
	<li><tt>science/xfce4-equake-plugin</tt> 1.3.8</li>
	<li><tt>sysutils/xfce4-power-manager</tt> 1.5.2</li>
	<li><tt>x11/libexo</tt> 0.10.7</li>
	<li><tt>x11/xfce4-embed-plugin</tt> 1.6.0</li>
	<li><tt>x11/xfce4-verve-plugin</tt> 1.1.0</li>
	<li><tt>x11/xfce4-whiskermenu-plugin</tt> 1.5.1</li>
	<li><tt>x11-wm/xfce4-desktop</tt> 4.12.3</li>
	<li><tt>www/midori</tt> 0.5.11</li>
      </ul>

      <p>We also follow the unstable releases (available in our
	experimental repository) of:</p>

      <ul>
	<li><tt>sysutils/xfce4-panel-switch</tt> 1.0.2 (utility to backup
	  panel layouts)</li>
	<li><tt>x11/xfce4-dashboard</tt> 0.5.1</li>
      </ul>

      <p>In the <tt>trunk</tt> branch, <tt>x11-wm/xfce4-panel</tt>
	contains a patch to support <tt>sysutils/xfce4-panel-switch</tt>
	(available through the panel preferences).</p>
    </body>

    <help>
      <task>
	<p>Test the new stable release of GLib 2.46.x with the
	  kqueue/kevent backend enabled (it was disabled with revision <a
	  href="https://svnweb.FreeBSD.org/ports?view=revision&amp;revision=393663">r393663</a>.
	  Currently several features are broken, especially in Thunar,
	  xfce4-panel, and Xfdashboard.</p>
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>Node.js Modules</title>

    <contact>
      <person>
	<name>
	  <given>Olivier</given>
	  <common>Duchateau</common>
	</name>
	<email>olivierd@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://www.assembla.com/spaces/cozycloud/subversion/source">Node.js
	modules</url>
      <url href="https://people.FreeBSD.org/~olivierd/porters-handbook/using-nodejs.html">Pre-draft
	documentation</url>
    </links>

    <body>
      <p>Node.js is a platform built on Chrome's JavaScript runtime
	for easily building fast, scalable, network applications.  It uses
	an event-driven, non-blocking I/O model that makes it lightweight
	and efficient, perfect for data-intensive real-time applications
	that run across distributed devices.</p>

      <p>The goal of this project is to make it easy to install the
	modules available on the <a href="http://npmjs.org/">npm package
	registry</a>.</p>

      <p>Currently, the repository contains more than 100 new ports,
	in particular:</p>

      <ul>
	<li>CoffeeScript (a programming language that transcompiles to
	  JavaScript)</li>
	<li>node-gyp (allows building Node.js addons, often written in
	  C or C++)</li>
	<li>Request (a simplified HTTP client)</li>
      </ul>

      <p>We have also written several helpers for the porting, available
	in our experimental repository.
      </p>
    </body>

    <help>
      <task>
	<p>Bring in grunt.js (and modules), the JavaScript task runner.</p>
      </task>
      <task>
	<p>Put more effort into support of node-gyp in the USES
	  framework</p>
      </task>
    </help>
  </project>

</report>
