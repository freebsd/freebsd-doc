<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>FreeBSD 5.2-RELEASE Errata</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">FreeBSD 5.2-RELEASE Errata</a></h1>

<h3 class="CORPAUTHOR">The FreeBSD Project</h3>

<p class="COPYRIGHT">Copyright &copy; 2000, 2001, 2002, 2003, 2004 The FreeBSD
Documentation Project</p>

<p class="PUBDATE">$FreeBSD: src/release/doc/en_US.ISO8859-1/errata/article.sgml,v 1.57
2004/01/10 19:17:21 bmah Exp $<br />
</p>

<div class="LEGALNOTICE"><a id="TRADEMARKS" name="TRADEMARKS"></a>
<p>FreeBSD is a registered trademark of Wind River Systems, Inc. This is expected to
change soon.</p>

<p>Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or
registered trademarks of Intel Corporation or its subsidiaries in the United States and
other countries.</p>

<p>Sparc, Sparc64, SPARCEngine, and UltraSPARC are trademarks of SPARC International, Inc
in the United States and other countries. Products bearing SPARC trademarks are based
upon architecture developed by Sun Microsystems, Inc.</p>

<p>Many of the designations used by manufacturers and sellers to distinguish their
products are claimed as trademarks. Where those designations appear in this document, and
the FreeBSD Project was aware of the trademark claim, the designations have been followed
by the ``&trade;'' or the ``&reg;'' symbol.</p>
</div>

<hr />
</div>

<blockquote class="ABSTRACT">
<div class="ABSTRACT"><a id="AEN20" name="AEN20"></a>
<p>This document lists errata items for FreeBSD 5.2-RELEASE, containing significant
information discovered after the release or too late in the release cycle to be otherwise
included in the release documentation. This information includes security advisories, as
well as news relating to the software or documentation that could affect its operation or
usability. An up-to-date version of this document should always be consulted before
installing this version of FreeBSD.</p>

<p>This errata document for FreeBSD 5.2-RELEASE will be maintained until the release of
FreeBSD 5.3-RELEASE.</p>
</div>
</blockquote>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="INTRO" name="INTRO">1 Introduction</a></h2>

<p>This errata document contains ``late-breaking news'' about FreeBSD 5.2-RELEASE. Before
installing this version, it is important to consult this document to learn about any
post-release discoveries or problems that may already have been found and fixed.</p>

<p>Any version of this errata document actually distributed with the release (for
example, on a CDROM distribution) will be out of date by definition, but other copies are
kept updated on the Internet and should be consulted as the ``current errata'' for this
release. These other copies of the errata are located at <a
href="http://www.FreeBSD.org/releases/"
target="_top">http://www.FreeBSD.org/releases/</a>, plus any sites which keep up-to-date
mirrors of this location.</p>

<p>Source and binary snapshots of FreeBSD 5-CURRENT also contain up-to-date copies of
this document (as of the time of the snapshot).</p>

<p>For a list of all FreeBSD CERT security advisories, see <a
href="http://www.FreeBSD.org/security/"
target="_top">http://www.FreeBSD.org/security/</a> or <a
href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/"
target="_top">ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/</a>.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="SECURITY" name="SECURITY">2 Security Advisories</a></h2>

<p>No advisories.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="OPEN-ISSUES" name="OPEN-ISSUES">3 Open Issues</a></h2>

<p>(9 Jan 2004) Due to a change in <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=cpp&amp;sektion=1&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">cpp</span>(1)</span></a> behavior,
the login screen for <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=xdm&amp;sektion=1&amp;manpath=XFree86+4.3.0">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">xdm</span>(1)</span></a> is in
black and white, even on systems with color displays. As a workaround, update to a newer
version of the <a
href="http://www.FreeBSD.org/cgi/url.cgi?ports/x11/XFree86-4-clients/pkg-descr"><tt
class="FILENAME">x11/XFree86-4-clients</tt></a> port/package.</p>

<p>(9 Jan 2004) There remain some residual problems with ACPI. In some cases, systems may
behave erratically, or hang at boot time. As a workaround, disable ACPI, using the ``safe
mode'' option of the bootloader or using the <var
class="VARNAME">hint.acpi.0.disabled</var> kernel environment variable. These problems
are being investigated. For problems that have not already been reported (check the
mailing list archives <span class="emphasis"><i class="EMPHASIS">before</i></span>
posting), sending the output of <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">dmesg</span>(8)</span></a> and <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=acpidump&amp;sektion=8&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">acpidump</span>(8)</span></a> to
the <a href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current"
target="_top">FreeBSD-CURRENT mailing list</a> may help diagnose the problem.</p>

<p>(9 Jan 2004) In some cases, ATA devices may behave erratically, particularly SATA
devices. Reported symptoms include command timeouts or missing interrupts. These problems
appear to be timing-dependent, making them rather difficult to isolate. Workarounds
include:</p>

<ul>
<li>
<p>Turn off ATA DMA using the ``safe mode'' option of the bootloader or the <var
class="VARNAME">hw.ata.ata_dma</var> sysctl variable.</p>
</li>

<li>
<p>Use the host's BIOS setup options to put the ATA controller in its ``legacy mode'', if
available.</p>
</li>

<li>
<p>Disable ACPI, for example using the ``safe mode'' option of the bootloader or using
the <var class="VARNAME">hint.acpi.0.disabled</var> kernel environment variable.</p>
</li>
</ul>

<p>(9 Jan 2004) Installing over NFS when using the install floppies requires that the <tt
class="FILENAME">nfsclient.ko</tt> module be manually loaded from the third floppy disk.
This can be done by following the prompts when <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">sysinstall</span>(8)</span></a>
launches to load a driver off of the third floppy disk.</p>

<p>(9 Jan 2004) The use of multiple vchans (virtual audio channels with dynamic mixing in
software) in the <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=pcm&amp;sektion=4&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">pcm</span>(4)</span></a> driver
has been known to cause some instability.</p>

<p>(10 Jan 2004) Although APIC interrupt routing seems to work correctly on many systems,
on some others (such as some laptops) it can cause various errors, such as <a
href="http://www.FreeBSD.org/cgi/man.cgi?query=ata&amp;sektion=4&amp;manpath=FreeBSD+5.1-current">
<span class="CITEREFENTRY"><span class="REFENTRYTITLE">ata</span>(4)</span></a> errors or
hangs when starting or exiting X11. For these situations, it may be advisable to disable
APIC routing, using the ``safe mode'' of the bootloader or the <var
class="VARNAME">hint.apic.0.disabled</var> loader tunable. Note that disabling APIC is
not compatible with SMP systems.</p>

<p>(10 Jan 2004) The NFSv4 client may panic when attempting an NFSv4 operation against an
NFSv3/NFSv2-only server. This problem has been fixed with revision 1.4 of <tt
class="FILENAME">src/sys/rpc/rpcclnt.c</tt> in FreeBSD 5.2-CURRENT.</p>
</div>

<div class="SECT1">
<hr />
<h2 class="SECT1"><a id="LATE-NEWS" name="LATE-NEWS">4 Late-Breaking News</a></h2>

<p>(10 Jan 2004) The TCP implementation in FreeBSD now includes protection against a
certain class of TCP MSS resource exhaustion attacks, in the form of limits on the size
and rate of TCP segments. The first limit sets the minimum allowed maximum TCP segment
size, and is controlled by the <var class="VARNAME">net.inet.tcp.minmss</var> sysctl
variable (the default value is <var class="LITERAL">216</var> bytes). The second limit is
set by the <var class="VARNAME">net.inet.tcp.minmssoverload</var> variable, and controls
the maximum rate of connections whose average segment size is less than <var
class="VARNAME">net.inet.tcp.minmss</var>. Connections exceeding this packet rate are
reset and dropped. Because this feature was added late in the 5.2-RELEASE release cycle,
connection rate limiting is disabled by default, but can be enabled manually by assigning
a non-zero value to <var class="VARNAME">net.inet.tcp.minmssoverload</var> (the default
value in 5.2-CURRENT at the time of this writing is <var class="LITERAL">1000</var>
packets per second).</p>
</div>
</div>

<hr />
<p align="center"><small>This file, and other release-related documents, can be
downloaded from <a
href="http://snapshots.jp.FreeBSD.org/">http://snapshots.jp.FreeBSD.org/</a>.</small></p>

<p align="center"><small>For questions about FreeBSD, read the <a
href="http://www.FreeBSD.org/docs.html">documentation</a> before contacting &#60;<a
href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&#62;.</small></p>

<p align="center"><small><small>All users of FreeBSD 5-CURRENT should subscribe to the
&#60;<a href="mailto:current@FreeBSD.org">current@FreeBSD.org</a>&#62; mailing
list.</small></small></p>

<p align="center">For questions about this documentation, e-mail &#60;<a
href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&#62;.</p>

<br />
<br />
</body>
</html>

