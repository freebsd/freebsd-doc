<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" [
<!ENTITY base CDATA "../..">
<!ENTITY date "$FreeBSD: www/en/projects/dingo/index.sgml,v 1.16 2005/10/04 19:43:50 hrs Exp $">
<!ENTITY title "FreeBSD Network Cleanup and Consolidation Project (dingo)">
<!ENTITY email 'mux'>
<!ENTITY % navincludes SYSTEM "../../includes.navdevelopers.sgml"> %navincludes;
<!ENTITY % includes SYSTEM "../../includes.sgml"> %includes;

<!ENTITY status.na "<font color=green>N/A</font>">
<!ENTITY status.done "<font color=green>Done</font>">
<!ENTITY status.current "<font color=green>Done in CURRENT</font>">
<!ENTITY status.prototyped "<font color=blue>Prototyped</font>">
<!ENTITY status.head "<font color=orange>Merged to HEAD; RELENG_5 candidate</font>">
<!ENTITY status.new "<font color=red>New task</font>">
<!ENTITY status.unknown "<font color=red>Unknown</font>">

<!ENTITY % developers SYSTEM "../../developers.sgml"> %developers;

]>

<html>
  &header;

    <h2>Contents</h2>
    <ul>
      <li><a href="#goal">Project Goal</a></li>
      <li><a href="#tasks">Project Tasks</a></li>
    </ul>

    <a name="goal"></a>
    <h2>Project Goal</h2>

    <p>The Dingo project is a collection of work that needs to be done
    to clean up and advance the network stack.  The overriding goal is
    to remove duplicated functionality while also adding new features
    that will make FreeBSD easier to use both for the network engineer
    and experimenter and for the first time user.</p>

    <p>The Dingo project is closely related to the <a
    href="../netperf/index.html">Netperf Project</a> which is removing all
    the Giant locks from the various network stacks.</p>

    <a name="tasks"></a>
    <h2>Project Tasks</h2>

    <table class="tblbasic">
      <tr>
	<th> Task </th>
	<th> Responsible </th>
	<th> Last updated </th>
	<th> Status </th>
	<th> Notes </th>
      </tr>
      <tr>
        <td> ARP rewrite, layer 2 separation from FIB code
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> luigi started but didn't finish.
     <a
	    href="http://lists.freebsd.org/pipermail/freebsd-current/2004-April/026380.html">Mail Message</a>
     <a href="http://www.freebsd.org/cgi/query-pr.cgi?pr=68692">Problem Report</a>
        </td>
     </tr>
     <TR>
       <TD>Add IP_SENDIF. Get SO_BINDTODEVICE for next to free. fenner
	   likes this</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> &nbsp; </td>
      </TR>
      <TR>
	<TD>Update TCP-MD5 support in FreeBSD.</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> &nbsp; </td>
      </TR>
      <TR>
	<TD>Refactor PF_ROUTE as a tag-length-value based ABI</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> &nbsp; </td>
      </TR>
      <TR>
	<TD> Rework code in FreeBSD's ip_icmp.c such that ICMP responses for
	    forwarding can be throttled also. Call badport_bandlim() before
	    icmp_error()?</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> &nbsp; </td>
      </TR>
      <TR>
	<TD> Take M_PROMISC from NetBSD.</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td> &nbsp; </td>
      </TR>
      <TR>
	<TD>Refactor wi(4) to implement IFF_ALLMULTI in PPROMISC using M_PROMISC</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<td>Refactor wi(4) to implement IFF_ALLMULTI in PPROMISC using
	    M_PROMISC and
	    if_ethersubr or 802.11 layer handling to throw out the promisc stuff
	    which isn't needed. Or on any hardware without
IFF_ALLMULTI</td>
      </TR>
      <TR>
	<TD> Make sure mlaier's multiple inaddr on same subnet change is A-OK</TD>
	<td> &nbsp; </td>
	<td> 20041212 </td>
	<td> &status.done; </td>
	<TD> A bug with handling netmasked aliases was discovered, and a
	     <a href="http://lists.freebsd.org/pipermail/freebsd-net/2004-December/005850.html">patch</a>
	     has been committed.</TD>
      </TR>
      <TR>
	<TD>Import CARP from OpenBSD</TD>
	<td> mlaier </td>
	<td> 20041203 </td>
	<td> &status.prototyped; </td>
	<TD> <a href="http://people.freebsd.org/~mlaier/CARP/">Patches</a> are
	    available for testing. May need coordination with the ARP
	    rewrite.</TD>
      </TR>
      <TR>
	<TD>Get pff(4) house in order wrt M_PROMISC</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Make an(4) radiotap-aware.   80% DONE! Depends on task below</TD>
        <td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Make an(4) net80211-aware (bring in NetBSD diffs from onoe).</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Bring in busdma vr(4) from netbsd</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Add radiotap support to acx(4).</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD>In touch with darron about the firmware redistribution issue</TD>	    
      </TR>
      <TR>
	<TD>Import Benno's software AAL5 layer for native ATM DSL, bug him about it</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Port howl's autoipd and nifd to FreeBSD --> bsd-licensed full zeroconf...</TD>
	<td>Andrea Campi andrea+freebsd at webcom dot it </td>
	<td>20041212</td>
	<td>&status.prototyped; </td>
	<TD></TD>	    
      </TR>
      <TR>
	<TD>KAME tunnel code needs to be brought in line with the tunnel mib.</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD>(As in, if_type should be IFT_TUNNEL).
	    This can probably be done for IFT_GIF but need review from ume/kame people.
	</TD>
      </TR>
      <TR>
	<TD>Take sam's new ifconfig from p4</TD>
	<td> &nbsp; </td>
	<td> 20041208 </td>
	<td> &status.current; </td>
	<TD> Done in HEAD, not going to be MFCed. </TD>
      </TR>
      <TR>
	<TD>We need to add features to gre(4). Use dev.* sysctls.</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Write a plugin for Sam's ifconfig</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD>RFC1701, RFC2784
    Checksum+Offset
    Sequence number
RFC1701
    Key (for multipoint tunnel support)
    Other
    Path MTU Discovery
	</TD>
      </TR>
      <TR>
	<TD> Investigate policy/classful routing as an option for FreeBSD.</TD>
	<td> &nbsp; </td>
	<td> 20041128 </td>
	<td> &status.new; </td>
	<TD> &nbsp; </TD>
      </TR>
      <TR>
	<TD>Nuke struct arpcom</TD>
	<td> &nbsp; </td>
	<td> 20041203 </td>
	<td> &status.new; </td>
	<TD>partially related to ARP rewrite</TD>
      </TR>
      <TR>
	<TD>Generic mechanism to attach per-subsystem data to
	  interfaces</TD>
	<td> &nbsp; </td>
	<td> 20041203 </td>
	<td> &status.new; </td>
	<TD>needed to clean up ng_fec and remove ac_netgraph from
	  struct arpcom.</TD>
      </TR>
      <TR>
	<TD>Remove struct ifnet from softc.</TD>
	<td> brooks</td>
	<td> 20050617 </td>
	<td> &status.current; </td>
	<TD> Done in HEAD, not going to be MFCed. </TD>
      </TR>
      <TR>
	<TD>Protocol Test Harness.</TD>
	<td>George V. Neville-Neil gnn at freebsd dot org</td>
	<td>20041212 </td>
	<td>&status.new; </td>
	<TD>My plan is to write a Python program and a set of C
	language extensions for the easy creation of packet level
	tests.  The input language will be controlled by a DTD the
	input language will be a set of packets and other structures
	specified via XML.</TD>
      </TR>
    </table>

  &footer;
  </body>
</html>
