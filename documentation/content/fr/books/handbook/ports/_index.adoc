---
title: "Chapitre 4. Installer des applications: les logiciels pré-compilés et les logiciels portés"
part: Partie I. Pour commencer
prev: books/handbook/basics
next: books/handbook/x11
showBookMenu: true
weight: 6
path: "/books/handbook/ports/"
---

[[ports]]
= Installer des applications: les logiciels pré-compilés et les logiciels portés
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:sectnumoffset: 4
:partnums:
:source-highlighter: rouge
:experimental:
:images-path: books/handbook/ports/

ifdef::env-beastie[]
ifdef::backend-html5[]
:imagesdir: ../../../../images/{images-path}
endif::[]
ifndef::book[]
include::shared/authors.adoc[]
include::shared/mirrors.adoc[]
include::shared/releases.adoc[]
include::shared/attributes/attributes-{{% lang %}}.adoc[]
include::shared/{{% lang %}}/teams.adoc[]
include::shared/{{% lang %}}/mailing-lists.adoc[]
include::shared/{{% lang %}}/urls.adoc[]
toc::[]
endif::[]
ifdef::backend-pdf,backend-epub3[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]
endif::[]

ifndef::env-beastie[]
toc::[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]

[[ports-synopsis]]
== Synopsis

FreeBSD est livré avec une riche collection d'outils en tant que partie du système de base. Beaucoup de choses peuvent être faites avant d'avoir besoin de recourir à l'installation d'une application tiers pour effectuer un travail précis. FreeBSD fournit deux technologies complémentaires pour installer des logiciels tiers sur votre système: le Catalogue des logiciels portés de FreeBSD (pour une installation à partir des sources), et les logiciels pré-compilés ou "paquetages" (pour installer des binaires pré-compilés). N'importe laquelle de ces deux méthodes peut être utilisée pour installer les nouvelles versions de vos applications favorites à partir d'un support local ou directement depuis le réseau.

Après la lecture de ce chapitre, vous saurez:

* Comment installer des logiciels tiers pré-compilés.
* Comment compiler des logiciels tiers à partir des sources en utilisant le catalogue de logiciels portés.
* Comment effacer les logiciels pré-compilés ou portés précédemment installés.
* Comment modifier les paramètres par défaut utilisés par le catalogue des logiciels portés.
* Comment trouver l'application recherchée.
* Comment mettre à jour vos applications.

[[ports-overview]]
== Généralités sur l'installation de logiciels

Si vous avez utilisé auparavant un système UNIX(R) vous saurez que la procédure typique pour installer les logiciels tiers ressemble à ceci:

[.procedure]
====
. Télécharger le logiciel, qui peut être distribué sous forme de code source, ou sous forme d'un binaire.
. Extraire le logiciel de son format de distribution (généralement une archive tar compressée soit avec man:compress[1], soit avec man:gzip[1], ou encore man:bzip2[1]).
. Recherchez la documentation (peut être un fichier [.filename]#INSTALL# ou [.filename]#README#, ou des fichiers dans un sous répertoire [.filename]#doc/#) et lisez les informations sur comment installer le logiciel.
. Si le logiciel était distribué sous forme de sources, compilez-le. Cela peut impliquer l'édition d'un [.filename]#Makefile#, ou l'exécution d'une procédure `configure`, et d'autres activités.
. Tester et installer le logiciel.
====

Et cela si seulement tout se passe bien. Si vous installez un logiciel qui n'a pas été spécialement porté pour FreeBSD, il se peut que vous deviez éditer le code source pour le faire fonctionner correctement.

Si vous le voulez, vous pouvez continuer d'installer des logiciels suivant la méthode "traditionnelle" sous FreeBSD. Cependant, FreeBSD fournit deux technologies avec lesquelles vous pouvez vous économiser beaucoup d'efforts: les logiciels pré-compilés et le catalogue des logiciels portés. A l'heure de l'écriture de ces lignes, plus de {numports} applications tierces sont ainsi mises à disposition.

Pour n'importe quelle application donnée, le logiciel pré-compilé FreeBSD pour cette application est un unique fichier à télécharger. Il contient les copies pré-compilées de toutes les commandes de l'application, ainsi que tous fichiers de configuration et documentation. Un logiciel pré-compilé téléchargé peut être manipulé avec les commandes FreeBSD de gestion des logiciels pré-compilés, comme man:pkg_add[1], man:pkg_delete[1], man:pkg_info[1], et ainsi de suite. L'installation d'une nouvelle application peut être effectuée grâce à une unique commande.

Un logiciel porté pour FreeBSD est un ensemble de fichiers conçus pour automatiser le processus de compilation d'une application à partir du code source.

Rappelez-vous qu'il y a un certain nombre d'étapes que vous effectueriez si vous compiliez un programme vous-même (téléchargement, extraction, application de correctifs, compilation, installation). Les fichiers qui composent un logiciel porté contiennent toute l'information nécessaire pour permettre au système de faire cela pour vous. Vous lancez une poignée de commandes simples et le code source de l'application est automatiquement téléchargé, extrait, corrigé, compilé, et installé pour vous.

En fait, le catalogue des logiciels portés peut être utilisé pour générer ce qui pourra plus tard être manipulé avec `pkg_add` et d'autres commandes de gestion des logiciels pré-compilés qui seront présentés sous peu.

Les logiciels pré-compilés et le catalogue des logiciels portés comprennent la notion de _dépendances_. Supposez que vous voulez installer une application qui dépend de l'installation d'une bibliothèque particulière. L'application et la bibliothèque ont été toutes deux rendues disponibles sous forme de logiciel porté pour FreeBSD ou de logiciel pré-compilé. Si vous utilisez la commande `pkg_add` ou le catalogue des logiciels portés pour ajouter l'application, tous les deux remarqueront que la bibliothèque n'a pas été installée, et installeront automatiquement en premier la bibliothèque.

Etant donné que les deux technologies sont presque semblables, vous pourriez vous demander pourquoi FreeBSD s'ennuie avec les deux. Les logiciels pré-compilés et le catalogue de logiciels portés ont chacun leurs propres forces, et celle que vous emploierez dépendra de votre préférence.

.Avantages des logiciels pré-compilés
* L'archive compressée d'un logiciel pré-compilé est généralement plus petite que l'archive compressée contenant le code source de l'application.
* Les logiciels pré-compilés ne nécessitent pas de compilation supplémentaire. Pour les grosses applications, comme Mozilla, KDE, ou GNOME cela peut s'avérer important, particulièrement si vous êtes sur un système lent.
* Les logiciels pré-compilés ne demandent pas une compréhension du processus impliqué dans la compilation de logiciels sous FreeBSD.

.Avantages du catalogue des logiciels portés
* Les logiciels pré-compilés sont normalement compilés avec des options conservatrices, parce qu'ils doivent pouvoir tourner sur le plus grand nombre de systèmes. En installant à partir du catalogue des logiciels portés, vous pouvez ajuster les options de compilation pour (par exemple) générer du code spécifique au Pentium 4 ou à l'Athlon.
* Certaines applications ont des options de compilation concernant ce qu'elles peuvent faire et ne pas faire. Par exemple, Apache peut être configuré avec une très large variété d'options intégrées différentes. En compilant à partir du catalogue des logiciels portés vous n'avez pas à accepter les options par défaut, et vous pouvez les configurez vous-même.
+ 
Dans certains cas, de multiples logiciels pré-compilés existeront pour la même application pour spécifier certaines configurations. Par exemple, Ghostscript est disponible comme logiciel pré-compilé [.filename]#ghostscript# et [.filename]#ghostscript-nox11# , en fonction de si vous avez installé ou non un serveur X11. Ce type d'arrangement est possible avec les logiciels pré-compilés, mais devient rapidement impossible si une application a plus d'une ou deux options de compilation.
* Les licences de certains logiciels interdisent les distributions binaires. Ils doivent être distribués sous forme de code source.
* Certaines personnes ne font pas confiance aux distributions binaires. Au moins avec le code source, vous pouvez (en théorie) le parcourir et chercher les problèmes potentiels par vous-même.
* Si vous avez des correctifs locaux, vous aurez besoin du code source afin de les appliquer.
* Certaines personnes aiment avoir le code source à portée de main, ainsi elles peuvent le lire si elles s'ennuient, le modifier, y faire des emprunts (si la licence le permet bien sûr), etc...

Pour suivre les mises à jour du catalogue des logiciels portés, inscrivez-vous à la {freebsd-ports} et la {freebsd-ports-bugs}.

[WARNING]
====

Avant d'installer une application, vous devriez consulter http://vuxml.freebsd.org/[http://vuxml.freebsd.org/] à la recherche de problème de sécurité concernant votre application.

Vous pouvez également installer package:ports-mgmt/portaudit[] qui contrôlera automatiquement toutes les applications installées à la recherche de vulnérabilités connues, un contrôle sera également effectué avant toute compilation de logiciel porté. De même, vous pouvez utiliser la commande `portaudit -F -a` après avoir installé des logiciels pré-compilés.
====

Le reste de ce chapitre expliquera comment utiliser les logiciels pré-compilés et le catalogue des logiciels portés et la gestion des logiciels tiers sous FreeBSD.

[[ports-finding-applications]]
== Trouver votre application

Avant que vous puissiez installer des applications vous devez savoir ce que vous voulez, et comment se nomment les applications.

La liste des applications disponibles pour FreeBSD augmente de jours en jours. Heureusement, il y a plusieurs façons de trouver ce que vous désirez:

* Le site web de FreeBSD maintient à jour une liste, dans laquelle on peut effectuer des recherches, de toutes les applications disponibles à l'adresse link:https://www.FreeBSD.org/ports/[http://www.FreeBSD.org/ports/]. Le catalogue des logiciels portés est divisé en catégories, et vous pouvez soit chercher une application par son nom (si vous le connaissez), soit lister toutes les applications disponibles dans une catégorie.
* Dan Langille maintient FreshPorts, à l'adresse http://www.FreshPorts.org/[http://www.FreshPorts.org/]. FreshPorts suit les modifications des applications dans le catalogue des logiciels portés, vous permet de "surveiller" un ou plusieurs logiciels portés, et peut vous envoyer un courrier électronique quand ils sont mis à jour.
* Si vous ne connaissez pas le nom de l'application que vous voulez, essayez d'utiliser un site comme FreshMeat (http://www.freshmeat.net/[http://www.freshmeat.net/]) pour trouver une application, ensuite vérifiez sur le site de FreeBSD si l'application a déjà été portée.
* Si vous connaissez le nom exact du logiciel, vous devez juste déterminer dans quelle catégorie il se trouve, vous pouvez utiliser la commande man:whereis[1] pour cela. Tapez simplement `whereis file` où _file_ est le programme que vous voulez installer. S'il est trouvé sur le système, on vous indiquera où il se trouve, de la manière suivante:
+
[source,shell]
....
# whereis lsof
lsof: /usr/ports/sysutils/lsof
....
+ 
Cela nous indique que `lsof` (un utilitaire système) peut être trouvé dans le répertoire [.filename]#/usr/ports/sysutils/lsof#.
* Vous pouvez également utiliser une simple commande man:echo[1] pour déterminer où se trouve un logiciel porté dans le catalogue de logiciels portés. Par exemple:
+
[source,shell]
....
# echo /usr/ports/*/*lsof*
/usr/ports/sysutils/lsof
....
+ 
Notez que cette commande retournera tout fichier téléchargé du répertoire [.filename]#/usr/ports/distfiles# correspondant à ce motif de recherche.
* Encore une autre façon de trouver un logiciel porté particulier est d'utiliser le mécanisme de recherche interne du catalogue des logiciels portés. Pour utiliser la fonction de recherche, vous devrez vous trouver dans le répertoire [.filename]#/usr/ports#. Une fois dans ce répertoire, lancez `make search name=program-name` où _program-name_ représente le nom du programme que vous voulez localiser. Par exemple, si vous recherchiez `lsof`:
+
[source,shell]
....
# cd /usr/ports
# make search name=lsof
Port:   lsof-4.56.4
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files (similar to fstat(1))
Maint:  obrien@FreeBSD.org
Index:  sysutils
B-deps:
R-deps: 
....
+ 
La partie du message de sortie à laquelle vous devez prêter attention est la ligne "Path:", car cela vous indique où trouver le logiciel porté. Les autres informations ne sont pas nécessaires afin d'installer le logiciel porté, aussi on en parlera pas ici.
+ 
Pour une recherche plus en profondeur vous pouvez également utiliser `make search key=string` où _string_ est le texte à rechercher. Cela recherche les noms de logiciels portés, les commentaires, les descriptions et les dépendances et peut être utilisé pour trouver des logiciels portés se rapportant à un sujet particulier si vous ne connaissez pas le nom du programme que vous cherchez.
+ 
Dans les deux cas, la chaîne de caractère de recherche n'est pas sensible à la casse des caractères. Rechercher "LSOF" mènera aux même résultats que la recherche de "lsof".

[[packages-using]]
== Utiliser le système des logiciels pré-compilés

Il existe plusieurs outils utilisés pour la gestion des logiciels pré-compilés sur FreeBSD

* Les outils de gestion en ligne de commande des logiciels pré-compilés, qui sont le sujet de la suite de cette section.

=== Installation d'un logiciel pré-compilé

Vous pouvez utiliser l'utilitaire man:pkg_add[1] pour installer un logiciel pré-compilé FreeBSD à partir d'un fichier local ou d'un serveur sur le réseau.

.Télécharger un logiciel pré-compilé à la main puis l'installer localement
[example]
====

[source,shell]
....
# ftp -a ftp2.FreeBSD.org
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server (Version 6.00LS) ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is in Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> cd /pub/FreeBSD/ports/packages/sysutils/
250 CWD command successful.
ftp> get lsof-4.56.4.tgz
local: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT command successful.
150 Opening BINARY mode data connection for 'lsof-4.56.4.tgz' (92375 bytes).
100% |**************************************************| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received in 5.60 seconds (16.11 KB/s)
ftp> exit
# pkg_add lsof-4.56.4.tgz
....

====

Si vous ne disposez pas d'une source locale de logiciels pré-compilés (comme l'ensemble de CDROM de FreeBSD) alors il sera probablement plus facile d'utiliser l'option `-r` de man:pkg_add[1]. Cela fera déterminer automatiquement à l'utilitaire le format objet et la version corrects et ensuite récupérer et installer le logiciel pré-compilé à partir d'un site FTP.

[source,shell]
....
# pkg_add -r lsof
....

L'exemple ci-dessus téléchargera le logiciel pré-compilé correct sans plus d'intervention de l'utilisateur. Si vous désirez indiquer un autre miroir FreeBSD pour les logiciels pré-compilés à la place du site de distribution principal, vous devez positionner en conséquence la variable d'environnement `PACKAGESITE`, pour remplacer les paramètres par défaut. man:pkg_add[1] utilise man:fetch[3] pour télécharger les fichiers, qui respecte diverses variables d'environnement, dont `FTP_PASSIVE_MODE`, `FTP_PROXY`, et `FTP_PASSWORD`. Il se peut que vous ayez besoin de configurer une ou plusieurs de ces dernières si vous êtes derrière un coupe-feu, ou devez utiliser un proxy FTP/HTTP. Consultez la page de manuel man:fetch[3] pour la liste complète des variables. Vous pouvez également remarquer que dans l'exemple ci-dessus `lsof` est utilisé au lieu de `lsof-4.56.4`. Quand la fonction de récupération à distance est utilisée, le numéro de version doit être retiré. man:pkg_add[1] téléchargera automatiquement la toute dernière version de l'application.

[NOTE]
====
man:pkg_add[1] téléchargera la dernière version de votre application si vous êtes sous FreeBSD-CURRENT ou FreeBSD-STABLE. Si vous utilisez une version -RELEASE, il récupérera la version compilée avec votre version lors de sa publication. Il est possible de modifier ce comportement en surchargeant la variable d'environnement `PACKAGESITE`. Par exemple, si vous utilisez un système FreeBSD 8.1-RELEASE, par défaut man:pkg_add[1] tentera de récupérer les applications pré-compilées à partir de `ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8.1-release/Latest/`. Si vous désirez forcer man:pkg_add[1] à télécharger les versions des logiciels pré-compilés pour FreeBSD 8-STABLE, positionnez la variable `PACKAGESITE` à `ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-8-stable/Latest/`. 
====

Les logiciels pré-compilés sont distribués dans les formats [.filename]#.tgz# et [.filename]#.tbz#. Vous pouvez les trouver sur link:ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/[ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/], ou sur le CDROM de distribution de FreeBSD. Chaque CD de l'ensemble de 4-CD de FreeBSD (et le PowerPak, etc...) contient des logiciels pré-compilés dans le répertoire [.filename]#/packages#. L'organisation des logiciels pré-compilés est semblable à celle de l'arborescence [.filename]#/usr/ports#. Chaque catégorie possède son propre répertoire, et chaque logiciel pré-compilé peut être trouvé dans le répertoire [.filename]#All#.

La structure de répertoires du système de logiciels pré-compilés correspond à celle du catalogue des logiciels portés; ils travaillent ensemble pour former l'intégralité du système de logiciels pré-compilés/portés.

=== Gestion des logiciels pré-compilés

man:pkg_info[1] est un utilitaire qui liste et décrit les divers logiciels pré-compilés installés. 

[source,shell]
....
# pkg_info
cvsup-16.1          A general network file distribution system optimized for CV
docbook-1.2         Meta-port for the different versions of the DocBook DTD
...
....

man:pkg_version[1] est un utilitaire qui récapitule les versions de tous les logiciels pré-compilés installés. Il compare la version du logiciel pré-compilé avec la version actuelle trouvée dans le catalogue des logiciels portés. 

[source,shell]
....
# pkg_version
cvsup                       =
docbook                     =
...
....

Les symboles dans la seconde colonne indiquent l'âge relatif de la version installée et de la version disponible dans le catalogue des logiciels portés local.

[.informaltable]
[cols="1,1", frame="none", options="header"]
|===
| Symbole
| Signification

|=
|La version du logiciel pré-compilé installée est équivalente à celle de celui trouvé dans le catalogue des logiciels portés local.

|
|La version installée est plus ancienne que celle disponible dans le catalogue des logiciels portés.

|
|La version installée est plus récente que celle trouvée dans le catalogue local des logiciels portés. (le catalogue local des logiciels portés est probablement ancien)

|?
|Le logiciel pré-compilé ne peut être trouvé dans l'index du catalogue des logiciels portés. (Cela peut se produire quand, par exemple, un logiciel installé est supprimé du catalogue des logiciels portés ou renommé.)

|*
|Il y a de multiples versions de ce logiciel pré-compilé.

|!
|Le logiciel installé existe dans l'index mais pour une raison inconnue, `pkg_version` a été incapable de comparer le numéro de version du paquetage installé avec l'entrée correspondante dans l'index.
|===

=== Effacer un logiciel pré-compilé

Pour désinstaller un logiciel pré-compilé précédemment installé, utilisez l'utilitaire man:pkg_delete[1].

[source,shell]
....
# pkg_delete xchat-1.7.1
....

Notez que man:pkg_delete[1] a besoin du nom complet du paquetage et du numéro de version; la commande précédente n'aurait pas fonctionné avec _xchat_ à la place de _xchat-1.7.1_. It est cependant facile de retrouver la version du paquetage installé à l'aide de la commande man:pkg_version[1]. Vous pouvez à la place simplement utiliser un joker:

[source,shell]
....
# pkg_delete xchat\*
....

dans ce cas, tous les logiciels dont le nom commence par `xchat` seront supprimés.

=== Divers

Toute l'information sur les logiciels pré-compilés est stockée dans le répertoire [.filename]#/var/db/pkg#. La liste des fichiers installés pour chaque logiciel pré-compilé peut être trouvée dans des fichiers de ce répertoire.

[[ports-using]]
== Utiliser le catalogue des logiciels portés

Les sections suivantes fournissent des instructions de base sur l'utilisation du catalogue des logiciels portés pour installer et désinstaller des programmes sur votre système. Une description détaillée des cibles `make` et de variables d'environnement est disponible dans la page de manuel man:ports[7].

[[ports-tree]]
=== Obtenir le catalogue des logiciels portés

Avant que vous puissiez installer des logiciels portés, vous devez d'abord récupérer le catalogue des logiciels portés- qui est essentiellement un ensemble de [.filename]#Makefiles#, de correctifs, et de fichiers de description habituellement placés dans [.filename]#/usr/ports#.

Quand vous avez installé votre système FreeBSD, sysinstall vous a demandé si vous aimeriez installer le catalogue des logiciels portés. Si vous avez choisi non, vous pouvez suivre ces instructions pour obtenir le catalogue des logiciels portés:

[.procedure]
====
*Procedure: La méthode CVSup*

C'est une méthode rapide pour récupérer le catalogue des logiciels portés en utilisant le protocole CVSup. Si vous voulez en apprendre plus au sujet de CVSup, lisez la section crossref:mirrors[cvsup,Utiliser CVSup].
[NOTE]
======
L'implémentation du protocole CVSup présente dans le système de base de FreeBSD se nomme csup.
======

Assurez-vous que le répertoire [.filename]#/usr/ports# est vide avant d'utiliser csup pour la première fois. Si vous avez déjà un catalogue des logiciels portés, obtenu à partir d'une autre source, csup n'effacera pas les correctifs qui ont été supprimés.

. Exécuter la commande `csup`:
+
[source,shell]
....
# csup -L 2 -h cvsup.FreeBSD.org /usr/shared/examples/cvsup/ports-supfile
....
+ 
Remplacez _cvsup.FreeBSD.org_ avec un serveur CVSup proche de vous. Voir crossref:mirrors[cvsup-mirrors,Sites CVSup] (crossref:mirrors[cvsup-mirrors,Sites CVSup]) pour une liste complète des sites miroirs.
+
[NOTE]
======
Certains peuvent vouloir utiliser leur propre [.filename]#ports-supfile#, par exemple pour éviter d'avoir à passer le serveur CVSup sur la ligne de commande.

[.procedure]
.. Dans ce cas, en tant que `root`, copier [.filename]#/usr/shared/examples/cvsup/ports-supfile# à un nouvel emplacement, comme [.filename]#/root# ou votre répertoire d'utilisateur.
.. Editez [.filename]#ports-supfile#.
.. Remplacez _CHANGE_THIS.FreeBSD.org_ avec un serveur CVSup proche de vous. Voir crossref:mirrors[cvsup-mirrors,Sites CVSup] (crossref:mirrors[cvsup-mirrors,Sites CVSup]) pour une liste complète des sites miroirs.
.. Maintenant pour lancer `csup`, utilisez ce qui suit:
+
[source,shell]
....
# csup -L 2 /root/ports-supfile
....

======
+
. L'exécution ultérieure de man:csup[1] téléchargera et appliquera tous les changements récents à votre catalogue des logiciels portés sans pour autant recompiler vos logiciels.
====

[.procedure]
====
*Procedure: La méthode Portsnap*

Portsnap est un système alternatif de distribution du catalogue des logiciels portés. Veuillez vous reporter à la section crossref:mirrors[portsnap,Utiliser Portsnap] pour une description détaillée de toutes les caractéristiques de Portsnap.

. Téléchargez un instantané compressé du catalogue des logiciels portés dans le répertoire [.filename]#/var/db/portsnap#. Vous pouvez vous déconnecter de l'Internet, si vous le désirez, après cette opération:
+
[source,shell]
....
# portsnap fetch
....

. Si vous exécutez Portsnap pour la première fois, il faut extraire l'instantané dans le répertoire [.filename]#/usr/ports#:
+
[source,shell]
....
# portsnap extract
....
+ 
Si votre répertoire [.filename]#/usr/ports# contient déjà une version du catalogue des logiciels portés et que vous désirez juste mettre à jour, utilisez plutôt la commande:
+
[source,shell]
....
# portsnap update
....
====

[.procedure]
====
*Procedure: La méthode Sysinstal*

Cette méthode implique l'utilisation de sysinstall pour installer le catalogue des logiciels portés à partir du disque d'installation. Il faut noter que la version du catalogue qui sera installée est la version datant de la publication de votre disque d'installation. Si vous disposez d'un accès à l'Internet, vous devriez toujours utiliser une des méthodes précédemment exposées.

. En tant que `root`, lancez `sysinstall` comme montré ci-dessous:
+
[source,shell]
....
# sysinstall
....
+
. Faites défiler l'écran vers le bas et sélectionnez [.guimenuitem]#Configure#, appuyez sur kbd:[Entrée].
. Faites défiler l'écran vers le bas et sélectionnez [.guimenuitem]#Distributions#, appuyez sur kbd:[Entrée].
. Faites défiler l'écran vers le bas jusqu'à [.guimenuitem]#ports#, appuyez sur kbd:[Espace].
. Remontez jusqu'à [.guimenuitem]#Exit#, appuyez sur kbd:[Entrée].
. Choisissez le support d'installation désiré, comme un CDROM, par FTP, etc.
. Remontez jusqu'à [.guimenuitem]#Exit# et appuyez sur kbd:[Enter].
. Appuyez sur la touche kbd:[X] pour quitter sysinstall.
====

[[ports-skeleton]]
=== Installation de logiciels portés

La première chose qui devrait être expliquée quand on aborde le catalogue des logiciels portés est ce que l'on entend par "squelette". En bref, un squelette est un ensemble minimal de fichiers qui indique à votre système FreeBSD comment compiler et installer proprement un programme. Chaque squelette contient:

* Un fichier [.filename]#Makefile#. Le fichier [.filename]#Makefile# contient les diverses déclarations qui indiquent comment l'application devrait être compilée et où elle devrait être installée sur votre système.
* Un fichier [.filename]#distinfo#. Ce fichier contient l'information à propos des fichiers qui doivent être téléchargés pour compiler le logiciel, et leurs sommes de contrôle (en utilisant man:sha256[1]), pour s'assurer que ces fichiers n'ont pas été corrompus durant le téléchargement.
* Un répertoire [.filename]#files#. Ce répertoire contient les correctifs pour permettre la compilation et l'installation du programme sur votre système FreeBSD. Les correctifs sont à la base de petits fichiers qui indiquent des modifications sur des fichiers particuliers. Ils sont sous forme de fichiers texte, qui disent "Effacer la ligne 10" ou "Modifier la ligne 26 par...". Les correctifs sont également connus sous le nom de "diffs" car ils sont générés par le programme man:diff[1].
+ 
Ce répertoire peut également contenir d'autres fichiers utilisés pour la compilation du logiciel porté.
* Un fichier [.filename]#pkg-descr#. C'est une description plus détaillée du programme, souvent en plusieurs lignes.
* Un fichier [.filename]#pkg-plist#. C'est une liste de tous les fichiers qui seront installés par le logiciel porté. Il indique également au système des logiciels portés quels fichiers sont à effacer lors d'une désinstallation.

Certains logiciels portés utilisent d'autres fichiers, comme [.filename]#pkg-message#. Le catalogue des logiciels portés utilise ces fichiers pour faire face à certaines situations spéciales. Si vous désirez plus de détails au sujet de ces fichiers, et sur les logiciels portés en général, consultez le extref:{porters-handbook}[Manuel du développeur de logiciels portés].

Le logiciel porté contient les instructions pour compiler le code source, mais ne contient pas le code source. Vous pouvez obtenir le code source à partie d'un CDROM ou de l'Internet. Le code source est distribué de la façon dont l'auteur le désire. Fréquemment c'est une archive tar compressée avec gzip, mais elle pourra être compressée avec un autre outil ou même non compressée. Le code source d'un programme, peu importe la forme sous laquelle il est distribué, est appelé un fichier "distfile". Les deux méthodes pour l'installation d'un logiciel porté pour FreeBSD sont décrites ci-dessous.

[NOTE]
====
Vous devez avoir ouvert une session sous l'utilisateur `root` pour installer des logiciels portés.
====

[WARNING]
====

Avant d'installer un logiciel porté, vous devez vous assurer d'avoir un catalogue des logiciels portés à jour et vous devez consulter http://vuxml.freebsd.org/[http://vuxml.freebsd.org/] pour les problèmes de sécurité relatifs à votre logiciel.

Un contrôle des problèmes de sécurité peut être effectué automatiquement par portaudit avant toute nouvelle installation d'application. Cet outil peut être trouvé dans le catalogue des logiciels porté (package:security/portaudit[]). Vous pouvez lancer `portaudit -F` avant l'installation d'un nouveau logiciel porté, pour télécharger la base de données actualisée des vulnérabilités. Un audit de sécurité et une mise à jour de la base de données sera effectuée lors du contrôle quotidien de sécurité de la machine. Pour plus d'informations, lisez les pages de manuel man:portaudit[1] et man:periodic[8].
====

Le catalogue des logiciels portés suppose que vous disposez d'une connection active à l'Internet. Si ce n'est pas le cas, vous devez placer manuellement une copie du distfile dans le répertoire [.filename]#/usr/ports/distfiles#.

Pour commencer, rendez-vous dans le répertoire du logiciel porté que vous voulez installer:

[source,shell]
....
# cd /usr/ports/sysutils/lsof
....

Une fois à l'intérieur du répertoire [.filename]#lsof# vous verrez le squelette du logiciel porté. L'étape suivante est de compiler (également appelé la "construction") le logiciel porté. Cela est fait en tapant simplement `make` à l'invite. Une fois que c'est fait, vous devriez voir quelque chose comme ceci:

[source,shell]
....
# make
>> lsof_4.57D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
>> Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
===>  Extracting for lsof-4.57
...
[extraction output snipped]
...
>> Checksum OK for lsof_4.57D.freebsd.tar.gz.
===>  Patching for lsof-4.57
===>  Applying FreeBSD patches for lsof-4.57
===>  Configuring for lsof-4.57
...
[configure output snipped]
...
===>  Building for lsof-4.57
...
[compilation output snipped]
...
#
....

Notez qu'une fois la compilation terminée, vous vous retrouvez face à l'invite. L'étape suivante est d'installer le logiciel porté. Afin de l'installer, vous devez juste ajouter un mot à la commande `make`, et ce mot est `install`:

[source,shell]
....
# make install
===>  Installing for lsof-4.57
...
[installation output snipped]
...
===>   Generating temporary packing list
===>   Compressing manual pages for lsof-4.57
===>   Registering installation for lsof-4.57
===>  SECURITY NOTE:
      This port has installed the following binaries which execute with
      increased privileges.
#
....

Une fois de retour à l'invite, vous devriez être en mesure d'exécuter l'application que vous venez juste d'installer. Comme `lsof` est un programme qui tourne avec des privilèges accrus, un avertissement sur la sécurité est affiché. Durant la compilation et l'installation de logiciels portés, vous devriez faire attention à tout avertissement qui pourrait apparaître.

Il est conseillé de supprimer le sous-répertoire de travail, qui contient tous les fichiers temporaires utilisés lors de la compilation. Non seulement cela consomme de l'espace disque, mais cela posera problème plus tard lors de la mise à jour vers une nouvelle version du logiciel porté.

[source,shell]
....
# make clean
===>  Cleaning for lsof-4.57
#
....

[NOTE]
====
Vous pouvez vous économiser deux étapes supplémentaires en lançant juste `make install clean` à la place de `make`, `make install` et `make clean` sous la forme de trois étapes séparées.
====

[NOTE]
====
Certains interpréteurs de commandes maintiennent un cache des commandes qui sont disponibles dans les répertoires listés dans la variable d'environnement `PATH`, pour accélérer les opérations de recherche des fichiers exécutables de ces commandes. Si vous utilisez un de ces interpréteurs de commandes, vous pourrez avoir à utiliser la commande `rehash` après l'installation d'un logiciel porté, avant que la commande fraîchement installée ne puisse être utilisée. Cette commande fonctionnera pour les interpréteurs de commandes comme `tcsh`. Utilisez la commande `hash -r` pour les interpréteurs tels que `sh`. Consultez la documentation de votre interpréteur de commandes pour plus d'information.
====

Certains DVD-ROMs comme le FreeBSD Toolkit de http://www.freebsdmall.com/[FreeBSD Mall] contiennent des distfiles. Ils peuvent être utilisés avec le catalogue des logiciels portés. Montez le DVD-ROM sous [.filename]#/cdrom#. Si vous utilisez un point de montage différent, positionnez la variable man:make[1] `CD_MOUNTPTS`. Les distfiles nécessaires seront automatiquement utilisés s'ils sont présent sur le disque.

[NOTE]
====
Soyez conscient que les licences de quelques logiciels portés n'autorisent pas leur présence sur le CD-ROM. Cela peut être dû à la nécessité de remplir un formulaire d'enregistrement avant le téléchargement, ou que la redistribution n'est pas permise, ou toute autre raison. Si vous désirez installer un logiciel porté qui n'est pas disponible sur le CD-ROM, vous devrez vous connecter afin de récupérer les fichiers nécessaires.
====

Le catalogue des logiciels portés utilise man:fetch[1] pour télécharger les fichiers, qui respecte diverses variables d'environnement, dont `FTP_PASSIVE_MODE`, `FTP_PROXY`, et `FTP_PASSWORD`. Il se peut que vous ayez besoin de configurer une ou plusieurs de ces dernières si vous êtes derrière un coupe-feu, ou devez utiliser un proxy FTP/HTTP. Consultez la page de manuel man:fetch[3] pour la liste complète des variables.

Pour les utilisateurs qui ne peuvent rester connectés à l'Internet indéfiniment, il existe la commande `make fetch`. Exécutez cette commande à la base du catalogue des logiciels portés ([.filename]#/usr/ports#) et les fichiers nécessaires seront téléchargés. Cette commande fonctionnera également dans les sous-répertoires du catalogue, par exemple: [.filename]#/usr/ports/net#. Notez que si un logiciel porté dépend de bibliothèques particulières ou d'autres logiciels portés, cette commande de récupérera _pas_ les sources de ces logiciels. Remplacez `fetch` par `fetch-recursive` si vous voulez récupérer également les sources des logiciels dont dépend un logiciel porté.

[NOTE]
====
Vous pouvez compiler tous les logiciels d'une catégorie ou de l'ensemble du catalogue en exécutant la commande `make` dans un répertoire de base, juste comme la commande `make fetch` précédente. C'est, cependant, une idée dangereuse étant donné que certains logiciels portés ne peuvent coexister. Dans d'autres cas, certains logiciels portés peuvent installer des fichiers différents ayant le même nom.
====

Dans de rares cas les utilisateurs peuvent vouloir récupérer les archives à partir d'un site différent du `MASTER_SITES` par défaut (l'emplacement par défaut à partir duquel les fichiers sont téléchargés). Vous pouvez surcharger l'option `MASTER_SITES` avec la commande suivante:

[source,shell]
....
# cd /usr/ports/répertoire
# make MASTER_SITE_OVERRIDE= \
ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch
....

Dans cet exemple nous modifions la valeur par défaut de l'option `MASTER_SITES` pour `ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/`.

[NOTE]
====
Certains logiciels portés autorisent (ou même nécessitent) des options de compilation qui permettent l'activation/désactivation de parties de l'application qui ne sont pas nécessaires, de certaines options de sécurité, et autres personnalisations. Quelques noms de logiciels viennent immédiatement à l'esprit: package:www/mozilla[], package:security/gpgme[], et package:mail/sylpheed-claws[]. Un message sera affiché quand de telles options sont disponibles.
====

==== Modifier les répertoires par défaut des logiciels portés

Il est parfois utile (ou obligatoire) d'utiliser des répertoires de travail ou cible différents. Les variables `WRKDIRPREFIX` et `PREFIX` permettent de modifier les répertoires par défaut. Par exemple:

[source,shell]
....
# make WRKDIRPREFIX=/usr/home/example/ports install
....

compilera le logiciel dans le répertoire [.filename]#/usr/home/example/ports# et installera tout dans [.filename]#/usr/local#.

[source,shell]
....
# make PREFIX=/usr/home/example/local install
....

le compilera dans [.filename]#/usr/ports# et l'installera dans [.filename]#/usr/home/example/local#.

Et bien sûr

[source,shell]
....
# make WRKDIRPREFIX=../ports PREFIX=../local install
....

combinera les deux (c'est trop long pour tenir sur cette page, mais cela devrait vous donner une idée générale).

Alternativement, ces variables peuvent également être configurées dans votre environnement. Consultez la page de manuel de votre interpréteur de commandes pour des instructions sur la procédure à suivre.

==== Travailler avec `imake`

Certains logiciels portés qui utilisent `imake` (une partie du système X Window) ne fonctionnent pas correctement avec la variable `PREFIX`, et insisteront pour s'installer sous [.filename]#/usr/X11R6#. De façon similaire, certains logiciels Perl ignorent `PREFIX` et s'installent dans l'arborescence Perl. Faire en sorte que ces logiciels portés respectent `PREFIX` est une tâche difficile voire impossible.

==== Reconfigurer les logiciels portés

Lors de la compilation de certains logiciels portés, un menu man:ncurses[3] pourra s'afficher et à partir de celui-ci vous pourrez sélectionner certaines options de compilation. Il n'est pas inhabituel pour les utilisateurs de vouloir revoir ce menu pour ajouter, supprimer, ou modifier ces options après la compilation d'un logiciel. Il y a plusieurs manières pour y parvenir. Une possibilité est de se rendre dans le répertoire contenant le logiciel porté et de taper `make config`, qui affichera à nouveau le menu avec les mêmes options sélectionnées. Une autre possibilité est d'utiliser `make showconfig` qui vous affichera toutes les options de configuration pour le logiciel porté. Enfin, une autre possibilité est d'exécuter `make rmconfig` qui supprimera toutes les options sélectionnées et permettra donc de repartir à zéro. Toutes ces options, et bien d'autres, sont détaillées dans la page de manuel man:ports[7].

[[ports-removing]]
=== Supprimer des logiciels portés installés

Maintenant que vous savez comment installer des logiciels portés, vous vous demandez probablement comment les effacer, juste au cas où vous en installez un et plus tard vous vous apercevez que vous n'avez pas installé le bon logiciel porté. Nous désinstallerons notre exemple précédent (qui était `lsof` pour ceux d'entre vous qui n'ont pas suivi). Les logiciels portés sont supprimés de la même manière que pour les logiciels pré-compilés (comme décrit dans la section <<packages-using,Utiliser le système des logiciels pré-compilés>>) en utilisant la commande man:pkg_delete[1]:

[source,shell]
....
# pkg_delete lsof-4.57
....

[[ports-upgrading]]
=== Mise à jour des logiciels portés

Tout d'abord, listez les logiciels portés périmés dont une nouvelle version est disponible dans le catalogue des logiciels portés à l'aide de la commande man:pkg_version[1]:

[source,shell]
....
# pkg_version -v
....

[[ports-file-updating]]
==== [.filename]#/usr/ports/UPDATING#

Une fois que vous avez mis à jour le catalogue des logiciels portés, avant de tenter la mise à jour d'un logiciel porté, vous devrez consulter le fichier [.filename]#/usr/ports/UPDATING#. Ce fichier décrit les divers problèmes et les étapes supplémentaires que les utilisateurs pourront rencontrer ou devront effectuer lors de la mise à jour un logiciel porté, comme la modification de format de fichiers, le changement des emplacements des fichiers de configuration, ou des incompatibilités avec les versions antérieures.

Si le contenu du fichier [.filename]#UPDATING# prime même s'il est en est en contradiction avec des informations présentées ici.

[[portupgrade]]
==== Mise à jour des logiciels portés à l'aide de portupgrade

Le logiciel portupgrade a été conçu pour une mise à jour aisée des logiciels portés installés. Il est disponible via le logiciel porté package:ports-mgmt/portupgrade[]. Installez-le de la même manière que pour n'importe quel autre logiciel en employant la commande `make install clean`:

[source,shell]
....
# cd /usr/ports/ports-mgmt/portupgrade
# make install clean
....

Ensuite, parcourez la liste des logiciels installés avec la commande `pkgdb -F` et corrigez toutes les inconsistances qu'il signale. C'est une bonne idée d'effectuer ce contrôle régulièrement avant chaque mise à jour.

En lançant `portupgrade -a`, portupgrade mettra à jour tous les logiciels portés périmés installés sur votre système. Ajoutez l'indicateur `-i` si vous voulez être consulté pour confirmer chaque mise à jour individuelle.

[source,shell]
....
# portupgrade -ai
....

Si vous désirez mettre à jour qu'une seule application bien particulière et non pas l'intégralité des applications, utilisez la commande: `portupgrade nom_du_logiciel_porté`. Ajoutez l'option `-R` si portupgrade doit mettre à jour en premier lieu tous les logiciels portés nécessaires à l'application.

[source,shell]
....
# portupgrade -R firefox
....

Pour utiliser les versions pré-compilées plutôt que les logiciels portés pour l'installation, utilisez l'option `-P`. Avec cette option portupgrade cherche les répertoires locaux listé dans la variable `PKG_PATH`, ou récupère les paquetages à partir d'un site distant s'ils ne sont pas trouvés localement. Si les paquetages ne peuvent pas être trouvés localement ou récupérés à distance, portupgrade utilisera les logiciels portés. Pour éviter l'usage des logiciels portés, spécifiez l'option `-PP`.

[source,shell]
....
# portupgrade -PP gnome2
....

Pour juste récupérer les sources (ou les paquetages, si l'option `-P` est utilisée) sans compiler ni installer quelque chose, utilisez `-F`. Pour plus d'informations consultez la page de manuel man:portupgrade[1].

[[portmanager]]
==== Mise à jour des logiciels portés à l'aide de Portmanager

Portmanager est un autre utilitaire de mise à jour aisée des logiciels portés installés. Il est disponible via le logiciel portés package:ports-mgmt/portmanager[]:

[source,shell]
....
# cd /usr/ports/ports-mgmt/portmanager
# make install clean
....

Tous les logiciels portés installés peuvent être mis à jour en utilisant cette simple commande:

[source,shell]
....
# portmanager -u
....

Vous pouvez ajouter l'option `-ui` pour être sollicité pour une confirmation à chaque opération qu'effectuera Portmanager. Portmanager peut également être employé pour installer de nouveaux logiciels portés sur le système. Contrairement à la commande `make install clean` habituelle, il mettra à jour toutes les dépendances avant de compiler et d'installer le logiciel sélectionné.

[source,shell]
....
# portmanager x11/gnome2
....

Si des problèmes concernant les dépendances du logiciel porté sélectionné apparaissent, vous pouvez utiliser Portmanager pour toutes les recompiler dans le bon ordre. Cette recompilation achevée, le logiciel porté en question peut alors être à son tour recompilé.

[source,shell]
....
# portmanager graphics/gimp -f
....

Pour plus d'information, consultez la page de manuel de Portmanager.

[[portmaster]]
==== Mise à jour des logiciels portés à l'aide de Portmaster

Portmaster est un autre utilitaire destiné à la mise à jour des logiciels installés. Portmaster a été conçu pour utiliser les outils présents dans le système de "base" (il ne dépend pas d'un autre logiciel porté) et utilise les informations contenues dans le répertoire [.filename]#/var/db/pkg/# pour déterminer quel logiciel doit être mis à jour. Il est disponible à partir du logiciel porté package:ports-mgmt/portmaster[]:

[source,shell]
....
# cd /usr/ports/ports-mgmt/portmaster
# make install clean
....

Portmaster répartit les logiciels portés en quatre catégories:

* logiciels dits "Root" (pas de dépendance, aucun logiciel n'en dépend);
* logiciels dits "Trunk" (pas de dépendance, d'autres logiciels en dépendent);
* logiciels dits "Branch" (ont des dépendances, d'autres logiciels en dépendent);
* logiciels dits "Leaf" (ont des dépendances, aucun logiciel n'en dépend).

Vous pouvez lister tous les logiciels installés et rechercher les mises à jour en utilisant l'option `-L`:

[source,shell]
....
# portmaster -L
===>>> Root ports (No dependencies, not depended on)
===>>> ispell-3.2.06_18
===>>> screen-4.0.3
        ===>>> New version available: screen-4.0.3_1
===>>> tcpflow-0.21_1
===>>> 7 root ports
...
===>>> Branch ports (Have dependencies, are depended on)
===>>> apache-2.2.3
        ===>>> New version available: apache-2.2.8
...
===>>> Leaf ports (Have dependencies, not depended on)
===>>> automake-1.9.6_2
===>>> bash-3.1.17
        ===>>> New version available: bash-3.2.33
...
===>>> 32 leaf ports

===>>> 137 total installed ports
        ===>>> 83 have new versions available
....

L'ensemble des logiciels portés installés peut être mis à jour en utilisant cette simple commande:

[source,shell]
....
# portmaster -a
....

[NOTE]
====
Par défaut Portmaster fera une sauvegarde avant la suppression d'un logiciel porté. Si l'installation de la nouvelle version se passe correctement, Portmaster supprimera la sauvegarde. L'option `-b` demandera à Portmaster de ne pas supprimer automatiquement la sauvegarde. L'ajout de l'option `-i` lancera Portmaster en mode interactif, vous serez alors sollicité avant la mise à jour de chaque logiciel.
====

Si vous rencontrez des erreurs lors du processus de mise à jour, vous pouvez utiliser l'option `-f` pour mettre à jour ou recompiler tous les logiciels installés:

[source,shell]
....
# portmaster -af
....

Vous pouvez également employer Portmaster pour installer de nouveaux logiciels portés en mettant à jour toutes les dépendances avant la compilation et l'installation du nouveau logiciel:

[source,shell]
....
# portmaster shells/bash
....

Pour plus d'information veuillez consulter la page de manuel man:portmaster[8].

[[ports-disk-space]]
=== Logiciels portés et espace disque

A la longue, l'utilisation du catalogue des logiciels portés consommera rapidement votre espace disque. Après la compilation et l'installation de logiciels à partir du catalogue des logiciels portés, vous devriez toujours penser à supprimer les répertoires de travail temporaires, [.filename]#work#, en utilisant la commande `make clean`. Vous pouvez balayer l'intégralité du catalogue des logiciels portés pour supprimer tous les répertoires temporaires oubliés précédement, employez alors la commande suivante:

[source,shell]
....
# portsclean -C
....

Avec le temps, vous accumulerez beaucoup de fichiers sources obsolètes dans le répertoire [.filename]#distfiles#. Vous pouvez les supprimer manuellement, ou vous pouvez utiliser la commande suivante pour effacer toutes les sources qui ne correspondent plus à des logiciels portés d'actualité:

[source,shell]
....
# portsclean -D
....

Ou pour supprimer les fichiers sources ne correspondant à aucun logiciel installé sur votre systèmes.

[NOTE]
====
L'utilitaire `portsclean` fait partie de la suite portupgrade.
====

Pensez à supprimer les logiciels portés installés que vous n'utilisez plus. Un outil qui permet d'automatiser cette tâche est disponible via le logiciel porté package:ports-mgmt/pkg_cutleaves[].

[[ports-nextsteps]]
== Activités de post-installation

Après l'installation d'une nouvelle application vous voudrez normalement lire la documentation qui a pu être également installée, éditer les fichiers de configuration nécessaires, vérifier que l'application est lancée au démarrage (si c'est un daemon), et ainsi de suite.

Les étapes que vous devez suivre pour configurer chaque application seront bien évidemment différentes. Cependant, si vous venez juste d'installer une nouvelle application et que vous vous demandez "Et maintenant?" les astuces suivantes pourront vous aider:

* Utilisez man:pkg_info[1] pour déterminer quels fichiers ont été installés et à quel endroit. Par exemple, si vous venez juste d'installer FooPackage version 1.0.0, alors la commande
+
[source,shell]
....
# pkg_info -L foopackage-1.0.0 | less
....
+ 
affichera tous les fichiers installés par le logiciel pré-compilé. Portez une attention toute particulière aux fichiers dans les répertoires [.filename]#man/#, qui seront des pages de manuel, dans les répertoires [.filename]#etc/# , qui seront des fichiers de configuration, et dans [.filename]#doc/# qui seront de la documentation plus complète.
+ 
Si vous n'êtes pas sûr de la version de l'application qui vient juste d'être installée, une commande comme
+
[source,shell]
....
# pkg_info | grep -i foopackage
....
+ 
déterminera tous les logiciels pré-compilés installés qui ont _foopackage_ dans leur nom. Remplacez _foopackage_ dans votre ligne de commande par ce qui convient.
* Une fois que vous avez identifié où les pages de manuel de l'application ont été installées, consultez-les en utilisant la commande man:man[1]. De même, jetez un coup d'oeil aux exemples de fichiers de configuration, et toute autre documentation additionnelle qui peut avoir été fournie.
* Si l'application a un site web, consultez-le pour de la documentation supplémentaire, des listes de questions fréquemment posées, etc. Si vous n'êtes pas sûr de l'adresse du site web, elle peut être affichée dans le résultat de la commande:
+
[source,shell]
....
# pkg_info foopackage-1.0.0
....
+ 
La ligne `WWW:`, si elle est présente, devrait donner l'URL du site web de l'application.
* Les logiciels qui doivent être lancés au démarrage (comme les serveurs Internet) installent généralement un exemple de procédure de lancement dans le répertoire [.filename]#/usr/local/etc/rc.d#. Vous devriez contrôler si ce fichier est correct et l'éditer ou le renommer si nécessaire. Consultez la section crossref:config[configtuning-starting-services,Démarrer des services] pour plus d'informations.

[[ports-broken]]
== Que faire avec les logiciels portés ne fonctionnant pas?

Si vous rencontrez un portage qui ne fonctionne pas, il y a certaines choses que vous pouvez faire:

. Vérifiez s'il n'y a pas de correctif en attente pour le logiciel porté dans la link:https://www.FreeBSD.org/support/#gnats[base des rapports de bogue]. Si c'est le cas, il se peut que vous puissiez utiliser le correctif proposé.
. Demandez l'aide du responsable du logiciel porté. Tapez la commande `make maintainer` ou lisez le fichier [.filename]#Makefile# pour trouver l'adresse électronique du responsable. Pensez à préciser le nom et la version du logiciel porté (envoyer la ligne `$FreeBSD:` du fichier [.filename]#Makefile#) et les messages d'erreurs quand vous écrivez au responsable.
+
[NOTE]
====
Certains logiciels portés ne sont pas maintenus par une personne mais par une extref:{mailing-list-faq}[liste de diffusion]. Plusieurs, si ce n'est toutes, les adresses de ces listes ressemblent à mailto:freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org]. Veuillez prendre cela en compte en rédigeant vos questions.

En particulier, les logiciels portés apparaissant comme maintenus par mailto:ports@FreeBSD.org[ports@FreeBSD.org] ne sont en fait maintenus par personne. Correctifs et aide, s'ils y en a, provient de la communauté qui est abonnée à cette liste de diffusion. Des volontaires supplémentaires sont toujours les bienvenus!
====
+ 
Si vous n'obtenez pas de réponse, vous pouvez utiliser man:send-pr[1] pour soumettre un rapport de bogue (consultez extref:{problem-reports}[Ecrire des rapports de bogue pour FreeBSD]).
. Corrigez le problème! Le extref:{porters-handbook}[Manuel du développeur de logiciels portés] inclut des informations détaillées sur l'infrastructure des logiciels portés vous permettant de corriger le portage éventuellement défectueux ou même soumettre le votre!
. Récupérez la version pré-compilée sur un serveur FTP proche de vous. Le catalogue de "référence" des logiciels pré-compilés se trouve sur `ftp.FreeBSD.org` dans le répertoire link:ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/[packages], mais vérifiez _d'abord_ votre http://mirrorlist.FreeBSD.org/[miroir local]! Il y a globalement plus de chances que cela marche, que d'essayez de compiler à partir des sources, et cela va également beaucoup plus vite. Utilisez le programme man:pkg_add[1] pour installer le logiciel pré-compilé sur votre système.
