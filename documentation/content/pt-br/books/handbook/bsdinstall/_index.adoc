---
title: Capítulo 2. Instalando o FreeBSD
part: Parte I. Primeiros Passos
prev: books/handbook/introduction
next: books/handbook/basics
---

[[bsdinstall]]
= Instalando o FreeBSD
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:source-highlighter: rouge
:experimental:
:skip-front-matter:
:toc-title: Índice
:table-caption: Tabela
:figure-caption: Figura
:example-caption: Exemplo
:xrefstyle: basic
:relfileprefix: ../
:outfilesuffix:
:sectnumoffset: 2

ifeval::["{backend}" == "html5"]
:imagesdir: ../../../../images/books/handbook/bsdinstall/
endif::[]

ifeval::["{backend}" == "pdf"]
:imagesdir: ../../../../static/images/books/handbook/bsdinstall/
endif::[]

ifeval::["{backend}" == "epub3"]
:imagesdir: ../../../../static/images/books/handbook/bsdinstall/
endif::[]

include::shared/authors.adoc[]
include::shared/releases.adoc[]
include::shared/pt-br/mailing-lists.adoc[]
include::shared/pt-br/teams.adoc[]
include::shared/pt-br/urls.adoc[]

toc::[]

[[bsdinstall-synopsis]]
== Sinopse

Existem diversos modos diferentes de colocar o FreeBSD para rodar, dependendo do ambiente. São eles:

* Imagens de Máquinas Virtuais, para baixar e importar em um ambiente virtual da sua escolha. Elas podem ser baixadas da página de https://www.freebsd.org/where/[Download do FreeBSD]. Existem imagens para KVM ("qcow2"), VMWare ("vmdk"), Hyper-V ("vhd") e imagens de dispositivos brutos (raw device) que são universalmente suportadas . Estas não são imagens de instalação, mas sim as instâncias pré-configuradas ("já instaladas"), prontas para executar e realizar tarefas de pós-instalação.
* Imagens de máquinas virtuais disponíveis no https://aws.amazon.com/marketplace/pp/B07L6QV354[AWS Marketplace], no https://azuremarketplace.microsoft.com/en-us/marketplace/apps?search=freebsd&page=1[Microsoft Azure Marketplace], e na https://console.cloud.google.com/marketplace/details/freebsd-cloud/freebsd-12[Plataforma Google Cloud], para executar em seus respectivos serviços de hospedagem. Para obter maiores informações sobre como implantar o FreeBSD no Azure, consulte o capítulo relevante na https://docs.microsoft.com/en-us/azure/virtual-machines/linux/freebsd-intro-on-azure[Documentação do Azure].
* Imagens de cartão SD, para sistemas embarcados, como Raspberry Pi ou BeagleBone Black. Eles podem ser baixados da página de https://www.freebsd.org/where/[Download do FreeBSD]. Esses arquivos devem ser descompactados e gravados como uma imagem bruta para um cartão SD, a partir do qual a placa será inicializada.
* Imagens de instalação, para instalar o FreeBSD no disco rígido de um desktop padrão, laptop ou servidor.

O resto deste capítulo descreve o quarto caso, explicando como instalar o FreeBSD usando o programa de instalação baseado em texto chamado bsdinstall.

Em geral, as instruções de instalação neste capítulo foram escritas para as arquiteturas i386(TM) e AMD64. Onde aplicável, instruções específicas para outras plataformas serão listadas. Pode haver pequenas diferenças entre o instalador e o que é mostrado aqui, portanto, use este capítulo como um guia geral, e não como um conjunto de instruções literais.

[NOTE]
====
Usuários que preferem instalar o FreeBSD usando uma instaldor gráfico talvez possam se interessar no https://www.furybsd.org[FuryBSD], https://ghostbsd.org[GhostBSD] ou https://www.midnightbsd.org[MidnightBSD].
====

Depois de ler este capítulo, você saberá:

* Quais os requisitos mínimos de hardware e as arquiteturas suportadas pelo FreeBSD.
* Como criar a mídia de instalação do FreeBSD.
* Como iniciar o bsdinstall.
* As perguntas que o bsdinstall fará, o que elas significam e como respondê-las.
* Como solucionar problemas de uma instalação com falha.
* Como acessar uma versão live do FreeBSD antes de se comprometer com uma instalação.

Antes de ler este capítulo, você deve:

* Ler a lista de hardware suportado que acompanha a versão do FreeBSD que será instalada e verificar se o hardware do sistema é suportado.

[[bsdinstall-hardware]]
== Requisitos mínimos de hardware

Os requisitos de hardware para instalar o FreeBSD variam por arquitetura. Arquiteturas de hardware e dispositivos suportados por uma release do FreeBSD estão listados na página https://www.FreeBSD.org/releases/[Informação de Release do FreeBSD]. A https://www.FreeBSD.org/where/[página de download do FreeBSD] também tem recomendações para escolha a imagem correta para as diferentes arquiteturas.

Uma instalação do FreeBSD requer um mínimo de 96 MB de RAM e 1,5 GB de espaço livre no disco rígido. No entanto, essas pequenas quantidades de memória e espaço em disco são realmente adequadas apenas para aplicativos personalizados, como dispositivos embarcados. Os sistemas de desktop de uso geral precisam de mais recursos. De 2 a 4 GB de RAM e pelo menos 8 GB de espaço no disco rígido é um bom ponto de partida.

Estes são os requisitos do processador para cada arquitetura:

amd64::
Esse é o tipo de processador de desktop e laptop mais comum, usado na maioria dos sistemas modernos. A Intel (TM) chama ele de Intel64. Outros fabricantes às vezes o chamam de x86-64.
+
Exemplos de processadores compatíveis com AMD64 incluem: AMD Athlon(TM) 64, AMD Opteron(TM), multi-core Intel(TM)Xeon(TM) e processadores Intel(TM)Core(TM) 2 e posteriores.

i386::
Desktops e laptops mais antigos geralmente usam essa arquitetura x86 de 32 bits.
+
Quase todos os processadores compatíveis com i386 com uma unidade de ponto flutuante são suportados. Todos os processadores Intel(TM) 486 ou superior são suportados.
+
O FreeBSD irá aproveitar o suporte a Extensões de Endereços Físicos (PAE) em CPUs com este recurso. Um kernel com o recurso PAE ativado detectará memória acima de 4 GB e permitirá que ela seja usada pelo sistema. No entanto, o uso do PAE coloca restrições em drivers de dispositivos e outros recursos do FreeBSD.

powerpc::
Todos os sistemas New World ROMApple(TM)Mac(TM) com USB incorporados são suportados. O SMP é suportado em máquinas com vários CPUs.
+
Um kernel de 32 bits só pode usar os primeiros 2 GB de RAM.

sparc64::
Os sistemas suportados pelo FreeBSD/sparc64 estão listados no https://www.FreeBSD.org/platforms/sparc/[Projeto FreeBSD/sparc64].
+
O SMP é suportado em todos os sistemas com mais de 1 processador. Um disco dedicado é necessário, pois não é possível compartilhar um disco com outro sistema operacional neste momento.

[[bsdinstall-pre]]
== Tarefas de Pré-instalação

Uma vez determinado que o sistema atende aos requisitos mínimos de hardware para instalar o FreeBSD, o arquivo de instalação deve ser baixado e a mídia de instalação preparada. Antes de fazer isso, verifique se o sistema está pronto para uma instalação, verificando os itens nesta lista de controle:

[.procedure]
====
. Faça backup dos dados importantes
+ 
Antes de instalar qualquer sistema operacional, _sempre_ faça backup de todos os dados importantes primeiro. Não armazene o backup no sistema que está sendo instalado. Em vez disso, salve os dados em um disco removível, como uma unidade USB, outro sistema na rede ou um serviço de backup online. Teste o backup antes de iniciar a instalação para garantir que ele contenha todos os arquivos necessários. Depois que o instalador formatar o disco do sistema, todos os dados armazenados nesse disco serão perdidos.
. Decida onde instalar o FreeBSD
+ 
Se o FreeBSD for o único sistema operacional instalado, esta etapa pode ser ignorada. Mas se o FreeBSD compartilhar o disco com outro sistema operacional, decida qual disco ou partição será usado para o FreeBSD.
+ 
Nas arquiteturas i386 e amd64, os discos podem ser divididos em várias partições usando um dos dois esquemas de particionamento. Um _registro de inicialização mestre_ tradicional (MBR) contém uma tabela de partição que define até quatro _partições primárias_. Por razões históricas, o FreeBSD chama essas partições primárias de _slices_. Uma dessas partições primárias pode ser transformada em uma _partição estendida_ contendo várias _partições lógicas_. A _Tabela de Partição GUID_ (GPT) é um método mais novo e mais simples de particionar um disco. Implementações comuns de GPT permitem até 128 partições por disco, eliminando a necessidade de partições lógicas.
+ 
O boot loader do FreeBSD requer uma partição primária ou GPT. Se todas as partições primárias ou GPT já estiverem em uso, uma deve ser liberada para o FreeBSD. Para criar uma partição sem excluir dados existentes, use uma ferramenta de redimensionamento de partição para reduzir uma partição existente e criar uma nova partição usando o espaço liberado.
+ 
Uma variedade de ferramentas de redimensionamento de partições comerciais e gratuitas estão listadas em http://en.wikipedia.org/wiki/List_of_disk_partitioning_software[ http://en.wikipedia.org/wiki/List_of_disk_partitioning_software]. O GParted Live (http://gparted.sourceforge.net/livecd.php[http://gparted.sourceforge.net/livecd.php]) é um live CD que inclui o editor de partições GParted. O GParted também está incluído em muitas outras distribuições live CD do Linux.
+
[WARNING]
======
Quando usados corretamente, os utilitários de encolhimento de disco podem criar espaço com segurança para criar uma nova partição. Como existe a possibilidade de selecionar a partição errada, sempre faça backup de todos os dados importantes e verifique a integridade do backup antes de modificar as partições do disco.
======
+ 
Partições de disco contendo diferentes sistemas operacionais tornam possível instalar vários sistemas operacionais em um computador. Uma alternativa é usar virtualização (crossref:virtualization[virtualization, Virtualização]) o que permite que vários sistemas operacionais sejam executados ao mesmo tempo sem modificar nenhuma partição de disco.
. Colete informações de rede
+ 
Alguns métodos de instalação do FreeBSD requerem uma conexão de rede para baixar os arquivos de instalação. Após qualquer instalação, o instalador oferecerá a configuração das interfaces de rede do sistema.
+ 
Se a rede tiver um servidor DHCP, ele poderá ser usado para fornecer configuração de rede automática. Se o DHCP não estiver disponível, as seguintes informações de rede para o sistema devem ser obtidas com o administrador de rede local ou com o provedor de serviços de Internet:
[[bsdinstall-collect-network-information]]
.. Endereço IP
.. Máscara de sub-rede
.. Endereço do IP do gateway padrão
.. Nome de domínio da rede
.. Endereços IP dos servidores DNS da rede

. Verifique a Errata do FreeBSD
+ 
Embora o Projeto FreeBSD se esforce para garantir que cada versão do FreeBSD seja o mais estável possível, ocasionalmente, os bugs aparecem no processo. Em raras ocasiões, esses erros afetam o processo de instalação. A medida que esses problemas são descobertos e corrigidos, eles são anotados na Errata do FreeBSD (https://www.FreeBSD.org/releases/12.1R/errata/[https://www.freebsd.org/releases/12.1R/errata/]) no site do FreeBSD. Verifique a errata antes de instalar para certificar-se de que não existem problemas que possam afetar a instalação.
+ 
Informações e erratas para todos os releases podem ser encontradas na seção de informações de release do site do FreeBSD (https://www.FreeBSD.org/releases/[https://www.freebsd.org /releases/]).
====

[[bsdinstall-installation-media]]
=== Prepare a mídia de instalação

O instalador do FreeBSD não é um aplicativo que pode ser executado dentro de outro sistema operacional. Em vez disso, baixe um arquivo de instalação do FreeBSD, grave-o na mídia associada ao seu tipo e tamanho (CD, DVD, ou USB), e inicialize o sistema para instalar a partir da mídia inserida.

Os arquivos de instalação do FreeBSD estão disponíveis em link:https://www.FreeBSD.org/where/[www.freebsd.org/where/]. O nome de cada arquivo de instalação inclui a versão de Release do FreeBSD, a arquitetura e o tipo de arquivo. Por exemplo, para instalar o FreeBSD 12.1 em um sistema amd64 de um DVD, baixe o [.filename]#FreeBSD-12.1-RELEASE-amd64-dvd1.iso#, grave este arquivo em um DVD, e inicialize o sistema com o DVD inserido.

Os arquivos de instalação estão disponíveis em vários formatos. Os formatos variam dependendo da arquitetura do computador e do tipo de mídia.
[[bsdinstall-installation-media-uefi]]
Arquivos de instalação adicionais são incluídos para computadores que inicializam com UEFI (Interface de Firmware Extensível Unificada). Os nomes desses arquivos incluem a string [.filename]#uefi#.

Tipos de arquivo:

* `-bootonly.iso`: Este é o menor arquivo de instalação, pois contém apenas o instalador. É necessária uma conexão de Internet em funcionamento durante a instalação, pois o instalador fará o download dos arquivos necessários para concluir a instalação do FreeBSD. Este arquivo deve ser gravado em um CD usando um aplicativo de gravação CD.
* `-disc1.iso`: Este arquivo contém todos os arquivos necessários para instalar o FreeBSD, seu código-fonte e a coleção de ports. Ele deve ser gravado em um CD usando um aplicativo de gravação CD.
* `-dvd1.iso`: Este arquivo contém todos os arquivos necessários para instalar o FreeBSD, seu código-fonte e a coleção de ports. Ele também contém um conjunto de pacotes binários populares para instalar um gerenciador de janelas e alguns aplicativos para que um sistema completo possa ser instalado a partir da mídia sem a necessidade de uma conexão com a Internet. Este arquivo deve ser gravado em um DVD usando um aplicativo de gravação DVD.
* `-memstick.img`: Este arquivo contém todos os arquivos necessários para instalar o FreeBSD, seu código-fonte e a coleção de ports. Ele deve ser gravado em um pendrive USB usando as instruções abaixo.
* `-mini-memstick.img`: Como ` -bootonly.iso `, não inclui arquivos de instalação, mas faz o download conforme necessário. É necessária uma conexão de internet em funcionamento durante a instalação. Grave este arquivo para um pendrive USB como mostrado em <<bsdinstall-usb>>.

Depois de baixar o arquivo de imagem, baixe o [.filename]#CHECKSUM.SHA256# do mesmo diretório. Calcule o _checksum_ para o arquivo de imagem. O FreeBSD fornece o man:sha256[1] para isso, usado como `sha256 _imagefilename_`. Outros sistemas operacionais possuem programas semelhantes.

Compare o checksum calculado com a mostrado em [.filename]#CHECKSUM.SHA256#. Os checksum devem corresponder exatamente. Se os checksums não corresponderem, o arquivo de imagem está corrompido e deve ser baixado novamente.

[[bsdinstall-usb]]
==== Gravando um arquivo de imagem para um pendrive USB

O arquivo [.filename]#\*. Img# é uma _imagem_ do conteúdo completo de um cartão de memória. Ele _não pode_ ser copiado para o dispositivo de destino como um arquivo. Várias aplicações estão disponíveis para escrever o [.filename]#*. Img# para um pendrive USB. Esta seção descreve dois destes utilitários.

[IMPORTANT]
====
Antes de continuar, faça backup de todos os dados importantes do pendrive USB. Este procedimento irá apagar todos os dados existentes no mesmo.
====

[[bsdinstall-usb-dd]]
[.procedure]
====
*Procedure: Usando o `dd` para gravar a imagem*

[WARNING]
======

Este exemplo usa [.filename]#/dev/da0# como o dispositivo de destino em que a imagem será gravada. Seja _muito cuidadoso_ para que o dispositivo correto seja usado, pois esse comando destruirá os dados existentes no dispositivo de destino especificado.
======
. O utilitário de linha de comando man:dd[1] está disponível no BSD, no Linux(TM) e no Mac OS(TM). Para gravar a imagem usando o `dd`, insira o pendrive USB e determine o nome do dispositivo. Em seguida, especifique o nome do arquivo de instalação baixado e o nome do dispositivo para o pendrive USB. Este exemplo grava a imagem de instalação amd64 no primeiro dispositivo USB em um sistema FreeBSD existente.
+
[source,bash]
....
# dd if=FreeBSD-12.1-RELEASE-amd64-memstick.img of=/dev/da0 bs=1M conv=sync
....
+ 
Se este comando falhar, verifique se o pendrive USB não está montado e se o nome do dispositivo aponta para o disco, não para uma partição. Alguns sistemas operacionais podem requerer que este comando seja executado com o man:sudo[8]. A sintaxe do man:dd[1] varia ligeiramente em diferentes plataformas; por exemplo, o Mac OS(TM) requer um `bs=1m` em minúsculas. Sistemas como o Linux(TM) podem gravar em buffer. Para forçar todas as gravações a serem concluídas, use o comando man:sync[8].
====

[.procedure]
====
*Procedure: Usando o Windows(TM) para gravar a imagem*

[WARNING]
======

Certifique-se de fornecer a letra da unidade correta, pois os dados existentes na unidade especificada serão sobrescritos e destruídos.
======
. Obtendo o Image Writer para Windows(TM)
+ 
O Image Writer para Windows(TM) é um aplicativo gratuito que pode gravar corretamente um arquivo de imagem em um cartão de memória. Faça o download a partir de https://sourceforge.net/projects/win32diskimager/[https://sourceforge.net/projects/win32diskimager/] e extraia-o em uma pasta.
. Escrevendo a imagem com o Image Writer
+ 
Clique duas vezes no ícone Win32DiskImager para iniciar o programa. Verifique se a letra da unidade mostrada em `Device` é a unidade com o cartão de memória. Clique no ícone da pasta e selecione a imagem a ser gravada no cartão de memória. Clique em btn:[Save] para aceitar o nome do arquivo de imagem. Verifique se tudo está correto e se nenhuma pasta do cartão de memória está aberta em outras janelas. Quando tudo estiver pronto, clique em btn:[ Write ] para gravar o arquivo de imagem no cartão de memória.
====

Agora você está pronto para começar a instalar o FreeBSD.

[[bsdinstall-start]]
== Iniciando a instalação

[IMPORTANT]
====

Por padrão, a instalação não fará alterações no(s) disco(s) antes da seguinte mensagem:

[.programlisting]
....
Your changes will now be written to disk. If you
have chosen to overwrite existing data, it will
be PERMANENTLY ERASED. Are you sure you want to
commit your changes?
....

A instalação pode ser encerrada a qualquer momento antes deste aviso. Se houver uma preocupação de que algo esteja configurado incorretamente, basta desligar o computador antes desse ponto e nenhuma alteração será feita nos discos do sistema.
====

Esta seção descreve como inicializar o sistema a partir da mídia de instalação que foi preparada usando as instruções em <<bsdinstall-installation-media>>. Ao usar um dispositivo USB inicializável, conecte o dispositivo USB antes de ligar o computador. Ao inicializar a partir do CD ou do DVD, ligue o computador e insira a mídia na primeira oportunidade. O procedimento para configurar o sistema para inicializar a partir da mídia inserida depende da arquitetura.

[[bsdinstall-starting-i386]]
=== Inicializando em i386(TM) e amd64

Estas arquiteturas fornecem um menu BIOS para selecionar o dispositivo de inicialização. Dependendo da mídia de instalação usada, selecione o dispositivo de CD/DVD ou o USB como o primeiro dispositivo de inicialização. A maioria dos sistemas também fornece uma chave para selecionar o dispositivo durante a inicialização sem ter que entrar no BIOS. Normalmente, a chave é kbd:[F10], kbd:[F11], kbd:[F12] ou kbd:[Escape].

Se o computador carregar o sistema operacional existente em vez do instalador do FreeBSD, então:

. A mídia de instalação não foi inserida cedo o suficiente no processo de inicialização. Deixe a mídia inserida e tente reiniciar o computador.
. As alterações do BIOS estavam incorretas ou não foram salvas. Verifique novamente se o dispositivo de inicialização correto está selecionado como o primeiro dispositivo de inicialização.
. Este sistema é muito antigo para suportar a inicialização a partir da mídia escolhida. Neste caso, o Plop Boot Manager (http://www.plop.at/en/bootmanagers.html[]) pode ser usado para inicializar o sistema a partir da mídia selecionada.

=== Inicializando no PowerPC(TM)

Na maioria das máquinas, manter pressionado o kbd:[C] no teclado durante a inicialização irá inicializar a partir do CD. Caso contrário, mantenha pressionados kbd:[Command+Option+O+F], ou kbd:[Windows+Alt+O+F] em teclados não-Apple(TM). No prompt `0 >`, digite

[source,bash]
....
 boot cd:,\ppc\loader cd:0
....

[[bsdinstall-view-probe]]
=== Menu de inicialização do FreeBSD

Quando o sistema inicializar a partir da mídia de instalação, um menu semelhante ao seguinte será exibido:

[[bsdinstall-newboot-loader-menu]]
.Menu do FreeBSD Boot Loader
image::bsdinstall-newboot-loader-menu.png[]

Por padrão, o menu irá esperar dez segundos por uma ação do usuário antes de inicializar no instalador do FreeBSD ou, se o FreeBSD já estiver instalado, antes de inicializar no FreeBSD. Para pausar o cronômetro de inicialização para rever as seleções, pressione kbd:[Espaço]. Para selecionar uma opção, pressione seu número, caractere ou tecla destacada. As seguintes opções estão disponíveis.

* `Boot Multi User`: Isto irá continuar o processo de inicialização do FreeBSD. Se o temporizador de boot tiver sido pausado, pressione kbd:[1], kbd:[B] maiúsculo ou minúsculo ou kbd:[Enter].
* `Boot Single User`: Este modo pode ser usado para corrigir uma instalação existente do FreeBSD como descrito em crossref:boot[boot-singleuser,Modo Single-User]. Pressione kbd:[2] ou kbd:[S] maiúsculo ou minúsculo para entrar neste modo.
* `Escape to loader prompt`: Isso inicializará o sistema em um prompt de reparo que contém um número limitado de comandos de baixo nível. Este prompt é descrito em crossref:boot[boot-loader,Estágio três]. Pressione kbd:[3] ou kbd:[Esc] para inicializar neste prompt.
* `Reboot`: Reinicia o sistema.
* `Kernel`: Carrega um kernel diferente.
* `Configure Boot Options`: Abre o menu mostrado e descrito em <<bsdinstall-boot-options-menu>>.

[[bsdinstall-boot-options-menu]]
.Menu de Opções de Inicialização do FreeBSD
image::bsdinstall-boot-options-menu.png[]

O menu de opções de inicialização é dividido em duas seções. A primeira seção pode ser usada para retornar ao menu de inicialização principal ou para redefinir quaisquer opções que tenham sido alteradas de volta para seus valores padrões.

A próxima seção é usada para alternar as opções disponíveis para `On` ou `Off` pressionando o número ou caractere realçado da opção. O sistema sempre inicializará usando as configurações dessas opções até serem modificadas. Várias opções podem ser alternadas usando este menu:

* `ACPI Support`: Se o sistema travar durante a inicialização, tente alternar essa opção para `Off`.
* `Safe Mode`: Se o sistema ainda travar durante a inicialização, mesmo com `Suporte a ACPI` definido como `Off`, tente definir esta opção como `On`.
* `Single User`: Alterne esta opção para `On` para corrigir uma instalação existente do FreeBSD como descrito em crossref:boot[boot-singleuser,Modo Single-User]. Depois que o problema for corrigido, configure-o de volta para `Off`.
* `Verbose`: Alterne esta opção para `On` para ver mensagens mais detalhadas durante o processo de inicialização. Isso pode ser útil ao solucionar problemas de hardware.

Depois de fazer as seleções necessárias, pressione kbd:[1] ou kbd:[Backspace] para retornar ao menu de boot principal, então pressione kbd:[Enter] para continuar a inicialização no FreeBSD. Uma série de mensagens de inicialização irão aparecer enquanto o FreeBSD executa seus testes de dispositivos de hardware e carrega o programa de instalação. Quando a inicialização estiver concluída, o menu de boas-vindas mostrado em <<bsdinstall-choose-mode>> será exibido.

[[bsdinstall-choose-mode]]
.Menu de boas-vindas
image::bsdinstall-choose-mode.png[]

Pressione kbd:[Enter] para selecionar o padrão de btn:[Install] para entrar no instalador. O restante deste capítulo descreve como usar este instalador. Caso contrário, use as setas para a direita ou para a esquerda ou a letra colorida para selecionar o item de menu desejado. A opção btn:[Shell] pode ser usada para acessar um shell do FreeBSD, a fim de usar utilitários de linha de comando para preparar os discos antes da instalação. A opção btn:[Live CD] pode ser usada para testar o FreeBSD antes de instalá-lo. A versão live é descrita em <<using-live-cd>>.

[TIP]
====
Para revisar as mensagens de inicialização, incluindo o probe do dispositivo de hardware, pressione a tecla kbd:[S] maiúscula ou minúscula e, em seguida, kbd:[Enter] para acessar um shell. No prompt do shell, digite `more /var/run/dmesg.boot` e use a barra de espaço para rolar pelas mensagens. Quando terminar, digite `exit` para retornar ao menu de boas-vindas.
====

[[using-bsdinstall]]
== Usando o bsdinstall

Esta seção mostra a ordem dos menus do bsdinstall e o tipo de informação que será solicitada antes que o sistema seja instalado. Use as teclas de seta para realçar uma opção de menu e, em seguida, a barra de kbd:[Espaço] para selecionar ou desmarcar esse item de menu. Quando terminar, pressione kbd:[Enter] para salvar a seleção e passar para a próxima tela.

[[bsdinstall-keymap]]
=== Selecionando o menu do Keymap (Mapa de teclas)

Antes de iniciar o processo, o bsdinstall carregará os arquivos de keymap como mostrado em <<bsdinstall-keymap-loading>>.

[[bsdinstall-keymap-loading]]
.Carregamento de Keymap
image::bsdinstall-keymap-loading.png[]

Após o carregamento dos keymaps, o bsdinstall exibe o menu mostrado em <<bsdinstall-keymap-10>>. Use as setas para cima e para baixo para selecionar o mapa de teclas que mais representa o mapeamento do teclado conectado ao sistema. Pressione kbd:[Enter] para salvar a seleção.

[[bsdinstall-keymap-10]]
.Menu de Seleção do Keymap
image::bsdinstall-keymap-10.png[]

[NOTE]
====
Pressionar kbd:[Esc] sairá deste menu e usará o mapa de teclas padrão. Se a escolha do mapa de teclado não for clara, a opção [.guimenuitem]#United States of America ISO-8859-1# é uma opção segura.
====

Além disso, ao selecionar um keymap diferente, o usuário pode testar o keymap e garantir que esteja correto antes de continuar, conforme mostrado em <<bsdinstall-keymap-testing>>.

[[bsdinstall-keymap-testing]]
.Menu de Teste do Keymap
image::bsdinstall-keymap-testing.png[]

[[bsdinstall-hostname]]
=== Configurando o nome do host

O próximo menu do bsdinstall é usado para definir o nome do host para o sistema recém-instalado.

[[bsdinstall-config-hostname]]
.Configurando o nome do host
image::bsdinstall-config-hostname.png[]

Digite um nome de host exclusivo para a rede. Ele deve ser um nome de host totalmente qualificado, como `machine3.example.com`.

[[bsdinstall-components]]
=== Selecionando Componentes para Instalar

Em seguida, o bsdinstall solicitará a seleção de componentes opcionais para instalação.

[[bsdinstall-config-components]]
.Selecionando Componentes para Instalar
image::bsdinstall-config-components.png[]

Decidir quais componentes instalar dependerá em grande parte do uso pretendido para o sistema e da quantidade de espaço em disco disponível. O kernel do FreeBSD e o userland, coletivamente conhecidos como o _sistema base_, são sempre instalados. Dependendo da arquitetura, alguns desses componentes podem não aparecer:

* `base-dbg` - Ferramentas básicas como cat, ls entre outras com símbolos de depuração ativados.
* `kernel-dbg` - Kernel e módulos com símbolos de depuração ativados.
* `lib32-dbg` - Bibliotecas de compatibilidade para executar aplicativos de 32 bits em uma versão de 64 bits do FreeBSD com símbolos de depuração ativados.
* `lib32` - Bibliotecas de compatibilidade para executar aplicativos de 32 bits em uma versão de 64 bits do FreeBSD.
* `ports` - A Coleção de Ports do FreeBSD é uma coleção de arquivos que automatiza o download, a compilação e a instalação de pacotes de software de terceiros. crossref:ports[ports, Instalando Aplicativos: Pacotes e Ports] discute como usar a coleção de ports.
+
[WARNING]
====
O programa de instalação não verifica o espaço em disco adequado. Selecione esta opção apenas se houver espaço suficiente no disco rígido. A Coleção de Ports do FreeBSD ocupa cerca de 500 MB de espaço em disco.
====

* `src` - O código-fonte completo do FreeBSD para o kernel e para o userland. Embora não seja necessário para a maioria dos aplicativos, pode ser necessário para compilar drivers de dispositivo, módulos do kernel ou alguns aplicativos da Coleção de Ports. Ele também é usado para desenvolver o próprio FreeBSD. A árvore de código-fonte completa requer 1 GB de espaço em disco e a recompilação de todo o sistema FreeBSD requer 5 GB adicionais de espaço.
* `tests` - FreeBSD Test Suite.

[[bsdinstall-netinstall]]
=== Instalando a partir da rede

O menu mostrado em <<bsdinstall-netinstall-notify>> apenas aparece ao instalar a partir de um [.filename]#-bootonly.iso# ou [.filename]#-mini-memstick.img# pois esta mídia de instalação não possui cópias dos arquivos de instalação. Como os arquivos de instalação devem ser recuperados através de uma conexão de rede, esse menu indica que a interface de rede deve ser configurada primeiro. Se o menu é exibido em qualquer etapa do processo lembre-se de seguir as instruções em <<bsdinstall-config-network-dev>>.

[[bsdinstall-netinstall-notify]]
.Instalando a partir da rede
image::bsdinstall-netinstall-files.png[]

[[bsdinstall-partitioning]]
== Alocando o espaço em disco

O próximo menu é usado para determinar o método de alocação de espaço em disco. As opções disponíveis no menu dependem da versão do FreeBSD sendo instalada.

[[bsdinstall-zfs-partmenu]]
.Opções de Particionamento
image::bsdinstall-zfs-partmenu.png[]

bsdinstall fornece ao usuário quatro métodos para alocar espaço em disco:

* O particionamento `Auto (UFS)` configura automaticamente as partições do disco usando o sistema de arquivos `UFS`.
* O particionamento `Manual` permite que usuários avançados criem partições personalizadas a partir das opções de menu.
* `Shell` abre um prompt de shell no qual usuários avançados podem criar partições personalizadas usando utilitários de linha de comando como man:gpart[8], man:fdisk[8], e man:bsdlabel[8].
* O particionamento `Auto (ZFS)` cria um sistema root-on-ZFS com suporte opcional à criptografia GELI para _boot environments_.

Esta seção descreve o que considerar ao definir as partições de disco. Em seguida, demonstra como usar os diferentes métodos de particionamento.

[[configtuning-initial]]
=== Criando o layout da partição

Ao criar os sistemas de arquivos, lembre-se de que os discos rígidos transferem dados mais rapidamente das trilhas externas para as internas. Assim, sistemas de arquivos menores e mais acessados devem estar mais próximos da parte externa da unidade, enquanto partições maiores, como [.filename]#/usr#, devem ser colocadas em direção às partes internas do disco. É uma boa idéia criar partições em uma ordem similar a: [.filename]#/#, swap, [.filename]#/var# e [.filename]#/usr#.

O tamanho da partição [.filename]#/var# reflete o uso pretendido para a máquina. Esta partição é usada para armazenar caixas de correio, arquivos de log e spools de impressora. Caixas de correio e arquivos de log podem crescer até tamanhos inesperados, dependendo do número de usuários e de quanto tempo os arquivos de log são mantidos. Na média, a maioria dos usuários raramente precisa de mais do que cerca de um gigabyte de espaço livre em disco no [.filename]#/var#.

[NOTE]
====
Às vezes, é necessário muito espaço em disco no [.filename]#/var/tmp#. Quando um novo software é instalado, as ferramentas de empacotamento extraem uma cópia temporária dos pacotes no [.filename]#/var/tmp#. Grandes pacotes de software, como o Firefox ou LibreOffice podem ser difíceis de instalar se não houver espaço em disco suficiente no [.filename]#/var/tmp#.
====

A partição [.filename]#/usr# contém muitos dos arquivos que suportam o sistema, incluindo o a Coleção de Ports do FreeBSD e o código-fonte do sistema. Pelo menos 2 gigabytes de espaço são recomendados para esta partição.

Ao selecionar os tamanhos das partições, lembre-se dos requisitos de espaço. Ficar sem espaço em uma partição enquanto mal usa outra pode ser um aborrecimento.

Como regra geral, a partição swap deve ter o dobro do tamanho da memória física (RAM). Sistemas com pouca memória RAM podem ter um melhor desempenho com mais swap. Configurar um swap pequeno pode levar a ineficiências no código de verificação de página da VM e pode criar problemas mais tarde, se mais memória for adicionada.

Em sistemas maiores com vários discos SCSI ou vários discos IDE operando em diferentes controladoras, é recomendável que uma area de swap seja configurada em cada unidade, até quatro unidades. As partições de swap devem ter aproximadamente o mesmo tamanho. O kernel pode manipular tamanhos arbitrários, mas as estruturas internas de dados podem ser dimensionadas para 4 vezes a maior partição de swap. Manter as partições de swap próximas do mesmo tamanho permitirá que o kernel otimize o espaço de swap entre discos. Partições grandes de swap são uma coisa boa, mesmo se o swap não for muito usado. Pode ser mais fácil de se recuperar de um programa devorador de memória antes de ser forçado a reinicializar.

Ao particionar adequadamente um sistema, a fragmentação introduzida nas partições menores e intensas em gravação não vai prejudicar as partições que são maioritariamente de leitura. Manter as partições com maior carga de gravação mais próximas da borda do disco aumentará o desempenho de I/O nas partições onde ela é mais necessária. Embora o desempenho de I/O nas partições maiores possa ser necessário, mudá-las mais para a borda do disco não levará a uma melhoria de desempenho significativa em relação à movimentação de [.filename]#/var# para a borda.

[[bsdinstall-part-guided]]
=== Particionamento Guiado Usando UFS

Quando este método é selecionado, um menu exibirá o(s) disco(s) disponível(s). Se vários discos estiverem conectados, escolha aquele em que o FreeBSD deve ser instalado.

[[bsdinstall-part-guided-disk]]
.Selecionando a partir de vários discos
image::bsdinstall-part-guided-disk.png[]

Depois que o disco é selecionado, o próximo menu solicita a instalação no disco inteiro ou a criação de uma partição usando o espaço livre. Se btn:[Entire Disk] for escolhido, um layout de partição geral que preenche todo o disco é criado automaticamente. Selecionar btn:[Partition] cria um layout de partição do espaço não utilizado no disco.

[[bsdinstall-part-entire-part]]
.Selecionando todo o disco ou partição
image::bsdinstall-part-entire-part.png[]

Após btn:[ Entire Disk ] ser escolhido, bsdinstall exibe uma caixa de diálogo indicando que o disco será apagado.

[[bsdinstall-ufs-warning]]
.Confirmação
image::bsdinstall-ufs-warning.png[]

O próximo menu mostra uma lista com os tipos de esquema de partição. O GPT é geralmente a opção mais apropriada para computadores amd64. Computadores mais antigos que não são compatíveis com o GPT devem usar o MBR. Os outros esquemas de partição são geralmente usados para computadores incomuns ou antigos. Mais informações estão disponíveis em <<partition-schemes>>.

[[bsdinstall-ufs-scheme]]
.Selecionar Esquema de Particionamento
image::bsdinstall-part-manual-partscheme.png[]

Depois que o layout da partição tiver sido criado, revise-o para garantir que ele atenda às necessidades da instalação. Selecionar btn:[Revert] redefinirá as partições para seus valores originais e pressionar btn:[Auto] recriará as partições automáticas do FreeBSD. As partições também podem ser criadas, modificadas ou excluídas manualmente. Quando o particionamento estiver correto, selecione btn:[Finish] para continuar com a instalação.

[[bsdinstall-part-review]]
.Revise as partições criadas
image::bsdinstall-part-review.png[]

Depois que os discos são configurados, o próximo menu fornece a última chance de fazer alterações antes que os discos selecionados sejam formatados. Se for necessário fazer alterações, selecione btn:[Back] para retornar ao menu principal de particionamento. btn:[ Revert & Exit ] sairá do instalador sem fazer alterações no disco. Selecione btn:[Commit] para iniciar o processo de instalação.

[[bsdinstall-ufs-final-confirmation]]
.Confirmação final
image::bsdinstall-final-confirmation.png[]

Para continuar com o processo de instalação, vá para <<bsdinstall-fetching-distribution>>.

[[bsdinstall-part-manual]]
=== Particionamento Manual

Selecionar este método abre o editor de partições:

[[bsdinstall-part-manual-create]]
.Criar partições manualmente
image::bsdinstall-part-manual-create.png[]

Realce a unidade de instalação ([.filename]#ada0# neste exemplo) e selecione btn:[Create] para exibir um menu dos esquemas de partição disponíveis:

[[bsdinstall-part-manual-partscheme]]
.Criar partições manualmente
image::bsdinstall-part-manual-partscheme.png[]

O GPT é geralmente a opção mais apropriada para computadores amd64. Computadores mais antigos que não são compatíveis com o GPT devem usar o MBR. Os outros esquemas de partição são geralmente usados para computadores incomuns ou antigos.

[[partition-schemes]]
.Esquemas de Particionamento
[cols="1,1", frame="none", options="header"]
|===
<| Abreviação
<| Descrição

|APM
|Apple Partition Map, usado no PowerPC(TM).

|BSD
|O Label BSD sem um MBR, às vezes chamado de _modo perigosamente dedicado_ porque os utilitários de discos não BSD podem não reconhecê-lo.

|GPT
|Tabela de Partição GUID (http://en.wikipedia.org/wiki/GUID_Partition_Table[ http://en.wikipedia.org/wiki/GUID_Partition_Table ]).

|MBR
|Registro mestre de inicialização ou MBR (http://en.wikipedia.org/wiki/Master_boot_record[ http://en.wikipedia.org/wiki/Master_boot_record ]).

|VTOC8
|Tabela de Volume do Conteúdo usado pelos computadores Sun SPARC64 e UltraSPARC.
|===

Depois que o esquema de particionamento for selecionado e criado, selecione btn:[Create] novamente para criar as partições.A tecla kbd:[Tab] é utilizada para navegação entre os campos.

[[bsdinstall-part-manual-addpart]]
.Criar partições manualmente
image::bsdinstall-part-manual-addpart.png[]

Uma instalação padrão do FreeBSD GPT usa pelo menos três partições:

* `freebsd-boot` - Mantém o código de inicialização do FreeBSD.
* `freebsd-ufs` - Um sistema de arquivos UFS do FreeBSD.
* `freebsd-zfs` - Um sistema de arquivos ZFS do FreeBSD. Mais informações sobre o ZFS estão disponíveis em crossref:zfs[zfs,O sistema de arquivos Z (ZFS)].
* `freebsd-swap` - Espaço de swap do FreeBSD.

Consulte man:gpart[8] para obter informações de todos os tipos de partições GPT disponíveis.

Várias partições do sistema de arquivos podem ser criadas e algumas pessoas preferem um layout tradicional com partições separadas para [.filename]#/#, [.filename]#/var#, [.filename]#/tmp# e [.filename]#/usr#. Veja <<bsdinstall-part-manual-splitfs>> para um exemplo.

O `tamanho` pode ser digitado com abreviações comuns: _K_ para kilobytes, _M_ para megabytes, ou _G_ para gigabytes.

[TIP]
====
O alinhamento adequado do setor fornece o melhor desempenho, e ao definir os tamanhos das partições em múltiplos de 4K bytes ajuda a garantir o alinhamento em discos com setores de 512 ou 4 bytes. Geralmente, usar tamanhos de partições que são múltiplos de 1M ou 1G é a maneira mais fácil de garantir que cada partição comece em um múltiplo par de 4K. Há uma exceção: a partição _freebsd-boot_ não deve ser maior que 512K devido às limitações atuais do código de inicialização.
====

Um `Mountpoint` é necessário se a partição contiver um sistema de arquivos. Se apenas uma única partição UFS for criada, o ponto de montagem deve ser [.filename]#/#.

O `Label` é um nome pelo qual a partição será conhecida. Nomes ou números de unidades podem mudar se a unidade estiver conectada a um controlador ou porta diferente, mas a etiqueta da partição não muda. Referir-se a rótulos em vez de nomes de unidade e números de partição em arquivos como o [.filename]#/etc/fstab# torna o sistema mais tolerante a alterações de hardware. Os rótulos GPT aparecem em [.filename]#/dev/gpt/# quando um disco é anexado. Outros esquemas de particionamento têm diferentes capacidades de rótulos e seus rótulos aparecem em diferentes diretórios no [.filename]#/dev/#.

[TIP]
====
Use um rótulo único e exclusivo para cada uma das partições para evitar conflitos de rótulos idênticos. Algumas letras do nome, uso ou localização do computador podem ser adicionadas ao rótulo. Por exemplo, use `labroot` ou `rootfslab` para a partição raiz UFS no computador chamado `lab`.
====

[[bsdinstall-part-manual-splitfs]]
.Criando partições tradicionais para um sistema de arquivos dividido
[example]
====
Para um layout de partição tradicional em que os diretórios [.filename]#/#, [.filename]#/var#, [.filename]#/tmp# e [.filename]#/usr# são sistemas de arquivos separados em suas próprias partições, crie um esquema de particionamento GPT e crie as partições conforme mostrado. Os tamanhos de partição mostrados são típicos para um disco de destino de 20G. Se houver mais espaço disponível no disco de destino, partições maiores de swap ou [.filename]#/var# podem ser úteis. Os rótulos mostrados aqui são prefixados com `ex` para "exemplo", mas os leitores devem usar outros valores de rótulo exclusivos, conforme descrito acima.

Por padrão, o [.filename]#gptboot# do FreeBSD espera que a primeira partição UFS seja a partição [.filename]#/#.

[.informaltable]
[cols="1,1,1,1", frame="none", options="header"]
|===
| Tipo de Partição
| Tamanho
| Ponto de montagem
| Rótulo


|`freebsd-boot`
|`512K`

|`freebsd-ufs`
|`2G`
|[.filename]#/#
|`exrootfs`

|`freebsd-swap`
|`4G`
|
|`exswap`

|`freebsd-ufs`
|`2G`
|[.filename]#/var#
|`exvarfs`

|`freebsd-ufs`
|`1G`
|[.filename]#/tmp#
|`extmpfs`

|`freebsd-ufs`
|aceite o padrão (restante do disco)
|[.filename]#/usr#
|`exusrfs`
|===
====

Depois que as partições personalizadas forem criadas, selecione btn:[Finish] para continuar com a instalação e vá para <<bsdinstall-fetching-distribution>>.

[[bsdinstall-part-zfs]]
=== Particionamento Guiado Usando Root-on-ZFS

Este modo de particionamento funciona apenas com discos inteiros e apagará por completo o conteúdo do disco. O menu de configuração principal do ZFS oferece várias opções para controlar a criação do pool.

[[bsdinstall-zfs-menu]]
.Menu de particionamento do ZFS
image::bsdinstall-zfs-menu.png[]

Aqui está um resumo das opções que podem ser usadas neste menu:

* `Instalar` - Prosseguir a instalação com as opções selecionadas.
* `Tipo de Pool/Discos` - Permite configurar o `Tipo de Pool` e o(s) disco(s ) que irão constituir o pool. Atualmente o instalador ZFS automático suporta apenas a criação de uma única camada superior vdev, exceto em modo stripe. Para criar pools mais complexos, use as instruções em <<bsdinstall-part-shell>> para criar o pool.
* `Re-escanear Dispositivos` - Re-popular a lista de discos disponíveis.
* `Disk Info` - Disk Info pode ser usado para inspecionar cada disco, incluindo sua tabela de partição e várias outras informações, como o número do modelo do dispositivo e o número de série, se disponíveis.
* `Pool Name` - Define o nome do pool. O nome default é _zroot_.
* `Force 4K Sectors?` - Forçar o uso de setores em 4K. Por padrão, o instalador irá automaticamente criar partições alinhadas com limites em 4K e forçar o ZFS a usar setores de 4K. Isto é seguro mesmo com discos de setores de 512 bytes, e tem o benefício adicional de garantir que pools criados em discos de 512 bytes conseguirão ter setores de 4K adicionados no futuro, seja como espaço de armazenamento adicional ou como substituição ode discos e falha. Aperte a tecla kbd:[Enter] para escolher ativar isso ou não.
* `Encrypt Disks?` - A criptografia dos discos permite ao usuário criptografar os discos usando GELI. Mais informação sobre criptografia de discos está disponível em <<disks-encrypting-geli>>. Aperte a tecla kbd:[Enter] para escolher ativá-la ou não.
* `Partition Scheme` - Permitei escolher o esquema de partição. GPT é a opção recomendada na maioria dos casos. Aperte a tecla kbd:[Enter] para escolher entre diferentes opções.
* `Swap Size` - Determina a quantidade de espaço para swap.
* `Mirror Swap?` - Permite ao usuário espelhar o swap entre os discos. Fique atento, o espelhamento da swap irá quebrar dumps de crash. Pressione a tecla kbd:[Enter] para ativar ou não.
* `Encrypt Swap?` - Permite ao usuário criptografar a swap. Criptografa a swap com uma chave temporária toda vez que o sistema inicializa e a descarta na reinicialização. Pressione a tecla kbd:[Enter] para ativar ou não. Mais informação sobre criptografia de swap em <<swap-encrypting>>.

Selecione kbd:[T] para configurar o `Pool Type` e o(s) disco(s) que irá constituir o pool.

[[bsdinstall-zfs-vdev_type]]
.Tipo de pool ZFS
image::bsdinstall-zfs-vdev_type.png[]

Aqui está um resumo dos `Pool Type` que podem ser selecionados neste menu:

* `stripe` - Striping provê a capacidade máxima de todos os dispositivos conectados, mas não redundância. Se um disco falhar os dados do pool estarão perdidos de forma irrevogável.
* `mirror` - O espelhamento armazena uma completa cópia de todos os dados em todos os discos. O espelhamento provê uma boa performance em leitura porque os dados são lidos the todos os discos em paralelo. A performance da escrita é mais lenta pois os dados precisam ser escritos em todos os discos do pool. Torna possível que haja falha nos discos, menos um. Esta opção requer ao menos dois discos.
* `raid10` - Striped mirrors. Provê a melhor performance, mas o menor armazenamento. Esta opção necessita de um número par de discos e no mínimo quatro discos.
* `raidz1` - RAID Único Redundante. Permite que haja falha concorrente de um disco. Esta opção necessita de ao menos três discos.
* `raidz2` - RAID Duplo Redundante. Permite que até dois discos falhem concorrentemente. Esta opção necessita de ao menos quatro discos.
* `raidz3` - RAID Triplo Redundante. Permite que até três discos falhem concorrentemente. Esta opção necessita de ao menos cinco discos.

Quando um `Pool Type` for selecionado, uma lista de discos disponíveis será exibida, e o usuário é solicitado a selecionar um ou mais discos para compor o pool. A configuração é então validada, para garantir que discos suficientes sejam selecionados. Caso contrário, selecione btn:[<Change Selection>] para retornar à lista de discos ou btn:[<Backgt>] para alterar o `Pool Type`

[[bsdinstall-zfs-disk_select]]
.Seleção de disco
image::bsdinstall-zfs-disk_select.png[]

[[bsdinstall-zfs-vdev_invalid]]
.Seleção inválida
image::bsdinstall-zfs-vdev_invalid.png[]

Se um ou mais discos estiverem faltando na lista, ou se os discos foram anexados depois que o instalador foi iniciado, selecione btn:[- Rescan Devices] para preencher novamente a lista de discos disponíveis.

[[bsdinstall-zfs-rescan-devices]]
.Dispositivos de Reescaneamento
image::bsdinstall-zfs-rescan-devices.png[]

Para evitar apagar acidentalmente o disco errado, o menu btn:[- Disk Info] pode ser usado para inspecionar cada disco, incluindo sua tabela de partição e várias outras informações, como o número do modelo do dispositivo e o número de série, se disponíveis.

[[bsdinstall-zfs-disk_info]]
.Analisando um disco
image::bsdinstall-zfs-disk_info.png[]

Selecione kbd:[N] para configurar o `Pool Name`. Entre com o nome desejado e então selecione btn:[<OK>] para confirmar ou btn:[<Cancel>] para retornar ao menu principal e deixar o nome padrão.

[[bsdinstall-zfs-pool-name]]
.Nome do Pool
image::bsdinstall-zfs-pool-name.png[]

Selecione kbd:[S] para escolher a quantidade de swap. Entre com a quantidade desejada e então selecione btn:[<OK>] para confirmar isto ou btn:[<Cancel>] para retornar ao menu principal e deixar a quantidade padrão.

[[bsdinstall-zfs-swap-amount]]
.Quantidade de Swap
image::bsdinstall-zfs-swap-amount.png[]

Uma vez que todas opções estejam setadas com os valores desejados, selecione a opção btn:[>>> Install] no topo do menu. O instalador oferece uma última chance de cancelar antes que o conteúdo das unidades selecionadas seja destruído para criar o pool do ZFS.

[[bsdinstall-zfs-warning]]
.Última chance
image::bsdinstall-zfs-warning.png[]

Se a criptografia de disco GELI foi ativada, o instalador solicitará duas vezes que a frase secreta seja usada para criptografar os discos. E depois dissoa inicialização da criptografia é iniciado.

[[bsdinstall-zfs-geli_password]]
.Senha de criptografia de disco
image::bsdinstall-zfs-geli_password.png[]

[[bsdinstall-zfs-init-encription]]
.inicializando Criptografia
image::bsdinstall-zfs-init-encription.png[]

A instalação então prossegue normalmente. Para continuar com a instalação, vá para <<bsdinstall-fetching-distribution>>.

[[bsdinstall-part-shell]]
=== Particionamento do modo shell

Ao criar instalações avançadas, os menus de particionamento do bsdinstall podem não fornecer o nível de flexibilidade necessário. Usuários avançados podem selecionar a opção btn:[Shell] no menu de particionamento para particionar manualmente as unidades, criar o(s) sistema(s) de arquivos, preencher o [.filename]#/tmp/bsdinstall_etc/fstab# e montar os sistemas de arquivos em [.filename]#/mnt#. Feito isso, digite `exit` para retornar ao bsdinstall e continue com a instalação.

[[bsdinstall-fetching-distribution]]
== Fazendo o download dos arquivos de distribuição

O tempo de instalação irá variar dependendo das distribuições escolhidas, mídia de instalação e velocidade do computador. Uma série de mensagens indicará o progresso.

Primeiro, o instalador formata o(s) disco(s) selecionado(s) e inicializa as partições. Em seguida, no caso de uma `bootonly media` ou `mini memstick`, ele faz o download dos componentes selecionados:

[[bsdinstall-distfile-fetching]]
.Fazendo o download dos arquivos de distribuição
image::bsdinstall-distfile-fetching.png[]

Em seguida, a integridade dos arquivos de distribuição é verificada para garantir que eles não tenham sido corrompidos durante o download ou mal interpretados da mídia de instalação:

[[bsdinstall-distfile-verify]]
.Verificando arquivos de distribuição
image::bsdinstall-distfile-verifying.png[]

Finalmente, os arquivos de distribuição verificados são extraídos para o disco:

[[bsdinstall-distfile-extract]]
.Extraindo arquivos de distribuição
image::bsdinstall-distfile-extracting.png[]

Depois que todos os arquivos de distribuição solicitados tiverem sido extraídos, o bsdinstall exibirá a primeira tela de configuração pós-instalação. As opções de configuração pós-instalação disponíveis estão descritas na próxima seção.

[[bsdinstall-post]]
== Contas, Time Zone, Serviços e Hardening

[[bsdinstall-post-root]]
=== Definindo a Senha de `root`

Primeiro, a senha do `root` deve ser definida. Ao digitar a senha, os caracteres digitados não são exibidos na tela. Depois que a senha for digitada, ela deve ser digitada novamente. Isso ajuda a evitar erros de digitação.

[[bsdinstall-post-set-root-passwd]]
.Definindo a Senha de `root`
image::bsdinstall-post-root-passwd.png[]

[[bsdinstall-timezone]]
=== Defina o fuso horário

A próxima série de menus é usada para determinar a hora local correta, selecionando a região geográfica, o país e o fuso horário. Definir o fuso horário permite que o sistema corrija automaticamente as alterações de horário regionais, como horário de verão, e execute outras funções relacionadas ao fuso horário corretamente.

O exemplo mostrado aqui é para uma máquina localizada no fuso horário do continente da Espanha, Europa. As seleções variam de acordo com a localização geográfica.

[[bsdinstall-timezone-region]]
.Selecione uma região
image::bsdinstall-timezone-region.png[]

A região apropriada é selecionada usando as teclas de seta e depois pressionando kbd:[Enter].

[[bsdinstall-timezone-country]]
.Selecione um pais
image::bsdinstall-timezone-country.png[]

Selecione o país apropriado usando as teclas de seta e pressione kbd:[Enter].

[[bsdinstall-timezone-zone]]
.Selecione um fuso horário
image::bsdinstall-timezone-zone.png[]

O fuso horário apropriado é selecionado usando as teclas de seta e pressionando kbd:[Enter].

[[bsdinstall-timezone-confirmation]]
.Confirme o fuso horário
image::bsdinstall-timezone-confirm.png[]

Confirme se a abreviação do fuso horário está correta.

[[bsdinstall-timezone-date]]
.Selecionar Data
image::bsdinstall-timezone-date.png[]

A data apropriada é selecionada usando as teclas de seta e pressionando btn:[Set Date]. Caso contrário, a seleção de data pode ser pulada pressionando btn:[ Skip ].

[[bsdinstall-timezone-time]]
.Selecionar Hora
image::bsdinstall-timezone-time.png[]

O horário apropriado é selecionado usando as teclas de seta e, em seguida, pressionando btn:[Set Time]. Caso contrário, a seleção da hora pode ser pulada pressionando btn:[ Skip ].

[[bsdinstall-sysconf]]
=== Ativando Serviços

O próximo menu é usado para configurar quais serviços do sistema serão iniciados sempre que o sistema for inicializado. Todos esses serviços são opcionais. Inicie apenas os serviços necessários para o funcionamento do sistema.

[[bsdinstall-config-serv]]
.Selecionando Serviços Adicionais para Ativar
image::bsdinstall-config-services.png[]

Aqui está um resumo dos serviços que podem ser ativados neste menu:

* `local_unbound` -Ative o DNS local unbound. É necessário ter em mente que esse é o unbound do sistema base e deve ser usado apenas como um cache local de consultas DNS. Se o objetivo é configurar um resolvedor para toda a rede, instale package:dns/unbound[].
* `sshd` - O daemon Secure Shell (SSH) é usado para acessar remotamente um sistema através de uma conexão criptografada. Ative este serviço somente se o sistema estiver disponível para logins remotos.
* `moused` - Ative este serviço se o mouse for usado a partir do console do sistema de linha de comando.
* `ntpdate` - Ative a sincronização automática do relógio no momento do boot. A funcionalidade deste programa agora está disponível no daemon man:ntpd[8]. Após um período considerável de luto, o utilitário man:ntpdate[8] será aposentado.
* `ntpd` - O daemon do Network Time Protocol (NTP) para sincronização automática do relógio. Ative este serviço se houver um servidor Windows(TM), Kerberos ou LDAP na rede.
* `powerd` - Utilitário de controle de energia do sistema para controle de energia e economia de energia.
* `dumpdev` - A habilitação de despejos de memória é útil na depuração de problemas com o sistema; portanto, os usuários são incentivados a habilitar despejos de memória.

[[bsdinstall-hardening]]
=== Ativando Opções de Segurança (Hardening)

O próximo menu é usado para configurar quais opções de segurança serão ativadas. Todas essas opções são opcionais. Mas seu uso é incentivado.

[[bsdinstall-hardening-options]]
.Selecionando Opções de Segurança (Hardening)
image::bsdinstall-hardening.png[]

Aqui está um resumo das opções que podem ser ativadas neste menu:

* `hide_uids` - Oculta processos em execução de outros usuários para impedir que usuários sem privilégios vejam processos em execução de outros usuários (UID), impedindo o vazamento de informações.
* `hide_gids` - Oculta processos em execução de outros grupos para impedir que usuários sem privilégios vejam processos em execução de outros grupos (GID), impedindo o vazamento de informações.
* `hide_jail` - Oculta processos em execução em jails para impedir que usuários sem privilégios vejam processos em execução dentro das jails.
* `read_msgbuf` - Desativando a leitura do buffer de mensagens do kernel para usuários sem privilégios, impede o uso do man:dmesg[8] para exibir mensagens do log do kernel em buffer.
* `proc_debug` - Desativar os recursos de depuração de processo para usuários sem privilégios desativa uma variedade de serviços de depuração entre processos sem privilégios, incluindo algumas funcionalidades procfs, ptrace() e ktrace(). Observe que isso também irá bloquear ferramentas de depuração, como por exemplo, man:lldb[1], man:truss[1], man:procstat[1], bem como alguns recursos de depuração integrados em certas linguagens de script como PHP, etc., de funcionar para usuários sem privilégios.
* `random_pid` - Randomize o PID dos processos recém-criados.
* `clear_tmp` - Limpar o [.filename]#/tmp# na inicialização do sistema.
* `disable_syslogd` - Desative a criação de socket de rede do syslogd. Por padrão, o FreeBSD executa o syslogd de maneira segura com `-s`. Isso impede que o daemon atenda solicitações UDP recebidas na porta 514. Com esta opção ativada, o syslogd será executado com o sinalizador `-ss`, que impede o syslogd de abrir qualquer porta. Para obter mais informações, consulte man:syslogd[8].
* `disable_sendmail` - Desative o agente de transporte de email sendmail.
* `secure_console` - Quando esta opção está ativada, o prompt solicita a senha de `root` ao entrar em modo single-user.
* `disable_ddtrace` - O DTrace pode ser executado em um modo que realmente afetará o kernel em execução. Ações destrutivas não podem ser usadas, a menos que tenham sido explicitamente ativadas. Para habilitar esta opção ao usar o DTrace, use `-w`. Para obter mais informações, consulte man:dtrace[1].

[[bsdinstall-addusers]]
=== Adicione usuários

O próximo menu pede para criar pelo menos uma conta de usuário. Recomenda-se fazer login no sistema usando uma conta de usuário em vez de utilizar diretamente o `root`. Quando logado como `root`, essencialmente não há limites ou proteção sobre o que pode ser feito. Fazer o login como um usuário normal é mais seguro.

Selecione btn:[Yes] para adicionar novos usuários.

[[bsdinstall-add-user1]]
.Adicione contas de usuário
image::bsdinstall-adduser1.png[]

Siga os prompts e insira as informações solicitadas para a conta do usuário. O exemplo mostrado em <<bsdinstall-add-user2>> cria a conta de usuário `asample`.

[[bsdinstall-add-user2]]
.Insira as informações do usuário
image::bsdinstall-adduser2.png[]

Aqui está um resumo das informações para solicitadas:

* `Username` - O nome que o usuário digitará para efetuar login. Uma convenção comum é usar a primeira letra do primeiro nome combinada com o sobrenome, desde que cada nome de usuário seja exclusivo para o sistema. O nome de usuário faz distinção entre maiúsculas e minúsculas e não deve conter espaços.
* `Username` - O nome completo do usuário. Este campo pode conter espaços e é usado como uma descrição para a conta do usuário.
* `Uid` - ID do Usuário. Normalmente, isso é deixado em branco para que o sistema atribua um valor.
* `Login group` - O grupo do usuário. Normalmente, isso é deixado em branco para aceitar o padrão.
* `Invite _user_ into other groups?` - Grupos adicionais aos quais o usuário será adicionado como membro. Se o usuário precisar de acesso administrativo, digite `wheel` aqui.
* `Login class` - normalmente deixado em branco para seguir com o padrão.
* `Shell` - Digite um dos valores listados para definir o shell interativo para o usuário. Consulte crossref:basics[shells,Shells] para maiores informações sobre shells.
* `Home directory` - O diretório inicial do usuário. O padrão geralmente está correto.
* `Home directory permissions` - Permissões no diretório inicial do usuário. O padrão geralmente está correto.
* `Use password-based authentication?` A resposta deve ser `Yes` para que o usuário seja solicitado a inserir sua senha no login.
* `Use an empty password?` - Normalmente a resposta será `No`, pois é inseguro ter uma senha em branco.
* `Use a random password?` - Normalmente a resposta será `No` para que o usuário possa definir sua própria senha no próximo prompt.
* `Enter password` - Escolha a senha para este usuário. Caracteres digitados não serão exibidos na tela.
* `Enter password again` - A senha deve ser digitada novamente para verificação.
* `Lock out the account after creation?` - A reposta normalmente será `No` para que o usuário possa fazer o login.

Depois de inserir tudo, um resumo será exibido para revisão. Se algum erro foi cometido, digite `no` e tente novamente. Se tudo estiver correto, digite `yes` para criar o novo usuário.

[[bsdinstall-add-user3]]
.Saia do gerenciamento de usuários e grupos
image::bsdinstall-adduser3.png[]

Se houver mais usuários para adicionar, responda a pergunta `Add another user?` com `yes`. Digite `no` para concluir a adição de usuários e continuar a instalação.

Para obter maiores informações sobre como adicionar usuários e sobre como gerenciá-los de usuários, consulte crossref:basics[users-synopsis,Usuários e Gerenciamento Básico de Contas].

[[bsdinstall-final-conf]]
=== Configuração final

Depois que tudo tiver sido instalado e configurado, você terá uma chance final para modificar as configurações.

[[bsdinstall-final-config]]
.Configuração final
image::bsdinstall-finalconfiguration.png[]

Use este menu para fazer alterações ou fazer qualquer configuração adicional antes de concluir a instalação.

* `Add User` - Descrito em <<bsdinstall-addusers>>.
* `Root Password` - Descrito em <<bsdinstall-post-root>>.
* `Hostname` - Descrito em <<bsdinstall-hostname>>.
* `Network` - Descrito em <<bsdinstall-config-network-dev>>.
* `Services` - Descrito em <<bsdinstall-sysconf>>.
* `System Hardening` - Descrito em <<bsdinstall-hardening>>.
* `Time Zone` - Descrito em <<bsdinstall-timezone>>.
* `Handbook` - Faça o download e instale o FreeBSD Handbook.

Depois que completar qualquer configuração final que tenha faltado, selecione btn:[Exit].

[[bsdinstall-final-modification-shell]]
.Configuração manual
image::bsdinstall-final-modification-shell.png[]

O bsdinstall perguntará se há alguma configuração adicional que precise ser feita antes de reinicializar o novo sistema. Selecione btn:[Yes] para sair para um shell dentro do novo sistema ou btn:[No] para prosseguir para a última etapa da instalação.

[[bsdinstall-final-main]]
.Conclua a instalação
image::bsdinstall-mainexit.png[]

Se outras configurações ou configurações especiais forem necessárias, selecione btn:[Live CD] para inicializar a mídia de instalação no modo Live CD.

Se a instalação estiver completa, selecione btn:[Reboot] para reiniciar o computador e iniciar o novo sistema FreeBSD. Não se esqueça de remover a mídia de instalação do FreeBSD ou o computador poderá inicializar novamente a partir dela.

Quando o FreeBSD inicializa, mensagens informativas são exibidas. Depois que o sistema concluir a inicialização, um prompt de login será exibido. No `login:`, insira o nome de usuário adicionado durante a instalação. Evite efetuar login como `root`. Consulte crossref:basics[users-superuser,A conta de superusuário] para instruções sobre como se tornar o superusuário quando o acesso administrativo for necessário.

As mensagens que apareceram durante a inicialização podem ser revisadas pressionando kbd:[Scroll-Lock] para ativar o buffer de rolagem para trás. As teclas kbd:[PgUp], kbd:[PgDn] e setas podem ser usadas para rolar pelas mensagens. Quando terminar, pressione kbd:[Scroll-Lock] novamente para desbloquear o visor e retornar ao console. Para revisar essas mensagens depois que o sistema estiver ativo por algum tempo, digite `less /var/run/dmesg.boot` em um prompt de comando. Pressione kbd:[q] para retornar à linha de comando após a visualização.

Se o sshd foi habilitado em <<bsdinstall-config-serv>>, a primeira inicialização pode ser um pouco mais lenta, pois o sistema gerará as chaves RSA e DSA. As inicializações subseqüentes serão mais rápidas. As impressões digitais das chaves serão exibidas, conforme mostrado neste exemplo:

[source,bash]
....
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
10:a0:f5:af:93:ae:a3:1a:b2:bb:3c:35:d9:5a:b3:f3 root@machine3.example.com
The key's randomart image is:
+--[RSA1 1024]----+
|    o..          |
|   o . .         |
|  .   o          |
|       o         |
|    o   S        |
|   + + o         |
|o . + *          |
|o+ ..+ .         |
|==o..o+E         |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
7e:1c:ce:dc:8a:3a:18:13:5b:34:b5:cf:d9:d1:47:b2 root@machine3.example.com
The key's randomart image is:
+--[ DSA 1024]----+
|       ..     . .|
|      o  .   . + |
|     . ..   . E .|
|    . .  o o . . |
|     +  S = .    |
|    +  . = o     |
|     +  . * .    |
|    . .  o .     |
|      .o. .      |
+-----------------+
Starting sshd.
....

Consulte crossref:security[openssh,OpenSSH] para maiores informações sobre fingerprints e o SSH.

O FreeBSD não instala um ambiente gráfico por padrão. Consulte crossref:x11[x11, O sistema X Window] para maiores informações sobre como instalar e configurar um gerenciador gráfico de janelas.

O desligamento adequado de um computador FreeBSD ajuda a proteger os dados e o hardware contra danos. _Não desligue a energia antes do sistema ter sido desligado corretamente!_ Se o usuário for membro do grupo `wheel`, torne-se o superusuário digitando `su` na linha de comando e inserindo a senha do usuário `root`. Em seguida, digite `shutdown -p now` e o sistema será desligado corretamente e, se o hardware suportar, irá se desliga-se.

[[bsdinstall-network]]
== Interfaces de Rede

[[bsdinstall-config-network-dev]]
=== Configurando as Interfaces de Rede

Em seguida, é mostrada uma lista das interfaces de rede encontradas no computador. Selecione a interface para configurar.

[[bsdinstall-configure-net-interface]]
.Escolha uma interface de rede
image::bsdinstall-configure-network-interface.png[]

Se uma interface Ethernet for selecionada, o instalador irá pular para o menu mostrado em <<bsdinstall-configure-net-ipv4>>. Se uma interface de rede sem fio for escolhida, o sistema procurará pontos de acesso sem fio:

[[bsdinstall-wireless-scan]]
.Buscando por pontos de acesso sem fio
image::bsdinstall-configure-wireless-scan.png[]

As redes sem fio são identificadas por um identificador de conjunto de serviços (SSID), um nome curto e exclusivo dado a cada rede. Os SSIDs encontrados durante a busca serão listados, seguidos por uma descrição dos tipos de criptografia disponíveis para essa rede. Se o SSID desejado não aparecer na lista, selecione btn:[Rescan] para buscar novamente. Se a rede desejada ainda não aparecer, verifique se há problemas com as conexões da antena ou tente mover o computador para mais perto do ponto de acesso. refaça a busca após cada alteração ser feita.

[[bsdinstall-wireless-accesspoints]]
.Escolhendo uma rede sem fio
image::bsdinstall-configure-wireless-accesspoints.png[]

Em seguida, insira as informações de criptografia para se conectar à rede sem fio selecionada. A encriptação WPA2 é fortemente recomendada, pois os tipos de encriptação mais antigos, como o WEP, oferecem pouca segurança. Se a rede usar WPA2, insira a senha, também conhecida como Chave Pré-Compartilhada (PSK). Por motivos de segurança, os caracteres digitados na caixa de entrada são exibidos como asteriscos.

[[bsdinstall-wireless-wpa2]]
.Configuração WPA2
image::bsdinstall-configure-wireless-wpa2setup.png[]

Em seguida, escolha se um endereço IPv4 deve ou não ser configurado na interface Ethernet ou na interface sem fio:

[[bsdinstall-configure-net-ipv4]]
.Escolha a rede IPv4
image::bsdinstall-configure-network-interface-ipv4.png[]

Existem dois métodos de configuração de IPv4. O DHCP configurará automaticamente a interface de rede da forma correta e deverá ser usado se a rede fornecer um servidor DHCP. Caso contrário, as informações de endereçamento precisam ser inseridas manualmente como em uma configuração estática.

[NOTE]
====
Não insira informações de rede aleatórias, pois isso não funcionará. Se um servidor DHCP não estiver disponível, obtenha as informações listadas em <<bsdinstall-collect-network-information>> do administrador da rede ou do provedor de serviços de Internet.
====

Se um servidor DHCP estiver disponível, selecione btn:[Yes] no próximo menu para configurar automaticamente a interface de rede. O instalador parecerá pausar por um minuto ou mais enquanto encontra o servidor DHCP e obtém as informações de endereçamento do sistema.

[[bsdinstall-net-ipv4-dhcp]]
.Escolha a configuração IPv4DHCP
image::bsdinstall-configure-network-interface-ipv4-dhcp.png[]

Se um servidor DHCP não estiver disponível, selecione btn:[No] e insira as seguintes informações de endereçamento neste menu:

[[bsdinstall-net-ipv4-static]]
.Configuração IPv4 estática
image::bsdinstall-configure-network-interface-ipv4-static.png[]

* `Endereço IP` - O endereço IPv4 atribuído a este computador. O endereço deve ser único e não estar em uso por outro equipamento na rede local.
* `Subnet Mask` - A máscara de sub-rede da rede.
* `Default Router` - O endereço IP do gateway padrão da rede.

A próxima tela perguntará se a interface deve ser configurada para IPv6. Se IPv6 estiver disponível e for desejado, escolha btn:[Yes] para selecioná-lo.

[[bsdinstall-net-ipv6]]
.Escolha a rede IPv6
image::bsdinstall-configure-network-interface-ipv6.png[]

O  IPv6  também possui dois métodos de configuração. A configuração automática de endereços sem estado (SLAAC) solicitará automaticamente as informações de configuração corretas de um roteador local. Consulte http://tools.ietf.org/html/rfc4862[rfc4862] para maiores informações. A configuração estática requer entrada manual das informações da rede.

Se um roteador IPv6 estiver disponível, selecione btn:[Yes] no próximo menu para configurar automaticamente a interface de rede. O instalador parecerá pausar por um minuto ou mais enquanto localiza o roteador e obtém as informações de endereçamento do sistema.

[[bsdinstall-net-ipv6-slaac]]
.Escolha a configuração do SLAAC do IPv6
image::bsdinstall-configure-network-interface-slaac.png[]

Se um roteador IPv6 não estiver disponível, selecione btn:[No] e insira as seguintes informações de endereçamento neste menu:

[[bsdinstall-net-ipv6-static]]
.Configuração Estática do IPv6
image::bsdinstall-configure-network-interface-ipv6-static.png[]

* `Endereço IPv6` - O endereço IPv6 atribuído a este computador. O endereço deve ser único e não estar em uso por outro equipamento na rede local.
* `Default Router` - O endereço IPv6 do gateway padrão da rede.

O último menu de configuração de rede é usado para configurar o resolvedor do Sistema de Nomes de Domínio (DNS), que converte nomes de host de e para endereços de rede. Se o DHCP ou SLAAC foi usado para autoconfigurar a interface de rede, os valores do `Resolver Configuration` podem já estar preenchidos. Caso contrário, insira o domínio da rede local nome no campo `Search`. `DNS # 1` e `DNS # 2` são os endereços IPv4 e/ou IPv6 dos servidores de DNS. Pelo menos um servidor DNS é necessário.

[[bsdinstall-net-dns-config]]
.Configuração do DNS
image::bsdinstall-configure-network-ipv4-dns.png[]

Quando a interface estiver configurada, selecione um site espelho localizado na mesma região do mundo que o computador no qual o FreeBSD está sendo instalado. Os arquivos podem ser recuperados mais rapidamente quando o espelho está próximo ao computador de destino, reduzindo o tempo de instalação.

[[bsdinstall-netinstall-mirror]]
.Escolhendo um Site Espelho
image::bsdinstall-netinstall-mirrorselect.png[]

[[bsdinstall-install-trouble]]
== Solução de problemas

Esta seção aborda a solução de problemas básicos de instalação, tais como problemas comuns que as pessoas relataram.

Verifique o documento Notas de Hardware (https://www.FreeBSD.org/releases/[https://www.freebsd.org/releases/]) para a versão do FreeBSD para garantir que o hardware é suportado. Se o hardware for suportado e houver travamentos ou outros problemas, compile um kernel personalizado usando as instruções em crossref:kernelconfig[kernelconfig, Configurando o kernel do FreeBSD] para adicionar suporte a dispositivos que não estão presentes no kernel [.filename]#GENERIC#. O kernel padrão assume que a maioria dos dispositivos de hardware está na configuração padrão de fábrica em termos de IRQs, endereços de I/O e canais DMA. Se o hardware foi reconfigurado, um arquivo de configuração personalizado do kernel pode dizer ao FreeBSD onde encontrar os dispositivos.

[NOTE]
====
Alguns problemas de instalação podem ser evitados ou aliviados com a atualização do firmware em vários componentes de hardware, principalmente na placa-mãe. O firmware da placa-mãe é geralmente chamado de BIOS. A maioria dos fabricantes de placas-mãe e computadores tem um site para atualizações e para informações sobre as atualizações.

Os fabricantes geralmente desaconselham a atualização da BIOS da placa-mãe, a menos que haja uma boa razão para isso, como uma atualização crítica. O processo de atualização _pode_ dar errado, deixando o BIOS incompleto e o computador inoperante.
====

Se o sistema trava enquanto verifica o hardware durante a inicialização ou se comporta de maneira estranha durante a instalação, o ACPI pode ser o culpado. O FreeBSD faz uso extensivo do sistema ACPI nas plataformas i386 e amd64 para ajudar na configuração do sistema, caso seja detectado durante a inicialização. Infelizmente, alguns bugs ainda existem tanto no driver ACPI como nas placas-mãe do sistema e no firmware BIOS. O ACPI pode ser desativado configurando a opção `hint.acpi.0.disabled` no terceiro estágio do boot loader:

[source,bash]
....
 set hint.acpi.0.disabled="1"
....

Isso é redefinido toda vez que o sistema é inicializado, portanto é necessário adicionar `hint.acpi.0.disabled="1"` ao arquivo [.filename]#/boot/loader.conf# . Maiores informações sobre o boot loader podem ser encontradas em crossref:boot[boot-synopsis,Sinopse].

[[using-live-cd]]
== Usando o Live CD

O menu de boas-vindas do bsdinstall, mostrado em <<bsdinstall-choose-mode>>, fornece uma opção btn:[Live CD]. Isto é útil para aqueles que ainda estão se perguntando se o FreeBSD é o sistema operacional correto para eles e quer testar alguns dos recursos antes de instalar.

Os seguintes pontos devem ser observados antes de usar o btn:[Live CD]:

* Para obter acesso ao sistema, a autenticação é necessária. O nome de usuário é `root` e a senha está em branco.
* Como o sistema é executado diretamente da mídia de instalação, o desempenho será significativamente mais lento do que o de um sistema instalado em um disco rígido.
* Essa opção fornece apenas um prompt de comando e não uma interface gráfica.
