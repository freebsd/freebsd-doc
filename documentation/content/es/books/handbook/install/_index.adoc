---
title: Capítulo 2. Instalación de FreeBSD
part: Parte I. Primeros pasos
prev: books/handbook/introduction
next: books/handbook/basics
showBookMenu: true
weight: 4
path: "/books/handbook/install/"
---

[[bsdinstall]]
= Instalación de FreeBSD
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:sectnumoffset: 2
:partnums:
:source-highlighter: rouge
:experimental:
:images-path: books/handbook/install/

ifdef::env-beastie[]
ifdef::backend-html5[]
:imagesdir: ../../../../images/{images-path}
endif::[]
ifndef::book[]
include::shared/authors.adoc[]
include::shared/mirrors.adoc[]
include::shared/releases.adoc[]
include::shared/attributes/attributes-{{% lang %}}.adoc[]
include::shared/{{% lang %}}/teams.adoc[]
include::shared/{{% lang %}}/mailing-lists.adoc[]
include::shared/{{% lang %}}/urls.adoc[]
toc::[]
endif::[]
ifdef::backend-pdf,backend-epub3[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]
endif::[]

ifndef::env-beastie[]
toc::[]
include::../../../../../shared/asciidoctor.adoc[]
endif::[]

[[install-synopsis]]
== Sinopsis

FreeBSD dispone de un programa en modo texto muy fácil de usar llamado sysinstall. Es el programa de instalación por omisión en FreeBSD, pero quien decida distribuir FreeBSD tiene todo el derecho de facilitar un sistema de instalación propio si así lo desea. Este capítulo trata sobre cómo usar sysinstall para instalar FreeBSD

Tras leer este capítulo sabrá usted:

* Cómo crear los discos de instalación de FreeBSD
* Cómo interpreta (y subdivide) FreeBSD sus discos duros.
* Cómo arrancar  sysinstall.
* Qué preguntas le hará  sysinstall, qué significan y cómo responderlas.

Antes de leer este capítulo debería usted:

* Leer la lista de hardware soportado que se suministra con la con la versión de FreeBSD que va a instalar y verificar que su hardware está en dicha lista.

[NOTE]
====
En general éstas instrucciones de instalación han sido escritas para computadoras de arquitectura i386(TM) («PC compatible»). En algunos puntos concretos se darán instrucciones específicas para otras plataformas (por ejemplo Alpha). A pesar de que esta guía se intenta mantener todo lo al día que es posible puede que se encuentre con pequeñas diferencias entre el programa de instalación y lo que aquí se le muestra. Le sugerimos que use este capítulo como una guía general más que como un manual literal de instalación.
====

[[install-hardware]]
== Requisitos de hardware

[[install-hardware-minimal]]
=== Configuración mínima

La configuración mínima para instalar FreeBSD varía según la versión de FreeBSD y la arquitectura de hardware.

Tiene información sobre la confuración mínima en las Notas de Instalación que encontrará en la sección de http://www.FreeBSD.org/releases/index.html[Información de Releases] del sitio web de FreeBSD. En la siguiente sección se facilita un resumen de dicha información. Dependiendo de cuál sea el método de instalación que elija para instalar FreeBSD necesitará un floppy, un lector de CDROM que pueda utilizar con FreeBSD o quizás un adaptador de red. Todo esto se explica en la <<install-floppies>>.

==== FreeBSD/i386 y FreeBSD/pc98

Tanto FreeBSD/i386 como FreeBSD/pc98 necesitan un procesador 486 o superior y un mínimo de 24 MB de RAM. Necesitará también al menos 150 MB de espacio libre en disco, que es lo que necesita la instalación mínima.

[NOTE]
====
En sistemas muy antiguos la mayoría de las veces será de mucha más ayuda conseguir más RAM y espacio de disco que un procesador más rápido.
====

==== FreeBSD/alpha

Para instalar FreeBSD/alpha necesitará una plataforma que esté soportada (consulte <<install-hardware-supported>>) y un disco duro dedicado a FreeBSD. En este momento no es posible compartir un disco con otro sistema operativo. Este disco debe estar necesariamente conectado a una controladora SCSI que esté soportada por el firmware SRM, o si se trata de un disco IDE el SRM de su máquina debe permitir el arranque desde discos IDE.

Necesitará el firmware de la consola SRM de su plataforma. En ciertos casos es posible pasar del firmware AlphaBIOS (o ARC) al SRM. En otros casos no habrá más remedio que descargar un nuevo firmware desde el sito web del fabricante.

[NOTE]
====
A partir de FreeBSD 7.0 no hay soporte para Alpha. La serie FreeBSD 6._X_ es la última que ofrece soporte para esta arquitectura.
====

==== FreeBSD/amd64

Hay dos tipos de procesadores capaces de ejecutar FreeBSD/amd64. La primera son los procesadores AMD64, entre los que están los AMD Athlon(TM)64, AMD Athlon(TM)64-FX, AMD Opteron(TM) y los modelos superiores.

La segunda categoría de procesadores que pueden usar FreeBSD/amd64 es la de los procesadores de arquitectura EM64T de Intel(R), por ejemplo las familias de procesadores Intel(R) Core(TM) 2 Duo, Quad, y Extreme, y la secuencia de procesadores Intel(R) Xeon(TM) 3000, 5000 y 7000.

Si tiene una máquina basada en una nVidia nForce3 Pro-150 _tendrá que usar la configuración de la BIOS_ para deshabilitar IO ACPI. Si no tiene la opción de hacerlo tendrá que deshabilitar ACPI. Hay errores en el chipset Pro-150 para los que no hemos encontrado aún una solución.

==== FreeBSD/sparc64

Para instalar FreeBSD/sparc64 necesita una plataforma que esté soportada (consulte la <<install-hardware-supported>>).

Necesitará un disco dedicado a FreeBSD/sparc64. De momento es imposible compartir un disco duro con otro sistema operativo.

[[install-hardware-supported]]
=== Hardware soportado

Cada versión de FreeBSD incluye una lista de hardware soportado en las «FreeBSD Hardware Notes». Este documento suele estar en un fichero llamado [.filename]#HARDWARE.TXT#, que está en el directorio raiz del CDROM o distribución FTP, o en el menú de documentación de sysinstall. En este documento se listan los dispositivos de hardware que se sabe que funcionan con cada versión de FreeBSD y para qué arquitectura. En la página de http://www.FreeBSD.org/releases/[Información de Releases] del sitio web de FreeBSD encontrará copias de esta lista para diversas releases y arquitecturas.

[[install-pre]]
== Tareas anteriores a la instalación

[[install-inventory]]
=== Inventario de su sistema

Antes de instalar FreeBSD en su sistema debería hacer un inventario de los componentes de su computadora. El sistema de instalación de FreeBSD le mostrará los componentes (discos duros, tarjetas de red, unidades de CDROM, etc.) con sus datos de modelo y fabricante. FreeBSD tratará también de determinar la configuración correcta para dichos dispositivos, lo que incluye información sobre las IRQ y el uso de puertos IO. A causa de la ingente variedad de hardware para PC este proceso no siempre se puede culminar con éxito y es posible que deba corregir las decisiones de FreeBSD retocando la configuración.

Si ya dispone de otro sistema operativo instalado (como Windows(R) o Linux) puede usar los recursos que dicho o dichos sistemas operativos le faciliten para determinar exactamente qué hardware tiene y cómo está configurado. Si tiene del todo claro qué configuración está usando una tarjeta de expasión concreta es posible que pueda encontrar esos datos impresos en la propia tarjeta. Es muy habitual el uso de las IRQ 3, 5 y 7 y las direcciones de los puertos IO suelen representarse con números hexadecimales, como 0x330.

Le recomendamos imprimir o tomar nota de todos esos datos antes de instalar FreeBSD. Una tabla como esta puede serle de mucha ayuda:

.Ejemplo de inventario de dispositivos
[cols="1,1,1,1", frame="none", options="header"]
|===
| Nombre de dispositivo
| IRQ
| Puerto(s) IO
| Notas

|Primer disco duro
|N/A
|N/A
|40 GB, fabricado por Seagate, primer maestro IDE 

|CDROM
|N/A
|N/A
|Primer esclavo IDE

|Segundo disco duro
|N/A
|N/A
|20 GB, fabricado por IBM, segundo maestro IDE

|Primera controladora IDE
|14
|0x1f0
|

|Tarjeta de red
|N/A
|N/A
|Intel(R) 10/100

|Módem
|N/A
|N/A
|3Com(R) 56K faxmodem, en COM1

|...
|===

Una vez termine el inventorio de componentes de su sistema debe comprobar si aparecen en la lista de hardware soportado de la versión de FreeBSD que vaya a instalar.

=== Haga una copia de seguridad de sus datos

Si la máquina en la que va a instalar FreeBSD contiene datos que desea conservar por algún motivo asegúrese de haber hecho una copia de seguridad de los mismos y de que esa copia es de fiar antes de instalar FreeBSD. El sistema de instalación de FreeBSD le mostrará una advertencia antes de modificar datos en su disco pero una vez que el proceso ha comenzado no hay manera de dar marcha atrás.

[[install-where]]
=== Decida dónde instalar FreeBSD

Si quiere que FreeBSD use todo su disco duro puede saltar tranquilamente a la siguiente sección.

Si por el contrario necesita que FreeBSD coexista con otros sistemas operativos tendrá que comprender cómo se almacenan los datos en el disco duro y cómo le afecta esto.

[[install-where-i386]]
==== Esquemas de disco en FreeBSD/i386(TM)

Un disco de PC puede dividirse en varias partes. Estas partes reciben el nombre de _partitions_. Dado que FreeBSD internamente también tiene particiones la nomenclatura puede ser confusa muy rápidamente, así que estas partes del disco reciben el nombre de «disk slices» o sencillamente «slices» («rebanadas de disco»y «rebanadas» respectivamente). Por ejemplo, la versión de `fdisk` que usará FreeBSD con las particiones de disco de PC usa la palabra «slices» en lugar de «partitions». Debido a limitaciones de diseño la plataforma PC sólo admite cuatro particiones por disco. Dichas particiones reciben el nombre de _particiones primarias_. Esta limitación puede sortearse (y de ese modo disponer de más de cuatro particiones) gracias a que se creó un nuevo tipo de partición, las _particiones extendidas_. Un disco puede contener una única partición extendida. Dentro de ella pueden crearse particiones especiales, que reciben el nombre de _particiones lógicas_.

Cada partición tiene un _identificador de partición_ (o _partition ID_), que es un número que se usa para identificar el tipo de datos que alberga la partición. Las particiones FreeBSD tienen como identificador de partición `165`.

Normalmente cada sistema operativo que vaya a utilizar identificará las particiones de un modo propio. Por ejemplo DOS (y sus descendientes, como Windows(R)) asignan a cada partición primaria y lógica una _letra de unidad_ a partir de [.filename]#C:#.

FreeBSD debe instalarse en una partición primaria. FreeBSD puede albergar todos los datos que necesita, incluyendo cualquier fichero que pueda usted crear, en esta partición. Si tiene usted varios discos duros puede crear particiones para que FreeBSD las use en todos ellos o en algunos nada más. Al instalar FreeBSD debe usar al menos una partición. Puede usar una partición vacía que haya preparado o puede usar también una partición que contenga datos que no desea conservar.

Si está usando todas las particiones de todos sus discos tendrá que dejar libre una de ellas para FreeBSD usando las herramientas del otro sistema operativo que esté usando (por ejemplo `fdisk` en DOS o en Windows(R)).

Si tiene una partición sobrante puede usarla, pero puede verse en la necesidad de reducir una o más de las particiones que está usando.

Una instalación mínima de FreeBSD cabrí en sólo 100 MB de disco pero tenga en cuenta que apenas quedaría espacio para los ficheros que quiera crear. Un mínimo más realista sería de 250 MB si no pretende usar entorno gráfico y 350 MB o más si quiere usar un interfaz gráfico de usuario. Si quiere instalar gran cantidad de software para usarlo en FreeBSD sin duda necesitará más espacio.

Para ello puede usar herramientas comerciales como PartitionMagic(R) o libres como GParted para redimensionar sus particiones y hacer sitio para FreeBSD. El directorio [.filename]#tools# directory del CDROM de instalación contiene dos herramientas libres con las que puede hacer hacer esta redimensión: FIPS y PResizer. En el mismo directorio encontrará documentación de ambas. FIPS, PResizer y PartitionMagic(R) pueden redimensionar particiones FAT16 y FAT32, que pueden encontrarse desde MS-DOS(R) hasta Windows(R) ME. Tanto PartitionMagic(R) como GParted funcionan también en particiones NTFS. GParted forma parte de diversas distribuciones de «Live CD» de Linux, como http://www.sysresccd.org/[SystemRescueCD].

Hay informes de problemas redimensionando particiones de Microsoft(R) Vista. Le recomendamos tener a mano un disco de instalación de Vista cuando intente hacer esto. Lo dicho para cualquier otra tarea de mantenimiento de discos es válido aquí: tenga una copia de seguridad _fiable_ y reciente a mano.

[WARNING]
====

El uso incorrecto de estas herramientas puede borrar datos de su disco duro. Recuerde, asegúrese de disponer de copias de seguridad recientes y utilizables antes de usarlas.
====

.Uso de una partición sin cambiar nada
[example]
====
Supongamos que tiene una máquina con un sólo disco de 4 GB que ya tiene una versión de Windows(R) instalada y que ese disco está dividido en dos unidades, [.filename]#C:# y [.filename]#D:#, cada una de las cuales tiene un tamaño de 2 GB. Tiene 1 GB de datos en [.filename]#C:# y 0.5 GB de datos en [.filename]#D:#.

Esto significa que su disco duro tiene dos particiones, una por cada letra de unidad. Copie todos sus datos de [.filename]#D:# en [.filename]#C:#; de este modo vaciará la segunda partició y podrá usarla con FreeBSD.
====

.Reducir una partición existente
[example]
====
Suponga que tiene una máquina con un sólo disco de 4 GB que contiene una versión de Windows(R) instalada. Cuando instaló Windows(R) creó una gran partición, lo que le dió como resultado una unidad [.filename]#C:# de 4 GB. Está usando 1.5 GB de espacio y quiere que FreeBSD tenga 2 GB de espacio.

Para poder instalar FreeBSD tendrá que realizar una de las siguientes tareas:

. Haga una copia de sus datos de Windows(R) y después reinstale Windows(R), eligiendo una partición de 2 GB en el momento de la instalación.
. Utilice alguna herramienta del estilo de PartitionMagic(R) que se han descrito antes para reducir el tamaño de su partición de Windows(R).

====

==== Estructura de discos en Alpha

Tendrá que dedicar un disco de su sistema para usar FreeBSD puesto que de momento es imposible compartir un disco con otro sistema operativo. Dependiendo de la la máquina Alpha que tenga el disco podrá ser SCSI o IDE en la medida en que sea posible arrancar desde tales discos.

Siguiendo las normas de los manuales de Digital / Compaq todos los datos suministrados a SRM se muestran en mayúsculas. SRM no distingue entre mayúsculas y minúsculas.

Use `SHOW DEVICE` en la consola de SRM para saber qué tipo de discos hay en su sistema:

[source,shell]
....
>>>SHOW DEVICE
dka0.0.0.4.0               DKA0           TOSHIBA CD-ROM XM-57  3476
dkc0.0.0.1009.0            DKC0                       RZ1BB-BS  0658
dkc100.1.0.1009.0          DKC100             SEAGATE ST34501W  0015
dva0.0.0.0.1               DVA0
ewa0.0.0.3.0               EWA0              00-00-F8-75-6D-01
pkc0.7.0.1009.0            PKC0                  SCSI Bus ID 7  5.27
pqa0.0.0.4.0               PQA0                       PCI EIDE
pqb0.0.1.4.0               PQB0                       PCI EIDE
....

Este ejemplo es de una Digital Personal Workstation 433au y muestra tres discos instalados en el sistema. El primer disco es una unidad CDROM llamada [.filename]#DKA0# y los otros dos reciben los nombres de [.filename]#DKC0# y [.filename]#DKC100# respectivamente.

Los discos con nombres tipo [.filename]#DKx# son discos SCSI. Por ejemplo [.filename]#DKA100# se refiere a un disco SCSI con el «target ID 1» en el primer bus SCSI (A), mientras que [.filename]#DKC300# es un disco SCSI con un ID 3 en el tercer bus SCSI (C). Los nombres de dispositivo [.filename]#PKx# son para adaptadores de bus SCSI. Como hemos visto en la salida de `SHOW DEVICE` las unidades CDROM SCSI son consideradas iguales a otros discos duros SCSI.

Los discos IDE tienen nombres similares a [.filename]#DQx#, mientras que [.filename]#PQx# es la controladora IDE asociada.

=== Recopile los datos de la configuración de la red

Si pretende conectarse a alguna red durante la instalación de FreeBSD (por ejemplo si pretende hacerlo desde un sitio FTP o mediante un servidor NFS) tendrá que conocer la configuración de su red. Durante la instalación se le pedirán esos datos para que FreeBSD pueda conectarse a la red y realizar la instalación.

==== Conexión a una red Ethernet o a un módem Cable/DSL

Necesitará la siguiente información si va a conectarse a una red Ethernet o si tiene una conexión a Internet a través de una adaptador Ethernet via cable o DSL:

. Dirección IP
. Dirección IP de la pasarela («gateway», «puerta de enlace»)
. Nombre del sistema («hostname»)
. Dirección IP del servidor DNS
. Máscara de subred

Si no conoce estos datos póngase en contacto con su administrador de sistemas o con su proveedor de servicios. Es que le digan que tal información se asigna automáticamente mediante _DHCP_. Si es así, anótelo.

==== Conexión mediante módem

Si usted se conecta con su ISP mediante un módem tradicional sigue pudiendo instalar FreeBSD a través de Internet; el problema es que tardará mucho más que por otros medios.

Necesitará saber:

. El número de teléfono de su ISP a través del que accederá a Internet
. El COM: el puerto al que está conectado su módem
. Su nombre de usuario y su contraseña de acceso a Internet

=== Consulte «FreeBSD Errata»

A pesar de que el proyecto FreeBSD hace todo lo humanamente posible para asegurarse de que cada «release» de FreeBSD es todo lo estable posible a veces algún error logra entrar en escena. En contadísimas ocasiones esos errores llegan a afectar al proceso de instalación. Cuando esos errores son ubicados y corregidos aparecen en lo que llamamos la http://www.FreeBSD.org/releases/{rel120-current}r/errata/[FreeBSD Errata], que encontrará en el sitio web de FreeBSD. Debería consultar este texto antes de la instalación para asegurarse de que no hay problemas de última hora de los que deba preocuparse.

Tiene información sobre las «releases», incluyendo la «errata» de cada una de ellas, en la http://www.FreeBSD.org/releases/[sección de información de «releases» ] del http://www.FreeBSD.org/[sitio web de FreeBSD].

=== Obtención de los ficheros de instalación de FreeBSD

El proceso de instalación de FreeBSD permite instalar FreeBSD desde ficheros ubicados en cualquiera de los siguientes sitios:

.Medios locales
* Un CDROM o DVD
* Una partición DOS en la propia computadora
* Una cinta SCSI o QIC
* Discos floppy

.Red
* Un sitio FTP, saliendo a través de un cortafuegos o usando un proxy HTTP si fuera necesario
* Un servidor NFS
* Una conexión serie o a través de una cable paralelo

Si ha adquirido FreeBSD en CD o DVD ya tiene todo lo que necesitará, puede pasar a la siguiente sección: (<<install-floppies>>).

Si no dispone de los ficheros de instalación de FreeBSD debería consultar la <<install-diff-media>>, donde se explica cómo preparar la instalación de FreeBSD desde cualquiera de los medios listados anteriormente. Tras leer esa sección puede volver aquí y leer la <<install-floppies>>.

[[install-floppies]]
=== Preparación del medio de arranque

El proceso de instalación de FreeBSD comienza por arrancar su sistema mediante el instalador de FreeBSD: no es un programa que pueda ejecutar desde otro sistema operativo. Su sistema suele arrancar usando el sistema operativo que está instalado en su disco duro pero puede también ser configurado para que lo haga desde un floppy «arrancable». Las computadoras más modernas pueden también arrancar desde un CDROM introducido en la unidad CDROM.

[TIP]
====

Si tiene FreeBSD en CDROM o DVD (por haberlo comprado o haberlo preparado por usted) y su sistema puede arracar desde CDROM o DVD (suele ser una opción de BIOS llamada «Boot Order» o algo similar) puede saltarse esta sección. Las imágenes de CDROM o DVD de FreeBSD permiten arrancar desde ellas y pueden emplearse para instalar FreeBSD sin ninguna preparación especial.
====

Siga estos pasos para crear las imágenes que le permitirán arrancar desde floppy:

[.procedure]
=====
. Consiga las imágenes de arranque desde floppy
+ 
Los discos de arranque se encuentran en el directorio [.filename]#floppies/# del medio de instalación o pueden descargarse desde el directorio correspondiente de `ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/<arch>/<version>-RELEASE/floppies/`. Reemplace _<arch>_ y _<version>_ con la arquitectura y la versión de FreeBSD que quiera instalar. Por ejemplo, las imágenes de arranque desde floppy para FreeBSD {rel120-current}-RELEASE para i386(TM) están en from link:ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/{rel120-current}-RELEASE/floppies/[ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/{rel120-current}-RELEASE/floppies/].
+ 
Las imágenes de floppy tienen la extensión [.filename]#.flp#. El directorio [.filename]#floppies/# contiene diferentes imágenes y las que usted necesitará dependerán de la versión de FreeBSD que vaya a instalar y, en algunos casos, del hardware en el que lo va a instalar. En la mayoría de de los casos solamente usará dos ficheros: [.filename]#kern.flp# y [.filename]#mfsroot.flp#. La instalación en algunos sistemas concretos requerirá controladores de dispositivo adicionales, que se encuentran en la imagen [.filename]#drivers.flp#. Consulte [.filename]#README.TXT# en el propio directorio, ahí encontrará la información más reciente sobre las imágenes.
+
[IMPORTANT]
======
Su programa de FTP debe usar _modo binario_ para descargar las imágenes. Algunos navegadores web suelen usar el modo _texto_ ( o _ASCII_). He aquí lo primero a comprobar si no puede arrancar desde los disquetes que ha creado.
======

. Preparación de los discos floppy
+ 
Tendrá que preperar un disquete por cada imagen que descargue. Es imprescindible que esos discos carezcan de errores. La forma más sencilla de asegurarlo es formatearlos usted. No confíe en disquetes preformateados. La herramienta de formateo de Windows(R) no le advertirá del hallazgo de bloques defectuosos, si encuentra alguno sencillamente lo marcará como «defectuoso» y lo ignorará. Le recomendamos que use disquetes nuevos si decide usar este procedimiento de instalación.
+
[IMPORTANT]
======
Si instenta instalar FreeBSD y el programa de instalación falla, se queda congelado o sucede alguna otra catástrofe uno de las primeras cosas de las que sospechar son los disquetes. Vuelque los ficheros de imagen en discos nuevos e inténtelo de nuevo.
======

. Escriba los ficheros de imagen en discos floppy («disquetes»)
+ 
Los ficheros [.filename]#.flp# _no_ son ficheros normales que puedan copiarse a disco. Son imágenes del contenido completo de los discos. Esto significa que _no puede_ simplemente copiar esos ficheros de un disco a otro. Debe usar herramientas especializadas para escribir esas imágenes directamente al disco correspondiente.
+ 
Si va a crear los disquetes de arranque en un sistema en el que se está ejecutando MS-DOS(R)/Windows(R) utilice la herramienta `fdimage`.
+ 
Si las imágenes están en el CDROM y su CDROM es la unidad [.filename]#E:# ejecute lo siguiente:
+
[source,shell]
....
E:\> tools\fdimage floppies\kern.flp A:
....
+ 
Repita el proceso con cada fichero [.filename]#.flp# reemplazando cada vez el disco y recuerde etiquetarlos con el nombre del fichero que ha copiado en cada uno. Modifique la línea del comando donde sea necesario, adaptándola al lugar donde tenga usted los ficheros [.filename]#.flp#. Puede descargar `fdimage` desde el directorio link:ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/[tools ] del sitio FTP de FreeBSD.
+ 
Si va a crear los disquetes en un sistema UNIX(R) (por ejemplo otro sistema FreeBSD) puede utilizar man:dd[1] para volcar las imágenes a los discos. En FreeBSD puede ejecutar algo como:
+
[source,shell]
....
# dd if=kern.flp of=/dev/fd0
....
+ 
En FreeBSD [.filename]#/dev/fd0# es la primera unidad de disquetes (la unidad [.filename]#A:#). [.filename]#/dev/fd1# sería la unidad [.filename]#B:# y así sucesivamente. Otras versiones de UNIX(R) pueden asignar nombres diferentes a las unidades de disquetes; consulte la documentación de su sistema.
=====

Ya podemos instalar instalar FreeBSD.

[[install-start]]
== Inicio de la instalación

[IMPORTANT]
====
La instalación no efectúa ningún cambio en su disco o discos duros hasta la aparición del siguiente mensaje:

----
Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!
----

Es decir:

----
Última oportunidad: ?Seguro que quiere seguir adelante con la instalación?

¡Si está ejecutando este programa en un disco que contenga datos
que quiera conservar LE RECOMENDAMOS ENCARECIDAMENTE QUE HAGA
COPIAS DE SEGURIDAD FIABLES antes de proseguir!

¡No podemos responsabilizarnos de datos perdidos!
----

El proceso de instalación puede abandonarse en cualquier momento antes de la advertencia final sin efectuar cambios en el contenido del disco duro. Si advierte que ha configurado algo de forma incorrecta basta con que apague su sistema y no estropeará nada.
====

[[install-starting]]
=== El arranque

[[install-starting-i386]]
==== El arranque en i386(TM)

[.procedure]
====
. Comience con su sistema apagado.
. Arranque el sistema. Durante el arranque deberí mostrarse la opción para entrar en la BIOS, normalmente mediante las teclas kbd:[F2], kbd:[F10], kbd:[Del], o kbd:[Alt+S]. Utilice la tecla o combinación de las mismas que se le indique en pantalla. En algunos casos el sistema puede mostrar un gráfico durante el arranque. Pulsar kbd:[Esc] suele disminuir en esos casos el tamaño del gráfico y le permitirá ver los mensajes del arranque.
. Encuentre el parámetro que controla desde qué dispositivos arranca el sistema. Normalmente se llama «Boot Order» y suele presentarse como una lista de dispositivos, como `Floppy`, `CDROM`, `First Hard Disk`, etc.
+ 
Si necesita disquetes de arranque asegúrese de que selecciona la unidad correspondiente. Si va a arrancar desde CDROM, seleccione la unidad CDROM. En caso de duda consulte el manual que venía con su computadora y/o el de su placa base.
+ 
Haga los cambios necesarios, guarde los cambios y salga. El sistema debería reiniciarse.
. Si ha elegido arrancar desde disquete, tal y como se describe en <<install-floppies>>, uno de ellos será el primer disco de arranque, probablemente el que contiene [.filename]#kern.flp#. Introduzca ese disco en su unidad de disquetes.
+ 
Si va a arrancar desde CDROM tendrá que arrancar el sistema e introducir el CDROM en cuanto tenga ocasión.
+ 
Si su sistema arranca normalmente y carga el sistema operativo que ya está instalado puede ocurrir alguna de estas cosas:
.. Los discos no se introdujeron lo suficientemente pronto en el proceso de arranque. Déjelos insertados y reinicie su sistema.
.. Los cambios que hizo en la BIOS no han funcionado. Debería repetir los pasos previos hasta que dé con la opción correcta.
.. Su BIOS en concreto no admite el arranque el arranque desde el medio que ha elegido.

. FreeBSD comenzará a arrancar. Si está arrancando desde CDROM debería ver algo parecido a esto (se ha omitido la información de número de versión):
+
[source,shell]
....
Verifying DMI Pool Data ........
Boot from ATAPI CD-ROM :
 1. FD 2.88MB  System Type-(00)
Uncompressing ... done

BTX loader 1.00 BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive B: is disk1
BIOS drive C: is disk2
BIOS drive D: is disk3
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel text=0x277391 data=0x3268c+0x332a8 |

|
Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _
....
+ 
Si arranca desde floppy verá algo parecido a esto (se ha omitido la información de número de versión):
+
[source,shell]
....
Verifying DMI Pool Data ........

BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel text=0x277391 data=0x3268c+0x332a8 |

Please insert MFS root floppy and press enter:
....
+ 
Siga las instrucciones y extraiga el disco [.filename]#kern.flp# disc, inserte el disco [.filename]#mfsroot.flp# y pulse kbd:[Intro].
. Tanto si arranca desde disquete como CDROM el proceso de arranque llegará a este punto:
+
[source,shell]
....
Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _
....
+ 
Dicho y hecho: espere diez segundos o pulse kbd:[Enter]. Esto lanzará el menú de configuración del kernel.
====

==== Arranque en Alpha

[.procedure]
====
. Comience con su sistema apagado.
. Encienda su computadora y espera un mensaje de arranque en el monitor.
. Si va a arrancar desde disquetes, tal y como se describe en la <<install-floppies>>, uno de ellos será el primer disco de arranque, probablemente el que contiene [.filename]#kern.flp#. Ponga este disco en la unidad de disquetes y escriba el siguiente comando para lanzar el arranque desde el disco (corrija el nombre de su unidad de disquetes si fuera necesario):
+
[source,shell]
....
>>>BOOT DVA0 -FLAGS '' -FILE ''
....
+ 
Si va a arrancar desde CDROM introduzca el CDROM en la unidad y escriba el siguiente comando para iniciar la instalación (corrija el nombre de la unidad correcta de CDROM si fuera necesario):
+
[source,shell]
....
>>>BOOT DKA0 -FLAGS '' -FILE ''
....

. FreeBSD comenzará a arrancar. Si está arrancando desde disquete llegado un cierto punto verá usted este mensaje:
+
[source,shell]
....
Please insert MFS root floppy and press enter:
....
+ 
Siga las instrucciones del programa de instalación y retire el disco [.filename]#kern.flp#, inserte el disco [.filename]#mfsroot.flp# y pulse kbd:[Intro].
. Tanto si arrancó desde disquete como desde CDROM el proceso de arranque llegará a este punto:
+
[source,shell]
....
Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _
....
+ 
Dicho y hecho: Espere diez segundos o pulse kbd:[Enter]. Esto iniciará el menú de configuración del kernel.
====

==== Arranque en sparc64

La mayoría de sistemas sparc64 están configurados para arrancar automáticamente desde disco. Si quiere instalar FreeBSD tendrá que arrancar por red o desde un CDROM, lo que requiere que acceda a la PROM (OpenFirmware).

Reinicie el sistema y espere hasta que aparezca el mensaje de arranque. Depende del modelo, pero debería parecerse a este:

[source,shell]
....
Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.
....

Si en este punto su sistema arranca desde el disco pulse kbd:[L1+A] o kbd:[Stop+A], o envíe un `BREAK` desde la consola serie serial console (usando, por ejemplo, `~#` en man:tip[1] o man:cu[1]) para así recuperar el prompt de PROM. Tiene este aspecto:

[source,shell]
....
ok     <.>
ok {0} <.>
....

<.> Este es el prompt que verá en sistemas con una sola CPU.

<.> Este prompt se usa en sistemas SMP; el dígito indica el número de la CPU activa.

Ponga el CDROM dentro de la unidad y teclée `boot cdrom` en el prompt de la PROM.

[[view-probe]]
=== Revisión de los resultados de la prueba de dispositivos

Es posible revisar los últimos cientos de líneas que se han mostrado en pantalla, pues se almacenan en un búfer con ese propósito.

Pulse kbd:[Bloq Despl] (kbd:[Scroll Lock]) y ya puede revisar el búfer. Para moverse use las flechas o kbd:[RePág] y kbd:[AvPág] (kbd:[PageUp] y kbd:[PageDown] respectivamente). Pulse de nuevo kbd:[Bloq Despl] (kbd:[Scroll Lock]) cuando quiera salir del búfer.

Pruébelo, revise el texto que ha generado el kernel al probar los dispositivos del sistema. Verá un texto muy similar al de la <<install-dev-probe>>, aunque en su caso concreto se mostrarán los dispositivos que tenga su sistema.

[[install-dev-probe]]
.Ejemplo de resultado de prueba de dispositivos
[example]
====

[source,shell]
....
avail memory = 253050880 (247120K bytes)
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image </mfsroot> 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: <math processor> on motherboard
npx0: INT 16 interface
pcib0: <Host to PCI bridge> on motherboard
pci0: <PCI bus> on pcib0
pcib1:<VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge> at device 1.0 on pci0
pci1: <PCI bus> on pcib1
pci1: <Matrox MGA G200 AGP graphics accelerator> at 0.0 irq 11
isab0: <VIA 82C586 PCI-ISA bridge> at device 7.0 on pci0
isa0: <iSA bus> on isab0
atapci0: <VIA 82C586 ATA33 controller> port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 <VIA 83C572 USB controller> port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: <VIA 83572 USB controller> on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: <unknown card> (vendor=0x1106, dev=0x3040) at 7.3
dc0: <ADMtek AN985 10/100BaseTX> port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: <MII bus> on dc0
ukphy0: <Generic IEEE 802.3u media interface> on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: <NE2000 PCI Ethernet (RealTek 8029)> port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: <Option ROM> at iomem 0xc0000-0xc7fff on isa0
fdc0: <NEC 72065B or clone> at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: <1440-KB 3.5” drive> on fdc0 drive 0
atkbdc0: <Keyboard controller (i8042)> at port 0x60,0x64 on isa0
atkbd0: <AT Keyboard> flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: <PS/2 Mouse> irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: <Generic ISA VGA> at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: <System console> at flags 0x100 on isa0
sc0: VGA <16 virtual consoles, flags=0x300>
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: <Parallel port> at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: <PLIP network interface> on ppbus0
ad0: 8063MB <IBM-DHEA-38451> [16383/16/63] at ata0-master UDMA33
acd0: CD-RW <LITE-ON LTR-1210B> at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0
....

====

Compruebe cuidadosamente que FreeBSD haya encontrado todos los dispositivos que debe encontrar. Si no se lista algún dispositivo significa que FreeBSD no lo ha encontrado. Un crossref:kernelconfig[kernelconfig,kernel personalizado] le permitirá agregar al sistema el soporte de dispositivos que no aparecen en el kernel [.filename]#GENERIC#, que suele ser el caso de algunas tarjetas de sonido.

En FreeBSD 6.2 y versiones siguientes verá tras la prueba de dispositivos verá lo que muestra la <<config-country>>. Utilice las flechas del teclado para elegir país, región o grupo. Cuando acabe pulse kbd:[Intro], con lo que habrá elegido país y esquema de teclado. En cualquier momento puede salir de easily. It is also easy to exit the sysinstall y volver a empezar.

[[config-country]]
.Menú de selección de país
image::config-country.png[]

[[sysinstall-exit]]
.Salir de Sysinstall
image::sysinstall-exit.png[]

Para salir de sysinstall utilice las flechas del teclado para seleccionar [.guimenuitem]#Exit Install# en el menú de la pantalla principal de instalación. Aparecerá el siguiente mensaje:

[source,shell]
....
                      User Confirmation Requested
         Are you sure you wish to exit? The system will reboot
           (be sure to remove any floppies/CDs/DVDs from the drives).

                            [ Yes ]    No
....

Si pulsa btn:[yes] y no retira el CDROM durante el reinicio el programa de instalación comenzará de nuevo.

Si está arrancando desde disquetes tendrá que retirar el floppy [.filename]#boot.flp# antes de reiniciar.

[[using-sysinstall]]
== ¿Qué es sysinstall?

sysinstall es la aplicación que el Proyecto FreeBSD creó para la instalación del sistema. Está orientada a consola y consta de diversos menús y pantallas que podrá usar para configurar y ejecutar el proceso de instalación.

El sistema de menús de sysinstall se controla mediante las flechas del teclado, kbd:[Intro],el kbd:[tabulador]), kbd:[Espacio] y otras teclas. Tiene una descripción detallada de todas esas teclas y qué es lo que hacen en la información de uso de sysinstall.

Si quiere consultarla seleccione [.guimenuitem]#Usage# y asegúrese de que el botón btn:[Select] esté seleccionado (como se ven en la <<sysinstall-main3>>) y pulse kbd:[Intro].

Aparecerán las instrucciones de uso del sistema de menús. Una vez revisadas pulse kbd:[Enter] y volverá al menú principal.

[[sysinstall-main3]]
.Selección de «Usage» en el menú principal de sysinstall
image::main1.png[]

[[select-doc]]
=== Selección del menú de documentación

Una vez en el menú principal seleccione [.guimenuitem]#Doc# con las flechas del teclado y pulse kbd:[Enter].

[[main-doc]]
.Selección del menú de documentación
image::main-doc.png[]

Esto mostrará el menú de documentación.

[[docmenu1]]
.El menú de documentación de sysinstall
image::docmenu1.png[]

Es muy importante qeu lea la documentación de sysinstall.

Si quiere consultar un documento seleccionelo con las flechas y pulse kbd:[Intro]. Cuando acabe pulse de nuevo kbd:[Intro] y volverá al menú de documentación.

Si desea regresar al menú principal de la instalación seleccione [.guimenuitem]#Exit# con las flechas y pulse kbd:[Intro].

[[keymap]]
=== Selección del menú de esquemas de teclado

Si quiere cambiar el esquema de teclado seleccione el que [.guimenuitem]#Keymap# y pulse kbd:[Enter]. Tendrá que hacer esto si su teclado no es el estándar en los EEUU.

[[sysinstall-keymap]]
.Menú principal de sysinstall
image::main-keymap.png[]

La selección de un esquema de teclado se hace del siguiente modo: seleccione uno de la lista mediante las flechas arriba/abajo y pulse kbd:[Espacio]. Si pulsa kbd:[Espacio] otra vez anulará la selección. Una vez que tenga clara su elección use las flechas para seleccionar btn:[OK] y pulse kbd:[Intro].

En esta pantalla solamente se muestra una parte de la lista. Seleccione btn:[Cancel] usando el kbd:[tabulador] si ha decido seguir usando el esquema de teclado por omisión y regresar al menú principal de instalación.

[[sysinstall-keymap-menu]]
.Menú de esquemas de teclado de sysinstall
image::keymap.png[]

[[viewsetoptions]]
=== Pantalla de opciones de instalación

Seleccione [.guimenuitem]#Options# y pulse kbd:[Intro].

[[sysinstall-options]]
.Menú principal de sysinstall
image::main-options.png[]

[[options]]
.Opciones de sysinstall
image::options.png[]

Los valores por omisión deberían bastar para la mayoría de usuarios. El número de «release» variará según sea la versión que se está instalando.

La descripción del elemento seleccionado aparecerá resaltada en azul en la parte baja de la pantalla. Observe que una de las opciones es [.guimenuitem]#Use Defaults#, que devuelve todos los valores a los asignados por omisión al principio del proceso de instalación.

Si pulsa kbd:[F1] podrá leer la pantalla de ayuda de las diversas opciones.

Si pulsa kbd:[Q] volverá al menú principal de la instalación.

[[start-install]]
=== Comenzar una instalación estándar

La instalación estándar ([.guimenuitem]#Standard#) es la opción más adecuada para aquellas personas con poca o ninguna experiencia con UNIX(R) o FreeBSD. Utilice las flechas para seleccionar [.guimenuitem]#Standard# y pulse kbd:[Intro]; a partir de ahí comenzará la instalación.

[[sysinstall-standard]]
.Comenzar una instalación estándar
image::main-std.png[]

[[install-steps]]
== Asignación de espacio en disco

Lo primero que tiene que hacer es asignar espacio en disco a FreeBSD para que sysinstall lo pueda dejar listo para su uso. Para ello debe saber cómo espera FreeBSD encontrar la información en el disco.

[[install-drive-bios-numbering]]
=== Numeración de unidades desde el punto de vista de la BIOS

Antes de instalar y configurar FreeBSD en su sistema hay una cosa más de la que ocuparse, especialmente si tiene más de un disco duro.

La BIOS es capz de abstraer el orden normal de los discos si hablamos de un PC en el que se está ejecutando un sistema operativo "BIOS-dependiente" como MS-DOS(R) o Microsoft(R) Windows(R), que admiten esos cambios sin problemas. Tal cosa permite al usuario arrancar desde un disco duro distinto del llamado «maestro principal». Esto viene muy bien a los usuarios que tienen el «backup» del sistema más barato que existe, comprar un disco duro idéntico al primero y copiar periódicamente la primera unidad en la segunda mediante Ghost o XCOPY. De este modo si la primera unidad falla, sufre el ataque de un virus o sufre las consecuencias de un fallo del sistema operativo sólo hay que decirle a la BIOS que interpole lógicamente las unidades. Es como intercambiar las conexiones de los discos sin tener que abrir la caja del sistema.

en sistemas más caros a veces pueden encontrarse controladoras SCSI que incorporan extensiones BIOS, que permiten organizar hasta siete unidades SCSI de un modo muy similar.

Cualquiera que esté acostumbrado a usar las técnicas descritas se llevará una sorpresa al intentar usarlas en FreeBSD. FreeBSD no usa la BIOS y no tiene en cuenta en absoluto la «notación de unidades lógicas desde el punto de vista de la BIOS». Esto puede dar lugar a situaciones bastante chocantes, especialmente cuando las unidades son físicamente idénticas en geometría y han sido creadas como clones de datos la una de la otra.

Si va a usar FreeBSD recuerde siempre devolver a la BIOS a los valores de numeración «natural» antes de la instalación y dejarlos así. Si tiene que intercambiar unidades hágalo, pero a la vieja usanza: abra la caja, toque los «jumpers» y los cables todo lo que sea menester.

****
Pedro decide dedicar una vieja máquina «Wintel» para prepararle un sistema FreeBSD a Pablo. Pedro le instala una sola unidad SCSI como «unidad SCSI 0» e instala FreeBSD en ella.

Pablo comienza a usar el sistema pero a los pocos dias advierte que esa vieja unidad SCSI está mostrando numerosos errores lógicos, así que informa del hecho a Pedro.

Dias después Pedro decide solucionar el problema; consigue un disco idéntico al que instaló a Pablo. Le pasa un chequeo de superficie que da resultados satisfactorios, así que instala este disco como «unidad SCSI 4» y hace una copia binaria de la unidad 0 (el primer disco) a la recién instalada unidad 4. Una vez que el nuevo disco está instalado Pedro decide que hay que empezar a usarlo, así que configura la BIOS SCSI para reorganizar las unidades de disco para que el sistema arranque desde la unidad SCSI 4. FreeBSD arranca desde dicha unidad y todo funciona perfectamente.

Pablo sigue trabajando varios dias y no pasa mucho tiempo antes de que Pedro y Pablo decidan que ya es hora de meterse en una nueva aventura: actualizarse a la nueva versín de FreeBSD. Bill retira la unidad SCSI 0 de la máquina porque le parece poco de fiar y la reemplaza por un disco que obtiene de su en apariencia inagotable trastero. Pedro instala la última versión de FreeBSD en la nueva unidad SCSI mediante los disquetes FTP mágicos que Pablo ha bajado de Internet. La instalación se ejecuta sin problemas.

Pablo utiliza la nueva versión de FreeBSD durante unos dias y comprueba que en efecto es lo bastante buena como para usarla en el departamento de ingeniería. Ha llegado, por tanto, el momento de copiar los datos que tiene en la versión anterior de FreeBSD a su nuevo alojamiento. Pablo monta la unidad SCSI 4 (la última que instaló con la versión anterior de FreeBSD). Pablo queda consternado al comprobar que en la unidad SCSI 4 no hay ni rastro de sus preciados datos.

¿Dónde están los datos?

Cuando Pedro hizo la copia binaria de la unidad SCSI 0 en la unidad SCSI 4, la unidad se convirtió en el «el nuevo clon». Cuando Pedro reconfiguró la BIOS SCSI para poder arrancar desde la unidad SCSI 4 tan sólo estaba engañándose a sí mismo puesto que FreeBSD seguía arrancando desde la unidad SCSI 0. Al hacer tal cambio en la BIOS causamos que parte del código de arranque y del cargador del sistema se copie de una a otra unidad pero en cuanto los controladores del kernel de FreeBSD toman el control de la situación el esquema de nomenclatura de unidades de la BIOS es desestimado y FreeBSD recupera el esquema normal de nomenclatura. En nuestro ejemplo el sistema sigue funcionando desde la unidad SCSI 0 y ahí están todos los datos de Pablo, no en la unidad SCSI 4. El hecho de que pareciera que el sistema estaba funcionando en la unidad SCSI 4 era un producto de la imaginación humana.

Estamos encantados de decir que ni un solo byte fue herido o maltratado durante el descubrimiento de este fenómeno. La vieja unidad SCSI 0 fué recuperada del montón de discos caídos en acto de servicio y fue posible devolver todo el trabajo de Pablo a su legítimo dueño. Por si fuera poco, ahora Pedro sabe con certeza que es capaz de contar hasta cero.

En el ejemplo se han usado unidades SCSI pero los conceptos pueden aplicarse perfectamente a unidades IDE.
****

[[main-fdisk]]
=== Creación de «slices» con FDisk

[NOTE]
====
Aún no ha hecho modificaciones en su disco duro. Si cree que ha cometido algún error y quiere comenzar de nuevo puede hacerlo, salga de los menús de sysinstall e inténtelo de nuevo o pulse kbd:[U] para ejecutar la opción [.guimenuitem]#Undo# (deshacer). Si se pierde o no sabe cómo salir siempre puede apagar su sistema.
====

Si ha elegido iniciar una instalación estándar sysinstall le mostrará el siguiente mensaje:

[source,shell]
....
                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]
....

Es decir:

[source,shell]
....
                                 Mensaje
 En el siguiente menú tendrá que configurar un esquema de particionado
 estilo DOS ("fdisk") en su disco duro.  Si quiere dedicar todo el
 espacio de disco a FreeBSD (cosa que sobreescribirá cualquier cosa
 que contuviera el/los disco/s) use el comando (A)ll (Todo) para
 seleccionar el esquema de particiones por defecto y luego pulse
 (Q)uit (Salir).  Si quiere asignar a FreeBSD sólamente el espacio
 libre en la unidad elija una partición que figure marcada como
 "unused" (sin usar) y ejecute el comando (C)reate (Crear).
                                [  OK  ]

                      [ Pulse Intro o Espacio ]
....

Pulse kbd:[Intro] tal y como se le dice. Se le mostrará una lista con todas las unidades de disco duro que el kernel ha econtrado al hacer el chequeo del sistema. La <<sysinstall-fdisk-drive1>> muestra un ejemplo de un sistema con dos discos IDE. Reciben los nombres de [.filename]#ad0# y [.filename]#ad2#.

[[sysinstall-fdisk-drive1]]
.Elija en qué unidad usar FDisk
image::fdisk-drive1.png[]

Quizás esté preguntandose por qué [.filename]#ad1# no aparece por ningún lado. ?Acaso hemos pasado algo por alto?

Veamos qué ocurriría si tuviera usted dos discos duros IDE, uno como maestro de la primera controladora IDE y el otro como maestro en la segunda controladora IDE. Si FreeBSD asignara números de unidad en el orden en el que las encuentra en el ejemplo habríamos visto [.filename]#ad0# y [.filename]#ad1# y todo funcionaría sin mayor problema.

Pero si tuviera usted que añadir un tercer disco, digamos como esclavo de la primera controladora IDE, tendría que llamarse [.filename]#ad1# y el disco que antes era [.filename]#ad1# pasaría a llamarse [.filename]#ad2#. Los nombres de dispositivo (como por ejemplo [.filename]#ad1s1a#) se usan para ubicar sistemas de ficheros, así que podría encontrarse con que alguno de sus sistemas de ficheros no está donde debiera y tendría que modificar la configuración de su FreeBSD.

Para evitar este problema el kernel puede configurarse para asignar nombres a discos IDE basándose en dónde están en lugar de hacerlo por el orden en el que los encuentra. Según dicho esquema el disco maestro de la segunda contoladora IDE _siempre_ será [.filename]#ad2#, incluso si no existen dispositivos [.filename]#ad0# o [.filename]#ad1#.

Ésta es la configuración por omisión que incorpora el kernel de FreeBSD, por lo que muestra las unidades [.filename]#ad0# y [.filename]#ad2#. La máquina en la que se tomaron las capturas de pantalla tiene sendos discos IDE en ambos canales maestros de las dos controladoras y carece de discos en los canales esclavos.

Seleccione el disco en el que desea instalar FreeBSD y pulse btn:[OK]. FDisk arrancará y le mostrará una pantalla similar a la que muestra la <<sysinstall-fdisk1>>.

La pantalla de FDisk se divide en tres partes.

La primera parte, que ocupa las dos primeras líneas de la pantalla, muestra los detalles del disco que seleccionemos, el nombre que FreeBSD le da, la geometría del disco y el tamaño total del disco.

La segunda parte muestra las «slices» que haya en el disco, dónde comienzan y acaban, cuál es su tamaño, qué nombre les da FreeBSD, su descripción y subtipo. Este ejemplo muestra dos pequeñas «slices» sin usar; las «slices» (del inglés «rebanadas») son un tipo de esquema estructural de los discos de PC. También muestra una gran «slice» FAT, que casi con total seguridad aparecerá como [.filename]#C:# en MS-DOS(R) / Windows(R), y una «slice» extendida, que podría contener otras letras de unidad de MS-DOS(R) / Windows(R).

La tercera parte muestra las órdenes que pueden usarse en FDisk.

[[sysinstall-fdisk1]]
.Un ejemplo de particionamiento típico con FDisk
image::fdisk-edit1.png[]

Lo que deba hacer a partir de ahora dependerá mucho de la forma en la que quiera distribuir su disco.

Si desea usar FreeBSD en el resto del disco (lo que implica borrar todos los datos que pudiera haber en el disco una vez que le confirme a sysinstall que desea seguir adelante con la instalación) pulse kbd:[A], que equivale a la opción [.guimenuitem]#Use Entire Disk# (Utilizar el disco íntegro). Las «slices» que existieran se borrarán y serán reemplazadas por un pequeño área de disco marcado como `sin usar` (otro recurso de la estructura de disco de los PC) y tras él una gran «slice» destinada a FreeBSD. Ahora marque la partición FreeBSD que acaba de crear como arrancable: pulse kbd:[S]. La pantalla que verá ha de ser muy similar a la <<sysinstall-fdisk2>>. Observe la `A` en la columna `Flags`: indica que la «slice» es _activa_ y se arrancará desde ella.

Si desea borrar una «slice» para hacer más sitio a FreeBSD selecciónela mediante las flechas y pulse kbd:[D]. Después pulse kbd:[C] y verá un mensaje en el que se le pedirá el tamaño de la «slice» que va a crear. Introduzca los datos apropiados y pulse kbd:[Intro]. El valor por defecto en ésta pantalla es el de la «slice» más grande que pueda crear en el disco, que debería ser la mayor parte del disco que queda sin usar o el tamaño del disco duro completo.

Si ha hecho sitio para FreeBSD (quizás con una herramienta como PartitionMagic(R)) puede pulsar press kbd:[C] y crear una nueva «slice». Verá de nuevo un mensaje en el que se le pedirá que escriba el tamaño de la «slice» que va a crear.

[[sysinstall-fdisk2]]
.Partición con FDisk usando el disco completo
image::fdisk-edit2.png[]

Cuando acabe pulse kbd:[Q]. Sus cambios se guardarán en sysinstall, pero de momento no se guardarán en disco.

[[bootmgr]]
=== Instalación de un gestor de arranque

Ha llegado el momento de instalar un gestor de arranque. Elija el gestor de arranque de FreeBSD si:

* Tiene más de un disco y ha instalado FreeBSD en cualquiera que no sea el primero.
* Ha instalado FreeBSD codo con codo con otro sistema operativo y quiere poder elegir si arrancar FreeBSD o ese otro sistema operativo cuando arranque su sistema.

Si FreeBSD va a ser el único sistema operativo en el sistema y va a instalarlo en el primer disco duro elija el gestor estándar (que, obviamente, está en la opción [.guimenuitem]#Standard#). Elija [.guimenuitem]#None# (ninguno) si va a usar algún otro gestor de arranque que sea capaz de arrancar FreeBSD.

Elija y pulse kbd:[Intro].

[[sysinstall-bootmgr]]
.Menú de gestores de arranque de sysinstall
image::boot-mgr.png[]

La pantalla de ayuda, que puede consultar en cualquier momento pulsando kbd:[F1], puede serle de mucha ayuda con los problemas que puede encontrarse al intentar compartir un disco duro entre varios sistemas operativos.

=== Creación de «slices» en otra unidad.

Si hay más de una unidad de disco el programa de instalación volverá a la pantalla «Select Drives» («selección de unidades») una vez elegido el gestor de arranque. Si quiere instalar FreeBSD en más de un disco seleccione aquí ese otro disco y repita el proceso con las «slices» mediante FDisk.

[IMPORTANT]
====
Si va a instalar FreeBSD en una unidad que no sea la primera tendrá que instalar el gestor de arranque de FreeBSD en ambas unidades.
====

[[sysinstall-fdisk-drive2]]
.Salir de la selección de unidad
image::fdisk-drive2.png[]

El kbd:[tabulador] se usa para hacer pasar el cursor entre btn:[OK], btn:[Cancel].

Pulse kbd:[tabulador] para pasar el cursor a btn:[OK] y pulse kbd:[Enter] para proseguir con la instalación.

[[bsdlabeleditor]]
=== Creación de particiones con Disklabel

Tendrá que crear particiones dentro de las «slices» que haya creado. Recuerde que cada partición está asociada a una letra entre la `a` y la ``h``y que las particiones `b`, `c` y `d` tienen significados heredados que tendrá que respetar.

Ciertas aplicaciones pueden optimizar su rendimiento de un esquema de particiones concreto, sobre todo si hace particiones repartidas en más de un disco. Si embargo si esta es su primera instalación de FreeBSD no necesita dedicarle demasiado tiempo a decidir cómo partir el disco duro. Es mucho más importante que instale FreeBSD y empiece a aprender a usarlo. Siempre estáa tiempo de reinstalar FreeBSD y cambiar su esquema de particiones cuando esté más familiarizado con el sistema operativo.

El siguiente esquema consta de cuatro particiones: una para la swap y tres para los sistemas de ficheros.

.Estructura de particiones del primer disco
[cols="10%,10%,10%,70%", frame="none", options="header"]
|===
| Partición
| Sistema de ficheros
| Tamaño
| Descripción

|`a`
|[.filename]#/#
|512 MB
|Este es el sistema de ficheros raíz. el resto de sistemas de ficheros se montarán en algún punto de este sistema raíz. 100 MB es un tamaño razonable para él. No es el mejor sitio para almacenar muchos datos y la instalación de FreeBSD escribirá cerca de 40 MB de datos en ella. El resto del espacio es para datos temporales y por si futuras versiones de FreeBSD necesitan más espacio en [.filename]#/#.

|`b`
|N/A
|2-3 x RAM
|

Esta partición es el espacio de memoria de intercambio (o «swap») del sistema. La elección de la cantidad correcta de swap es casi un arte en sí mismo. Hay una regla básica que es asignar a la swap el doble o el triple de MB de los que haya en la memoria física (RAM) del sistema. Debería tener al menos 64 MB de swap así que si tiene menos de 32 MB de RAM asígnele a su swap 64 MB.

 Si tiene más de un disco puede poner espacio swap en cada disco. FreeBSD usará ambas swap con el resultado de acelerar notablemente el intercambio de páginas de memoria. Calcule el total de swap que necesita (por ejemplo 128 MB) y divida esa cantidad por el número de discos que tenga (por ejemplo dos) y ya tiene la cantidad de espacio que debe destinar a swap en cada uno de sus discos. En nuestro ejemplo 64 MB de swap por disco.

|`e`
|[.filename]#/var#
|256 MB to 1024 MB
|El directorio [.filename]#/var# contiene ficheros que están en continuo cambio, como «logs» y otros ficheros administrativos. Muchos de esos ficheros son una consecuencia o son de gran ayuda para el correcto funcionamiento diario de FreeBSD. FreeBSD ubica dichos ficheros en ese sistema de ficheros para optimizar el acceso a los mismos sin afectar a otros ficheros ni directorios que tienen similar patrón de accesos.

|`f`
|[.filename]#/usr#
|Resto del disco(al menos 2 GB)
|El resto de sus ficheros pueden almacenarse en [.filename]#/usr# y sus subdirectorios.
|===

[WARNING]
====

Los valores que se han mostrado son simples ejemplos y se recomienda su uso exclusivamente a usuarios experimentados. Recomendamos a los usuarios que utilicen la opción `Auto Defaults`, que elegirá unas proporciones adecuadas para el espacio que encuentre disponible.
====

Si va a instalar FreeBSD en más de un disco puede crear particiones el las demás «slices» que haya creado. La forma más fácil de hacerlo es creando dos particiones en cada disco, una para la swap y la otra para los sistemas de ficheros.

.Esquema de particiones para varios discos
[cols="10%,10%,10%,70%", frame="none", options="header"]
|===
| Partición
| Sistema de ficheros
| Tamaño
| Descripción

|`b`
|N/A
|Ver descripción
|Tal y como se ha explicado puede repartir su espacio swap entre varios discos. Aunque piense que la partición `a` está libre la costumbre (y se dice que «las costumbres son leyes» dicta que el espacio swap reside en la partición `b`.

|`e`
|/disco__n__
|Resto del disco
|El resto del disco puede dejarse en una sola partición. Esto podría ubicarse simplemente en la partición `a` en lugar de en la `e`. Sin embargo la costumbre dice que la partición `a` de una «slice» está reservada para el sistema de ficheros que ha de albergar el sistema de ficheros raíz ([.filename]#/#). No tiene por qué seguir la costumbre pero tenga en cuenta que sysinstall sí que lo hace, así que si la sigue sabe que está haciendo una instalación más limpia. Puede montar los sistemas de ficheros donde prefiera; este ejemplo le sugiere que los monte como directorios [.filename]#/discon#, donde _n_ es un número que cambia en cada disco. Por supuesto que puede usar el esquema que prefiera.
|===

Una vez que haya elegido el esquema de particiones creelo en sysinstall. Verá este mensaje:

[source,shell]
....
                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (200MB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]
....

Es decir:

[source,shell]
....
                                 Message
 Debe crear particiones BSD dentro de las 'particiones
 fdisk' que acaba de crear.  Si tiene una cantidad de espacio en
 disco razonablemente grande (200MB o más) y no tiene necesidades
 especiales puede simplemente usar el comando (A)uto para asignar
 el espacio automáticamente. Si tiene necesidades más concretas o
 simplemente no le gusta la estructura que le da (A)uto pulse
 F1 y obtendrá más información sobre la creación manual de
 la estructura.

                                [  OK  ]
                          [ Pulse Intro o Espacio ]
....

Al pulsar kbd:[Intro] arrancará el editor de particiones de FreeBSD, Disklabel.

La <<sysinstall-label>> muestra lo que verá cuando arranque Disklabel. La pantalla se divide en tres secciones.

Las primeras líneas muestran el nombre del disco en el que estamos haciendo cambios y el de la «slice» que contiene las particiones que estamos creando (Disklabel las muestra bajo `Partition name` («nombre de partición») en lugar de hacerlo como «slices»). Vemos también ahí la cantidad de espacio libre en la «slice», esto es, el espacio que hay asignado a la «slice» pero que aún no ha sido asignado a ninguna partición.

En la mitad de la pantalla se muestran las particiones que se han creado, el nombre de los sistemas de ficheros que contiene cada partición, sus tamaños y algunas opciones relacionadas con la creación de sistemas de ficheros.

La tercera parte de la pantalla, la de más abajo, muestra los atajos de teclado que pueden usarse en Disklabel.

[[sysinstall-label]]
.El editor Disklabel
image::disklabel-ed1.png[]

Disklabel puede crear automáticamente particiones y asignarles tamaños por omisión. Estos tamaños se calculan con la ayuda de un algoritmo interno de dimensionamiento de particiones que analiza el tamaño del disco. Puede probarlo pulsando kbd:[A]. Verá una pantalla similar a la que aparece en la <<sysinstall-label2>>. Dependiendo del tamaño del disco que esté usando los valores por omisión pueden o no ser los apropiados. Esto no es algo de lo que deba preocuparse dado que no está obligado a aceptar esos valores por omisión.

[NOTE]
====
En el esquema de particiones por omisión el directorio [.filename]#/tmp# tiene su propia partición en lugar de formar parte de [.filename]#/#. Esto ayuda a evitar el desbordamiento de [.filename]#/# con ficheros temporales.
====

[[sysinstall-label2]]
.Editor Disklabel con valores por omisión
image::disklabel-auto.png[]

Si decide no usar los valores por defecto para las particiones y quiere reemplazar tales valores por los suyos use las flechas: elija la primera partición y pulse kbd:[D] para borrarla. Repita el proceso para borrar todas las particiones que desee.

Vamos a crear la primera partición (`a`, montada como [.filename]#/# o raíz). Seleccione la «slice» adecuada y pulse kbd:[C]. Aparecerá un diálogo pidiéndole que escriba el tamaño de la nueva partición (como se muestra en la in <<sysinstall-label-add>>). Puede introducir el tamaño expresado en bloques de disco o como un número seguido de una `M` para expresarlo en megabytes, una `G` para usar gygabytes o una `C` si quiere expresarlo en cilindros.

[[sysinstall-label-add]]
.Liberar espacio para la partición raíz
image::disklabel-root1.png[]

El tamaño por omisión que se muestra creará una partición que ocupe el resto de la «slice». Si va a usar los tamaños de partición que se daban en el ejemplo anterior borre el texto existente pulsando kbd:[Retroceso]; escriba `64M`, como se puede ver en la <<sysinstall-label-add2>>. Después pulse btn:[OK].

[[sysinstall-label-add2]]
.Edición del tamaño de la partición raíz
image::disklabel-root2.png[]

Una vez elegido el tamaño de la partición tendrá que elegir si esta partición ha de contener un sistema de ficheros o espacio swap y escribir lo que corresponda en una pantalla como la que se muestra en la <<sysinstall-label-type>>. Esta primera partición contendrá un sistema de ficheros, así que seleccionamos [.guimenuitem]#FS# y pulsamos kbd:[Intro].

[[sysinstall-label-type]]
.Elegir el tipo de partición raíz
image::disklabel-fs.png[]

Para acabar, dado que está creando un sistema de ficheros, tendrá que decirle a Disklabel dónde hay que montarlo. La pantalla se muestra en la <<sysinstall-label-mount>>. El punto de montaje del sistema de ficheros raíz es [.filename]#/#, así que tendrá que teclear `/` y luego pulsar kbd:[Intro].

[[sysinstall-label-mount]]
.Elegir el punto de montaje del sistema de ficheros raíz
image::disklabel-root3.png[]

La pantalla le mostrará ahora la partición que acaba de crear. Repita el procedimiento todas las veces que necesite con las demás particiones. Cuando cree la partición swap no se le pedirá el punto de montaje puesto que las particiones swap nunca se montan como tales. Cuando cree la última partición [.filename]#/usr#, puede dejar el tamaño que se le sugiere, esto es, usar el resto del espacio en la «slice».

La última pantalla del editor Disklabel será muy parecida a la <<sysinstall-label4>>, aunque los valores pueden ser diferentes. Pulse kbd:[Q] para salir del editor.

[[sysinstall-label4]]
.Editor Disklabel
image::disklabel-ed2.png[]

[[install-choosing]]
== Elección de qué instalar

[[distset]]
=== Elección del tipo de instalación

La elección de qué tipo de instalación debe hacer depende enormemente del uso que se va a dar al sistema y del espacio de disco disponible. El rango de opciones predefinidas está entre hacer la instalación más pequeña posible o instalarlo todo. Las personas con poco o ninguna experiencia en UNIX(R) o FreeBSD deberán elegir alguna de las opciones predefinidas que se les ofrecen, a las que llamaremos distribuciones (de «distribution set») tal y como aparecen en el menú de sysinstall. Una instalación ·a medida es algo más adecuado para para usuarios con más experiencia.

Si pulsa kbd:[F1] podrá acceder a más información sobre las opciones de tipo de instalación y qué contiene cada distribución. Cuando acabe de consultar la ayuda pulse kbd:[Intro] y volverá al al menú de selección de instalación de distribuciones.

Si tiene intención de instalar un interfaz gráfico de usuario tendrá que instalar una de las distribuciones cuyo nombre comienza por `X`. La configuración del servidor X y la selección de un entorno de escritorio son algunas de las tareas que tendrá una vez instalado FreeBSD. Tiene más información sobre la configuración de un servidor X en crossref:x11[x11,El sistema X Window].

La versión de X11 por omisión en FreeBSD es Xorg.

Si preve compilar un kernel a medida selecciones la opción que incluye el código fuente. Para más información sobre las razones por las que debe compilarse un kernel a medida y sobre cómo compilarlo consulte el crossref:kernelconfig[kernelconfig,Configuración del kernel de FreeBSD].

Evidentemente el sistema más versátil es aquél que lo tiene todo. Si dispone de espacio de disco suficiente seleccione [.guimenuitem]#All#, como se muestra en la <<distribution-set1>>, usando las flechas y pulsando kbd:[Intro]. Si el espacio en disco es limitado piense en usar alguna de las otras opciones. No pierda con ello demasiado tiempo puesto que el resto de distribuciones pueden añadirse en cualquier momento tras la intalación.

[[distribution-set1]]
.Elección de distribuciones
image::dist-set.png[]

[[portscol]]
=== Instalación de la colección de ports

Tras seleccionar la distribución elegida se le presentará la opción de instalar el árbol de ports, o Colección de Ports, de FreeBSD. Los ports son una forma fácil y cómoda de instalar software. El árbol de ports no contiene el código fuente necesario para compilar software; es una gran colección de ficheros que automatiza la descarga, la compilación y la instalación de paquetes de software de todo tipo. El crossref:ports[ports,Instalación de aplicaciones: «packages» y ports] explica con detalle cómo utilizar los ports.

El programa de instalación no comprueba si tiene espacio suficiente. Seleccione esta opción si dispone de sitio en el disco. En FreeBSD {rel120-current} los ports ocupan cerca de {ports-size} en disco. Puede asumir tranquilamente que en las nuevas versiones del sistema irán ocupando más y más.

[source,shell]
....
                         User Confirmation Requested
 Would you like to install the FreeBSD ports collection?

 This will give you ready access to over 24,000 ported software packages,
 at a cost of around 500 MB of disk space when "clean" and possibly much
 more than that if a lot of the distribution tarballs are loaded
 (unless you have the extra CDs from a FreeBSD CD/DVD distribution
 available and can mount it on /cdrom, in which case this is far less
 of a problem).

 The Ports Collection is a very valuable resource and well worth having
 on your /usr partition, so it is advisable to say Yes to this option.

 For more information on the Ports Collection & the latest ports,
 visit:
     http://www.FreeBSD.org/ports

                              [ Yes ]     No
....

Es decir:

[source,shell]
....
 Petición de confirmación del usuario
 ?Quiere instalar la colección de ports de FreeBSD?

 Tendrá acceso inmediato a más de 24,000 paquetes de software listos
 para usarse en FreeBSD, aunque necesitará cerca de 500 MB de
 espacio en disco como mínimo y posiblemente mucho más
 si descarga los 'tarballs' de código fuente (aunque si tiene los CD
 extra de una versión de FreeBSD en CD/DVD puede montarlos en /cdrom, de forma
 que esto dejaría de ser un problema).

 La colección de ports es un recurso extremadamente valioso y es muy
 recomendable que la instale en su partición /usr, así que debería
 responder Sí a la siguiente pregunta.

 Si quiere estar al tanto de las últimas novedades y las últimas
 entradas en la colección de ports visite:
     http://www.FreeBSD.org/ports

                              [ Yes ]     No
....

Seleccione btn:[yes] con las flechas e instale los ports o btn:[no] para obviar la pregunta. Pulse kbd:[Intro] para seguir con la instalación. Volvemos al menú de elección de distribuciones.

[[distribution-set2]]
.Confirmar la elección de distribuciones
image::dist-set2.png[]

Si ya ha elegido todo lo que necesita seleccione [.guimenuitem]#Exit# con las flechas, asegúrese de que btn:[OK] está seleccionado también y pulse kbd:[Intro].

[[install-media]]
== Elección del medio de instalación

Si va a instalar FreeBSD desde CDROM o DVD seleccione [.guimenuitem]#Install from a FreeBSD CD/DVD# con las flechas. Una vez btn:[OK] está seleccionado pulse kbd:[Intro] y siga adelante con la instalación.

Si quiere usar otro método de instalación seleccione la opción correspondiente y siga las instrucciones.

Pulse kbd:[F1] si necesita acceder a la ayuda del medio de instalación elegido. Pulse kbd:[Intro] para regresar al menú de selección de medios.

[[choose-media]]
.Choose Installation Media
image::media.png[]

[NOTE]
.Tipos de instalación desde FTP
====
Hay tres tipos de instalación por FTP entre las que puede elegir: FTP activo, FTP pasivo o a través de un proxy HTTP.

FTP Activo: [.guimenuitem]#Install from an FTP server#, es decir: «Instalar desde un servidor FTP»::
Esta opción hará que todas las transferencias FTP usen el modo «Activo». No funcionará a través de cortafuegos pero seguramente funcionará con viejos servidores FTP que no soportan el modo pasivo. Si su conexión se cuelga cuando usa el modo pasivo (el modo por omisión) pruebe el modo activo.

FTP Pasivo: [.guimenuitem]#Install from an FTP server through a firewall#, es decir «Instalar desde un servidor FTP tras un cortafuegos».::
Esta opción configura sysinstall para que use el modo «Pasivo» para todas las operaciones FTP. Esto permite al usuario pasar a través de cortafuegos que no permiten conexiones entrantes a puertos TCP aleatorios.

FTP via un proxy HTTP: [.guimenuitem]#Install from an FTP server through a http proxy#, es decir «Instalar desde un un servidor FTP via un proxy HTTP».::
Esta opción configura sysinstall para que use el protocolo HTTP (como si fuera un navegador web) para conectarse a un proxy en todas las operaciones FTP. El proxy traducirá las peticiones del usuario de forma que pasarán a través de un cortafuegos que no permita ningún tipo de conexiones FTP pero ofrezca un proxy HTTP. Tendrá que configurar los datos del proxy además de los del servidor FTP.

Si quiere usar un servidor proxy FTP tendrá que usar el nombre del servidor con el que realmente quiere conectar como nombre de usuario seguido de un signo «@». Veamos un ejemplo. Quiere usted instalar desde `ftp.FreeBSD.org` a través del servidor proxy FTP `talycual.ejemplo.com`, que escucha en el puerto 1024.

Vaya al menú opciones, ponga `ftp@ftp.FreeBSD.org` como nombre de usuario FTP, y su dirección de correo electrónico como contraseña. El medio de instalación será FTP (o FTP pasivo si el proxy lo permite) y la URL `ftp://talycual.ejemplo.com:1234/pub/FreeBSD`.

Dado accede al directorio [.filename]#/pub/FreeBSD# de `ftp.FreeBSD.org` a través del proxy `talycual.ejemplo.com` puede usted instalar desde _ésta_ máquina, que irá descargando los ficheros que necesite desde `ftp.FreeBSD.org` a medida que el proceso de instalación los vaya requiriendo.
====

[[install-final-warning]]
== El punto sin retorno

A partir de aquí entramos en la instalación propiamente dicha. Esta es la última oportunidad antes de empezar a escribir datos en el disco duro.

[source,shell]
....
                       User Confirmation Requested
 Last Chance! Are you SURE you want to continue the installation?

 If you're running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

 We can take no responsibility for lost disk contents!

                             [ Yes ]    No
....

Es decir:

[source,shell]
....
   Petición de confirmación del usuario
 ¡Última oportunidad!.  ?SEGURO que quiere seguir con la instalación?

 Si está ejecutando este proceso en un disco que contenga datos que
 quiera coservar LE RECOMENDAMOS ENCARECIDAMENTE QUE HAGA COPIAS DE
 SEGURIDAD FIABLES antes de instalar.

 No podemos asumir nigún tipo de responsabilidad por datos que pierda.

                             [ Yes ]    No
....

Seleccione btn:[yes] y pulse kbd:[Intro].

La instalación tardará más o menos tiempo según la distribución que haya elegido, el medio de instalación y la velocidad del sistema. Se le irán mostrando mensajes durante el proceso para irle informando de cómo van las cosas.

Cuando acabe la instalación verá un mensaje como este:

[source,shell]
....
                               Message

Congratulations! You now have FreeBSD installed on your system.

We will now move on to the final configuration questions.
For any option you do not wish to configure, simply select No.

If you wish to re-enter this utility after the system is up, you may
do so by typing: sysinstall .

                                 [ OK ]

                      [  Press enter to continue  ]
....

Es decir:

[source,shell]
....
                               Mensaje

         ¡Enhorabuena! Ha instalado FreeBSD en su sistema.

Ahora terminaremos la configuración del sistema.  Si hay alguna
opción que no quiere configurar bastará con que elija No.

Si en algún momento quiere regresar a este programa escriba
sysinstall .

                                 [ OK ]

                      [  Pulse Intro  ]
....

Pulse kbd:[Intro]; pasaremos a acometer ciertas tareas posteriores a la instalación.

Si selecciona btn:[no] y pulsa kbd:[Intro] la instalación se detendrá para evitar hacer más modificaciones en su sistema. Verá el el siguiente mensaje.

[source,shell]
....
                                Message
Installation complete with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature.
You can also choose "No" at the next prompt and go back into the
installation menus to retry whichever operations have failed.

                                 [ OK ]
....

Es decir:

[source,shell]
....
                                Mensaje
La instalación ha finalizado con errores.  Puede moverse por la
pantalla de mensajes de depuración de VTY1 tras pulsar la tecla
de Bloqueo de Pantalla.  También puede elegir "No" en el próximo
menú y volver a los menús de instalación y repetir cualquier
operación que haya fallado.

                                 [ OK ]
....

Este mensaje se ha generado porque no se ha instalado nada. Pulse kbd:[Intro] para volver al menún principal y salir de la instalación.

[[install-post]]
== Después de la instalación

Para poder terminar una instalación de FreeBSD que merezca tal nombre debemos responder todavía a unas cuantas preguntas. Para ello debemos entrar en la configuración antes de entrar en el nuevo sistema FreeBSD o una vez en dentro del sistema desde `sysinstall`, seleccionando [.guimenuitem]#Configure#.

[[inst-network-dev]]
=== Network Device Configuration

Si ha tenido que configurar PPP para poder instalar desde FTP esta pantalla no aparecerá. Puede modificar la configuración tal y como se ha explicado más arriba.

Si necesita información sobre redes de área local y la configuración de FreeBSD necesaria para que haga de «gateway/router» consulte el crossref:advanced-networking[advanced-networking,Advanced Networking] chapter.

[source,shell]
....
                      User Confirmation Requested
   Would you like to configure any Ethernet or SLIP/PPP network devices?

                             [ Yes ]   No
....

Si quiere configurar dispositivos de red seleccione btn:[yes] y pulse kbd:[Intro]. Si no quiere seleccione btn:[no].

[[ed-config1]]
.Selección de un dispositivo Ethernet
image::ed0-conf.png[]

Seleccione con las flechas el interfaz de red que desea configurar y pulse kbd:[Enter].

[source,shell]
....
                      User Confirmation Requested
       Do you want to try IPv6 configuration of the interface?

                              Yes   [ No ]
....

En la red local del ejemplo el tipo de protocolo de Internet que había (IPv4) parecía más que suficiente, así que se eligió btn:[no].

Si puede conectar con alguna red IPv6 mediante un servidor RA elija btn:[yes] y pulse kbd:[Intro]. La búsqueda de servidores RA se hará en unos instantes.

[source,shell]
....
                             User Confirmation Requested
        Do you want to try DHCP configuration of the interface?

                              Yes   [ No ]
....

Si no necesita DHCP seleccione btn:[no] con las flechas y pulse kbd:[Intro].

Si selecciona btn:[yes] ejecutará dhclient y, si ha funcionado, completará los datos de configuración automáticamente. Para más información consulte la crossref:advanced-networking[network-dhcp,DHCP].

La siguiente ilustración muestra la configuración de un dispositivo Ethernet en un sistema que cumplirá las funciones de «gateway» en una red local.

[[ed-config2]]
.Configuración de ed0
image::ed0-conf2.png[]

Use el kbd:[tabulador] para ir pasando de un campo al siguiente una vez que los vaya rellenando:

Host::
El nombre de la máquina; por ejemplo, `k6-2.ejemplo.com`.

Dominio::
El nombre del dominio al que pertenece la máquina, en este caso `ejemplo.com`.

«Gateway»IPv4::
La dirección IP del sistema que reenvia paquetes a destinos fuera de la red local. Debe rellenar este campo si esta función la realiza una máquina que forme parte de la red. _Déjelo en blanco_ si el sistema es el enlace de su red con Internet. El «gateway» recibe también los nombres de puerta de enlace o ruta por omisión.

Servidor de nombres::
Dirección IP de su servidor local de DNS. En la red del ejemplo no hay servidor DNS local así que se ha introducido la dirección IP del servidor DNS del proveedor de Internet: `208.163.10.2`.

Dirección IPv4::
En este interfaz se usará la dirección IP `192.168.0.1`

Máscara de red::
En esta red local se usa un bloque de redes de Clase C `192.168.0.0` - `192.168.0.255`. La máscara de red es, por tanto, `255.255.255.0`.

Opciones adicionales de ifconfig::
Cualquiera de las opciones que quiera agregar a su interfaz mediante `ifconfig`. En nuestro caso no había ninguna.

Utilice el kbd:[tabulador] para seleccionar btn:[OK] cuando haya acabado y pulsekbd:[Intro].

[source,shell]
....
                      User Confirmation Requested
        Would you like to Bring Up the ed0 interface right now?

                             [ Yes ]   No
....

Seleccione btn:[yes] y pulse kbd:[Enter] si quiere conectar inmediatamente su sistema a la red mediante el o los interfaces que acaba de configurar, pero recuerde que aún tendrá que reiniciar la máquina.

[[gateway]]
=== Configuración del «gateway»

[source,shell]
....
                       User Confirmation Requested
       Do you want this machine to function as a network gateway?

                              [ Yes ]    No
....

Si el sistema hará de enlace de la red local y reenviará paquetes entre otras máquinas elija btn:[yes] y pulse kbd:[Intro]. Si la máquina es un nodo de una red elija btn:[no] y pulse kbd:[Intro].

[[inetd-services]]
=== Configuración de servicios de internet

[source,shell]
....
                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

                               Yes   [ No ]
....

Si selecciona btn:[no] varios servicios de la máquina, como telnetd y otros, no se activarán. Eso significa que los usuarios remotos no podrán acceder al sistema mediante telnet. Los usuarios locales, en cambio, podrán acceder a sistemas remotos mediante telnet.

Dichos servicios pueden activarse en cualquier momento editando [.filename]#/etc/inetd.conf# con el editor de texto que prefiera. Para más información consulte la crossref:advanced-networking[network-inetd-overview,Resumen].

Seleccione btn:[yes] si desea configurar estos servicios durante la instalación. Se le mostrará el siguiente mensaje:

[source,shell]
....
                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No
....

Select btn:[yes] to continue.

[source,shell]
....
                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be separately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

                             [ Yes ]   No
....

Es decir:

[source,shell]
....
      Petición de confirmación del usuario
El Super Servidor de Internet (inetd) le permite activar diversos
servicios sencillos de Internet, como finger, ftp y telnetd.  Si
activa tales servicios puede sobreexponer su sistema al exterior, lo
que puede incrementar el riesgo de tener problemas de seguridad.

Dicho esto ?desea activar inetd?

                             [ Yes ]   No
....

Si selecciona btn:[yes] podrá añadir servicios borrando caracteres `#` al comienzo de las líneas correspondientes.

[[inetd-edit]]
.Edición de [.filename]#inetd.conf#
image::edit-inetd-conf.png[]

Una vez que haya añadido los servicios que quiera en el sistema pulse kbd:[Esc] y verá un menú en el que se le preguntará si quiere guardar los cambios.

[[ssh-login]]
=== Activar el acceso al sistema mediante SSH

[source,shell]
....
                      User Confirmation Requested
                  Would you like to enable SSH login?
                           Yes        [  No  ]
....

Si selecciona btn:[yes] activará man:sshd[8], el dæmon de OpenSSH. De este modo será posible el acceso remoto y seguro al sistema. Para más información sobre OpenSSH visite crossref:security[openssh,Security].

[[ftpanon]]
=== FTP anónimo

[source,shell]
....
                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine?

                              Yes    [ No ]
....

[[deny-anon]]
==== Rechazar el acceso al sistema mediante FTP anónimo

si acepta la respuesta por omisión (btn:[no]) y pulsa kbd:[Intro] tenga en cuenta que los usuarios que tengan cuenta en la máquina podrán seguir accediendo al sistema.

[[ftpallow]]
==== Aceptar el acceso al sistema mediante FTP anónimo

Si decide aceptar conexiones FTP anónimas cualquiera podrá conectarse al sistema. Antes de activar esta opción debería meditar sobre las implicaciones de seguridad de esa decisión. Para más información sobre la seguridad y FreeBSD consulte el crossref:security[security,Seguridad].

Si ha decidido activar el FTP anónimo seleccione con las flechas btn:[yes] y pulse kbd:[Intro]. Verá la siguiente pantalla (o una muy similar):

[source,shell]
....
This screen allows you to configure the anonymous FTP user.

The following configuration values are editable:

UID:     The user ID you wish to assign to the anonymous FTP user.
         All files uploaded will be owned by this ID.

Group:   Which group you wish the anonymous FTP user to be in.

Comment: String describing this user in /etc/passwd

FTP Root Directory:

        Where files available for anonymous FTP will be kept.

Upload subdirectory:

        Where files uploaded by anonymous FTP users will go.
....

Es decir:

[source,shell]
....
En esta pantalla puede configurar el usuario de FTP
        anónimo.

Puede editar los siguientes valores de la configuración:

UID:     El ID del usuario que quiere asignar al usuario anónimo de
         de FTP.  Todos los ficheros que se suban le  pertenecerán.

Group:   El grupo al que pertenecerá el usuario FTP anónimo.

Comment: La descripción del usuario en /etc/passwd

FTP Root Directory:

        Dónde se guardarán contenidos para los usuarios anónimos.

Upload subdirectory:

        Dónde se guardarán los ficheros que suban los usuarios
	de FTP anónimo.
....

Por omisión el directorio raíz del ftp será [.filename]#/var#. Si no hay sitio suficiente para lo que prevea que va a necesitar puede usar [.filename]#/usr#; puede poner el Directorio Raíz de FTP en [.filename]#/usr/ftp#.

Cuando haya terminado con la configuración pulse kbd:[Intro].

[source,shell]
....
                          User Confirmation Requested
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No
....

Si selecciona btn:[yes] y pulsa kbd:[Intro] arrancará automáticamente un editor y podrá crear un mensaje que verá los usuarios de FTP anónimo al conectarse a la máquina.

[[anon-ftp4]]
.Edición del mensaje de bienvenida de FTP
image::ftp-anon2.png[]

Vemos en acción un editor de texto llamado `ee`. Puede modificar el mensaje ahora mismo o hacerlo en cualquier otro momento con el editor de texto que prefiera. Observe el fichero y su ubicación en la parte baja de la pantalla.

Pulse kbd:[Esc], aparecerá una ventana flotante con la opción por omisión de to [.guimenuitem]#a) leave editor# (salir del editor). Pulse kbd:[Intro] si quiere salir y seguir con lo que estaba haciendo. Pulse kbd:[Intro] de nuevo para guardar los cambios que hubiera hecho.

[[nfsconf]]
=== Configuración de NFS

NFS («Network File System» (de Network File System, o Sistema de Ficheros en Red) le permitirá compartir ficheros a través de una red. Una máquina puede configurarse como servidor, como cliente o ambos. Para má información consulte la crossref:advanced-networking[network-nfs,NFS].

[[nsf-server-options]]
==== Servidor NFS

[source,shell]
....
                       User Confirmation Requested
 Do you want to configure this machine as an NFS server?

                              Yes    [ No ]
....

Si no tiene necesidad de usar un servidor NFS seleccione btn:[no] y pulse kbd:[Intro].

Si ha elegido btn:[yes] verá un mensaje emergente indicando que hay que crear el fichero [.filename]#exports#.

[source,shell]
....
                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]
....

Es decir:

[source,shell]
....
                               Mensaje
Hacer funcionar un servidor NFS implica que tendrá que configurar
un fichero /etc/exports para indicar qué hosts estarán autorizados a
acceder de qué manera a sus sistemas de ficheros locales.
Pulse [Intro] para abrir /etc/exports en un editor
                               [ OK ]
....

Pulse kbd:[Intro] para seguir adelante. Se abrirá un editor de texto gracias al cual se podrá editar y crear el fichero [.filename]#exports#.

[[nfs-server-edit]]
.Edición de [.filename]#exports#
image::nfs-server-edit.png[]

Puede editar el fichero ahora mismo o más tarde con el editor de texto que prefiera. Observe que el nombre del fichero y su ubicación aparecen en la parte de abajo de de la pantalla.

Pulse kbd:[Escape]; aparecerá un mensaje emergente que por omisión le ofrecerá [.guimenuitem]#a) leave editor# (es decir, salir del editor). Pulse kbd:[Intro] para salir del editor y seguir adelante.

[[nfs-client-options]]
==== Cliente NFS

El cliente NFS permite que su máquina pueda acceder a servidores NFS.

[source,shell]
....
                       User Confirmation Requested
 Do you want to configure this machine as an NFS client?

                              Yes   [ No ]
....

Utilice las flechas para elegir si quiere o no disponer de cliente NFS (respectivamente con btn:[yes] y btn:[no] y pulse kbd:[Intro].

[[console]]
=== Configuración de la consola del sistema

La consola del sistema tiene diversas opciones que puede usted adaptar a sus gustos o necesidades.

[source,shell]
....
                      User Confirmation Requested
       Would you like to customize your system console settings?

                              [ Yes ]  No
....

Si quiere ver y modificar las opciones seleccione btn:[yes] y pulse kbd:[Intro].

[[saver-options]]
.Opciones de configuración de la consola del sistema
image::console-saver1.png[]

Una opción que suele elegirse es el uso del salvapantallas. Elija [.guimenuitem]#Saver# y luego pulse kbd:[Intro].

[[saver-select]]
.Opciones del salvapantallas
image::console-saver2.png[]

Desplácese arriba y abajo con las flechas por la lista de salvapantallas y elija el que prefiera pulsando kbd:[Intro] sobre él. Se le mostrará de nuevo el menú de configuración de la consola.

El intervalo por defecto es de 300 segundos. Si quiere cambiarlo seleccione [.guimenuitem]#Saver# otra vez. Busque [.guimenuitem]#Timeout# en el menú de opciones del salvapantallas y pulse kbd:[Intro]. Aparecerá un mensaje en pantalla:

[[saver-timeout]]
.Retardo del salvapantallas
image::console-saver3.png[]

Asigne el retardo del salvapantallas a su gusto, seleccione btn:[OK] y pulse kbd:[Intro] para volver al menú de configuración de la consola del sistema.

[[saver-exit]]
.Salida del menú de configuración de la consola del sistema
image::console-saver4.png[]

Seleccione [.guimenuitem]#Exit# y pulse kbd:[Intro] para seguir adelante con la configuración necesaria tras la instalación.

[[timezone]]
=== Configuración de la zona horaria

Si su sistema tiene correctamente configurada la zona horaria podrá corregir cualquier automáticamente cualquier cambio horario regional, así como cumplir adecuadamente con otras funciones relacionadas con zonas horarias.

El ejemplo que se muestra en las capturas de pantalla es de una máquina ubicada en la zona horaria del Este de los EEUU.

[source,shell]
....
                      User Confirmation Requested
          Would you like to set this machine's time zone now?

                            [ Yes ]   No
....

Seleccione btn:[yes] y pulse kbd:[Intro]. Vamos a configurar la zona horaria del sistema.

Seleccione btn:[yes] y pulse kbd:[Intro].

[source,shell]
....
                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here!

                              Yes   [ No ]
....

Seleccione btn:[yes] o btn:[no] según esté configurado el reloj del sistema y pulse kbd:[Intro].

[[set-timezone-region]]
.Elección de región
image::timezone1.png[]

Elija la zona adecuada mediante las flechas y pulse kbd:[Intro].

[[set-timezone-country]]
.Elección de país
image::timezone2.png[]

Elija el país adecuado con las flechas y pulse kbd:[Intro].

[[set-timezone-locality]]
.Elección de zona horaria
image::timezone3.png[]

Elija la zona horaria adecuada con las flechas y pulse kbd:[Intro].

[source,shell]
....
                            Confirmation
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No
....

Confirme si la abreviatura de la zona horaria es la correcta. Cuando todo esté correcto pulse kbd:[Intro] y siga adelante.

[[linuxcomp]]
=== Compatibilidad con Linux(R)

[source,shell]
....
                      User Confirmation Requested
          Would you like to enable Linux binary compatibility?

                            [ Yes ]   No
....

Si selecciona btn:[yes] y pulsa kbd:[Intro] podrá ejecutar software Linux(R) en FreeBSD. La instalación añadirá los paquetes necesarios para poder tener compatibilidad binaria con Linux(R).

Si realiza la instalación por FTP la máquina necesitará conectarse a Internet. A veces los servidores ftp no tienen todas las distribuciones, de forma que si no puede instalar la distribución de compatibilidad con Linux(R) no se preocupe, puede probar con otro servidor o instalarla más tarde.

[[mouse]]
=== Configuración del ratón

Esta opción le permitirá cortar y pegar texto en consola y en otros programas mediante un ratón de tres botones. Consulte man:moused[8] si usa uno de 2 botones, es posible emular ese tercer botón. En el siguiente ejemplo veremos la configuración de un ratón «no USB» (es decir, PS/2 o de puerto COM):

[source,shell]
....
                      User Confirmation Requested
         Does this system have a PS/2, serial, or bus mouse?

                            [ Yes ]    No 
....

Seleccione btn:[yes] si tiene un ratón que no sea USB o por el contrario seleccione btn:[no] si tiene un ratón USB. Después pulse kbd:[Intro].

[[mouse-protocol]]
.Elija el protocolo que usa el ratón
image::mouse1.png[]

Seleccione [.guimenuitem]#Type# usando las flechas y pulse kbd:[Intro].

[[set-mouse-protocol]]
.Ajuste del protocolo del ratón
image::mouse2.png[]

En el ejemplo se ha usado un ratón PS/2, así que [.guimenuitem]#Auto# era correcto. Para cambiar el protocolo use las flechas para moverse por el menú y elegir otra opción. Para salir seleccione btn:[OK] y pulse kbd:[Intro].

[[config-mouse-port]]
.Configuración del puerto del ratón
image::mouse3.png[]

Seleccione [.guimenuitem]#Port# y pulse kbd:[Intro].

[[set-mouse-port]]
.Configuración del puerto del ratón
image::mouse4.png[]

El sistema de ejemplo tiene un ratóna [.guimenuitem]#PS/2#, de forma que la configuración por omisión basta. Si quiere modificarla utilice las flechas y después pulsekbd:[Intro].

[[test-daemon]]
.Arranque del dæmon del ratón
image::mouse5.png[]

Por último, utilice las flechas para elegir [.guimenuitem]#Enable# y pulse kbd:[Intro]; así se activa y prueba el dæmon del ratón.

[[test-mouse-daemon]]
.Prueba del dæmon del ratón
image::mouse6.png[]

Mueva el ratón un poco por la pantalla hasta asegurarse de que el cursor responde adecuadamente. Si todo es correcto seleccione btn:[yes] y pulse kbd:[Intro]. Si hay algo que no funcione correctamente seleccione btn:[no] e inténtelo con otras opciones de configuración.

Seleccione [.guimenuitem]#Exit# y pulse kbd:[Intro] para volver a la configuración del sistema.

[[packages]]
=== Instalación de «packages»

Los «packages» son binarios precompilados; son una forma muy cómoda de instalar software.

Veamos la instalación de un «package» Este es un buen momento para instalar «packages» si así lo desea. De todos modos una vez concluida la instalación puede entrar cuando quiera a `sysinstall` e instalar lo que necesite.

[source,shell]
....
                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now?

                            [ Yes ]   No
....

Elija btn:[yes] y pulse kbd:[Intro]: verá la pantalla de selección de paquetes:

[[package-category]]
.Categorías de «packages»
image::pkg-cat.png[]

Los «packages» presentes en el medio de instalación que esté accesible en cada momento son los únicos que se pueden instalar.

Todos los «packages» disponibles en el medio se mostrarán al seleccionar la categoría [.guimenuitem]#All#. Elija una categoría y pulse kbd:[Intro].

Al seleccionar una categoría aparecerá un menú con los paquetes disponibles existentes en la misma:

[[package-select]]
.Selección de «packages»
image::pkg-sel.png[]

Hemos elegido la shell bash. Seleccione tantos «packages» como quiera instalar y pulse kbd:[Espacio]. Se mostrará una breve descripción de cada «package» en la esquina inferior izquierda de la pantalla.

Pulsando el kbd:[Tabulador] desplazará el cursor entre el último «package» que haya seleccionado, btn:[OK] y btn:[Cancel].

Cuando haya seleccionado todos los «packages» que quiera instalar pulse kbd:[Tabulador] una sola vez para que el cursor pase a btn:[OK] y pulse kbd:[Intro], lo que le llevará al menú de selección de «packages».

Las flechas «izquierda» y «derecha» pueden usarse para mover el cursor entre btn:[OK] y btn:[Cancel]. Use esto para seleccionar btn:[OK] y pulsar kbd:[Intro] para volver al menú de selección de «packages».

[[package-install]]
.Instalación de «packages»
image::pkg-install.png[]

Utilice el kbd:[tabulador] y las flechas para seleccionar btn:[Install] y pulse kbd:[Intro]. Se le pedirá que confirme que quiere instalar «packages»:

[[package-install-confirm]]
.Confirmación previa a la instalación de «packages»
image::pkg-confirm.png[]

Si selecciona btn:[OK] y pulsa kbd:[Intro] comenzará la instalación de «packages». Irán apareciendo mensajes relacionados con los diversos procesos de instalación hasta que se cumplan todos. Esté atento por si aparecieran mensajes de error.

Tras la instalación de «packages» nos quedan unos toques finales a la configuración. Si no ha elegido ningún «package» y quiere regresar al menú de configuración seleccione btn:[Install] de todos modos.

[[addusers]]
=== Añadir usuarios y grupos

Deberí al menos añadir un usuario al sistema para poder usarlo para acceder al sistema una vez reiniciado sin tener que recurrir a `root`. La partición raíz suele ser pequeña y ejecutar aplicaciones como `root` tiene a llenarla rápidamente. Pero hay un peligro mucho mayor:

[source,shell]
....
                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system).

                            [ Yes ]   No
....

Es decir:

[source,shell]
....
     Petición de confirmación del usuario
 ?Quiere añadir algún usuario al sistema? Le sugerimos que añada al menos
 uno para usted puesto que trabajar como "root" es peligroso (es fácil
 hacer algo con consecuencias en todo el sistema).

                            [ Yes ]   No
....

Seleccione btn:[yes] y pulse kbd:[Intro] para añadir un usuario.

[[add-user2]]
.Selección de «Añadir un usuario»
image::adduser1.png[]

Seleccione [.guimenuitem]#User# con las flechas y y pulsekbd:[Intro].

[[add-user3]]
.Añadir la información del usuario
image::adduser2.png[]

A medida que vaya seleccionando los campos ayudándose del kbd:[Tabulador] se le irán mostrando las siguientes descripciones en la parte baja de la pantalla:

Login ID::
El nombre del usuario (obligatorio).

UID::
El ID numérico del usuario Déjelo en blanco si quiere el que sistema lo asigne automáticamente.

Group::
El grupo al que pertenecerá el usuario. Déjelo en blanco si quiere que el sistema lo asigne automáticamente.

Password::
La contraseña del usuario. _Rellene este campo con mucho cuidado_.

Full name::
El nombre completo del usuario (o un comentario descriptivo.

Member groups::
Los grupos a los que este usuario pertenece, es decir, de los que hereda sus derechos de acceso.

Home directory::
El directorio «home» del usuario; déjelo en blanco si quiere que el sistema lo asigne automáticamente.

Login shell::
La shell con la que el usuario accederá al sistema. Déjela en blanco si le sirve [.filename]#/bin/sh#, la shell por omisión.

En nuestro ejemplo no se eligió [.filename]#/bin/sh# sino [.filename]#/usr/local/bin/bash#, para lo cual hubo que instalar previamente la shell bash como «package». No intente usar una shell que no existe o no podrá acceder al sistema con ese usuario. La shell más habitual en el mundo BSD es [.filename]#/bin/tcsh#, la «C shell».

El usuario se añadió también al grupo `wheel` para que pueda convertirse en superusuario con privilegios de `root`.

Cuando haya terminado pulse btn:[OK] y volverá al menú de gestión de grupos y usuarios.

[[add-user4]]
.Salir de la gestión de usuarios y grupos
image::adduser3.png[]

Los grupos también pueden añadirse en este momento si fuera necesario. También puede hacerse desde [.filename]#sysinstall# una vez culminada la instalación.

Cuando haya acabado de añadir usuarios seleccione [.guimenuitem]#Exit# con las flechas y pulse kbd:[Intro] y siga con la instalación.

[[rootpass]]
=== Asignar contraseña a `root` Password

[source,shell]
....
                        Message
 Now you must set the system manager's password.
 This is the password you'll use to log in as "root".

                         [ OK ]

               [ Press enter or space ]
....

Es decir:

[source,shell]
....
                        Mensaje
 Debe asignar la contraseña del administrador del sistema.
 Esta es la contraseña que usará cuando acceda al sistema como
 "root".

                         [ OK ]

                    [ Pulse Intro ]
....

Pulse kbd:[Intro] y asígnele una contraseña a `root`.

Tendrá que escribir la contraseña correctamente dos veces. No hay necesidad de decirle que es importante que recuerde esa contraseña.

[source,shell]
....
New password:
Retype new password :
....

La instalación proseguirá una vez que introduzca la contraseña correctamente dos veces.

[[exit-inst]]
=== Salir de la instalación

Si tiene que configurar <<network-services,servicios de red>> o cualquier otra cosa, puede hacerlo ahora mismo o tras terminar la instalación ejecutando `sysinstall`.

[source,shell]
....
                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options?

                              Yes   [ No ]
....

Seleccione btn:[no] con las flechas y pulse kbd:[Intro] para volver al menú principal de la instalación.

[[final-main]]
.Salir de la instalación
image::mainexit.png[]

Seleccione btn:[X Exit Install] con las flechas y pulse kbd:[Intro]. Se le pedirá que confirme que quiere salir de la instalación:

[source,shell]
....
                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot (be sure to
 remove any floppies/CDs/DVDs from the drives).

                            [ Yes ]   No
....

Es decir:

[source,shell]
....
            Petición del Confirmación al usuario
 ?Seguro que quiere salir?  El sistema reiniciará (compruebe que
 ha retirado los disquetes de la unidad).

                            [ Yes ]   No
....

Seleccione btn:[yes] y extraiga el disquete si ha arrancado desde floppy. La unidad CDROM está bloqueada hasta que la máquina comience a reiniciarse. La unidad CDROM se desbloquea y (actuando con agilidad felina) puede extraerse el CDROM.

El sistema reiniciará. Esté atento por si aparece algún mensaje de error.

Si apareciera algún error durante el arranque consulte la <<freebsdboot>>.

[[network-services]]
=== Configuración de servicios de red

La configuración de servicios de red puede ser una tarea peliaguda para usuarios inexpertos si no tienen demasiados conocimientos en la materia. Todo lo relacionado con las redes (y ahí entra Internet) tiene una importancia crítica en cualquier sistema operativo moderno y FreeBSD no es una excepción. Es por esta razón que le será muy útil saber un poco sobre la conectividad en general de FreeBSD desde el momento mismo de la instalación y los servicios de que puede disponer.

Los servicios de red son programas que aceptan entradas de datos desde cualquier punto de la red. Se pone mucho empeño en evitar que estos programas puedan ser «dañinos» pero por desgracia los programadores no son perfectos y de tanto en cuanto aparecen errores en los servicios de red que algunos logran aprovechar para hacer maldades. Es crucial que solamente active los servicios que sabe que va a necesitar. Si tiene dudas con alguno lo mejor es que no lo active hasta que no sea evidente que lo necesita. Puede activarlo cuando sea necesario ejecutando later by re-running sysinstall o utilizando el fichero [.filename]#/etc/rc.conf# file.

Si selecciona la opción menu:Networking[] verá un menú muy parecido a este:

[[network-configuration]]
.Primer nivel de servicios de red
image::net-config-menu1.png[]

La primera opción, [.guimenuitem]#Interfaces#, la hemos visto en la <<inst-network-dev>>, así que podemos ignorarla.

Si selecciona la opción [.guimenuitem]#AMD# añadirá al sistema la aplicación montaje automático de dispositivos de BSD. Suele usarse junto con el protocolo NFS protocol (ver más adelante) para automatizar el montaje de sistemas de ficheros remotos. No es necesario que configure nada.

La siguiente opción es [.guimenuitem]#AMD Flags#. Si la selecciona verá un menú emergente que le requerirá parámetros específicos de AMD. El menú dispone ya de un conjunto de opciones por omisión:

[source,shell]
....
-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map
....

La opción `-a` fija el punto de montaje por omisión, en este caso [.filename]#/.amd_mnt#. La opción `-l` indica el [.filename]#log# por omisió, aunque si usa `syslogd` todos los datos de log se enviarán al dæmon de logs del sistema. El directorio [.filename]#/host# se usa para montar sistemas de ficheros exportados desde una máquina remota, mientras que el directorio [.filename]#/net# se usa para montar sistemas de ficheros exportados desde una dirección IP. El fichero [.filename]#/etc/amd.map# define las opciones de exportación que AMD exporta por omisión.

La opción [.guimenuitem]#Anon FTP# permite conexiones FTP anónimas. Seleccione esta opción si quiere utilizar la máquina como servidor servidor FTP anónimo. Tenga muy en cuenta los riesgos de seguridad que conlleva esta opción. Se le ofrecerá otro menú en el que se explican en profundidad los riesgos de seguridad y la configuración.

El menú de configuración [.guimenuitem]#Gateway# preparará la máquina para que cumpla las funciones de pasarela, tal y como se ha explicado previamente. Puede utilizarlo también para desactivar la opción [.guimenuitem]#Gateway# si la seleccionón sin querer durante la instalación.

La opción [.guimenuitem]#Inetd# permite desactivar el dæmon man:inetd[8].

La opción [.guimenuitem]#Mail# se usa para configurar el MTA (de Mail Transfer Agent, agente de transferencia de correo) del sistema. Si selecciona esta opción llegará al siguiente menú:

[[mta-selection]]
.Elegir el MTA del sistema
image::mta-main.png[]

Aquí se le pide que elija qué MTA quiere instalar en su sistema. Un MTA no es otra cosa que un servidor de correo que entrega correo electrónico a los usuarios del sistema o los que acceden a través de Internet.

Si selecciona [.guimenuitem]#Sendmail# instalará el célebre sendmail, el MTA de FreeBSD por omisión. La opción [.guimenuitem]#Sendmail local# hará que sendmail sea el MTA del sistema pero desactivará la capacidad de recibir correo entrante desde Internet. Las demás opciones, [.guimenuitem]#Postfix# y [.guimenuitem]#Exim# son en el fonodo similares a [.guimenuitem]#Sendmail#. Ambas aplicaciones gestionan correo aunque hay usuarios que los elegirían como su MTA antes que sendmail.

Tras elegir un MTA (o si ha elegido no usar ninguno) el menú de configuración de red nos muestra la siguiente opción: [.guimenuitem]#NFS client#.

La opción [.guimenuitem]#NFS client# configura el sistema para comunicarse con servidores NFS. Un servidor NFS permite que, mediante el uso del protocolo NFS, otras máquinas de la red puedan acceder a sus sistemas de ficheros. Si no hay más máquinas en su red puede dejar la opción sin seleccionar. El sistema puede necesitar más configuración; consulte la crossref:advanced-networking[network-nfs,NFS] para más información sobre cómo configurar el cliente y el servidor.

La siguiente opción es [.guimenuitem]#NFS server#, que le permitirá configurar su sistema como servidor NFS. Con esta opción añadirá la información necesaria para el arranque de RPC, los servicios de llamada de procedimientos remotos. RPC se usa para coordinar conexiones entre sistemas y programas.

La siguiente opción es [.guimenuitem]#Ntpdate#, la sincronización de la hora. Al seleccionarla verá un menú como este:

[[Ntpdate-config]]
.Configuración de Ntpdate
image::ntp-config.png[]

Elija en el menú el servidor más cercano al lugar donde está la máquina. De este modo la sincronozación será más precisa, puesto que un servidor más lejano puede padecer de conexiones con más latencia.

La siguiente opción es PCNFSD. Esta opción instalará el «package» package:net/pcnfsd[] desde la colección de Ports. Es una aplicación muy útil que da servicios de autentificación NFS a sistemas que son incapaces de tenerlos por sí mismos, como por ejemplo el sistema operativo MS-DOS(R) de Microsoft.

Si usa las flechas podrá ver más opciones:

[[Network-configuration-cont]]
.Segundo nivel de configuración de red
image::net-config-menu2.png[]

Las aplicaciones man:rpcbind[8], man:rpc.statd[8] y man:rpc.lockd[8] utilities se utilizan en las llamadas de procesos remotos (RPC). `rpcbind` gestiona la comunicación entre servidores y clientes NFS; los servidores NFS lo necesitan para poder funcionar correctamente. El dæmon rpc.statd se comunica con el dæmon rpc.statd de otras máquinas para facilitar seguimiento de estado. La información de estado se deposita por omisión en [.filename]#/var/db/statd.status#. La siguiente opción que vemos es [.guimenuitem]#rpc.lockd#; si se selecciona facilita servicios de bloqueo de ficheros. Se suele usar conjuntamente con rpc.statd para monitorizar qué máquina pide bloqueos y con qué frecuencia. Si bien es cierto que estas dos útimas opciones son fantásticas para depuración, también lo es que no son necesarias para que clientes y servidores NFS funcionen correctamente.

El siguiente elemento de la lista es [.guimenuitem]#Routed#, un dæmon de encaminamiento. man:routed[8] gestiona tablas de rutas, encuentra «routers» multicast y, bajo petición, facilita una copia de la tabla de rutas a cualquier máquina conectada físicamente a la red. Suele usarse principalmente en máquinas que hacen funciones de pasarela de una red local. Si la selecciona verá un menú en el que se le requerirá que indique la ubicación de la aplicación. Por omisión ya está configurada, así que basta que la confirme pulsando kbd:[Intro] key. Se le presentará un menú más, pidiendole esta vez parámetros que quiera proporcionarle a routed. Por omisión `-q` estará ya dispuesto y debería aparecer así en pantalla.

La siguiente opción que aparece es [.guimenuitem]#Rwhod#; si la selecciona arrancará el dæmon man:rwhod[8] durante el arranque del sistema. La aplicación `rwhod` envía mensajes del sistema (en broadcast) periódicamente a través de la red, o si está en modo «consumer» los va recogiendo. Tiene más información en las páginas de manual de man:ruptime[1] y man:rwho[1].

La siguiente opción del menú está relacionada con el dæmon man:sshd[8]. Se trata del servidor de shell segura de OpenSSH y le recomendamos encarecidamente su uso en lugar de los servidores telnet y FTP. El servidor sshd se usa para crear una conexión segura de una máquina a otra mediante conexiones cifradas.

La última opción es [.guimenuitem]#TCP Extensions#, que activa las extensiones TCP definidas en las RFC 1323 y RFC 1644. En algunas máquinas puede acelerar conexiones, pero también puede haber conexiones que se pierdan. No se recomienda su uso en servidores, pero puede ser de utilidad en máquinas aisladas.

Una vez configurados los servicios de red, vaya al principio del menú ( [.guimenuitem]#X Exit#)a o vuelva a sysinstall seleccionando dos veces [.guimenuitem]#X Exit# y después btn:[X Exit Install].

[[freebsdboot]]
=== El arranque de FreeBSD

[[freebsdboot-i386]]
==== El arranque de FreeBSD/i386

Si todo ha ido bien debería ver una pantalla de mensajes pasando frente a usted hasta que llegue a lo que llamamos un «login prompt». Puede volver a ver los mensajes del arranque pulsando kbd:[Bloq Deslp] y usando kbd:[RePág] y kbd:[AvPág]. Pulsando kbd:[Bloq Despl] otra vez volverá al prompt.

El mensaje del arranque no puede mostrarse completo debido a las limitaciones del búfer, pero puede consultarse desde la shell mediante `dmesg`.

Entre al sistema utilizando un nombre de usuario y contraseña que haya creado durante la instalación (en nuestro ejemplo `rpratt`). Evite entrar al sistema como `root` salvo en los casos en los que sea estrictamente necesario.

Este es un típico mensaje de arranque (se ha eliminado la información de la versión):

[source,shell]
....
Copyright (c) 1992-2002 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf<FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX>
  AMD Features=0x80000800<SYSCALL,3DNow!>
real memory  = 268435456 (262144K bytes)
config> di sn0
config> di lnc0
config> di le0
config> di ie0
config> di fe0
config> di cs0
config> di bt0
config> di aic0
config> di aha0
config> di adv0
config> q
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000.
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c.
md0: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: <math processor> on motherboard
npx0: INT 16 interface
pcib0: <Host to PCI bridge> on motherboard
pci0: <PCI bus> on pcib0
pcib1: <VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge> at device 1.0 on pci0
pci1: <PCI bus> on pcib1
pci1: <Matrox MGA G200 AGP graphics accelerator> at 0.0 irq 11
isab0: <VIA 82C586 PCI-ISA bridge> at device 7.0 on pci0
isa0: <ISA bus> on isab0
atapci0: <VIA 82C586 ATA33 controller> port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0: <VIA 83C572 USB controller> port 0xe400-0xe41f irq 10 at device 7.2 on pci0
usb0: <VIA 83C572 USB controller> on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1
uhub0: 2 ports with 2 removable, self powered
chip1: <VIA 82C586B ACPI interface> at device 7.3 on pci0
ed0: <NE2000 PCI Ethernet (RealTek 8029)> port 0xe800-0xe81f irq 9 at
device 10.0 on pci0
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
fdc0: <NEC 72065B or clone> at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: <1440-KB 3.5" drive> on fdc0 drive 0
atkbdc0: <keyboard controller (i8042)> at port 0x60-0x64 on isa0
atkbd0: <AT Keyboard> flags 0x1 irq 1 on atkbdc0
kbd0 at atkbd0
psm0: <PS/2 Mouse> irq 12 on atkbdc0
psm0: model Generic PS/2 mouse, device ID 0
vga0: <Generic ISA VGA> at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: <System console> at flags 0x1 on isa0
sc0: VGA <16 virtual consoles, flags=0x300>
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: <Parallel port> at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0:
plip0: <PLIP network interface> on ppbus0
lpt0: <Printer> on ppbus0
lpt0: Interrupt-driven port
ppi0: <Parallel I/O> on ppbus0
ad0: 8063MB <IBM-DHEA-38451> [16383/16/63] at ata0-master using UDMA33
ad2: 8063MB <IBM-DHEA-38451> [16383/16/63] at ata1-master using UDMA33
acd0: CDROM <DELTA OTC-H101/ST3 F/W by OIPD> at ata0-slave using PIO4
Mounting root from ufs:/dev/ad0s1a
swapon: adding /dev/ad0s1b as swap device
Automatic boot in progress...
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname.
ed0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049<UP,LOOPBACK,RUNNING,MULTICAST> mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:.
additional daemons: syslogd.
Doing additional network setup:.
Starting final network daemons: creating ssh RSA host key
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:.
rc.i386 configuring syscons: blank_time screensaver moused.
Additional ABI support: linux.
Local package initialization:.
Additional TCP options:.

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt
Password:
....

La generación de claves RSA y DSA puede llevar su tiempo en máquinas lentas. Esto solamente sucede en el primer arranque después de la instalación. Los demás arranques serán más rápidos.

Si ya hay un servidor X configurado y ha elegido un escritorio por omisión puede arrancarlo tecleando `startx` en la shell.

==== El arranque de FreeBSD/alpha

Una vez acabado el proceso de instalación podrá arrancar FreeBSD tecleando algo muy parecido a esto en el prompt de SRM:

Once the install procedure has finished, you will be able to start FreeBSD by typing something like this to the SRM prompt:

[source,shell]
....
>>>BOOT DKC0
....

Esto hace que el firmware arranque desde el disco especificado. Para que FreeBSD arranque automáticamente de ahí en adelante utilice lo siguiente:

[source,shell]
....
>>> SET BOOT_OSFLAGS A
>>> SET BOOT_FILE ''
>>> SET BOOTDEF_DEV DKC0
>>> SET AUTO_ACTION BOOT
....

Los mensajes de arranque serán muy similares (aunque no iguales) a los que aparecen durante el arranque de FreeBSD en i386(TM).

[[shutdown]]
=== El apagado de FreeBSD

Es importante apagar correctamente el sistema operativo. No basta con darle al interruptor. Lo primero que debe hacer es convertirse en superusuario tecleando en la shell `su` e introduciendo la contraseña de `root`. Tenga en cuenta que esto funcionará solamente si el usuario es miembro del grupo `wheel`. Si no lo es siempre puede acceder al sistema como `root` y utilizar `shutdown -h now`.

[source,shell]
....
The operating system has halted.
Please press any key to reboot.
....

Una vez que vea el mensaje de «_Please press any key to reboot_ » puede apagar la máquina. Si pulsa cualquier tecla en lugar de apagar la máquina el sistema reiniciará.

También puede usar la combinación de teclas kbd:[Ctrl+Alt+Supr] para reiniciar el sistema, aunque no le recomendamos que lo haga durante el funcionamiento normal del sistema.

[[install-trouble]]
== Solución de problemas

Esta sección trata sobre la solución de problemas habituales durante la instalación que la comunidad de usuarios ha documentado. Hay también unas cuantas preguntas y respuestas para quienes quieren poder elegir en el arranque entre FreeBSD y MS-DOS(R).

=== Qué hacer si algo va mal

A causa de las diversas limitaciones de la arquitectura PC es imposible hacer que nada funcione con un 100% de probabilidades, pero al menos hay unas cuantas cosas que pueden hacerse si algo va mal.

Consulte la http://www.FreeBSD.org/releases/[lista de hardware soportado] de su versión de FreeBSD y asegúrese de que su hardware debería funcionar con ella.

Si su hardware está soportado y sigue experimentando «cuelgues» u otro tipo de problemas tendrá que crossref:kernelconfig[kernelconfig,compilar un kernel personalizado]. Esto le permitirá disponer de soporte que no está incluido en el kernel [.filename]#GENERIC#. El kernel que se incluye en los discos de arranque está configurado asumiendo que la mayoría de los dispositivos van a funcionar con la configuración por omisión de fábrica (en términos de IRQ, direcciones IO y canales DMA). Si su hardware ha sido reconfigurado quizás tendrá que usar el editor de configuración para decirle a FreeBSD dónde encontrar cada cosa.

Es posible también que la prueba de un dispositivo que no está en el sistema cause problemas más tarde al probar un dispositivo que sí está en la máquina. Si ese puede ser su caso desactive las pruebas de controladores conflictivos.

[NOTE]
====
Algunos problemas de instalación pueden evitarse o al menos aliviarse actualizando el firmware de ciertos tipos de hardware; esto es especialmente cierto en el caso de las placas El firmware de las placas base se llama también BIOS y la mayoría de las placas base y de los fabricantes de computadoras tienen un sitio web en el que suelen encontrarse actualizaciones e información sobre su uso.

La mayoría de los fabricantes recomienda que no se actualice la BIOS de la placa base a menos que tenga una buena razón para hacerlo, por ejemplo una actualización crítica. El proceso de actualización _podría_ fallar, lo que puede acarrrear daños en el chip de la BIOS.
====

=== Uso de sistemas de ficheros de MS-DOS(R) y Windows(R)

No puede usar sistemas de ficheros comprimidos con Double Space(TM). Deberá por lo tanto descomprimir el sistema de ficheros antes de acceder a los datos desde FreeBSD. Ejecute el Agente de compresión desde [.guimenuitem]#Inicio# > [.guimenuitem]#Programas# > [.guimenuitem]#Herramientas del sistema#.

FreeBSD puede usar sistemas de ficheros MS-DOS(R). man:mount_msdos[8] inserta estos sistemas de ficheros en la jerarquía de directorios del sistema, haciendo posible el acceso a los datos. man:mount_msdos[8] no suele usarse directamente; el sistema lo utiliza debido a alguna entrada en [.filename]#/etc/fstab# o porque man:mount[8] lo invoque debido a que se le hayan dado los parámetros adecuados para ello.

Veamos una de esas entradas en el fichero [.filename]#/etc/fstab#:

[.programlisting]
....
/dev/ad0sN  /dos  msdosfs rw  0	0
....

El directorio [.filename]#/dos# debe existir previamente o no funcionará. Tiene todos los detalles del formato correcto de las entradas en [.filename]#/etc/fstab# en man:fstab[5].

Veamos ahora un ejemplo de llamada de man:mount[8] a un sistema de ficheros MS-DOS(R):

[source,shell]
....
# mount_msdos /dev/ad0s1 /mnt
....

En el ejemplo el sistema de ficheros MS-DOS(R) está en la primera partición del primer disco duro. La situación en su sistema puede ser diferente: compruebe la salida de `dmesg` y `mount`. Deberían darle suficiente información como para darle una idea completa de la estructura de particiones en la que está trabajando.

[NOTE]
====
FreeBSD suele numerar las las «slices» (que es como decir los sistemas de ficheros MS-DOS(R)) de un modo distinto al de otros sistemas operativos. Más concretamente, las particiones extendidas de MS-DOS(R) suelen tener un número mayor de «slice» que las particiones primarias de MS-DOS(R). man:fdisk[8] le será de ayuda a la hora de determinar qué «slices» pertenecen a FreeBSD y cuáles a otros sistemas operativos.
====

Las particiones NTFS se montan de una forma muy similar gracias a man:mount_ntfs[8].

=== Preguntas y respuestas de la resolución de problemas

==== Mi sistema se «cuelga» durante el arranque, o se comporta de modo extraño durante la instalación, o no llega a comprobar el funcionamiento del lector de disquetes.

FreeBSD utiliza profusamente el servicio ACPI del sistema en las plataformas i386, amd64 e ia64 con el fin de ayudar en la configuración del sistema durante la detección de hardware durante el arranque. Por desgracia todavía hay errores tanto en el controlador ACPI como en algunas BIOS y placas base. Puede desactivar ACPI en la tercera fase del cargador de arranque del sistema haciendo que `hint.acpi.0.disabled` tenga el siguiente valor:

[source,shell]
....
 set hint.acpi.0.disabled="1"
....

Tenga en cuenta que tendría que volver a hacerlo cada vez que el sistema arranque, así que añada `hint.acpi.0.disabled="1"` al fichero [.filename]#/boot/loader.conf#. Tiene más información sobre el cargador de arranque en crossref:boot[boot-synopsis,Sinopsis].

==== Cuando voy a arrancar FreeBSD por primera vez después de la instalación el kernel carga y prueba mi hardware, pero se detiene y muestra mensajes como este:

Hay un problema que ya lleva tiempo con nosotros cuando el disco desde el que se arranca no es el primero en el sistema. La BIOS utiliza un esquema de numeración distinto al que usa FreeBSD y a veces saber qué número es el que corresponde a qué resulta un poco complicado.

Cuando el disco de arranque no sea el primer disco del sistema FreeBSD necesitará un poco de ayuda para poderlo encontrar. Puede haber dos escenarios donde suceda esto y en ambos hay que decirle a FreeBSD, dónde encontrar el sistema de ficheros raíz. Esto se hace especificando el número de disco según la BIOS, el tipo de disco y el número de disco que FreeBSD le dará a ese disco.

El primer caso es cuando hay dos discos IDE, ambos configurados como maestros de sus respectivos buses IDE y quiere usted arrancar desde el segundo disco. La BIOS dice que son el disco 0 y el disco 1, mientras que FreeBSD los ve como [.filename]#ad0# y [.filename]#ad2#.

FreeBSD está en el disco BIOS 1, de tipo `ad` y el número de disco FreeBSD es el 2, así que habrá que decir lo siguiente:

[source,shell]
....
1:ad(2,a)kernel
....

Tenga en cuenta que si tiene un disco esclavo en el bus primario esto no es necesario (de hecho es un error hacerlo).

El segundo escenario es el arranque desde un disco SCSI teniendo uno o más discos IDE en el sistema. En este caso el número de disco FreeBSD es más bajo que el número de disco BIOS. Si tiene dos discos IDE además del disco SCSI, el disco SCSI es el disco 2 de BIOS, del tipo `da` y para FreeBSD es el disco número disk number 0, so 0, así que tendrá que usar

[source,shell]
....
2:da(0,a)kernel
....

para decirle a FreeBSD que quiere arrancar desde el disco 2 de BIOS, que es el primer disco SCSI del sistema. Si solamente tiene un disco IDE tendrá que poner `1:`.

Una vez que sabe con exactitud los valores que debe usar póngalos exactamente como los ha tecleado en [.filename]#/boot.config# utilizando el editor de texto que prefiera. Salvo que se le diga lo contrario FreeBSD utilizará el contenido de este fichero decidiráel comportamiento por omisión del prompt de `boot:` prompt.

==== Cuando voy a arrancar desde disco duro por primera vez tras la instalación de FreeBSD el prompt del gestor de arranque muestra F? en el menú de arranque y no pasa de ahí.

La geometría del disco duro se configuró mal cuando se utilizó el editor de particiones durante la instalación. Ejecute el editor de particiones e introduzca la geometría del disco correctamente. Tendrá que reinstalar FreeBSD completamente dado que habrá cambiado la geometría del disco.

Si no encuentra la manera de saber cuál es la geometría correcta pruebe con esto: Cree una pequeña partición DOS al principio del disco e instale FreeBSD en el espacio de disco inmediatamente contiguo. El programa de instalación verá la partición DOS e intentará deducir la geometría correcta a partir de ahí; esto suele funcionar.

Le mostramos otra sugerencia que, aunque no es recomendable de seguir, se muestra para que sirva de referencia:

[.blockquote]
Si lo que está instalando es un servidor o máquina de escritorio dedicado a FreeBSD y no le preocupa que en el futuro cercano tenga que mantener la convivencia con DOS, Linux u otro sistema operativo siempre tiene la opción de utilizar el disco entero (la opción [.guimenuitem]#A# en el editor de particiones). Es una opción no estándar gracias a la cual FreeBSD ocupa todo el disco, desde el primer sector al último. De este modo nos olvidamos de todos los problemas relacionados con la geometría de disco, pero le obliga a no poder instalar ningún otro sistema operativo aparte de FreeBSD en ese disco.

==== El sistema encuentra mi tarjeta de red man:ed[4] pero me dan errores de «timeout».

Lo más probable es que su tarjeta esté utilizando una IRQ distinta de la que debería estar usando según lo que aparece en [.filename]#/boot/device.hints# . El controlador man:ed[4] no utiliza configuración does not use the «soft» por omisión (es decir, valores que se le suministren mediante EZSETUP bajo DOS) pero como casi todo en esta vida hay solución. En este caso, de hecho, hay dos.

Ponga el «jumper» de la tarjeta en una configuración «dura» (es posible que tenga que modificar la configuración del kernel debido a esto) o modifique el valor de la IRQ con el valor `-1` del siguiente modo: by setting the hint `hint.ed.0.irq="-1"`. Así le dirá al kernel que utilice la configuración «suave».

Hay otra posibilidad, que es cuando su tarjeta esté utilizando la IRQ 9, que suele compartir funciones con la IRQ 2, circunstancia que es con frecuencia causa de problemas (sobre todo cuando entra en escena una tarjeta VGA que utiliza justamente la IRQ 2). Le recomendamos encarecidamente que haga todo lo posible para no utilizar ni la IRQ 2 ni la IRQ 9.

[[install-advanced]]
== Guía avanzada de instalación

This section describes how to install FreeBSD in exceptional cases.

[[headless-install]]
=== Instalación de FreeBSD en un sistema sin monitor o teclado

Es posible instalar FreeBSD en máquinas que no tengan teclado ni siquiera monitor conectado. De hecho no tienen por qué tener ni salida VGA. ?Cómo es posible?, se preguntará: Haciendolo todo a través de una consola serie. Una consola serie consiste básicamente en usar otro sistema como la pantalla y el teclado de una máquina. Siga las instrucciones de creación de los disquetes que se detallan en la <<install-floppies>>.

Tendrá que modificar esos disquetes para que arranquen en la consola serie; siga estas instrucciones:

[.procedure]
====
. Modificación de los disquetes de arranque para que permitan el arranque en la consola serie
+ 
Si arrancara con los disquetes que acaba de crear FreeBSD arrancaría en el modo normal de instalación. Lo que queremos es que FreeBSD arranque en una consola serie, así que hemos de montar el disquete [.filename]#kern.flp# en un sistema FreeBSD mediante man:mount[8].
+
[source,shell]
....
# mount /dev/fd0 /mnt
....
+ 
Una vez montado el disquete entre en el directorio [.filename]#/mnt# :
+
[source,shell]
....
# cd /mnt
....
+ 
Aquí es donde enseñaremos al disquete a arrancar en la consola serie. Debe crearse un fichero llamado [.filename]#boot.config# que contenga lo siguiente: `/boot/loader -h`. Con esto le pasamos cargador de arranque (el «bootloader») el parámetro necesario para que intente arrancar en una consola serie.
+
[source,shell]
....
# echo "/boot/loader -h"  boot.config
....
+ 
Una vez configurado correctamente nuestro disquete lo desmontamos con man:umount[8]:
+
[source,shell]
....
# cd /
# umount /mnt
....
+ 
Y podemos extraer el disquete de la unidad.
. Conexión del cable modem
+ 
Tiene que conectar un crossref:serialcomms[term-cables-null,cable módem nulo] entre dos máquinas. _Un cable serie normal no funcionará_, necesitará un cable módem nulo porque tiene cruzado alguno de los hilos.
. Arranque de la instalación
+ 
Podemos iniciar la instalación. Introduzca el disquete [.filename]#kern.flp# en la unidad de disquetes de la máquina en la que quiere hacer la instalación y encienda la máquina.
. La conexión a su máquina sin teclado ni monitor
+ 
Conéctese usando man:cu[1]:
+
[source,shell]
....
# cu -l /dev/cuaa0
....
====

?Ya está! Desde este momento ya puede controlar su máquina sin monitor ni teclado desde la sesión `cu` que acaba de abrir. El sistema le pedirá que introduzca el disco [.filename]#kern1.flp# y después tendrá que elegir qué tipo de terminal va a utilizar. Elija la consola en color de FreeBSD y buena suerte con la instalación.

[[install-diff-media]]
== Cómo preparar su propio medio de instalación

[NOTE]
====
Para evitar la repetición «disco FreeBSD» será en adelante un CDROM o un DVD de FreeBSD que haya comprado o hecho por sus propios medios.
====

Es posible que tengaque crear su propio medio de instalación de FreeBSD. Puede tratarse de un medio físico como una cinta o una fuente para que sysinstall pueda obtener los ficheros que vaya necesitando, como un sitio FTP local, o bien puede tratarse de una partición MS-DOS(R).

Por ejemplo:

* Tiene muchas máquinas conectadas a una red local y un sólo disco FreeBSD. Quiere crear un sitio FTP local con el contenido del disco FreeBSD y que desde él sus máquinas obtengan los ficheros en lugar de tener que conectarse a Internet.
* Tiene un disco FreeBSD y FreeBSD no reconoce su unidad CD/DVD pero MS-DOS(R)/Windows(R) sí. Quiere copiar los ficheros de instalación de FreeBSD a una partición DOS en mismo sistema y luego instalar FreeBSD usando esos ficheros.
* El sistema en el que quiere instalar FreeBSD no tiene unidad CD/DVD ni tarjeta de red pero puede conectar un cable paralelo o un cable serie «Laplink» a una computadora que sí que tiene.
* Quiere crear una cinta desde la que se pueda instalar FreeBSD.

[[install-cdrom]]
=== Creación de un CDROM de instalación

Con cada «release» el Proyecto FreeBSD libera dos imágenes de CDROM («imágenes ISO»). Dichas imágenes pueden copiarse a CD si dispone de una grabadora y usarse posteriormente para instalar FreeBSD. Si tiene una grabadora de CD y el ancho de banda no le supone un problema la forma más fácil de instalar FreeBSD es esta.

[.procedure]
====
. Descargar la imagen ISO correcta
+ 
Puede descargar las imágenes ISO de cada «release» desde [.filename]#ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-arquitectura/versión# o desde la réplica más próxima. Sustituya _arquitectura_ y _versión_ por lo que corresponda.
+ 
Ese directorio contendrá normalmente las siguientes imágenes:
+
.Nombres y funciones de las imágenes de FreeBSD 6._X_ and 7._X_
[cols="1,1", frame="none", options="header"]
|===
| Nombre
| Contenido

|[.filename]#versión-RELEASE-arch-bootonly.iso#
|Todo lo necesario para arrancar un kernel de FreeBSD y ejecutar la interfaz de instalación. Los ficheros que vayan haciendo falta tendrán que irse descargando por FTP o por algún otro medio.

|[.filename]#versión-RELEASE-arch-disc1.iso#
|Todo lo necesario para instalar AFreeBSD y un «live filesystem», que le será muy útil (conjuntamente con la aplicación «Repair» de sysinstall.

|[.filename]#versión-RELEASE-arch-disc2.iso#
|Todas las aplicaciones que puedan caber en un disco.

|[.filename]#versión-RELEASE-arch-docs.iso#
|La documentacióN de FreeBSD.
|===
+ 
Descargue la imagen ISO de arranque (si existe para su plataforma) o la imagen del disco uno. _No_ descargue ambas, puesto que el disco uno contiene todo lo que hay en la imagen ISO de arranque.
+ 
Utilice la imagen ISO de arranque si su acceso a Internet es barato. Con ella podrá instalar FreeBSD e instalar todo tipo de software descargándolo como paquetes/ports (consulte el crossref:ports[ports,Instalación de aplicaciones: «packages» y ports]) cuando lo precise.
+ 
Utilice la imagen del disco uno si quiere disponer en el propio disco de una selección bastante completa de software.
+ 
Si tiene acceso de alta velocidad a Internet las demás imágenes de disco son útiles pero no esenciales.
. Escribir los CD
+ 
Si va a grabar los CD en un sistema FreeBSD consulte la crossref:disks[creating-cds,"Creación y uso de medios ópticos (CD)"] (en particular la crossref:disks[burncd,"burncd"] y la crossref:disks[cdrecord,"cdrecord"]).
+ 
Las imágenes se hacen en un formato ISO estándar; si va a grabarlas en cualquier otra plataforma no debería tener problemas para hacerlo cualquiera que sea la aplicación que use para grabar CD.
====

[NOTE]
====
Si lo que quiere hacer es crear una «release» personalizada de FreeBSD consulte el artículo extref:{releng}[Release Engineering].
====

[[install-ftp]]
=== Creación de un sitio FTP local a partir de un disco de instalación de FreeBSD

Los discos de FreeBSD tienen la misma estructura que los sitios FTP. Esa circunstancia le facilitará mucho la tarea de crear un sitio FTP local para uso de otras máquinas de su red durante la instalación de FreeBSD.

[.procedure]
====
. Monte el CDROM en el directorio [.filename]#/cdrom# del sistema que va a albergar el sitio FTP.
+
[source,shell]
....
# mount /cdrom
....

. Cree una cuenta apta para FTP anónimo en [.filename]#/etc/passwd# editando [.filename]#/etc/passwd# con man:vipw[8]. Añádale lo siguiente:
+
[.programlisting]
....
ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent
....

. Compruebe que el servicio FTP está activado en [.filename]#/etc/inetd.conf#.
====

Ahora cualquier máquina capaz de conectarse a su sistema a través de una red puede elegir como medio de instalación «FTP» y escribir `ftp://su máquina` tras seleccionar «Other» en el menú de sitios FTP.

[WARNING]
====

Acabamos de exponer una buena solución para usar en un sistema de su propia red y que además está protegido por un cortafuegos. Si ofrece servicios FTP a máquinas de Internet (y no de su red local) expone su sistema a caer bajo la atención de «crackers» y otras variedades de indeseable. Le recomendamos encarecidamente que siga a rajatabla políticas sensatas de seguridad.
====

=== Creación de disquetes de instalación

Si quiere instalar FreeBSD desde disquetes (cosa que, de antemano, le sugerimos que _no_ haga) bien sea porque FreeBSD no soporta cierto componente necesario de su sistema o sencillamente porque insiste en querer hacer las cosas de la manera más difícil, tendrá que tener a mano unos cuantos disquetes.

Como mínimo necesitará tantos disquetes de 1.44 MB o 1.2 MB como hagan falta para dar cabida a todos los ficheros que hay en [.filename]#bin#. Recuerde la entrada «binary distribution» (distribución binaria) durante la instalación. Si está generando los disquetes en DOS _debe formatearlos_ con `FORMAT` de MS-DOS(R). Si está usando Windows(R) puede usar el Explorador para formatear disquetes: botón derecho del ratón sobre la unidad [.filename]#A:# y elija «Formatear».

_No_ confíe en el preformateo de fábrica de los disquetes. Formatéelos usted de nuevo, sólo para asegurarse. La mayoría de los problemas de los que se ha informado se han debido a formateos defectuosos, téngalo en cuenta.

Si puede crear los disquetes en una máquina FreeBSD un formateo sigue sin ser una mala idea, pero no necesitará crear un sistema de ficheros DOS en cada floppy. Use `disklabel` y `newfs` para crear un sistema de ficheros UFS en los disquetes tal y como se muestra aquí (en un floppy de 1.44 MB y 3.5") :

[source,shell]
....
# fdformat -f 1440 fd0.1440
# disklabel -w -r fd0.1440 floppy3
# newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0
....

[NOTE]
====
Tendrá que usar `fd0.1200` y `floppy5` si usa discos de 5.25" y 1.2 MB.
====

Ahora puede montarlos y escribir en ellos igual que en cualquier otro sistema de ficheros del sistema.

Tras el formateo de los disquetes pasamos a llenarlos. Los ficheros necesarios para crear la distribución se dividen en partes de tamaño regular de modo que cinco de ellas entren en otros tantos disquetes de 1.44 MB. Empaquete tantos ficheros como pueda en cada uno hasta que tenga todas las distribuciones que necesita listas para pasar a los disquetes. Cada distribución debería ir en un subdirectorio del floppy, por ejemplo [.filename]#a:\bin\bin.aa#, [.filename]#a:\bin\bin.ab#, etc.

Una vez en el menú de selección de medio de instalación elija [.guimenuitem]#Floppy# y siga las instrucciones.

[[install-msdos]]
=== Instalación desde una partición MS-DOS(R)

Copie los ficheros de la distribución en un directorio llamado [.filename]#freebsd# en el directorio raíz de la partición, por ejemplo [.filename]#c:\freebsd#. La estructura de directorios del sitio FTP o el CDROM debe reproducirse parcialmente en este directorio, así que le sugerimos que use `xcopy` si está copiando los datos desde un CD. En el siguiente ejemplo vamos a preparar una instalación mínima de FreeBSD:

[source,shell]
....
C:\> md c:\freebsd
C:\> xcopy e:\bin c:\freebsd\bin\ /s
C:\> xcopy e:\manpages c:\freebsd\manpages\ /s
....

Se ha asumido que [.filename]#C:# es donde tiene espacio libre y [.filename]#E:# es donde tiene montada su unidad CDROM.

Si no tiene unidad CDROM puede descargar la distribución desde link:ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/{rel120-current}-RELEASE/[ftp.FreeBSD.org]. Cada distribución dispone de su propio directorio; por ejemplo, la distribución _base_ está en el directoriolink:ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/{rel120-current}-RELEASE/base/[{rel120-current}/base/].

La única distribución _imprescindible_ es `BIN`. Guarde esta y todas las distribuciones que quiera instalar desde una partición MS-DOS(R) bajo [.filename]#c:\freebsd#.

=== Creación de una cinta de instalación

La instalación desde cinta es probablemente el método más fácil, casi tanto como una instalación desde una réplica FTP o desde un CDROM. Lo único que el programa de instalación necesita es que los ficheros estén empaquetados con tar y en una cinta. Veamos un ejemplo:

[source,shell]
....
# cd /freebsd/distdir
# tar cvf /dev/rwt0 dist1 ... dist2
....

Cuando esté preparando la instalación tenga la precaución de dejar sitio suficiente en algún directorio temporal (accesible en ese momento) para dejar _todos los ficheros_ que hubiera en la cinta de instalación. A causa del acceso secuencial propio del diseño de las cintas este método de instalación requiere un poco de almacenamiento temporal.

[NOTE]
====
Recuerde que antes de arrancar desde el disquete de arranque la cinta _debe estar en la unidad_. La prueba de hardware de la instalación no encontraría la cinta.
====

=== Before Installing over a Network

Hay tres tipos de instalación a través de una red disponibles en FreeBSD: Puerto serie (SLIP o PPP), puerto paralelo (PLIP (cable «laplink»)) y Ethernet.

El adaptador Ethernet es, debido a su velocidad de transferencia, la mejor elección. FreeBSD soporta la mayoría de los adaptadores Ethernet. Tiene una lista de dispositivos soportados en las notas de hardware de cada «release» de FreeBSD. Si disponde alguno de los adaptadores Ethernet PCMCIA soportados por FreeBSD recuerde que debe estar presente en el sistema _antes_ de que el sistema arranque. Por desgracia FreeBSD no soporta aún la inserción en caliente de tarjetas PCMCIA durante la instalación.

Tendrá que saber también la dirección IP de la red, la máscara de red correcta para la clase de su red y el nombre de su máquina. Si va a instalar mediante una conexión PPP y no tiene IP estática no se preocupe, su ISP puede asignarle una IP temporal dinámicamente. Su administrador de sistemas seguramente puede ayudarle con la configuración de su red. Si va a intentar conectarse con otras máquinas mediante sus nombres en lugar de sus direcciones IP necesitará los datos de un servidor de nombres y es posible que necesite también la dirección de un «gateway» (si usa PPP vale con la dirección IP de su proveedor). Si va a instalar por FTP a través de un proxy HTTP necesitará la dirección del proxy. Si no sabe qué pueden significar todas (o la mayoría) de estas preguntas hable con su administrador de sistemas o con su ISP _antes_ de intentar instalar FreeBSD de esta forma.

==== Antes de instalar via NFS

La instalación por NFS es bastante sencilla. Sólo tendrá que copiar los ficheros de la distribución a un servidor NFS, seleccionar NFS como medio de instalación y apuntar a los contenidos a donde los haya copiado.

si el servidor sólo soporta «puertos privilegiados» (que suele ser la configuración por omisión en estaciones de trabajo Sun) tendrá que seleccionar la opción `NFS Secure` en el menú «Options» antes de comenzar con la instalación.

Si usa tarjeta Ethernet de mala calidad y está experimentando velocidades de transferencia muy bajas puede probar con el parámetro `NFS Slow`.

Para que la instalación via NFS funcione el servidor debe permitir el montaje de subdirectorios. Por ejemplo, si su distribución FreeBSD {rel120-current} está en [.filename]#ziggy:/usr/archive/stuff/FreeBSD# el servidor `ziggy` tendrá que permitir que pueda montarse [.filename]#/usr/archive/stuff/FreeBSD#, no simplemente como [.filename]#/usr# o [.filename]#/usr/archive/stuff#.

En el fichero [.filename]#/etc/exports# de FreeBSD eso puede controlarse mediante la opción `-alldirs`. Puede que otros servidores NFS requieran de parámetros diferentes. Si ve mensajes de `permission denied` seguramente no ha activado esto correctamente.
