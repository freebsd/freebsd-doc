---
title: Kapitel 2. FreeBSD installieren
part: Teil I. Erste Schritte
prev: books/handbook/introduction
next: books/handbook/basics
---

[[bsdinstall]]
= FreeBSD installieren
:doctype: book
:toc: macro
:toclevels: 1
:icons: font
:sectnums:
:sectnumlevels: 6
:source-highlighter: rouge
:experimental:
:skip-front-matter:
:table-caption: Tabelle
:figure-caption: Abbildung
:example-caption: Beispiel
:xrefstyle: basic
:relfileprefix: ../
:outfilesuffix:
:sectnumoffset: 2

ifeval::["{backend}" == "html5"]
:imagesdir: ../../../../images/books/handbook/bsdinstall/
endif::[]

ifeval::["{backend}" == "pdf"]
:imagesdir: ../../../../static/images/books/handbook/bsdinstall/
endif::[]

ifeval::["{backend}" == "epub3"]
:imagesdir: ../../../../static/images/books/handbook/bsdinstall/
endif::[]

include::shared/authors.adoc[]
include::shared/releases.adoc[]
include::shared/de/mailing-lists.adoc[]
include::shared/de/teams.adoc[]
include::shared/de/urls.adoc[]

toc::[]

[[bsdinstall-synopsis]]
== Übersicht

Es gibt verschiedene Möglichkeiten, FreeBSD zu installieren, abhängig von der Einsatzumgebung. Dazu gehören:

* Abbilder von virtuellen Maschinen, die Sie herunterladen und in einer virtuellen Umgebung einsetzen können. Diese Abbilder können von der https://www.freebsd.org/where.html[FreeBSD Downloadseite] heruntergeladen werden. Es gibt Abbilder für KVM ("qcow2"), VMWare ("vmdk"), Hyper-V ("vhd"), sowie Raw-Device Abbilder, die durchgängig unterstützt werden. Dies sind keine Installationsabbilder, sondern vorkonfigurierte ("bereits installierte") Instanzen, die sofort gestartet und konfiguriert werden können.
* Abbilder von virtuellen Maschinen, die auf Amazon's https://aws.amazon.com/marketplace/pp/B07L6QV354[AWS Marketplace], https://azuremarketplace.microsoft.com/en-us/marketplace/apps?search=freebsd&page=1[Microsoft Azure Marketplace] und https://console.cloud.google.com/launcher/details/freebsd-cloud/freebsd-12[Google Cloud Platform] verfügbar sind, um auf den jeweiligen Hosting-Diensten ausgeführt zu werden. Weitere Informationen zur Bereitstellung von FreeBSD auf Azure finden Sie im entsprechenden Kapitel der https://docs.microsoft.com/en-us/azure/virtual-machines/linux/freebsd-intro-on-azure[ Azure Dokumentation].
* SD-Karten Abbilder für eingebettete Systeme wie den Raspberry Pi oder BeagleBone Black. Diese Abbilder können von der https://www.freebsd.org/where.html[ FreeBSD Downloadseite] heruntergeladen werden. Die Dateien müssen unkomprimiert und als Raw-Image auf eine SD-Karte geschrieben werden, von der das System dann booten wird.
* Installationsabbilder, um FreeBSD auf einer Festplatte für die üblichen Desktop-, Laptop- oder Serversysteme zu installieren.

Der Rest dieses Kapitels beschreibt den vierten Fall und erklärt, wie man FreeBSD mit dem textbasierten Installationsprogramm bsdinstall installiert.

Die Installationsanweisungen in diesem Kapitel gelten für die i386(TM)- und AMD64-Architekturen. Gegebenenfalls werden spezifische Anweisungen für andere Plattformen erwähnt. Möglicherweise gibt es auch geringfügige Unterschiede zwischen dem Installationsprogramm und dem, was hier gezeigt wird. Sie sollten dieses Kapitel daher als eine Art Wegweiser und nicht als exakte Anleitung betrachten.

[NOTE]
====
Benutzer, die es vorziehen, FreeBSD mit einem graphischen Installationsprogramm zu installieren, sind vielleicht an https://www.furybsd.org[FuryBSD], https://ghostbsd.org[GhostBSD] oder https://www.midnightbsd.org[MidnightBSD] interessiert.
====

Nachdem Sie dieses Kapitel gelesen haben, werden Sie wissen:

* welche Mindestanforderungen an die Hardware gestellt werden und welche Architekturen FreeBSD unterstützt.
* wie man FreeBSD Installationsmedien erstellt.
* wie man bsdinstall startet.
* welche Fragen bsdinstall stellt, was sie bedeuten und wie man diese beantwortet.
* wie Sie Fehler bei der Installation beheben.
* wie Sie eine Live-Version von FreeBSD ausprobieren können, bevor Sie die Installation starten.

Bevor Sie dieses Kapitel lesen, sollten Sie:

* Die Liste von unterstützter Hardware lesen, die mit der zu installierenden Version von FreeBSD ausgeliefert wird, um sicherzustellen, dass die Hardware auch unterstützt wird.

[[bsdinstall-hardware]]
== Minimale Hardwareanforderungen

Die Hardwareanforderungen zur Installation von FreeBSD variieren mit der Architektur. Hardwarearchitekturen und von FreeBSD unterstützte Geräte sind auf der Seite link:https://www.FreeBSD.org/releases/[FreeBSD Release Informationen] aufgelistet. Die link:https://www.FreeBSD.org/where/[FreeBSD Download Seite] enthält Informationen zur Auswahl des richtigen Abbilds für verschiedene Architekturen.

Für die Installation von FreeBSD sind mindestens 96 MB RAM und 1.5 GB freier Festplattenspeicher erforderlich. Allerdings ist eine solch geringe Menge an Arbeitsspeicher und Speicherplatz nur für spezifische Anwendungen ausreichend, beispielsweise für Embedded-Geräte. Desktop-Systeme benötigen weitaus mehr Ressourcen. 2-4 GB RAM und mindestens 8 GB Speicherplatz sind ein guter Anfang.

Dies sind die Anforderungen an den Prozessor für jede Architektur:

amd64::
Dies ist die gängigste Art von Prozessor für Desktop- und Laptop-Systeme. Andere Anbieter nennen diese Architektur auch x86-64.
+
Beispiele für amd64-kompatible Prozessoren umfassen: AMD Athlon(TM)64, AMD Opteron(TM), multi-core Intel(R) Xeon(TM) und Intel(R) Core(TM) 2 sowie neuere Prozessoren.

i386::
Ältere Desktop- und Laptop-Systeme verwenden oft die 32-Bit x86-Architektur.
+
Fast alle i386-kompatiblen Prozessoren mit einer Floating-Point-Einheit werden unterstützt. Alle Intel(R)-Prozessoren 486 oder neuer werden unterstützt.
+
FreeBSD nutzt die Physical Adress Extensions (PAE), falls die CPU diese Funktion unterstützt. Wenn PAE im Kernel aktiviert ist, wird Speicher über 4 GB vom Kernel erkannt und kann von System verwendet werden. PAE schränkt allerdings auch die Gerätetreiber und anderen Komponenten von FreeBSD ein.

powerpc::
Alle New Word ROM Apple(R) Mac(R)-Systeme mit integriertem USB werden unterstützt. SMP wird auf Maschinen mit mehreren CPUs unterstützt.
+
Ein 32-Bit Kernel kann jedoch nur die ersten 2 GB RAM verwenden.

sparc64::
Systeme, die von FreeBSD/sparc64 unterstützt werden, sind auf der link:https://www.FreeBSD.org/platforms/sparc/[FreeBSD/sparc64-Projektseite] aufgelistet.
+
SMP wird auf allen Systemen mit mehr als einem Prozessor unterstützt. Eine dedizierte Platte wird benötigt, da es nicht möglich ist, eine Platte mit einem anderen Betriebssystem zur gleichen Zeit zu teilen.

[[bsdinstall-pre]]
== Vor der Installation

Wenn das System die Mindestanforderungen für die Installation von FreeBSD erfüllt, sollte die Installationsdatei heruntergeladen und die Installationsmedien vorbereitet werden. Bevor Sie dies tun, prüfen Sie mit Hilfe dieser Checkliste, ob das System für die Installation bereit ist:

[.procedure]
. *Sichern Sie wichtige Daten*
+ 
Erstellen Sie _immer_ eine Sicherung aller wichtigen Daten, _bevor_ Sie ein Betriebssystem installieren. Speichern Sie die Daten jedoch nicht auf dem System, auf dem das Betriebssystem installiert wird, sondern nutzen Sie einen Wechseldatenträger, wie beispielsweise ein USB-Laufwerk, oder sichern Sie auf einem anderen System im Netzwerk, oder nutzen einen Online-Backup-Dienst. Überprüfen Sie die Sicherungen, bevor Sie mit der Installation beginnen. Sobald das Installationsprogramm die Festplatte des Systems formatiert, gehen alle gespeicherten Daten unwiderruflich verloren.
. *Den Installationsort von FreeBSD festlegen*
+ 
Falls FreeBSD das einzige installierte Betriebssystem sein wird, kann dieser Schritt übersprungen werden. Sollte FreeBSD allerdings die Platte mit anderen Betriebssystemen teilen, müssen Sie entscheiden, welche Platte oder Partition für FreeBSD verwendet werden soll.
+ 
Für die Architekturen i386 und amd64 können die Platten in mehrere Partitionen aufgeteilt werden. Dazu stehen Ihnen zwei Partitionsschemas zur Verfügung. Traditionell enthält ein _Master Boot Record_ (MBR) eine Partitionstabelle, welche bis zu vier _primäre Partitionen_ aufnehmen kann. Aus historischen Gründen werden diese primären Partitionen in FreeBSD _slices_ genannt. Eine Begrenzung von nur vier Partitionen ist für große Platten sehr beschränkt, so dass eine dieser primären Partitionen als _erweiterte Partition_ eingesetzt wird. Mehrere _logische Partitionen_ können dann innerhalb der erweiterten Partition angelegt werden. Die _GUID-Partitionstabelle_ (GPT) ist eine neuere und einfachere Methode zur Partition einer Festplatte. Geläufige GPT-Implementierungen erlauben bis zu 128 Partitionen pro Platte, was die Notwendigkeit von logischen Partitionen eliminiert.
+ 
FreeBSDs Standard-Bootloader benötigt entweder eine primäre oder eine GPT-Partition. Wenn alle primären oder GPT-Partitionen bereits in Verwendung sind, muss eine davon für FreeBSD zur Verfügung gestellt werden. Benutzen Sie ein Werkzeug zur Veränderung der Partitionsgrößen, wenn Sie eine Partition erstellen möchten, ohne dabei vorhandene Daten zu löschen. Den freigegebenen Platz können Sie dann für die Installation verwenden.
+ 
Eine Vielzahl freier und kommerzieller Werkzeuge zur Veränderung der Partitionsgrößen finden Sie unter http://en.wikipedia.org/wiki/List_of_disk_partitioning_software[ http://en.wikipedia.org/wiki/List_of_disk_partitioning_software]. GParted Live (http://gparted.sourceforge.net/livecd.php[http://gparted.sourceforge.net/livecd.php]) ist eine freie Live-CD, die den GParted-Partitionseditor enthält. GParted ist auch in einer Vielzahl von anderen Linux Live-CD Distributionen enthalten.
+
[WARNING]
====

Bei richtiger Anwendung können Werkzeuge zur Veränderung von Partitionsgrößen auf sichere Art und Weise Platz für eine neue Partition schaffen. Erstellen Sie trotzdem eine Vollsicherung und überprüfen Sie deren Integrität bevor Sie die Partitionen auf der Platte verändern.
====
+ 
Festplattenpartitionen, die unterschiedliche Betriebssysteme enthalten, ermöglichen es, jeweils eines dieser Systeme zu verwenden. Eine alternative Möglichkeit, mehrere Betriebssysteme gleichzeitig einzusetzen, ohne dabei Partitionen ändern zu müssen, wird im crossref:virtualization[virtualization,Virtualisierung] behandelt.
. *Netzwerkparameter ermitteln*
+ 
Manche FreeBSD Installationsarten benötigen eine Netzwerkverbindung, um Installationsdateien herunter zu laden. Nach jeder Installation bietet das Installationsprogramm die Möglichkeit, die Netzwerkschnittstellen des Systems zu konfigurieren.
+ 
Steht im Netzwerk ein DHCP-Server zur Verfügung, wird dieser im Allgemeinen verwendet, um automatisch Netzwerkeinstellungen vorzunehmen. Falls DHCP nicht verfügbar ist, müssen die folgenden Netzwerkeinstellungen beim lokalen Netzwerkadministrator oder Provider erfragt werden:
[[bsdinstall-collect-network-information]]
.. IP-Adresse
.. Subnetz-Maske
.. IP-Adresse des Default-Gateway
.. Domänenname des Netzwerks
.. IP-Adressen der DNS-Server im Netzwerk

. *Lesen Sie die FreeBSD-Errata*
+ 
Obwohl das FreeBSD Projekt sich bemüht, jede veröffentlichte Version von FreeBSD so stabil wie möglich zu machen, können sich doch gelegentlich Fehler in den Veröffentlichungsprozess einschleichen. In sehr seltenen Fällen betreffen diese Fehler den Installationsvorgang. Wenn diese Probleme entdeckt und behoben sind, werden dazu Hinweise in der FreeBSD Errata (link:https://www.FreeBSD.org/releases/{rel121-current}r/errata/[https://www.freebsd.org/releases/{rel121-current}r/errata/]) auf der FreeBSD Webseite veröffentlicht. Prüfen Sie die Errata vor der Installation, um sicherzustellen, dass es keine Probleme gibt, welche die Installation betreffen.
+ 
Informationen und Errata für all diese Veröffentlichungen finden Sie unter den Release Informationen auf der FreeBSD Webseite (link:https://www.FreeBSD.org/releases/[https://www.freebsd.org/releases/]).

[[bsdinstall-installation-media]]
=== Die Installationsmedien vorbereiten

Das FreeBSD-Installationsprogramm ist keine Anwendung, das aus einem anderen Betriebssystem heraus gestartet werden kann. Laden Sie stattdessen eine Installationsdatei für FreeBSD herunter und brennen Sie den Dateityp auf einen entsprechenden Datenträger (CD, DVD, oder USB). Starten Sie dann das System mit diesem Datenträger.

Die FreeBSD-Installationsmedien sind unter link:https://www.FreeBSD.org/where/#download[www.freebsd.org/where/] verfügbar. Der Name der Installationsdatei enthält die Version von FreeBSD, die Architektur sowie den Dateityp. Wenn Sie beispielsweise FreeBSD 12.1 auf einem amd64-System von DVD installieren wollen, laden Sie [.filename]#FreeBSD-12.1-RELEASE-amd64-dvd1.iso# und brennen Sie die Datei auf eine DVD. Starten Sie dann das System mit dieser DVD.

Die Installationsdateien stehen in verschiedenen Formaten zur Verfügung und variieren je nach Rechnerarchitektur und Medientyp.

[[bsdinstall-installation-media-uefi]]
Für Rechner, die mit UEFI (Unified Extensible Firmware Interface) booten, stehen zusätzliche Installationsdateien zur Verfügung. Die Namen dieser Dateien enthalten die Zeichenkette [.filename]#uefi#.

Dateitypen:

* `-bootonly.iso`: Dies ist die kleinste Installation, die lediglich das Installationsprogramm enthält. Hierzu ist während der Installation eine funktionierende Internetverbindung erforderlich, da das Installationsprogramm die benötigen Dateien für die FreeBSD-Installation herunter laden muss. Diese Datei sollte mit einem CD-Brennprogramm auf CD gebrannt werden.
* `-disc1.iso`: Diese Datei enthält alle benötigten Dateien für eine FreeBSD-Installation, den Quellcode und die Ports-Sammlung. Die Datei sollte mit einem CD-Brennprogramm auf CD gebrannt werden.
* `-dvd1.iso`: Diese Datei enthält alle benötigen Dateien für eine FreeBSD-Installation, den Quellcode und die Ports-Sammlung. Darüber hinaus enthält sie eine Reihe von beliebten Binärpaketen zur Installation eines Window-Managers, sodass Sie ein komplettes System installieren können, ohne dass Sie eine Verbindung zum Internet benötigen. Die Datei sollte mit einem DVD-Brennprogramm auf eine DVD gebrannt werden.
* `-memstick.img`: Diese Datei enthält alle benötigten Dateien für eine FreeBSD-Installation, den Quellcode und die Ports-Sammlung. Die Datei sollte mit den nachstehenden Anweisungen auf einen USB-Stick geschrieben werden.
* `-mini-memstick.img`: Diese Datei enthält, wie `-bootonly.iso`, keine Installationsdateien, sondern lädt diese bei Bedarf nach. Während der Installation wird eine funktionierende Internetverbindung benötigt. Schreiben Sie die Datei, wie in <<bsdinstall-usb>> beschrieben, auf einen USB-Stick.

Nachdem Sie die Datei heruntergeladen haben, laden Sie [.filename]#CHECKSUM.SHA256# aus dem gleichen Verzeichnis herunter. Berechnen Sie dann die _Prüfsumme_ für die Datei. FreeBSD bietet hierfür man:sha256[1], das Sie als `sha256 _Dateiname_` aufrufen können. Andere Betriebssysteme haben ähnliche Programme.

Vergleichen Sie die berechnete Prüfsumme mit der in [.filename]#CHECKSUM.SHA256#. Die beiden Prüfsummen müssen übereinstimmen, ansonsten ist die Datei beschädigt und muss erneut heruntergeladen werden.

[[bsdinstall-usb]]
==== Eine Installationsdatei auf einen USB-Stick schreiben

Die [.filename]#\*.img#-Datei ist ein komplettes _Abbild_ (engl. Image) des späteren USB-Sticks. Die Datei kann _nicht_ auf das Zielgerät kopiert werden. Es existieren jedoch mehrere Programme, mit denen die [.filename]#*.img#-Datei auf einen USB-Stick geschrieben werden kann. In diesem Abschnitt werden zwei dieser Programme vorgestellt.

[IMPORTANT]
====
Bevor Sie fortfahren, machen Sie Sicherungskopien der Daten auf dem USB-Stick. Diese Prozedur wird alle Daten auf dem Stick löschen.
====

[[bsdinstall-usb-dd]]
[.procedure]
****
*Procedure: Das Image mit `dd` auf einen USB-Stick schreiben*

[WARNING]
====

Dieses Beispiel verwendet [.filename]#/dev/da0# als das Zielgerät, auf welches das Image geschrieben werden soll. Seien Sie _sehr vorsichtig_, dass das richtige Gerät benutzt wird, da das Kommando alle vorhandenen Daten auf dem Zielgerät zerstört.
====
. Das Werkzeug man:dd[1] steht unter BSD, Linux(R) und Mac OS(R)-Systemen zur Verfügung. Um das Image zu brennen, verbinden Sie den USB-Stick mit dem System und bestimmen Sie dessen Gerätenamen. Geben Sie dann den Namen der Installationsdatei und den Gerätenamen des USB-Sticks an. Dieses Beispiel schreibt die Installation für amd64 auf das erste USB-Gerät im FreeBSD-System.
+
[source,bash]
....
# dd if=FreeBSD-12.1-RELEASE-amd64-memstick.img of=/dev/da0 bs=1M conv=sync
....
+ 
Wenn dieser Befehl fehlschlägt, stellen Sie sicher, dass der USB-Stick nicht eingehangen ist und prüfen Sie den Gerätenamen. Auf einigen Systemen muss der Befehl vielleicht mit Hilfe von man:sudo[8] ausgeführt werden. Die Syntax von man:dd[1] variiert leicht zwischen verschiedenen Plattformen. Zum Beispiel erfordert Mac OS(R) ein kleingeschriebenes `bs=1m`. Einige Systeme wie Linux(R) verwenden vielleicht einen Puffer. Verwenden Sie dann man:sync[8], um die Daten zu schreiben.
****

[.procedure]
****
*Procedure: Das Image unter Windows(R) schreiben*

[WARNING]
====

Versichern Sie sich, dass Sie den korrekten Laufwerksbuchstaben angeben, da die bestehenden Daten des Laufwerks überschrieben und zerstört werden.
====
. Image Writer für Windows(R) herunterladen
+ 
Image Writer für Windows(R) ist eine frei verfügbare Anwendung, welche eine Imagedatei korrekt auf einen USB-Stick schreiben kann. Laden Sie diese von https://sourceforge.net/projects/win32diskimager/[ https://sourceforge.net/projects/win32diskimager/] herunter und entpacken Sie sie in ein Verzeichnis.
. Das Image mit Image Writer auf den USB-Stick schreiben
+ 
Klicken Sie doppelt auf das Win32DiskImager-Icon, um das Programm zu starten. Prüfen Sie dabei, dass der Laufwerksbuchstabe unter `Device` dem Gerät entspricht, in dem sich der USB-Stick befindet. Klicken Sie auf das Ordnersymbol und wählen Sie das Image aus, welches auf den USB-Stick geschrieben werden soll. Um den Image-Dateinamen zu akzeptieren, klicken Sie auf btn:[Save]. Überprüfen Sie erneut, ob alles stimmt und dass keine Ordner auf dem USB-Stick in anderen Fenstern geöffnet sind. Sobald alles bereit ist, klicken Sie auf btn:[Write], um die Imagedatei auf den USB-Stick zu schreiben.
****

Sie sind jetzt dazu bereit, mit der Installation von FreeBSD zu beginnen.

[[bsdinstall-start]]
== Die Installation starten

[IMPORTANT]
====
Es werden bei Installation so lange keine Änderungen an den Festplatten durchgeführt, bis die folgende Meldung erscheint:

[.programlisting]
....
Your changes will now be written to disk. If you
have chosen to overwrite existing data, it will
be PERMANENTLY ERASED. Are you sure you want to
commit your changes?
....

Die Installation kann vor dieser Warnung zu jeder Zeit abgebrochen werden. Falls Zweifel bestehen, dass etwas falsch konfiguriert wurde, schalten Sie einfach den Computer vor diesem Punkt aus und es werden keine Änderungen an der Festplatte vorgenommen.
====

Dieser Abschnitt beschreibt, wie das System vom Installationsmedium, das nach den Anweisungen in <<bsdinstall-installation-media>> erstellt wurde, gebootet wird. Wenn Sie einen bootfähigen USB-Stick einsetzen, verbinden Sie diesen mit dem System, bevor Sie den Computer einschalten. Falls die Installation von einer CD startet, müssen Sie den Computer einschalten und die CD so bald wie möglich einlegen. Wie das System konfiguriert werden muss, um von dem verwendeten Installationsmedium zu booten, hängt von der Architektur ab.

[[bsdinstall-starting-i386]]
=== Systemstart von i386(TM) und amd64

Diese Architekturen beinhalten ein BIOS-Menü zur Auswahl des Boot-Gerätes. Abhängig von dem verwendeten Installationsmedium können Sie CD/DVD oder USB als erstes Boot-Gerät auswählen. Die meisten Systeme erlauben es auch, das Boot-Gerät während des Startvorgangs zu wählen, typischerweise durch drücken von kbd:[F10], kbd:[F11], kbd:[F12] oder kbd:[Esc].

Falls der Computer wie normal startet und das bestehende Betriebssystem lädt, befolgen Sie einen der hier aufgeführten Schritte:

. Das Installationsmedium wurde während des Startvorgangs nicht früh genug eingelegt. Lassen Sie das Medium eingelegt und versuchen Sie, den Rechner neu zu starten.
. Die Änderungen am BIOS waren nicht richtig oder wurden nicht gespeichert. Überprüfen Sie, dass das richtige Boot-Gerät als erstes Boot-Gerät ausgewählt ist.
. Das verwendete System ist zu alt und unterstützt das starten vom gewählten Medium nicht. In diesem Fall kann der Plop Boot Manager (http://www.plop.at/de/bootmanagers.html[]) verwendet werden, um ältere Computer von CD oder USB-Medien zu starten.

=== Systemstart beim PowerPC(R)

Auf den meisten Maschinen können Sie kbd:[C] auf der Tastatur gedrückt halten, um von der CD zu starten. Andernfalls, halten Sie kbd:[Command+Option+O+F], oder kbd:[Windows+Alt+O+F] auf nicht-Apple(R) Tastaturen gedrückt. Geben Sie an der `0 >`-Eingabeaufforderung folgendes ein:

[source,bash]
....
 boot cd:,\ppc\loader cd:0
....

[[bsdinstall-view-probe]]
=== FreeBSD Bootmenü

Wenn das System vom Installationsmedium gestartet wird, erscheint folgendes Menü auf dem Bildschirm:

[[bsdinstall-newboot-loader-menu]]
.FreeBSD Boot Loader Menü
image::bsdinstall-newboot-loader-menu.png[]

In der Voreinstellung wird das Menü zehn Sekunden auf Benutzereingaben warten, bevor das Installationsprogramm gestartet wird. Drücken Sie die Leertaste, um den Timer anzuhalten. Um eine Option auszuwählen, drücken Sie die entsprechende Nummer bzw. Buchstaben. Die folgenden Optionen stehen zur Verfügung.

* `Boot Multi User`: Dies wird den Boot-Prozess von FreeBSD fortsetzen. Wenn der Timer angehalten wurde, drücken Sie entweder die kbd:[1], kbd:[B], oder kbd:[Enter].
* `Boot Single User`: Dieser Modus kann verwendet werden, um eine bestehende FreeBSD-Installation zu reparieren. Dies wird in crossref:boot[boot-singleuser,“Der Single-User Modus”] beschrieben. Drücken Sie die kbd:[2] oder kbd:[S] um in diesen Modus zu gelangen.
* `Escape to loader prompt`: Dieser Modus startet einen Prompt, welcher nur eine begrenzte Anzahl an Low-Level-Befehlen enthält. Dies wird in crossref:boot[boot-loader,“Phase Drei”] beschrieben. Drücken Sie die kbd:[3] oder kbd:[Esc] um in diesen Modus zu gelangen.
* `Reboot`: Startet das System neu.
* `Kernel`: Lädt einen anderen Kernel.
* `Configure Boot Options`: Öffnet das Menü, welches in <<bsdinstall-boot-options-menu>> beschrieben ist.

[[bsdinstall-boot-options-menu]]
.FreeBSD Boot-Optionen Menü
image::bsdinstall-boot-options-menu.png[]

Das Boot-Optionen Menü ist in zwei Abschnitte unterteilt. Der erste Abschnitt wird verwendet, um zurück zum Hauptmenü zu gelangen, oder um Optionen zurück auf die Standardwerte zu setzen.

Im zweiten Abschnitt können verschiedene Optionen auf `On` oder `Off` gesetzt werden. Das System wird bei einem Neustart immer mit den Einstellungen für diese Optionen booten:

* `ACPI Support`: Wenn das System während des Bootens hängt, setzen Sie diese Option auf `Off`.
* `Safe Mode`: Wenn das System trotz deaktiviertem `ACPI Support` immer noch hängt, setzen Sie diese Option auf `On`.
* `Single User`: Setzen Sie die Option auf `On`, um eine bestehende FreeBSD-Installation zu reparieren. Dieser Prozess wird in crossref:boot[boot-singleuser,“Der Single-User Modus”] beschrieben. Sobald das Problem behoben ist, setzen Sie die Option wieder auf `Off`.
* `Verbose`: Wenn Sie während des Bootens ausführliche Meldungen sehen möchten, zum Beispiel für die Fehlersuche bei Hardwareproblemen, setzen Sie diese Option auf `On`.

Nachdem Sie die benötigten Auswahlen getroffen haben, drücken Sie die kbd:[1] oder die Rücktaste, um zum Hauptmenü zurückzukehren. Drücken Sie dann kbd:[Enter] um den FreeBSD Bootprozess fortzusetzen. Eine Reihe von Boot-Meldungen werden nun im Rahmen der Geräteerkennung von FreeBSD angezeigt. Sobald dieser Prozess abgeschlossen ist, erscheint das Menü aus <<bsdinstall-choose-mode>>.

[[bsdinstall-choose-mode]]
.Willkommen-Menü
image::bsdinstall-choose-mode.png[]

Wählen Sie hier btn:[Install] und drücken Sie kbd:[Enter], um in das Installationsprogramm zu gelangen. Der Rest dieses Kapitels beschreibt das Installationsprogramm. Andernfalls verwenden Sie die Pfeiltasten um einen anderen Menüpunkt auszuwählen. btn:[Shell] kann verwendet werden, um eine Shell zu starten und Zugriff auf die Kommandozeilenprogramme zu erhalten, damit beispielsweise die Platten vor der Installation vorbereitet werden können. btn:[Live CD] kann verwendet werden um FreeBSD vor der Installation auszuprobieren. Die Live-Version wird in <<using-live-cd>> beschrieben.

[TIP]
====

Um sich die Boot-Meldungen und die Ergebnisse der Geräteerkennung erneut anzeigen zu lassen, drücken Sie kbd:[S] gefolgt von kbd:[Enter]. Dadurch wird eine Shell gestartet, in der Sie die Ereignisse seitenweise mit `more /var/run/dmesg.boot` lesen können. Geben Sie `exit` ein, um zum Willkommen-Menü zurückzukehren.
====

[[using-bsdinstall]]
== Verwendung von bsdinstall

Dieser Abschnitt zeigt die Reihenfolge der Menüs von bsdinstall sowie die Informationen, die während der Installation abgefragt werden. Benutzen Sie die Pfeiltasten zur Navigation und die Leertaste, um einen Menüpunkt zu aktivieren oder zu deaktivieren. Wenn Sie fertig sind, drücken Sie kbd:[Enter], um die Auswahl zu speichern und zum nächsten Bildschirm zu gelangen.

[[bsdinstall-keymap]]
=== Die Tastaturbelegung auswählen

Bevor die Installation gestartet wird, lädt bsdinstall die Tastaturbelegung, wie in <<bsdinstall-keymap-loading>> gezeigt.

[[bsdinstall-keymap-loading]]
.Laden der Tastaturbelegung
image::bsdinstall-keymap-loading.png[]

Nachdem die Tastaturbelegung geladen wurde, zeigt bsdinstall das Menü aus <<bsdinstall-keymap-10>> an. Wählen Sie die Tastenbelegung, die der am System angeschlossenen Tastatur am nächsten kommt, indem Sie die Pfeiltasten Hoch/Runter verwenden und anschließend kbd:[Enter] drücken.

[[bsdinstall-keymap-10]]
.Bildschirm zur Auswahl der Tastaturbelegung
image::bsdinstall-keymap-10.png[]

[NOTE]
====
Durch drücken von kbd:[Esc] wird das Menü verlassen und die Standardbelegung eingestellt. [.guimenuitem]#United States of America ISO-8859-1# ist eine sichere Option, falls Sie sich unsicher sind, welche Auswahl Sie treffen sollen.
====

[[bsdinstall-keymap-testing]]
.Bildschirm zum Testen der Tastaturbelegung
image::bsdinstall-keymap-testing.png[]

[[bsdinstall-hostname]]
=== Den Rechnernamen festlegen

Das nächste bsdinstall-Menü konfiguriert den Rechnernamen, der für das neu zu installierende System verwendet werden soll.

[[bsdinstall-config-hostname]]
.Festlegen des Rechnernamens
image::bsdinstall-config-hostname.png[]

Geben Sie einen für das Netzwerk eindeutigen Rechnernamen an. Der eingegebene Rechnername sollte ein voll-qualifizierter Rechnername sein, so wie z.B. `machine3.example.com`.

[[bsdinstall-components]]
=== Auswahl der zu installierenden Komponenten

Im nächsten Schritt fragt Sie bsdinstall, die optionalen Komponenten für die Installation auszuwählen.

[[bsdinstall-config-components]]
.Komponenten für die Installation auswählen
image::bsdinstall-config-components.png[]

Die Entscheidung, welche Komponenten auszuwählen sind, hängt größtenteils davon ab, für was das System künftig eingesetzt werden soll und der zur Verfügung stehende Plattenplatz. Der FreeBSD-Kernel und die Systemprogramme (zusammengenommen auch als _Basissystem_ bezeichnet) werden immer installiert. Abhängig vom Typ der Installation, werden manche dieser Komponenten nicht erscheinen.

* `base-dbg` - Basiswerkzeuge wie cat, ls und vielte weitere mit aktiviertem Debugging.
* `kernel-dbg` - Kernel und Module mit aktiviertem Debugging.
* `lib32-dbg` - Kompatibilitäts-Bibliotheken mit aktiviertem Debugging, für die Ausführung von 32-bit-Anwendungen auf einer 64-bit-Version von FreeBSD.
* `lib32` - Kompatibilitäts-Bibliotheken, um 32-bit-Anwendungen auf der 64-bit Version von FreeBSD laufen zu lassen.
* `ports` - Die FreeBSD Ports-Sammlung ist eine Sammlung von Dateien, die das herunterladen, erstellen und installieren von Drittanbietersoftware automatisiert. crossref:ports[ports,Installieren von Anwendungen: Pakete und Ports] behandelt die Verwendung der Ports-Sammlung.
+
[WARNING]
====

Das Installationsprogramm prüft nicht, ob genügend Plattenplatz zur Verfügung steht. Wählen Sie diese Option nur, wenn die Festplatte über ausreichend Speicher verfügt. Die Ports-Sammlung nimmt etwa {ports-size} Plattenplatz ein.
====

* `src` - Der vollständige FreeBSD Quellcode für den Kernel und die Systemprogramme. Obwohl dies für die meisten Anwendungen nicht benötigt wird, kann es doch für manche Gerätetreiber, Kernelmodule und einigen Anwendungen aus der Ports-Sammlung erforderlich sein. Der Quellcode wird auch benötigt um an FreeBSD selbst mitzuentwickeln. Der komplette Quellcodebaum benötigt 1 GB Plattenplatz und um das gesamte Betriebssystem neu zu erstellen, werden zusätzliche 5 GB Platz benötigt.
* `tests` - FreeBSD Test-Suite.

[[bsdinstall-netinstall]]
=== Installation aus dem Netzwerk

Das Menü in <<bsdinstall-netinstall-notify>> erscheint nur bei der Installation von einer [.filename]#-bootonly.iso#-CD, da dieses Installationsmedium keine Kopien der Installationsdateien enthält. Da die Installationsdateien über eine Netzwerkverbindung abgerufen werden müssen, weist dieses Menü darauf hin, dass zunächst die Netzwerkschnittstelle konfiguriert werden muss. Falls dieses Menü während der Installation angezeigt wird, befolgen Sie die Anweisungen in <<bsdinstall-config-network-dev>>.

[[bsdinstall-netinstall-notify]]
.Installation über das Netzwerk
image::bsdinstall-netinstall-files.png[]

[[bsdinstall-partitioning]]
== Plattenplatz bereitstellen

Im nächsten Menü wird die Methode bestimmt, um den Plattenplatz zuzuweisen.

[[bsdinstall-zfs-partmenu]]
.Partitionierung unter FreeBSD
image::bsdinstall-zfs-partmenu.png[]

bsdinstall bietet dem Benutzer vier Methoden zur Zuweisung von Plattenplatz:

* `Auto (UFS)` richtet die Partitionen automatisch mit dem `UFS`-Dateisystems ein.
* `Manual` ermöglicht es fortgeschrittenen Benutzern, angepasste Partitionen über Menüoptionen zu erstellen.
* `Shell` öffnet eine Eingabeaufforderung, in der fortgeschrittene Benutzer angepasste Partitionen mit Werkzeugen wie man:gpart[8], man:fdisk[8] und man:bsdlabel[8] erstellen können.
* `Auto (ZFS)` erzeugt ein root-on-ZFS-System mit optionaler GELI-Verschlüsselung für Boot Environments.

Dieser Abschnitt beschreibt, was bei der Partitionierung der Platten zu beachten ist und wie die einzelnen Methoden zur Partitionierung angewendet werden.

[[configtuning-initial]]
=== Ein Partitionslayout entwerfen

Wenn Sie Dateisysteme anlegen, sollten Sie beachten, dass Festplatten auf Daten in den äußeren Spuren schneller zugreifen können als auf Daten in den inneren Spuren. Daher sollten die kleineren und oft benutzten Dateisysteme an den äußeren Rand der Platte gelegt werden. Die größeren Partitionen wie [.filename]#/usr# sollten in die inneren Bereiche gelegt werden. Es empfiehlt sich, die Partitionen in folgender Reihenfolge anzulegen: [.filename]#/#, swap, [.filename]#/var# und [.filename]#/usr#.

Die Größe der [.filename]#/var#-Partition ist abhängig vom Zweck der Maschine. Diese Partition enthält hauptsächlich Postfächer, Logdateien und Druckwarteschlangen. Abhängig von der Anzahl an Systembenutzern und der Aufbewahrungszeit für Logdateien, können Postfächer und Logdateien unerwartete Größen annehmen. Die meisten Benutzer benötigen nur selten mehr als ein Gigabyte für [.filename]#/var#.

[NOTE]
====
Ein paar Mal wird es vorkommen, dass viel Festplattenspeicher in [.filename]#/var/tmp# benötigt wird. Wenn neue Software mit man:pkg_add[1] installiert wird, extrahieren die Paketwerkzeuge eine vorübergehende Kopie der Pakete unter [.filename]#/var/tmp#. Die Installation großer Softwarepakete wie Firefox oder LibreOffice kann sich wegen zu wenig Speicherplatz in [.filename]#/var/tmp# als trickreich herausstellen.
====

Die [.filename]#/usr# Partition enthält viele der Hauptbestandteile des Systems, einschließlich der FreeBSD Ports-Sammlung und den Quellcode des Systems. Für diese Partition werden mindestens zwei Gigabyte empfohlen.

Behalten Sie bei der Auswahl der Partitionsgrößen den Platzbedarf im Auge. Wenn Sie den Platz auf einer Partition vollständig aufgebraucht haben, eine andere Partition aber kaum benutzen, kann die Handhabung des Systems schwierig werden.

Als Daumenregel sollten Sie doppelt soviel Speicher für die Swap-Partition vorsehen, als Sie Hauptspeicher haben, da die VM-Paging-Algorithmen im Kernel so eingestellt sind, dass sie am besten laufen, wenn die Swap-Partition mindestens doppelt so groß wie der Hauptspeicher ist. Zu wenig Swap kann zu einer Leistungsverminderung im VM page scanning Code führen, sowie Probleme verursachen, wenn später mehr Speicher in die Maschine eingebaut wird.

Auf größeren Systemen mit mehreren SCSI-, oder IDE-Laufwerken an unterschiedlichen Controllern, wird empfohlen, Swap-Bereiche auf bis zu vier Laufwerken einzurichten. Diese Swap-Partitionen sollten ungefähr dieselbe Größe haben. Der Kernel kann zwar mit beliebigen Größen umgehen, aber die internen Datenstrukturen skalieren bis zur vierfachen Größe der größten Partition. Ungefähr gleich große Swap-Partitionen erlauben es dem Kernel, den Swap-Bereich optimal über die Laufwerke zu verteilen. Große Swap-Bereiche, auch wenn sie nicht oft gebraucht werden, sind nützlich, da sich ein speicherfressendes Programm unter Umständen auch ohne einen Neustart des Systems beenden lässt.

Indem Sie ein System richtig partitionieren, verhindern Sie, dass eine Fragmentierung in den häufig beschriebenen Partitionen auf die meist nur gelesenen Partitionen übergreift. Wenn Sie die häufig beschriebenen Partitionen an den Rand der Platte legen, dann wird die I/O-Leistung dieser Partitionen steigen. Die I/O-Leistung ist natürlich auch für große Partitionen wichtig, doch erzielen Sie eine größere Leistungssteigerung, wenn Sie [.filename]#/var# an den Rand der Platte legen.

[[bsdinstall-part-guided]]
=== Geführte Partitionierung für UFS

Bei dieser Methode wird ein Menü die verfügbaren Platten anzeigen. Sollten mehrere Platten angeschlossen sein, wählen Sie diejenige aus, auf der FreeBSD installiert werden soll.

[[bsdinstall-part-guided-disk]]
.Aus mehreren Platten eine auswählen
image::bsdinstall-part-guided-disk.png[]

Nachdem Sie die Platte ausgewählt haben, fordert das nächste Menü dazu auf, entweder die gesamte Festplatte für die Installation zu nutzen oder eine Partition aus unbenutzten Speicherplatz zu erstellen. Ein allgemeines Partitionslayout, das die gesamte Platte einnimmt wird erstellt, wenn btn:[Entire Disk] ausgewählt wird. Durch die Wahl von btn:[Partition] wird ein Partitionslayout aus dem unbenutzten Speicherplatz der Platte erstellt.

[[bsdinstall-part-entire-part]]
.Auswahl der gesamten Platte oder einer Partition
image::bsdinstall-part-entire-part.png[]

Wenn btn:[Entire Disk] gewählt wurde, weist bsdinstall darauf hin, dass die Festplatte gelöscht wird.

[[bsdinstall-ufs-warning]]
.Bestätigung
image::bsdinstall-ufs-warning.png[]

Das nächste Menü zeigt eine Liste der verfügbaren Partitionsschemas. GPT ist ist normalerweise die geeignetste Wahl für amd64-Rechner. Ältere Rechner, die nicht mit GPT kompatibel sind, sollten MBR benutzen. Die anderen Partitionsschemas werden im Allgemeinen für ungewöhnliche oder ältere Rechner benutzt. Weitere Informationen finden Sie in <<partition-schemes>>.

[[bsdinstall-ufs-scheme]]
image::bsdinstall-part-manual-partscheme.png[]

Nachdem das Partitionslayout nun erstellt wurde, sollten Sie es überprüfen, um sicherzustellen, dass es die Bedürfnisse der Installation erfüllt. Durch die Auswahl von btn:[Revert] können die Partitionen wieder auf den ursprünglichen Wert zurückgesetzt werden und durch btn:[Auto] werden die automatischen FreeBSD Partitionen wiederhergestellt. Partitionen können auch manuell erstellt, geändert oder gelöscht werden. Sollte die Partitionierung richtig sein, wählen Sie btn:[Finish] aus, um mit der Installation fortzufahren.

[[bsdinstall-part-review]]
.Überprüfen der erstellten Partitionen
image::bsdinstall-part-review.png[]

Sobald die Festplatten konfiguriert sind, bietet das nächste Menü die letzte Möglichkeit, Änderungen vorzunehmen, bevor die ausgewählten Laufwerke formatiert werden. Wenn Änderungen vorgenommen werden müssen, wählen Sie btn:[Back], um zum Hauptmenü zurückzukehren. Mit btn:[Revert & Exit] wird das Installationsprogramm beendet, ohne Änderungen am Laufwerk vorzunehmen. Wählen Sie btn:[Commit], um die Installation zu starten.

[[bsdinstall-ufs-final-confirmation]]
.Abschließende Konfiguration
image::bsdinstall-final-confirmation.png[]

Um mit der Installation fortzufahren, gehen Sie zu <<bsdinstall-fetching-distribution>>.

[[bsdinstall-part-manual]]
=== Manuelle Partitionierung

Diese Methode öffnet den Partitionseditor:

[[bsdinstall-part-manual-create]]
.Partitionen manuell erstellen
image::bsdinstall-part-manual-create.png[]

Durch hervorheben einer Platte (in diesem Fall [.filename]#ada0#) und die Auswahl von btn:[Create], wird ein Menü mit den verfügbaren Partitionierungsschemas angezeigt.

[[bsdinstall-part-manual-partscheme]]
.Partitionen manuell anlegen
image::bsdinstall-part-manual-partscheme.png[]

GPT ist normalerweise die beste Wahl für amd64-Computer. Ältere Computer, die nicht mit GPT kompatibel sind, sollten MBR verwenden. Die anderen Partitionsschemas werden für gewöhnlich für ältere Computersysteme benutzt.

[[partition-schemes]]
.Partitionierungsschemas
[cols="1,1", frame="none", options="header"]
|===
<| Abkürzung
<| Beschreibung

|APM
|Apple Partition Map, verwendet von PowerPC(R).

|BSD
|BSD-Labels ohne einen MBR, manchmal auch "dangerously dedicated mode" genannt, da nicht-BSD Festplatten-Werkzeuge dies vielleicht nicht erkennen können.

|GPT
|GUID Partition Table (http://de.wikipedia.org/wiki/GUID_Partition_Table[http://en.wikipedia.org/wiki/GUID_Partition_Table]).

|MBR
|Master Boot Record (http://de.wikipedia.org/wiki/Master_Boot_Record[http://en.wikipedia.org/wiki/Master_boot_record]).

|VTOC8
|Volume Table Of Contents, von Sun SPARC64 und UltraSPARC Computern verwendet.
|===

Nachdem das Partitionierungsschema ausgewählt und erstellt wurde, werden durch erneute Auswahl von btn:[Create] die Partitionen erzeugt. Mit der kbd:[Tab]-Taste können Sie den Cursor zwischen den Feldern bewegen.

[[bsdinstall-part-manual-addpart]]
.Partitionen manuell erzeugen
image::bsdinstall-part-manual-addpart.png[]

Eine FreeBSD-Standardinstallation mit GPT legt mindestens die folgenden drei Partitionen an:

* `freebsd-boot` - Enthält den FreeBSD-Bootcode.
* `freebsd-ufs` - Ein FreeBSD UFS-Dateisystem.
* `freebsd-zfs` - Ein FreeBSD ZFS-Dateisystem. Weitere Informationen finden Sie in crossref:zfs[zfs,Das Z-Dateisystem (ZFS)].
* `freebsd-swap` - FreeBSD Auslagerungsbereich (swap space).

Die einzelnen GPT-Partitionstypen sind in man:gpart[8] dokumentiert.

Es können mehrere Dateisystempartitionen erzeugt werden und manche Leute ziehen es vor, ein traditionelles Layout mit getrennten Partitionen für die Dateisysteme [.filename]#/#, [.filename]#/var#, [.filename]#/tmp# und [.filename]#/usr# zu erstellen. Lesen Sie dazu <<bsdinstall-part-manual-splitfs>>, um ein Beispiel zu erhalten.

Größenangaben (`Size`) können mit gängigen Abkürzungen eingegeben werden: _K_ für Kilobytes, _M_ für Megabytes oder _G_ für Gigabytes.

[TIP]
====

Korrekte Sektorausrichtung ermöglicht größtmögliche Geschwindigkeit und das Anlegen von Partitionsgrößen als vielfaches von 4K-Bytes hilft, die passende Ausrichtung auf Platten mit entweder 512-Bytes oder 4K-Bytes Sektorgrößen, festzulegen. Generell sollte die Verwendung von Partitionsgrößen, die sogar vielfache von 1M oder 1G sind, den einfachsten Weg darstellen, um sicher zu stellen, dass jede Partition an einem vielfachen von 4K beginnt. Eine Ausnahme gibt es: momentan sollte die _freebsd-boot_-Partition aufgrund von Beschränkungen im Bootcode nicht größer sein als 512K.
====

Ein Einhägepunkt (`Mountpoint`) wird benötigt, falls diese Partition ein Dateisystem enthält. Falls nur eine einzelne UFS-Partition erstellt wird, sollte der Einhängepunkt [.filename]#/# lauten.

Ein `label` ist ein Name, durch den diese Partition angesprochen wird. Festplattennamen oder -nummern können sich ändern, falls die Platte einmal an einem anderen Controller oder Port angeschlossen sein sollte, doch das Partitionslabel ändert sich dadurch nicht. Anstatt auf Plattennamen und Partitionsnummern in Dateien wie [.filename]#/etc/fstab# zu verweisen, sorgen Labels dafür, dass das System Hardwareänderungen eher toleriert. GPT-Labels erscheinen in [.filename]#/dev/gpt/#, wenn eine Platte angeschlossen wird. Andere Partitionierungsschemas besitzen unterschiedliche Fähigkeiten, Labels zu verwenden und diese erscheinen in anderen [.filename]#/dev/#-Verzeichnissen.

[TIP]
====

Vergeben Sie ein einzigartiges Label für jede Partition, um Konflikte mit identischen Labels zu verhindern. Ein paar Buchstaben des Computernamens, dessen Verwendungszweck oder Ortes kann dem Label hinzugefügt werden. Beispielsweise `labroot` oder `rootfslab` für die UFS Root-Partition auf einem Laborrechner namens `lab`.
====

[[bsdinstall-part-manual-splitfs]]
.Ein traditionelles, partitioniertes Dateisystem erstellen
[example]
====

Für ein traditionelles Partitionslayout, in dem sich [.filename]#/#, [.filename]#/var#, [.filename]#/tmp# und [.filename]#/usr# in getrennten Partitionen befinden sollen, erstellen Sie ein GPT-Partitionsschema und anschließend die Partitionen selbst. Die gezeigten Partitionsgrößen sind typisch für eine Festplatte von 20 G. Falls mehr Platz verfügbar ist, sind größere Swap oder [.filename]#/var#-Partitionen nützlich. Den hier gezeigten Beschreibungen sind `bsp` für "Beispiel" vorangestellt, jedoch sollten Sie andere, einzigartige Beschreibungen verwenden, wie oben beschrieben.

Standardmäßig erwartet FreeBSDs [.filename]#gptboot#, dass die erste UFS-Partition die [.filename]#/#-Partition ist.

[.informaltable]
[cols="1,1,1,1", frame="none", options="header"]
|===
| Partitionstyp
| Grösse
| Eingehängt als
| Beschreibung

|`freebsd-boot`
|`512K`

|`freebsd-ufs`
|`2G`
|[.filename]#/#
|`bsprootfs`

|`freebsd-swap`
|`4G`
|`bspswap`

|`freebsd-ufs`
|`2G`
|[.filename]#/var#
|`bspvarfs`

|`freebsd-ufs`
|`1G`
|[.filename]#/tmp#
|`bsptmpfs`

|`freebsd-ufs`
|Akzeptieren Sie die Standardeinstellungen (Rest der Platte)
|[.filename]#/usr#
|`bspusrfs`
|===
====

Nachdem die Partitionen erzeugt wurden, wählen Sie btn:[Finish], um die Installation mit <<bsdinstall-fetching-distribution>> fortzusetzen.

[[bsdinstall-part-zfs]]
=== Geführte Partitionierung mit Root-on-ZFS

Dieser Modus funktioniert nur mit ganzen Laufwerken und wird alle vorhandenen Daten auf der Platte löschen. Das Konfigurationsmenü für ZFS bietet einige Optionen, um die Erstellung des Pools zu beeinflussen.

[[bsdinstall-zfs-menu]]
.ZFS Konfigurationsmenü
image::bsdinstall-zfs-menu.png[]

Hier eine Zusammenfassung der Optionen, die in diesem Menü benutzt werden können:

* `Install` - Setzt die Installation mit den ausgewählten Optionen fort.
* `Pool Type/Disks` - Erlaubt die Konfiguration des `Pool Type` und der Festplatte(n), die den Pool bilden werden. Das ZFS-Installationsprogramm unterstützt derzeit nur die Erstellung eines einzelnen Top-Level-Vdev, außer im Stripe-Modus. Um komplexere Pools zu erstellen, folgen Sie den Anweisungen in <<bsdinstall-part-shell>>, um den Pool zu erstellen.
* `Rescan Devices` - Aktualisiert die Liste der verfügbaren Festplatten.
* `Disk Info` - Dieses Menü wird verwendet, um Datenträger zu inspizieren, einschließlich ihrer Partitionstabelle und weitere Informationen wie die Modell- und Seriennummer des Geräts.
* `Pool Name` - Legt den Namen des Pools fest. Der Standard ist _zroot_.
* `Force 4K Sectors?` - Erzwingt die Verwendung von 4K-Sektoren. Im Standard erstellt die Installation automatisch Partitionen, die an 4K-Grenzen ausgerichtet sind. Bei ZFS wird die Verwendung von 4K-Sektoren erzwungen. Dies ist selbst bei Festplatten mit 512-Byte-Sektoren sicher und hat den zusätzlichen Vorteil, dass Pools, die auf solchen Festplatten mit erstellt werden, auch in Zukunft 4K-Sektoren haben können, entweder als zusätzlicher Speicherplatz oder als Ersatz für ausgefallene Platten. Drücken Sie kbd:[Enter], um die Verwendung von 4K-Sektoren zu konfigurieren.
* `Encrypt Disks?` - Das Verschlüsseln der Datenträger mit GELI. Weitere Informationen zur Datenträgerverschlüsselung finden Sie in crossref:disks[disks-encrypting-geli,“Plattenverschlüsselung mit geli”]. Drücken Sie kbd:[Enter] um eine Auswahl zu treffen.
* `Partition Scheme` - Erlaubt die Auswahl des Partitionsschemas. GPT ist die empfohlene Option. Drücken Sie kbd:[Enter], um zwischen den verschiedenen Optionen zu wählen.
* `Swap Size` - Legt die Größe des Swap-Speichers fest.
* `Mirror Swap?` - Erlaubt es, den Swap-Speicher zwischen den Platten zu spiegeln. Beachten Sie jedoch, dass die Aktivierung dazu führt, dass Crash Dumps nicht mehr funktionieren. Drücken Sie kbd:[Enter], um diese Option zu aktivieren/deaktivieren.
* `Encrypt Swap?` - Erlaubt es, den Swap-Speicher zu verschlüsseln. Der Swap-Speicher wird bei jedem Systemstart mit einem temporären Schlüssel verschlüsselt, der bei einem Neustart des Systems verworfen wird. Drücken Sie kbd:[Enter], diese Option zu aktivieren/deaktivieren. Weitere Informationen zur Verschlüsselung des Swap-Speichers finden Sie in crossref:disks[swap-encrypting,“Den Auslagerungsspeicher verschlüsseln”].

Wählen Sie kbd:[T] um den Pool Typ und die Festplatte(n) zu konfigurieren, die den Pool bilden werden.

[[bsdinstall-zfs-vdev_type]]
.ZFS Pool Typen
image::bsdinstall-zfs-vdev_type.png[]

Hier eine Zusammenfassung der Pool-Typen, die in diesem Menü ausgewählt werden können:

* `stripe` - Striping bietet maximalen Speicherplatz für alle angeschlossenen Geräte, aber keine Redundanz. Fällt eine Platte aus, sind die Daten im Pool unwiderruflich verloren.
* `mirror` - Bei der Spiegelung wird eine vollständige Kopie aller Daten auf jeder Platte gespeichert. Die Spiegelung bietet eine gute Leistung beim Lesen, da die Daten von allen Platten parallel gelesen werden. Die Leistung beim Schreiben ist langsamer, da die Daten auf alle Platten im Pool geschrieben werden müssen. Hiermit können alle Platten bis auf eine ausfallen. Diese Option erfordert mindestens zwei Platten.
* `raid10` - Striped Mirrors. Bieten die beste Leistung, aber den geringsten Speicherplatz. Diese Option erfordert mindestens eine gerade Anzahl von Platten und mindestens vier Platten.
* `raidz1` - Einzelnes redundantes RAID. Ermöglicht den Ausfall einer Platte. Für diese Option sind mindestens drei Festplatten erforderlich.
* `raidz2` - Doppeltes redundantes RAID. Ermöglicht den Ausfall von zwei Platten. Für diese Option sind mindestens vier Festplatten erforderlich.
* `raidz3` - Dreifaches redundantes RAID. Ermöglicht den Ausfall von drei Platten. Für diese Option sind mindestens fünf Festplatten erforderlich.

Sobald ein Pool-Typ (`Pool Type`) ausgewählt wurde, wird eine Liste der verfügbaren Laufwerke angezeigt und der Benutzer wird aufgefordert, eine oder mehrere Laufwerke für die Erstellung des Pools auszuwählen. Anschließend wie die Konfiguration geprüft um zu gewährleisten, dass genug Laufwerke ausgewählt wurden. Wählen Sie btn:[<Change Selection>] um zur Auswahl der Laufwerke zurückzukehren, oder btn:[<Back>] um den `Pool Type` zu ändern.

[[bsdinstall-zfs-disk_select]]
.Auswahl der Laufwerke
image::bsdinstall-zfs-disk_select.png[]

[[bsdinstall-zfs-vdev_invalid]]
.Ungültige Auswahl
image::bsdinstall-zfs-vdev_invalid.png[]

Wenn eine oder mehrere Platten in der Liste fehlen, oder wenn Festplatten angebunden wurden, nachdem das Installationsprogramm gestartet wurde, wählen Sie btn:[- Rescan Devices] um die Laufwerke nochmals zu suchen und anzuzeigen.

[[bsdinstall-zfs-rescan-devices]]
.Rescan Devices
image::bsdinstall-zfs-rescan-devices.png[]

Um zu vermeiden, dass versehentlich die falsche Platte gelöscht wird, können Sie das btn:[- Disk-Info]-Menü verwenden. Dieses Menü zeigt verschiedene Informationen, einschließlich der Partitionstabelle, der Modellnummer und der Seriennummer, falls verfügbar.

[[bsdinstall-zfs-disk_info]]
.Informationen zum Laufwerk
image::bsdinstall-zfs-disk_info.png[]

Wählen Sie kbd:[N], um den Pool-Namen zu konfigurieren. Geben Sie den gewünschten Namen ein und wählen Sie dann btn:[OK], um den Namen zu speichern, oder btn:[<Cancel>], um zum Hauptmenü zurückzukehren und den Standard zu belassen.

[[bsdinstall-zfs-pool-name]]
.Pool-Name
image::bsdinstall-zfs-pool-name.png[]

Wählen Sie kbd:[S], um die Größe des Swap-Speichers festzulegen. Geben Sie die gewünschte Größe ein und wählen Sie dann btn:[OK], um die Einstellung zu speichern, oder btn:[<Cancel>], um zum Hauptmenü zurückzukehren und den Standard zu belassen.

[[bsdinstall-zfs-swap-amount]]
.Größe des Swap-Speichers
image::bsdinstall-zfs-swap-amount.png[]

Wenn alle Optionen wie gewünscht konfiguriert sind, wählen Sie oben im Menü die Option btn:[>>> Install]. Das Installationsprogramm bietet dann eine letzte Chance zum Abbrechen, bevor der Inhalt der ausgewählten Laufwerke zerstört wird, um den ZFS-Pool zu erstellen.

[[bsdinstall-zfs-warning]]
.Letzte Chance!
image::bsdinstall-zfs-warning.png[]

Wenn die GELI Plattenverschlüsselung aktiviert wurde, fordert das Installationsprogramm zweimal zur Eingabe der Passphrase auf. Anschließend beginnt die Initialisierung der Verschlüsselung.

[[bsdinstall-zfs-geli_password]]
.Passwort für die Verschlüsselung der Platte
image::bsdinstall-zfs-geli_password.png[]

[[bsdinstall-zfs-init-encryption]]
.Initialisierung der Verschlüsselung
image::bsdinstall-zfs-init-encription.png[]

Danach wird die Installation normal weitergeführt. Um mit der Installation fortzufahren, lesen Sie <<bsdinstall-fetching-distribution>>.

[[bsdinstall-part-shell]]
=== Shell Partitionierung

bsdinstall bietet bei fortgeschrittenen Installationen womöglich nicht die benötigte Flexibilität. Erfahrene Benutzer können die Option btn:[Shell] im Menü auswählen, um die Laufwerke manuell zu partitionieren, Dateisysteme zu erstellen, [.filename]#/tmp/bsdinstall_etc/fstab# zu befüllen und Dateisysteme unter [.filename]#/mnt# einzuhängen. Geben Sie anschließend `exit` ein, um zu bsdinstall zurückzukehren und die Installation fortzusetzen.

[[bsdinstall-fetching-distribution]]
== Abrufen der Distributionen

Die Installationsdauer hängt von den gewählten Distributionen, dem Installationsmedium und der Geschwindigkeit des Computers ab. Eine Reihe von Nachrichten werden angezeigt, um den Fortschritt darzustellen.

Zunächst formatiert das Installationsprogramm die ausgewählten Platten und initialisiert die Partitionen. Bei `bootonly media` oder `mini memstick` werden als nächstes die benötigten Komponenten heruntergeladen:

[[bsdinstall-distfile-fetching]]
.Herunterladen der Distributionsdateien
image::bsdinstall-distfile-fetching.png[]

Als nächstes wird die Integrität der Distributionsdateien überprüft, um sicherzustellen, dass diese während des Ladevorgangs nicht beschädigt oder unsauber vom Installationsmedium gelesen wurden:

[[bsdinstall-distfile-verify]]
.Überprüfen der Distributionsdateien
image::bsdinstall-distfile-verifying.png[]

Zum Schluss werden die überprüften Distributionsdateien auf die Festplatte entpackt:

[[bsdinstall-distfile-extract]]
.Entpacken der Distributionsdateien
image::bsdinstall-distfile-extracting.png[]

Sobald alle benötigten Distributionsdateien entpackt wurden, wird bsdinstall das erste Menü für die Arbeiten nach der Installation anzeigen. Die zur Verfügung stehenden Konfigurationsoptionen werden im nächsten Abschnitt beschrieben.

[[bsdinstall-post]]
== Benutzerkonten, Zeitzone, Dienste und Sicherheitsoptionen

[[bsdinstall-post-root]]
=== Setzen des `root`-Passworts

Zuerst muss das `root`-Passwort gesetzt werden. Die eingegebenen Zeichen werden dabei nicht auf dem Bildschirm angezeigt. Nachdem das Passwort eingegeben wurde, muss es zur Bestätigung erneut eingetippt werden. Damit werden auch Tippfehler verhindert.

[[bsdinstall-post-set-root-passwd]]
.Das `root`-Passwort setzen
image::bsdinstall-post-root-passwd.png[]

[[bsdinstall-timezone]]
=== Setzen der Zeitzone

Die nächsten Menüs werden verwendet, um die korrekte Ortszeit zu ermitteln. Dazu muss die gewünschte geographische Region, das Land und die Zeitzone ausgewählt werden. Das Setzen der Zeitzone erlaubt es dem System automatische Korrekturen vorzunehmen, beispielsweise beim Wechsel von Sommer- auf Winterzeit.

Das hier gezeigte Beispiel bezieht sich auf einen Rechner in der Zeitzone des spanischen Festlands. Die Auswahl ist je nach geographischer Lage unterschiedlich.

[[bsdinstall-timezone-region]]
.Auswahl der geographischen Region
image::bsdinstall-timezone-region.png[]

[[bsdinstall-timezone-country]]
.Das Land auswählen
image::bsdinstall-timezone-country.png[]

Wählen Sie das zutreffende Land mit den Pfeiltasten und durch anschließendes drücken von kbd:[Enter] aus.

[[bsdinstall-timezone-zone]]
.Wählen einer Zeitzone
image::bsdinstall-timezone-zone.png[]

Die passende Zeitzone wird durch die Pfeiltasten und anschließendes drücken von kbd:[Enter] ausgewählt.

[[bsdinstall-timezone-confirmation]]
.Bestätigen der Zeitzone
image::bsdinstall-timezone-confirm.png[]

Bestätigen Sie, dass die Abkürzung für die Zeitzone korrekt ist.

[[bsdinstall-timezone-date]]
.Datum auswählen
image::bsdinstall-timezone-date.png[]

Das entsprechende Datum wird mit den Pfeiltasten und das anschließende Drücken von btn:[Set Date] gewählt. Andernfalls kann die Auswahl durch Drücken von btn:[Skip] übersprungen werden.

[[bsdinstall-timezone-time]]
.Uhrzeit auswählen
image::bsdinstall-timezone-time.png[]

Die entsprechende Uhrzeit wird mit den Pfeiltasten und das anschließende Drücken von btn:[Set Time] gewählt. Andernfalls kann die Auswahl durch Drücken von btn:[Skip] übersprungen werden.

[[bsdinstall-sysconf]]
=== Dienste aktivieren

Zusätzliche Systemdienste, die zur Startzeit aktiviert werden sollen, können im folgenden Menü eingeschaltet werden. All diese Dienste sind optional. Starten Sie nur die Dienste, die zur korrekten Funktion des Systems benötigt werden.

[[bsdinstall-config-serv]]
.Auswahl zusätzlicher Dienste
image::bsdinstall-config-services.png[]

Die folgenden Dienste können über dieses Menü aktiviert werden:

* `local_unbound` - Aktiviert den lokalen unbound DNS-Cache. Bedenken Sie, dass dies der Unbound des Basissystems ist und nur als lokaler Cache-Forwarding-Resolver gedacht ist. Möchten Sie einen DNS-Server für das gesamte Netzwerk einrichten, installieren Sie bitte package:dns/unbound[].
* `sshd` - Der Secure Shell (SSH)-Daemon für Fernzugriff über eine verschlüsselte Verbindung. Aktivieren Sie diesen Dienst nur dann, wenn das System für Fernzugriff zur Verfügung stehen soll.
* `moused` - Aktivieren Sie diesen Dienst, wenn Sie Mausunterstützung auf der Systemkonsole benötigen.
* `ntpdate` - Aktiviert die automatische Synchronisation der Uhrzeit beim booten. Diese Funktionalität ist ebenfalls im man:ntpd[8]-Daemon verfügbar. In naher Zukunft soll das Programm man:ntpdate[8] entfernt werden.
* `ntpd` - Der Network Time Protocol (NTP)-Daemon zur automatischen Uhrzeitsynchronisation. Aktivieren Sie diesen Dienst, wenn es im Netzwerk einen Windows(R)-, Kerberos- oder LDAP-Server gibt.
* `powerd` - Systemwerkzeug zur Leistungsregelung und für Stromsparfunktionen.
* `dumpdev` - Aktiviert die Absturzaufzeichnung, welche sehr nützlich sein kann, um Systemfehler aufzuspüren. Daher wird Anwendern empfohlen, diese Option zu aktivieren.

[[bsdinstall-hardening]]
=== Aktivieren von Sicherheitsoptionen

Im nächsten Menü können Sicherheitsoptionen aktiviert werden. Alle diese Optionen sind optional. Es wird jedoch empfohlen, sie zu aktivieren.

[[bsdinstall-hardening-options]]
.Auswahl der Sicherheitsoptionen
image::bsdinstall-hardening.png[]

Folgende Optionen können in diesem Menü aktiviert werden:

* `hide_uids` - Versteckt die Prozesse von anderen Benutzern, um zu verhindern, dass unprivilegierte Benutzer laufende Prozesse von anderen Benutzern (UID) sehen können.
* `hide_gids` - Versteckt die Prozesse anderer Gruppen, um zu verhindern, dass unprivilegierte Benutzer laufende Prozesse von anderen Gruppen (GID) sehen können.
* `hide_jails` - Versteckt Jail-Prozesse, um zu verhindern, dass unprivilegierte Benutzer die in den Jails laufenden Prozesse sehen können.
* `read_msgbuf` - Deaktiviert den Lesezugriff auf den Nachrichtenpuffer des Kernels für nicht privilegierte Benutzer. Dadurch wird verhindert, dass man:dmesg[8] zum Anzeigen von Nachrichten aus dem Nachrichtenpuffer des Kernels verwendet wird.
* `proc_debug` - Die Deaktivierung von Prozess-Debugging-Funktionen für unprivilegierte Benutzer deaktiviert einige IPC-Dienste und procfs-Funktionen, ptrace() und ktrace(). Beachten Sie, dass dadurch auch die Nutzung von Werkzeugen wie man:lldb[1], man:truss[1], man:procstat[1] und einige Debugging-Funktionen von Skriptsprachen wie PHP, für unprivilegierte Benutzer unterbunden wird.
* `random_pid` - Zufällig generierte PID für neu erstellte Prozesse.
* `clear_tmp` - Bereinigt das Verzeichnis [.filename]#/tmp# beim Systemstart.
* `disable_syslogd` - Diese Option verhindert, dass syslogd einen Netzwerk-Socket öffnet. In der Voreinstellung startet FreeBSD syslogd auf sichere Weise mit `-s`. Das verhindert, dass der Daemon auf Port 514 auf UDP-Anfragen lauscht. Wenn diese Option aktiviert ist, läuft syslogd mit dem Schalter `-ss`, dass syslogd daran hindert, einen Port zu öffnen. Weitere Informationen finden Sie in man:syslogd[8].
* `disable_sendmail` - Deaktiviert den sendmail MTA.
* `secure_console` - Wenn diese Option aktiviert ist, fragt das System im Single-User-Modus nach dem `root"`-Passwort.
* `disable_ddtrace` - DTrace kann in einem Modus laufen, der sich tatsächlich auf den laufenden Kernel auswirkt. Destruktive Aktionen dürfen nicht benutzt werden, es sei denn, sie wurden explizit aktiviert. Um diese Option bei der Verwendung von DTrace zu aktivieren, benutzen Sie `-w`. Weitere Informationen finden Sie in man:dtrace[1].

[[bsdinstall-addusers]]
=== Benutzer hinzufügen

Das nächste Menü fordert Sie dazu auf, mindestens ein Benutzerkonto zu erstellen. Es wird empfohlen, sich als normaler Benutzer am System anzumelden und nicht als `root`-Benutzer. Wenn man als `root` angemeldet ist, gibt es so gut wie keine Beschränkungen oder Schutz vor dem, was man tun kann. Die Anmeldung als normaler Benutzer ist daher sicherer und bietet mehr Schutz.

Wählen Sie btn:[Yes], um neue Benutzer hinzuzufügen.

[[bsdinstall-add-user1]]
.Benutzerkonten hinzufügen
image::bsdinstall-adduser1.png[]

Folgen Sie den Anweisungen und geben Sie die angeforderten Informationen für das Benutzerkonto ein. Das Beispiel in <<bsdinstall-add-user2>> erstellt ein Konto für den Benutzer `asample`.

[[bsdinstall-add-user2]]
.Benutzerinformationen eingeben
image::bsdinstall-adduser2.png[]

Die folgenden Informationen müssen eingegeben werden:

* `Username` - Der Name des Benutzers, den man zur Anmeldung eingeben muss. Es ist üblich, den ersten Buchstaben des Vornamens zusammen mit dem Nachnamen zu kombinieren. Jeder Benutzername ist möglich, solange er für das System einzigartig ist. Es wird zwischen Groß- und Kleinschreibung unterschieden und der Benutzername sollte keine Leerzeichen enthalten.
* `Full name` - Der volle Name des Benutzers. Dieser darf auch Leerzeichen enthalten und dient als Beschreibung für das Benutzerkonto.
* `Uid` - User ID. Normalerweise wird dieses Feld leer gelassen, so dass das System einen Wert vergibt.
* `Login group` - Die Benutzergruppe. Normalerweise bleibt dieses Feld leer, um die Standardgruppe zu akzeptieren.
* `Invite _user_ into other groups?` - Zusätzliche Gruppen zu denen der Benutzer als Mitglied hinzugefügt werden soll. Falls der Benutzer administrativen Zugriff benötigt, tragen Sie hier `wheel` ein.
* `Login class` - In der Regel bleibt dieses Feld leer.
* `Shell` - Die interaktive Shell für diesen Benutzer. Tragen Sie hier eine der aufgeführten Shells ein. Weitere Informationen über Shells finden Sie im crossref:basics[shells,“Shells”].
* `Home directory` - Das Heimatverzeichnis des Benutzers. Die Vorgabe ist für gewöhnlich richtig.
* `Home directory permissions` - Zugriffsrechte auf das Heimatverzeichnis des Benutzers. Die Vorgabe ist normalerweise die passende.
* `Use password-based authentication?` - Normalerweise `yes`, damit der Benutzer bei der Anmeldung sein Passwort eingeben muss.
* `Use an empty password?` - Normalerweise `no`, da ein leeres Passwort unsicher ist.
* `Use a random password?` - Normalerweise `no`, damit der Benutzer sein Passwort am nächsten Prompt selber vergeben kann.
* `Enter password` - Das Passwort für diesen Benutzer. Eingegebene Zeichen werden nicht am Bildschirm angezeigt.
* `Enter password again` - Das Passwort muss zur Überprüfung erneut eingegeben werden.
* `Lock out the account after creation?` - Normalerweise `no`, damit sich der Benutzer anmelden kann.

Nachdem alles eingegeben wurde, wird eine Zusammenfassung angezeigt und das System fragt Sie, dies so korrekt ist. Falls ein Eingabefehler gemacht wurde, geben Sie `no` ein und versuchen es erneut. Falls alles in Ordnung ist, geben Sie `yes` ein, um den neuen Benutzer anzulegen.

[[bsdinstall-add-user3]]
.Verlassen der Benutzer- und Gruppenverwaltung
image::bsdinstall-adduser3.png[]

Falls es mehr Benutzer hinzuzufügen gibt, beantworten Sie die Frage `Add another user?` mit `yes`. Geben Sie `no` ein, wird das hinzufügen von Benutzern beendet und die Installation fortgesetzt.

Für weitere Informationen zum hinzufügen von Benutzern und deren Verwaltung, lesen Sie crossref:basics[users-synopsis,“Benutzer und grundlegende Account-Verwaltung”].

[[bsdinstall-final-conf]]
=== Letzte Konfigurationsschritte

Nachdem alles installiert und konfiguriert wurde, bekommen Sie noch eine letzte Chance, um Einstellungen zu verändern.

[[bsdinstall-final-config]]
.Letzte Schritte der Konfiguration
image::bsdinstall-finalconfiguration.png[]

Verwenden Sie dieses Menü, um noch letzte Änderungen oder zusätzliche Konfigurationen vor dem Abschließen der Installation zu tätigen.

* `Add User` - Beschrieben in <<bsdinstall-addusers>>.
* `Root Password` - Beschrieben in <<bsdinstall-post-root>>.
* `Hostname` - Beschrieben in <<bsdinstall-hostname>>.
* `Network` - Beschrieben in <<bsdinstall-config-network-dev>>.
* `Services` - Beschrieben in <<bsdinstall-sysconf>>.
* `Time Zone` - Beschrieben in <<bsdinstall-timezone>>.
* `Handbook` - Herunterladen und installieren des FreeBSD Handbuchs.

Nachdem die letzten Konfigurationsschritte beendet sind, wählen Sie btn:[Exit].

[[bsdinstall-final-modification-shell]]
.Manuelle Konfiguration
image::bsdinstall-final-modification-shell.png[]

bsdinstall wird nach zusätzlichen Konfigurationen, die noch zu tätigen sind, fragen, bevor in das neue System gebootet wird. Wählen Sie btn:[Yes], um in eine Shell innerhalb des neuen Systems zu wechseln oder btn:[No], um mit dem letzten Schritt der Installation zu beginnen.

[[bsdinstall-final-main]]
.Die Installation vervollständigen
image::bsdinstall-mainexit.png[]

Wenn weitere Konfigurationen oder besondere Einstellungen benötigt werden, wählen Sie btn:[Live CD], um das Installationsmedium im Live-CD Modus zu starten.

Wenn die Installation vollständig ist, wählen Sie btn:[Reboot], um den Computer neu zu starten und das neu installierte FreeBSD-System zu booten. Vergessen Sie nicht, das FreeBSD Installationsmedium zu entfernen, oder der Computer wird erneut davon starten.

Wenn FreeBSD startet, werden viele Informationsmeldungen ausgegeben. Nachdem das System den Startvorgang abgeschlossen hat, wird eine Anmeldeaufforderung angezeigt. Geben Sie am `login:` den Benutzernamen ein, den Sie während der Installation hinzugefügt haben. Vermeiden Sie es, sich als `root` anzumelden. Lesen Sie crossref:basics[users-superuser,“Der Superuser-Account”], wenn Sie administrativen Zugriff benötigen.

Um Nachrichten, die während des Bootens angezeigt wurden, zu sehen, aktivieren Sie durch drücken von kbd:[Scroll-Lock] den _scroll-back buffer_. Die Tasten kbd:[PgUp], kbd:[PgDn] und die Pfeiltasten dienen zur Navigation durch die Nachrichten. Durch erneutes drücken von kbd:[Scroll-Lock] wird der Bildschirm wieder entsperrt und kehrt zur normalen Anzeige zurück. Mit `less /var/run/dmesg.boot` können Sie sich diese Nachrichten im laufenden Betrieb ansehen. Durch drücken von kbd:[q] kehren Sie wieder zur Kommandozeile zurück.

Wenn sshd in <<bsdinstall-config-serv>> aktiviert wurde, ist der erste Start ein bisschen langsamer, weil das System die RSA- und DSA-Schlüssel erzeugen muss. Die nachfolgenden Startvorgänge werden dann wieder schneller sein. Wie in diesem Beispiel zu sehen ist, werden die Fingerabdrücke der Schlüssel am Bildschirm ausgegeben:

[source,bash]
....
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
10:a0:f5:af:93:ae:a3:1a:b2:bb:3c:35:d9:5a:b3:f3 root@machine3.example.com
The key's randomart image is:
+--[RSA1 1024]----+
|    o..          |
|   o . .         |
|  .   o          |
|       o         |
|    o   S        |
|   + + o         |
|o . + *          |
|o+ ..+ .         |
|==o..o+E         |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
7e:1c:ce:dc:8a:3a:18:13:5b:34:b5:cf:d9:d1:47:b2 root@machine3.example.com
The key's randomart image is:
+--[ DSA 1024]----+
|       ..     . .|
|      o  .   . + |
|     . ..   . E .|
|    . .  o o . . |
|     +  S = .    |
|    +  . = o     |
|     +  . * .    |
|    . .  o .     |
|      .o. .      |
+-----------------+
Starting sshd.
....

Lesen Sie crossref:security[openssh,"OpenSSH"] für weitere Informationen zu Fingerabdrücken und SSH.

FreeBSD installiert standardmäßig keine graphische Umgebung. crossref:x11[x11,Das X-Window-System] enthält Informationen zur Installation und Konfiguration eines graphischen Window Managers.

Das korrekte herunterfahren eines FreeBSD-Computers hilft, beugt dem Datenverlust vor und schützt sogar die Hardware vor Schäden. _Schalten Sie nicht den Strom ab, bevor das System ordnungsgemäß heruntergefahren wurde!_ Wenn der Benutzer ein Mitglied der `wheel`-Gruppe ist, können Sie zum Superuser durch die Eingabe von `su` und der anschließenden Eingabe des Passworts von `root` werden. Geben Sie dann `shutdown -p now` ein. Das System wird jetzt sauber heruntergefahren und, falls die Hardware es unterstützt, den Rechner ausschalten.

[[bsdinstall-network]]
== Netzwerkschnittstellen

[[bsdinstall-config-network-dev]]
=== Die Netzwerkschnittstelle konfigurieren

Als nächstes wird eine Liste der gefundenen Netzwerkschnittstellen gezeigt. Wählen Sie die Schnittstelle aus, die Sie konfigurieren möchten.

[[bsdinstall-configure-net-interface]]
.Eine zu konfigurierende Netzwerkschnittstelle auswählen
image::bsdinstall-configure-network-interface.png[]

Wenn Sie eine Ethernet-Schnittstelle ausgewählt haben, fährt das Installationsprogramm mit dem Menü aus <<bsdinstall-configure-net-ipv4>> fort. Wenn Sie eine drahtlose Netzwerkschnittstelle ausgewählt haben, wird das System nach drahtlosen Zugriffspunkten (Access Points) suchen:

[[bsdinstall-wireless-scan]]
.Nach drahtlosen Access Points scannen
image::bsdinstall-configure-wireless-scan.png[]

Drahtlose Netzwerke werden durch einen Service Set Identifier (SSID) identifiziert. Der SSID ist ein kurzer, eindeutiger Name, der für jedes Netzwerk vergeben wird. SSIDs, die während des Scans gefunden wurden, werden aufgelistet, gefolgt von einer Beschreibung der Verschlüsselungsarten, die für dieses Netzwerk verfügbar sind. Falls die gewünschte SSID nicht in der Liste auftaucht, wählen Sie btn:[Rescan], um erneut einen Scanvorgang durchzuführen. Falls dann das gewünschte Netzwerk immer noch nicht erscheint, überprüfen Sie die Antenne auf Verbindungsprobleme oder versuchen Sie, näher an den Access point zu gelangen. Scannen Sie erneut nach jeder vorgenommenen Änderung.

[[bsdinstall-wireless-accesspoints]]
.Ein drahtloses Netzwerk auswählen
image::bsdinstall-configure-wireless-accesspoints.png[]

Geben Sie nun die Verschlüsselungsinformationen ein, um sich mit dem drahtlosen Netzwerk zu verbinden. WPA2 wird als Verschlüsselung dringend empfohlen, da ältere Verschlüsselungsmethoden, wie WEP, nur wenig Sicherheit bieten. Wenn das Netzwerk WPA2 verwendet, geben Sie das Passwort (auch bekannt als Pre-Shared Key PSK) ein. Aus Sicherheitsgründen werden die in das Eingabefeld eingegeben Zeichen nur als Sternchen angezeigt.

[[bsdinstall-wireless-wpa2]]
.Verbindungsaufbau mit WPA2
image::bsdinstall-configure-wireless-wpa2setup.png[]

Wählen Sie, ob eine IPv4-Adresse auf der Ethernet-Schnittstelle oder der drahtlosen Schnittstelle konfiguriert werden soll.

[[bsdinstall-configure-net-ipv4]]
.Auswahl von IPv4
image::bsdinstall-configure-network-interface-ipv4.png[]

Es gibt zwei Arten, ein IPv4-Netzwerk zu konfigurieren. DHCP wird automatisch die Netzwerkschnittstelle richtig konfigurieren und sollte verwendet werden, wenn das Netzwerk über einen DHCP-Server verfügt. Eine _statische_ IP-Konfiguration erfordert die manuelle Eingabe von Netzwerkinformationen.

[NOTE]
====
Geben Sie keine zufällig gewählten Netzwerkinformationen ein, da dies nicht funktionieren wird. Holen Sie sich die in <<bsdinstall-collect-network-information,Erforderliche Informationen zum Netzwerk>> gezeigten Informationen vom Netzwerkadministrator oder Serviceprovider, falls kein DHCP-Server verfügbar ist.
====

Falls ein DHCP-Server zur Verfügung steht, wählen Sie im nächsten Menü btn:[Yes], um die Netzwerkschnittstelle automatisch einrichten zu lassen. Dieser Vorgang kann einige Sekunden dauern.

[[bsdinstall-net-ipv4-dhcp]]
.Auswählen der IPv4-Konfiguration über DHCP
image::bsdinstall-configure-network-interface-ipv4-dhcp.png[]

Wenn kein DHCP-Server zur Verfügung steht, wählen Sie btn:[No] und tragen Sie die folgenden Informationen in das Menü ein:

[[bsdinstall-net-ipv4-static]]
.Statische IPv4-Konfiguration
image::bsdinstall-configure-network-interface-ipv4-static.png[]

* `IP Address` - Die IPv4-Adresse, welche diesem Computer zugewiesen werden soll. Diese Adresse muss eindeutig sein und darf nicht bereits von einem anderen Gerät im lokalen Netzwerk verwendet werden.
* `Subnet Mask` - Die Subnetzmaske des Netzwerks.
* `Default Router` - Die IP-Adresse des Defaultrouters im Netzwerk.

Das nächste Menü fragt, ob die Schnittstelle für IPv6 konfiguriert werden soll. Falls IPv6 verfügbar ist und verwendet werden soll, wählen Sie btn:[Yes] aus.

[[bsdinstall-net-ipv6]]
.Auswahl von IPv6
image::bsdinstall-configure-network-interface-ipv6.png[]

IPv6 besitzt ebenfalls zwei Arten der Konfiguration. _StateLess Address AutoConfiguration_, (SLAAC) wird automatisch die richtigen Informationen von einem lokalen Router abfragen. Lesen Sie http://tools.ietf.org/html/rfc4862[http://tools.ietf.org/html/rfc4862] für weitere Informationen. Eine _statische_ Konfiguration verlangt die manuelle Eingabe von Netzwerkinformationen.

Wenn ein IPv6-Router verfügbar ist, wählen Sie im nächsten Menü btn:[Yes], um die Netzwerkschnittstelle automatisch konfigurieren zu lassen.

[[bsdinstall-net-ipv6-slaac]]
.Auswahl der IPv6SLAAC-Konfiguration
image::bsdinstall-configure-network-interface-slaac.png[]

Wenn kein IPv6-Router zur Verfügung steht, wählen Sie btn:[No] und tragen Sie die folgenden Adressinformationen in dieses Menü ein:

[[bsdinstall-net-ipv6-static]]
.Statische IPv6-Konfiguration
image::bsdinstall-configure-network-interface-ipv6-static.png[]

* `IPv6 Address` - Die zugewiesene IPv6-Adresse, welche dem Computer zugeteilt werden soll. Diese Adresse muss eindeutig sein und nicht bereits von einer anderen Netzwerkkomponente im lokalen Netzwerk verwendet werden.
* `Default Router` - Die IPv6-Adresse des Defaultrouters im Netzwerk.

Das letzte Menü der Netzwerkkonfiguration konfiguriert den _Domain Name System_ (DNS) Resolver, welcher Hostnamen von und zu Netzwerkadressen umwandelt. Falls DHCP oder SLAAC verwendet wurde, um die Netzwerkschnittstelle zu konfigurieren, ist die Konfiguration für den Resolver möglicherweise bereits eingetragen. Andernfalls geben Sie den lokalen Netzwerkdomänennamen in das Feld `Search` ein. `DNS #1` und `DNS #2` sind die IPv4- und/oder IPv6-Adressen der lokalen DNS-Server. Zumindest ein DNS-Server wird benötigt.

[[bsdinstall-net-dns-config]]
.DNS-Konfiguration
image::bsdinstall-configure-network-ipv4-dns.png[]

Sobald die Schnittstelle konfiguriert ist, bestimmen Sie einen Spiegelserver, welcher in der gleichen Region auf der Welt beheimatet ist, wie der Computer, auf dem FreeBSD installiert wird. Dateien können so viel schneller übertragen werden, wenn der Spiegelserver sich näher am Zielcomputer befindet und die Installationszeit wird somit reduziert.

[[bsdinstall-netinstall-mirror]]
.Einen Spiegelserver wählen
image::bsdinstall-netinstall-mirrorselect.png[]

[[bsdinstall-install-trouble]]
== Fehlerbehebung

Dieser Abschnitt behandelt einfache Fehlerbehebungen für die Installation, wie beispielsweise häufig auftretende Fehler, die von Anwendern berichtet wurden.

Überprüfen Sie die Hardware Notes (link:https://www.FreeBSD.org/releases/[https://www.freebsd.org/releases/]) nach der Version von FreeBSD, um sicher zu stellen, dass die Hardware auch unterstützt wird. Wenn die Hardware unterstützt wird und Sie immer noch Abstürze oder andere Probleme erleben, müssen Sie einen eigenen Kernel bauen. Diese Prozedur wird in crossref:kernelconfig[kernelconfig,Konfiguration des FreeBSD-Kernels ] beschrieben. Das erlaubt es, Unterstützung für Geräte, die im [.filename]#GENERIC#-Kernel nicht vorhanden sind, hinzuzufügen. Der Kernel ist mit der Annahme konfiguriert, dass die Hardwaregeräte sich in ihren Fabrikeinstellungen in Bezug auf IRQs, I/O-Adressen und DMA-Kanälen befinden. Wenn die Hardware neu konfiguriert wurde, werden Sie möglicherweise die Konfiguration des Kernels bearbeiten und diesen neu erstellen müssen, um FreeBSD mitzuteilen, wo es gewisse Dinge finden kann.

[NOTE]
====
Manche Installationsprobleme können Aktualisierung der Firmware auf verschiedenen Hardwarekomponenten verhindert oder verringert werden, meistens am Mainboard. Mit Mainboard-Firmware ist für gewöhnlich das BIOS gemeint. Die meisten Mainboard- und Computerhersteller haben eine Webseite mit Aktualisierungen und Informationen zur Durchführung.

Hersteller raten meist von einer Aktualisierung des Mainboard-BIOS ab, außer es gibt einen guten Grund dafür, wie beispielsweise eine kritische Aktualisierung. Der Aktualisierungsvorgang _kann_ schiefgehen, was das BIOS unvollständig macht und den Computer nicht mehr starten lässt.
====

Wenn das System während der Geräteerkennung beim Starten hängt oder sich während der Installation merkwürdig verhält, ist ACPI vielleicht der Übeltäter. FreeBSD macht auf i386- und amd64-Plattformen starken Gebrauch vom ACPI-Dienst, um dem System bei der Konfiguration während des Startvorgangs zu helfen. Leider existieren immer noch Fehler im ACPI-Treiber, in den Mainboards und der BIOS-Firmware. ACPI kann durch setzen der Einstellung `hint.acpi.0.disabled` im dritten Teil des Bootloaders deaktiviert werden:

[source,bash]
....
 set hint.acpi.0.disabled="1"
....

Dies wird nach jedem Neustart des Systems wieder zurückgesetzt, also ist es notwendig, die Zeile `hint.acpi.0.disabled="1"` zu der Datei [.filename]#/boot/loader.conf# hinzuzufügen. Weitere Informationen über den Bootloader lassen sich in crossref:boot[boot-synopsis,“Übersicht”] nachlesen.

[[using-live-cd]]
== Verwendung der Live-CD

Das Willkommensmenü von bsdinstall, welches in <<bsdinstall-choose-mode>> gezeigt wird, enthält eine btn:[Live CD] Option. Die Live-CD ist für Benutzer, die sich fragen, ob FreeBSD das richtige Betriebssystem für sie ist und die vor der Installation noch einige Merkmale und Eigenschaften testen wollen.

Die folgenden Punkte sollten beachtet werden, bevor die btn:[Live CD] benutzt wird:

* Um Zugriff auf das System zu bekommen, wird eine Authentifizierung benötigt. Der Benutzername ist `root` und das Kennwort bleibt leer.
* Da das System direkt von dem Installationsmedium ausgeführt wird, ist die Geschwindigkeit deutlich langsamer als bei einem System, das auf einer Festplatte installiert ist.
* Diese Option enthält nur eine Eingabeaufforderung und keine graphische Oberfläche.
