<?xml version="1.0" encoding="iso-8859-1"?>
<!-- Copyright (c) 2000 Nik Clayton, All rights reserved.

     Redistribution and use in source (SGML DocBook) and 'compiled' forms
     (SGML HTML, PDF, PostScript, RTF and so forth) with or without
     modification, are permitted provided that the following conditions
     are met:

      1.  Redistributions of source code (SGML DocBook) must retain the above
	 copyright notice, this list of conditions and the following
	 disclaimer as the first lines of this file unmodified.

      2.  Redistributions in compiled form (transformed to other DTDs,
	 converted to PDF, PostScript, RTF and other formats) must reproduce
	 the above copyright notice, this list of conditions and the
	 following disclaimer in the documentation and/or other materials
	 provided with the distribution.

     THIS DOCUMENTATION IS PROVIDED BY NIK CLAYTON "AS IS" AND ANY EXPRESS OR
     IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
     OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     DISCLAIMED.  IN NO EVENT SHALL NIK CLAYTON BE LIABLE FOR ANY DIRECT,
     INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
     (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
     SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
     HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
     STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
     ANY WAY OUT OF THE USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE
     POSSIBILITY OF SUCH DAMAGE.

     The FreeBSD Documentation Project
     The FreeBSD Brazilian Portuguese Documentation Project
 
     $FreeBSD$

     Original revision: r38847

-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="examples">
  <title>Exemplos</title>

  <para>Este apêndice contém arquivos SGML de exemplo 
    e linhas de comando que você pode utilizar para 
    convertê-los de um formato para outro.  Se você 
    instalou com sucesso as ferramentas do Projeto de 
    Documentação, então você será 
    capaz de utilizar estes exemplos imediatamente.</para>

  <para>Estes exemplos não são exaustivos &mdash; eles 
    não contêm todos os elementos que você pode 
    utilizar, particularmente para a capa do seu documento.  Para 
    maiores exemplos de marcação DocBook você 
    deve examinar o código SGML deste e de outros documentos, 
    disponíveis no repositório <literal>doc</literal> 
    do <application>svn</application>, ou disponíveis online 
    no endereço 
    <uri xlink:href="http://svnweb.FreeBSD.org/doc/">http://svnweb.FreeBSD.org/doc/</uri>.
    </para>

  <para>Para evitar confusão, estes exemplos utilizam a 
    especificação DocBook 4.1 DTD sem nenhuma 
    extensão particular adicionada pelo FreeBSD.  Eles 
    também utilizam as folhas de estilo padrões 
    distribuídas pelo Norm Walsh, sem nenhuma 
    customização feita nas mesmas pelo Projeto de 
    Documentação do FreeBSD.  Isto os torna mais 
    úteis como exemplos genéricos de 
    marcação DocBook.</para>


  <sect1 xml:id="examples-docbook-book">
    <title>DockBook <tag>book</tag></title>

    <example>
      <title>DocBook <tag>book</tag></title>

      <programlisting><![CDATA[<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook V4.1//EN">

<book>
  <bookinfo>
    <title>Um exemplo de Livro</title>
    
    <author>
      <firstname>Seu nome</firstname>
      <surname>Seu sobrenome</surname>
      <affiliation>
        <address><email>seuemail@example.com</email></address>
      </affiliation>
    </author>

    <copyright>
      <year>2000</year>
      <holder>Texto de Copyright</holder>
    </copyright>

    <abstract>
      <para>Se seu livro possui um sumário ele deve ser colocado aqui.</para>
    </abstract>
  </bookinfo>

  <preface>
    <title>Prefácio</title>

    <para>Seu livro pode ter um prefácio, se este for o caso, ele deve
      ser colocado aqui.</para>
  </preface>
      
  <chapter>
    <title>Meu primeiro capítulo</title>

    <para>Este é o primeiro capítulo do meu livro.</para>

    <sect1>
      <title>Minha primeira seção</title>

      <para>Esta é a primeira seção do meu livro.</para>
    </sect1>
  </chapter>
</book>]]></programlisting>
    </example>
  </sect1>

  <sect1 xml:id="examples-docbook-article">
    <title>DocBook <tag>article</tag></title>

    <example>
      <title>DocBook <tag>article</tag></title>

      <programlisting><![CDATA[<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook V4.1//EN">

<article>
  <articleinfo>
    <title>Um exemplo de Artigo</title>

    <author>
      <firstname>Seu nome</firstname>
      <surname>Seu sobrenome</surname>
      <affiliation>
        <address><email>seuemail@example.com</email></address>
      </affiliation>
    </author>

    <copyright>
      <year>2000</year>
      <holder>Texto de Copyright</holder>
    </copyright>

    <abstract>
      <para>Se o seu artigo possuir um sumário ele deve ser colocado aqui.</para>
    </abstract>
  </articleinfo>

  <sect1>
    <title>Minha primeira seção</title>

    <para>Esta é a primeira seção do meu artigo.</para>

    <sect2>
      <title>Minha primeira subseção</title>

      <para>Esta é a primeira subseção do meu artigo.</para>
    </sect2>	
  </sect1>
</article>]]></programlisting>
    </example>
  </sect1>

  <sect1 xml:id="examples-formatted">
    <title>Produzindo saídas formatadas</title>

    <para>Esta seção assume que você já 
      instalou os softwares listados no port <package>textproc/docproj</package>, seja via meta-port 
      ou manualmente.  Além disso, ela também assume 
      que os seus softwares estão instalados em 
      subdiretórios sob o <filename>/usr/local/</filename>, 
      e que os diretórios nos quais os binários foram 
      instalados, estão mapeados no seu <envar>PATH</envar>.  
      Ajuste os paths conforme a necessidade do seu sistema.</para>

    <sect2>
      <title>Usando o Jade</title>

      <example>
	<title>Convertendo de DocBook para HTML (em um único 
	  grande arquivo)</title>
	
	<screen>&prompt.user; <userinput>jade -V nochunks \  <co xml:id="examples-co-jade-1-nochunks"/>
    -c /usr/local/share/xml/docbook/dsssl/modular/catalog \ <co xml:id="examples-co-jade-1-catalog"/>
    -c /usr/local/share/xml/docbook/catalog \
    -c /usr/local/share/xml/jade/catalog \
    -d /usr/local/share/xml/docbook/dsssl/modular/html/docbook.dsl \<co xml:id="examples-co-jade-1-dsssl"/>
    -t sgml <co xml:id="examples-co-jade-1-transform"/> file.xml &gt; file.html <co xml:id="examples-co-jade-1-filename"/></userinput></screen>

	<calloutlist>
	  <callout arearefs="examples-co-jade-1-nochunks">
	    <para>Especifique o parâmetro <literal>nochunks
	      </literal> para as folhas de estilo, forçando 
	      que todos os outputs sejam escritos para a saída
	      padrão (<abbrev>STDOUT</abbrev>) (utilizando as 
	      folhas de estilo do Norm Walsh).</para>
	  </callout>
	
	  <callout arearefs="examples-co-jade-1-catalog">
	    <para>Especifique os catálogos que o 
	      <application>Jade</application> terá que 
	      processar.  Três catálogos são 
	      requeridos.  O primeiro é o catálogo 
	      que contém as informações sobre 
	      as folhas de estilo DSSSL.  O segundo contém 
	      informações sobre o DTD DockBook.  E 
	      o terceiro contém informações 
	      específicas para o 
	      <application>Jade</application>.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-1-dsssl">
	    <para>Especifique o caminho completo das folhas de estilo
	      DSSSL as quais o <application>Jade</application> 
	      irá utilizar quando estiver processando o 
	      documento.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-1-transform">
	    <para>Instrua o <application>Jade</application> para 
	      realizar uma <emphasis>transformação
	      </emphasis> de uma DTD para outra.  Neste caso, a 
	      entrada será transformada de um DTD DocBook 
	      para um DTD HTML.</para> </callout>

	  <callout arearefs="examples-co-jade-1-filename">
	    <para>Especifique o arquivo que o 
	      <application>Jade</application> deve processar, e 
	      redirecione a saída para o arquivo 
	      <filename>.html</filename> desejado.</para>
	  </callout>
	</calloutlist>
      </example>

      <example>
	<title>Convertendo de DocBook para HTML (vários 
	  arquivos pequenos)</title>
	
	<screen>&prompt.user; <userinput>jade \
    -c /usr/local/share/xml/docbook/dsssl/modular/catalog \ <co xml:id="examples-co-jade-2-catalog"/>
    -c /usr/local/share/xml/docbook/catalog \
    -c /usr/local/share/xml/jade/catalog \
    -d /usr/local/share/xml/docbook/dsssl/modular/html/docbook.dsl \<co xml:id="examples-co-jade-2-dsssl"/>
    -t sgml <co xml:id="examples-co-jade-2-transform"/> file.xml <co xml:id="examples-co-jade-2-filename"/></userinput></screen>

	<calloutlist>
	  <callout arearefs="examples-co-jade-2-catalog">
	    <para>Especifique os catálogos os quais o 
	      <application>Jade</application> terá que 
	      processar.  Três catálogos são 
	      requeridos.  O primeiro é o catálogo 
	      o qual contém as informações 
	      sobre as folhas de estilo DSSSL.  O segundo 
	      contém informações sobre o DTD 
	      DocBook.  O terceiro contém 
	      informações específicas para 
	      o <application>Jade</application>.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-2-dsssl">
	    <para>Especifique o caminho completo da folha de estilo
	      DSSSL a qual o <application>Jade</application> 
	      irá utilizar quando estiver processando o 
	      documento.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-2-transform">
	    <para>Instrua o <application>Jade</application> para 
	      realizar a <emphasis>transformação
	      </emphasis> de uma DTD para outra.  Neste caso, a
	      entrada será transformada de um DTD DocBook 
	      para um DTD HTML.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-2-filename">
	    <para>Especifique o arquivo que o 
	      <application>Jade</application> deve processar.  A
	      folha de estilo determina como os arquivos HTML
	      individuais serão nomeados, inclusive o nome 
	      do arquivo <quote>raiz</quote> (é o arquivo 
	      que contém o inicio do documento).</para>
	  </callout>
	</calloutlist>

	<para>Este exemplo pode continuar gerando apenas um 
	  único arquivo HTML, dependerá da estrutura 
	  do documento que você estiver processando e das 
	  regras da folha de estilo selecionada, para divisão 
	  do output.</para>
	
      </example>

      <example xml:id="examples-docbook-postscript">
	<title>Convertendo de DocBook para Postscript</title>

	<para>O arquivo fonte SGML precisa ser convertido para um
	  arquivo &tex;.</para>

	<screen>&prompt.user; <userinput>jade -V tex-backend \ <co xml:id="examples-co-jade-3-tex-backend"/>
    -c /usr/local/share/xml/docbook/dsssl/modular/catalog \ <co xml:id="examples-co-jade-3-catalog"/>
    -c /usr/local/share/xml/docbook/catalog \
    -c /usr/local/share/xml/jade/catalog \
    -d /usr/local/share/xml/docbook/dsssl/modular/print/docbook.dsl \<co xml:id="examples-co-jade-3-dsssl"/>
    -t tex <co xml:id="examples-co-jade-3-tex"/> file.xml</userinput></screen>

	<calloutlist>
	  <callout arearefs="examples-co-jade-3-tex-backend">
	    <para>Customize as folhas de estilo para utilizar as
	      várias opções existentes, 
	      específicas para a produção
	      de saídas &tex;.</para>
	  </callout>
	
	  <callout arearefs="examples-co-jade-3-catalog">
	    <para>Especifique os catálogos os quais o 
	      <application>Jade</application> terá que
	      processar.  Três catálogos são 
	      requeridos.  O primeiro é o catálogo o 
	      qual contém as informações sobre 
	      as folhas de estilo DSSSL.  O segundo contém 
	      informações sobre o DTD DocBook.  O 
	      terceiro contém informações 
	      específicas para o Jade.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-3-dsssl">
	    <para>Especifique o caminho completo da folha de estilo
	      DSSSL a qual o <application>Jade</application> 
	      irá utilizar quando estiver processando o 
	      documento.</para>
	  </callout>

	  <callout arearefs="examples-co-jade-3-tex">
	    <para>Instrua o <application>Jade</application> para 
	      converter o output para &tex;.</para>
	  </callout>
	</calloutlist>

	<para>O arquivo <filename>.tex</filename> gerado, deve ser
	  agora processado pelo <command>tex</command>, especificando
	  o pacote de macros <literal>&amp;jadetex</literal>.</para>
	
	<screen>&prompt.user; <userinput>tex "&amp;jadetex" file.tex</userinput></screen>

	<para>Você tem que executar o <command>tex</command>
	  <emphasis>pelo menos</emphasis> três vezes.  A 
	  primeira execução irá processar o 
	  documento, e determinar as áreas do documento que 
	  são referenciadas a partir de outras partes do
	  documento, para uso na indexação, etc.</para>
	
	<para>Não fique alarmado se você visualizar 
	  mensagens de alertas tais como <errorname>LaTeX Warning: 
	  Reference `136' on page 5 undefined on input 
	  line 728.</errorname> neste momento.</para>
	
	<para>A segunda execução reprocessa o documento
	  agora que certas peças de informação 
	  são conhecidas (tais como o número de 
	  páginas do documento).  Isto permite indexar as
	  entradas e estabelecer as outras referências
	  cruzadas.</para>
	
	<para>A terceira execução irá realizar 
	  a limpeza final necessária no arquivo</para>
	
	<para>O output deste estágio será um
	  <filename>arquivo.dvi</filename>.
	  </para>
	
	<para>Finalmente, execute o <command>dvips</command> para 
	  converter o arquivo <filename>.dvi</filename> para o 
	  formato Postscript.</para>

	<screen>&prompt.user; <userinput>dvips -o file.ps file.dvi</userinput></screen>
      </example>

      <example>
	<title>Convertendo de DocBook para PDF</title>

	<para>A primeira parte deste processo é idêntica ao 
	  realizado quando se converte de DocBook para Postscript, 
	  utilizando a mesma linha de comando para o 
	  <command>jade</command> 
	  (<xref linkend="examples-docbook-postscript"/>).</para>

	<para>Quando o arquivo <filename>.tex</filename> já 
	  tiver sido gerado, você deve executar o 
	  <application>pdfTeX</application> utilizando o pacote de
	  macros <literal>&amp;pdfjadetex</literal>.</para>

	<screen>&prompt.user; <userinput>pdftex "&amp;pdfjadetex" file.tex</userinput></screen>

	<para>De novo, execute este comando três vezes.</para>

	<para>Ele irá gerar um <filename>arquivo
	  .pdf</filename>, o qual não necessita 
	  de nenhum processamento adicional.</para>
      </example>
    </sect2>
  </sect1>
</appendix>
